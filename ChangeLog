----------------------------------------------------------------
2003-07-09  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/user_main.c, dlls/user/winproc.h, windows/winproc.c:
	Store window procedures in a static array instead of creating a heap.
	Only allocate the winproc selector when actually needed.

	* programs/wcmd/wcmdmain.c:
	Avoid hard-coded command line length limit in WCMD_process_command.

	* dlls/wininet/http.c, dlls/wininet/internet.c:
	Fixed a couple of buffer overflows.

	* include/winbase.h: Dmitry Timoshkov <dmitry@baikal.ru>
	Use inline versions of APIs only internally in Wine.

	* programs/winedbg/hash.c: Catalin Patulea <catalins@vv.carleton.ca>
	Only display filenames when showing addresses.

	* programs/wcmd/wcmdmain.c: Greg Marsden <GMarsden@WESCAM.com>
	Allow command lines with pipes to be processed by wcmd.

	* win32/except.c: Juraj Hercek <juraj@syncad.com>
	Modified unhandled exception message to contain also thread
	identifier.

	* tools/wrc/parser.y: Juraj Hercek <juraj@syncad.com>
	Adjusted grammar to accept also help-ids for dialogex controls.

	* dlls/iphlpapi/ifenum.c: Robert Lunnon <bob@yarrabee.net.au>
	Fixed some compile problems under Solaris.

	* scheduler/thread.c:
	Use NtQueryInformationThread to implement GetExitCodeThread.

	* dlls/user/controls.h, dlls/user/dialog16.c, dlls/user/user_main.c,
	  windows/dialog.c:
	Only compute dialog base units once we need them.

	* documentation/architecture.sgml, documentation/bugs.sgml,
	  documentation/configuring.sgml, documentation/consoles.sgml,
	  documentation/cvs-regression.sgml, documentation/cvs.sgml,
	  documentation/debugger.sgml, documentation/dlls.sgml,
	  documentation/documentation.sgml, documentation/getting.sgml,
	  documentation/i18n.sgml, documentation/implementation.sgml,
	  documentation/multimedia.sgml, documentation/ole.sgml,
	  documentation/opengl.sgml, documentation/patches.sgml,
	  documentation/porting.sgml, documentation/printing.sgml,
	  documentation/running.sgml, documentation/testing.sgml,
	  documentation/tools.sgml, documentation/winelib-bindlls.sgml,
	  documentation/winelib-intro.sgml, documentation/winelib-porting.sgml,
	  documentation/winelib-toolkit.sgml:
	Tom Wickline <twickline@skybest.com>
	Spelling and URL fixes.

	* dlls/ole32/Makefile.in, dlls/ole32/compobj.c, dlls/ole32/ole16.c,
	  dlls/ole32/ole2.c, dlls/ole32/ole2_16.c:
	Steven Edwards <steven_ed4153@yahoo.com>
	- Create new file ole2_16.c for ole2 16bit only functions.
	- Move CLSIDFromProgID16 so it can be used internally.
	- Compile out more Win16 sources.

	* dlls/kernel/locale.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Add charset information as used by FreeBSD.

	* dlls/ntdll/ntdll.spec: Dmitry Timoshkov <dmitry@baikal.ru>
	Fix spec entry for ZwSetTimerResolution.

	* dlls/kernel/locale.c, dlls/x11drv/clipboard.c,
	  dlls/x11drv/keyboard.c, dlls/x11drv/window.c,
	  documentation/configuring.sgml, documentation/samples/config,
	  include/winnls.h, memory/codepage.c, programs/winecfg/properties.h,
	  programs/winecfg/winecfg.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added support for CP_UNIXCP.

	* dlls/oleaut32/dispatch.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	- AddRef type info stored in StdDispatch.
	- Don't use outer unknown in StdDispatch.

	* graphics/x11drv/xfont.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Do not crash when trying to load bad fonts.

	* dlls/kernel/thread.c, dlls/ntdll/nt.c, dlls/ntdll/ntdll.spec,
	  dlls/ntdll/thread.c, include/wine/server_protocol.h,
	  include/winternl.h, server/protocol.def, server/thread.c,
	  server/trace.c:
	Implemented the ThreadBasicInformation case for
	NtQueryInformationThread.

	* dlls/avifil32/api.c, dlls/comctl32/listview.c, dlls/dmusic/helper.c,
	  dlls/dplayx/dplay.c, dlls/dsound/sound3d.c,
	  dlls/msvideo/msrle32/msrle32.c, dlls/ole32/storage32.c,
	  dlls/oleaut32/safearray.c, dlls/oleaut32/typelib16.c,
	  dlls/oleaut32/variant.c, dlls/shell32/tests/shlfileop.c,
	  documentation/configuring.sgml, include/ddraw.h:
	Francois Gouget <fgouget@free.fr>
	Spelling fixes.

	* documentation/authors.ent, documentation/build.sgml,
	  documentation/wine-devel.sgml:
	Shachar Shemesh <wine-patches@shemesh.biz>
	The begining of a "building wine" documentation. More detailed
	explanation of the "soft" vs. "hard" dependencies.

	* dlls/ntdll/env.c, programs/wcmd/wcmdmain.c,
	  programs/winevdm/winevdm.c:
	Mike McCormack <mike@codeweavers.com>
	Null parameters need to be quoted on the commandline.

	* dlls/comctl32/propsheet.c: Mike McCormack <mike@codeweavers.com>
	Preserve A/W when creating propsheet dialogs.

2003-07-08  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/process.c, dlls/ntdll/ntdll.spec, dlls/ntdll/virtual.c,
	  include/winternl.h:
	Implemented NtRead/WriteVirtualMemory.

	* dlls/user/comm16.c, dlls/user/user_main.c:
	Lookup COM/LPT devices in the registry when they are used, instead of
	loading everything at startup.

	* dlls/winedos/dosvm.c, dlls/winedos/himem.c, dlls/winedos/int31.c,
	  dlls/winedos/int33.c, dlls/winedos/vga.c:
	Jukka Heinonen <jhei@iki.fi>
	Real mode context should always have V86 flag turned on.
	Entering protected mode uses simpler and more robust virtual interrupt
	flag check.
	Mouse events are now received in graphics modes.
	Improved tracing output of int33 handler.

	* dlls/netapi32/netapi32.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Removed a no longer used header.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/dsurface/dib.c,
	  dlls/ddraw/dsurface/main.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- fix FPS computation
	- some TRACEing fixes
	- optimize BltFast locking rectangles

	* documentation/samples/win.ini: Tom Wickline <twickline@skybest.com>
	6 new mci extensions.

	* dlls/shell32/shell32_main.c: Rein Klazes <rklazes@xs4all.nl>
	Fixed a typo in the previous SHGetFileInfo() patch.

	* dlls/opengl32/make_opengl, dlls/opengl32/opengl32.spec,
	  dlls/opengl32/opengl_ext.c, dlls/opengl32/opengl_norm.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Only put 'pure' GL 1.2 calls in the 'opengl_norm.c' file.

	* graphics/x11drv/xfont.c: Ove Kaaven <ovek@transgaming.com>
	Fixed a memory allocation/corruption bug when growing the font cache.

	* include/d3d8.h, include/d3d9types.h:
	Raphael Junqueira <fenix@club-internet.fr>
	Some fixes on d3d8 and d3d9 headers.

	* dlls/x11drv/clipboard.c, dlls/x11drv/event.c, dlls/x11drv/x11drv.h:
	Ulrich Czekalla <ulrich@codeweavers.com>
	Fixed handling of synthesized data.
	Don't report errors when there is no selection owner.
	Reintegrate the COMPOUND_TEXT patch by Kusanagi Kouichi.

	* dlls/d3d8/surface.c, dlls/d3d8/volume.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- some cosmetic fixes
	- fix a bug on IDirect3DVolume8Impl_AddDirtyBox

2003-07-03  Alexandre Julliard  <julliard@winehq.com>

	* if1632/builtin.c, include/module.h, include/wine/library.h,
	  libs/wine/loader.c, relay32/builtin32.c, scheduler/process.c:
	Added a file_exists argument to wine_dll_load to allow checking
	whether a failed dll load is because the file didn't exist; more
	robust than trying to guess the contents of the error string...
	Get rid of BUILTIN32_dlopen.

	* server/hook.c, server/queue.c, server/thread.c, server/thread.h,
	  server/user.h:
	Store the hook table in the thread queue instead of the thread
	structure, and make sure the queue is allocated when setting a hook.

	* dlls/ntdll/sysdeps.c, files/smb.h:
	Fixed compile when functions are not inlined.

	* server/fd.c: One more workaround for a missing NFS lock daemon.

	* dlls/shell32/shell32_main.c: Stephan BEUZE <fbiggun@hotmail.com>
	- Fixed iIndex use in SHGetFileInfoA (as of MSDN, iIndex is copied in
	  the iIcon field of psfi)
	- Removed DLL_THREAD_ATTACH and DLL_THREAD_DETACH cases.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/drawprim.c,
	  dlls/d3d8/surface.c, dlls/d3d8/utils.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Implement UpdateTexture for 2D textures only.
	Handle alphaop disabled but color op not-disable in a more appropriate
	way (Docs say this is an illegal state and then proceed to use it).
	Trace out textures as they are created.
	Update the comments around the debug code and complete the debugging
	set so textures which are used in the game can also be viewed.

	* dlls/quartz/filtergraph.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	- Improve QueryInterface FIXME message.
	- Add stubs for IMediaFilter interface in IGraphBuilder.
	- Implement some simple methods.

	* dlls/kernel/locale.c, dlls/kernel/tests/locale.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Exit ealier from LCMapStringA in the case of LCMAP_SORTKEY.
	Don't rely on computing string length by MultiByteToWideChar in
	CompareStringA, do it manually.

	* dlls/winmm/winejack/jack.c: Marcus Meissner <meissner@suse.de>
	Use standard debugging macros for jack.
	JACK_SONAME -> SONAME_LIBJACK so we do not need the devel symlink
	there.

	* dlls/winedos/int31.c: Marcus Meissner <meissner@suse.de>
	DPMI exceptions only happen on i386.

2003-07-02  Alexandre Julliard  <julliard@winehq.com>

	* controls/combo.c, dlls/cabinet/fdi.c, dlls/dsound/sound3d.c,
	  dlls/kernel/format_msg.c, dlls/ntdll/time.c, dlls/ole32/datacache.c,
	  dlls/ole32/moniker.c, dlls/ole32/ole2.c, dlls/quartz/filtermapper.c,
	  dlls/shlwapi/path.c, dlls/twain/twain.h, dlls/user/lstr.c,
	  dlls/wininet/internet.c, dlls/winmm/wineoss/midi.c,
	  documentation/multimedia.sgml, graphics/x11drv/opengl.c,
	  objects/palette.c, programs/regsvr32/regsvr32.c:
	Francois Gouget <fgouget@free.fr>
	Fixed some common spelling errors.

	* loader/task.c:
	Avoid accessing uninitialized variable in TASK_Create (spotted by
	Robert Shearman).

	* dlls/imm32/imm.c, programs/winemenubuilder/winemenubuilder.c:
	Francois Gouget <fgouget@free.fr>
	Remove some unnecessary casts when assigning NULL to handles.

	* dlls/dmusic/dmusic_performance.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Make Init and InitAudio return an error when no audio driver is
	available.
	Fix crash in InitAudio when releasing the dsound object.

	* libs/port/interlocked.c: Marcus Meissner <meissner@suse.de>
	Added isync to the interlocked functions.

	* include/winbase.h: Marcus Meissner <meissner@suse.de>
	PowerPC inline versions of the interlocked functions.

	* dlls/msacm/driver.c, dlls/msacm/internal.c, dlls/msacm/stream.c,
	  dlls/msacm/wineacm.h, dlls/msvideo/msvideo_main.c, dlls/winmm/mmio.c,
	  dlls/winmm/mmsystem.c, dlls/winmm/winmm.c, include/mmsystem.h:
	Eric Pouech <pouech-eric@wanadoo.fr>
	- renamed winmm.OpenDriverW into winmm.OpenDriver
	- replaced all inter-DLL calls (msacm and msvideo) to OpenDriverA with
	  OpenDriver (unicode form)
	- as a consequence, driver name handling in msacm is now mostly
	  unicode
	- moved UserYield16 and UnMapLS call out of the 32bit part of winmm

	* dlls/msvideo/msrle32/msrle32.c:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	Fixed 2 typos in my last patch.

	* dlls/avifil32/api.c, dlls/avifil32/avifile.c, include/vfw.h:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	- Fixed memory leak in AVISaveOptions.
	- Implemented AVISaveVW method.
	- Semi-stub implementation for CreateEditableStream method.
	- Added support for creation of interleaved AVI files.
	- Fixed creation of index table in AVI files.
	- Added declaration for IAVIStreaming interface.
	- Added some more macros.
	- Fixed some minor bugs.

	* dlls/d3d8/texture.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Ensure MIPMAP levels is reset when rebinding an existing texture to a
	texture unit.

	* dlls/d3d8/basetexture.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Add GetLevelCount to the basetexture class.

	* dlls/shell32/brsfolder.c: Eric Pouech <pouech-eric@wanadoo.fr>
	Only release object if we actually got it.

	* dlls/d3d8/drawprim.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Ensure pixel coordinates point to the bottom left of the pixel not the
	middle.

	* objects/text.c: Shachar Shemesh <wine-patch@shemesh.biz>
	Don't call the reordering function if the string length is 0. This
	eliminates a noisy FIXME about ICU returning an incorrect error code.

	* dlls/quartz/filtermapper.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Fix compilation due to nameless structs and unions.

2003-07-01  Alexandre Julliard  <julliard@winehq.com>

	* libs/wpp/preproc.c, libs/wpp/wpp.c, libs/wpp/wpp_private.h:
	Create a new list of defined symbols when parsing a file, to allow
	recursive parsing of multiple files.

	* dlls/dmusic/dmusic_misc.c, dlls/dmusic/dmusic_private.h,
	  include/axextend.idl, include/dmusicc.h, include/dsound.h,
	  include/strmif.h, include/uuids.h, libs/uuid/uuid.c:
	Add strmif.h to the headers included in libuuid.
	Fixed a few header conflicts.

	* dlls/devenum/.cvsignore, dlls/devenum/Makefile.in,
	  dlls/devenum/createdevenum.c, dlls/devenum/devenum.rc,
	  dlls/devenum/devenum.spec, dlls/devenum/devenum_main.c,
	  dlls/devenum/devenum_private.h, dlls/devenum/factory.c,
	  dlls/devenum/mediacatenum.c, dlls/devenum/parsedisplayname.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Implemented DevEnum dll.

	* dlls/quartz/Makefile.in, dlls/quartz/enummoniker.c,
	  dlls/quartz/filtergraph.c, dlls/quartz/filtermapper.c,
	  dlls/quartz/main.c, dlls/quartz/quartz_private.h:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Implemented IFilterMapper2.

	* include/oaidl.h, include/objidl.h, include/strmif.h,
	  include/unknwn.h, tools/widl/header.c:
	Add #ifdefs around forwards and interfaces like MIDL does.

	* dlls/ntdll/loader.c, include/module.h, include/winternl.h,
	  loader/pe_image.c, relay32/relay386.c, scheduler/process.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	- removed next & prev fields from WINE_MODREF and implement instead
	  the three linked lists in LDR_MODULE
	- added PEB_LDR_DATA structure to PEB
	- removed a couple of no longer needed global & static variables

	* dlls/ntdll/signal_i386.c, dlls/winedos/himem.c, dlls/winedos/int31.c,
	  dlls/winedos/interrupts.c, memory/instr.c:
	Jukka Heinonen <jhei@iki.fi>
	Start processing asynchronous DOS events in DPMI mode.

	* configure, configure.ac, dlls/Makefile.in, dlls/make_dlls:
	Added d3d9 dll.

	* dlls/d3d9/.cvsignore, dlls/d3d9/Makefile.in, dlls/d3d9/basetexture.c,
	  dlls/d3d9/cubetexture.c, dlls/d3d9/d3d9.spec, dlls/d3d9/d3d9_main.c,
	  dlls/d3d9/d3d9_private.h, dlls/d3d9/device.c, dlls/d3d9/directx.c,
	  dlls/d3d9/indexbuffer.c, dlls/d3d9/pixelshader.c, dlls/d3d9/query.c,
	  dlls/d3d9/resource.c, dlls/d3d9/stateblock.c, dlls/d3d9/surface.c,
	  dlls/d3d9/swapchain.c, dlls/d3d9/texture.c, dlls/d3d9/version.rc,
	  dlls/d3d9/vertexbuffer.c, dlls/d3d9/vertexdeclaration.c,
	  dlls/d3d9/vertexshader.c, dlls/d3d9/volume.c,
	  dlls/d3d9/volumetexture.c, dlls/d3d9/vshaderdeclaration.c,
	  include/d3d8.h, include/d3d9.h, include/d3d9types.h:
	Raphael Junqueira <fenix@club-internet.fr>
	- some cleanups and fixes on d3d8 and d3d9 headers
	- a lot of stubs for d3d9.dll

	* libs/uuid/Makefile.in, libs/uuid/dx9guid.c:
	Raphael Junqueira <fenix@club-internet.fr>
	Added d3d9 guids.

2003-06-30  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/tests/locale.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Add tests for NORM_IGNORENONSPACE and NORM_IGNORESYMBOLS in the
	LCMapString(LCMAP_SORTKEY) branch.

	* dlls/ntdll/file.c, dlls/ntdll/ntdll.spec, dlls/ntdll/ntdll_misc.h,
	  dlls/ntdll/signal_i386.c, dlls/ntdll/signal_powerpc.c,
	  dlls/ntdll/signal_sparc.c, dlls/ntdll/sync.c, include/winternl.h,
	  scheduler/synchro.c:
	Implemented NtDelayExecution and make Sleep call it.
	The handle count must not be 0 in NtWaitForMultipleObjects (spotted by
	Troy Rollo).

	* dlls/avifil32/factory.c, dlls/comctl32/commctrl.c,
	  dlls/crtdll/crtdll_main.c, dlls/d3d8/d3d8_main.c, dlls/ddraw/main.c,
	  dlls/dinput/dinput_main.c, dlls/dmusic/dmusic_main.c,
	  dlls/dplayx/dplayx_main.c, dlls/dpnhpast/main.c, dlls/gdi/gdi_main.c,
	  dlls/imagehlp/imagehlp_main.c, dlls/imm32/imm.c,
	  dlls/msacm/msacm32_main.c, dlls/msisys/Makefile.in,
	  dlls/msisys/msisys.c, dlls/msvideo/msrle32/msrle32.c,
	  dlls/netapi32/netapi32.c, dlls/odbc32/Makefile.in,
	  dlls/odbc32/proxyodbc.c, dlls/ole32/ole32_main.c,
	  dlls/opengl32/wgl.c, dlls/quartz/main.c, dlls/richedit/richedit.c,
	  dlls/rpcrt4/rpcrt4_main.c, dlls/serialui/confdlg.c,
	  dlls/shlwapi/shlwapi_main.c, dlls/snmpapi/Makefile.in,
	  dlls/snmpapi/main.c, dlls/ttydrv/ttydrv_main.c,
	  dlls/twain/twain32_main.c, dlls/urlmon/urlmon_main.c,
	  dlls/winaspi/winaspi32.c, dlls/winedos/dosvm.c, dlls/wineps/init.c,
	  dlls/winmm/mciavi/mciavi.c, dlls/winmm/winmm.c,
	  dlls/winsock/socket.c, dlls/winspool/wspool.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	For all DLLs with defined DllMain and which do not require
	DLL_THREAD_ATTACH/DLL_THREAD_DETACH notifications, call
	DisableThreadLibraryCalls() in order to slightly improve performance
	on thread creation/exiting.

	* dlls/dmusic/helper.c: Fixed warning.

	* dlls/quartz/filtergraph.c, include/Makefile.in, include/axcore.idl,
	  include/axextend.idl, include/devenum.idl, include/dyngraph.idl,
	  include/strmif.h, include/strmif.idl:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	- Added DShow headers.
	- Added needed const's in FilterGraph implementation.

	* dlls/avifil32/avifile_Pt.rc, dlls/avifil32/rsrc.rc,
	  dlls/comctl32/comctl_Pt.rc, dlls/comctl32/rsrc.rc,
	  dlls/commdlg/cdlg_Pt.rc, dlls/msvideo/msrle32/msrle_Pt.rc,
	  dlls/msvideo/msrle32/rsrc.rc, dlls/shell32/shell32_Pt.rc,
	  dlls/user/resources/user32_Pt.rc, dlls/wineps/rsrc.rc,
	  dlls/wineps/wps_Pt.rc, dlls/winmm/winmm_Pt.rc,
	  programs/winefile/Pt.rc:
	Marcelo Duarte <wine-devel@bol.com.br>
	- Localization to Portuguese of Brazil
	- Revision and addition of missing resources
	- Minor typo fix and codepage fix in programs/winefile resource.

	* documentation/README.pt_br: Marcelo Duarte <wine-devel@bol.com.br>
	Localization to Portuguese of Brazil of README file.

	* programs/winedbg/winedbg.c: Catalin Patulea <catalins@vv.carleton.ca>
	Fixed Unicode string output.

	* dlls/dmusic/dmusic_loader.c, dlls/dmusic/dmusic_performance.c,
	  dlls/dmusic/dmusic_private.h, dlls/dmusic/helper.c:
	Rok Mandeljc <rok.mandeljc@gimb.org>
	File loading improvements.

	* include/winnt.h, misc/cpu.c: Marcus Meissner <marcus@jet.franken.de>
	Added PF_PAE_ENABLED and PF_XMMI64_INSTRUCTIONS defines.
	Detect them and 3DNOW and XMMI_INSTRUCTIONS for Linux.

	* dlls/winmm/wineaudioio/Makefile.in:
	Robert Lunnon <bob@yarrabee.net.au>
	Added libuuid to wineaudioio makefile.

	* include/Makefile.in, include/dpaddr.h, include/dplay8.h:
	Raphael Junqueira <fenix@club-internet.fr>
	Added DirectPlay8 headers.

	* dlls/kernel/file.c, dlls/kernel/system.c, dlls/user/comm16.c,
	  dlls/winedos/vga.c:
	Replace calls to WaitForMultipleObjects with a 0 count by calls to
	SleepEx.

	* dlls/commdlg/printdlg.c: Get/SetPropW needs a Unicode string.

	* dlls/msvideo/msrle32/msrle32.c:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	- Fixed interframe compression - now works for RLE4 and RLE8.
	- Fixed alignment of RLE4 in absolute mode.
	- Improved compression (smaller output).

	* DEVELOPERS-HINTS: Tom Wickline <twickline@skybest.com>
	- added 2 dlls
	- added link to apilist
	- removed suggestion to look at Byte from 20 years ago

	* misc/cpu.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed CPU detection for FreeBSD and P4.

	* dlls/msvideo/msvfw32.spec, dlls/msvideo/msvideo_main.c,
	  dlls/msvideo/msvideo_private.h:
	Christian Costa <titan.costa@wanadoo.fr>
	Added support for video compressor/decompressor dynamic installation.

	* dlls/avifil32/api.c, dlls/avifil32/avifil32.spec:
	Christian Costa <titan.costa@wanadoo.fr>
	Added some stubs.

	* dlls/winedos/dosexe.h, dlls/winedos/interrupts.c,
	  dlls/winedos/module.c, dlls/winedos/timer.c:
	Jukka Heinonen <jhei@iki.fi>
	Make timer IRQ handler regular builtin interrupt handler instead of
	using an assembler stub.

2003-06-27  Alexandre Julliard  <julliard@winehq.com>

	* dlls/imagehlp/access.c, include/imagehlp.h:
	Removed Wine-specific definition from exported header (spotted by
	Steven Edwards).

	* dlls/dsound/buffer.c, dlls/dsound/dsound_main.c,
	  dlls/dsound/dsound_private.h, dlls/dsound/mixer.c,
	  dlls/dsound/primary.c, dlls/dsound/sound3d.c,
	  dlls/dsound/tests/dsound.c:
	Robert Reif <reif@earthlink.net>
	3D buffer and listener reference counts should be fixed.
	3D sound now plays in 3D.
	COM interfaces should be correct for buffers and 3D stuff. The COM
	interface is broken on notifications but I will fix that next.
	Fixed the bug when closing and opening the same or another sound
	device quickly.
	Fixed some locking but there is a lot of work left yet.

	* dlls/commdlg/printdlg.c: Mike Hearn <m.hearn@signal.qinetiq.com>
	Store PrintStructures in a window property instead of extra window
	bytes.

	* dlls/d3d8/d3d8_main.c, dlls/d3d8/d3d8_private.h,
	  dlls/d3d8/d3dcore_gl.h, dlls/d3d8/drawprim.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- currently always use sloaw path as fast path have some problems
	- fix APIENTRY mismatched value used by gl func pointers (in
	  d3dcore_gl.h)

	* dlls/gdi/Makefile.in, dlls/gdi/bidi.c, include/gdi.h, objects/font.c,
	  objects/text.c:
	Shachar Shemesh <wine-patches@shemesh.biz>
	Implementation of the reordering algorithm by calling ICU's reordering
	functions.

	* dlls/dmusic/dmusic.c, dlls/dmusic/dmusic_loader.c,
	  dlls/dmusic/dmusic_main.c, dlls/dmusic/dmusic_misc.c,
	  dlls/dmusic/dmusic_performance.c, dlls/dmusic/dmusic_plugins.c,
	  dlls/dmusic/dmusic_private.h, dlls/dmusic/dmusic_segment.c,
	  dlls/dmusic/dmusic_style.c, dlls/dmusic/dmusic_synth.c,
	  dlls/dmusic/helper.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- huge COM cleanup: only keep dmusic8 version of interfaces when they
	  inherit from dmusic1 and dmusic2 version. And always use dmusic8
	  versions when available.
	- really stupid implementation of IDirectMusicLoader8::GetObject when
	  IDirectMusicScript wanted
	- really fix the refcount problem found by Rok

	* dlls/winedos/dosvm.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Enable all of DllMain(), even if if not MZ_SUPPORTED.

	* files/profile.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	Added line wrapping for a FIXME.

	* dlls/winedos/int31.c: Sylvain Petreolle <spetreolle@yahoo.fr>
	Display the interrupt number in hexadecimal.

	* dlls/oleaut32/typelib.c: Robert Shearman <R.J.Shearman@warwick.ac.uk>
	- Silence the FIXME about constructor/destructor since it is wrong for
	  99.9% of cases (if MS will ever use the feature at all)
	- Added stubs for ITypeComp interface in ITypeLib
	- Implementation of ITypeComp in ITypeInfo

	* configure, configure.ac, dlls/kernel/Makefile.in,
	  dlls/kernel/locale.c, dlls/kernel/tests/locale.c,
	  dlls/ntdll/debugtools.c, include/wine/unicode.h, include/winnls.h,
	  libs/unicode/Makefile.in, libs/unicode/mbtowc.c,
	  libs/unicode/sortkey.c, libs/unicode/utf8.c, libs/unicode/wctomb.c,
	  libs/unicode/wine_unicode.def:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Implement LCMapString using unicode collation tables.
	Move CompareString and LCMapString to dlls/kernel/locale.c.

	* dlls/kernel/Makefile.in, dlls/kernel/process.c,
	  dlls/ntdll/Makefile.in, dlls/ntdll/sysdeps.c, include/thread.h,
	  scheduler/fiber.c, scheduler/process.c, scheduler/sysdeps.c,
	  scheduler/thread.c:
	Moved some of the process functions to dlls/kernel.
	Removed kernel dependencies from sysdeps.c and moved it to dlls/ntdll.

	* dlls/ntdll/loader.c:
	Make sure to return an error if load_dll fails because the load order
	is empty.

	* dlls/ntdll/loader.c: Troy Rollo <wine@troy.rollo.name>
	Removed FIXME when loading second exe file.

	* libs/unicode/collation.c, libs/unicode/cpmap.pl:
	Added generation of table of collation keys (based on a patch by
	Dmitry Timoshkov).

	* dlls/wininet/netconnection.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add inclusion of <sys/time.h> needed for struct timeval declaration.
	Protect some optional headers from inclusion.

	* dlls/ole32/ole2.c, dlls/ole32/ole32.spec:
	Troy Rollo <wine@troy.rollo.name>
	Implemented OleDraw.

2003-06-26  Alexandre Julliard  <julliard@winehq.com>

	* libs/unicode/c_037.c, libs/unicode/c_042.c, libs/unicode/c_10000.c,
	  libs/unicode/c_10006.c, libs/unicode/c_10007.c,
	  libs/unicode/c_10029.c, libs/unicode/c_1006.c,
	  libs/unicode/c_10079.c, libs/unicode/c_10081.c,
	  libs/unicode/c_1026.c, libs/unicode/c_1250.c, libs/unicode/c_1251.c,
	  libs/unicode/c_1252.c, libs/unicode/c_1253.c, libs/unicode/c_1254.c,
	  libs/unicode/c_1255.c, libs/unicode/c_1256.c, libs/unicode/c_1257.c,
	  libs/unicode/c_1258.c, libs/unicode/c_20866.c,
	  libs/unicode/c_20932.c, libs/unicode/c_28591.c,
	  libs/unicode/c_28592.c, libs/unicode/c_28593.c,
	  libs/unicode/c_28594.c, libs/unicode/c_28595.c,
	  libs/unicode/c_28596.c, libs/unicode/c_28597.c,
	  libs/unicode/c_28598.c, libs/unicode/c_28599.c,
	  libs/unicode/c_28600.c, libs/unicode/c_28603.c,
	  libs/unicode/c_28604.c, libs/unicode/c_28605.c,
	  libs/unicode/c_28606.c, libs/unicode/c_424.c, libs/unicode/c_437.c,
	  libs/unicode/c_500.c, libs/unicode/c_737.c, libs/unicode/c_775.c,
	  libs/unicode/c_850.c, libs/unicode/c_852.c, libs/unicode/c_855.c,
	  libs/unicode/c_856.c, libs/unicode/c_857.c, libs/unicode/c_860.c,
	  libs/unicode/c_861.c, libs/unicode/c_862.c, libs/unicode/c_863.c,
	  libs/unicode/c_864.c, libs/unicode/c_865.c, libs/unicode/c_866.c,
	  libs/unicode/c_869.c, libs/unicode/c_874.c, libs/unicode/c_875.c,
	  libs/unicode/c_878.c, libs/unicode/c_932.c, libs/unicode/c_936.c,
	  libs/unicode/c_949.c, libs/unicode/c_950.c, libs/unicode/casemap.c,
	  libs/unicode/wctype.c:
	Updated to the latest Unicode standard.

	* dlls/kernel/comm.c, dlls/kernel/file.c, dlls/ntdll/file.c,
	  dlls/ntdll/sync.c, dlls/winsock/socket.c, files/file.c, files/smb.c,
	  files/smb.h, include/async.h, include/winternl.h:
	Eric Pouech <pouech-eric@wanadoo.fr>
	- made async.h ready for use in ntdll: replaced all calls to kernel32
	  functions with ntdll equivalent
	- replaced status setter/getter for wine async structures with direct
	  access to a (now included) IO_STATUS_BLOCK structure
	- since we now have a IO_STATUS_BLOCK in async_private, we no longer
	  need in most of the user (derivated) structures a field for
	  LPOVERLAPPED (it's stored as the IO_STATUS_BLOCK)
	- rewrote the async.h users accordingly
	- implemented ntdll.Nt{Read|Write}File and let
	  kernel32.{Read|Write}File(Ex)? use those new ntdll functions
	- rewrote smb read/write interfaces to be more ntdll stylish (no
	  overlapped yet)

	* include/Makefile.in, include/dbghelp.h:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Added dbghelp.h header.

	* dlls/kernel/tests/process.c: Eric Pouech <pouech-eric@wanadoo.fr>
	Added a small test for process exit code retrieval.

	* dlls/commdlg/cdlg32.c: Steven Edwards <Steven_Ed4153@yahoo.com>
	Remove unneeded calls to LoadLibrary16 and FreeLibrary16.

2003-06-24  Alexandre Julliard  <julliard@winehq.com>

	* dlls/oleaut32/variant.c: Marcus Meissner <meissner@suse.de>
	VarAdd: Added VT_R8, VT_EMPTY, VT_NULL handling.

	* dlls/x11drv/winpos.c:
	Map top-level windows when WS_VISIBLE is set, but don't unmap them
	when it's cleared.

	* dlls/Makefile.in, dlls/make_dlls:
	Another make install dependency fix.

	* dlls/ntdll/cdrom.c, dlls/ntdll/file.c, dlls/ntdll/ntdll_misc.h,
	  include/file.h, win32/device.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	- started implementing ntdll.NtDeviceIoControlFile and made
	  kernel32.DeviceIoControl call it
	- changed cdrom ioctl function's prototype to stick to
	  ntdll.NtDeviceIoControlFile signature

	* include/d3d9.h, include/d3d9types.h:
	Raphael Junqueira <fenix@club-internet.fr>
	d3d9 headers are better when they build.

	* dlls/commdlg/filedlg.c, dlls/commdlg/filedlg.h,
	  dlls/commdlg/filedlg16.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	More splitting of the Win16/32 internal filedlgproc window procedures
	and dialog init.
	Make a few internal function static and share a few others.

	* files/smb.c, files/smb.h: Bill Medland <billmedland@mercuryspeed.com>
	A little SMB preparatory work:
	Don't publish internal information.
	Add a function for detecting UNC names.
	Account for the fact that NT allows either separator character.

	* dlls/oleaut32/olefont.c, dlls/oleaut32/tests/.cvsignore,
	  dlls/oleaut32/tests/Makefile.in, dlls/oleaut32/tests/olefont.c,
	  dlls/oleaut32/variant.c:
	Marcus Meissner <marcus@jet.franken.de>
	OleCreateFontIndirect(NULL,...) uses the OLE StdFont.
	Added testcase for OleCreateFontIndirect(NULL).
	Added VT_NULL -> VT_BOOL variant converter.

	* dlls/kernel/Makefile.in, dlls/kernel/resource.c, dlls/kernel/sync.c,
	  dlls/kernel/tape.c, dlls/kernel/thread.c, dlls/ntdll/Makefile.in,
	  files/tape.c, scheduler/critsection.c, scheduler/thread.c,
	  win32/kernel32.c:
	Moved tape.c to dlls/kernel.
	Moved critical section and resource update functions to dlls/kernel.
	Started moving some of the thread functions too.

	* dlls/gdi/mfdrv/init.c: Mike McCormack <mike@codeweavers.com>
	Handle CreateMetaFileW(NULL) correctly.

	* dlls/shell32/shv_item_cmenu.c: Aric Stewart <aric@codeweavers.com>
	ISvItemCm_fnInvokeCommand: added support for "delete" command.

	* dlls/kernel/Makefile.in, dlls/kernel/file.c, dlls/kernel/file16.c,
	  dlls/kernel/kernel_private.h, dlls/ntdll/file.c,
	  dlls/ntdll/ntdll.spec, files/file.c, include/wine/server_protocol.h,
	  include/winternl.h, misc/registry.c, server/file.c,
	  server/protocol.def, server/trace.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	- start moving a few file related functions from files/file.c to
	  dlls/kernel subdir (also splitting 16bit APIs in a separate file)
	- implemented ntdll.Nt{Lock|Unlock}File, and made use of those for the
	  kernel32 equivalent
	- implemented a few information classes in NtQueryInformationFile and
	  NtSetInformationFile (still lots of missing classes)
	- enhanced the get_file_info server request in order to implement
	  correctly NtQueryInformationFile (change time & file alloc size)
	- rewrote registry loading to comply with latest changes

	* dlls/dmusic/Makefile.in, dlls/dmusic/dmusic_loader.c,
	  dlls/dmusic/dmusic_performance.c, dlls/dmusic/dmusic_private.h,
	  dlls/dmusic/helper.c:
	Rok Mandeljc <rok.mandeljc@gimb.org>
	Added framework for file loading.

	* dlls/winedos/dosvm.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Expose part of DOSVM_SendQueuedEvents() also for platforms without
	MZ_SUPPORTED.

2003-06-23  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/user32.spec, dlls/user/user_main.c,
	  dlls/x11drv/clipboard.c, dlls/x11drv/event.c, dlls/x11drv/x11drv.h,
	  dlls/x11drv/x11drv.spec, dlls/x11drv/x11drv_main.c,
	  include/clipboard.h, include/user.h, include/wine/server_protocol.h,
	  server/Makefile.in, server/clipboard.c, server/protocol.def,
	  server/request.h, server/thread.c, server/trace.c, server/user.h,
	  windows/clipboard.c, windows/win.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	- use global atoms for the format ids
	- add timeout when calling XCheckTypedWindowEvent
	- fix broken IsClipboardFormatAvailable; it tried to do a trick with
	  EnumClipboardFormats by making incorrect assumptions
	- in X11DRV_IsClipboardFormatAvailable do a quick exit if no one owns
	  the selection
	- add 1 second *minimum* time lapse between XSelectionOwner calls
	- sync clipboard ownership between different wine processes
	- prevents apps from getting into wierd state where they thought they
	  didn't own the selection but they did and as a result queried
	  themselves for available selection data

	* dlls/wineps/init.c: Huw Davies <huw@codeweavers.com>
	Make sure we update dc->bitsPerPixel.

	* dlls/gdi/driver.c:
	Added special case for "display" in DRIVER_GetDriverName so that
	GetDC(NULL,"display") works.

	* dlls/gdi/freetype.c, include/gdi.h, objects/font.c, objects/text.c:
	Huw Davies <huw@codeweavers.com>
	Don't enable client side fonts unless we have at least one non-symbol
	font installed - this avoids a nasty Wingdings only scenario.
	Add the ability to perform font replacements, this essentially lets
	you give a second name to a font family so that familyA gets
	enumerated as familyB too.
	If we encounter two copies of the same font then use the one with the
	larger version number.

	Dmitry Timoshkov <dmitry@codeweavers.com>
	Move GetTextCharsetInfo implementation to the font driver.

	* windows/win.c: Aric Stewart <aric@codeweavers.com>
	Simple optimization in EnableWindow.

	* windows/painting.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Dump RDW_ flags in RedrawWindow.

	* dlls/x11drv/keyboard.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Along with AltGr state save also all possible modifier states.

	* dlls/wineps/download.c, dlls/wineps/escape.c, dlls/wineps/ps.c,
	  dlls/wineps/psdrv.h, dlls/wineps/type42.c:
	Huw Davies <huw@codeweavers.com>
	For PostScript versions < 2.015 we need to explicitly allocate space
	for the 'glyf' array.
	To conserve VM, we only allow up to two fonts to be downloaded before
	reclaiming their VM.

	* dlls/winspool/info.c: Huw Davies <huw@codeweavers.com>
	It seems cupsGetDefault returns the system default printer and ignores
	a user's override.  So use cupsGetDests instead which does respect the
	user's choice.
	Delete all automatically generated printer keys on startup before
	querying the cups server.

	* documentation/Makefile.in, programs/Makefile.in,
	  tools/winebuild/Makefile.in:
	Francois Gouget <fgouget@codeweavers.com>
	Make sure to return an error if the file generation fails.

	* dlls/winedos/int13.c: Francois Gouget <fgouget@codeweavers.com>
	O_RDONLY==0 but it's cleaner to pass it to DRIVE_OpenDevice() anyway.

	* dlls/shell32/changenotify.c, dlls/shell32/shell32.spec:
	Mike McCormack <mike@codeweavers.com>
	Change notification fixes.

	* dlls/gdi/driver.c, dlls/gdi/enhmfdrv/enhmetafiledrv.h,
	  dlls/gdi/enhmfdrv/init.c, dlls/gdi/enhmfdrv/mapping.c,
	  dlls/gdi/mfdrv/init.c, include/gdi.h, objects/dc.c:
	Mike McCormack <mike@codeweavers.com>
	Record SetWorldTransform and ModifyWorldTransform in enhanced
	metafiles.

	* dlls/Makefile.in, dlls/make_dlls:
	Added import libs dependency for make install.

	* programs/clock/En.rc, programs/clock/Pt.rc, programs/clock/rsrc.rc,
	  programs/cmdlgtst/En.rc, programs/cmdlgtst/Pt.rc,
	  programs/cmdlgtst/cmdlgr.rc, programs/notepad/En.rc,
	  programs/notepad/Pt.rc, programs/progman/Pt.rc,
	  programs/progman/rsrc.rc, programs/start/Pt.rc,
	  programs/start/rsrc.rc, programs/view/En.rc, programs/view/Pt.rc,
	  programs/view/viewrc.rc, programs/wcmd/En.rc, programs/wcmd/Pt.rc,
	  programs/wcmd/wcmdrc.rc, programs/winecfg/En.rc,
	  programs/winecfg/Pt.rc, programs/winecfg/winecfg.rc,
	  programs/wineconsole/wineconsole_Pt.rc,
	  programs/wineconsole/wineconsole_res.rc, programs/winefile/Pt.rc,
	  programs/winefile/rsrc.rc, programs/winemine/En.rc,
	  programs/winemine/Pt.rc, programs/winemine/rsrc.rc,
	  programs/winhelp/Pt.rc, programs/winhelp/rsrc.rc:
	Marcelo Duarte <wine-devel@bol.com.br>
	- localization to the Portuguese of Brazil of "programs/*"
	- separation of some resources that only existed in English
	- lesser adjustments in menus

	* dlls/kernel/console.c, dlls/kernel/kernel_main.c, dlls/ntdll/heap.c,
	  files/profile.c, files/smb.c, memory/heap.c, scheduler/pthread.c,
	  scheduler/syslevel.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	- in kernel32, replaced all {Enter|Leave}CriticalSection calls with
	  ntdll counterparts
	- {Enter|Leave}CriticalSection is now a pure forward from kernel32 to
	  ntdll (we now longer can use {Enter|Leave}CriticalSection in kernel32)
	- replaced a few kernel32 heap management calls from ntdll, with
	  RtlHeap* equivalents

	* dlls/cabinet/fdi.c: Gregory M. Turner <gmturner007@ameritech.net>
	- remove unused loop that always iterates once
	- remove warning
	- preparations to use multiple fdi_decomp_state structures in a linkedlist,
	  which will be used to implement split cabinets, if all goes according
	  to plan -- this is somewhat analogous to struct cabinet in cabextract.

	* dlls/avifil32/Makefile.in, dlls/avifil32/acmstream.c,
	  dlls/avifil32/api.c, dlls/avifil32/avifil32.spec,
	  dlls/avifil32/avifile.c, dlls/avifil32/avifile.spec,
	  dlls/avifil32/avifile_private.h, dlls/avifil32/extrachunk.c,
	  dlls/avifil32/getframe.c, dlls/avifil32/icmstream.c,
	  dlls/avifil32/tmpfile.c, dlls/avifil32/wavfile.c, include/vfw.h:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	- Fixed some signed/unsigned mismatches.
	- Fixed bugs in AVISaveOptions dialog handling.
	- Fixed bug in AVIFILE_LoadFile -- now check for more than
	  MAX_AVISTREAMS streams in file.
	- Implemented AVIMakeFileFromStreams and AVISaveVA method.
	- Added IAVIEditStream interface.
	- Implemented EditStream* methods.
	- Added stubs for AVISaveVW, CreateEditableStream.
	- Added stubs for clipboard handling.

	* configure, configure.ac, dlls/Makefile.in, dlls/oleacc/.cvsignore,
	  dlls/oleacc/Makefile.in, dlls/oleacc/main.c, dlls/oleacc/oleacc.spec:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Created an empty oleacc DLL.

	* dlls/kernel/console.c, include/wine/server_protocol.h,
	  programs/wineconsole/wineconsole.c, server/console.c,
	  server/console.h, server/protocol.def, server/trace.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	In console input record queue, replace semaphore with a manual reset
	event, so that we get correct behavior in synchronization handling.

	* dlls/winedos/dosexe.h, dlls/winedos/dosvm.c, dlls/winedos/int09.c,
	  dlls/winedos/relay.c:
	Jukka Heinonen <jhei@iki.fi>
	Add IRQ acknowledge handler for internal IRQs.
	Change DPMI asynchronous event handling.
	Always use alternate stack in DPMI relays and check for pending events
	after original stack has been restored.

	* include/commctrl.h: Kusanagi Kouichi <slash@ma.neweb.ne.jp>
	Added ListView_GetItemText macro.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/dsurface/dib.c,
	  dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- some TRACEing fixes
	- faster Blt to the framebuffer using texture engine

	* dlls/commdlg/cdlg_Ru.rc: Oleg Prokhorov <xolegpro@rbcmail.ru>
	Fixed Russian commdlg localization. Some resource elements didn't have
	proper size, and were partially visible.

	* dlls/msvideo/msvfw32.spec, dlls/msvideo/msvideo_main.c,
	  dlls/msvideo/msvideo_private.h, documentation/samples/system.ini:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	- added stubs for GetOpenFileNamePreview{A,W}
	- added stubs for GetSaveFileNamePreview{A,W}
	- removed invalid VIDC.MRLD line from system.ini

	* dlls/iphlpapi/iphlpapi_main.c, dlls/netapi32/tests/wksta.c,
	  dlls/netapi32/wksta.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Fixed a few bugs in network interface handling (code & test).

2003-06-21  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/console.c, dlls/kernel/editline.c,
	  dlls/kernel/kernel32.spec, dlls/kernel/kernel_private.h,
	  dlls/kernel/tests/console.c, files/file.c,
	  include/wine/server_protocol.h, programs/wineconsole/wineconsole.c,
	  scheduler/handle.c, scheduler/process.c, scheduler/synchro.c,
	  server/console.c, server/console.h, server/fd.c, server/process.c,
	  server/protocol.def, server/request.h, server/trace.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	- adapted kernel32 so that it no longer (directly) manages console
	  handles as wineserver handles
	- console input handle object is no longer waitable (input record
	  synchronisation is now implemented as a simple semaphore), and removed
	  FD_TYPE_CONSOLE from fd types in wineserver
	- console handles now always have their two lower bit set so one can
	  distinguish a console handle from a kernel object handle
	- implemented some undocumented kernel32 console related APIs
	  (CloseConsoleHandle, GetConsoleInputWaitHandle, OpenConsoleW,
	  VerifyConsoleIoHandle, DuplicateConsoleHandle)
	- allowed a few kernel32 APIs to take console pseudo-handles
	  (FlushFileBuffer, GetFileType, WaitFor*Object*)
	- simplified the console inheritance at process creation
	- in console tests, no longer create a console if one already exists

	* server/mapping.c:
	The server also needs to cope with IMAGE_SCN_CNT_UNINITIALIZED_DATA
	and IMAGE_SCN_CNT_INITIALIZED_DATA flags set together.

	* dlls/ntdll/virtual.c: Eric Pouech <pouech-eric@wanadoo.fr>
	Fixed section mapping in PE loading when both
	IMAGE_SCN_CNT_UNINITIALIZED_DATA and IMAGE_SCN_CNT_INITIALIZED_DATA
	are set.

	* dlls/shell32/shell32_main.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	SHGetFileInfo should tolerate null pointers.

2003-06-20  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/window.c: Kusanagi Kouichi <slash@ma.neweb.ne.jp>
	Store WM_NAME and WM_ICON_NAME in COMPOUND_TEXT format.

	* configure, configure.ac, dlls/wininet/Makefile.in,
	  dlls/wininet/cookie.c, dlls/wininet/http.c, dlls/wininet/internet.c,
	  dlls/wininet/internet.h, dlls/wininet/netconnection.c,
	  include/config.h.in:
	David Hammerton <david@transgaming.com>
	- implemented support for https protocol
	- fixes to the http protocol

	* configure, configure.ac, dlls/gdi/Makefile.in, include/config.h.in:
	Added checks for ICU libraries (based on a patch by Shachar Shemesh).

	* tools/makedep.c:
	Added support for #include in IDL files (based on a patch by Robert
	Shearman).

	* include/wtypes.h, include/wtypes.idl:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Added typedef for COLORREF.

	* dlls/opengl32/make_opengl, dlls/opengl32/opengl_ext.c,
	  dlls/opengl32/opengl_norm.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Do not use any typedefs in the GL thunks to prevent all possible
	compilation issues.

	* include/Makefile.in, include/d3d9.h, include/d3d9caps.h,
	  include/d3d9types.h:
	Raphael Junqueira <fenix@club-internet.fr>
	Added d3d9 headers.

	* dlls/winedos/dosvm.c, dlls/winedos/int31.c:
	Jukka Heinonen <jhei@iki.fi>
	Add int31 VIF manipulation functions.
	Fix asynchronous event locking.
	Make asynchronous event handling support DPMI.

	* documentation/debugger.sgml: Eric Pouech <pouech-eric@wanadoo.fr>
	Added a section about using kgdb and ddd to debug wine.

2003-06-18  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, VERSION, configure: Release 20030618.

----------------------------------------------------------------
2003-06-18  Alexandre Julliard  <julliard@winehq.com>

	* dlls/advapi32/registry.c, dlls/advapi32/service.c,
	  dlls/comcat/information.c, dlls/comcat/regsvr.c,
	  dlls/comctl32/comctl32undoc.c, dlls/comctl32/propsheet.c,
	  dlls/comctl32/tooltips.c, dlls/ddraw/ddraw/thunks.c,
	  dlls/kernel/sync.c, dlls/kernel/tests/format_msg.c,
	  dlls/ntdll/file.c, dlls/ole32/regsvr.c, dlls/ole32/storage32.c,
	  dlls/oleaut32/parsedt.c, dlls/serialui/confdlg.c,
	  dlls/setupapi/devinst.c, dlls/shell32/shelllink.c,
	  dlls/shell32/shellord.c, dlls/user/comm16.c, dlls/user/tests/class.c,
	  dlls/wininet/internet.c, dlls/winmm/lolvldrv.c,
	  dlls/winsock/socket.c, dlls/winspool/info.c, files/smb.c,
	  graphics/x11drv/xfont.c, programs/uninstaller/main.c,
	  programs/winemenubuilder/winemenubuilder.c, scheduler/client.c,
	  server/named_pipe.c, server/registry.c, server/request.c:
	Francois Gouget <fgouget@free.fr>
	'sizeof type' is best avoided as it won't always compile (e.g. 'int
	main() {return sizeof int;}'). Use 'sizeof(type)' instead.

	* LICENSE: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Include 2003 in the copyright years.

	* programs/notepad/License_En.c, programs/notepad/license.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	#include <windows.h> instead of "windows.h".

	* dlls/dsound/primary.c, dlls/dsound/sound3d.c:
	Robert Reif <reif@earthlink.net>
	Fixed a reference counting bug I introduced.

	* dlls/cabinet/cabextract.c, dlls/cabinet/fdi.c,
	  dlls/comctl32/toolbar.c, dlls/comctl32/updown.c,
	  dlls/commdlg/printdlg.c, dlls/dplayx/dplayx_global.c,
	  dlls/kernel/tests/path.c, dlls/kernel/tests/thread.c,
	  winedefault.reg, dlls/ntdll/time.c, dlls/ole32/antimoniker.c,
	  dlls/ole32/compobj.c, dlls/ole32/compositemoniker.c,
	  dlls/ole32/itemmoniker.c, dlls/oleaut32/safearray.c,
	  dlls/oleaut32/variant.c, dlls/shell32/shlexec.c,
	  dlls/shell32/shlfolder.c, dlls/shell32/shlview.c,
	  dlls/shlwapi/clist.c, dlls/shlwapi/path.c, dlls/shlwapi/thread.c,
	  dlls/winmm/wineoss/midi.c, documentation/HOWTO-winelib,
	  documentation/PACKAGING, documentation/debugger.sgml,
	  documentation/debugging.sgml, documentation/dlls.sgml,
	  documentation/patches.sgml, documentation/shell32,
	  documentation/status/directplay, libs/wpp/ppl.l, objects/font.c,
	  programs/notepad/main.c, programs/view/view.c,
	  programs/winecfg/main.c, programs/winecfg/winecfg.rc,
	  programs/winedbg/registers.c, tools/winedump/README,
	  tools/wrc/parser.y:
	Francois Gouget <fgouget@free.fr>
	Typos/spelling fixes.

	* dlls/kernel/tests/environ.c, dlls/kernel/tests/process.c,
	  dlls/ntdll/tests/env.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	- kernel32's environment tests: a few more tests now succeed
	- added some console related tests to process creation
	- added a few more test cases to the ntdll environment tests

	* dlls/kernel/kernel_main.c, dlls/ntdll/env.c, dlls/ntdll/ntdll_misc.h,
	  include/winternl.h, memory/environ.c, scheduler/process.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	- fixed a couple of bugs in ntdll environment functions (one in trace,
	  the other one in environment variable expansion)
	- the process parameters, when passed thru wineserver, are now fully
	  handled in ntdll, they are stored in the RTL_USER_PROCESS_PARAMETERS
	  structure.
	- later on in kernel32 loading sequence, those parameters are copied
	  into STARTUPINFO shadow structures
	- later modification to those paramters are now reflected to the
	  RTL_USER_PROCESS_PARAMETERS structure (and STARTUPINFO is kept
	  untouched) (for example, StdHandle setting) (Win 2k behaves like this)
	- ENVDB has been removed
	- command line inheritance (from unix command line) is now purely in ntdll
	- all kernel32 environment functions now rely on their ntdll counterparts
	- goodies: input/output handle inheritance while asking for a detached
	  console is better handled; a few more kernel32 environment tests now
	  pass ; silenced a valgrind warning in process creation

	* programs/winefile/En.rc, programs/winefile/Fr.rc,
	  programs/winefile/rsrc.rc:
	Sylvain Petreolle <spetreolle@yahoo.fr>
	Added French translation, finished English translation.

	* documentation/README.pt: Tom Wickline <twickline@skybest.com>
	Tranlation of English README to Portuguese.

	* dlls/dmusic/dmusic_loader.c, dlls/dmusic/dmusic_performance.c,
	  dlls/dmusic/dmusic_segment.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- add IDirectMusicContainer support in
	  IDirectMusicLoader8Impl::LoadObjectFromFile
	- don't use IDirectMusicSegment*Impl when IDirectMusicSegment*8Impl
	  can be used instead (avoid code duplication)

	* dlls/d3d8/cubetexture.c, dlls/d3d8/d3d8_private.h,
	  dlls/d3d8/device.c, dlls/d3d8/drawprim.c, dlls/d3d8/stateblock.c,
	  dlls/d3d8/surface.c, dlls/d3d8/texture.c, dlls/d3d8/utils.c,
	  dlls/d3d8/volumetexture.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- dsound and d3d works better when x11drv locks/unlocks are correct
	- more traces

2003-06-17  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/cpp.c, dlls/msvcrt/msvcrt.h, dlls/msvcrt/msvcrt.spec,
	  dlls/msvcrtd/msvcrtd.spec:
	Added an assembly wrapper to retrieve the this pointer from %ecx for
	_thiscall functions.
	Fixed some bugs, and added a few missing functions.

	* dlls/ole32/compobj.c, dlls/ole32/compobj_private.h, dlls/ole32/git.c,
	  dlls/ole32/oleproxy.c:
	Mike Hearn <mike@theoretic.com>
	Implement a class factory for the Global Interface Table.

	* dlls/cabinet/cabextract.c, dlls/cabinet/cabinet.h, dlls/cabinet/fdi.c:
	Gregory M. Turner <gmturner007@ameritech.net>
	- move macros and constants into cabinet.h where they can be shared
	  between cabextract.c and fdi.c
	- reminders to eliminate global variables (for multithread
	  compatibility)
	- remove struct fdi_cab: due to the nature of the FDI API, we cannot
	  preload all the cabinets; this appears to obviate the need for struct
	  fdi_cab
	- "oppress" (that is, do not process) partial files which were
	  continuations from another cabinet
	- more than one partial file can exist in a single cabinet (how!?) --
	  so move the partial file notification (and "oppression" that goes with
	  it) into the loop that iterates through files

2003-06-16  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dmusic/dmusic_loader.c, dlls/dmusic/dmusic_misc.c,
	  dlls/dmusic/dmusic_performance.c, dlls/dmusic/dmusic_private.h:
	Christian Costa <titan.costa@wanadoo.fr>
	Allocate necessary dsound buffers for standard audio paths and enable
	retrieval of their interfaces via GetObjectInPath.
	Fix and clean dsound and dmusics objects allocation when initializing
	the performance object.
	Some stubs improvements.

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	- rewrote the buffer to buffer fast path using Texture engine (much
	  faster on my NVIDIA hardware)
	- small optimizations

	* dlls/dinput/device.c, dlls/dinput/device_private.h,
	  dlls/dinput/dinput.spec, dlls/dinput/dinput_main.c,
	  dlls/dinput/dinput_private.h, dlls/dinput/joystick/linux.c,
	  dlls/dinput/joystick/linuxinput.c, dlls/dinput/keyboard/main.c,
	  dlls/dinput/mouse/main.c, include/dinput.h:
	Raphael Junqueira <fenix@club-internet.fr>
	- DInput WideChar classes support. This time all dinput versions have
	  widechar classes.
	- fix a stupid bug in callback handling caught by Lionel.
	- add some forgotten IID on class factory (better if we want to active
	  the code)
	- many cleanups on COM Macros (don't need A and W variants as they are
	  the same)

	* dlls/d3d8/surface.c: Raphael Junqueira <fenix@club-internet.fr>
	Fix AddDirtyRect uncorrect behavior (crash in some cases). Based on a
	patch from Roderick Colenbrander.

	* winedefault.reg: Sylvain Petreolle <spetreolle@yahoo.fr>
	Display icons of executables in the OpenFile dialog boxes.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/security.c,
	  dlls/ntdll/ntdll.spec, dlls/ntdll/sec.c, include/winnt.h,
	  include/winternl.h:
	<ma@technoprint.ch>
	Added AddAccessAllowdAceEx, AddAccessDeniedAceEx, GetAclInformation.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/dsurface/main.c,
	  dlls/ddraw/gl_api.h, dlls/ddraw/gl_private.h, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- fix some regressions
	- GetDC does not lock in ReadOnly mode as it leads to problems with
	  some D3D optimizations
	- added a fast Back => Front / Front => Back Blt fast path

	* dlls/setupapi/Makefile.in, dlls/setupapi/devinst.c,
	  dlls/setupapi/devinst16.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Split Win16/32 setupapi device installer support.

	* dlls/wininet/urlcache.c, dlls/wininet/wininet.spec:
	Mike Hearn <mike@theoretic.com>
	Stub out SetUrlCacheEntryInfoA/W.

	* dlls/comctl32/trackbar.c: Mike Hearn <mike@theoretic.com>
	- Unbreak vertical trackbars
	- Make it more closely resemble the native control
	- Add focus rectangle
	- Misc fixes and cleanups

	* dlls/shell32/control.c, dlls/shell32/shell32.spec:
	Mike Hearn <mike@theoretic.com>
	Add stubs for Control_FillCache_RunDLL ansi/unicode variants.

	* dlls/iphlpapi/ipstats.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Unbreak getTcpTable() on Linux-based systems and make it work on BSD
	and Solaris as well.

	* dlls/ntdll/critsection.c: Mike Hearn <mike@theoretic.com>
	Add the ID of the blocking thread to the error message.

	* dlls/avifil32/avifile_Si.rc, dlls/avifil32/rsrc.rc,
	  dlls/commdlg/cdlg_Si.rc, dlls/msvideo/msrle32/msrle_Si.rc,
	  dlls/msvideo/msrle32/rsrc.rc, dlls/user/resources/user32.rc,
	  dlls/user/resources/user32_Si.rc, dlls/wineps/rsrc.rc,
	  dlls/wineps/wps_Si.rc, dlls/winmm/winmm_Si.rc, programs/start/Si.rc,
	  programs/start/rsrc.rc, programs/winhelp/Si.rc:
	Rok Mandeljc <rok.mandeljc@gimb.org>
	Updated a bunch of translations for Slovenian language.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/path.c, include/winternl.h:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Implemented:
	- RtlDoesFileExists_U as a stub
	- RtlDosSearchPath_U

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/ddraw/main.c, dlls/ddraw/mesa.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- GL state change optimizations
	- some more preparations for GL-accelerated Blts
	- added debug code to compute FPS (nice when adding optimizations)

	* dlls/netapi32/Makefile.in, dlls/netapi32/netapi32.c,
	  dlls/netapi32/wksta.c, include/nb30.h:
	Juan Lang <juan_lang@yahoo.com>
	Use iphlpapi to enumerate LAN adapters.
	Add names to NetBIOS transports, and eliminates loopback adapters from
	enumerated LAN adapters.

	* include/strmif.h: Lionel Ulmer <lionel.ulmer@free.fr>
	Make the header in-line with current ICOM naming conventions.

	* dlls/x11drv/xvidmode.c: <mirq@ziemniak.ustronie.pw.edu.pl>
	Correct mode nr passed to X11DRV_XF86VM_SetCurrentMode.

	* winedefault.reg: Lionel Ulmer <lionel.ulmer@free.fr>
	Fix the FilterGraph CLSID declaration.

	* dlls/commdlg/Makefile.in, dlls/commdlg/filedlg.c,
	  dlls/commdlg/filedlg.h, dlls/commdlg/filedlg16.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Split Win16/32 file dialogs.

	* dlls/ntdll/signal_i386.c, include/thread.h:
	Jukka Heinonen <jhei@iki.fi>
	Remove SIGALRM handler.
	Reserve TEB field for DPMI virtual interrupt flag.

	* dlls/winedos/int21.c, msdos/int21.c: Jukka Heinonen <jhei@iki.fi>
	Migrate create/open file functions to winedos.
	Some fixes based on patch by Ferenc Wagner.

	* dlls/winedos/dosvm.c: Jukka Heinonen <jhei@iki.fi>
	Make DOSVM_Wait work in protected mode.
	Replace SHOULD_PEND macro with a function.

	* include/control.h: Lionel Ulmer <lionel.ulmer@free.fr>
	Make the header in-line with current ICOM naming conventions.

2003-06-14  Alexandre Julliard  <julliard@winehq.com>

	* programs/wineconsole/curses.c:
	Fixed WCCURSES_InitBackend prototype in the no curses case.

	* files/file.c, include/wine/server_protocol.h, server/named_pipe.c,
	  server/protocol.def, server/trace.c:
	Make it possible to retrieve an inheritable handle in open_named_pipe
	(spotted by Uwe Bonnes).

2003-06-13  Alexandre Julliard  <julliard@winehq.com>

	* Make.rules.in, dlls/Makedll.rules.in, dlls/Maketest.rules.in,
	  dlls/x11drv/Makefile.in, libs/Makelib.rules.in,
	  programs/Makeprog.rules.in, programs/avitools/Makefile.in,
	  server/Makefile.in:
	Proper support for CPPFLAGS and LDFLAGS (suggested by Todd Vierling).

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	- fixes the COLORFILL case for front-buffer
	- some preparations for GL-accelerated Blts
	- some small optimizations in the Clear code

	* dlls/winedos/int31.c: Sylvain Petreolle <spetreolle@yahoo.fr>
	Trace which real mode interrupt is emulated.

	* dlls/msvideo/msrle32/msrle32.c, dlls/msvideo/msrle32/msrle_private.h:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	- Fixed end flags while encoding -- only EOI instead of EOL and EOI.
	- Fixed 4-bit RLE encoding of keyframes.
	- Fixed signed/unsigned mismatches.
	- Added some missing const's.

	* dlls/cabinet/fdi.c: Gregory M. Turner <gmturner007@ameritech.net>
	- most of FDICopy is now implemented, although the actual decompression is not.
	- "can" -> "do"
	- a novella about a bug
	- fix some memory leaks

	* dlls/rasapi32/rasapi32.spec:
	Removed ordinals that differ between Windows versions.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/surface.c,
	  dlls/d3d8/utils.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Fix the texture operations to resolve glitches shown in UT2003 when
	get quad damage.
	checkGLcall must not supply a \n as that is supplied by its
	expansion.
	Performance fixes to save applying the same states 6 times and to
	reduce function calls when accessing front/back buffers.
	Make traces more readable by more constants -> english descriptions.

	* dlls/dmusic/dmusic_loader.c, dlls/dmusic/dmusic_main.c,
	  dlls/dmusic/dmusic_misc.c, dlls/dmusic/dmusic_performance.c,
	  dlls/dmusic/dmusic_private.h:
	Raphael Junqueira <fenix@club-internet.fr>
	- always use IDirectMusicPerformance8Impl instead of
	  IDirectMusicPerformanceImpl (as the first inherits from the second)
	- implement many Loader, AudioPath and Performance8 stubs - fix the
	  class factory
	- more debug traces
	- for now IDirectMusicLoader8::LoadObjectFromFile always returns not
	  supported format
	- fix the IDirectMusicPerformance8::Init (many crashes)
	- implementation of IDirectMusicPerformance8InitAudio

	* dlls/dinput/device.c, dlls/dinput/dinput_main.c,
	  dlls/dinput/dinput_private.h, dlls/dinput/joystick/linux.c,
	  dlls/dinput/joystick/linuxinput.c, dlls/dinput/keyboard/main.c,
	  dlls/dinput/mouse/main.c, include/dinput.h:
	Christian Costa <titan.costa@wanadoo.fr>
	Make dinput8 behaviour more correct for mouse and keyboard.
	Fix small bug when keyboard buffer overflows.
	Use DI_OK instead of 0 for returned values.

	* dlls/ddraw/d3dexecutebuffer.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Fix matrix multiplication.

	* dlls/cabinet/cabinet.h: Gregory M. Turner <gmturner007@ameritech.net>
	Fix some uglies.

	* dlls/x11drv/keyboard.c: Sylvain Petreolle <spetreolle@yahoo.fr>
	Added Euro and antiquote to the French keyboard layout.

	* dlls/d3d8/directx.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	When emulating fullscreen it helps to not allocate space for menu bars
	and borders. Make this window a popup window.

	* dlls/rasapi32/rasapi32.spec, include/ras.h:
	Francois Gouget <fgouget@free.fr>
	Add stubs for RasDeleteSubEntry* (new in WinMe/WinXP).
	Add prototypes for RasDeleteEntry* and RasDeleteSubEntry* in ras.h.

	* dlls/d3d8/Makefile.in, dlls/d3d8/d3d8_private.h,
	  dlls/d3d8/d3dcore_gl.h, dlls/d3d8/device.c, dlls/d3d8/drawprim.c,
	  dlls/d3d8/shader.c, dlls/d3d8/surface.c, dlls/d3d8/utils.c,
	  dlls/d3d8/vshaderdeclaration.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Make the fixed function pipeline support multiple streams for created
	vertex shaders with no function supplied. Also split down draw
	primitive along the lines of the d3dcore requirements and put in some
	diagnostic aids.

	* dlls/commdlg/Makefile.in, dlls/commdlg/colordlg.c,
	  dlls/commdlg/colordlg.h, dlls/commdlg/colordlg16.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Split Win16/32 color dialog support.
	Supporting compiling out 16 bit find dialog support.

	* include/winsock.h: Yorick Hardy <yh@metroweb.co.za>
	Include time.h instead of sys/time.h.

	* dlls/quartz/Makefile.in, dlls/quartz/filtergraph.c,
	  dlls/quartz/main.c, dlls/quartz/quartz_private.h,
	  include/Makefile.in, include/control.h, include/dshow.h,
	  include/strmif.h, include/uuids.h, winedefault.reg:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Stubbed some interfaces for the FilterGraph CLSID.

	* dlls/winedos/int21.c, msdos/int21.c: Jukka Heinonen <jhei@iki.fi>
	Move get current directory and set current directory int21
	subfunctions into winedos. Fix quite a few bugs in the implementation
	of these functions.

	* dlls/cabinet/cabinet.h, dlls/cabinet/fdi.c:
	Gregory M. Turner <gmturner007@ameritech.net>
	- implement FDI{Create,Destroy,IsCabinet}
	- fix a typo
	- duplicate a bug
	- some blathering about code duplication
	- change fdi.c indentation to be consistent with cabextract.c

	* dlls/oleaut32/safearray.c, dlls/oleaut32/tests/safearray.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed index handling for multi dimensional arrays.

	* BUGS: Tom Wickline <twickline@skybest.com>
	- cosmetic fixes
	- remove obsolete link

	* winedefault.reg: Sylvain Petreolle <spetreolle@yahoo.fr>
	Show that TCP/IP is installed to windows apps, like winipcfg.

	* dlls/ntdll/cdrom.c, include/file.h, include/ntddscsi.h,
	  win32/device.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Added support for overlapped ioctl requests (and a few other
	cosmetics).

	* programs/wineconsole/curses.c, programs/wineconsole/user.c,
	  programs/wineconsole/winecon_private.h,
	  programs/wineconsole/wineconsole.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	If (n)curses wasn't available at compile time:
	- print sensible information
	- fall back to user backend

	* dlls/dinput/device.c: Paul Bain <prbain@essex.ac.uk>
	Put IID_IDirectInputDevice2A back in
	IDirectInputDevice2AImpl_QueryInterface.

	* dlls/ddraw/dsurface/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Be more stringent in the 'Lock' invalid RECT check.

	* dlls/opengl32/make_opengl, dlls/opengl32/opengl_ext.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Upgrade OpenGL thunks with latest version of OpenGL extension
	registry.

	* dlls/comctl32/toolbar.c: Robert Shearman <R.J.Shearman@warwick.ac.uk>
	- Make button text centre correctly when dropdown arrow is present
	- Centre dropdown arrow

	* dlls/psapi/psapi.spec, dlls/shdocvw/shdocvw.spec,
	  dlls/wintrust/wintrust.spec:
	Francois Gouget <fgouget@free.fr>
	Add stubs for some new WinXP APIs.

	* dlls/urlmon/urlmon.spec, include/urlmon.h:
	Francois Gouget <fgouget@free.fr>
	Add a stub for CompareSecurityIds (new in WinXP).

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Fix the BLT COLOR_FILL case.

	* dlls/winedos/Makefile.in, dlls/winedos/dosvm.c, dlls/winedos/timer.c:
	Jukka Heinonen <jhei@iki.fi>
	Split timer code into separate source file.
	Stop using SIGALRM for timers.

	* dlls/cabinet/cabextract.c, dlls/cabinet/cabinet.h:
	Gregory M. Turner <gmturner007@ameritech.net>
	- paranoia: eliminate some global variables
	- better reminder on how to fix memory leaks

2003-06-07  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dmusic/dmusic.c, dlls/dmusic/dmusic_instrument.c,
	  dlls/dmusic/dmusic_loader.c, dlls/dmusic/dmusic_main.c,
	  dlls/dmusic/dmusic_misc.c, dlls/dmusic/dmusic_performance.c,
	  dlls/dmusic/dmusic_plugins.c, dlls/dmusic/dmusic_port.c,
	  dlls/dmusic/dmusic_private.h, dlls/dmusic/dmusic_segment.c,
	  dlls/dmusic/dmusic_style.c, dlls/dmusic/dmusic_synth.c:
	Rok Mandeljc <rok.mandeljc@gimb.org>
	- added debug
	- implemented fake midi & performance channels
	- implemented some IDirectMusic*8* functions where IDirectMusic*
	  equivalent exists
	- IDirectMusic*8 interfaces can now be obtained from IDirectMusic
	  interfaces (QueryInterface...)
	- channel-related performance functions are kinda implemented now

	* graphics/painting.c: Arjen Nienhuis <arjen@nienhuisbeheer.nl>
	New implementation of GdiGradientFill using integer math.

	* dlls/dinput/mouse/main.c: Christian Costa <titan.costa@wanadoo.fr>
	Fix SetDataFormat and implement GetDeviceInfo for mouse device.

	* documentation/samples/config: Mike Hearn <mike@theoretic.com>
	Add a drive mapping for root to the default configuration file.

	* tools/wineinstall: Mike Hearn <mike@theoretic.com>
	Check for /lib/tls directory for Red Hat 9.

	* dlls/winsock/socket.c:
	Kester Maddock <Christopher.Maddock.1@uni.massey.ac.nz>
	Check for a null pointer in WS_setsockopt.

	* dlls/user/dde/misc.c: Mike Hearn <mike@theoretic.com>
	Protect WDML_GetConv against null handles.

	* dlls/commdlg/Makefile.in, dlls/commdlg/fontdlg.c,
	  dlls/commdlg/fontdlg.h, dlls/commdlg/fontdlg16.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Separate Win16 and Win32 font dialog support.

	* dlls/ntdll/signal_i386.c: Eric Pouech <pouech-eric@wanadoo.fr>
	Correctly convert into EXCEPTION_RECORD SIGTRAPs received from
	DebugBreakProcess.

2003-06-06  Alexandre Julliard  <julliard@winehq.com>

	* dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Sylvain Petreolle <spetreolle@yahoo.fr>
	Implemented wininet.InternetGetConnectedStateEx.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Align the text vertically in single line labels (spotted by BiGgUn).

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/d3dcore_gl.h, dlls/d3d8/device.c,
	  dlls/d3d8/directx.c, dlls/d3d8/utils.c:
	Raphael Junqueira <fenix@club-internet.fr>
	Fixed compilation problems.

	* dlls/msvcrt/locale.c, dlls/msvcrt/msvcrt.spec:
	Martin Fuchs <martin-fuchs@gmx.net>
	Stub implementation for _Gettnames.

	* dlls/kernel/sync.c: Mike McCormack <mike@codeweavers.com>
	Always return FALSE when doing an overlapped ConnectNamedPipe.

	* objects/text.c: Ingmar Thiemann <ingmar@gefas.com>
	Implemented PolyTextOutA/PolyTextOutW.

	* dlls/shell32/brsfolder.c, include/shlobj.h:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	- Support a few more flags
	- Rewrite the enumeration loop
	- Support non-desktop root
	- Silence harmless and implemented debug messages

	* dlls/winedos/dosexe.h, dlls/winedos/dosvm.c:
	Jukka Heinonen <jhei@iki.fi>
	Pending timer interrupts no longer deadlock DOSVM_Wait.
	Restored interrupt priorities to correct values.

2003-06-04  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- fix the texture upload code when RECT is actually used
	- optimize FB Locks / Unlocks when RECTs are used

	* dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3dviewport.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- Viewport hack to get some old D3D1 games to work
	- TRACEing fix

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- small TRACEing fix
	- fix bug in texture upload (I wonder how I missed this :-/ )
	- improve the D3D1/2 texture mapping modes

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dlight.c,
	  dlls/ddraw/d3dtexture.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- fix (stupid) regressions introduced by last series of patch
	- 24 bpp handling for lock / unlock code
	- some better checks for AlphaPixel value
	- better TRACEing to better catch threading problems

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- some GL critical section fixes
	- only bind textures at start of rendering
	- optimized the texture parameter code
	- optimize of the 'dirty checking code' for mipmapping
	- handles the MAXMIPLEVEL texture parameter

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3dexecutebuffer.c,
	  dlls/ddraw/d3dlight.c, dlls/ddraw/d3dmaterial.c,
	  dlls/ddraw/d3dtexture.c, dlls/ddraw/d3dvertexbuffer.c,
	  dlls/ddraw/d3dviewport.c, dlls/ddraw/ddraw_private.h,
	  dlls/ddraw/mesa.c, dlls/ddraw/mesa_private.h,
	  dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/ddraw/main.c, dlls/ddraw/direct3d/main.c,
	  dlls/ddraw/direct3d/main.h, dlls/ddraw/direct3d/mesa.c,
	  dlls/ddraw/dsurface/fakezbuffer.c, dlls/ddraw/dsurface/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- proper (tested on Win2K) reference counting for Direct3D object
	- fix one case of reference counting on textures
	- fix stupid bug in texture upload code
	- yet another texture enumeration reordering

	* dlls/ddraw/d3dtexture.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Fixed a bug in the FrameBuffer => Texture blits.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/mesa.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- added RECT support to the texture upload code
	- use the common code for the FB Unlock code

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/mesa.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- some clean-ups (extension code to be added soon)
	- some interface changes for future reuse for Blt / Lock code
	- fixed some Pitch problems in texture uploads (mostly for 'small'
	  mip-mapping levels)

	* dlls/ddraw/d3dtexture.c, dlls/ddraw/mesa.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Refactoring of the texture upload code.

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Fix texture parameters handling on texture change.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- remove some extraneous saving of the read buffer settings
	- cleaned-up the GL / device critical section handling

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dexecutebuffer.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- protect viewport setting with GL lock
	- no need anymore to flush to FB on execute buffer calling

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Some threading fixes (prevents some dead-locks).

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/gl_api.h, dlls/ddraw/gl_private.h,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- implement FB => Texture blits
	- fix compilation on non-recent glext.h systems

	* dlls/d3d8/basetexture.c, dlls/d3d8/cubetexture.c,
	  dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c,
	  dlls/d3d8/surface.c, dlls/d3d8/texture.c, dlls/d3d8/volume.c,
	  dlls/d3d8/volumetexture.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- cleaning of volume.c/volumetexture.c as done previously for
	  surface.c/*texture.c (with add of lockable, locked and Dirty flags)
	- add of dirtyRect/dirtyBox for better dirtification management (not
	  used yet, but huge optimisation can be possible now)
	- fix some debug traces (well it's better to use debug_d3dpool)
	- fix some stupid regression on point parameters (forgot to check
	  extension on fillcaps)

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/d3dcore_gl.h, dlls/d3d8/device.c,
	  dlls/d3d8/directx.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- add a new private header d3dcore_gl.h that declares needed opengl
	  defines and the caps defines
	- cleanup of device.c using the caps defines (avoid the #ifdef
	  nigthmare)
	- add {Set,Get}GammaRamp support

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c,
	  dlls/d3d8/surface.c, dlls/d3d8/swapchain.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- some cleanup and warning fixes
	- split of CreateDevice gl/gxl detection code into FillGLCaps
	- implementation of resolution change (using ChangeDisplaySettings)
	  but desactived as ChangeDisplaySettings don't seem to work well
	- begin of swap chain support (now need to split/clean
	  gxlpbuffer/glxpixmap code for swap chain use)

	* dlls/d3d8/surface.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Fix the glRead call when pRect != NULL, resolve the file format of the
	saved snapshot correctly.

	* dlls/d3d8/surface.c: Raphael Junqueira <fenix@club-internet.fr>
	- fix another time the stupid locking bug (i had already fixed it in
	  ActiveRender)
	- fix stupid rescaling of colors values on SaveSnapshot

	* dlls/d3d8/d3d8.spec, dlls/d3d8/d3d8_main.c, dlls/d3d8/d3d8_private.h,
	  dlls/d3d8/device.c, dlls/d3d8/directx.c, dlls/d3d8/shader.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- pixel shader program dump code
	- pixel shader code split into a new "COM object" (as done before for
	  vertex shader)
	- some fixes on Validate* functions call types
	- add pixel shader (ie fragment_program) detection on caps code

	* dlls/d3d8/device.c, dlls/d3d8/utils.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Add support for a lot of the remaining texture ops, move code into the
	utils module, and clean up the main code path.

	* dlls/d3d8/cubetexture.c, dlls/d3d8/d3d8_private.h,
	  dlls/d3d8/device.c, dlls/d3d8/directx.c, dlls/d3d8/surface.c,
	  dlls/d3d8/texture.c, dlls/d3d8/utils.c, dlls/d3d8/volumetexture.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- some cleanups
	- more cubetextures fixes (now d3d8 sdk cubemap sample work almost
	  perfectly)
	- add a new debug function "debug_d3dpool" and use it
	- add a new param (the device) for the conversions functions (because
	  we need to check caps to see how to convert)
	- some crashes fixed in render to surface code with no stencil-depth
	  surface
	- a very simple cliplane fix
	- a stupid palettes fix (stupid language)
	- begin of anisotropic filter support
	- begin of compressed textures support
	- a very useful debug functions: IDirect3DSurface8Impl_SaveSnapshot to
	  dump surfaces as png ;)
	- many useful surfaces debug code (using SaveSnapshot)

	* dlls/d3d8/device.c, dlls/d3d8/directx.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Correct specular enable renderstate.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/stateblock.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Avoid the use of glGet when we know the information locally.

	* dlls/d3d8/directx.c, dlls/d3d8/utils.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Opengl 1.4 added stencil wrap support as per directx (also in the
	GL_EXT_stencil_wrap extension).

	* dlls/d3d8/Makefile.in, dlls/d3d8/basetexture.c,
	  dlls/d3d8/cubetexture.c, dlls/d3d8/d3d8_private.h,
	  dlls/d3d8/device.c, dlls/d3d8/directx.c, dlls/d3d8/resource.c,
	  dlls/d3d8/shader.c, dlls/d3d8/stateblock.c, dlls/d3d8/surface.c,
	  dlls/d3d8/swapchain.c, dlls/d3d8/texture.c, dlls/d3d8/utils.c,
	  dlls/d3d8/volumetexture.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- implemented render to surfaces (and render to new rendertargets)
	  using glx pbuffers (with a useful debug code to display rendered
	  surface into window drawable)
	- better cubetextures
	- split utilities functions into utils.c and added more
	- more readable debug again
	- a better caps code (not perfect but i'll use glx code later)
	- use of the new caps code
	- begin of UpdateTexture
	- begin of Cursor support
	- cleaning most of deprecated #if 0/#endif
	- correct some lockable/unlockable behavior
	- correct some returns code

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- do not search for attached surfaces if the texture doesn't have the
	  MIPMAP flag set
	- add GL crit. section support for matrix setting
	- support the various BLEND texture operations

	* dlls/ddraw/mesa.c: Yorick Hardy <yh@metroweb.co.za>
	Added the D3DTBLEND_DECAL render state.

	* controls/edit.c, dlls/setupapi/queue.c, documentation/debugging.sgml,
	  files/profile.c, memory/global.c, programs/rpcss/rpcss_main.c:
	Francois Gouget <fgouget@free.fr>
	Fix some typos.

	* dlls/winmm/winealsa/audio.c, dlls/winmm/winearts/audio.c,
	  dlls/winmm/winenas/audio.c, dlls/winmm/wineoss/audio.c:
	Robert Reif <reif@earthlink.net>
	Added a dynamically growing ring buffer for oss, alsa, arts, and nas.

	* documentation/authors.ent: Tom Wickline <twickline@skybest.com>
	Updated my e-mail address.

	* libs/wpp/ppl.l: Paul Laufer <Paul.E.Laufer@jpl.nasa.gov>
	Work around for flex brain damage.

	* dlls/msvcrt/locale.c, dlls/msvcrt/msvcrt.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented localeconv() with libc function.

	* include/msvcrt/time.h: Antonio Larrosa Jiménez <antlarr@tedial.com>
	Added CLOCKS_PER_SEC.

	* dlls/winsock/ws2_32.spec:
	Antonio Larrosa Jiménez <antlarr@tedial.com>
	Added WSASetEvent forward.

	* documentation/samples/win.ini: Tom Wickline <twickline@skybest.com>
	Added 10 new mci extensions.

	* controls/listbox.c: Mike Hearn <mike@theoretic.com>
	Update listbox directory mode to new FindFirstFile error code.

	* dlls/user/text.c: Vitaliy Margolen <wine-patch@kievinfo.com>
	DrawTextEx: honor clipping for underscores.

	* winedefault.reg: Robert Reif <reif@earthlink.net>
	Added DirectSound entries.

	* graphics/x11drv/palette.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	With >256 colours, there is no need to realize a palette, so skip it
	and return that no palette entries had to change.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Remove bFirstPain funky optimization, it is causing too much grief.

	* dlls/winedos/int21.c, files/drive.c, include/drive.h, msdos/int21.c:
	Jukka Heinonen <jhei@iki.fi>
	Migrate most int21 ioctl routines to winedos.
	Migrate int21 set drive routine to winedos.

	* dlls/kernel/kernel32.spec, scheduler/process.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Implemented a semi-stub for GetProcessPriorityBoost.

	* dlls/user/dde/server.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Revert some really unwanted changes to the DDE code.

	* dlls/ntdll/cdrom.c: Yorick Hardy <yh@metroweb.co.za>
	Improve CDROM_GetIdeInterface (becomes CDROM_GetInterfaceInfo), in
	order to better support SCSI drives.

	* include/winsock.h: Yorick Hardy <yh@metroweb.co.za>
	Include sys/time.h for struct timeval definition.

	* dlls/ntdll/signal_i386.c: Yorick Hardy <yh@metroweb.co.za>
	Use SA_RESTART on NetBSD.

	* programs/wineconsole/curses.c: Jukka Heinonen <jhei@iki.fi>
	Wineconsole curses backend now works even if terminal is smaller than
	console size. Cursor is no longer left into wrong location after
	screen updates.

	* dlls/ntdll/sync.c: Jukka Heinonen <jhei@iki.fi>
	Timer routines must check for NULL timer name.

	* programs/winhelp/Si.rc, programs/winhelp/Sk.rc,
	  programs/winhelp/hlpfile.c, programs/winhelp/winhelp.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	- added some missing strings to resources
	- made the decompression code a bit more pedantic to avoid crashes
	- fixed startup without .HLP filename passed on command line
	- passed a few more commands from remote applications to the macros

	* dlls/ddraw/Makefile.in, dlls/ddraw/ddraw/hal.c,
	  dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw/user.c,
	  dlls/ddraw/ddraw_private.h, dlls/ddraw/dsurface/main.c,
	  dlls/ddraw/gl_api.h, dlls/ddraw/gl_private.h, dlls/ddraw/main.c,
	  dlls/ddraw/mesa_private.h:
	 Mike McCormack <mike@codeweavers.com>
	 Lionel Ulmer <lionel.ulmer@free.fr>
	Make DDraw not linked 'statically' to OpenGL.

	* dlls/dinput/keyboard/main.c: Mark Westcott <mark@houseoffish.org>
	DInput keyboard handling checks for incoming X11 events.

	* dlls/ole32/compobj.c, dlls/ole32/compobj_private.h,
	  dlls/ole32/errorinfo.c:
	Ove Kaaven <ovek@transgaming.com>
	Preliminary support for COM apartments.

	* dlls/d3d8/device.c, include/d3d8types.h:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Fill in lots of unimplemented render states.

2003-05-22  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dsound/sound3d.c: Duane Clark <dclark@akamail.com>
	Fix compile error.

	* dlls/ntdll/heap.c, dlls/ntdll/ntdll_misc.h, include/thread.h,
	  include/winternl.h, loader/module.c, memory/heap.c,
	  programs/winedbg/winedbg.c, scheduler/thread.c:
	Start to make use of the proper PEB structure for process
	information.

	* miscemu/main.c: Warning fix.

	* dlls/kernel/kernel_main.c, win32/newfns.c:
	Beep() is still needed in ntdll, move it back to some random file.

	* miscemu/Makefile.in:
	Added dependency on libntdll to make sure that everything links
	properly.

	* dlls/dsound/tests/dsound.c: Robert Reif <reif@earthlink.net>
	Add 3d primary and secondary buffer tests.
	Check reference count at object release.
	Remove redundant cooperative level setting.

	* dlls/dsound/buffer.c, dlls/dsound/capture.c,
	  dlls/dsound/dsound_main.c, dlls/dsound/mixer.c,
	  dlls/dsound/primary.c, dlls/dsound/propset.c, dlls/dsound/sound3d.c:
	Robert Reif <reif@earthlink.net>
	- make parameter checking and error notification consistent
	- propagate driver and local function errors where needed
	- fix error returns where pointer is given for returned data
	- add 3d listener to primary buffer when needed
	- copy 3d part of buffer when duplicated
	- fix bug when primary buffer is reopened with smaller buffer
	- loosen requirements on caps data size check
	- set caps for emulated mode based on actual driver caps

	* dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/dsurface/fakezbuffer.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- remove fogging too when doing the flush of the frame buffer
	- handle dest rect in the Blt DEPTH_FILL case
	- fix QueryInterface on the D3D Device

	* dlls/comctl32/listview.c:
	Maxime Bellengé <maxime.bellenge@laposte.net>
	Fix listview custom draw notification for CDDS_ITEMPREPAINT and
	CDDS_SUBITEMPREPAINT messages.

	* dlls/ole32/dcom.h, dlls/ole32/dcom.idl:
	Ove Kaaven <ovek@transgaming.com>
	DCOM IDL file based on the DCOM specification.

	* dlls/rpcrt4/ndr_midl.c, dlls/rpcrt4/rpc_message.c,
	  dlls/rpcrt4/rpc_misc.h, dlls/rpcrt4/rpc_server.c:
	Ove Kaaven <ovek@transgaming.com>
	Initial support for RPC call failures, by catching RPC server
	exceptions and returning simple failure packets, and throwing
	exceptions on the client side when unmarshalling the failure packet.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Avoid setting and resetting the same values when there are many
	rectangles.

	* dlls/comctl32/header.c: Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Update ordering on insertion of an item.

2003-05-21  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac, dlls/shell32/Makefile.in,
	  dlls/shell32/memorystream.c, dlls/shell32/shell32_main.h,
	  dlls/shell32/shelllink.c, include/wine/obj_shelllink.h,
	  programs/Makefile.in, programs/winemenubuilder/.cvsignore,
	  programs/winemenubuilder/Makefile.in,
	  programs/winemenubuilder/winemenubuilder.c:
	Mike McCormack <mike@codeweavers.com>
	Remove code that starts wineshelllink, instead create a windows
	compatible shortcut (*.lnk) file. After creating that file, start a
	link processor (winemenubuilder) on it, which reads it back then calls
	wineshelllink.
	Rework CreateStreamFromFile to create an IStream object that is
	writeable.

	* libs/port/spawn.c:
	Reset SIGCHLD handler to default if we need to wait. Reset SIGPIPE
	handler before exec.

	* include/module.h, loader/module.c, loader/ne/module.c:
	Moved a couple of 16-bit module functions from to loader/ne/module.c.

	* dlls/kernel/Makefile.in, dlls/kernel/change.c, dlls/kernel/error16.c,
	  dlls/kernel/kernel_main.c, dlls/ntdll/Makefile.in, misc/error.c,
	  misc/main.c:
	Moved misc/error.c to dlls/kernel/error16.c.
	Get rid of misc/main.c.

	* dlls/gdi/driver.c, dlls/gdi/enhmfdrv/enhmetafiledrv.h,
	  dlls/gdi/enhmfdrv/init.c, dlls/gdi/enhmfdrv/objects.c,
	  dlls/gdi/mfdrv/init.c, include/gdi.h, objects/gdiobj.c:
	Mike McCormack <mike@codeweavers.com>
	Implemented GdiComment for enhanced metafiles.

	* dlls/iphlpapi/ifenum.c:
	Fixed wrong length argument in getInterfacePhysicalByName.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Inserting column zero should not modify the main item (spotted by
	Robert Shearman).

	* misc/cpu.c: Eric Anholt <eta@lclark.edu>
	Added CPU detection for FreeBSD.

	* dlls/kernel/tests/pipe.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Avoid "might be used uninitialized" warning in exercizeServer().

	* dlls/rpcrt4/rpc_message.c, dlls/rpcrt4/rpc_server.c:
	Ove Kaaven <ovek@transgaming.com>
	For RPC servers, don't deallocate the RPC request packet before the
	RPC reply packet is sent, in case marshalling the reply needs any of
	the request data.

	* dlls/rpcrt4/ndr_midl.c, dlls/rpcrt4/rpcrt4.spec:
	Ove Kaaven <ovek@transgaming.com>
	Added semi-stub for NdrProxyErrorHandler.
	Fixed a case of potential stack trashing.

2003-05-20  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/Makefile.in, loader/main.c, loader/task.c,
	  scheduler/process.c:
	Moved all process initialisation code to process.c and removed
	loader/main.c.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/om.c, include/winternl.h:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Implemented NtQueryObject and NtSetInformationObject for the
	ObjectDataInformation class.

	* memory/global.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Make the Global* memory API functions thread safe.

	* dlls/x11drv/xvidmode.c: Carlos Lozano <clozano@andago.com>
	Avoid printing an uninitialized buffer.

	* dlls/ntdll/cdrom.c: Yorick Hardy <yh@metroweb.co.za>
	Implement CDROM_ScsiPassThrough and CDROM_ScsiPassThroughDirect on
	NetBSD.

	* dlls/kernel/Makefile.in, dlls/kernel/system.c,
	  dlls/ntdll/Makefile.in, memory/instr.c, misc/system.c:
	Moved system.dll implementation to dlls/kernel.

	* dlls/olecli/Makefile.in, dlls/olecli/olecli16.c,
	  dlls/olecli/olecli_main.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Win16/32 separation of olecli32.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3dcommon.c,
	  dlls/ddraw/d3dexecutebuffer.c, dlls/ddraw/d3dlight.c,
	  dlls/ddraw/d3ddevice/main.c, dlls/ddraw/dsurface/fakezbuffer.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Remove all openGL calls in execute buffers and use the Direct3D7 APIs.
	Enable retrieving the render target surface of a device through its
	QueryInterface method.
	Avoid lights updating when a viewport and a device have not been
	associated to them.
	Clear the Z buffer only when we're asked to by Checking D3DBTL_FILL
	flag.

	* dlls/winedos/int21.c: Jukka Heinonen <jhei@iki.fi>
	Added some long filename functions.

	* configure, configure.ac, include/config.h.in, misc/cpu.c:
	Yorick Hardy <yh@metroweb.co.za>
	Implemented GetSystemInfo on NetBSD.

	* dlls/kernel/sync.c, dlls/ntdll/Makefile.in,
	  include/wine/server_protocol.h, scheduler/pipe.c, server/Makefile.in,
	  server/pipe.c, server/protocol.def, server/request.h, server/trace.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Implement anonymous pipes on top of named pipes.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dexecutebuffer.c, dlls/ddraw/d3dvertexbuffer.c,
	  dlls/ddraw/mesa_private.h, dlls/ddraw/dsurface/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- some tracing fixes
	- flush the right buffer to the screen

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dexecutebuffer.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	No need to flush the surface back if last lock was a RO lock.

	* dlls/kernel/sync.c, dlls/ntdll/Makefile.in, scheduler/timer.c:
	Moved timer functions to dlls/kernel.

	* dlls/oleaut32/oleaut.c: Ove Kaaven <ovek@transgaming.com>
	Handle requests for CLSID_PSDispatch.

	* dlls/rpcrt4/cproxy.c, dlls/rpcrt4/cpsf.c, dlls/rpcrt4/cpsf.h,
	  dlls/rpcrt4/cstub.c:
	Ove Kaaven <ovek@transgaming.com>
	Fixed NdrDllRegisterProxy so it registers the key names that ole32
	expects. Better debug traces (include name of interface).

	* dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dtexture.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- fix bug in 'Blt DEPTH_FILL' override
	- added a lock around the flushing of a surface to the frame buffer
	- optimize texture loading my minimizing the cases where a conversion
	  needs to occur and also by reusing the allocated memory

	* dlls/ntdll/nt.c, dlls/ntdll/ntdll.spec, dlls/ntdll/sync.c,
	  include/wine/server_protocol.h, include/winternl.h,
	  scheduler/timer.c, server/protocol.def, server/timer.c,
	  server/trace.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Implemented timer related functions in ntdll and make the kernel32
	functions use them.

	* dlls/kernel/tests/pipe.c: Use the trace macro for debugging output.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Have Lights and Clipplanes transformed properly.

	* dlls/ntdll/loader.c, include/module.h, loader/module.c,
	  loader/ne/module.c, loader/pe_image.c:
	Only create the 16-bit dummy module when we need really it.

	* dlls/wineps/escape.c, dlls/wineps/init.c:
	Huw Davies <huw@codeweavers.com>
	Look up the printer's port in the registry if neither CreateDC or
	StartDoc specify one.
	Photoshop 7 has a bug that results in cbInput being 2 less than the
	length of the string rather than 2 more.  So use the WORD at
	in_data[0] instead.

	* dlls/wineps/init.c, dlls/wineps/ppd.c, dlls/wineps/psdrv.h:
	Huw Davies <huw@codeweavers.com>
	CUPS uses the ppd file to store the default paper size, so we'll read
	it from here.
	If the ppd doesn't contain an explicit resolution then default to
	300dpi.

	* dlls/kernel/nls/*.nls, include/winnls.h:
	Added value for default Unix codepage to all the locale definitions.

	* dlls/rpcrt4/ndr_marshall.c, dlls/rpcrt4/rpcrt4.spec:
	Ove Kaaven <ovek@transgaming.com>
	Implemented "dereference" pointer flag.
	Added NdrClearOutParameters stub.

	* dlls/rpcrt4/ndr_ole.c: Ove Kaaven <ovek@transgaming.com>
	Portability fix. Better debug messages (display IID of interface to
	marshal).

	* documentation/README.it:
	Francesco Di Punzio <francesco_dipunzio@virgilio.it>
	Italian translation of the README file.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/main.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- implement the TFACTOR texture stage state
	- support Texture matrices
	- various misc. clean-ups

2003-05-19  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/dde/client.c, dlls/user/dde/dde_private.h,
	  dlls/user/dde/misc.c, dlls/user/dde/server.c, dlls/user/message.c,
	  include/dde.h, include/ddeml.h:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Expect multiple DNS_ flags.
	Partially implemented DdeEnableCallback.
	Call a callback with XTYP_CONNECT_CONFIRM after an accepted
	XTYP_CONNECT.
	Added traces, clarify data types, other cosmetics.

	* objects/font.c: Fixed return value of GetTextFaceA.

	* objects/dc.c: Huw Davies <huw@codeweavers.com>
	After we update the mapping mode reselect the current font back into
	the dc so that its size is recalculated.

	* dlls/wineps/ps.c: Huw Davies <huw@codeweavers.com>
	Don't add spaces in the PostScript between every pixel - this made
	debugging easier but results in an awful lot of whitespace being sent
	to the printer.
	Don't generate the %%Orientation DSC comment.  The cups pstops filter
	tries to rotate the image by 90degs when to it sees this comment.
	Stop a crash if the document title is NULL.

	* dlls/wineps/type1.c: Huw Davies <huw@codeweavers.com>
	Reset the escapement back to zero before retrieving the outline (we're
	already in a rotated coordinate system).

	* dlls/wineps/text.c: Huw Davies <huw@codeweavers.com>
	Fix handling of text align modes for rotated text.

	* dlls/winspool/Makefile.in, dlls/winspool/info.c:
	Huw Davies <huw@codeweavers.com>
	Basic implementation of EnumPortsA: dump all the serial and printer
	port names into a structure.

	* programs/notepad/Da.rc, programs/notepad/De.rc,
	  programs/notepad/En.rc, programs/notepad/Es.rc,
	  programs/notepad/Fi.rc, programs/notepad/Fr.rc,
	  programs/notepad/Pt.rc, programs/notepad/Si.rc,
	  programs/notepad/Sk.rc, programs/notepad/Sw.rc,
	  programs/notepad/Wa.rc:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Removed redundant LANGUAGE statements.

	* programs/view/view.c: Mike McCormack <mike@codeweavers.com>
	Fix an uninitialized buffer.

	* scheduler/process.c: Francois Gouget <fgouget@codeweavers.com>
	Fix CreateProcess("c:\Program Files\hello.bat").

	* windows/winproc.c: Huw Davies <huw@codeweavers.com>
	We can't use RtlCreateUnicodeStringFromAsciiz for WM_SETTEXT as the
	resulting unicode string may be greater than 0xffff bytes.

	* dlls/shell32/shlview.c: Aric Stewart <aric@codeweavers.com>
	Make sure we find the drag and drop functions before calling them.

	* dlls/user/tests/class.c, windows/class.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	GetClassInfo returns class atom on success.

	* dlls/shell32/classes.c, dlls/shell32/shell32_main.h,
	  dlls/shell32/shlexec.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Handle SEE_MASK_CLASSKEY case for ShellExecute.

	* dlls/netapi32/netapi32.c, dlls/netapi32/netapi32.spec:
	Aric Stewart <aric@codeweavers.com>
	Added stub for NetServerEnum.

	* dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dviewport.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added support for non-full screen viewports and clearing.

	* dlls/gdi/enhmfdrv/dc.c, dlls/gdi/enhmfdrv/enhmetafiledrv.h,
	  dlls/gdi/enhmfdrv/init.c:
	Huw Davies <huw@codeweavers.com>
	Implemented a few more device caps.

	* dlls/kernel/tests/file.c: Ferenc Wagner <wferi@tba.elte.hu>
	New _lcreat tests for filename ending in a slash and volume label
	attribute.

	* configure, configure.ac, dlls/ntdll/cdrom.c, include/config.h.in:
	Yorick Hardy <yh@metroweb.co.za>
	Added the implementation for CDROM_GetIdeInterface on NetBSD.

	* dlls/oleaut32/safearray.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Use correct type of pointer in SafeArrayCreateVector to avoid memory
	corruption. Add traces.

	* dlls/shell32/debughlp.c, dlls/shell32/pidl.c, dlls/shell32/pidl.h:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Add a PIDL type For Network Provider.

	* dlls/iphlpapi/iphlpapi_main.c: Pierre d'Herbemont <stegefin@free.fr>
	Include arpa/nameser.h before resolv.h.

	* controls/edit.c: Rein Klazes <rklazes@xs4all.nl>
	Revert the WM_GETDLGCODE handling patch completely this time. It
	breaks too much.

	* dlls/winedos/int21.c, msdos/int21.c: Jukka Heinonen <jhei@iki.fi>
	Move get current drive int21 function to winedos.
	Fix spelling mistakes.
	Add some drive handling helper routines.

	* include/wine/obj_shellfolder.h:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Fix value of IID_IShellFolder2.

	* dlls/ddraw/dsurface/dib.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Better handling of pitch set to 0.

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Added RGB 32 surface locking (seems to work fine without resorting to
	Alpha hacks).

	* dlls/x11drv/winpos.c:
	Make sure drawable_org is set correctly when using one of the parents
	as drawable (found by Dmitry Timoshkov).

	* dlls/x11drv/window.c:
	Avoid the 'Below' stacking mode when changing Z order since many
	window managers don't get it right.
	Fix Z order synchronization for child windows (found by Dmitry
	Timoshkov and Ulrich Czekalla).

	* dlls/x11drv/event.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Mask out MWMO_WAITALL if only server queue handle was passed in.

	* dlls/wineps/bitblt.c, dlls/wineps/bitmap.c, dlls/wineps/brush.c,
	  dlls/wineps/clipping.c, dlls/wineps/graphics.c, dlls/wineps/ps.c,
	  dlls/wineps/psdrv.h, dlls/wineps/text.c:
	Huw Davies <huw@codeweavers.com>
	Rework clipping so that the PS clip path is only set just before any
	graphics output event. Doing it this way means we don't ever need to
	call initclip which is a Good Thing.

	* files/dos_fs.c: Mike McCormack <mike@codeweavers.com>
	Removed unnecessary casts.

	* include/wingdi.h, objects/clipping.c, objects/region.c:
	Huw Davies <huw@codeweavers.com>
	GetRandomRgn(...,1) returns the current clipping rgn.
	Moved GetRandomRgn and the MetaRgn functions to objects/clipping.c.

	* windows/mdi.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Restore MDI window in the case of disabled maximize button.

	* windows/cursoricon.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Initialize hbmColor only for color icons in GetIconInfo.

	* dlls/user/message.c, include/win.h, windows/win.c, windows/winpos.c:
	Catch broadcast window handles in functions that are implemented using
	SendMessage.

	* dlls/user/user32.spec, windows/message.c:
	Mike McCormack <mike@codeweavers.com>
	Implemented BroadcastSystemMessageW.

	* dlls/shell32/shlexec.c: Aric Stewart <aric@codeweavers.com>
	Added support for the %L escape.

	* dlls/shell32/shellord.c, dlls/shell32/undocshell.h:
	Mike McCormack <mike@codeweavers.com>
	Implemented ReadCabinetState and WriteCabinetState.

	* dlls/setupapi/Makefile.in, dlls/setupapi/infparse.c,
	  dlls/setupapi/queue.c:
	Aric Stewart <aric@codeweavers.com>
	Respect the version SP_COPY flags when installing files.
	Make GenInstall16 only copy files if the version is new or same.

	* dlls/ole32/ole32.spec, dlls/ole32/ole32_main.c:
	Mike McCormack <mike@codeweavers.com>
	Semi-correct implementation of OleMetafilePictFromIconAndLabel.

	* dlls/gdi/enhmfdrv/bitblt.c, dlls/gdi/enhmfdrv/init.c:
	Mike McCormack <mike@codeweavers.com>
	Implemented StretchDIBits in the EMF code.

	* dlls/gdi/enhmfdrv/graphics.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed some issues in EMFDRV_ExtTextOut.

	* dlls/gdi/mfdrv/init.c: Huw Davies <huw@codeweavers.com>
	Record escapes in metafiles.

2003-05-17  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dexecutebuffer.c, dlls/ddraw/ddraw_private.h,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Support for device surface locking.

	* dlls/d3d8/basetexture.c, dlls/d3d8/cubetexture.c,
	  dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c,
	  dlls/d3d8/resource.c, dlls/d3d8/shader.c, dlls/d3d8/stateblock.c,
	  dlls/d3d8/surface.c, dlls/d3d8/texture.c,
	  dlls/d3d8/vshaderdeclaration.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- mor usefull debug functions debug_d3dusage and debug_d3ddevicetype
	- fix a crash in pixel shader parser (happened with unreal2)
	- currently desactive pixel shaders caps (with #define) while hw
	  shaders code isn't merged
	- when we have a special debug channel for shader, use it ;)
	- fix again some stubs return value
	- more more readable traces now (principaly IDirect3D8 capacities
	  check and surface locking code) using new debug functions
	- fix/cleaning the surface locking code
	- now we support D3DTOP_SUBSTRACT so declare it in caps
	- now support true 32bit (well X 24 bit can be used as 32 bit in caps
	  code)
	- first try to get D3DTSS_TCI_CAMERASPACENORMAL and
	  D3DTSS_TCI_CAMERASPACEREFLECTIONVECTOR look good
	- native support 32 bit support (now application can choose 16 or 32
	  bit support) if current resolution is 24 bit (as we can only launch
	  games in windowed mode)
	- textures palettes support
	- fix reflexion placement code (the sdk sample begin to work)
	- fix a stupid crash when using traces in vshaderdeclaration
	- more more readable traces (init/caps)
	- more cubetextures fixes

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Silence some TRACEs to better spot real errors.

	* dlls/oleaut32/variant.c:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Partial implementaion of VarBstrFromDec.

2003-05-16  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/hook16.c, dlls/user/wnd16.c, loader/task.c,
	  windows/cursoricon.c:
	Avoid using the MapHModule functions.

	* dlls/kernel/kernel32.spec, dlls/user/user_main.c, loader/ne/module.c:
	Call the user signal proc for exe modules too, to avoid duplicating
	the module cleanup code.

	* dlls/kernel/Makefile.in, dlls/kernel/local16.c, memory/heap.c,
	  memory/local.c:
	Moved most local heap functions to dlls/kernel.

	* dlls/oleaut32/variant.c, include/wtypes.h, include/wtypes.idl:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Fixed DECIMAL_SETZERO
	Removed a workaround for the former problem.

	* tools/wineinstall: Mike Hearn <mike@theoretic.com>
	Silence error on non-redhat systems.

	* tools/c2man.pl: Hans Leidekker <hans@it.vu.nl>
	Force perl to use byte semantics.

	* dlls/wininet/http.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	HTTP_HttpOpenRequestA: Calculate size from the right argument.

	* graphics/bitblt.c: Jaekil Lee <Jaekil.Lee@efi.com>
	Implement MaskBlt using BitBlt (adapted by Dimitrie O. Paun).

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Implement texture transform flags the best we can for now.

	* dlls/kernel/Makefile.in, dlls/kernel/atom.c, dlls/ntdll/Makefile.in,
	  memory/atom.c:
	Moved atom functions to dlls/kernel.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Fixed range checking on the number of lights.
	Silence the fixmes.

2003-05-15  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac, dlls/comctl32/Makefile.in,
	  dlls/comctl32/tests/.cvsignore, dlls/comctl32/tests/Makefile.in,
	  dlls/comctl32/tests/dpa.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	New comctl32 test directory and test case for DPA_Search.

	* dlls/comctl32/comctl32undoc.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	DPA_Search: Handle DPAS_INSERTBEFORE on empty list.

	* dlls/Makefile.in, dlls/kernel/.cvsignore, dlls/kernel/Makefile.in,
	  dlls/kernel/wprocs.spec, dlls/ntdll/Makefile.in,
	  dlls/winedos/.cvsignore, dlls/winedos/Makefile.in,
	  dlls/winedos/vxd.c, dlls/winedos/wprocs.spec, msdos/vxd.c:
	Moved vxd support to winedos.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Supply the correct box on the screen to be processed during the clear
	call, using opengl coordinates, not directx coordinates.

	* dlls/user/user.exe.spec, dlls/user/user16.c, include/module.h,
	  include/user.h, loader/ne/module.c, loader/ne/segment.c,
	  loader/task.c, scheduler/process.c, scheduler/thread.c,
	  windows/user.c:
	Get rid of the 32-bit user signal proc since we always run builtin
	USER now.  Moved USER module cleanups to the 16-bit signal proc.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/variant.c:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Added stub for VarBstrFromDec.

	* dlls/oleaut32/typelib.c: Marcus Meissner <marcus@jet.franken.de>
	Handle VT_I2 <-> VT_USERDEFINED/TKIND_ENUM conversions too.

	* files/file.c: Philip Mason <pmason@ricardo.com>
	Force FILE_GetTempFileName to continue looking for new temp file name
	if error returned from CreateFileW is ERROR_SHARING_VIOLATION.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Solved the transparency problem seen in the ClipMirror SDK sample
	properly. Also a few tabs->spaces to correct formatting.

	* dlls/ole32/Makefile.in, dlls/ole32/memlockbytes.c,
	  dlls/ole32/memlockbytes16.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Separate Win16 and Win32 implementations in memlockbytes.

	* dlls/iphlpapi/ipstats.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	In getTcpTable(), guard Linux-specific constants by #ifdef.

	* dlls/winedos/int21.c: Thomas Mertes <thomas.mertes_at_gmx.at>
	Implement file control block (FCB) functions:
	  INT21_OpenFileUsingFCB [0x0f],
	  INT21_CloseFileUsingFCB [0x10],
	  INT21_SequenialReadFromFCB [0x14],
	  INT21_SequenialWriteToFCB [0x15],
	  INT21_ReadRandomRecordFromFCB [0x21],
	  INT21_WriteRandomRecordToFCB [0x22],
	  INT21_RandomBlockReadFromFCB [0x27],
	  INT21_RandomBlockWriteToFCB [0x28].

	* dlls/kernel/tests/pipe.c: Dan Kegel <dank@kegel.com>
	More named pipes tests.

	* dlls/Makefile.in, dlls/make_dlls:
	Explicitly clean generated symlinks.
	Removed no longer needed install dependencies.

	* dlls/kernel/sync.c, dlls/kernel/tests/pipe.c, dlls/ntdll/file.c,
	  include/wine/server_protocol.h, server/fd.c, server/file.c,
	  server/file.h, server/handle.c, server/named_pipe.c,
	  server/protocol.def, server/serial.c, server/trace.c:
	Mike McCormack <mike@codeweavers.com>
	- rewrite of the named pipe code
	- allow NtFileFlushBuffers to wait
	- allow DisconnectNamedPipe to invalidate client cached fd
	- fix the pipe test now that one extra test passes

	* dlls/ntdll/ntdll.spec, dlls/ntdll/path.c, dlls/ntdll/rtl.c,
	  include/winternl.h, scheduler/process.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Implemented RtlDosPathNameToNtPathName_U, RtlGetCurrentDirectory_U,
	RtlGetFullPathName_U and RtlSetCurrentDirectory_U (the last one
	partially as we can't test whether a path exists or not).

	* dlls/imm32/imm.c: Raphael Junqueira <fenix@club-internet.fr>
	Fix a null pointer crash in ImmGetOpenStatus.

	* dlls/d3d8/cubetexture.c: Raphael Junqueira <fenix@club-internet.fr>
	Fix compilation error reported by Stefan Leichter when using old
	openGL headers.

	* dlls/d3d8/directx.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Previous viewport fix only works for full screen applications as we
	didn't change the back buffer size information until after copying the
	presentation parameters, so when setting up the viewport the
	backbufferwidth/height was 0. Moved the copy until after it has been
	corrected.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/variant.c:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Partial implementation of VarDecFromStr.

	* controls/edit.c: Rein Klazes <rklazes@xs4all.nl>
	Revert the previous patch for capturing keys in an edit-listbox combo.

2003-05-14  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/loader.c, include/module.h, loader/pe_image.c,
	  scheduler/process.c, scheduler/thread.c:
	Rewrote module TLS support and moved it to ntdll.

	* dlls/ntdll/signal_i386.c, include/miscemu.h, memory/instr.c:
	Made INSTR_EmulateInstruction return the exception code.
	Don't allow intXX instructions from 32-bit code (based on a patch by
	Jukka Heinonen).

	* tools/winebuild/import.c:
	Only print warning on nm failure because it fails on darwin if there
	are no symbols (reported by Pierre d'Herbemont).

	* dlls/winmm/winejack/Makefile.in: Marcus Meissner <meissner@suse.de>
	winejack.drv.so needs -lwine_uuid too.

	* dlls/d3d8/shader.c: Raphael Junqueira <fenix@club-internet.fr>
	- new debug channel for shaders code 'd3d_shader'
	- more debugging traces

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- declare a new debug chanel for vertex shaders
	- some useful debug functions for textures format
	- correct DrawPrimitive (RHW correctness and vshader RHW)
	- more copyrects fixes (only two unimplemented behavior remain)
	- fix GetFrontBuffer to get screenshots samples working
	- add D3DCOLORTOGLFLOAT4 and use it
	- first try of D3DRS_FOGTABLEMODE support

	* dlls/d3d8/directx.c: Raphael Junqueira <fenix@club-internet.fr>
	Declare that we can support cube textures now (currently only creation
	is done).

	* include/winuser.h: Dimitrie O. Paun <dpaun@rogers.com>
	Add missing ENDSESSION_LOGOFF define.

	* dlls/commdlg/printdlg.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Use SetDlgItemText instead of sending a WM_SETTEXT.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Make sure the viewport is from the GL (bottom left) not the DirectX
	(top left).

2003-05-13  Alexandre Julliard  <julliard@winehq.com>

	* dlls/gdi/enhmfdrv/init.c, dlls/gdi/mfdrv/init.c, dlls/ttydrv/dc.c,
	  graphics/x11drv/bitblt.c, graphics/x11drv/dib.c,
	  graphics/x11drv/graphics.c, graphics/x11drv/init.c,
	  graphics/x11drv/palette.c, include/gdi.h, objects/bitmap.c,
	  objects/dc.c, objects/gdiobj.c:
	Use a different magic for memory DCs and get rid of the DC_MEMORY
	flag.

	* dlls/d3d8/volumetexture.c: Raphael Junqueira <fenix@club-internet.fr>
	- moved loading code of volume texture to VolumeTexture::Preload as
	  done in Texture/CubeTexture
	- fixed some stubs return values

	* dlls/d3d8/cubetexture.c: Raphael Junqueira <fenix@club-internet.fr>
	- cubetexture loading/preloading
	- some stubs must return 0 (and non D3D_OK)
	- fix IDirect3DCubeTexture8Impl::Get* (potentials CD)

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Properly support texture coordinate indexes.

	* dlls/d3d8/directx.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Make sure we advertize our capabilites correctly.

	* dlls/kernel/tests/path.c: Make the test pass on NT4 too.

	* dlls/d3d8/stateblock.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Initialize the tex coord index correctly.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	CopyRects needs to lock the area it is copying to (esp. if that area
	is the back buffer, as locking/unlocking causes glread/draw pixels).

	* dlls/d3d8/directx.c: Christian Costa <titan.costa@wanadoo.fr>
	Mark some surface formats as not supported.

	* dlls/msvcrt/scanf.h, dlls/msvcrt/tests/scanf.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Fix some sscanf cases and testcase to get wxtide32.exe running.

	* dlls/user/exticon.c: Robert Shearman <R.J.Shearman@warwick.ac.uk>
	PrivateExtractIcon* should search the path for the icon file.

	* dlls/comctl32/toolbar.c: Vitaliy Margolen <wine-patch@kievinfo.com>
	Revert change for resizing buttons.

	* dlls/iphlpapi/iphlpapi_main.c, dlls/iphlpapi/ipstats.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Add missing #includes for non-Linux systems.

	* tools/wineinstall: Mike Hearn <mike@theoretic.com>
	Make sure prefix is actually honoured by configure.
	Temporary hack for redhat users to enable NPTL.

	* dlls/kernel/resource.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix an obvious typo in get_res_name. Spotted by Mike McCormack.

	* dlls/oleaut32/tests/safearray.c, dlls/oleaut32/tests/vartest.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Make sure winsock.h gets included before stdlib.h.

	* dlls/user/user32.spec, include/winuser.h, windows/queue.c:
	Mike McCormack <mike@codeweavers.com>
	Implemented SetMessageExtraInfo.

	* dlls/kernel/tests/path.c: Francois Gouget <fgouget@codeweavers.com>
	Added a test for GetLongPathNameA("c:").
	Added a test for GetFullPathNameA("c:").
	Fix a number of messages that referred to GetLongPathName instead of
	GetFullPathName.

	* dlls/shdocvw/.cvsignore, dlls/shdocvw/Makefile.in,
	  dlls/shdocvw/version.rc, dlls/winsock/.cvsignore,
	  dlls/winsock/Makefile.in, dlls/winsock/version.rc,
	  dlls/wsock32/.cvsignore, dlls/wsock32/Makefile.in,
	  dlls/wsock32/version.rc:
	Francois Gouget <fgouget@codeweavers.com>
	Added version information.

	* dlls/winspool/info.c, dlls/winspool/winspool.drv.spec:
	Aric Stewart <aric@codeweavers.com>
	Stub AddPortA.

	* dlls/user/message.c: Mike McCormack <mike@codeweavers.com>
	Fixed packing/unpacking of WM_WININICHANGE.

	* dlls/shell32/shell32.spec, dlls/shell32/shellord.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Partial implementation/stub of undocumented function shell32.256.

	* dlls/shell32/shell32_main.c: Huw Davies <huw@codeweavers.com>
	Pass correct pointer to CoCreateInstance in SHLoadInProc.

	* dlls/setupapi/devinst.c, dlls/setupapi/setupx.spec:
	Huw Davies <huw@codeweavers.com>
	Implement a load of setupx Di* stubs.

	* dlls/setupapi/install.c: Huw Davies <huw@codeweavers.com>
	Use strtoulW instead of strtolW for DWORD conversion.

	* dlls/oleaut32/typelib.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Remove redundant ITypeLib2_AddRef's. Makes
	LoadTypeLib/ITypeLib2_Release work.

	* dlls/ole32/compobj.c, dlls/ole32/ole32.spec:
	Mike McCormack <mike@codeweavers.com>
	Added stub for OleDoAutoConvert.

	* dlls/imm32/Makefile.in, dlls/imm32/imm.c:
	Aric Stewart <aric@codeweavers.com>
	Implemented a number of IMM functions.
	Create a default HWND to process WM_IME messages.

	* dlls/commdlg/filedlg.c: Huw Davies <huw@codeweavers.com>
	Better handling of OFN_NOVALIDATE for win31 style file dialogs.

	* dlls/comctl32/pager.c: Ulrich Czekalla <uczekalla@codeweavers.com>
	Fixed bad non-client calculation.

	* dlls/comctl32/datetime.c: Huw Davies <huw@codeweavers.com>
	Fix DTM_SETSYSTEMTIME.
	Make the show/hide button actually do something.
	Add support for the 'yyyy' format.

	* dlls/iphlpapi/ifenum.c: Fixed some string overflows.

	* dlls/iphlpapi/.cvsignore: Added iphlpapi.spec.def.

	* dlls/kernel/tests/pipe.c: Dimitrie O. Paun <dpaun@rogers.com>
	Make sure winsock.h gets included before stdlib.h.

	* documentation/winelib-intro.sgml: Dimitrie O. Paun <dpaun@rogers.com>
	Fix a few style issues.

	* tools/winedump/main.c, tools/winedump/pe.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Listed recently added sections' types (resource, tls) for dumping to
	usage strings.
	Fixed some header size testing.

	* programs/wineconsole/registry.c: Eric Pouech <pouech-eric@wanadoo.fr>
	Quiet some valgrind reports.

	* dlls/kernel/tests/.cvsignore, dlls/kernel/tests/Makefile.in,
	  dlls/kernel/tests/console.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Added a set of tests for the console API.

	* dlls/kernel/console.c: Eric Pouech <pouech-eric@wanadoo.fr>
	Fixed console output for non wrapped mode.

	* dlls/ntdll/tests/env.c: Eric Pouech <pouech-eric@wanadoo.fr>
	Enhanced test for queries, added tests for expansion.

	* dlls/ntdll/env.c, dlls/ntdll/ntdll.spec, include/winternl.h:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Implemented RtlExpandEnvironmentStrings_U and fixed an incorrect
	behavior in RtlQueryEnvironmentString.

	* tools/winegcc.c: Dimitrie O. Paun <dpaun@rogers.com>
	Ignore -mthreads, it's not needed in Unix.

	* dlls/shdocvw/shdocvw.spec, dlls/shdocvw/shdocvw_main.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added some stubs needed for Win98 explorer.exe.

	* dlls/wsock32/Makefile.in, dlls/wsock32/socket.c,
	  dlls/wsock32/wscontrol.h:
	Juan Lang <juan_lang@yahoo.com>
	Changed wsock32 to use the new iphlpapi for interface and route
	enumeration in WsControl.

	* dlls/winsock/Makefile.in, dlls/winsock/socket.c:
	Juan Lang <juan_lang@yahoo.com>
	Use iphlpapi to implement SIO_GET_INTERFACE_LIST in WSAIoctl, and
	corrects iiFlags entry in the returned interface list.

	* programs/winedbg/gdbproxy.c: Use int instead of socklen_t.

	* controls/edit.c: Vitaliy Margolen <wine-patch@kievinfo.com>
	Fix problem with capturing [return] keys in multi-line edits.

	* dlls/comctl32/toolbar.c: Vitaliy Margolen <wine-patch@kievinfo.com>
	Get rid of direct ImageList access hacks.

	* dlls/comctl32/imagelist.c, dlls/comctl32/imagelist.h:
	Vitaliy Margolen <wine-patch@kievinfo.com>
	Rearrange members of HIMAGELIST to match Windows.
	Reuse image and mask DCs.

	* dlls/ntdll/signal_powerpc.c: Pierre d'Herbemont <stegefin@free.fr>
	- Save more registers (exception, float...) if they are defined.
	- Add Mac OS X signal support.

	* configure, configure.ac, dlls/Makefile.in, dlls/iphlpapi/.cvsignore,
	  dlls/iphlpapi/Makefile.in, dlls/iphlpapi/ifenum.c,
	  dlls/iphlpapi/ifenum.h, dlls/iphlpapi/iphlpapi.spec,
	  dlls/iphlpapi/iphlpapi_main.c, dlls/iphlpapi/ipstats.c,
	  dlls/iphlpapi/ipstats.h, include/Makefile.in, include/config.h.in,
	  include/ipexport.h, include/iphlpapi.h, include/ipifcons.h,
	  include/iprtrmib.h, include/iptypes.h:
	Juan Lang <juan_lang@yahoo.com>
	Added an implementation of iphlpapi.dll; most Get* functions
	introduced through Win98 are included.

	* dlls/kernel/kernel_main.c, scheduler/sysdeps.c, scheduler/thread.c:
	Allocate/free the 16-bit thread stack in the kernel dll init routine.

	* dlls/gdi/printdrv.c:
	Reset signal handlers when starting child process.

	* dlls/avifil32/acmstream.c, dlls/avifil32/api.c,
	  dlls/avifil32/avifile.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/dplayx/name_server.c, dlls/kernel/tests/path.c,
	  dlls/msvcrt/except.c, dlls/ntdll/rtlbitmap.c, dlls/ole32/compobj.c,
	  dlls/ole32/compobj_private.h, dlls/ole32/ftmarshal.c,
	  dlls/ole32/marshal.c, dlls/ole32/oleproxy.c, dlls/ole32/storage32.c,
	  dlls/oleaut32/tmarshal.c, dlls/oleaut32/typelib.c,
	  dlls/oleaut32/usrmarshal.c, dlls/rpcrt4/rpcrt4_main.c,
	  dlls/rpcrt4/rpcss_np_client.c, dlls/setupapi/setupapi.rc,
	  dlls/shell32/shres.rc, dlls/shlwapi/path.c,
	  documentation/documentation.sgml, documentation/porting.sgml,
	  documentation/winelib-porting.sgml, graphics/painting.c,
	  msdos/ppdev.c, programs/rpcss/rpcss_main.c, tools/c2man.pl:
	Francois Gouget <fgouget@free.fr>
	Fix miscellaneous spelling errors and typos.

	* include/winsock.h, include/winsock2.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	Add prototype for __WSAFDIsSet. Fix syntax error.

	* dlls/ole32/ole2stubs.c, include/objidl.h, include/objidl.idl:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	- Implement a few more cases in PropVariantClear.
	- Partially implement PropVariantCopy.
	- Implement FreePropVariantArray.

	* documentation/samples/config: Marcus Meissner <meissner@suse.de>
	Added 2 more InstallShield temporary exes for Desktop Mode.

	* dlls/kernel/wowthunk.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Support 14 and 15 arguments in WOW_CallProc32W16.

	* dlls/comctl32/listview.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Fix use of freed memory.

	* dlls/msvcrt/tests/file.c, dlls/shlwapi/tests/path.c:
	Francois Gouget <fgouget@free.fr>
	Change the #include order so the test compiles with the MSVC headers.
	Fix a few signed/unsigned warnings.

	* tools/winapi/msvcmaker: Francois Gouget <fgouget@free.fr>
	library/Makefile.in and unicode/Makefile.in don't exist anymore.

	* misc/main.c: Dimitrie O. Paun <dpaun@rogers.com>
	Small debug channel cleanup.

	* dlls/ntdll/loader.c: Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Fix NULL pointer error when displaying error message about missing
	forwarded export.

2003-05-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/user32.spec:
	Commented out the new win98 exports, they are causing trouble.

	* dlls/ntdll/ntdll.spec: Aric Stewart <aric@codeweavers.com>
	RtlUnicodeToMultiByteSize argument is not a null terminated string,
	use 'ptr'.

	* dlls/ntdll/heap.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Added missing return in HEAP_ValidateInUseArena.

	* dlls/msvcrt/dir.c, dlls/msvcrt/msvcrt.spec:
	Mike McCormack <mike@codeweavers.com>
	Implemented _wfullpath.

	* dlls/mpr/pwcache.c: Aric Stewart <aric@codeweavers.com>
	Better error return values from stub functions.

	* dlls/mpr/mpr.spec, dlls/mpr/mpr_main.c:
	Aric Stewart <aric@codeweavers.com>
	Added stub for DllCanUnloadNow.

	* dlls/kernel/sync.c: Aric Stewart <aric@codeweavers.com>
	Ignore requested access rights when emulated version is not NT.

	* dlls/gdi/mfdrv/graphics.c: Warren Baird <Warren_Baird@cimmetry.com>
	Fix the PolyPolygon function so it really generates a polypolygon and
	not multiple sets of polygons.

	* dlls/gdi/printdrv.c: Huw Davies <huw@codeweavers.com>
	Allow the cups port to be redirectable.  This gives us the option of
	piping the PostScript through something before it gets sent to the
	printer (like we can already do for non-cups systems).

	* dlls/ctl3d/ctl3d32.c, dlls/ctl3d/ctl3d32.spec:
	Mike McCormack <mike@codeweavers.com>
	Added ordinals to ctl3d32.dll, MyODBC references it by ordinal.

	* controls/combo.c, controls/edit.c:
	Aric Stewart <aric@codeweavers.com>
	Added handling of WM_IME_CHAR.

	* controls/static.c, include/winuser.h:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added definition of SS_USERITEM.

	* dlls/crypt32/crypt32.spec, dlls/crypt32/main.c, include/wincrypt.h:
	Mike McCormack <mike@codeweavers.com>
	Added stubs for CertSaveStore and CertEnumCertificatesInStore.

	* dlls/comctl32/monthcal.c: Huw Davies <huw@codeweavers.com>
	Fixed a possible memory corruption.
	Fixed a memory leak.

	* controls/menu.c: Don't track the system menu for managed windows.

	* dlls/d3d8/cubetexture.c, dlls/d3d8/d3d8_private.h,
	  dlls/d3d8/device.c, dlls/d3d8/surface.c, dlls/d3d8/texture.c,
	  dlls/d3d8/volume.c, dlls/d3d8/volumetexture.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- surface pool init fixes
	- minor indentation and traces fixes
	- fix locking/unlocking/dirty behavior (dirtify on lock) +
	  optimisations (only copy when dirty)
	- fix IDirect3DDevice8::Clear behavior (problem seen after a
	  locking/unlocking code error)
	- begin to fix volume and cube textures management

	* dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dtexture.c, dlls/ddraw/direct3d/main.c,
	  dlls/ddraw/direct3d/mesa.c, dlls/ddraw/mesa.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- separate geometry tracing in a new debug channel (ddraw_geom)
	- added handling for some new texturing ops
	- prepare for addition of multi-texturing
	- another way to fix the device enumeration for the reference device
	- fix compilation with some glext.h files
	- fix a bug in one texture conversion function
	- added new texture format (but still texturing problems in 3DMark2000)

	* dlls/wsock32/wscontrol.h: Pierre d'Herbemont <stegefin@free.fr>
	Undef if_type, if_mtu and if_lastchange for darwin.

	* server/context_powerpc.c: Pierre d'Herbemont <stegefin@free.fr>
	Add support for Darwin's ptrace.

2003-05-11  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ddraw/ddraw/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Initialize the dwMipmapCount field even if the application forgets it.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/main.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- added mipmapping support
	- added locking for concurrent access to the D3D device
	- improved tracing
	- added support for most texture combine stages (inspired by the D3D8
	  code)
	- disable current lock / unlock code pending proper solution

	* dlls/comctl32/listview.c: Stephan Beuze <fbiggun@hotmail.com>
	Implemented Get/SetToolTips functions.

	* dlls/comctl32/comctl32.spec, dlls/comctl32/comctl32undoc.c,
	  dlls/comctl32/commctrl.c:
	Ordinals 410-413 are the window subclassing functions.

	* documentation/wine-faq.sgml:
	Store the HTML into index.html like for the other docs.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c,
	  dlls/d3d8/indexbuffer.c, dlls/d3d8/resource.c,
	  dlls/d3d8/stateblock.c, dlls/d3d8/surface.c, dlls/d3d8/swapchain.c,
	  dlls/d3d8/vertexbuffer.c, dlls/d3d8/volume.c,
	  dlls/d3d8/volumetexture.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- minor COM fixes (fixes some crashes on stupid games)
	- minor indentation changes
	- fix SELECTARG2 behavior (with help from Lionel Ulmer)
	- surface locking/unlocking (only rendering and textures surfaces
	  supported now)
	- beginning of Target/Front surface support
	- try to get D3DTOP_SELECTARG_* working
	- implemented D3DTOP_SUBTRACT: currently only if OpenGL1.3 is used, we
	  have to use GL_SUBTRACT_ARB for other versions

	* dlls/gdi/gdi32.spec, objects/dc.c:
	Added partial stub for GetTransform.

	* dlls/shell32/shlfileop.c: Mike McCormack <mike@codeweavers.com>
	Clean up SHFileOperationA/W debugging a little.

	* dlls/winmm/wavemap/wavemap.c, dlls/winmm/wineoss/audio.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Stop wavemap lookup if a device isn't functional (spotted by Lionel
	Ulmer).

	* dlls/winedos/int21.c: Jukka Heinonen <jhei@iki.fi>
	Make read from stdin use buffered input code and redirect stderr to
	console.

	* msdos/ioports.c: Jukka Heinonen <jhei@iki.fi>
	Make ioport instruction emulation call winedos handlers.

	* windows/queue.c: Dmitry Timoshkov <dmitry@baikal.ru>
	Poll X events in GetInputState the same way as in GetQueueStatus.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix custom draw for item 0.

	* dlls/ddraw/d3dexecutebuffer.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Enable branch forward operation in execute buffer.

	* dlls/ddraw/d3ddevice/mesa.c: Christian Costa <titan.costa@wanadoo.fr>
	Put the device name string on the stack during devices enumeration.
	Disable reference enumeration.

	* controls/edit.c: Christian Costa <titan.costa@wanadoo.fr>
	Add missing ReleaseDC in EDIT_BuildLineDefs_ML.

	* objects/metafile.c: Huw Davies <huw@codeweavers.com>
	Playback escapes in metafiles.

	* dlls/ntdll/ntdll.spec, dlls/oleaut32/oleaut32.spec:
	Removed unnecessary function link names.

	* Makefile.in: Remove libs/Makelib.rules on distclean.

	* dlls/gdi/gdi32.spec, objects/dc.c: Huw Davies <huw@codeweavers.com>
	Added stub for SetVirtualResolution.

	* dlls/x11drv/scroll.c, windows/scroll.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	We should pass the callers client-area rect and clip rect to x11drv
	otherwise we'll fail to scroll all children.

	* dlls/winmm/winmm.c: Avoid local WINAPI function pointers.

	* dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Mike McCormack <mike@codeweavers.com>
	Implemented InternetSetOptionExA/W.

	* dlls/user/painting.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix the logic for setting the lps->fErase flag in BeginPaint.

	* dlls/user/message.c, windows/winproc.c:
	Added A<->W mappings for WM_IME_CHAR.

	* memory/global.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Protect GlobalLock from bad pointers.

	* libs/unicode/wctomb.c:
	Handle overlapping buffers properly in wcstombs_sbcs (spotted by
	Dmitry Timoshkov).

	* graphics/x11drv/clipping.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Don't delete region until after we're done with it.

	* objects/clipping.c: Ulrich Czekalla <uczekalla@codeweavers.com>
	Return value of ExtSelectClipRgn should consider visible region.

	* graphics/mapping.c, objects/enhmetafile.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Make SetMapMode set default window and viewport extents as in
	Windows.

	* programs/wcmd/wcmdmain.c: Francois Gouget <fgouget@codeweavers.com>
	Fix handling of wcmd /c "c:\Program Files\hello.bat".
	Make /c and /k effectively exclusive, like the real cmd does.
	Fix handling of /q: it's compatible with /c and /k.
	Added compatibility with /t /x and /y, just ignore them.

	* programs/winepath/winepath.c:
	Francois Gouget <fgouget@codeweavers.com>
	Reset the result buffer after each argument.

	* server/fd.c:
	Ignore locking failures caused by missing NFS locking daemon.
	Handle EINVAL the same way as EOVERFLOW.

	* windows/msgbox.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Ignore high word of wParam when handling WM_COMMAND in the MessageBox
	proc.

	* windows/input.c: Dusan Lacko <dlacko@codeweavers.com>
	Fix ALT context bit for WM_KEYDOWN/UP.

	* windows/dialog.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Windows treats dialog control class ids 0-5 same way as 0x80-0x85.

	* dlls/user/dialog16.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Do not abort dialog creation if DS_NOFAILCREATE allows to continue.

	* dlls/rasapi32/rasapi.c, dlls/rasapi32/rasapi32.spec:
	Aric Stewart <aric@codeweavers.com>
	Added RasEnumEntriesW stub.

	* dlls/ole32/ole2stubs.c, dlls/ole32/storage32.c:
	Mike McCormack <mike@codeweavers.com>
	Implemented WriteFmtUserTypeStg and ReadFmtUserTypeStg.

	* dlls/commdlg/filedlg95.c: Mike McCormack <mike@codeweavers.com>
	Fill the filedialog95 controls before sending a CDN_INITDONE
	notification.

	* dlls/comctl32/progress.c: Huw Davies <huw@codeweavers.com>
	Invalidate the window when the range is changed.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/security.c:
	Mike McCormack <mike@codeweavers.com>
	Stubs for AccessCheckAndAuditAlarmA/W.

2003-05-08  Alexandre Julliard  <julliard@winehq.com>

	* VERSION, configure, ANNOUNCE, ChangeLog: Release 20030508.

----------------------------------------------------------------
2003-05-08  Alexandre Julliard  <julliard@winehq.com>

	* libs/unicode/utf8.c:
	Fixed return value of wine_utf8_wcstombs (spotted by Jan Sporbeck).

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- only enumerate 32 bpp ARGB texture format and remove RGBA one
	- add support for 32 bpp ARGB texture format

	* scheduler/sysdeps.c: Adam Gundy <arg@cyberscience.com>
	writejump() needs to tell valgrind which piece of code has been
	modified.

	* dlls/msvcrt/file.c: Adam Gundy <arg@cyberscience.com>
	_open_osfhandle is expected to take the absence of either _O_TEXT or
	_O_BINARY to mean _O_BINARY.

	* dlls/d3d8/basetexture.c, dlls/d3d8/d3d8_private.h,
	  dlls/d3d8/device.c, dlls/d3d8/directx.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- Disable some 'classic' debug traces (avoid useless flood of traces
	  while debugging games).
	- Fix the texture size caps using GL_MAX_TEXTURE_SIZE.

	* dlls/oleaut32/olepicture.c:
	Maxime Bellengé <maxime.bellenge@laposte.net>
	- Fix scanline size in OLEPictureImpl_Load for jpeg
	- Convert from RGB to BGR according to BITMAPINFOHEADER
	  documentation.

	* controls/button.c: Maxime Bellengé <maxime.bellenge@laposte.net>
	Correctly fill the background of a checkbox button.

	* dlls/ntdll/loader.c, include/module.h, include/winternl.h,
	  loader/pe_image.c:
	Added support for calling the TLS callback functions.

	* tools/winedump/pe.c: Added dumping of the TLS directory.

	* dlls/ntdll/virtual.c:
	Fixed wrong file offset used when mapping the import directory from a
	shared section.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c,
	  dlls/d3d8/shader.c, dlls/d3d8/texture.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	- Move texture loading into PreLoad for 2D textures (needs doing for
	  the others as well), and call when needed as well.
	- Change D3DFMT_R5G6B5 handling to make backdrop of Max Payne appear.
	- Add code to reject attempts to use invalid texture units (Max Payne
	  did this a lot).
	- ValidateDevice fixme silenced as harmless but occurs frequently.
	- Add trace which can be compiled in to debug vertex shaders, and
	  correct fixmes and dprintf's into appropriate trace statements.
	- Ensure we trace what we return when querying the device caps.
	- Correct bug with negative numbers in vertex shader code.

	* include/winnt.h: Pierre d'Herbemont <stegefin@free.fr>
	Add Dar, Dsisr and Trap registers for the PowerPC CONTEXT structure.

	* dlls/ntdll/tests/.cvsignore, dlls/ntdll/tests/Makefile.in,
	  dlls/ntdll/tests/env.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Added environment tests.

	* dlls/ntdll/Makefile.in, dlls/ntdll/env.c, dlls/ntdll/ntdll.spec,
	  dlls/ntdll/ntdll_misc.h, dlls/ntdll/rtl.c, include/winternl.h,
	  scheduler/process.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Implemented a bunch of environment related NTDLL APIs.

2003-05-07  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/resource.c: Added NONAMELESSUNION/STRUCT defines.

	* server/context_i386.c: Fixed typo in return value of tkill().

	* dlls/kernel/resource.c, dlls/ntdll/Makefile.in,
	  dlls/ntdll/resource.c, include/winbase.h, include/winternl.h,
	  loader/pe_resource.c:
	Moved the EnumResource* functions to the kernel dll, and fixed their
	prototypes.

	* dlls/kernel/format_msg.c:
	Use RtlFindMessage to load message resources.

	* dlls/opengl32/make_opengl, dlls/opengl32/opengl32.spec,
	  dlls/opengl32/wgl.c, dlls/opengl32/wgl.h:
	Michael Schlüter <michael@johalla.de>
	Added wglGetExtensionsStringARB.

	* dlls/winedos/vga.c: Jukka Heinonen <jhei@iki.fi>
	Add scrolling support for VGA text mode.

2003-05-06  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/virtual.c:
	Added comment about why changing ADDRESS_SPACE_LIMIT is wrong.

	* dlls/ntdll/signal_i386.c:
	Added support for retrieving page fault address on Solaris (based on a
	patch by Robert Lunnon).

	* configure, configure.ac:
	In assembler check, try to use gas first (based on a patch by Robert
	Lunnon).

	* dlls/shell32/shelllink.c: Robert Lunnon <bob@yarrabee.net.au>
	Eliminate segfault due to NULL This->sIcoPath.

	* documentation/configuring.sgml:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Mention the necessary configuration file header.

	* Make.rules.in, dlls/gdi/Makefile.in, dlls/kernel/Makefile.in,
	  dlls/shell32/Makefile.in, dlls/user/Makefile.in,
	  programs/winhelp/Makefile.in:
	Dimitrie O. Paun <dpaun@rogers.com>
	Make it easy to use something other than wrc to compile resources.

	* dlls/ntdll/tests/rtlstr.c: Thomas Mertes <thomas.mertes@gmx.at>
	Tests for RtlDuplicateUnicodeString, RtlFindCharInUnicodeString,
	RtlInitUnicodeStringEx.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/rtlstr.c, include/winternl.h:
	Thomas Mertes <thomas.mertes@gmx.at>
	Implement RtlDuplicateUnicodeString, RtlFindCharInUnicodeString,
	RtlInitUnicodeStringEx.
	Documentation updates for RtlInitAnsiString, RtlInitString,
	RtlInitUnicodeString, RtlAnsiStringToUnicodeString and
	RtlOemStringToUnicodeString.

	* dlls/winmm/wineoss/midi.c: Marcus Meissner <meissner@suse.de>
	Added include <errno.h>.

	* controls/edit.c: Achim Kaiser <mail1@kaisersite.de>
	Take font metrics into account for EC_USEFONTINFO margins.

	* server/ptrace.c:
	Fixed a couple of races with exiting threads in suspend_for_ptrace().

	* dlls/kernel/sync.c:
	Fixed return value of CreateNamedPipe (spotted by Mike McCormack).

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Add support for MultiplyTransform (helps make the SkimmedMesh SDK
	sample look better).

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Add the beginnings of support for texture coordinates.

	* dlls/dpnhpast/main.c: Marcus Meissner <meissner@suse.de>
	Fix return code of DPNHPAST_DllGetClassObject stub.

	* dlls/dmusic/dmusic.c, dlls/dmusic/dmusic_performance.c,
	  dlls/dmusic/dmusic_port.c, dlls/dmusic/dmusic_private.h:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	- implemented some more port related-functions
	- fixed warnings (reported by Gerald Pfeifer)

	* dlls/winedos/int21.c: Jukka Heinonen <jhei@iki.fi>
	Report errors to applications when illegal dates are passed to set
	system date call (required by many installation checks).

2003-05-04  Alexandre Julliard  <julliard@winehq.com>

	* dlls/avifil32/avifile_Ru.rc, dlls/avifil32/rsrc.rc,
	  dlls/comctl32/comctl_Ru.rc, dlls/comctl32/rsrc.rc,
	  dlls/commdlg/cdlg_Ru.rc, dlls/msvideo/msrle32/msrle_Ru.rc,
	  dlls/msvideo/msrle32/rsrc.rc, dlls/shell32/shell32_Ru.rc,
	  dlls/user/resources/user32_Ru.rc, programs/clock/Ru.rc,
	  programs/clock/rsrc.rc, programs/notepad/Ru.rc,
	  programs/notepad/rsrc.rc, programs/progman/Ru.rc,
	  programs/progman/rsrc.rc, programs/start/Ru.rc,
	  programs/start/rsrc.rc, programs/wineconsole/wineconsole_Ru.rc,
	  programs/wineconsole/wineconsole_res.rc, programs/winefile/Ru.rc,
	  programs/winefile/rsrc.rc, programs/winhelp/Ru.rc,
	  programs/winhelp/rsrc.rc:
	Igor Stepin <is@xtm.ru>
	Added a lot of Russian translations.

	* dlls/x11drv/event.c, dlls/x11drv/window.c:
	Mike Hearn <m.hearn@signal.qinetiq.com>
	Support _NET_WM_PING protocol so the WM can detect freezes.

	* libs/port/interlocked.c: Pierre d'Herbemont <stegefin@free.fr>
	Add register preservation when using lawrx instruction.
	Fix ';' ending to '\n' ending for a better compatibility with darwin.

	* dlls/dmusic/dmusic.c, dlls/dmusic/dmusic_loader.c,
	  dlls/dmusic/dmusic_main.c, dlls/dmusic/dmusic_performance.c:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Dmusic class factory can now create dmloader8 and dmperformance8.

	* dlls/winedos/dosvm.c: Marcus Meissner <meissner@suse.de>
	Fixed non-x86 DOSVM_Wait prototype.

	* dlls/ntdll/signal_powerpc.c: Marcus Meissner <meissner@suse.de>
	Fixed powerpc compile.

	* dlls/dsound/dsound_main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Give the right ids to the DirectSoundCreate8 function (thanks to
	Robert Reif).

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Actually set the GL context before doing any GL calls.

	* dlls/kernel/kernel32.spec, dlls/kernel/time.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added SetSystemTimeAdjustment stub.

2003-05-02  Alexandre Julliard  <julliard@winehq.com>

	* programs/winedbg/stabs.c:
	Added dummy read_elf_info for the non-ELF case (reported by Steven
	Edwards).

	* dlls/user/keyboard.spec: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added some stubs.

	* dlls/dsound/mixer.c, dlls/dsound/primary.c:
	Robert Reif <reif@earthlink.net>
	Move all tests to outside the loop when setting volume.
	Add traces to functions.

	* dlls/dsound/dsound_main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	- misc. tracing fixes
	- handle IID_IDirectSound(8) as the default sound driver

	* dlls/dmusic/Makefile.in, dlls/dmusic/dmusic.c,
	  dlls/dmusic/dmusic_private.h, winedefault.reg:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Implemented DirectMusic:EnumPort and DirectMusic:GetDefaultPort.

	* server/semaphore.c: Removed no longer correct assertion.

	* misc/registry.c: Removed useless check for registry file version.

	* dlls/dsound/buffer.c, dlls/dsound/capture.c,
	  dlls/dsound/dsound_main.c, dlls/dsound/dsound_private.h,
	  dlls/dsound/mixer.c, dlls/dsound/propset.c:
	Robert Reif <reif@earthlink.net>
	Reversed relationship between buffers and notifies.
	Fixed notify reuse bug.
	Minor documentation and error message cleanup.

	* dlls/winmm/wineoss/audio.c: Robert Reif <reif@earthlink.net>
	Added driver property set implementation.
	Fixed notify release bug.

	* dlls/comctl32/treeview.c: Adam Gundy <arg@cyberscience.com>
	When items are inserted in a partially populated treeview, the first
	visible item was not correctly updated.
	The first visible item was sometimes used to calculate the location of
	other items when it had been freed.

	* dlls/comctl32/listview.c, include/commctrl.h:
	Adam Gundy <arg@cyberscience.com>
	Check the mask flags in the item structure to determine how much
	memory to read/write.

	* dlls/winedos/devices.c, dlls/winedos/dosexe.h, dlls/winedos/dosvm.c,
	  dlls/winedos/int16.c, dlls/winedos/int21.c:
	Jukka Heinonen <jhei@iki.fi>
	Remove obsolete code from DOSVM_Wait.
	Prepare DOSVM_Wait for handling nested interrupts in both real and
	protected mode.
	Provide temporary workaround for keyboard related deadlock.

	* dlls/winedos/int31.c: Jukka Heinonen <jhei@iki.fi>
	Report correct IRQ bases to DPMI applications.
	Make int31 print more tracing information.

	* dlls/winedos/module.c, programs/winevdm/winevdm.c:
	Jukka Heinonen <jhei@iki.fi>
	Fix argument passing to DOS program from winevdm.
	Add support for invoking DOS programs with long command lines.

	* documentation/faq.sgml: Dimitrie O. Paun <dpaun@rogers.com>
	Remove stale links from the FAQ.

	* dlls/user/user32.spec: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added missing Win98 user32.dll function exports entries.

	* documentation/introduction.sgml, documentation/running.sgml:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- improve intro text
	- describe alternatives to Wine

	* documentation/HOWTO-winelib: Dimitrie O. Paun <dpaun@rogers.com>
	Remove some obsolete and/or redundant info.

2003-05-01  Alexandre Julliard  <julliard@winehq.com>

	* Make.rules.in, configure, configure.ac, include/wine/wpp.h,
	  libs/Makefile.in, libs/wpp/.cvsignore, libs/wpp/Makefile.in,
	  libs/wpp/ppl.l, libs/wpp/ppy.y, libs/wpp/preproc.c, libs/wpp/wpp.c,
	  libs/wpp/wpp_private.h, tools/Makefile.in, tools/widl/Makefile.in,
	  tools/widl/parser.l, tools/widl/widl.c, tools/winewrapper,
	  tools/wrc/Makefile.in, tools/wrc/parser.y, tools/wrc/wrc.c:
	Moved the wpp library from tools/ to libs/.
	Create symlinks to the various libraries in the libs directory.

	* configure, configure.ac, libs/.cvsignore, libs/Makelib.rules.in,
	  libs/unicode/Makefile.in, libs/wine/Makefile.in:
	Moved rules for building shared libraries into a global Makelib.rules
	file.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/security.c,
	  dlls/ntdll/ntdll.spec, dlls/ntdll/sec.c, include/winternl.h:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	- Implemented RtlAddAccessAllowedAce, RtlAddAccessDeniedAce,
	  RtlAddAce, RtlValidAcl.
	- Added the corresponding functions in advapi32.
	- Grouped the ACL functions in advapi32.

	* documentation/wine.conf.man:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Application specific settings are also supported for dsound and
	version sections.

	* programs/winefile/winefile.c: Igor Stepin <is@xtm.ru>
	Changed font charset from ANSI to DEFAULT_CHARSET.

2003-04-30  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/animate.c: Mike Hearn <m.hearn@signal.qinetiq.com>
	Change return code comparison in AVI control (from patch by
	stanleyg76@yahoo.com).

	* documentation/samples/system.ini:
	Mike Hearn <m.hearn@signal.qinetiq.com>
	Add default codec entry (from patch by stanleyg76@yahoo.com).

	* controls/button.c: Maxime Bellengé <maxime.bellenge@laposte.net>
	- Fix some indentation problems.
	- Handle correctly the alignement of the checkboxes if the
	  BS_TOP/BS_BOTTOM flags are set.

	* dlls/winmm/mci.c, dlls/winmm/mmsystem.c, dlls/winmm/winemm.h:
	Avoid calling Win32 resource functions on 16-bit modules.

	* miscemu/Makefile.in:
	We still need to link against ntdll until the pthread stuff is fixed
	properly.

	* dlls/lzexpand/lzexpand16.c, dlls/lzexpand/lzexpand_main.c,
	  dlls/version/resource.c, include/lzexpand.h:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Fix for building lzexpand with Mingw or MS_VC++ includes

	* libs/wine/wine.def: Added wine_init.

	* dlls/ntdll/resource.c:
	Fixed typo in last minute change (spotted by Gerald Pfeifer).

	* dlls/kernel/Makefile.in, dlls/kernel/resource.c,
	  dlls/kernel/resource16.c, dlls/ntdll/Makefile.in, if1632/builtin.c,
	  include/module.h, loader/ne/convert.c, loader/ne/module.c,
	  loader/ne/resource.c, loader/pe_resource.c, loader/resource.c:
	Moved most of the kernel resource APIs to dlls/kernel.

	* dlls/user/painting.c: Dmitry Timoshkov <dmitry@baikal.ru>
	Protect BeginPaint and EndPaint from lps being NULL.

	* dlls/comctl32/tab.c: Maxime Bellengé <maxime.bellenge@laposte.net>
	Fix bounding rectangle computation for an ownerdraw tab.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Generate custom draw notifications for ownerdraw listviews (based on a
	patch by Maxime Bellengé).
	Reorganize the custom draw code for better reuse.

	* dlls/netapi32/tests/wksta.c, dlls/netapi32/wksta.c:
	Juan Lang <juan_lang@yahoo.com>
	Better API compliance and test case for NetWkstaTransportEnum.

2003-04-29  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/locale.c, dlls/ntdll/Makefile.in, dlls/ntdll/ntdll.spec,
	  dlls/ntdll/resource.c, include/winternl.h:
	Implemented ntdll resource functions.

	* dlls/winmm/wineoss/audio.c: Robert Reif <reif@earthlink.net>
	Fixed a problem where OSS trigger support is inconsistent.

	* dlls/commdlg/cdlg.h, dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c,
	  dlls/commdlg/filedlg95.c, dlls/commdlg/finddlg.c,
	  dlls/commdlg/fontdlg.c, dlls/commdlg/generic.c,
	  dlls/commdlg/printdlg.c:
	Get rid of the COMMDLG_hInstance variables.

	* dlls/dsound/dsound_main.c, dlls/dsound/propset.c,
	  include/Makefile.in, include/dsconf.h, libs/uuid/dxguid.c:
	Robert Reif <reif@earthlink.net>
	Added partial property set support which is used by dxdiag.exe.

	* dlls/winmm/wineoss/Makefile.in, dlls/winmm/wineoss/audio.c:
	Robert Reif <reif@earthlink.net>
	Added driver notify implementation.

	* dlls/dinput/device.c: Christian Costa <titan.costa@wanadoo.fr>
	Small fix in IDirectInputDevice2Impl_QueryInterface.

	* windows/cursoricon.c: Maxime Bellengé <maxime.bellenge@laposte.net>
	- Fix some indentation.
	- Fix the loading of icon resources.

	* dlls/d3d8/d3d8_private.h: Christian Costa <titan.costa@wanadoo.fr>
	Reserve space for 16 streams in the stateblock.

	* dlls/dinput/dinput_main.c: Christian Costa <titan.costa@wanadoo.fr>
	Enable creation of DirectInput objects trough CoCreateInstance.

2003-04-27  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winedos/module.c: Fixed non-MZ case broken by previous patch.

	* programs/Makefile.in: Hans Leidekker <hans@it.vu.nl>
	Install winevdm.

	* objects/font.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	Moved (stub) implementation of GetKerningPairs from ascii to unicode.

	* include/commctrl.h: Dimitrie O. Paun <dpaun@rogers.com>
	Indentation fixes.

	* dlls/wininet/urlcache.c, dlls/wininet/wininet.spec:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Some UrlCache stubs.

	* dlls/winspool/info.c, dlls/winspool/winspool.drv.spec:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added GetPrintProcessorDirectoryA stub.

	* dlls/comctl32/tab.c: Stephan BEUZE <fbiggun@hotmail.com>
	Implemented message TCM_SETPADDING with the Dimitri's advice.

	* configure, configure.ac, dlls/winedos/module.c,
	  dlls/winedos/winedos.spec, include/callback.h, libs/wine/loader.c,
	  loader/ne/module.c, loader/task.c, miscemu/.cvsignore,
	  miscemu/Makefile.in, miscemu/main.c, msdos/dpmi.c,
	  programs/Makefile.in, programs/winevdm/.cvsignore,
	  programs/winevdm/Makefile.in, programs/winevdm/winevdm.c,
	  scheduler/process.c:
	Moved the functionality of starting Win16 and DOS programs from the
	common process startup into a separate winevdm application.

	* dlls/oleaut32/usrmarshal.c: Added NONAMELESSUNION/STRUCT defines.

	* loader/loadorder.c:
	Silently ignore 'so' loadorder in the config file instead of
	displaying an error.

	* dlls/winmm/winealsa/audio.c:
	Make sure that snd_pcm_open returned a valid handle before using it.

	* dlls/winmm/winearts/Makefile.in, dlls/winmm/winearts/audio.c,
	  dlls/winmm/wineaudioio/audio.c, dlls/winmm/winejack/audio.c,
	  dlls/winmm/winenas/Makefile.in, dlls/winmm/winenas/audio.c:
	Jerry Ji <JerryJz@hotmail.com>
	The missing part of multiple device support for winearts, wineaudioio,
	winejack and winenas.

	* dlls/dmusic/Makefile.in, dlls/dmusic/dmusic.c,
	  dlls/dmusic/dmusic_main.c, dlls/dmusic/dmusic_performance.c,
	  dlls/dmusic/dmusic_private.h:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Some dmusic functions implementation.

	* programs/winecfg/Makefile.in, programs/winecfg/winecfg.c:
	Matthew Davison <m.davison@virgin.net>
	Added some registry-loading code.

	* controls/edit.c: Brad Campbell <brad@seme.com.au>
	EM_REPLACESTR was not respecting buffer_limit.

	* win32/except.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	Removed W->A calls from FatalAppExitW.

	* dlls/comctl32/trackbar.c:
	Maxime Bellengé <maxime.bellenge@laposte.net>
	Fix the computation of the trackbar's size.

2003-04-26  Alexandre Julliard  <julliard@winehq.com>

	* server/ptrace.c:
	Properly handle the wait4 syscall failure on kernels that don't
	support the __WALL flag.

	* dlls/rpcrt4/ndr_marshall.c, dlls/rpcrt4/rpcrt4.spec:
	Added a few stubs needed by the generated oaidl_p.c.

	* dlls/oleaut32/Makefile.in, dlls/oleaut32/oaidl_p.c,
	  dlls/oleaut32/oleaut32.spec, dlls/oleaut32/usrmarshal.c:
	Ove Kaaven <ovek@transgaming.com>
	Preliminary implementation of proper IDispatch marshalling.

	* documentation/faq.sgml: Francois Gouget <fgouget@free.fr>
	Many typo fixes and case fixes.
	Rephrased things here and there.

	* dlls/user/tests/.cvsignore, dlls/user/tests/Makefile.in,
	  dlls/user/tests/listbox.c:
	Ferenc Wagner <wferi@tba.elte.hu>
	Added listbox test.

	* dlls/winmm/wineoss/audio.c: Robert Reif <reif@earthlink.net>
	Fixed bug caused by OSS inconsistent trigger operation on different
	hardware.

	* dlls/comctl32/trackbar.c:
	Maxime Bellengé <maxime.bellenge@laposte.net>
	Remove the sending of NM_TOOLTIPSCREATED which is non existent under
	Windows during the creation of the trackbar.

	* winedefault.reg: Rok Mandeljc <rokmandeljc@hotmail.com>
	Added dmusic registry entries.

	* dlls/kernel/nls/nld.nls: Hans Leidekker <hans@it.vu.nl>
	Dutch localisation of language group names.

	* dlls/shell32/shlfileop.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Fix some typos and a memory leak in SHFileOperationA.

2003-04-22  Alexandre Julliard  <julliard@winehq.com>

	* dlls/d3d8/directx.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/opengl32/wgl.c, dlls/x11drv/x11drv.h, include/x11drv.h:
	Moved x11drv.h to dlls/x11drv.

	* dlls/ntdll/file.c, dlls/ntdll/ntdll.spec, files/file.c,
	  include/winternl.h:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Moved kernel32.FlushFileBuffers to ntdll.NtFlushBuffersFile.

	* tools/wineinstall: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Don't change to ttydrv to install registry, regedit doesn't use X.
	Make sure the current dir is mapped in DOS.

	* dlls/user/user32.spec, dlls/user/user_main.c,
	  dlls/x11drv/x11drv.spec, dlls/x11drv/xvidmode.c, include/user.h,
	  include/winuser.h, windows/user.c:
	Alex Pasadyn <ajp@mail.utexas.edu>
	Implemented EnumDisplaySettings* and ChangeDisplaySettings*.

2003-04-21  Alexandre Julliard  <julliard@winehq.com>

	* Make.rules.in, dlls/Makedll.rules.in, dlls/Maketest.rules.in,
	  dlls/gdi/Makefile.in, dlls/kernel/Makefile.in,
	  dlls/ntdll/Makefile.in, dlls/shell32/Makefile.in,
	  dlls/user/Makefile.in, include/Makefile.in, miscemu/Makefile.in,
	  programs/Makeprog.rules.in, programs/avitools/Makefile.in:
	Removed no longer needed uses of LDPATH.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Only reapply the world, view or projection transform changes if we
	really have to.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	MIRROR_ARB support is not dependent on OpenGL 1.3 as I originally
	ifdef'ed. It is apparently introduced fully in 1.4, or dependent on
	another ifdef, GL_ARB_texture_mirrored_repeat.

	* tools/winebuild/Makefile.in, tools/winebuild/res32.c:
	Resource names don't need a case-sensitive comparison; this avoids
	depending on libwine_unicode.

	* dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Dan Wolf <djwolf@realitywave.com>
	Implemented a stub for DetectAutoProxyUrl.

	* dlls/ntdll/Makefile.in, dlls/winedos/Makefile.in,
	  dlls/winedos/dosconf.c, dlls/winedos/dosexe.h, dlls/winedos/int21.c,
	  include/miscemu.h, include/msdos.h, msdos/dosconf.c, msdos/int21.c:
	Jukka Heinonen <jhei@iki.fi>
	Moved dosconf.c to winedos.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Don't reapply all the texture states if the texture we are replacing
	is the same as the texture there already and the texture is not
	'dirty'.

	* Make.rules.in, configure, configure.ac, dlls/Maketest.rules.in:
	Support resources in cross-compiled tests.

	* dlls/kernel/nls/ptb.nls, dlls/kernel/nls/ptg.nls:
	Marcelo Duarte <wine-devel@bol.com.br>
	Localization of the new language group strings.

	* documentation/documentation.sgml:
	Dimitrie O. Paun <dimi@intelliware.ca>
	Remove references to obsolete files.

	* dlls/d3d8/indexbuffer.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Silence index buffer lock + offset fixme to a trace because the
	behaviour under that scenario works.

	* dlls/d3d8/device.c, dlls/d3d8/directx.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	DOT3 isn't there on earlier opengl versions.

2003-04-20  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac, include/config.h.in, include/wine/port.h:
	Check for struct option independently of the getopt_long check.

	* scheduler/client.c:
	Set SA_NOCLDWAIT in the SIGCHLD sigaction to avoid zombies.

	* dlls/d3d8/directx.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	When a game requests fullscreen, make its window the dimensions
	requested. Ideally this should be followed by making the screen that
	resolution, but this suffices for now.

	* misc/version.c, scheduler/process.c:
	Explicitly call VERSION_Init with the main exe file name, so that
	application settings work for Win16 and DOS apps too.

	* documentation/db2html-winehq, documentation/make_winehq:
	Dimitrie O. Paun <dimi@intelliware.ca>
	Use the standard db2html instead of our db2html-winehq script.

	* dlls/d3d8/directx.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Windows never reports 24 bit colours, and some games fail to work
	unless in specific modes. Report 16bit colour for 24bit modes.

2003-04-19  Alexandre Julliard  <julliard@winehq.com>

	* programs/winedbg/gdbproxy.c: Eric Pouech <pouech-eric@wanadoo.fr>
	- added support for multi-thread in GDB remote read/write register(s)
	  commands
	- by default, internal errors are now verbose

	* controls/desktop.c, dlls/ttydrv/wnd.c, dlls/x11drv/desktop.c,
	  dlls/x11drv/window.c:
	Don't bother sending WM_NCCREATE to the desktop window, this doesn't
	work anyway (spotted by Uwe Bonnes).

	* dlls/d3d8/directx.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Correct device capabilites including support in previous patch, as
	well as making the texture operations capabilities more accurate.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Add DotProduct3 support if supported by opengl.

	* dlls/kernel/locale.c, dlls/kernel/locale_rc.rc,
	  dlls/kernel/nls/*.nls, include/winnls.h:
	Maxime Bellengé <maxime.bellenge@laposte.net>
	Added resource strings for language groups.

	* dlls/shell32/shlfileop.c, include/shellapi.h:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Reimplement SHFileOperation in Unicode, based on the work of Dietrich
	Teickner.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Make codesampler texture addressing mode sample work better.
	Add mirrorsupport (if opengl 1.3) and make clamp and border appear
	more similar to Windows.

	* include/rpc.h: Ove Kaaven <ovek@transgaming.com>
	Dummy RPC exception macros.

	* dlls/rpcrt4/rpc_binding.c, dlls/rpcrt4/rpc_binding.h,
	  dlls/rpcrt4/rpc_server.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented simple caching of client connections.

	* documentation/Makefile.in, documentation/architecture.sgml,
	  documentation/bugs.sgml, documentation/build.sgml,
	  documentation/compiling.sgml, documentation/configuring.sgml,
	  documentation/consoles.sgml, documentation/cvs-regression.sgml,
	  documentation/cvs.sgml, documentation/debugger.sgml,
	  documentation/debugging.sgml, documentation/dlls.sgml,
	  documentation/documentation.sgml, documentation/faq.sgml,
	  documentation/fonts.sgml, documentation/getting.sgml,
	  documentation/i18n.sgml, documentation/implementation.sgml,
	  documentation/installing.sgml, documentation/introduction.sgml,
	  documentation/make_winehq, documentation/multimedia.sgml,
	  documentation/ole.sgml, documentation/opengl.sgml,
	  documentation/patches.sgml, documentation/porting.sgml,
	  documentation/printing.sgml, documentation/running.sgml,
	  documentation/testing.sgml, documentation/tools.sgml,
	  documentation/winelib-bindlls.sgml, documentation/winelib-intro.sgml,
	  documentation/winelib-mfc.sgml, documentation/winelib-pkg.sgml,
	  documentation/winelib-porting.sgml,
	  documentation/winelib-toolkit.sgml:
	Dimitrie O. Paun <dimi@intelliware.ca>
	Remove the generation of all documentation in one document.

	* dlls/rpcrt4/rpc_server.c: Ove Kaaven <ovek@transgaming.com>
	Fixed a race condition on RPC worker thread creation, and a typo.

	* dlls/rpcrt4/cstub.c: Ove Kaaven <ovek@transgaming.com>
	Added missing AddRef.

	* files/drive.c: Michal Janusz Miroslaw <M.Miroslaw@elka.pw.edu.pl>
	Fixed typo in comment.

	* include/msvcrt/search.h: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Terminate the lfind inline function.

	* misc/version.c: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Change the version of win2k to SP3.
	Change the version of XP to SP1.
	Modify values of XP according to a post by Philipp Wollermann.

	* tools/wrc/wrc.c, tools/wrc/wrc.man:
	Dimitrie O. Paun <dpaun@rogers.com>
	Add -fo as a synonym for -o, for compatibility with rc.
	Line up help message, cleanup some error messages.

	* files/dos_fs.c: Michal Janusz Miroslaw <M.Miroslaw@elka.pw.edu.pl>
	On Linux: avoid blocking in DOSFS_OpenDir_VFAT if specified path is
	not a directory.

2003-04-17  Alexandre Julliard  <julliard@winehq.com>

	* include/winsock.h: Yet another attempt at fixing the htonl functions.

	* include/msvcrt/malloc.h:
	Fixed alloca handling the way mingw does it (reported by Vincent
	Béron).

	* dlls/oleaut32/tmarshal.c, dlls/oleaut32/typelib.c, dlls/oleaut32/typelib.h:
	Avoid local WINAPI function pointers in _invoke.

	* dlls/shell32/pidl.c, dlls/shell32/pidl.h, dlls/shell32/shell32.spec,
	  dlls/shell32/shlmenu.c, dlls/shell32/undocshell.h,
	  include/wine/obj_shellfolder.h:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Implemented ILGetDisplayNameExA and ILGetDisplayNameExW and call them
	from ILGetDisplayNameAW and ILGetDisplayNameExAW.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Handle creation of a depth/stencil buffer when creating a device.
	Implement IDirect3D8DeviceImpl_GetDepthStencilBuffer.

	* dlls/msvcrt/mbcs.c: Michael Stefaniuc <mstefani@redhat.de>
	mbtowc returns -1 if we can't find a valid multibyte char in the non
	NULL source string.

	* dlls/kernel/time.c: Martin Fuchs <martin-fuchs@gmx.net>
	Fixes for SystemTimeToTzSpecificLocalTime() and
	TzSpecificLocalTimeToSystemTime().

	* server/fd.c, server/named_pipe.c:
	Bill Medland <billmedland@mercuryspeed.com>
	Fix for client accessing a named pipe after the server closes it.

	* files/drive.c: Michal Janusz Miroslaw <M.Miroslaw@elka.pw.edu.pl>
	Refuse to read non-block device set in config.
	Avoid blocking on open if user sets device to unconnected pipe.

	* dlls/kernel/tests/file.c, files/dos_fs.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	FindFirstFile on root directory should fail.

2003-04-16  Alexandre Julliard  <julliard@winehq.com>

	* server/ptrace.c:
	Fall back to kill() if the kernel doesn't support tkill().

	* dlls/ntdll/ntdll.spec, dlls/ntdll/path.c, dlls/ntdll/rtlstr.c,
	  dlls/ntdll/tests/path.c, include/winternl.h:
	Implemented RtlIsNameLegalDOS8Dot3 (based on a patch by Eric Pouech).
	Implemented RtlUpcaseUnicodeStringToCountedOemString.

	* dlls/dplayx/dplay.c, winedefault.reg:
	Sylvain Petreolle <spetreolle@yahoo.fr>
	- Fix DirectPlayEnumerateA exit code.
	- Add default registry entry for DirectPlay Service Providers.

	* dlls/x11drv/keyboard.c: Rein Klazes <rklazes@xs4all.nl>
	Fix the path of keyboard.c inside a FIXME log statement.

	* win32/except.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Don't use a hex number for the event in the default string.

	* tools/c2man.pl: Thomas Mertes <thomas.mertes@gmx.at>
	Change c2man that it works with the new format of the spec files
	(without exported name).

	* dlls/Maketest.rules.in: Hans Leidekker <hans@it.vu.nl>
	Don't link cross compiled tests against Wine import libraries.

	* misc/version.c: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Print out Windows version values, in human-readable format.

	* include/commctrl.h: Rein Klazes <rklazes@xs4all.nl>
	Fix the ListView_SetItemState macro.

2003-04-14  Alexandre Julliard  <julliard@winehq.com>

	* Make.rules.in, configure, configure.ac, dlls/Makedll.rules.in,
	  dlls/gdi/Makefile.in, dlls/kernel/Makefile.in,
	  dlls/shell32/Makefile.in, dlls/user/Makefile.in:
	Allow overriding CFLAGS when running configure. Other small cleanups.

	* dlls/ntdll/heap.c:
	Insert the last free block of a subheap at the end of the free list to
	avoid using uncomitted space unless really necessary.

	* include/wine/debug.h:
	Fixed gcc varargs macro syntax (reported by Gabriele Giorgetti).

	* libs/unicode/c_042.c, libs/unicode/c_10000.c, libs/unicode/c_10007.c,
	  libs/unicode/c_10029.c, libs/unicode/c_1006.c,
	  libs/unicode/c_10079.c, libs/unicode/c_10081.c,
	  libs/unicode/c_20866.c, libs/unicode/c_20932.c,
	  libs/unicode/c_28592.c, libs/unicode/c_28593.c,
	  libs/unicode/c_28594.c, libs/unicode/c_28595.c,
	  libs/unicode/c_28596.c, libs/unicode/c_28600.c,
	  libs/unicode/c_28604.c, libs/unicode/c_28605.c,
	  libs/unicode/c_28606.c, libs/unicode/c_437.c, libs/unicode/c_737.c,
	  libs/unicode/c_852.c, libs/unicode/c_855.c, libs/unicode/c_860.c,
	  libs/unicode/c_861.c, libs/unicode/c_862.c, libs/unicode/c_865.c,
	  libs/unicode/c_866.c, libs/unicode/c_874.c, libs/unicode/c_878.c,
	  libs/unicode/c_932.c, libs/unicode/c_936.c, libs/unicode/c_949.c,
	  libs/unicode/c_950.c, libs/unicode/cpmap.pl, libs/unicode/defaults:
	Hacked 0x00a5 to map to backslash in Shift-JIS codepage.
	Added mapping for 0x00a6.

	* Makefile.in: Hans Leidekker <hans@it.vu.nl>
	Fix typo: sqml -> sgml.

	* tools/c2man.pl: Hans Leidekker <hans@it.vu.nl>
	Handle multiline output from grep and don't grep for empty strings.

	* dlls/opengl32/make_opengl: Lionel Ulmer <lionel.ulmer@free.fr>
	Have the 'make_opengl' in line with the (manually edited) spec file.

	* dlls/msvcrt/file.c, dlls/ole32/storage.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Fix blatantly wrong SetFilePointer() calls.

	* dlls/wininet/Makefile.in, dlls/wininet/http.c,
	  dlls/wininet/internet.c:
	Dominik Strasser <Dominik.Strasser@t-online.de>
	Partially implement proxy support.

	* documentation/.cvsignore, documentation/Makefile.in,
	  documentation/PACKAGING, documentation/make_winehq,
	  documentation/packaging.sgml, documentation/wine-doc.sgml,
	  documentation/wine-pkg.sgml:
	Dimitrie O. Paun <dpaun@rogers.com>
	Transform the Packaging Guide into a nice ASCII file.
	Update it to the latest info, make it less prone to obsolescence.
	Updated the Wine executables from list produced by Tom Wickline.

2003-04-13  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dsound/tests/dsound.c: Don't use Wine debugging API in tests.

	* dlls/winedos/interrupts.c: Jukka Heinonen <jhei@iki.fi>
	Interrupt handling now prints more trace information.
	Replaced some magic numbers with preprocessor constants.

	* server/signal.c: Yorick Hardy <yh@metroweb.co.za>
	Fix for compiling on NetBSD.

	* include/shlobj.h, include/wine/obj_shelllink.h:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Include shlguid.h from shlobj.h.
	Expose IShellLink to Winelib apps.

	* include/mmsystem.h: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Define some additional constants.

	* scheduler/sysdeps.c: Yorick Hardy <yh@metroweb.co.za>
	errno should not be used as a variable name.

	* dlls/d3d8/directx.c: Christian Costa <titan.costa@wanadoo.fr>
	Increase MaxStreams to 2 in CAPS.

	* include/d3d8.h: Christian Costa <titan.costa@wanadoo.fr>
	Added some defines to d3d8 header.

2003-04-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/Makefile.in, dlls/ntdll/ntdll.spec, dlls/ntdll/path.c,
	  dlls/ntdll/tests/.cvsignore, dlls/ntdll/tests/Makefile.in,
	  dlls/ntdll/tests/path.c, include/winternl.h:
	Implemented RtlDetermineDosPathNameType_U and RtlIsDosDeviceName_U.

	* dlls/ole32/ole16.c, include/oaidl.h, include/objbase.h,
	  include/objidl.h, include/unknwn.h, include/unknwn.idl,
	  tools/widl/header.c:
	The com_interface attribute is not needed on derived classes.
	Removed the ICOM_CTHIS* macros.

	* dlls/d3d8/basetexture.c, dlls/d3d8/cubetexture.c,
	  dlls/d3d8/d3d8_main.c, dlls/d3d8/d3d8_private.h,
	  dlls/d3d8/indexbuffer.c, dlls/d3d8/resource.c, dlls/d3d8/shader.c,
	  dlls/d3d8/stateblock.c, dlls/d3d8/surface.c, dlls/d3d8/swapchain.c,
	  dlls/d3d8/texture.c, dlls/d3d8/vertexbuffer.c, dlls/d3d8/volume.c,
	  dlls/d3d8/volumetexture.c, dlls/d3d8/vshaderdeclaration.c,
	  dlls/ddraw/d3ddevice/main.h, dlls/ddraw/direct3d/main.h,
	  dlls/dmusic/dmusic_private.h:
	Header files must not include config.h.

	* dlls/Makedll.rules.in, dlls/Makefile.in, dlls/make_dlls:
	Fixed rules for auto documentation (reported by Vincent Béron).

	* dlls/ntdll/nt.c: Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Added NtQueryProcessInformation case needed by NT version of MSI.

	* configure, configure.ac: Hans Leidekker <hans@it.vu.nl>
	Add aliases to configure check for mingw cross compiler and dlltool.

2003-04-11  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dsound/capture.c: Robert Reif <reif@earthlink.net>
	Fixed PCM format evaluation bug.
	Properly clean up partially created sound buffers.

	* Make.rules.in, include/Makefile.in, tools/makedep.c:
	Added support for generating dependencies for idl files.

	* graphics/painting.c: Maxime Bellengé <maxime.bellenge@laposte.net>
	Added the GRADIENT_FILL_TRIANGLE case in GdiGradientFill.

	* dlls/dsound/tests/dsound.c: Robert Reif <reif@earthlink.net>
	Changed capture format printing to hex.

	* libs/uuid/dxguid.c: Robert Reif <reif@earthlink.net>
	Add direct sound driver guids.

	* dlls/dplayx/dplaysp.h, dlls/dplayx/lobbysp.h, dlls/ole32/ifs.h,
	  dlls/shell32/shellfolder.h, include/commctrl.h, include/d3d.h,
	  include/d3d8.h, include/d3dx8core.h, include/ddraw.h,
	  include/dinput.h, include/dmplugin.h, include/dmusicc.h,
	  include/dmusici.h, include/dmusics.h, include/docobj.h,
	  include/dplay.h, include/dplobby.h, include/dsdriver.h,
	  include/dsound.h, include/oaidl.h, include/objbase.h,
	  include/objidl.h, include/oledlg.h, include/servprov.h,
	  include/shlobj.h, include/shlwapi.h, include/unknwn.h,
	  include/unknwn.idl, include/urlmon.h, include/vfw.h,
	  include/wine/obj_cache.h, include/wine/obj_comcat.h,
	  include/wine/obj_commdlgbrowser.h, include/wine/obj_connection.h,
	  include/wine/obj_contextmenu.h, include/wine/obj_control.h,
	  include/wine/obj_dockingwindowframe.h, include/wine/obj_dragdrop.h,
	  include/wine/obj_dragdrophelper.h, include/wine/obj_enumguid.h,
	  include/wine/obj_enumidlist.h, include/wine/obj_extracticon.h,
	  include/wine/obj_inplace.h, include/wine/obj_olefont.h,
	  include/wine/obj_oleobj.h, include/wine/obj_oleundo.h,
	  include/wine/obj_oleview.h, include/wine/obj_picture.h,
	  include/wine/obj_property.h, include/wine/obj_serviceprovider.h,
	  include/wine/obj_shellbrowser.h, include/wine/obj_shellextinit.h,
	  include/wine/obj_shellfolder.h, include/wine/obj_shelllink.h,
	  include/wine/obj_shellview.h, include/wine/obj_webbrowser.h,
	  tools/widl/header.c:
	Simplified COM interface declarations, removing the need to define
	both an xxx_METHODS and an xxx_IMETHODS macro.

2003-04-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dplayx/dplaysp.h, dlls/dplayx/lobbysp.h,
	  dlls/shell32/shellfolder.h, include/d3d.h, include/d3d8.h,
	  include/d3dx8core.h, include/ddraw.h, include/dinput.h,
	  include/dmplugin.h, include/dmusicc.h, include/dmusici.h,
	  include/dmusics.h, include/docobj.h, include/dplay.h,
	  include/dplobby.h, include/dsdriver.h, include/dsound.h,
	  include/objbase.h, include/oledlg.h, include/servprov.h,
	  include/shlobj.h, include/shlwapi.h, include/urlmon.h, include/vfw.h,
	  include/wine/obj_cache.h, include/wine/obj_comcat.h,
	  include/wine/obj_commdlgbrowser.h, include/wine/obj_connection.h,
	  include/wine/obj_contextmenu.h, include/wine/obj_control.h,
	  include/wine/obj_dockingwindowframe.h, include/wine/obj_dragdrop.h,
	  include/wine/obj_dragdrophelper.h, include/wine/obj_enumguid.h,
	  include/wine/obj_enumidlist.h, include/wine/obj_extracticon.h,
	  include/wine/obj_inplace.h, include/wine/obj_olefont.h,
	  include/wine/obj_oleobj.h, include/wine/obj_oleundo.h,
	  include/wine/obj_oleview.h, include/wine/obj_picture.h,
	  include/wine/obj_property.h, include/wine/obj_serviceprovider.h,
	  include/wine/obj_shellbrowser.h, include/wine/obj_shellextinit.h,
	  include/wine/obj_shellfolder.h, include/wine/obj_shelllink.h,
	  include/wine/obj_shellview.h, include/wine/obj_webbrowser.h,
	  tools/widl/header.c, tools/widl/widl.c, tools/widl/widl.h:
	Get rid of the ICOM_CALL macros.

	* tools/winebuild/import.c: Ignore "U " in nm -u output.

	* dlls/winmm/wineoss/audio.c: Robert Reif <reif@earthlink.net>
	Better error messages.

	* dlls/avifil32/acmstream.c, dlls/avifil32/avifile.c,
	  dlls/avifil32/factory.c, dlls/avifil32/getframe.c,
	  dlls/avifil32/icmstream.c, dlls/avifil32/wavfile.c,
	  dlls/comcat/information.c, dlls/dplayx/dplay.c,
	  dlls/dplayx/dplaysp.c, dlls/dplayx/dplobby.c, dlls/dplayx/lobbysp.c,
	  dlls/dsound/buffer.c, dlls/dsound/capture.c,
	  dlls/dsound/dsound_main.c, dlls/dsound/mixer.c,
	  dlls/dsound/primary.c, dlls/dsound/propset.c, dlls/dsound/sound3d.c,
	  dlls/ole32/bindctx.c, dlls/ole32/clipboard.c,
	  dlls/ole32/compositemoniker.c, dlls/ole32/ftmarshal.c,
	  dlls/ole32/git.c, dlls/ole32/hglobalstream.c, dlls/ole32/ifs.c,
	  dlls/ole32/memlockbytes.c, dlls/ole32/moniker.c, dlls/ole32/ole16.c,
	  dlls/ole32/oleobj.c, dlls/ole32/stg_stream.c, dlls/ole32/storage.c,
	  dlls/ole32/storage32.c, dlls/oleaut32/typelib.c,
	  dlls/shell32/classes.c, dlls/shell32/dataobject.c,
	  dlls/shell32/dragdrophelper.c, dlls/shell32/enumidlist.c,
	  dlls/shell32/folders.c, dlls/shell32/shelllink.c,
	  dlls/shell32/shellole.c, dlls/shell32/shfldr_desktop.c,
	  dlls/shell32/shfldr_fs.c, dlls/shell32/shfldr_mycomp.c,
	  dlls/shell32/shlview.c, dlls/shell32/shv_bg_cmenu.c,
	  dlls/shell32/shv_item_cmenu.c, dlls/shlwapi/istream.c,
	  dlls/shlwapi/regstream.c, dlls/winmm/winealsa/audio.c,
	  dlls/winmm/winealsa/audio_05.c, dlls/winmm/wineaudioio/audio.c,
	  dlls/winmm/wineoss/audio.c:
	Removed uses of the non standard ICOM_VTBL macro.

	* dlls/ddraw/direct3d/mesa.c, dlls/dplayx/dplaysp.h,
	  dlls/dplayx/lobbysp.h, dlls/ole32/ifs.h, dlls/shell32/shellfolder.h,
	  include/d3d.h, include/d3d8.h, include/d3dx8core.h, include/ddraw.h,
	  include/dinput.h, include/dmplugin.h, include/dmusicc.h,
	  include/dmusici.h, include/dmusics.h, include/docobj.h,
	  include/dplay.h, include/dplobby.h, include/dsdriver.h,
	  include/dsound.h, include/oaidl.h, include/objbase.h,
	  include/objidl.h, include/oledlg.h, include/servprov.h,
	  include/shlobj.h, include/shlwapi.h, include/unknwn.h,
	  include/urlmon.h, include/vfw.h, include/winnt.h,
	  include/wine/obj_cache.h, include/wine/obj_comcat.h,
	  include/wine/obj_commdlgbrowser.h, include/wine/obj_connection.h,
	  include/wine/obj_contextmenu.h, include/wine/obj_control.h,
	  include/wine/obj_dockingwindowframe.h, include/wine/obj_dragdrop.h,
	  include/wine/obj_dragdrophelper.h, include/wine/obj_enumguid.h,
	  include/wine/obj_enumidlist.h, include/wine/obj_extracticon.h,
	  include/wine/obj_inplace.h, include/wine/obj_olefont.h,
	  include/wine/obj_oleobj.h, include/wine/obj_oleundo.h,
	  include/wine/obj_oleview.h, include/wine/obj_picture.h,
	  include/wine/obj_property.h, include/wine/obj_serviceprovider.h,
	  include/wine/obj_shellbrowser.h, include/wine/obj_shellextinit.h,
	  include/wine/obj_shellfolder.h, include/wine/obj_shelllink.h,
	  include/wine/obj_shellview.h, include/wine/obj_webbrowser.h,
	  tools/widl/header.c:
	Use a more compatible technique to declare COM interfaces methods,
	using Microsoft's STDMETHOD macros instead of the Wine-specific
	ICOM_METHOD ones.

2003-04-09  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dsound/version.rc: Robert Reif <reif@earthlink.net>
	Changed DLL version to 8.

	* tools/winewrap.c: Dimitrie O. Paun <dpaun@rogers.com>
	We don't need to dlopen the app module before the LoadLibrary().

	* include/winsock.h: Vitaliy Margolen <wine-patch@kievinfo.com>
	Added more extended error codes.

	* dlls/winsock/socket.c, dlls/winsock/ws2_32.spec:
	Vitaliy Margolen <wine-patch@kievinfo.com>
	Add and fix a few stubs to return correct error.

	* documentation/README.fr: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Keep README.fr in sync.

2003-04-08  Alexandre Julliard  <julliard@winehq.com>

	* VERSION, configure, ANNOUNCE, ChangeLog: Release 20030408.

----------------------------------------------------------------
2003-04-08  Alexandre Julliard  <julliard@winehq.com>

	* README: Updated URLs.

	* dlls/dmusic/Makefile.in, dlls/dmusic/dmusic.c, dlls/dmusic/dmusic8.c,
	  dlls/dmusic/dmusic_buffer.c, dlls/dmusic/dmusic_collection.c,
	  dlls/dmusic/dmusic_dlinstrument.c, dlls/dmusic/dmusic_download.c,
	  dlls/dmusic/dmusic_instrument.c, dlls/dmusic/dmusic_loader.c,
	  dlls/dmusic/dmusic_misc.c, dlls/dmusic/dmusic_performance.c,
	  dlls/dmusic/dmusic_plugins.c, dlls/dmusic/dmusic_port.c,
	  dlls/dmusic/dmusic_portdl.c, dlls/dmusic/dmusic_private.h,
	  dlls/dmusic/dmusic_segment.c, dlls/dmusic/dmusic_style.c,
	  dlls/dmusic/dmusic_synth.c, dlls/dmusic/dmusic_thru.c,
	  dlls/dmusic/reference_clock.c:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Added stubs for all dmusic interfaces.

	* include/commctrl.h: Juraj Hercek <juraj@syncad.com>
	Fixed tagLVDISPINFO definition.

	* tools/winemaker: Juraj Hercek <juraj@syncad.com>
	Fixed generation of makefiles and wrapper files when "--wrap" option
	is used.

	* dlls/tapi32/assisted.c: Rein Klazes <rklazes@xs4all.nl>
	Only log the parameters of tapiGetLocationInfo as addresses, as output
	parameters they probably point to garbage.

	* controls/listbox.c: Rein Klazes <rklazes@xs4all.nl>
	Compare the two items in LISTBOX_FindStringPos() in the same order as
	in Windows.

	* tools/winapi_check/modules.dat: Hans Leidekker <hans@it.vu.nl>
	Add some more newly arrived dlls.

	* dlls/winedos/int10.c, dlls/winedos/int21.c:
	Jukka Heinonen <jhei@iki.fi>
	Return correct segment for VESA information.
	Check oem number/version flag first and after that overwrite condition
	code.

	* dlls/kernel/kernel32.spec, dlls/kernel/locale.c:
	Michal Janusz Miroslaw <M.Miroslaw@elka.pw.edu.pl>
	Add stub for InvalidateNLSCache.

	* files/drive.c:
	Make DRIVE_FindRootW really behave like DRIVE_FindRoot.

	* configure, configure.ac, dlls/Makefile.in, dlls/dmband/.cvsignore,
	  dlls/dmband/Makefile.in, dlls/dmband/dmband.spec,
	  dlls/dmband/dmband_main.c, dlls/dmband/version.rc,
	  dlls/dmcompos/.cvsignore, dlls/dmcompos/Makefile.in,
	  dlls/dmcompos/dmcompos.spec, dlls/dmcompos/dmcompos_main.c,
	  dlls/dmcompos/version.rc, dlls/dmime/.cvsignore,
	  dlls/dmime/Makefile.in, dlls/dmime/dmime.spec,
	  dlls/dmime/dmime_main.c, dlls/dmime/version.rc,
	  dlls/dmloader/.cvsignore, dlls/dmloader/Makefile.in,
	  dlls/dmloader/dmloader.spec, dlls/dmloader/dmloader_main.c,
	  dlls/dmloader/version.rc, dlls/dmscript/.cvsignore,
	  dlls/dmscript/Makefile.in, dlls/dmscript/dmscript.spec,
	  dlls/dmscript/dmscript_main.c, dlls/dmscript/version.rc,
	  dlls/dmstyle/.cvsignore, dlls/dmstyle/Makefile.in,
	  dlls/dmstyle/dmstyle.spec, dlls/dmstyle/dmstyle_main.c,
	  dlls/dmstyle/version.rc, dlls/dmsynth/.cvsignore,
	  dlls/dmsynth/Makefile.in, dlls/dmsynth/dmsynth.spec,
	  dlls/dmsynth/dmsynth_main.c, dlls/dmsynth/version.rc,
	  dlls/dmusic32/.cvsignore, dlls/dmusic32/Makefile.in,
	  dlls/dmusic32/dmusic32.spec, dlls/dmusic32/dmusic32_main.c,
	  dlls/dmusic32/version.rc, dlls/dpnhpast/.cvsignore,
	  dlls/dpnhpast/Makefile.in, dlls/dpnhpast/dpnhpast.spec,
	  dlls/dpnhpast/main.c, dlls/dpnhpast/version.rc, include/Makefile.in,
	  include/dmplugin.h, include/dmusicf.h, include/dmusici.h,
	  include/dmusics.h, libs/uuid/dxguid.c:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Added stubs for dpnhpast and for all the dmusic dlls.

	* dlls/user/tests/sysparams.c: Avoid warning.

	* dlls/ntdll/tests/rtl.c, dlls/ntdll/tests/rtlstr.c:
	Thomas Mertes <thomas.mertes@gmx.at>
	Tests for RtlUlonglongByteSwap, RtlRandom, RtlAreAllAccessesGranted,
	RtlAreAnyAccessesGranted, RtlUnicodeStringToAnsiString,
	RtlAppendAsciizToString, RtlAppendStringToString,
	RtlAppendUnicodeToString and RtlAppendUnicodeStringToString.

	* dlls/ntdll/large_int.c, dlls/ntdll/ntdll.spec, dlls/ntdll/rtl.c,
	  dlls/ntdll/rtlstr.c, include/winnt.h, include/winternl.h:
	Thomas Mertes <thomas.mertes@gmx.at>
	Implemented RtlRandom, RtlAreAllAccessesGranted,
	RtlAreAnyAccessesGranted, RtlCopyLuid, RtlEqualLuid, RtlMapGenericMask
	and RtlCopyLuidAndAttributesArray.
	Documentation updates for RtlExtendedMagicDivide, RtlUniform,
	RtlUnicodeStringToAnsiString, RtlAppendAsciizToString,
	RtlAppendStringToString, RtlAppendUnicodeToString and
	RtlAppendUnicodeStringToString.

2003-04-07  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrtd/msvcrtd.spec: Adam Gundy <arg@cyberscience.com>
	Fixed ecvt/fcvt/gcvt entries.

	* dlls/ntdll/loader.c, dlls/ntdll/ntdll_misc.h,
	  documentation/samples/config, documentation/wine.conf.man,
	  include/snoop.h, relay32/builtin32.c, relay32/relay386.c,
	  relay32/snoop.c:
	Added possibility to filter relay traces based on the module that
	called the function. Cleaned up a few traces.

	* dlls/gdi/gdi32.spec, dlls/msimg32/msimg32.spec,
	  dlls/msimg32/msimg32_main.c, graphics/painting.c:
	Maxime Bellengé <maxime.bellenge@laposte.net>
	Implemented the GRADIENT_FILL_RECT{H|V} cases of GdiGradientFill.

	* documentation/getting.sgml, documentation/glossary.sgml,
	  documentation/introduction.sgml:
	Tom Hughes <thh@cyberscience.com>
	Fix a few incorrect tags.

	* tools/winapi/winapi.pm: Hans Leidekker <hans@it.vu.nl>
	Make winapi_check handle spec files where no handler is specified.

	* tools/winapi_check/modules.dat: Hans Leidekker <hans@it.vu.nl>
	Sync winapi_check to Wine spec files.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/ordinal.h,
	  dlls/shlwapi/shlwapi.spec:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Implement SHLWAPI_269 and SHLWAPI_270.
	Fix a 0 reference bug in SHLWAPI_436 and change its return value to
	what at least W2K does as well.

	* dlls/dsound/mixer.c: Jerry Jenkins <Jerry_J_Jenkins@hotmail.com>
	Align data to proper size.

2003-04-05  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/loader.c, dlls/ntdll/ntdll_misc.h, loader/pe_image.c:
	Rewrote most of the import fixup code to avoid doing redundant work
	for every entry point. Moved it all to dlls/ntdll/loader.c.
	Various optimizations in the other loader routines.

	* loader/module.c:
	Fetch the exe module directly from the PDB instead of calling
	LdrGetDllHandle.

	* dlls/dsound/capture.c, dlls/dsound/dsound_main.c:
	Robert Reif <reif@earthlink.net>
	Fixed a problem when multiple devices are present and a device other
	than the first one is used.

	* dlls/ole32/bindctx.c: Alberto Massari <amassari@progress.com>
	- The bindcontext object was leaking strings.
	- Removed unused variable.

	* dlls/rasapi32/rasapi.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Improve error message for RAS not being supported.

	* dlls/winmm/wineoss/audio.c: Eric Pouech <pouech-eric@wanadoo.fr>
	Work around not implemented ioctl in BSD.

2003-04-04  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winsock/socket.c: Cleaned up the option mapping code a bit.

	* dlls/ntdll/Makefile.in, dlls/ntdll/nt.c, dlls/ntdll/ntdll.spec,
	  dlls/ntdll/signal_i386.c, dlls/ntdll/sync.c, dlls/ntdll/thread.c,
	  include/wine/server_protocol.h, include/winternl.h,
	  scheduler/thread.c, server/async.c, server/named_pipe.c,
	  server/protocol.def, server/thread.c, server/thread.h,
	  server/timer.c, server/trace.c:
	Implemented NtQueueApcThread, and changed the server APC interface to
	always take 3 parameters.
	Implemented a number of other ntdll thread functions, and use them
	from the kernel ones.

	* dlls/dsound/sound3d.c, programs/winecfg/properties.c: Warning fixes.

	* Makefile.in, README, tools/winecheck:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Structure README file in a better way, some doc fixes.

	* files/dos_fs.c: Mike Hearn <m.hearn@signal.qinetiq.com>
	Correct the error code returned when a file does not exist.

	* dlls/winsock/socket.c, dlls/wsock32/socket.c,
	  dlls/wsock32/wsock32.spec, include/winsock.h, include/ws2tcpip.h:
	Mike Hearn <m.hearn@signal.qinetiq.com>
	- Map winsock sockopts to the POSIX equivalents for IP multicast.
	- Remap winsock1 constant values to winsock2 using a forwarder
	  function.
	- Change a FIXME to a TRACE, it appeared to be simply reporting
	  progress.

	* dlls/ntdll/loader.c, include/module.h, loader/pe_image.c:
	Merged PE_InitDLL into MODULE_InitDLL.
	Fixed a few traces.

	* dlls/ntdll/critsection.c, include/winbase.h,
	  programs/winedbg/gdbproxy.c, programs/winedbg/winedbg.c,
	  win32/except.c:
	Remove the Wine-specific EXCEPTION_CRITICAL_SECTION_WAIT define.

	* configure, configure.ac, dlls/Makefile.in, dlls/msvcrtd/.cvsignore,
	  dlls/msvcrtd/Makefile.in, dlls/msvcrtd/debug.c,
	  dlls/msvcrtd/msvcrtd.spec:
	Adam Gundy <arg@cyberscience.com>
	Added an implementation of the MSVCRTD.DLL debugging C runtime DLL.

	* dlls/icmp/icmp_main.c:
	Removed the commented out winsock support, it can't work anyway.

	* include/winsock.h:
	Yet another hack to try to make this file compile in all
	circumstances.

	* include/winuser.h: Dimitrie O. Paun <dpaun@rogers.com>
	Add a few missing BN_* constants.

2003-04-03  Alexandre Julliard  <julliard@winehq.com>

	* programs/wineconsole/curses.c:
	Avoid warning on redefinition of KEY_EVENT.

	* dlls/ntdll/critsection.c, dlls/ntdll/rtl.c, dlls/ntdll/signal_i386.c,
	  dlls/ntdll/signal_powerpc.c, dlls/ntdll/signal_sparc.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	No longer call WaitFor*Object* from ntdll (but NtWait*Object*).

	* dlls/ddraw/version.rc: Rok Mandeljc <rokmandeljc@hotmail.com>
	Update version info to 8.1.

	* dlls/d3d8/.cvsignore, dlls/d3d8/Makefile.in, dlls/d3d8/version.rc,
	  dlls/dmusic/.cvsignore, dlls/dmusic/Makefile.in,
	  dlls/dmusic/version.rc:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Added version info.

	* tools/winebuild/spec32.c:
	Don't output register function code if it's a forwarded entry point.

	* dlls/cabinet/cabextract.c, dlls/dplayx/dplobby.c,
	  dlls/kernel/console.c, dlls/psapi/psapi_main.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Add some missing HeapFree's and one missing free.

	* dlls/user/message.c: Vitaliy Margolen <wine-patch@kievinfo.com>
	Remove bogus initialization in SetKeyboardState.

	* dlls/dsound/dsound_main.c: Robert Reif <reif@earthlink.net>
	Added wide character enumeration of sound devices.

	* include/dsound.h: Robert Reif <reif@earthlink.net>
	Added a few missing DX8 definitions.

	* dlls/kernel/kernel32.spec, win32/kernel32.c:
	Paul McNett <p@ulmcnett.com>
	Stubs for BeginUpdateResourceA(), BeginUpdateResourceW(),
	EndUpdateResourceA(), and EndUpdateResourceW().

	* scheduler/sysdeps.c:
	Added hack to patch the glibc errno_location to jump to our function,
	based on a patch by Marcus Meissner.

	* configure, configure.ac, dlls/ntdll/Makefile.in, include/config.h.in,
	  libs/wine/errno.c, scheduler/pthread.c, scheduler/sysdeps.c:
	Added --with-nptl configure option and necessary changes to support
	running on top of NPTL threads.

2003-04-02  Alexandre Julliard  <julliard@winehq.com>

	* aclocal.m4, configure, configure.ac, include/config.h.in,
	  scheduler/sysdeps.c:
	Don't bother checking for the errno function, simply define all of
	them.

	* dlls/comctl32/datetime.c: Vitaliy Margolen <wine-patch@kievinfo.com>
	Fix buffer overflow in datetime.

	* dlls/comctl32/toolbar.c: Adam Gundy <arg@cyberscience.com>
	Zero initialize the reserved bytes in the toolbar details returned by
	TOOLBAR_GetButton().

	* dlls/setupapi/setupapi.spec, dlls/setupapi/stubs.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added some stubs.

	* dlls/comctl32/imagelist.c: Vitaliy Margolen <wine-patch@kievinfo.com>
	Fix ImageList_Read - the root cause of ugly toolbar icons.

	* dlls/ntdll/ntdll_misc.h, dlls/ntdll/sync.c, dlls/ntdll/time.c,
	  include/wine/server_protocol.h, scheduler/timer.c,
	  server/protocol.def, server/thread.c, server/timer.c, server/trace.c,
	  tools/make_requests:
	Added abs_time_t structure to the server protocol, and added a dump
	routine for it that displays the relative timeout to make timeout
	values easier to interpret.

	* dlls/winmm/tests/wave.c: Robert Reif <reif@earthlink.net>
	Added more information to some of the failure messages.
	Fixed a bug where garbage data is printed out for the 2 MHz tests.

	* tools/winegcc.c, tools/winewrap.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Make use of the new spawnvp function in wine{gcc,wrap}.

	* dlls/dsound/dsound.spec: Robert Reif <reif@earthlink.net>
	Added entry for DirectSoundFullDuplexCreate.

	* tools/winedump/pe.c: Dump string resources in a more readable way.

	* include/wine/port.h, libs/port/Makefile.in, libs/port/spawn.c:
	Dimitrie O. Paun <dimi@intelliware.ca>
	Add spawnvp to the portability lib.

	* server/signal.c:
	Initialize the dummy char we send down the pipe to make valgrind
	happy.

	* programs/notepad/Makefile.in, programs/regedit/Makefile.in:
	Make sure we don't use libwine_port functions when linking with
	msvcrt.

	* configure, configure.ac, dlls/ntdll/heap.c, include/config.h.in:
	Added support for marking heap blocks as inaccessible/uninitialized if
	valgrind is installed, based on a patch by Adam Gundy.

	* dlls/winsock/tests/sock.c, include/winsock.h:
	Handle htonl() and friends like select(), this will hopefully avoid
	conflicts with Unix headers.

	* dlls/commdlg/colordlg.c, dlls/commdlg/filedlg95.c,
	  dlls/ntdll/rtlbitmap.c, dlls/setupapi/dirid.c, dlls/shdocvw/events.c,
	  dlls/shell32/shell32_main.c, dlls/shlwapi/path.c,
	  dlls/shlwapi/thread.c, dlls/user/text.c,
	  dlls/winmm/midimap/midimap.c, include/winnt.h, memory/global.c,
	  tools/wineconf:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Some spelling and formatting fixes.

	* programs/winedbg/stabs.c: Eric Pouech <pouech-eric@wanadoo.fr>
	Added support for R types in stabs parsing.

	* dlls/ntdll/cdrom.c: Eric Pouech <pouech-eric@wanadoo.fr>
	Fixed a few FormatCode entries.

2003-04-01  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/tests/shlfileop.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Fix test to succeed in Win 98/2K and most probably ME/XP as well.

	* configure, configure.ac, include/config.h.in, include/thread.h,
	  scheduler/client.c, scheduler/sysdeps.c:
	Added SYSDEPS_GetUnixTid to return the Unix thread id to send to the
	server.

	* dlls/shell32/undocshell.h, include/shlobj.h:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Moved prototype for SHBindToParent() to shlobj.h.

	* documentation/Makefile.in, documentation/architecture.sgml,
	  documentation/bugs.sgml, documentation/build.sgml,
	  documentation/compiling.sgml, documentation/configuring.sgml,
	  documentation/cvs-regression.sgml, documentation/cvs.sgml,
	  documentation/debugger.sgml, documentation/dlls.sgml,
	  documentation/documentation.sgml, documentation/faq.sgml,
	  documentation/fonts.sgml, documentation/getting.sgml,
	  documentation/glossary.sgml, documentation/implementation.sgml,
	  documentation/installation-und-konfiguration.german,
	  documentation/installing.sgml, documentation/introduction.sgml,
	  documentation/multimedia.sgml, documentation/packaging.sgml,
	  documentation/printing.sgml, documentation/registry.sgml,
	  documentation/running.sgml, documentation/wine-devel.sgml,
	  documentation/wine-doc.sgml, documentation/wine-user.sgml,
	  documentation/winelib-bindlls.sgml,
	  documentation/winelib-porting.sgml,
	  documentation/winelib-toolkit.sgml:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- new, much more detailed and easier "step-by-step" layout
	- better intro
	- add Glossary (glossary.sgml)
	- much better Getting Wine chapter
	- much better Wine configuration chapter
	- better Wine drive layer configuration section
	- explain wineserver cmdline options
	- rearranged tons of things into a less messy state
	- tons of janitorial fixes

	* dlls/gdi/driver.c, dlls/winedos/int1a.c, dlls/winedos/vga.c,
	  include/wine/winsock16.h, programs/winedbg/dbg.y:
	Portability fixes.

	* configure, configure.ac, include/config.h.in, tools/winegcc.c,
	  tools/winewrap.c:
	Use _spawnvp to replace fork for non-Unix platforms.

	* dlls/Makedll.rules.in, dlls/user/Makefile.in, tools/winebuild/main.c:
	Added support for specifying an stdcall dll entry point.

	* programs/winedbg/debugger.h, programs/winedbg/gdbproxy.c,
	  programs/winedbg/module.c, programs/winedbg/stabs.c,
	  programs/winedbg/winedbg.c:
	Removed uses of u_long. Use void* type for pointers where possible.

2003-03-31  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/Makefile.in, dlls/kernel/Makefile.in,
	  dlls/oleaut32/Makefile.in, dlls/urlmon/umon.c,
	  dlls/wininet/urlcache.c, dlls/wininet/wininet.spec,
	  dlls/winspool/Makefile.in, include/wininet.h:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Fix some problems found while compiling and linking Wine under
	Cygwin.

	* include/winsock.h:
	Try to make winsock.h more portable (based on a patch by Francois
	Gouget).

	* configure, configure.ac, programs/Makefile.in,
	  programs/winecfg/.cvsignore, programs/winecfg/Makefile.in,
	  programs/winecfg/main.c, programs/winecfg/properties.c,
	  programs/winecfg/properties.h, programs/winecfg/resource.h,
	  programs/winecfg/winecfg.c, programs/winecfg/winecfg.h,
	  programs/winecfg/winecfg.rc:
	Dimitrie O. Paun <dpaun@rogers.com>
	New winecfg skeleton app, based heavily on original work by Jaco
	Greeff.

	* README, documentation/README.fr, documentation/installing.sgml,
	  documentation/registry.sgml, tools/winecheck, winedefault.reg:
	Sylvain Petreolle <spetreolle@yahoo.fr>
	Use regedit instead of regapi.

	* dlls/advapi32/crypt.c: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Trace format fix.

	* dlls/ntdll/sync.c: Added missing NONAMELESSSTRUCT/UNION.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/ntdll_misc.h, dlls/ntdll/om.c,
	  dlls/ntdll/sync.c, dlls/ntdll/time.c, include/winternl.h,
	  scheduler/synchro.c, scheduler/timer.c:
	Moved WaitForMultipleObjects to ntdll (based on a patch by Eric
	Pouech).
	Added NTDLL_get_server_timeout function to compute ntdll-style
	timeouts and adapted the timer code to use it.

	* documentation/compiling.sgml: Francois Gouget <fgouget@free.fr>
	- s/cvs -PAd update/cvs update -PAd/.
	- Fix the Odin link.
	- Add a link to BeWine.
	- Small typo fixes and rephrasing.

	* dlls/dsound/sound3d.c: Rok Mandeljc <rokmandeljc@hotmail.com>
	Framework for the doppler effect.

	* dlls/dmusic/dmusic.c: Rok Mandeljc <rokmandeljc@hotmail.com>
	(sorta) implemented EnumPorts.

	* graphics/x11drv/dib.c: Vitaliy Margolen <wine-patch@kievinfo.com>
	Fix random segfaults in X11DRV_SetImageBits_1.

2003-03-30  Alexandre Julliard  <julliard@winehq.com>

	* windows/sysparams.c:
	Use the right buffer size in SYSPARAMS_Load instead of some random
	value.

	* include/wine/server.h, scheduler/client.c:
	Clear the entire request, not just the end, in case it contains
	padding bytes.

	* misc/version.c:
	Fixed regression in VERSION_GetLinkedDllVersion() introduced by
	previous change.

	* dlls/msvcrt/file.c: Adam Gundy <arg@cyberscience.com>
	MSVCRT_fclose() mustn't use the _flag field from the file structure
	after _close() has been called.
	When _open_osfhandle() is used by MFC's CStdioFile, it expects write
	access even though it doesn't set the necessary flag bit.

	* dlls/commdlg/filetitle.c, dlls/shlwapi/path.c, dlls/shlwapi/reg.c:
	Vitaliy Margolen <wine-patch@kievinfo.com>
	Unicode strings termination fixes.

	* misc/registry.c: Maxime Bellengé <maxime.bellenge@laposte.net>
	Fix a regression when loading a real windows registry.

	* dlls/winedos/int21.c, include/winbase.h, msdos/int21.c:
	Jukka Heinonen <jhei@iki.fi>
	Add prototype for GetCompressedFileSize. Move some int21 functions to
	winedos. Improve file attribute functions.

	* dlls/gdi/freetype.c: Adam Gundy <arg@cyberscience.com>
	Don't look at the second character of the path unless the first
	character is non-NUL.

	* dlls/shell32/folders.c: Adam Gundy <arg@cyberscience.com>
	Don't convert uninitialized bytes of the filename from wide to
	multibyte.

	* dlls/winspool/info.c: Adam Gundy <arg@cyberscience.com>
	Make sure the new array of printer pointers is NULL initialized.

	* files/profile.c: Adam Gundy <arg@cyberscience.com>
	Don't read uninitialized data when a '$' is found.

	* libs/wine/ldt.c: Adam Gundy <arg@cyberscience.com>
	Make sure all the bits of the LDT are initialized.

	* windows/sysparams.c: Adam Gundy <arg@cyberscience.com>
	Initialize lpLogFont->lfQuality to the default.

2003-03-28  Alexandre Julliard  <julliard@winehq.com>

	* documentation/running.sgml: Mike Hearn <m.hearn@signal.qinetiq.com>
	Add info on how to use the Wine uninstaller.

	* dlls/user/Makefile.in, dlls/user/controls.h, dlls/user/dialog16.c,
	  dlls/user/user32.spec, dlls/user/wnd16.c, windows/dialog.c:
	Moved 16-bit dialog routines to a separate dialog16.c file.
	Fixed window creation to create ASCII windows when called through one
	of the ASCII dialog functions.

	* dlls/winmm/winealsa/audio.c: Avoid crash if snd_pcm_open fails.

	* dlls/ole32/.cvsignore, dlls/ole32/Makefile.in, dlls/ole32/ole32.spec,
	  dlls/ole32/ole32_main.c, dlls/ole32/regsvr.c, dlls/ole32/version.rc:
	John K. Hohm <jhohm@acm.org>
	Implement DllRegisterServer and DllUnregisterServer for ole32.dll, and
	add OleSelfRegister version string.

	* Make.rules.in, tools/wrc/parser.y, tools/wrc/wrc.c, tools/wrc/wrc.h,
	  tools/wrc/wrc.man:
	Dimitrie O. Paun <dpaun@rogers.com>
	Remove the no longer needed -m option, ignore -r for compatibility
	with rc.
	Rename -B to --endianess, -d to --debug, -W to --pedantic.
	Add a new -U,--undefine option to undefined preprocessor symbols.
	Cleanup the help message (order the long options alphabetically).

	* include/msvcrt/errno.h: Dimitrie O. Paun <dpaun@rogers.com>
	Fix errno linkage when compiling in C++.

	* dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Alberto Massari <amassari@progress.com>
	Added InternetSetStatusCallbackA and a stub for
	InternetSetStatusCallbackW.

	* aclocal.m4, configure, configure.ac, dlls/netapi32/netapi32.c,
	  dlls/rpcrt4/rpcrt4_main.c, dlls/winsock/socket.c, files/drive.c,
	  include/config.h.in, include/wine/port.h, scheduler/client.c,
	  server/request.c, server/signal.c:
	Replaced WINE_CHECK_STRUCT_MEMBER autoconf macro by the standard
	AC_CHECK_MEMBERS. Added check for si_fd in siginfo_t.

	* libs/wine/loader.c: Yorick Hardy <yh@metroweb.co.za>
	stdint.h should be included for compiling on NetBSD.

	* dlls/ntdll/signal_i386.c: Yorick Hardy <yh@metroweb.co.za>
	Added fields from NetBSD struct sigcontext on i386.

	* memory/global.c: Yorick Hardy <yh@metroweb.co.za>
	Added the sysctl calls for NetBSD to determine the physical memory
	available.

	* libs/unicode/wine_unicode.def, libs/wine/wine.def:
	Steven Edwards <steven_ed4153@yahoo.com>
	Fixed the .def files for the Mingw build.

2003-03-27  Alexandre Julliard  <julliard@winehq.com>

	* tools/wpp/preproc.c, tools/wpp/wpp.c, tools/wpp/wpp.h,
	  tools/wpp/wpp_private.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	Allow wpp users to undefine previously defined symbols.

	* dlls/gdi/Makefile.in, dlls/kernel/Makefile.in,
	  dlls/shell32/Makefile.in, dlls/user/Makefile.in, tools/wrc/wrc.c,
	  tools/wrc/wrc.h, tools/wrc/wrc.man:
	Dimitrie O. Paun <dpaun@rogers.com>
	Remove unused options -a and -C.
	Collapse the -w into -O, for symmetry with -J.
	Update the man page to the latest options.

	* tools/winemaker: Dimitrie O. Paun <dpaun@rogers.com>
	Do not pass unnecessary flags to wrc in generated makefiles.

	* dlls/msvcrt/dir.c: Sylvain Petreolle <spetreolle@yahoo.fr>
	_wsplitpath: Display correctly the path being split.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/ordinal.h,
	  dlls/shlwapi/shlwapi.spec:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Implemented SHLWAPI_266 and SHLWAPI_271.

	* objects/dc.c: P. Christeas <p_christ@hol.gr>
	Fixed typo in SetGraphicsMode.

	* dlls/imagehlp/imagehlp_main.c: P. Christeas <p_christ@hol.gr>
	Implemented MakeSureDirectoryPathExists.

	* dlls/comctl32/treeview.c: Mike Hearn <m.hearn@signal.qinetiq.com>
	TreeView should not send two click notifications when bTrack is true.

	* dlls/shell32/shlview.c, dlls/shell32/shpolicy.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Cosmetic fixes.

2003-03-26  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/shell32.spec, dlls/shell32/shellstring.c,
	  dlls/shell32/undocshell.h:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Implemented CheckEscapesA/W.

	* dlls/kernel/Makefile.in, dlls/kernel/change.c,
	  dlls/ntdll/Makefile.in, files/change.c,
	  include/wine/server_protocol.h, server/change.c, server/file.c,
	  server/file.h, server/protocol.def, server/request.h,
	  server/signal.c, server/trace.c:
	Implemented file change notifications, based on a patch by Mike
	McCormack.

	* dlls/commdlg/filedlg95.c:
	Maxime Bellengé <maxime.bellenge@laposte.net>
	Fix the lookin combobox overlapping the toolbar in open/save file
	dialog.

	* dlls/comctl32/treeview.c: Mike Hearn <m.hearn@signal.qinetiq.com>
	TREEVIEW_GetItemA should ignore stateMask.

	* dlls/shell32/pidl.c, dlls/shell32/pidl.h, dlls/shell32/shfldr_fs.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Add new helper function to create a relative file or folder ItemIDList
	for a path and change usage of SHSimpleIDListFromPath to call new
	function instead.

	* include/thread.h, libs/wine/errno.c, scheduler/sysdeps.c,
	  scheduler/thread.c:
	Moved errno_location support to sysdeps.c.

	* server/Makefile.in, server/fd.c, server/main.c, server/object.h,
	  server/ptrace.c, server/request.c, server/signal.c, server/thread.h:
	Added generic signal handling mechanism based on pipes to synchronize
	signals with the main poll loop.

	* include/msvcrt/conio.h, include/msvcrt/io.h,
	  include/msvcrt/process.h, include/msvcrt/stdio.h:
	Use aliases instead of #defines for the varargs functions when using
	gcc.

	* if1632/builtin.c, include/module.h, relay32/builtin32.c,
	  relay32/relay386.c, relay32/snoop.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	- no longer using kernel32's APIs but ntdll's
	- BUILTIN32_dlopen now properly returns NTDLL style status codes

	* windows/sysparams.c: Stephan BEUZE <fbiggun@hotmail.com>
	Implemented a default behavior for SPI_GETGRADIENTCAPTIONS flag in
	SystemParametersInfoA.

	* dlls/kernel/kernel32.spec, dlls/kernel/locale.c, include/winnls.h:
	Maxime Bellengé <maxime.bellenge@laposte.net>
	Stubs for EnumSystemLanguageGroups{A|W}.

	* dlls/comctl32/treeview.c: Mike Hearn <m.hearn@signal.qinetiq.com>
	Correct the check for changed treeview items, so item sets repaint
	properly.

2003-03-25  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/signal_i386.c, scheduler/sysdeps.c,
	  tools/winebuild/relay.c:
	Store %gs in the TEB on every call to 16-bit code, and don't restore
	it from the TEB for signals that did not happen in 16-bit code.

	* dlls/commdlg/filedlg95.c:
	Maxime Bellengé <maxime.bellenge@laposte.net>
	Fix how the size of the dialog is computed and the child component
	placed.
	In case the help button and the readonly check box are hidden, perform
	the resizing before calling the hook procedure.

	* dlls/shell32/shlexec.c, programs/wcmd/batch.c,
	  programs/wcmd/wcmdmain.c:
	Stefan Leichter <sle@camline.com>
	Let wcmd handle .cmd files like .bat files.

	* misc/registry.c: Eric Pouech <pouech-eric@wanadoo.fr>
	No longer using kernel32's APIs but ntdll's.

	* files/directory.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Add trailing full-stop to warning in DIR_GetPath().

2003-03-24  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/spec16.c:
	Avoid reference to wine_get_cs function from libwine.

	* controls/scroll.c:
	Revert broken change to the scrollbar position adjustment code.

	* configure, configure.ac, miscemu/Makefile.in:
	If supported, relocate the main wine binary to a higher address to
	leave more space for the Win32 executable.

	* dlls/ntdll/signal_i386.c:
	Make sure changes to the debug registers while inside a SIGTRAP
	exception are taken into account (based on a patch by Alex Pasadyn).

	* tools/wineinstall: Brian Vincent <VincentB@coppercolorado.com>
	Prompt the user again if they don't get the root password right.

	* tools/winegcc.c: Dimitrie O. Paun <dpaun@rogers.com>
	Don't attempt to compile .res files.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Send LVN_ODCACHEHINT notification for LVS_OWNERDATA style in all modes
	(based on a patch by Vitaliy Margolen).

	* dlls/imm32/imm.c: Tony Lambregts <tony_lambregts@telusplanet.net>
	Get rid of W->A calls.

	* objects/text.c: Shachar Shemesh <wine-patches@shemesh.biz>
	Reordering can take place even if the font does not identify itself as
	a reordering one.

2003-03-23  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac, include/config.h.in, libs/port/mkstemps.c,
	  libs/port/usleep.c, libs/unicode/Makefile.in:
	Portability fixes.

	* dlls/x11drv/keyboard.c, dlls/x11drv/x11drv_main.c, include/x11drv.h:
	Properly initialize keyboard auto-repeat for all X connections.

	* include/rpcproxy.h: Dimitrie O. Paun <dpaun@rogers.com>
	Comment out unneeded extensions.

	* dlls/shell32/shpolicy.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	SHInitRestricted() fix boolean error introduced in last patch.

	* files/profile.c: Stefan Leichter <sle@camline.com>
	Moved implementation of GetPrivateProfileInt from ascii to unicode.

	* Make.rules.in, Makefile.in, dlls/Makedll.rules.in,
	  dlls/avifil32/Makefile.in, dlls/commdlg/Makefile.in,
	  dlls/ctl3d/Makefile.in, dlls/gdi/Makefile.in, dlls/imm32/Makefile.in,
	  dlls/kernel/Makefile.in, dlls/lzexpand/Makefile.in,
	  dlls/msacm/Makefile.in, dlls/msvideo/Makefile.in,
	  dlls/ole32/Makefile.in, dlls/oleaut32/Makefile.in,
	  dlls/olecli/Makefile.in, dlls/olesvr/Makefile.in,
	  dlls/rasapi32/Makefile.in, dlls/setupapi/Makefile.in,
	  dlls/shell32/Makefile.in, dlls/user/Makefile.in,
	  dlls/version/Makefile.in, dlls/win32s/Makefile.in,
	  dlls/winaspi/Makefile.in, dlls/wineps/Makefile.in,
	  dlls/winmm/Makefile.in, dlls/winnls/Makefile.in,
	  dlls/winsock/Makefile.in, dlls/wintab32/Makefile.in,
	  miscemu/Makefile.in:
	List 16-bit spec files explicitly to avoid problems with some versions
	of make.

	* Make.rules.in, dlls/Makedll.rules.in, dlls/Maketest.rules.in,
	  dlls/gdi/Makefile.in, dlls/kernel/Makefile.in,
	  dlls/shell32/Makefile.in, dlls/user/Makefile.in, miscemu/Makefile.in,
	  programs/Makeprog.rules.in, programs/avitools/Makefile.in,
	  tools/winebuild/build.h, tools/winebuild/main.c,
	  tools/winebuild/spec16.c, tools/winebuild/spec32.c,
	  tools/winebuild/winebuild.man.in:
	Converted winebuild option parsing to use getopt_long. Added a number
	of long aliases for the existing short options.

	* libs/wine/Makefile.in, libs/wine/wine.def:
	Added a .def file for libwine.

	* configure, configure.ac, include/config.h.in,
	  tools/winebuild/spec32.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Make use of .half and/or .asciiz assembler keywords when necessary.

2003-03-22  Alexandre Julliard  <julliard@winehq.com>

	* include/msvcrt/conio.h, include/msvcrt/ctype.h,
	  include/msvcrt/direct.h, include/msvcrt/malloc.h,
	  include/msvcrt/process.h, include/msvcrt/search.h,
	  include/msvcrt/stdio.h, include/msvcrt/stdlib.h,
	  include/msvcrt/string.h:
	Madhura Sahasrabudhe <sahasrab@usc.edu>
	Changed the macros in the msvcrt headers to static inline functions.

	* dlls/winedos/int31.c, include/miscemu.h:
	Changed the SET_AX etc. macros to not return a value.

	* msdos/int21.c: Rein Klazes <rklazes@xs4all.nl>
	Fix two comparisons between a 32 bit register with a 16 bit error
	code.

	* include/wine/server_protocol.h, scheduler/client.c,
	  scheduler/sysdeps.c, server/context_i386.c, server/context_powerpc.c,
	  server/context_sparc.c, server/protocol.def, server/ptrace.c,
	  server/thread.c, server/thread.h, server/trace.c:
	Make a distinction between the thread Unix pid and the process wide
	pid for platforms that use both.

	* dlls/ntdll/loader.c:
	Fixed duplicate initialization of some of the wm->ldr fields.

	* Make.rules.in, Makefile.in, configure, configure.ac,
	  dlls/Makedll.rules.in, dlls/checklink.c, libs/Makefile.in,
	  libs/unicode/Makefile.in, libs/uuid/Makefile.in,
	  libs/wine/.cvsignore, libs/wine/Makefile.in, libs/wine/config.c,
	  libs/wine/debug.c, libs/wine/errno.c, libs/wine/ldt.c,
	  libs/wine/loader.c, tools/winewrapper:
	Moved libwine to libs/ directory.
	Some makefile fixes and cleanups.

	* dlls/kernel/Makefile.in, dlls/kernel/lcformat.c, ole/ole2nls.c:
	Moved date/time/currency format handling to new lcformat.c.

	* dlls/ntdll/tests/.cvsignore, dlls/ntdll/tests/Makefile.in,
	  dlls/ntdll/tests/rtl.c, dlls/ntdll/tests/rtlstr.c:
	Thomas Mertes <thomas.mertes@gmx.at>
	Tests for RtlCompareMemoryUlong, RtlUniform, RtlDowncaseUnicodeString,
	RtlAppendUnicodeStringToString.

	* dlls/ntdll/large_int.c, dlls/ntdll/ntdll.spec, dlls/ntdll/rtl.c,
	  dlls/ntdll/rtlstr.c, dlls/ntdll/string.c, dlls/ntdll/wcstring.c,
	  include/winternl.h:
	Thomas Mertes <thomas.mertes@gmx.at>
	- Implement RtlDowncaseUnicodeString, RtlUniform, iswdigit, iswlower,
	  iswspace, iswxdigit.
	- Fixed RtlInt64ToUnicodeString and RtlIntegerToUnicodeString.
	- According to tests RtlAppendUnicodeStringToString leaves the
	  destination unchanged when the source length is 0 (FIXED).
	- Documentation updates in RtlExtendedMagicDivide,
	  RtlLargeIntegerToChar, RtlInt64ToUnicodeString, RtlUpperChar,
	  RtlUpperString, RtlUpcaseUnicodeChar, RtlCharToInteger,
	  RtlIntegerToChar, RtlUnicodeStringToInteger,
	  RtlIntegerToUnicodeString, _ultoa, _ltoa, _itoa, _ui64toa, _i64toa,
	  _atoi64, _ultow, _ltow, _itow, _ui64tow, _i64tow, _wtol, _wtoi,
	  _wtoi64.

2003-03-21  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/exception.c, dlls/ntdll/signal_i386.c,
	  dlls/ntdll/signal_powerpc.c, dlls/ntdll/signal_sparc.c,
	  include/thread.h, scheduler/sysdeps.c:
	Split signal blocking code out of SIGNAL_Reset into SIGNAL_Block.
	Added SIGTERM handler.

	* dlls/shell32/Makefile.in, dlls/shell32/shell.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	shell.c is now 16-bit only.

	* server/fd.c:
	Ignore fcntl failure when setting a write lock on a read only file.

	* dlls/ntdll/rtlstr.c, include/wine/unicode.h, libs/unicode/casemap.c,
	  libs/unicode/cpmap.pl, libs/unicode/cptable.c, libs/unicode/mbtowc.c,
	  libs/unicode/utf8.c, libs/unicode/wctomb.c, libs/unicode/wctype.c,
	  libs/unicode/wine_unicode.def, memory/codepage.c, tools/wmc/lang.c,
	  tools/wmc/mcl.c, tools/wmc/write.c, tools/wrc/parser.l,
	  tools/wrc/utils.c:
	Added 'wine' prefix to libwine_unicode exports.

	* dlls/ntdll/loader.c, dlls/ntdll/ntdll_misc.h, include/module.h,
	  loader/pe_image.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Removed no longer needed MODREF.find_export field.

	* dlls/shell32/shpolicy.c, dlls/shell32/undocshell.h:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	- Add new W2K policies to the known list of policies.
	- Modify the algorithme to go through the list until a NULL entry is
	  found instead of hardcoding the number of elements (I was to lazy to
	  count them again ;-)
	- Fix SHInitRestricted to work as Unicode on NT systems.

	* dlls/shell32/shell32.spec, dlls/shell32/shlfileop.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Implement some more Win API functions and add support functions for
	coming changes to SHFileOperation.

	* Make.rules.in, Makefile.in, configure, configure.ac,
	  dlls/Makedll.rules.in, libs/Makefile.in, libs/unicode/.cvsignore,
	  libs/unicode/Makefile.in, libs/unicode/c_037.c, libs/unicode/c_042.c,
	  libs/unicode/c_10000.c, libs/unicode/c_10006.c,
	  libs/unicode/c_10007.c, libs/unicode/c_10029.c,
	  libs/unicode/c_1006.c, libs/unicode/c_10079.c,
	  libs/unicode/c_10081.c, libs/unicode/c_1026.c, libs/unicode/c_1250.c,
	  libs/unicode/c_1251.c, libs/unicode/c_1252.c, libs/unicode/c_1253.c,
	  libs/unicode/c_1254.c, libs/unicode/c_1255.c, libs/unicode/c_1256.c,
	  libs/unicode/c_1257.c, libs/unicode/c_1258.c, libs/unicode/c_20866.c,
	  libs/unicode/c_20932.c, libs/unicode/c_28591.c,
	  libs/unicode/c_28592.c, libs/unicode/c_28593.c,
	  libs/unicode/c_28594.c, libs/unicode/c_28595.c,
	  libs/unicode/c_28596.c, libs/unicode/c_28597.c,
	  libs/unicode/c_28598.c, libs/unicode/c_28599.c,
	  libs/unicode/c_28600.c, libs/unicode/c_28603.c,
	  libs/unicode/c_28604.c, libs/unicode/c_28605.c,
	  libs/unicode/c_28606.c, libs/unicode/c_424.c, libs/unicode/c_437.c,
	  libs/unicode/c_500.c, libs/unicode/c_737.c, libs/unicode/c_775.c,
	  libs/unicode/c_850.c, libs/unicode/c_852.c, libs/unicode/c_855.c,
	  libs/unicode/c_856.c, libs/unicode/c_857.c, libs/unicode/c_860.c,
	  libs/unicode/c_861.c, libs/unicode/c_862.c, libs/unicode/c_863.c,
	  libs/unicode/c_864.c, libs/unicode/c_865.c, libs/unicode/c_866.c,
	  libs/unicode/c_869.c, libs/unicode/c_874.c, libs/unicode/c_875.c,
	  libs/unicode/c_878.c, libs/unicode/c_932.c, libs/unicode/c_936.c,
	  libs/unicode/c_949.c, libs/unicode/c_950.c, libs/unicode/casemap.c,
	  libs/unicode/compose.c, libs/unicode/cpmap.pl,
	  libs/unicode/cptable.c, libs/unicode/defaults, libs/unicode/mbtowc.c,
	  libs/unicode/string.c, libs/unicode/utf8.c, libs/unicode/wctomb.c,
	  libs/unicode/wctype.c, libs/unicode/wine_unicode.def,
	  tools/winewrapper:
	Moved libwine_unicode to the libs/ directory.

	* loader/pe_image.c: Eric Pouech <pouech-eric@wanadoo.fr>
	Rewrote mapping of module into memory using only NTDLL APIs.

	* configure, configure.ac, dlls/Makefile.in, winedefault.reg,
	  dlls/dmusic/.cvsignore, dlls/dmusic/Makefile.in,
	  dlls/dmusic/dmusic.c, dlls/dmusic/dmusic.spec, dlls/dmusic/dmusic8.c,
	  dlls/dmusic/dmusic_buffer.c, dlls/dmusic/dmusic_collection.c,
	  dlls/dmusic/dmusic_dlinstrument.c, dlls/dmusic/dmusic_download.c,
	  dlls/dmusic/dmusic_instrument.c, dlls/dmusic/dmusic_main.c,
	  dlls/dmusic/dmusic_port.c, dlls/dmusic/dmusic_portdl.c,
	  dlls/dmusic/dmusic_private.h, dlls/dmusic/dmusic_thru.c,
	  dlls/dmusic/reference_clock.c, include/Makefile.in, include/dls1.h,
	  include/dmdls.h, include/dmerror.h, include/dmusbuff.h,
	  include/dmusicc.h, libs/uuid/dxguid.c:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Stub implementation of the dmusic dll.

	* dlls/ntdll/loader.c, dlls/ntdll/ntdll.spec, include/winternl.h,
	  misc/version.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	- implemented LdrQueryProcessModuleInformation
	- rewrote VERSION_GetLinkedDllVersion() with this new function instead
	  of accessing directly the modref list

	* scheduler/pthread.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Forward-declare struct _pthread_cleanup_buffer, as it is
	Linux-specific and not available in the headers of other systems.

2003-03-20  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac, dlls/msvcrt/math.c, dlls/msvcrt/msvcrt.h,
	  dlls/msvcrt/msvcrt.spec, include/config.h.in:
	Moved [efg]cvt functions to msvcrt and fixed them to use a per-thread
	buffer.

	* include/wine/port.h, libs/port/Makefile.in,
	  libs/port/memcpy_unaligned.c, loader/ne/resource.c:
	Added memcpy_unaligned to libwine_port.

	* dlls/kernel/locale.c, ole/ole2nls.c:
	Moved a couple of locale functions from ole2nls.c into locale.c.

	* include/wine/unicode.h: Added sprintfW and vsprintfW.

	* dlls/ntdll/loader.c, include/module.h, include/winternl.h,
	  loader/pe_image.c, misc/version.c, relay32/relay386.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Moved WINE_MODREF.flags to WINE_MODREF.ldr.Flags, and make use of the
	same flags values as Win2000.

	* include/wine/port.h, libs/port/Makefile.in, libs/port/interlocked.c:
	Moved interlocked functions to libwine_port.

	* dlls/ntdll/loader.c, include/module.h, loader/pe_image.c,
	  misc/version.c, relay32/builtin32.c, relay32/relay386.c,
	  scheduler/process.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Move some fields (refCount, tls_index and module) from WINE_MODREF to
	LDR_MODULE.

	* dlls/ntdll/cdrom.c: Eric Pouech <pouech-eric@wanadoo.fr>
	Fixed some unneeded unix to Win32 error mapping.

	* tools/winegcc.c: Replaced tempnam by mkstemps.

	* tools/Makefile.in, tools/makedep.c:
	Don't use libwine_port in makedep to avoid dependency problems.

	* configure, configure.ac, dlls/shell32/shelllink.c,
	  dlls/wsock32/protocol.c, include/config.h.in, include/wine/port.h,
	  libs/port/Makefile.in, libs/port/mkstemp.c, libs/port/mkstemps.c,
	  programs/winedbg/gdbproxy.c, scheduler/sysdeps.c, server/file.c,
	  tools/winebuild/import.c, tools/wpp/wpp.c:
	Replaced mkstemp by mkstemps from libiberty.
	Removed a couple of unnecessary portability functions.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/rtl.c:
	Changed name of the asm version of RtlUlong/shortByteSwap to avoid
	conflicts with the inline version.

	* tools/wrc/wrc.c, tools/wrc/wrc.man:
	Dimitrie O. Paun <dpaun@rogers.com>
	Introduce the -J, --input-format options for compatibility with
	windres.
	Collpase the -e option into the -J option. Update man page.
	Cleanup file header (remove history that's already in log msgs, etc.)

	* documentation/introduction.sgml:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Remove incorrect entry for 16 bit driver support.

	* files/profile.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Tweak error message in PROFILE_UsageWineIni().

	* dlls/ntdll/loader.c, include/module.h, loader/module.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	Moved the module loading/unloading code and the remaining needed
	static variables to ntdll.

	* dlls/ntdll/loader.c, dlls/ntdll/ntdll.spec, include/winternl.h,
	  loader/module.c:
	Partially implemented LdrLock/UnlockLoaderLock.

	* dlls/advapi32/advapi32.spec, dlls/avicap32/avicap32.spec,
	  dlls/avifil32/avifil32.spec, dlls/cabinet/cabinet.spec,
	  dlls/comctl32/comctl32.spec, dlls/commdlg/comdlg32.spec,
	  dlls/crtdll/crtdll.spec, dlls/crypt32/crypt32.spec,
	  dlls/ctl3d/ctl3d32.spec, dlls/d3d8/d3d8.spec, dlls/d3dx8/d3dx8.spec,
	  dlls/dciman32/dciman32.spec, dlls/ddraw/ddraw.spec,
	  dlls/dinput/dinput.spec, dlls/dinput8/dinput8.spec,
	  dlls/dplayx/dplayx.spec, dlls/dsound/dsound.spec,
	  dlls/gdi/gdi32.spec, dlls/icmp/icmp.spec,
	  dlls/imagehlp/imagehlp.spec, dlls/imm32/imm32.spec,
	  dlls/kernel/kernel32.spec, dlls/lzexpand/lz32.spec,
	  dlls/mapi32/mapi32.spec, dlls/mpr/mpr.spec, dlls/msacm/msacm32.spec,
	  dlls/msimg32/msimg32.spec, dlls/msvcrt/msvcrt.spec,
	  dlls/msvideo/msvfw32.spec, dlls/netapi32/netapi32.spec,
	  dlls/ntdll/ntdll.spec, dlls/odbc32/odbc32.spec,
	  dlls/ole32/ole32.spec, dlls/oleaut32/oleaut32.spec,
	  dlls/olecli/olecli32.spec, dlls/oledlg/oledlg.spec,
	  dlls/olesvr/olesvr32.spec, dlls/opengl32/opengl32.spec,
	  dlls/psapi/psapi.spec, dlls/rasapi32/rasapi32.spec,
	  dlls/rpcrt4/rpcrt4.spec, dlls/setupapi/setupapi.spec,
	  dlls/shell32/shell32.spec, dlls/shlwapi/shlwapi.spec,
	  dlls/sti/sti.spec, dlls/tapi32/tapi32.spec, dlls/twain/twain_32.spec,
	  dlls/urlmon/urlmon.spec, dlls/user/user32.spec,
	  dlls/version/version.spec, dlls/win32s/w32skrnl.spec,
	  dlls/winaspi/wnaspi32.spec, dlls/wininet/wininet.spec,
	  dlls/winmm/winmm.spec, dlls/winsock/ws2_32.spec,
	  dlls/winspool/winspool.drv.spec, dlls/wintab32/wintab32.spec,
	  dlls/wintrust/wintrust.spec, dlls/wsock32/wsock32.spec,
	  dlls/x11drv/x11drv.spec:
	Take advantage of new winebuild syntax to remove redundant function
	names in spec files.

	* dlls/msnet32/msnet32.spec, tools/winebuild/parser.c:
	Added check for duplicate ordinals, and fixed bug it uncovered in
	msnet32.spec.

	* dlls/ole32/git.c: Mike Hearn <m.hearn@signal.qinetiq.com>
	Fixed copyright date.

	* Make.rules.in, Makefile.in, configure, configure.ac,
	  dlls/kernel/Makefile.in, libs/Makefile.in, libs/uuid/.cvsignore,
	  libs/uuid/Makefile.in, libs/uuid/dx8guid.c, libs/uuid/dxguid.c,
	  libs/uuid/uuid.c, ole/.cvsignore, ole/Makefile.in, ole/dx8guid.c,
	  ole/dxguid.c, ole/uuid.c:
	Moved libwine_uuid to the new libs/ directory.

2003-03-19  Alexandre Julliard  <julliard@winehq.com>

	* Make.rules.in, tools/wrc/wrc.c, tools/wrc/wrc.man:
	Dimitrie O. Paun <dpaun@rogers.com>
	Remove -J, -P, and -V as they have long options equivalents.
	Update documentation, small code cleanups.

	* include/wine/port.h, libs/port/Makefile.in, libs/port/getopt.c,
	  libs/port/getopt.h, libs/port/getopt1.c:
	Added getopt routine to libwine_port (based on a patch by Dimitrie
	O. Paun).

	* server/Makefile.in: We still need libwine here...

	* Make.rules.in, Makefile.in, configure, configure.ac,
	  dlls/Makedll.rules.in, dlls/Maketest.rules.in, libs/.cvsignore,
	  libs/Makefile.in, libs/port/.cvsignore, libs/port/Makefile.in,
	  libs/port/getpagesize.c, libs/port/lstat.c, libs/port/memmove.c,
	  libs/port/mkstemp.c, libs/port/pread.c, libs/port/pwrite.c,
	  libs/port/statfs.c, libs/port/strcasecmp.c, libs/port/strerror.c,
	  libs/port/strncasecmp.c, libs/port/usleep.c, miscemu/Makefile.in,
	  programs/Makeprog.rules.in, programs/avitools/Makefile.in,
	  server/Makefile.in, tools/Makefile.in, tools/widl/Makefile.in,
	  tools/widl/utils.c, tools/winebuild/Makefile.in,
	  tools/winedump/Makefile.in, tools/wmc/Makefile.in,
	  tools/wrc/Makefile.in:
	Created a separate static portability library and moved some of the
	libwine routines in there.

2003-03-18  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, VERSION, configure: Release 20030318.

----------------------------------------------------------------
2003-03-18  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/message.c, include/wine/server_protocol.h,
	  server/protocol.def, server/queue.c, server/trace.c:
	Fixed bug that could cause SendMessage to return too early in certain
	cases.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/rtl.c, include/winternl.h:
	Implemented Rtl*ByteSwap() functions, based on a patch by Jon
	Griffiths.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/rtl.c, include/winternl.h:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Correct the agument count for RtlInitializeGenericTable().
	Fix my own brown paper bag in RtlFillMemoryUlong().
	RtlGetNtVersionNumbers() should never return < 5.
	Remove RtlCopyMemory(), its not an ntdll export.
	Implement RtlCompareMemoryUlong(), RtlComputeCrc32().
	Documentation updates.

	* loader/module.c:
	Make GetModuleFileNameA call GetModuleFileNameW. Small cleanups.

	* dlls/ntdll/tests/rtlbitmap.c: Avoid explicit long long constants.

	* include/ddrawi.h: Fixed a few function pointer typedefs.

	* dlls/shlwapi/shlwapi.spec, dlls/shlwapi/url.c:
	Maxime Bellengé <maxime.bellenge@laposte.net>
	Stub for SHAutoComplete.

	* dlls/advapi32/advapi.c, dlls/advapi32/registry.c,
	  dlls/advapi32/security.c, dlls/comctl32/comctl32undoc.c,
	  dlls/comctl32/commctrl.c, dlls/kernel/thunk.c, dlls/kernel/time.c,
	  dlls/ntdll/critsection.c, dlls/ntdll/heap.c, dlls/ntdll/om.c,
	  dlls/ntdll/time.c, dlls/oleaut32/dispatch.c,
	  dlls/oleaut32/ole2disp.c, dlls/oleaut32/typelib16.c,
	  dlls/shell32/pidl.c, dlls/shell32/shell.c, dlls/shell32/shellole.c,
	  dlls/shell32/shellord.c, dlls/shell32/shfldr_fs.c,
	  dlls/shell32/shlfileop.c, dlls/shlwapi/path.c, dlls/shlwapi/reg.c,
	  dlls/shlwapi/regstream.c, dlls/shlwapi/shlwapi_main.c,
	  dlls/shlwapi/string.c, dlls/shlwapi/thread.c, dlls/shlwapi/url.c,
	  dlls/shlwapi/wsprintf.c, dlls/urlmon/umon.c, dlls/wsock32/service.c,
	  ole/ole2nls.c, windows/dce.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Documentation updates.

	* dlls/ntdll/loader.c, dlls/ntdll/ntdll.spec, include/module.h,
	  include/winternl.h, loader/module.c:
	Eric Pouech <pouech-eric@wanadoo.fr>
	- added LDR_MODULE structure to WINE_MODREF and made dummy filling of
	  this structure
	- implementation of LdrFindEntry
	- implementation of GetModuleFileName[AW] on top of LdrFindEntry

	* dlls/ntdll/tests/.cvsignore, dlls/ntdll/tests/Makefile.in,
	  dlls/ntdll/tests/string.c:
	Thomas Mertes <thomas.mertes@gmx.at>
	Tests for _itoa, _ltoa, _ultoa, _i64toa, _ui64toa, _itow, _ltow,
	_ultow, _i64tow, _ui64tow, _atoi64, _wtoi, _wtol, _wtoi64.

	* server/fd.c, server/file.h:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fix signature of open_fd().

	* dlls/msvcrt/cppexcept.c, dlls/msvcrt/cppexcept.h:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Add __CxxDetectRethrow(),  __CxxQueryExceptionSize().
	Constify parameters (enabling static RTTI).
	Move type definitions into a header for sharing with cpp.c objects.

	* tools/winebuild/build.h, tools/winebuild/import.c,
	  tools/winebuild/main.c, tools/winebuild/parser.c,
	  tools/winebuild/spec16.c, tools/winebuild/spec32.c,
	  tools/winebuild/utils.c, tools/winebuild/winebuild.man.in:
	Handle end of line as a syntactic element in the spec file parser;
	backslashes can be used to continue lines. This allows us to skip over
	errors to continue parsing, and also to make specification of an entry
	point link name optional.

	* dlls/kernel/tests/file.c, files/file.c, include/winbase.h,
	  include/wine/server_protocol.h, server/fd.c, server/file.c,
	  server/file.h, server/list.h, server/process.c, server/process.h,
	  server/protocol.def, server/trace.c:
	Implemented file locking functions (partly based on my old Corel
	patch). Added a few regression tests.

2003-03-17  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dsound/mixer.c: Ove Kaaven <ovek@transgaming.com>
	Somewhat more reliable dsound position notifications.

	* dlls/commdlg/printdlg.c:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Janitorial. Get rid of W->A call.

	* include/msvcrt/sys/types.h, include/winsock.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	Define the u_{char,short,int,long} in msvcrt/sys/types.h for Unix
	compatibility (needed by winsock.h as well).

	* dlls/msvcrt/main.c, dlls/msvcrt/msvcrt.h:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Move a couple of shared definitions into msvcrt.h.
	init_vtables() is redundant with upcoming fixes to cxx functions.

	* dlls/msvcrt/mtdll.h: Jon Griffiths <jon_p_griffiths@yahoo.com>
	_EXIT_LOCK2 is used by type_info objects.

	* include/winreg.h: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Added prototypes for the Remote Shutdown Api calls.

	* dlls/ntdll/sec.c: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Documentation updates.

	* programs/wineconsole/wineconsole.c:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Convert WINE_DPRINTF calls to WINE_TRACE.

	* tools/winebuild/build.h, tools/winebuild/parser.c,
	  tools/winebuild/spec32.c, tools/winebuild/winebuild.man.in:
	Removed support for the 'forward' ordinal type.

	* dlls/crtdll/crtdll.spec, dlls/msvcrt20/msvcrt20.spec:
	Replaced forwards by normal function declarations.

	* dlls/msvcrt/msvcrt.spec:
	Fixed a couple of relay arguments, and updated some of the stub
	comments.

	* dlls/comctl32/tab.c: Mike Hearn <mike@theoretic.com>
	Fix the tab height so the labels don't clip, and restore the offset
	constant to what it was before.

	* dlls/comctl32/imagelist.c: Mike Hearn <mike@theoretic.com>
	Fix a typo.

	* dlls/shell32/shellpath.c, include/shlobj.h:
	Paul Rupe <prupe@myrealbox.com>
	Add CSIDL_PROFILES.  Improved logging for non-existent CSIDL values.

	* dlls/gdi/freetype.c: Paul Rupe <prupe@myrealbox.com>
	Fix a couple INT/UINT comparisons.

	* dlls/winsock/socket.c: Paul Rupe <prupe@myrealbox.com>
	Treat blank protocol the same as NULL in getservbyname &
	getservbyport.

	* dlls/advapi32/advapi32.spec, dlls/dplay/dplay.spec,
	  dlls/kernel/kernel32.spec, dlls/msvcrt/msvcrt.spec,
	  dlls/netapi32/netapi32.spec, dlls/ole32/ole32.spec,
	  dlls/oleaut32/oleaut32.spec, dlls/olecli/olecli32.spec,
	  dlls/olepro32/olepro32.spec, dlls/opengl32/opengl32.spec,
	  dlls/shell32/shell32.spec, dlls/shfolder/shfolder.spec,
	  dlls/shlwapi/shlwapi.spec, dlls/urlmon/urlmon.spec,
	  dlls/version/version.spec, dlls/win32s/w32skrnl.spec,
	  dlls/winsock/ws2_32.spec, dlls/wow32/wow32.spec,
	  dlls/wsock32/wsock32.spec:
	Replaced forwards by normal function declarations.

	* dlls/msvcrt/msvcrt.spec, dlls/msvcrt/process.c:
	Implemented _getdllprocaddr(), it cannot be simply a forward to
	GetProcAddress.

	* tools/winebuild/parser.c, tools/winebuild/spec32.c,
	  tools/winebuild/winebuild.man.in:
	Disable 'variable' in Win32 spec files.
	Added support for forwarded 'extern' ordinals.

	* dlls/winmm/wineoss/audio.c: Avoid warnings.

2003-03-16  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/import.c:
	Don't enter an imported dll in the import table at all if we didn't
	need to import any symbol from it.

	* include/basetsd.h, include/wtypes.h, include/wtypes.idl:
	Properly import basetsd.h and guiddef.h.

	* tools/widl/parser.l, tools/widl/utils.c, tools/widl/widl.c:
	Make sure we display the correct file name and line in error messages.

	* dlls/shell32/shell32_main.c:
	Vitaliy Margolen <wine-patch@kievinfo.com>
	- make SHGetFileInfo handle relative paths
	- fix requests for large icons

2003-03-15  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/misc.c:
	Implemented _chkesp, based on a patch by Jon Griffiths.

	* dlls/msvcrt/Makefile.in, dlls/msvcrt/exit.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Display abnormal exit text in a message box for GUI apps.

	* include/wtypes.h, include/wtypes.idl:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Add some missing types needed for the upcoming ocidl.idl.
	Add missing variant types.
	Correct the definition of DECIMAL type.

	* dlls/winmm/wineoss/audio.c: Added #ifdef checks for SOUND_MIXER_INFO.

	* documentation/authors.ent: Added Jon Griffiths.

	* Make.rules.in, Makefile.in, documentation/Makefile.in:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Updated rules for API doc generation.
	Add sgmlpages target for making a docbook 'Wine API Guide'.

	* tools/c2man.pl: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Improve the look/content of the man page output.
	Generate for all exported functions (that have docs).
	Add dll summary page, HTML and SGML output.

	* documentation/documentation.sgml:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Document the API generation process and format.
	Provide an overview of the Wine documentation system.
	A couple of minor other fixes.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/rtlstr.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Add RtlDowncaseUnicodeChar(), RtlEqualComputerName(),
	RtlEqualDomainName(). Documentation updates.

	* dlls/shlwapi/istream.c: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Documentation updates.

	* include/shlwapi.h: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Add some missing prototypes.

	* dlls/shlwapi/shlwapi.spec: Jon Griffiths <jon_p_griffiths@yahoo.com>
	SHCreateThread is exported by name _and_ ordinal.

	* dlls/shlwapi/clist.c, dlls/shlwapi/tests/clist.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Correct behaviour for some error conditions.
	Documentation updates.

	* include/wine/debug.h: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Really get rid of debug code/strings if we're building without them.

	* dlls/msvcrt/data.c, dlls/msvcrt/msvcrt.spec:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Implemented __p__pgmptr, _pgmptr.

	* tools/winedump/pe.c: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Only sort the number of symbols actually found.

	* tools/winapi/msvcmaker: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Output a dummy function for linking.
	Define __WINE_USE_NATIVE_HEADERS for tests that need to care.
	Change the debug information format to prevent winedbg from crashing.

	* include/wingdi.h: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Protect the TEXTMETRIC struct from redefinition.

	* controls/listbox.c, controls/scroll.c, dlls/ddraw/d3ddevice/main.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/ddraw/main.c,
	  dlls/ddraw/dsurface/main.c:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Replace DPRINTF with TRACE.

	* dlls/dsound/buffer.c, dlls/dsound/capture.c, dlls/dsound/dsound.spec,
	  dlls/dsound/dsound_main.c, dlls/dsound/dsound_private.h,
	  dlls/dsound/mixer.c, dlls/dsound/primary.c, dlls/winmm/lolvldrv.c,
	  dlls/winmm/winealsa/Makefile.in, dlls/winmm/winealsa/audio.c,
	  dlls/winmm/wineoss/audio.c, documentation/samples/config,
	  include/mmddk.h:
	Robert Reif <reif@earthlink.net>
	Added support for multiple direct sound devices.

	* dlls/comcat/information.c, dlls/ddraw/d3dexecutebuffer.c,
	  dlls/ddraw/d3dvertexbuffer.c, dlls/ddraw/main.c,
	  dlls/dinput/joystick/linux.c, dlls/dinput/joystick/linuxinput.c,
	  dlls/dinput/keyboard/main.c, dlls/dinput/mouse/main.c,
	  dlls/odbc32/proxyodbc.c, dlls/richedit/richedit.c,
	  dlls/setupapi/parser.c, dlls/version/info.c,
	  dlls/winaspi/winaspi16.c, dlls/winaspi/winaspi32.c,
	  dlls/x11drv/keyboard.c, files/smb.c:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Replace DPRINTF with TRACE.

	* winedefault.reg: Maxime Bellengé <maxime.bellenge@laposte.net>
	Rename "Shortcut" to "Desktop".

	* scheduler/sysdeps.c:
	Init signals before calling CLIENT_InitThread since we can receive a
	signal there.

	* dlls/comctl32/listview.c: Vitaliy Margolen <wine-patch@kievinfo.com>
	Changes for Icon and SmallIcon modes:
	 - fix typo causing wrong scroll boundaries
	 - reverse mouse wheel scroll directions
	 - fix navigation with keyboard when auto arranged

2003-03-14  Alexandre Julliard  <julliard@winehq.com>

	* loader/module.c: Cleaned up load_library_as_datafile().

	* dlls/ntdll/reg.c, dlls/ntdll/rtl.c, dlls/ntdll/rtlstr.c,
	  dlls/ntdll/sec.c:
	Avoid GetProcessHeap() inside ntdll.

	* dlls/kernel/kernel32.spec, win32/newfns.c:
	Rein Klazes <rklazes@xs4all.nl>
	Added stub for GetDevicePowerState().

	* dlls/msnet32/msnet32.spec, dlls/msnet32/msnet_main.c:
	Rein Klazes <rklazes@xs4all.nl>
	Added a stub for msnet32.57

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Spacing information is signed (debugged and fixed by Vitaliy
	Margolen).
	Decode spacing information in the window procedure.
	Some spelling fixes.

	* dlls/ntdll/loader.c, dlls/ntdll/ntdll.spec, dlls/ntdll/ntdll_misc.h,
	  include/module.h, include/winternl.h, loader/module.c,
	  loader/pe_image.c, relay32/builtin32.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- implementation of LdrLoadDll out of loader/module.c
	- in impacted functions, ensure that we only use ntdll functions
	- for internal loading, start using NTDLL style for error reporting
	- making use of new LdrLoadDll

	* dlls/advapi32/Makefile.in, dlls/advapi32/registry.c:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Janitorial. Get rid of W->A calls.

	* dlls/comctl32/rebar.c, windows/dialog.c, windows/win.c,
	  windows/winpos.c:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Replace DPRINTF with TRACE.

	* server/main.c, server/object.h, server/request.c:
	Added -f option to make wineserver remain in the foreground for
	debugging.
	Close stdin/stdout when not in the foreground (based on a patch by
	Francois Gouget).

	* dlls/kernel/tests/profile.c: Warning fixes.

	* dlls/ntdll/debugtools.c:
	Only print the trace header when we are at the beginning of a new
	line (suggested by Dimitrie O. Paun).

	* dlls/ntdll/loader.c, dlls/ntdll/ntdll.spec, dlls/ntdll/ntdll_misc.h,
	  include/module.h, loader/module.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- implementation of LdrUnloadDll out of loader/module.c
	- in impacted functions, ensure that we only use ntdll functions
	- making use of new LdrUnloadDll

2003-03-12  Alexandre Julliard  <julliard@winehq.com>

	* server/fd.c, server/file.c, server/file.h, server/named_pipe.c,
	  server/pipe.c, server/process.c, server/request.c, server/serial.c,
	  server/smb.c, server/sock.c, server/thread.c:
	Added an inode object to keep track of all file descriptors open for a
	given file.
	Plugged a couple of potential file descriptor leaks.

	* dlls/msvcrt/wcs.c, dlls/ntdll/wcstring.c, include/wine/unicode.h,
	  unicode/string.c, unicode/wine_unicode.def:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Move vsnwprintf implementation to libwine_unicode, export snprintfW
	and vsnprintfW from there, forward MSVCRT and NTDLL functions to
	libwine_unicode.

	* dlls/shell32/shpolicy.c: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Constify the strings in the policy cache.
	Documentation updates.

	* dlls/msvcrt/msvcrt.spec, dlls/msvcrt/wcs.c,
	  dlls/msvcrt20/msvcrt20.spec:
	Thomas Mertes <thomas.mertes@gmx.at>
	Forward to the ntdll functions _itoa, _ltoa, _ultoa, _i64toa,
	_ui64toa, _itow, _ltow, _ultow, _i64tow, _ui64tow, _atoi64, _wtoi,
	_wtol, _wtoi64 from msvcrt / msvcrt20.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/string.c, dlls/ntdll/wcstring.c:
	Thomas Mertes <thomas.mertes@gmx.at>
	Implement _itoa, _ltoa, _ultoa, _i64toa, _ui64toa, _itow, _ltow,
	_ultow, _i64tow, _ui64tow, _atoi64, _wtoi, _wtol, _wtoi64.

	* dlls/kernel/comm.c: Marcus Meissner <meissner@suse.de>
	Fixed 2 fd leaks in comm functions.
	Removed erroneous GetLastError() check in WaitCommEvent().

	* documentation/packaging.sgml, programs/wineboot/wineboot.c:
	Shachar Shemesh <wine-patches@sun.consumer.org.il>
	- Implement finer grained control over what gets run.
	- Implement command line to control presets of said control for
	  various scenarios:
	  o start - session startup - run everything.
	  o restart - session close (presumeably after reboot) - only perform
	    *once operations.

	* include/winnt.h: Tony Lambregts <tony_lambregts@telusplanet.net>
	Add flags for RegRestoreKey.

	* dlls/comctl32/tab.c: Mike Hearn <mike@theoretic.com>
	- Reduced tab offset constant slightly to avoid clipping the label.
	- Prevent label overdraw of updown control by reducing the width of
	  the invalidated region.

2003-03-11  Alexandre Julliard  <julliard@winehq.com>

	* server/context_i386.c, server/context_powerpc.c,
	  server/context_sparc.c, server/debugger.c, server/process.c,
	  server/ptrace.c, server/thread.h:
	Attaching the debugger to a running process should work again
	(reported by Eric Pouech). Misc cleanups.

	* dlls/ole32/Makefile.in, dlls/ole32/compobj.c,
	  dlls/ole32/compobj_private.h, dlls/ole32/git.c, winedefault.reg,
	  dlls/ole32/marshal.c:
	Mike Hearn <mike@theoretic.com>
	Implemented the global interface table object using a simple linked
	list.

2003-03-10  Alexandre Julliard  <julliard@winehq.com>

	* documentation/consoles.sgml, documentation/running.sgml,
	  documentation/samples/config:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Put console documentation in sync with current console status.

	* dlls/dsound/sound3d.c: Rok Mandeljc <rokmandeljc@hotmail.com>
	- implemented panning
	- implemented coning
	- many minor fixes

	* relay32/snoop.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	SNOOP_PrintArg: don't try to decipher snoop args when seh chanel is
	on.

	* server/ptrace.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed typo.

	* dlls/user/exticon.c: Vitaliy Margolen <wine-patch@kievinfo.com>
	Fixed typo in PrivateExtractIconExW function.

	* dlls/comctl32/tab.c: Mike Hearn <mike@theoretic.com>
	It's not just height that can be set to the default by passing zero to
	TCM_SETITEMSIZE, but also width.

	* programs/wineconsole/wineconsole.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- fixed another regression in sub-process creation (curses backend
	  must be default for AllocConsole() invocation)
	- fixed endless loop when unknown argument was passed on commandline

	* dlls/winmm/wavemap/wavemap.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed error code when no mapping is found for wave input.

	* dlls/shlwapi/reg.c, dlls/shlwapi/shlwapi.spec:
	Maxime Bellengé <maxime.bellenge@laposte.net>
	Implemented SHRegSetUSValueA and SHRegSetUSValueW.

2003-03-07  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/rtlbitmap.c:
	Rewrote RtlFind{Most,Least}SignificantBit in a more portable way.

	* dlls/gdi/enhmfdrv/init.c:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Janitorial. Get rid of W->A call.

	* controls/scroll.c: Andrew Johnston <johnstonam@logica.com>
	Move keyboard event processing from WndProc code into the existing
	helper.
	Create a helper function for the create event and clean up code.
	Remove macro for detecting invalid SCROLLINFO structures and make it
	an inline function.

	* controls/menu.c: Adam Gundy <arg@cyberscience.com>
	Allow modifying a menu string to be NULL.

	* dlls/comctl32/toolbar.c: Adam Gundy <arg@cyberscience.com>
	TOOLBAR_AddBitmap() and TOOLBAR_ReplaceBitmap() are not supposed to
	modify the bitmap - we call ImageList_AddMasked() which turns all
	masked pixels black. Fixed by making a copy of the bitmap to give to
	ImageList_AddMasked().

	* controls/scroll.c: Andrew Johnston <johnstonam@logica.com>
	- GetScrollRange zeros the return parameters for no infoPtr
	- GetScrollRange, GetScrollPos and GetScrollInfo send a message to the
	  window for the SB_CTL case
	- Moved code for GetScroll* to into worker functions

	* dlls/winmm/wineoss/audio.c: Robert Reif <reif@earthlink.net>
	Fixed bug where the enable state of the output and input were not set
	properly when doing full duplex.
	Fixed bug where resetting the output would affect the capture when
	doing full duplex.

	* dlls/dsound/tests/dsound.c: Robert Reif <reif@earthlink.net>
	Fixed a bug where a capture device was used after it failed to open
	due to a missing driver.
	Added tests to try all possible combinations of sample rate, sample
	size and mono/stereo.

	* dlls/wineps/init.c, dlls/winspool/info.c:
	Marcus Meissner <meissner@suse.de>
	Was using the wrong define for the CUPS soname.

	* dlls/comctl32/listview.c: Adam Gundy <arg@cyberscience.com>
	When shifting the list's indices, we must not send notify messages if
	we have to refocus. Item modification handlers are not supposed to be
	called here.

	* programs/wineconsole/wineconsole.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed regression in sub-process creation.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/ddraw/user.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- some Caps clean-up when no OpenGL compiled in
	- fix some fonts displaying problems

	* documentation/patches.sgml:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Clarify patch requirements.

	* dlls/winmm/Makefile.in: Steven Edwards <steven_ed4153@yahoo.com>
	Add import of ntdll.

	* dlls/comctl32/propsheet.c: Adam Gundy <arg@cyberscience.com>
	PROPSHEET_CreateDialog() is documented to return -1 on failure, and
	the dialog handle on success.

	* dlls/commdlg/filedlg95.c: Adam Gundy <arg@cyberscience.com>
	ArrangeCtrlPositions() did not cope correctly with a templated dialog
	which has an extra 'preview' control to the right of the 'marker'
	control.
	FILEDLG95_Handle_GetFilePath() did not return the path - it wasn't
	combining the path with the filename.

2003-03-06  Alexandre Julliard  <julliard@winehq.com>

	* library/ldt.c:
	Hardcode set_thread_area syscall number to avoid trouble with broken
	headers.

	* dlls/ntdll/loader.c, dlls/ntdll/ntdll_misc.h, include/module.h,
	  loader/module.c, loader/pe_image.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- implemented LdrGetProcedureAddress and made use of it for
	  GetProcAddress
	- implemented LdrGetDllHandle and made use of it in GetModuleHandle
	- removed MODULE_DllThreadDetach from loader/module.c (should have
	  been removed in a previous patch)

	* dlls/opengl32/make_opengl, dlls/opengl32/opengl32.spec, dlls/opengl32/wgl.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Support 'stub' wglGetExtensionsStringEXT function.

	* dlls/dsound/capture.c, dlls/dsound/dsound_main.c,
	  dlls/dsound/dsound_private.h, dlls/dsound/mixer.c,
	  dlls/dsound/primary.c:
	Robert Reif <reif@earthlink.net>
	Added a configuration option for setting the hardware acceleration
	level just like the direct sound control panel app.
	More work on the full duplex interface so the compile warning is no
	longer generated.  Full duplex interface is still stubbed out.
	Moved full duplex mixer reset fix into wineoss driver where it
	belongs.
	Added some more locking fixes.
	Capture and full duplex are now stable.

	* include/dsound.h: Robert Reif <reif@earthlink.net>
	Fixed a FIXME for full duplex.

	* dlls/commdlg/printdlg.c, dlls/comctl32/imagelist.c:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Janitorial. Get rid of W->A call.

	* dlls/oleaut32/variant.c: Adam Gundy <arg@cyberscience.com>
	Handle coercing VT_DISPATCH into VT_PTR.

	* dlls/comctl32/treeview.c: Adam Gundy <arg@cyberscience.com>
	TREEVIEW_UpdateScrollBars() now copes with an empty tree.

2003-03-05  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/Makefile.in, documentation/configuring.sgml,
	  documentation/wine.conf.man, documentation/wine.man.in,
	  include/module.h, loader/elf.c, loader/loadorder.c, loader/module.c,
	  loader/ne/module.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Removed SO loading type.

	* programs/wcmd/wcmdmain.c: Sylvain Petreolle <spetreolle@yahoo.fr>
	Allow to run autoexec.bat when launching wcmd, it was broken due to a
	function change.

	* dlls/shell32/shlfolder.c: Vitaliy Margolen <wine-patch@kievinfo.com>
	Add few SFGAO_CAN* attributes to supported list.

	* tools/examine-relay: Duane Clark <dclark@akamail.com>
	Add full listing format option.
	Fix an infinite loop if the last line is a partial line.

	* dlls/dsound/sound3d.c: Rok Mandeljc <rokmandeljc@hotmail.com>
	Changed some stuff so distance attenuation works for both 3d
	processing modes.

2003-03-04  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/signal_i386.c, dlls/ntdll/signal_powerpc.c,
	  dlls/ntdll/signal_sparc.c, include/wine/server_protocol.h,
	  scheduler/client.c, scheduler/process.c, server/context_i386.c,
	  server/context_powerpc.c, server/context_sparc.c, server/process.c,
	  server/ptrace.c, server/thread.c, server/thread.h, server/trace.c:
	Use SIGUSR1 instead of SIGSTOP to suspend threads.

	* dlls/winmm/tests/wave.c, dlls/winmm/winmm.c:
	Robert Reif <reif@earthlink.net>
	Added waveIn tests.

	* files/profile.c:
	Fixed int conversion in GetPrivateProfileInt so that all the tests
	succeed.

	* dlls/ntdll/loader.c, dlls/ntdll/ntdll.spec, include/module.h,
	  include/winternl.h, loader/module.c, scheduler/process.c,
	  scheduler/thread.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- added Ldr* information to include/winternl.h
	- exported a few functions/global vars from module.h while we move
	  code from loader/module.c to dlls/ntdll/loader.c
	- implemented LdrShutdownProcess, LdrShutdownThread and
	  LdrDisableThreadCalloutsForDll (and made use of them)

	* dlls/kernel/tests/.cvsignore, dlls/kernel/tests/Makefile.in,
	  dlls/kernel/tests/profile.c:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Added tests for GetPrivateProfileInt.

	* dlls/comctl32/tab.c: Vitaliy Margolen <wine-patch@kievinfo.com>
	Fix invisible tabs in TabControls with fixed tab width.

	* documentation/samples/config: Sylvain Petreolle <spetreolle@yahoo.fr>
	Document [WinMM] drivers options.

	* dlls/msvcrt/msvcrt.spec, dlls/msvcrt/time.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added _daylight stub int, and __p__daylight function.

	* programs/winedbg/dbg.y, programs/winedbg/debugger.h,
	  programs/winedbg/intvar.h, programs/winedbg/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added support for Ctrl-C handling if not running in a console.
	Added (maintenance) configuration var to trigger external debugger on
	winedbg's exceptions.

	* dlls/shlwapi/string.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Fix endless loop in StrPBrkW.

	* dlls/opengl32/make_opengl, dlls/opengl32/opengl_ext.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- update to latest GL spec files
	- added KTX Buffer Region extension

	* dlls/winedos/dosexe.h, dlls/winedos/dosvm.c, dlls/winedos/int31.c,
	  dlls/winedos/interrupts.c:
	Jukka Heinonen <jhei@iki.fi>
	Move real mode interrupt emulation code to file interrupts.c.
	Remove last wrapper check from int31 handler.
	Move RM/PM hardware interrupt emulation code to separate functions.

	* dlls/kernel/kernel32.spec, dlls/winedos/int21.c, msdos/int21.c:
	Jukka Heinonen <jhei@iki.fi>
	Move decoding of long file name functions to winedos.
	Move some int21 functions to winedos.

	* files/drive.c: Enrico Horn <farmboy1@subdimension.com>
	Simple way to get the label of mixed-mode cd.

	* controls/menu.c: Tony Lambregts <tony_lambregts@telusplanet.net>
	Janitorial. Get rid of W->A call.

	* dlls/oleaut32/variant.c: Marcus Meissner <marcus@jet.franken.de>
	VarAdd: set 'rc' correctly from BSTR addition.

	* dlls/oleaut32/typelib.c: Marcus Meissner <marcus@jet.franken.de>
	Handle VT_PTR->VT_VARIANT arguments of Invoke.

	* programs/wineconsole/wineconsole.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- added ability to use --backend=(curses|user) as wineconsole parameter
	- rewrote wineconsole command line option parsing

	* programs/wineconsole/curses.c: Eric Pouech <eric.pouech@wanadoo.fr>
	In curses backend, apply the quick-edit directive from registry.

	* dlls/dsound/buffer.c, dlls/dsound/capture.c,
	  dlls/dsound/dsound_main.c, dlls/dsound/dsound_private.h,
	  dlls/dsound/mixer.c, dlls/dsound/tests/dsound.c:
	Robert Reif <reif@earthlink.net>
	Fixed code to handle full duplex properly.
	Added support for capture driver (disabled).
	Fixed direct sound capture test to handle notifications properly.

	* dlls/winmm/wineoss/audio.c, include/dsdriver.h:
	Robert Reif <reif@earthlink.net>
	Capture thread checks queue for more headers before giving error.
	Capture driver work started.

2003-02-28  Alexandre Julliard  <julliard@winehq.com>

	* loader/module.c:
	Only do the unload_dll server call at the time we actually unload the
	dll.

	* server/process.c, server/thread.c, server/thread.h:
	Peter Hunnisett <peter@transgaming.com>
	Suspended threads should not acquire synchronization objects.

	* documentation/faq.sgml: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- supported Platforms didn't mention MacOS X prominently enough by
	  far...
	- add some URLs, correct URL handling
	- remove linux.corel.com, as it's DEAD :-\

2003-02-27  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/signal_i386.c, include/thread.h, scheduler/sysdeps.c,
	  tools/winebuild/relay.c:
	Properly save/restore %gs register across 16-bit calls.

	* controls/edit.c, dlls/gdi/.cvsignore, dlls/gdi/Makefile.in,
	  dlls/gdi/gdi16.c, dlls/gdi/printdrv.c, dlls/kernel/.cvsignore,
	  dlls/kernel/Makefile.in, dlls/kernel/utthunk.c,
	  dlls/msvideo/.cvsignore, dlls/msvideo/Makefile.in,
	  dlls/msvideo/msvideo16.c, dlls/setupapi/.cvsignore,
	  dlls/setupapi/Makefile.in, dlls/setupapi/virtcopy.c,
	  dlls/user/.cvsignore, dlls/user/Makefile.in, dlls/user/hook16.c,
	  dlls/user/dde/ddeml16.c, dlls/user/property.c, dlls/user/user16.c,
	  dlls/user/wnd16.c, dlls/winaspi/.cvsignore, dlls/winaspi/Makefile.in,
	  dlls/winaspi/winaspi16.c, dlls/winmm/.cvsignore,
	  dlls/winmm/Makefile.in, dlls/winmm/message16.c,
	  dlls/winmm/mmsystem.c, include/wownt32.h, objects/dc.c,
	  objects/font.c, objects/metafile.c, windows/driver.c,
	  windows/painting.c:
	Replaced most uses of the auto-generated glue code by explicit calls
	to WOWCallback16Ex.

	* dlls/shell32/shlfolder.c: Alberto Massari <amassari@progress.com>
	Fixes to IShellFolder::GetAttributesOf:
	- before computing the flags for the requested entry, reset the bits
	  we don't support, or we will tell something we didn't want to.
	- instead of using an hexadecimal mask for the unsupported flags, use
	  a mask made of the supported ones
	- replace the obscure hexadecimal values with the proper macros

	* dlls/kernel/wowthunk.c, scheduler/thread.c:
	Moved CreateThread16 to kernel, and made it use WOWCallback16.

	* documentation/debugger.sgml, programs/winedbg/intvar.h,
	  programs/winedbg/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Removed no longer needed UseXTerm internal variable.

	* programs/wcmd/builtins.c, programs/wcmd/directory.c,
	  programs/wcmd/wcmdmain.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- don't create a new console upon startup
	- no longer assume we're always attached to a console

	* configure, configure.ac, dlls/gdi/Makefile.in:
	Get rid of win16drv directory.

	* dlls/gdi/Makefile.in, dlls/gdi/driver.c, dlls/gdi/gdi.exe.spec:
	Removed the 16-bit graphics driver support; this has been broken for a
	long time anyway.

2003-02-26  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/kernel_main.c, dlls/winedos/int31.c, include/miscemu.h,
	  include/selectors.h, include/wine/library.h, library/ldt.c,
	  loader/task.c, memory/instr.c, memory/selector.c,
	  scheduler/sysdeps.c, scheduler/thread.c:
	Moved LDT selector allocation routines to libwine.
	Added support for correct locking of all LDT operations.
	Added separate functions to manipulate the %fs selector, which allows
	using a global GDT selector on recent Linux kernels.

	* files/file.c:
	MoveFile[AW] should simply call MoveFileEx[AW]. Should fix issue
	reported by Roderick Colenbrander.

	* dlls/winedos/soundblaster.c: Sylvain Petreolle <spetreolle@yahoo.fr>
	Implemented DSP Version command.

	* tools/wrc/wrc.c, tools/wrc/wrc.h, tools/wrc/wrc.man,
	  tools/wrc/writeres.c, tools/wrc/writeres.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	Remove assembly generation from wrc.

	* dlls/winedos/int10.c, include/miscemu.h, msdos/dosmem.c:
	Jukka Heinonen <jhei@iki.fi>
	Move controller info and state/functionality info initialization to
	winedos. Convert many incorrectly static fields into dynamic
	fields. Fix vesa mode reporting and realloc memory block consistency
	checks.

	* programs/wineconsole/wineconsole.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed behavior when changing both sb and win size, as the order of
	operation is important to keep sb always bigger than win.

	* scheduler/process.c, windows/winproc.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Only print 4 hexdigits for tid.

	* dlls/oleaut32/typelib.c: Mike Hearn <m.hearn@signal.qinetiq.com>
	Check both pointers in GetContainingTypeLib.

	* dlls/kernel/kernel32.spec, include/winbase.h, memory/global.c:
	Mike Hearn <m.hearn@signal.qinetiq.com>
	Implemented GlobalMemoryStatusEx().

	* include/docobj.h: Mike Hearn <m.hearn@signal.qinetiq.com>
	Add some OLECMDIDs present in MS headers.

	* documentation/authors.ent, documentation/running.sgml:
	Mike Hearn <m.hearn@signal.qinetiq.com>
	Added a "basic usage" section that deals with installation,
	uninstallation and control panel applets to the "Running Wine" part of
	the users guide.

2003-02-25  Alexandre Julliard  <julliard@winehq.com>

	* server/console.c, server/debugger.c, server/process.c,
	  server/ptrace.c, server/thread.c, server/thread.h:
	Added send_thread_signal() function and properly handle errors caused
	by the thread having already died when we send it a signal.
	Use -1 instead of 0 as invalid Unix pid value.

	* server/registry.c: Avoid some redundant calls to time(NULL).
	touch_key() must not be called in create_key.

	* configure, configure.ac: Mike McCormack <mike@codeweavers.com>
	Turn off -Wpointer-arith if it generates warnings when including
	string.h.

	* dlls/comctl32/treeview.c: Tim Segall <tim@cobber.com>
	Accept either TVI_ROOT or NULL for the parent to imply sort the entire
	tree.

	* programs/wcmd/directory.c, programs/wcmd/wcmd.h,
	  programs/wcmd/wcmdmain.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- made support for paged output a generic feature in wcmd
	- rewrote DIR command accordingly

	* programs/wineconsole/user.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Forbids selecting (for clipboard) areas larger than the actual
	screen-buffer size.

	* dlls/wininet/http.c, dlls/wininet/internet.c,
	  dlls/wininet/tests/http.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	InternetOpenUrlA (http/s case): Use client for HttpOpenRequestA, don't
	insert HOST: twice.
	HttpAddRequestHeadersA: allow lpszHeader == NULL.

	* tools/winewrap.c: Dimitrie O. Paun <dpaun@rogers.com>
	No need to support -mwindows as a synonim for -mgui: it's a gcc-ism
	that is handled in winegcc.
	Link in GDI only in gui mode.

	* dlls/kernel/tests/pipe.c: Dan Kegel <dank@kegel.com>
	Now compiles on windows.  Added a couple more checks.

	* dlls/ntdll/cdrom.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Define CD_SECS and CD_FRAMES also on non-Linux systems.  Avoid a
	non-portable TRACE on non-Linux systems.

2003-02-24  Alexandre Julliard  <julliard@winehq.com>

	* include/wine/server_protocol.h, scheduler/process.c,
	  server/process.c, server/protocol.def, server/thread.c,
	  server/thread.h, server/trace.c:
	Pass the pid of the new process in the new_process request, don't
	depend on the parent pid to find the startup info.

	* dlls/comctl32/rebar.c, dlls/winedos/vga.c, dlls/wininet/internet.c,
	  dlls/winsock/socket.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Remove some unreachable code.

	* dlls/dsound/tests/dsound.c: Robert Reif <reif@earthlink.net>
	Fixed a problem getting the GUID to compile under windows and wine.

	* dlls/winedos/int10.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fix TRACE format string.

	* dlls/dinput/dinput_main.c, dlls/dinput/keyboard/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Implement GetDeviceInfo and GetObjectInfo for the keyboard device.

	* programs/wineconsole/dialog.c,
	  programs/wineconsole/wineconsole_De.rc,
	  programs/wineconsole/wineconsole_En.rc,
	  programs/wineconsole/wineconsole_Fr.rc,
	  programs/wineconsole/wineconsole_Hu.rc,
	  programs/wineconsole/wineconsole_Zh.rc,
	  programs/wineconsole/wineconsole_res.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added checks when editing window and sb size so that they are kept
	consistent.

	* dlls/comctl32/propsheet.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Added handling for PSNRET_INVALID in PSN_APPLY notification.

	* programs/wineconsole/registry.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Set a default 50 lines in history for console apps.

	* programs/wcmd/wcmdmain.c: Dan Kegel <dank@kegel.com>
	Make 'cmd /c cl /MUMBLE foo.c' pass /MUMBLE to cl.

	* dlls/dsound/capture.c: Michael Stefaniuc <mstefani@redhat.de>
	Add missing LeaveCriticalSection's in error path.

	* programs/winedbg/winedbg.c: Marcus Meissner <meissner@suse.de>
	Print out name of float exceptions.

	* tools/winegcc.c: Dimitrie O. Paun <dpaun@rogers.com>
	Link in shell32 only in gui mode.
	Add all the standard defines that MinGW provides (with the exception
	of __MINGW__, that's MinGW prerogative).
	Do not pass along linker options when only compiling.

	* include/dsound.h: Robert Reif <reif@earthlink.net>
	Added definitions for DirectSoundFullDuplex and moved some GUIDs
	around.

2003-02-19  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, VERSION, configure: Release 20030219.

----------------------------------------------------------------
2003-02-19  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/tests/.cvsignore: Added pipe.ok.

	* AUTHORS, dlls/shell32/authors.h: Updated authors list.

	* server/console.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed read-overflow spotted by valgrind.

	* dlls/winedos/int10.c, dlls/winedos/vga.c:
	Jukka Heinonen <jhei@iki.fi>
	Ignore get shadow buffer function.
	Remember to synchronize VGA display on program exit because update
	thread may not have time to run.

	* dlls/Makefile.in, dlls/make_dlls:
	Fixed installation order of linkable dlls.

	* dlls/kernel/kernel32.spec, dlls/winedos/int21.c, include/miscemu.h,
	  memory/global.c, msdos/dosmem.c, msdos/int21.c:
	Jukka Heinonen <jhei@iki.fi>
	Move resize memory block to winedos and make it resize in place and
	work correctly even when trying to allocate too much memory.

	* dlls/msvcrt/file.c, dlls/msvcrt/tests/file.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Rough implementation of _O_TEXT/_O_BINARY translation by doing single
	byte read/writes in _O_TEXT mode and CR/LR handling.
	fput/getwc must read multibyte characters in _O_TEXT.
	Added test cases for _O_TEXT/_O_BINARY file handling and fgetws.

	* dlls/ntdll/cdrom.c: Waldeck Schutzer <schutzer@math.rutgers.edu>
	- Some systems/drives are very slow to read the TOC. To address this
	  issue, we are caching it inside the driver.
	- Windows will seek while not playing, Linux will not. We are
	  providing better compatibility with Windows by also caching the
	  current position.

	* dlls/winmm/mcicda/mcicda.c:
	Waldeck Schutzer <schutzer@math.rutgers.edu>
	Avoid playing data tracks.

	* relay32/relay386.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Avoid warnings.

	* dlls/kernel/sync.c, dlls/kernel/tests/Makefile.in,
	  dlls/kernel/tests/pipe.c:
	Dan Kegel <dank@kegel.com>
	Added check for illegal pipe names.
	Added regression test.

	* windows/sysmetrics.c, windows/sysparams.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Convert Twips values from the registry.

	* controls/edit.c: Sander van Leeuwen <sandervl@xs4all.nl>
	Dietrich Teickner <Dietrich_Teickner@t-online.de>
	- Fixed incorrect undo buffer size (previous code caused heap
	  corruption when using backspace many times).
	- Always kill timer when left mouse button is released and in captured
	  state.

	* dlls/rpcrt4/rpc_binding.c, dlls/rpcrt4/rpc_binding.h,
	  dlls/rpcrt4/rpc_message.c, dlls/rpcrt4/rpc_server.c,
	  dlls/rpcrt4/rpc_server.h:
	Ove Kaaven <ovek@transgaming.com>
	For better concurrency, separate the connections from the bindings.

	* include/winternl.h: Thomas Mertes <thomas.mertes@t-mobile.at>
	- Implement RtlCharToInteger, RtlExtendedMagicDivide, RtlUpperChar,
	  RtlInt64ToUnicodeString, RtlIntegerToChar, RtlIntegerToUnicodeString,
	  RtlLargeIntegerToChar, RtlUnicodeStringToInteger and
	  RtlUpcaseUnicodeChar.
	- Use toupperW instead of toupper in RtlCompareUnicodeString.

	* dlls/msvcrt/dir.c: Warren Baird <Warren_Baird@cimmetry.com>
	- Avoid possible seg fault when calling TRACE with NULL string pointers.
	- Fix bad side-effect of makepath on input parameters.

	* scheduler/process.c: Warren Baird <Warren_Baird@cimmetry.com>
	Increase size of insufficiently big stack allocated buffer used for
	error messages in PROCESS_InitWine.

	* dlls/kernel/editline.c: Jukka Heinonen <jhei@iki.fi>
	When updating the edited line, remember to update attributes, too.

	* programs/winedbg/debugger.h, programs/winedbg/hash.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- removed unused function: SetSymbolValue
	- enhanced a bit AddSymbol regarding invalid symbol management (and
	  enhanced its traces)
	- now printing type information in 'info sym'

	* programs/winedbg/stabs.c: Eric Pouech <eric.pouech@wanadoo.fr>
	- added parsing of C++ inheritence information
	- added an internal trace for displaying errors in typedef parsing
	- enhanced ELF symbol management (direct call to AddSymbol in ELF
	  header)

	* dlls/richedit/richedit.c: Duane Clark <dclark@akamail.com>
	A fix to get edit control scrolls bars to draw in the correct
	position.

	* dlls/ntdll/tests/.cvsignore, dlls/ntdll/tests/Makefile.in,
	  dlls/ntdll/tests/large_int.c, dlls/ntdll/tests/rtlstr.c:
	Thomas Mertes <thomas.mertes@t-mobile.at>
	Tests for RtlCharToInteger, RtlExtendedMagicDivide, RtlUpperChar,
	RtlInt64ToUnicodeString, RtlIntegerToChar, RtlIntegerToUnicodeString,
	RtlLargeIntegerToChar, RtlUnicodeStringToInteger and
	RtlUpcaseUnicodeChar.

	* dlls/ntdll/large_int.c, dlls/ntdll/ntdll.spec, dlls/ntdll/rtl.c,
	  dlls/ntdll/rtlstr.c:
	Thomas Mertes <thomas.mertes@t-mobile.at>
	- Implement RtlCharToInteger, RtlExtendedMagicDivide, RtlUpperChar,
	  RtlInt64ToUnicodeString, RtlIntegerToChar, RtlIntegerToUnicodeString,
	  RtlLargeIntegerToChar, RtlUnicodeStringToInteger and
	  RtlUpcaseUnicodeChar.
	- Use toupperW instead of toupper in RtlCompareUnicodeString.

	* include/wininet.h: Alberto Massari <amassari@progress.com>
	- the first argument in several Unicode functions was an ASCII string
	  instead of a Unicode one
	- added more macro definitions

	* include/rpcproxy.h: Ove Kaaven <ovek@transgaming.com>
	"Implemented" IID_BS_* macros.

	* server/queue.c: Mike McCormack <mike@codeweavers.com>
	Added missing release_object.

	* server/Makefile.in, server/async.c, server/atom.c, server/change.c,
	  server/console.c, server/debugger.c, server/device.c, server/fd.c,
	  server/file.c, server/file.h, server/handle.c, server/hook.c,
	  server/main.c, server/mapping.c, server/named_pipe.c,
	  server/object.c, server/object.h, server/pipe.c, server/process.c,
	  server/process.h, server/queue.c, server/registry.c,
	  server/request.c, server/select.c, server/serial.c, server/smb.c,
	  server/snapshot.c, server/sock.c, server/thread.c, server/thread.h,
	  server/timer.c:
	Moved all references to file descriptors out of the generic object
	structure.
	Changed the poll()-related routines to deal with file descriptors
	instead of objects and integrated poll support into fd.c.

2003-02-18  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/main.c, dlls/ntdll/critsection.c,
	  dlls/ntdll/debugtools.c, dlls/user/hook.c, graphics/x11drv/dib.c,
	  if1632/relay.c, loader/pe_image.c, relay32/relay386.c,
	  relay32/snoop.c, scheduler/thread.c, windows/spy.c:
	Print thread ids in traces with only 4 digits now that they are small
	integers.

	* dlls/ntdll/exception.c: Print dll name too for stub exceptions.

	* dlls/x11drv/winpos.c, windows/nonclient.c:
	Duane Clark <dclark@akamail.com>
	Correctly encode wParam for WM_SYSCOMMAND,SC_SIZE messages.

	* dlls/crypt32/crypt32.spec: Alberto Massari <amassari@progress.com>
	Added stub for CryptUnprotectData.

	* documentation/patches.sgml:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Add entry for no html in patches.

	* tools/winegcc.c, tools/winewrap.c:
	Steven Edwards <steven_ed4153@yahoo.com>
	Porting fixes.

	* dlls/ntdll/rtlbitmap.c, dlls/ntdll/tests/rtlbitmap.c:
	Thomas Mertes <thomas.mertes@t-mobile.at>
	- Fix small bug in RtlFindMostSignificantBit. It returned sometimes
	  wrong results if more then one bit was set.
	- Update the test cases as well.

2003-02-17  Alexandre Julliard  <julliard@winehq.com>

	* server/mapping.c:
	Make sure get_file_size uses a valid fd (spotted by Uwe Bonnes).

	* loader/loadorder.c:
	Set default loadorder to native for dlls that contain an explicit
	path.

	* documentation/cvs-regression.sgml:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Updated regression testing documentation.

	* dlls/winmm/winmm.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Allowed waveInMessage to use physical information (as waveOut does).

	* dlls/rpcrt4/ndr_marshall.c: Ove Kaaven <ovek@transgaming.com>
	NDR marshalling fixes.

	* dlls/rpcrt4/cpsf.c: Ove Kaaven <ovek@transgaming.com>
	Make NdrDllRegisterProxy use the interface stub header instead of the
	interface proxy header to avoid stubless proxy ambiguities.

	* programs/winedbg/debugger.h, programs/winedbg/types.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- added GetName() to retrieve type name
	- reimplemented DumpTypes so that it really dumps the types content
	- now printing type information in 'info sym'

	* programs/winedbg/dbg.y: Eric Pouech <eric.pouech@wanadoo.fr>
	Moved expr freeing when translating a command (no longer done on each
	command which uses an expr).

	* dlls/dsound/sound3d.c: Rok Mandeljc <rokmandeljc@hotmail.com>
	Reimplemented distance attenuation formula.
	Removed coning formula since i believe it's inappropriate.

2003-02-15  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/cdlg.h, dlls/commdlg/cdlg_Ca.rc,
	  dlls/commdlg/cdlg_Da.rc, dlls/commdlg/cdlg_De.rc,
	  dlls/commdlg/cdlg_En.rc, dlls/commdlg/cdlg_Es.rc,
	  dlls/commdlg/cdlg_Fi.rc, dlls/commdlg/cdlg_Fr.rc,
	  dlls/commdlg/cdlg_Hu.rc, dlls/commdlg/cdlg_It.rc,
	  dlls/commdlg/cdlg_Ja.rc, dlls/commdlg/cdlg_Nl.rc,
	  dlls/commdlg/cdlg_Pl.rc, dlls/commdlg/cdlg_Pt.rc,
	  dlls/commdlg/cdlg_Ru.rc, dlls/commdlg/cdlg_Si.rc,
	  dlls/commdlg/cdlg_Sk.rc, dlls/commdlg/cdlg_Sv.rc,
	  dlls/commdlg/cdlg_Wa.rc, dlls/commdlg/cdlg_Zh.rc,
	  dlls/commdlg/fontdlg.c:
	Shachar Shemesh <wine-patches@sun.consumer.org.il>
	- Implemented two lookup tables for the sample fonts. The first,
	  "CHARSET_ORDER", is for converting codepage to ordinal charset num,
	  and the second, "SAMPLE_LANG_TEXT", is for giving the actual sample
	  text.
	- Removed all references to changing the font directly in stc5.
	- Modified the "InvalidateRect" calls to invalidate the rect where
	  stc5 is, rather than stc5 itself.
	- Added handling of WM_PAINT that draws the sample text, properly
	  truncated.
	- Removed handling of WM_CTLCOLOR - no longer neccessary.

	* dlls/dsound/buffer.c, dlls/dsound/capture.c,
	  dlls/dsound/dsound_main.c, dlls/dsound/dsound_private.h,
	  dlls/dsound/primary.c, dlls/dsound/tests/dsound.c:
	Robert Reif <reif@earthlink.net>
	Added support for direct sound capture and a real direct sound capture
	driver. Capture now works with some skipping. Full duplex does not but
	I will be working on that next.

	* dlls/winmm/wavemap/wavemap.c: Robert Reif <reif@earthlink.net>
	Added additional formats.
	Fixed a few bugs in read/write positions when the format is mapped
	using acm.
	Fixed a bug where the number of waveOut devices is used when iterating
	over waveIn devices.

2003-02-14  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winmm/wineoss/audio.c: Robert Reif <reif@earthlink.net>
	Started to add support for a real direct sound capture driver.
	Changed the capture fragment size but this still needs tuning for best
	performance.

	* include/dsdriver.h, include/dsound.h:
	Robert Reif <reif@earthlink.net>
	Added/fixed some definitions for direct sound capture.

	* dlls/comctl32/listview.c: Duane Clark <dclark@akamail.com>
	Support the undocumented behavior of deleting column zero.

	* server/snapshot.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed regression in process parent handling.

	* dlls/ole32/rpc.c: Dan Kegel <dank@kegel.com>
	Roll loop back up to avoid code duplication.

	* include/wingdi.h, objects/enhmetafile.c:
	Mike McCormack <mike@codeweavers.com>
	Huw Davies <huw@codeweavers.com>
	- make world transforms work in EMFs
	- fix declaration of GDICOMMENT_* macros
	- refuse to load unaligned EMFs
	- fix SetWinMetaFileBits

	* dlls/netapi32/netapi32.c, dlls/netapi32/netapi32.spec,
	  dlls/netapi32/wksta.c, include/lmwksta.h:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Separate "Enumerate Hardware Addresses" as function, as other netapi32
	function need it.
	Implemented level 0 of NetWkstaTransportEnum.

	* dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.spec:
	Michael Stefaniuc <mstefani@redhat.de>
	Implemented _mbsnbcat.

	* files/dos_fs.c, include/wine/server_protocol.h, server/atom.c,
	  server/change.c, server/console.c, server/console.h,
	  server/context_i386.c, server/context_powerpc.c,
	  server/context_sparc.c, server/debugger.c, server/device.c,
	  server/event.c, server/fd.c, server/file.c, server/file.h,
	  server/handle.c, server/handle.h, server/hook.c, server/mapping.c,
	  server/mutex.c, server/named_pipe.c, server/object.c,
	  server/object.h, server/pipe.c, server/process.c,
	  server/protocol.def, server/ptrace.c, server/queue.c,
	  server/registry.c, server/request.c, server/request.h,
	  server/select.c, server/semaphore.c, server/serial.c, server/smb.c,
	  server/snapshot.c, server/sock.c, server/thread.c, server/timer.c,
	  server/trace.c, win32/device.c:
	Changed fd operations to take a struct fd instead of a struct object.
	Removed get_file_info function from object operations.
	Added get_device_id request to avoid abusing get_file_info.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Correctly remember the first paint event, but delay item metrics
	calculation until we actually have some items.

	* programs/wineconsole/curses.c: Eric Pouech <eric.pouech@wanadoo.fr>
	- fixed mouse event generation
	- better management of some keys
	- now generating several wincon-events for a given curses-event
	- added basic support for V-scrolling (disabled by default)
	- fixed printing of some unsupported characters

	* dlls/winedos/int10.c, dlls/winedos/vga.c:
	Jukka Heinonen <jhei@iki.fi>
	Outputting backspaces should only move the cursor.
	Text buffer copy is now always initialized correctly.
	Preserve video memory flag is parsed and text screen is now really
	cleared when flag is clear.

	* programs/winedbg/info.c: Mike Hearn <m.hearn@signal.qinetiq.com>
	Removed the nonexistant command "debugmsg" from winedbg help screen.

2003-02-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3dcommon.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dvertexbuffer.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Use the dwStartVertex argument in the Draw*PrimitiveVB methods.

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Change algorithm to detect lighted / unlighted vertices.

	* dlls/ddraw/mesa.c, dlls/ddraw/d3ddevice/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Handle the COLORVERTEX render state.

	* dlls/ddraw/d3ddevice/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Trace after the matrix has been copied, not before.

	* server/named_pipe.c:
	Removed direct references to the file descriptor, use the new fd
	functions instead so that get_fd works properly.

	* dlls/shlwapi/string.c: Sergei Turchanov <plumber@print.vlad.ru>
	- _SHStrDupAA forgot about terminating '\0'.
	- SHStrDupA adds extra terminator which is not needed as the length
	  returned by MultiByteToWideChar(,,-1,,) already includes it.

	* dlls/msvcrt/locale.c: Marcus Meissner <meissner@suse.de>
	Fix warning in __crtLCMapStringA.

	* dlls/comctl32/listview.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Avoid warnings caused by assert(...).

	* dlls/winspool/info.c: Duane Clark <dclark@akamail.com>
	Replace HEAP_strdupAtoW call and delete extra
	RtlCreateUnicodeStringFromAsciiz.

	* dlls/dinput/device.c, dlls/dinput/keyboard/main.c,
	  dlls/dinput/mouse/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Implemented EnumObjects for the keyboard device.

	* dlls/ddraw/d3ddevice/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	- fixed GetTransform
	- implemented MultiplyTransform

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added fogging for transformed vertices.

	* dlls/dplayx/dplobby.c, dlls/winedos/dosvm.c,
	  dlls/winmm/mciavi/mciavi.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Added some missing LeaveCriticalSection's.

	* dlls/msvcrt/mbcs.c, dlls/ole32/rpc.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Remove dead code after return or properly comment it out.

	* documentation/faq.sgml:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Add entry for "Error installing iKernel.exe: (0x1400)".

	* dlls/winspool/info.c: Duane Clark <dclark@akamail.com>
	Winspool expects NULLs to be preserved in ascii to unicode
	conversions.

	* loader/elf.c: Warren Baird <Warren_Baird@cimmetry.com>
	Increase size of insufficiently big stack allocated buffer used for
	error messages in ELF_LoadLibraryExA.

	* dlls/gdi/mfdrv/init.c, dlls/gdi/mfdrv/metafiledrv.h:
	Warren Baird <Warren_Baird@cimmetry.com>
	Implementation of GetDeviceCaps in metafile driver.

	* include/wingdi.h: Warren Baird <Warren_Baird@cimmetry.com>
	Added BYTE explicit casts in RGB macro definition.

	* programs/wineboot/wineboot.c: Matthew Davison <m.davison@virgin.net>
	Make trace output produced by wineboot more useful.

	* dlls/dinput/device.c, dlls/dinput/mouse/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Report an error if GetDeviceData is called on an Unacquired device.

	* documentation/samples/config, tools/wineconf:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Modify the wineconf tags so that the sample config can be included in
	the documentation.

	* dlls/ddraw/d3ddevice/mesa.c: Christian Costa <titan.costa@wanadoo.fr>
	Fix comment in ZfromZproj.
	Fix missing path in lighting code.
	Move some OpenGL fog init to the right place.

	* dlls/ddraw/d3ddevice/main.c: Christian Costa <titan.costa@wanadoo.fr>
	Implemented IDirect3DDevice7_Load.

2003-02-11  Alexandre Julliard  <julliard@winehq.com>

	* server/file.c, server/named_pipe.c, server/object.h,
	  server/request.c, server/select.c, server/serial.c, server/smb.c,
	  server/sock.c, server/trace.c:
	Steven Edwards <steven_ed4153@yahoo.com>
	Porting fixes.

	* dlls/winedos/dosexe.h, dlls/winedos/int21.c, dlls/winedos/module.c,
	  dlls/winedos/winedos.spec, include/callback.h, msdos/dpmi.c,
	  msdos/int21.c:
	Jukka Heinonen <jhei@iki.fi>
	Reorganize IOCTL handling.
	Move ASPI hooking to winedos.
	Move some miscellaneous functions to winedos.
	Remove unnecessary exports from winedos dll.

	* loader/pe_image.c: Rein Klazes <rklazes@xs4all.nl>
	In PE_fixup_imports report "module file not found" only in case of a
	"file not found" error. Otherwise report failure and error number.

	* dlls/rpcrt4/ndr_marshall.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed undefined operation compiler warning.

	* dlls/winedos/vga.c: Jukka Heinonen <jhei@iki.fi>
	Add locking to VGA_SetWindowStart.
	Move console updates to update thread instead of immediately writing
	to console.

	* dlls/winedos/int10.c: Jukka Heinonen <jhei@iki.fi>
	Add support for VESA mode information.
	Reorganize controller and state information routines.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Compute matrix of first paint when we actually have some items
	(problem first spotted & debugged by Duane Clark).

	* include/commctrl.h: Dimitrie O. Paun <dpaun@rogers.com>
	Add missing ListView_SetItemCount declaration.

	* dlls/opengl32/make_opengl, dlls/opengl32/opengl32.spec:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added stub for undocumented 'wglGetDefaultProcAddress' function.

	* dlls/gdi/mfdrv/objects.c: Warren Baird <Warren_Baird@cimmetry.com>
	Fix wrong structure used to determine the size of a memcpy in
	MFDRV_CreateBrushIndirect.

	* dlls/kernel/time.c: Martin Fuchs <martin-fuchs@gmx.net>
	Fixed time zone calculation.

	* dlls/kernel/tests/file.c: Francois Gouget <fgouget@free.fr>
	With help from Enio Schutt Jr <enio.s.jr@operamail.com>
	Skip the overlapped I/O tests on files on Win9x.

	* dlls/msvcrt/locale.c, dlls/msvcrt/msvcrt.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented __crtLCMapStringA.

	* dlls/ctl3d/ctl3d.c, dlls/ctl3d/ctl3d32.c:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Manage internal ctl3d auto subclass flag.

	* dlls/dinput/dinput_main.c, dlls/dinput/dinput_private.h,
	  dlls/dinput/keyboard/main.c:
	Ove Kaaven <ovek@transgaming.com>
	Only install the keyboard hook on device creation.

	* programs/winedbg/ext_debugger.c, programs/winedbg/hash.c,
	  programs/winedbg/module.c, programs/winedbg/source.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Translated sprintf calls into snprintf.

	* programs/winedbg/gdbproxy.c: Eric Pouech <eric.pouech@wanadoo.fr>
	- translated sprintf calls into snprintf
	- added helper for sending strings in hex form

	* programs/winedbg/dbg.y, programs/winedbg/debugger.h,
	  programs/winedbg/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Attach command no longer worked as expected, fixed it.

	* programs/wcmd/builtins.c, programs/wcmd/wcmd.h,
	  programs/wcmd/wcmdmain.c:
	Sylvain Petreolle <spetreolle@yahoo.fr>
	Fixed handling of PATH command with spaces.

	* tools/wrc/wrc.c, tools/wrc/wrc.man:
	Dimitrie O. Paun <dpaun@rogers.com>
	Add option to set preprocessor (not yet implemented).
	Remove the -N option, which is equivalent to '-P cat'.

	* dlls/ddraw/dsurface/dib.c: Christian Costa <titan.costa@wanadoo.fr>
	Add support for 24 bpp to _Blt_ColorFill.
	Fix endianness issue in DIB_DirectDrawSurface_Blt.

	* dlls/ntdll/exception.c: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added FIXME on stub exception.

2003-02-01  Alexandre Julliard  <julliard@winehq.com>

	* server/process.c, server/process.h, server/ptrace.c,
	  server/request.c, server/thread.c, server/thread.h, server/trace.c,
	  tools/make_requests:
	Made process and thread ids small integers instead of pointers.

	* dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.h:
	Store mbstok() next pointer in the per-thread data.

	* dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.spec:
	Michael Stefaniuc <mstefani@redhat.de>
	Implemented _mbstok and _mbsnbset.

	* dlls/rpcrt4/ndr_marshall.c, dlls/rpcrt4/ndr_misc.h,
	  dlls/rpcrt4/ndr_ole.c, dlls/rpcrt4/rpcrt4.spec:
	Ove Kaaven <ovek@transgaming.com>
	Implemented marshalling of pointers, simple and complex structures,
	conformant and complex arrays, and user-marshalled types.
	Improved marshalling of conformant strings and interface pointers a
	bit.

	* dlls/shell32/shell32.spec, dlls/shell32/shlfileop.c,
	  include/shlobj.h:
	Rolf Kalbermatter <r.kalbermatter@hccnet.nl>
	Change SHCreateDirectory and Win32DeleteFile to be Unicode or ANSI depending
	on OS version. Add ShCreateDirectoryEx API.

	* tools/wrc/README.wrc, tools/wrc/wrc.man:
	Dimitrie O. Paun <dpaun@rogers.com>
	Merge README.wrc into wrc's man page.

	* include/wingdi.h, objects/palette.c:
	Andrew John Hughes <hughes2002@btinternet.com>
	Extended SetSystemPaletteUse to deal with error conditions.

	* dlls/d3d8/directx.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Correct some capabilities, and default others to fully supported for
	now.

2003-01-31  Alexandre Julliard  <julliard@winehq.com>

	* include/wrc_rsc.h: No longer used.

	* dlls/wineps/driver.c, dlls/wineps/psdrv.h, include/wingdi.h:
	Andrew John Hughes <hughes2002@btinternet.com>
	- DeviceCapabilities16 now calls PSDRV_DeviceCapabilities.
	- ExtDeviceMode16 now calls PSDRV_ExtDeviceMode.
	- Extended switch statement in DeviceCapabilities to handle new
	  options.
	- Added comments to functions.

	* dlls/user/text.c: Bill Medland <billmedland@mercuryspeed.com>
	Better handling of bad data in TabbedTextOut/TabbedTextExtent
	Checked with:
	a) Null tabstop array with non-zero number of entries
	b) Negative number of entries (MSDN is wrong; it is not an error)
	c) Single tabwidth of negative size
	d) Single specified tabwidth of zero size

	* dlls/rpcrt4/ndr_midl.c: Ove Kaaven <ovek@transgaming.com>
	ReuseBuffer should be FALSE for RPC clients.
	Some cleanups and elimination of some duplicate code.

	* dlls/rpcrt4/rpc_binding.c: Ove Kaaven <ovek@transgaming.com>
	Fixed a bug in CompleteBindingA/W.

	* dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented RpcRaiseException.

	* include/rpcdce.h, include/rpcndr.h, include/wine/rpcfc.h:
	Ove Kaaven <ovek@transgaming.com>
	Some RPC definitions.

	* tools/wrc/wrc.c, tools/wrc/wrc.h, tools/wrc/wrc.man,
	  tools/wrc/writeres.c, tools/wrc/writeres.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	Remove header file generation, and related options.

	* dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.spec:
	Marcus Meissner <meissner@suse.de>
	Implemented mbsicoll (without locale handling).

	* dlls/winmm/winmm_Si.rc: Waldeck Schutzer <schutzer@math.rutgers.edu>
	Removed invalid char.

2003-01-30  Alexandre Julliard  <julliard@winehq.com>

	* programs/winedbg/stabs.c: Eric Pouech <eric.pouech@wanadoo.fr>
	- Added experimental parsing for C++ code (but winedbg doesn't support
	  C++ ABI).
	- Now loading symbols for included files.

	* dlls/x11drv/x11drv_main.c:
	XCloseIM sometimes crashes in Xlib, don't call it.

	* dlls/x11drv/window.c: Liu Spider <liuspider@yahoo.com>
	Added XNFocusWindow attribute when creating a IC.

	* server/Makefile.in, server/async.c, server/atom.c, server/change.c,
	  server/console.c, server/debugger.c, server/device.c, server/event.c,
	  server/fd.c, server/file.c, server/file.h, server/handle.c,
	  server/hook.c, server/mapping.c, server/mutex.c, server/named_pipe.c,
	  server/object.c, server/object.h, server/pipe.c, server/process.c,
	  server/queue.c, server/registry.c, server/request.c, server/select.c,
	  server/semaphore.c, server/serial.c, server/smb.c, server/snapshot.c,
	  server/sock.c, server/thread.c, server/timer.c:
	Started moving functions that deal with Unix file descriptors to a
	separate fd object. This will be needed for file locking.

	* documentation/debugger.sgml, programs/winedbg/dbg.y,
	  programs/winedbg/debug.l, programs/winedbg/debugger.h,
	  programs/winedbg/info.c, programs/winedbg/module.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- Removed no longer used queue & modref related commands.
	- Protected walk commands while being called with no process loaded.
	- In command grammar, allowed some expressions while only numbers
	  where accepted.
	- Renamed 'info maps' info 'walk maps' and let it work on any
	  process.

	* dlls/wsock32/Makefile.in, dlls/wsock32/protocol.c,
	  dlls/wsock32/service.c, dlls/wsock32/wsock32.spec, include/nspapi.h:
	Andrew John Hughes <hughes2002@btinternet.com>
	Provide stub implementations of GetTypeByNameA and SetServiceA.

	* include/winnt.h, library/port.c: Dimitrie O. Paun <dpaun@rogers.com>
	Remove writable-strings support.

	* dlls/richedit/richedit.c: Dan Kegel <dank@kegel.com>
	Only warn if message is >= WM_USER && < WM_APP.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- Defer of IDirect3DVertexShader_SetConstant, waiting for
	DrawPrimitive call.
	- Beginning of VertexShader constants support into stateblock (only
	  stored, not captured yet).
	- Fix compiation with nivdia GL/gl.h and mesa Gl/glext headers as
	  reported by Andrew John Hughes.
	- One glActiveTexture/glActiveTextureARB missing.

	* scheduler/pthread.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Add missing casts related to pthread_t. Tweak comments.

	* dlls/winedos/int21.c, msdos/int21.c: Jukka Heinonen <jhei@iki.fi>
	Fix buffered input function. Add support for UMB subfunctions to
	memory allocation strategy function. Move flock to winedos.

	* dlls/msvideo/msvideo16.c, dlls/msvideo/msvideo_main.c,
	  dlls/msvideo/msvideo_private.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- made ICInfo closer to Windows behavior (i.e. no longer opens the
	  driver)
	- fixed most endianess related bugs in fourCC handling
	- added debug function for printing fourCC:s
	- internal function fixes and speed-up

	* programs/wcmd/wcmdrc.rc: Dan Kegel <dank@kegel.com>
	Add real syntax doc for LABEL command.

2003-01-28  Alexandre Julliard  <julliard@winehq.com>

	* dlls/d3d8/Makefile.in, dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c,
	  dlls/d3d8/directx.c, dlls/d3d8/shader.c, dlls/d3d8/stateblock.c,
	  dlls/d3d8/vshaderdeclaration.c:
	Raphael Junqueira <fenix@club-internet.fr>
	Some needed cleanups for future dx9 and d3d common layer support:
	  - stateblocks to IDirect3DStateBlockImpl interface and moving into
	    a new file (stateblock.c)
	  - shaders to IDirect3D*ShaderImpl interfaces
	  - splitting vshader and vshader declaration as in dx9 into 2
	    interfaces (for future common layer use)
	  - vshader declaration code to a new file (vsaderdeclaration.c)
	  - device calls to new interfaces (redirect stubs)
	Simple texture fix for a little regression after last Jason's patches.
	Some caps code using the GL/glext.h defines (GL_VERSION_*).

	* programs/notepad/En.rc, programs/notepad/dialog.c,
	  programs/notepad/dialog.h, programs/notepad/main.c,
	  programs/notepad/main.h, programs/notepad/notepad_res.h:
	Shachar Shemesh <winecode@sun.consumer.org.il>
	Implemented font selection.
	Added accelerators resources.

	* dlls/winsock/socket.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Properly #define sipx_node for FreeBSD.

	* documentation/packaging.sgml: Tom Wickline <twickline2@triad.rr.com>
	Updated the Sample config
	Replaced <para> with <programlisting>.

	* dlls/ole32/ole2.c: Juergen Schmied <j.schmied@t-online.de>
	Fix DoDragDrop in case of child windows.

	* dlls/x11drv/desktop.c, dlls/x11drv/x11drv_main.c, include/x11drv.h:
	When using desktop mode attach all thread inputs together, so that
	keyboard focus works properly.

	* documentation/packaging.sgml: Tom Wickline <twickline2@triad.rr.com>
	Removed the old win.ini sample replaced it with a RH 8.0 rpm .spec.
	Changed title name of section 5.1.
	Other small fixes.

	* dlls/oleaut32/oleaut.c: Marcus Meissner <marcus@jet.franken.de>
	Do not free the old string in SysReAllocStringLen, reuse the old
	string memory (if 'in' is NULL).

	* dlls/ole32/storage.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Avoid compiler warning in STORAGE_get_free_pps_entry().

	* dlls/winsock/socket.c, server/sock.c:
	Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	Do not clear FD_WINE_CONNECTED on shutdown(). FD_WINE_CONNECTED
	(currently unused) can thus be used to determine if a stream socket
	was ever connected.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/variant.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added R4 and R8 comparison to VarCmp.
	Added I2 to VarFormat.
	Added VarSub, VarDiv, VarMul for integer and float types.

	* dlls/winedos/int31.c: Jukka Heinonen <jhei@iki.fi>
	Replace FIXMEs with TRACEs in those paging functions that really are
	not supposed to do anything.
	Add simple emulation of coprocessor state functions.

	* dlls/winedos/int21.c, msdos/int21.c: Jukka Heinonen <jhei@iki.fi>
	Return scancode when extended keycodes are read using console input
	functions. Move file stamp handling to winedos. Implement DOS7 file
	stamp extensions.

	* dlls/commdlg/cdlg.h, dlls/commdlg/cdlg_En.rc, dlls/commdlg/fontdlg.c:
	Shachar Shemesh <winecode@sun.consumer.org.il>
	- Defined IDs for string constants for font color names and for the
	  various charsets.
	- Load the color names from the resources in the fonts dialog.

	* dlls/wininet/internet.c, dlls/wininet/wininet.spec,
	  include/wininet.h:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	"InternetAutoDial" should be "InternetAutodial".

	* dlls/winedos/vga.c: Jukka Heinonen <jhei@iki.fi>
	Handle horizontal and vertical retrace separately.

	* dlls/winedos/int10.c: Jukka Heinonen <jhei@iki.fi>
	Unify VGA and VESA video mode setting code.

2003-01-24  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac, dlls/Makefile.in, dlls/d3dim/.cvsignore,
	  dlls/d3dim/Makefile.in, dlls/d3dim/d3dim.spec,
	  dlls/d3dim/d3dim_main.c, dlls/d3dim/version.rc:
	Enrico Horn <farmboy1@subdimension.com>
	Added d3dim.dll with stubs.

	* dlls/advapi32/eventlog.c, dlls/advapi32/security.c,
	  dlls/comctl32/listview.c, dlls/comctl32/propsheet.c,
	  dlls/commdlg/filedlg.c, dlls/kernel/thunk.c, dlls/ntdll/heap.c,
	  dlls/oleaut32/tmarshal.c, dlls/shell32/shellord.c,
	  dlls/winmm/playsound.c, files/directory.c, files/drive.c,
	  files/smb.c, windows/message.c, windows/msgbox.c:
	Removed no longer needed inclusion of heap.h.

	* include/richedit.h, include/winnt.h:
	Removed a couple of extra semicolons.

	* documentation/packaging.sgml: Tom Wickline <twickline2@triad.rr.com>
	Fixed $PREFIX location.
	Some small updates.
	Added sample config.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Add support for color material sources, with help from Lucho.

	* dlls/x11drv/keyboard.c:
	Leonardo Quijano Vincenzi <lquijano@pnudcr.com>
	Fixed Latin American keyboard (key "?!" was reversed).

	* dlls/advapi32/service.c: Matthew Davison <m.davison@virgin.net>
	Removed some Unicode -> Ascii cross-calls.

	* dlls/winspool/tests/info.c:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Removed windows version checks from GetPrinterDriverDirectory tests.

	* objects/dc.c: Rein Klazes <rklazes@xs4all.nl>
	Load default stock bitmap in CreateDC().

2003-01-23  Alexandre Julliard  <julliard@winehq.com>

	* include/heap.h: Matthew Davison <m.davison@virgin.net>
	Remove the HEAP_strdupAtoW macro.

	* dlls/advapi32/security.c, dlls/advapi32/service.c,
	  dlls/commdlg/filedlg.c, dlls/oleaut32/variant.c, dlls/user/hook.c,
	  dlls/winmm/mmsystem.c, dlls/winmm/playsound.c, dlls/winspool/info.c,
	  loader/resource.c, memory/environ.c, windows/winproc.c:
	Matthew Davison <m.davison@virgin.net>
	Removed calls to HEAP_strdupAtoW.

	* dlls/dinput/keyboard/main.c, dlls/dinput/mouse/main.c,
	  dlls/gdi/win16drv/prtdrv.c, dlls/ntdll/critsection.c,
	  dlls/winedos/module.c, dlls/winmm/winearts/audio.c,
	  dlls/winmm/winejack/audio.c, dlls/winmm/winenas/audio.c,
	  files/profile.c, files/smb.c, library/config.c, msdos/int21.c,
	  programs/wineconsole/curses.c, scheduler/critsection.c,
	  server/pipe.c, server/process.c, server/select.c, server/serial.c,
	  server/smb.c:
	Marcus Meissner <meissner@suse.de>
	Remove errno.h from files that do not need it.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Use device max lights and clipplane support. Also change clipplane to
	be affected by view matrix.

	* dlls/x11drv/keyboard.c:
	Keysym check should use 0x8000 instead of 0x800 (spotted by Dmitry
	Timoshkov).

	* configure, configure.ac, dlls/d3d8/device.c, dlls/d3d8/indexbuffer.c,
	  dlls/d3d8/shader.c, dlls/ddraw/d3dexecutebuffer.c,
	  dlls/gdi/freetype.c, dlls/ntdll/cdrom.c, dlls/oleaut32/safearray.c,
	  dlls/winedos/vga.c, dlls/winmm/lolvldrv.c,
	  dlls/winmm/wineoss/audio.c, dlls/x11drv/clipboard.c,
	  programs/winedbg/gdbproxy.c:
	Added -Wpointer-arith gcc flag, and fixed the resulting warnings.

	* dlls/cabinet/cabextract.c, dlls/cabinet/cabinet.h:
	Greg Turner <gmturner007@ameritech.net>
	Fix some problems when Extract is used more than once.

	* tools/wrc/wrc.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Declare variable only if needed.

	* dlls/msacm/format.c: Waldeck Schutzer <schutzer@math.rutgers.edu>
	Audio codecs were erroneously being listed multiple times, making it
	difficult to run certain applications like VirtualDub.

	* dlls/msacm/stream.c: Waldeck Schutzer <schutzer@math.rutgers.edu>
	Make sure the parameter phas is correct by setting it equal to NULL in
	query mode.

	* dlls/winsock/socket.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Improve portability wrt. struct sockaddr_ipx.

	* files/smb.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Properly cast struct sockaddr_in* to struct sockaddr* where needed.

	* dlls/x11drv/event.c, dlls/x11drv/keyboard.c, windows/message.c:
	Added dead keys support using X input methods (based on a patch by
	Dmitry Timoshkov).

	* dlls/x11drv/window.c, dlls/x11drv/x11drv_main.c, include/x11drv.h:
	Create an X input context for each top-level window.

	* dlls/oleaut32/olefont.c, include/wine/obj_olefont.h:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed ICOM_CALLs for IFont_xx methods.
	Added IPersistPropertyBag, IPersistStreamInit interfaces with stubs.
	Implemented IDispatch::Invoke for the used DISPIDs.

	* dlls/winedos/int21.c, msdos/int21.c: Jukka Heinonen <jhei@iki.fi>
	Return number of bytes written when writing to DOS console using int21
	function 0x40. Move some int21 functions to winedos.

	* dlls/winedos/int10.c: Jukka Heinonen <jhei@iki.fi>
	Reorganize int10 code. Fix comments.

	* dlls/msvideo/msvideo_main.c:
	Waldeck Schutzer <schutzer@math.rutgers.edu>
	Fixed initialization of szDevice in ICINFO.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Implement vertex and pixel fog.
	Fix fog color initialization.

2003-01-21  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/event.c, dlls/x11drv/window.c:
	Make sure to always set X focus on the top-level window, not on
	child windows.

	* winedefault.reg: Dan Kegel <dank@kegel.com>
	.txt files are handled by notepad.

	* configure, configure.ac, programs/Makefile.in,
	  programs/start/.cvsignore, programs/start/En.rc,
	  programs/start/Makefile.in, programs/start/resources.h,
	  programs/start/rsrc.rc, programs/start/start.c, tools/wineinstall:
	Dan Kegel <dank@kegel.com>
	Added Windows-compatible start.exe.

	* dlls/shell32/changenotify.c, dlls/shell32/shell32.spec,
	  dlls/shell32/shfldr_fs.c, dlls/shell32/shlfileop.c, include/shlobj.h:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Change SHChangeNotify to be Unicode and ANSI indifferent, as the type
	of parameters is really defined by uFlags parameter.

	* dlls/commdlg/filetitle.c: Liu Spider <liuspider@yahoo.com>
	Implemented GetFileTitleW; GetFileTitleA now is a call to
	GetFileTitleW.

	* documentation/authors.ent: Tom Wickline <twickline2@triad.rr.com>
	Fix incorrect alphabetical order by last name.

	* dlls/ntdll/cdrom.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Only declare variables we actually need.

	* dlls/oleaut32/typelib.c: Marcus Meissner <marcus@jet.franken.de>
	Print a large failure message if we try to load stdole32.tlb and
	fail.

	* dlls/msvideo/msvideo_main.c:
	Waldeck Schutzer <schutzer@math.rutgers.edu>
	Fixed problems with finding and listing all the video
	compression/decompression codecs.
	Proper initialization of szDriver field in ICINFO by ICGetInfo.

	* dlls/shell32/shlview.c: Robert Shearman <R.J.Shearman@warwick.ac.uk>
	- Clear bits in structure passed to IOleCommandTarget_QueryStatus to
	  show that we don't support any Exec's.
	- Add two Exec cases that were found during testing.

	* objects/gdiobj.c: Rein Klazes <rklazes@xs4all.nl>
	Allocate palette objects on the large gdi heap.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Ensure using correct args during complement texture operations.

	* configure, configure.ac:
	Moved the IPX check so that the sys/socket.h check has already been
	done when we check for IPX headers.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Restore the texture env mode on SetTexture - Fixes problem in
	codesampler demo.

	* dlls/user/tests/generated.c, include/winuser.h:
	Marcus Meissner <marcus@jet.franken.de>
	Changed MONITORINFOEXA,W definition to the one in MSDN which does not
	cause gcc 3.3 warnings.

	* documentation/samples/config: Marcus Meissner <marcus@jet.franken.de>
	Add Desktop mode for 3 known bad working InstallShield versions.

	* programs/wcmd/wcmdrc.rc, tools/wrc/parser.l:
	Dan Kegel <dank@kegel.com>
	\ at EOL in string now behaves like in msvc6's rc.

	* documentation/packaging.sgml: Tom Wickline <twickline2@triad.rr.com>
	Added myself to authors section.
	Updated last revision date.
	Some small updates.

2003-01-20  Alexandre Julliard  <julliard@winehq.com>

	* documentation/authors.ent, documentation/testing.sgml:
	Francois Gouget <fgouget@free.fr>
	Provide very much needed recommendations on how to write good error
	messages.
	It is now possible to use windows.h in conformance tests.
	Adding myself to the authors list.

	* dlls/user/tests/sysparams.c: Francois Gouget <fgouget@free.fr>
	Check for sysparams keys in either the Win9x or NT locations. This
	makes the test succeed on Win9x and NT4 platforms.
	Add a 'strict' mode which specifically makes sure that the NT location
	is set. In strict mode the test succeeds on Windows XP and Wine.

	* tools/wrc/README.wrc, tools/wrc/wrc.c, tools/wrc/wrc.h,
	  tools/wrc/wrc.man, tools/wrc/writeres.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Remove the obsolete wrc options: -A, -T, and -t.

	* dlls/winmm/tests/wave.c: Francois Gouget <fgouget@free.fr>
	Make sure we always know about the 48 and 96kHz formats even if they
	are not defined in the (old) Windows headers.

	* tools/winemaker: Marcus Meissner <marcus@jet.franken.de>
	Include $prefix/include/wine/windows into the WINE include search path.
	wrc no longer understands -r (not needed).

	* dlls/dsound/tests/dsound.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	#include <stdlib.h> instead of the non-standard <malloc.h>.

	* dlls/ddraw/d3ddevice/mesa.c: Christian Costa <titan.costa@wanadoo.fr>
	Handle more light states.

	* dlls/kernel/tests/thread.c: Francois Gouget <fgouget@free.fr>
	{Get,Set}ThreadPriorityBoost are stubs on Win98.

	* windows/sysparams.c: Francois Gouget <fgouget@free.fr>
	Extend the code to set both the Win9x and the NT registry keys. Only
	the NT keys are authoritative (i.e. we set the Win9x keys but don't
	re-read them).

	* dlls/comcat/.cvsignore, dlls/comcat/Makefile.in,
	  dlls/comcat/version.rc, include/wine/wine_common_ver.rc:
	John K. Hohm <jhohm@acm.org>
	Added optional OLESelfRegister to wine_common_ver.rc, used in
	dlls/comcat.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3dlight.c,
	  dlls/ddraw/d3dviewport.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Make D3D1..3 lights code rely on D3D7.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Only reload the mipmap images when dirty.

	* dlls/advapi32/eventlog.c, dlls/advapi32/registry.c,
	  dlls/advapi32/security.c, dlls/advapi32/service.c:
	Matthew Davison <m.davison@virgin.net>
	Remove some calls to HEAP_strdupAtoW from advapi32.

	* dlls/winedos/int21.c: Lawson Whitney <whitnl73@juno.com>
	Fix reversed hour and minute in int 21 ah=2c.

2003-01-15  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, VERSION, configure: Release 20030115.

----------------------------------------------------------------
2003-01-15  Alexandre Julliard  <julliard@winehq.com>

	* controls/menu.c:
	Removed flag checks in SetMenuItemInfoA, NT doesn't do this.

	* dlls/winmm/wineoss/audio.c: Francois Gouget <fgouget@codeweavers.com>
	Warn if open_count is already 0 when OSS_CloseDevice is called.
	Don't decrement it in that case.

	* memory/global.c: Michael Stefaniuc <mstefani@redhat.de>
	The Minolta DiMAGE Image Viewer relies on Global{,Re}Alloc called with
	the GMEM_MOVEABLE flag set, to allocate the exact specified size and
	no byte more when size is a multiple of 8. To achieve this align the
	storage needed for the HGLOBAL in the heap to 8byte boundary.

	* dlls/dsound/mixer.c: Francois Gouget <fgouget@codeweavers.com>
	Use the same 8/16bit conversion routines as in pcmconverter.c.
	Reorder the two ifs in the first part of cp_fields to simplify the
	code.

	* dlls/dsound/tests/dsound.c: Francois Gouget <fgouget@codeweavers.com>
	SetFormat may not change the primary buffer format as requested.
	Dump the effective format and prepare the tone signal accordingly.
	Play tones from the secondary buffers at -3dB rather than -12dB.
	Always print the volume the tone is going to be played at.
	Remove the gamedev URL.

	* dlls/user/tests/sysparams.c: Francois Gouget <fgouget@free.fr>
	Don't use old_spacing-1 if old_spacing already has the minimum value.

	* dlls/winmm/wineoss/audio.c: Francois Gouget <fgouget@codeweavers.com>
	Return MMSYS_NOERROR even if we don't open the device with the
	requested format, otherwise OSS_OpenDevice will not increment
	open_count.
	Use -1 to signal OSS_RawOpenDevice not to do ioctls because 0 is
	ambiguous (also means mono as opposed to stereo).

	* dlls/kernel/tests/locale.c, ole/ole2nls.c:
	Bill Medland <billmedland@mercuryspeed.com>
	Correct GetDateFormat handling of uninitialised fields: only the year,
	month and day fields matter; the rest may be uninitialised.

	* dlls/ntdll/tests/rtlstr.c: Francois Gouget <fgouget@free.fr>
	ok() does not support '%S'. Store the Ansi version, convert to Unicode
	when needed, and print the Ansi version using ok().
	Fix 'value is so large it is unsigned' warnings.

	* programs/wcmd/batch.c, programs/wcmd/builtins.c,
	  programs/wcmd/wcmdmain.c:
	Use proper file sharing parameters when opening files.
	Fixed handling of 'if a == b' syntax in batch files.

	* dlls/commdlg/cdlg_De.rc: Juergen Schmied <j.schmied@t-online.de>
	Translated some remaining English words.

	* include/winnt.h: Fixed typo.

	* include/msvcrt/process.h, include/windef.h:
	Define __stdcall in msvcrt/process.h if windef.h hasn't been included.

	* dlls/shlwapi/shlwapi.spec, dlls/shlwapi/thread.c:
	Juergen Schmied <j.schmied@t-online.de>
	Give some functions real names.

	* programs/wineboot/wineboot.c:
	Shachar Shemesh <wine-patches@sun.consumer.org.il>
	- Added a "runCmd" function, based on Andreas Mohr's
	  "BOOT_CreateProcess" function.
	- Added a function "ProcessRunKeys", to process all the keys that have
	  the common "Run" syntax.
	- Called the new function from main for all the various keys.

	* controls/menu.c: Mike Hearn <m.hearn@signal.qinetiq.com>
	Fail SetMenuItemInfo if both MFT_BITMAP and MFT_SEPARATOR are
	specified (an api violation).

	* dlls/winspool/info.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	Make GetPrinterDriverDirectoryA pass all tests.

	* configure, configure.ac, dlls/winspool/Makefile.in,
	  dlls/winspool/tests/.cvsignore, dlls/winspool/tests/Makefile.in,
	  dlls/winspool/tests/info.c:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Added tests for GetPrinterDriverDirectoryA.

	* dlls/shell32/clipboard.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Separate the HINSTANCEs used by GetShellOle() and other delay load
	functions.

	* dlls/dsound/dsound_main.c, dlls/dsound/primary.c,
	  dlls/winmm/wineoss/audio.c:
	Francois Gouget <fgouget@codeweavers.com>
	Initialize the pwave array whenever we don't have a hardware buffer.
	Always create the wineoss thread.
	Change the mmap ERR into a TRACE: there are normal circumstances where
	mmap will fail and we can deal with them.

	* include/wine/library.h, library/ldt.c:
	Jeroen Janssen <japj@xs4all.nl>
	Fixed wine_ldt_copy importing on cygwin.

2003-01-14  Alexandre Julliard  <julliard@winehq.com>

	* dlls/avifil32/factory.c, dlls/comctl32/commctrl.c,
	  dlls/comctl32/listview.c, dlls/commdlg/filedlg95.c,
	  dlls/imagehlp/access.c, dlls/imagehlp/debug.c,
	  dlls/imagehlp/imagehlp_main.c, dlls/kernel/tests/path.c,
	  dlls/msacm/internal.c, dlls/msacm/msacm32_main.c,
	  dlls/msvcrt/console.c, dlls/msvideo/msvideo_main.c,
	  dlls/ole32/clipboard.c, dlls/richedit/richedit.c,
	  dlls/rpcrt4/rpcrt4_main.c, dlls/rpcrt4/rpcss_np_client.c,
	  dlls/shell32/dialogs.c, dlls/shell32/shell32_main.c,
	  dlls/shell32/shlexec.c, dlls/shell32/shpolicy.c,
	  dlls/shell32/tests/shlfileop.c, dlls/shlwapi/istream.c,
	  dlls/wineps/init.c, dlls/wininet/ftp.c, dlls/winsock/tests/sock.c,
	  dlls/winspool/info.c, memory/global.c, programs/regtest/regtest.c,
	  programs/rpcss/np_server.c, programs/rpcss/rpcss_main.c,
	  programs/winhelp/hlpfile.c, win32/newfns.c:
	Francois Gouget <fgouget@free.fr>
	Remove (POINTER)NULL casts.

	* controls/scroll.c, windows/nonclient.c:
	Alberto Massari <alby@exln.com>
	Handle the WS_EX_LEFTSCROLLBAR style (that is, draw the vertical
	scrollbar on the left side of the control).

	* dlls/d3d8/device.c, dlls/d3d8/directx.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- beginning of vertex matrix blending using extensions (currently
	  alpha alpha stage as i haven't understand needed extension behavior)
	- modify SetRenderState for matrix blending specific params
	- by default diffuse color is white ;)
	- comments most of the traces (else flood ...)
	- add more urls in comments
	- indent, cleanups

	* dlls/d3d8/basetexture.c, dlls/d3d8/cubetexture.c,
	  dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c,
	  dlls/d3d8/resource.c, dlls/d3d8/surface.c, dlls/d3d8/texture.c,
	  dlls/d3d8/volumetexture.c:
	Raphael Junqueira <fenix@club-internet.fr>
	Beginning of more COM compliant behavior:
	- AddRef/Release where needed
	- use IUnknown* instead void*
	- fix many GetDevice using AddRef
	- fix IDirect3DSurface8Impl_GetContainer using QueryInterface

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Copyrect should flag destination texture as dirty, to force it to be
	reloaded.

	* dlls/d3d8/device.c, dlls/d3d8/directx.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Add support for some of the texture address states and border colour.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/shader.c:
	Raphael Junqueira <fenix@club-internet.fr>
	- move input and output data in VertexShader struct
	- better traces
	- specific input data filling function for vertex shaders using vertex
	  shader declaration (and not FVF ... maybe FVF will return for fast
	  path with simples vertex shader declarations)
	- huge vertex shader fixes:
	  - add and fix many vs (1.0->2.0) used opcodes in complex shaders
	  - improvements to programs parser: parse comments, version, ..
	  - add a vertex shader input filler function (parsing vertex shader
	    declaration): almost complete
	- comments most of the traces (else flood ...)
	- add more urls in comments
	- indent, cleanups

	* configure, configure.ac, include/config.h.in, include/wine/port.h:
	Steven Edwards <steven_ed4153@yahoo.com>
	Check for vsnprintf and _vsnprintf, and define vsnprintf with
	_vsnprintf if needed.

	* documentation/authors.ent: Tom Wickline <twickline2@triad.rr.com>
	Updated authors e-mail adresses.
	Added my e-mail to the list.

	* programs/wineboot/wineboot.c:
	Shachar Shemesh <wine-patches@sun.consumer.org.il>
	- Added listing of what the boot process is like, listing what is and
	  what is not (yet) done.
	- Fixed incorrect statement in the "bugs" list.
	- Added trace when everything is done.

	* windows/queue.c: Duane Clark <dclark@akamail.com>
	Check for pending X events before getting queue status.

	* dlls/ole32/ole2.c: Alberto Massari <alby@exln.com>
	- Align the cleanup phase of ReleaseStgMedium to the native API.
	- When the data is a bitmap or an enhanced metafile, use the correct
	  data member.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/service.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Stubs for Un|LockServiceDatabase.

	* dlls/dsound/sound3d.c: Rok Mandeljc <rokmandeljc@hotmail.com>
	Added cone support.

	* windows/defdlg.c: Dmitry Timoshkov <dmitry@baikal.ru>
	Post correct notification code on WM_CLOSE for dialogs.

	* controls/menu.c: Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Move internal implementation into the exported function
	DrawMenuBarTemp.

2003-01-13  Alexandre Julliard  <julliard@winehq.com>

	* dlls/advapi32/advapi32.spec, dlls/kernel/kernel32.spec,
	  dlls/ntdll/ntdll.spec, dlls/setupapi/setupapi.spec,
	  dlls/urlmon/umon.c, dlls/urlmon/urlmon.spec,
	  dlls/wintrust/wintrust.spec, files/drive.c, include/winbase.h,
	  win32/except.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	- Add some stubs.
	- Implement kernel32.FatalExit.

	* dlls/dinput/.cvsignore, dlls/dinput/Makefile.in,
	  dlls/dinput/version.rc:
	Enrico Horn <farmboy1@subdimension.com>
	Add version info to dinput.

	* dlls/dsound/.cvsignore, dlls/dsound/Makefile.in,
	  dlls/dsound/version.rc:
	Enrico Horn <farmboy1@subdimension.com>
	Add version info to dll/dsound.

	* dlls/user/tests/sysparams.c, windows/sysparams.c:
	Francois Gouget <fgouget@free.fr>
	Update the registry keys of SPI_ICONHORIZONTALSPACING,
	SPI_ICONVERTICALSPACING and SPI_SETICONTITLEWRAP to match XP.
	The SPI_SETBORDER test leaves an incorect border setting and is just
	too erratic: comment it out for now.
	Modified the SPI_ICONHORIZONTALSPACING, SPI_ICONVERTICALSPACING and
	SPI_SETWORKAREA to not cause the icons to be reorganized.
	Don't test out-of-bound values for SPI_SETKEYBOARDSPEED as behavior
	differs accross Windows platforms.
	On Win9x the maximum value for SPI_SETSCREENSAVETIMEOUT is 32767.
	The registry keys and values stored in them for
	SPI_ICONHORIZONTALSPACING and SPI_ICONVERTICALSPACING depend on the
	Windows platform: ignore them.
	No Windows platform seems to SPI_SETFASTTASKSWITCH: no longer test it.
	The lParam of WM_SETTINGCHANGE is quite useless (even the MSDN says
	so!) and varies accross Windows platforms. Ignore it.
	Always check the SystemParametersInfoA return code as it fails in very
	strange ways on some platforms. Skip unsupported settings.
	Skip Unicode tests on platforms that don't support it.

	* dlls/ole32/ole2.c, dlls/ole32/ole2stubs.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Support a few trivial cases in PropVariantClear.

	* dlls/user/misc.c, dlls/user/user32.spec:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	AlignRects stub.

	* configure, configure.ac, include/config.h.in,
	  programs/winedbg/hash.c:
	Added configure check for regex.h.

	* documentation/packaging.sgml: Tom Wickline <twickline2@triad.rr.com>
	Added missing .so files in 3:2.
	Added winemaker in 3:3.
	Added missing .h files in 3:4.
	Added doc html files in 3:5.

	* include/msvcrt/sys/stat.h: Dimitrie O. Paun <dpaun@rogers.com>
	Define the (old name) struct stat, it is used by programs using the
	old names.

	* dlls/dplayx/version.rc: Enrico Horn <farmboy1@subdimension.com>
	Extend version info.

	* dlls/ddraw/ddraw/hal.c, dlls/ddraw/ddraw/thunks.c, dlls/ddraw/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Update the 'DIRECTDRAW7' flag according to the interface initialized.

	* dlls/oleaut32/tests/vartest.c, dlls/oleaut32/variant.c:
	Francois Gouget <fgouget@free.fr>
	Fix the case of floats in VarBstrFromR4, VarBstrFromR8 and
	VarBstrFromCy.
	We cannot check for equality of floats or doubles because of rounding
	errors. Check equality to 14 digits for doubles.
	Add more precision to the expected results so that they match actual
	results.
	Print floating values with more precision so we know what went wrong.
	Specify the locale for all variant functions that depend on it.
	Added return codes for Win95. Win95 returns dates with only two digits
	for the year.
	Uncommented more VariantCopyInd and VariantChangeTypeEx tests.

	* dlls/advapi32/tests/registry.c: Francois Gouget <fgouget@free.fr>
	Use only Ansi APIs for cleaning up the registry.
	Skip Unicode tests if the Unicode APIs are not implemented.
	If the value name buffer is too small, Win9x returns the number of
	characters returned as specified in the MSDN while other Windows
	return the number of bytes written (including the trailing '\0').

	* windows/sysparams.c: Robert Shearman <R.J.Shearman@warwick.ac.uk>
	SPI_GETMINIMIZEDMETRICS implemented.

	* dlls/kernel/tests/process.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Added tests for environment variables, debug and suspend flags.

2003-01-11  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/scanf.h, programs/wineboot/wineboot.c: Warning fixes.

	* include/msvcrt/io.h, include/msvcrt/stdio.h,
	  include/msvcrt/sys/stat.h, include/msvcrt/sys/timeb.h,
	  include/msvcrt/sys/types.h, include/msvcrt/sys/utime.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	Use inline functions instead of macros to avoid problems in C++.
	Inline functions respect scope, whereas macros don't.
	Define umask in sys/stat.h, and mode_t in sys/types.h.

	* programs/winedbg/dbg.y, programs/winedbg/debug.l,
	  programs/winedbg/debugger.h, programs/winedbg/hash.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added 'info symbol' command to look for defined symbols.

	* dlls/sti/sti.spec, dlls/sti/sti_main.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added a few more stubs.

	* dlls/winmm/wineoss/audio.c: Francois Gouget <fgouget@codeweavers.com>
	Modify OSS_Wave{In,Out}Init to report the exact capabilities of the
	OSS driver.
	Add support for the 48kHz and 96kHz formats.

	* dlls/winmm/mciwave/mciwave.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Some code cleanups.
	Better error handling.
	Removed unneeded internal variables.

	* windows/spy.c: Print the message name for registered messages.

	* dlls/msvcrt/scanf.h: Fixed EOF return value for sscanf.

	* dlls/comcat/comcat_main.c, dlls/comcat/regsvr.c,
	  dlls/comcat/regsvr.h:
	John K. Hohm <jhohm@acm.org>
	Reimplemented DllRegisterServer and DllUnregisterServer in a more
	generally useful way, entirely in regsvr.c.  Added (un)registration of
	interfaces.

	* files/file.c: Shachar Shemesh <wine-patches@sun.consumer.org.il>
	Removed the FIXMEs when performing MoveFileEx with
	MOVEFILE_DELAY_UNTIL_REBOOT, as wineboot will now take care of it.

	* programs/wineboot/Makefile.in, programs/wineboot/wineboot.c:
	Shachar Shemesh <wine-patches@sun.consumer.org.il>
	Implemented the "pending rename" registry processing.

	* tools/wpp/ppl.l: Johannes E. Schindelin <Johannes.Schindelin@gmx.de>
	Allow C++ comments after #endif.

	* dlls/msvcrt/file.c, dlls/msvcrt/msvcrt.spec:
	Dimitrie O. Paun <dpaun@rogers.com>
	Create stubs for chsize, dup, and dup2.

	* programs/wineconsole/dialog.c,
	  programs/wineconsole/wineconsole_De.rc,
	  programs/wineconsole/wineconsole_En.rc,
	  programs/wineconsole/wineconsole_Fr.rc,
	  programs/wineconsole/wineconsole_Hu.rc,
	  programs/wineconsole/wineconsole_Zh.rc,
	  programs/wineconsole/wineconsole_res.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added the GUI part for setting the edition mode flavor.

	* msdos/vxd.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Removed non needed include of module.h.

	* dlls/oleaut32/variant.c: Marcus Meissner <meissner@suse.de>
	Coerce VT_UNKNOWN <-> VT_DISPATCH, NULL is valid in these cases.
	Drop VT_x -> VT_x coercions, they are handled before the switch()
	already.

	* dlls/oleaut32/typelib.c: Marcus Meissner <meissner@suse.de>
	Convert VT_DISPATCH variants into VT_USERDEFINED/TKIND_DISPATCH and
	TKIND_INTERFACE targets, Query IID_IDispatch if necessary.

	* dlls/ole32/compobj.c, dlls/ole32/ole32.spec:
	Marcus Meissner <meissner@suse.de>
	Implemented CoGetTreatAsClass.

	* tools/wrc/wrc.c, tools/wrc/wrc.man:
	Dimitrie O. Paun <dpaun@rogers.com>
	Added windres compatibility switches: -v, --[no-]use-temp-file.
	New -h option to conform to standard practice (and MS' rc).
	Updated documentation, minor option parsing cleanup.

	* dlls/dsound/dsound_main.c, dlls/dsound/primary.c:
	Francois Gouget <fgouget@codeweavers.com>
	DSB.SetFormat:Trace the requested format as soon as possible in case
	it is not supported and simplify validity check.
	Initialize the buffer format, and only from the fields we checked.
	DirectSoundCreate8 fully initializes the buffer format (just in case).

	* include/msvcrt/stdlib.h: Dimitrie O. Paun <dpaun@rogers.com>
	Define qsort and bsearch in stdlib.h.

	* include/Makefile.in, include/msvcrt/dirent.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	Add dirent.h header for Unix/mingw compatibility.

	* dlls/dsound/mixer.c: Francois Gouget <fgouget@codeweavers.com>
	Fix latent deadlock in DSOUND_callback.

	* dlls/msvcrt/scanf.h, dlls/msvcrt/tests/scanf.c:
	Mehmet Yasar <myasar@free.fr>
	- return EOF when stream is empty
	- conformance test updated

2003-01-10  Alexandre Julliard  <julliard@winehq.com>

	* tools/wpp/ppl.l:
	Fixed handling of trailing whitespace after #else and #endif.

	* programs/wineconsole/wineconsole_Zh.rc,
	  programs/wineconsole/wineconsole_res.rc:
	Liu Spider <liuspider@yahoo.com>
	Added Simplified Chinese resources.

	* include/Makefile.in, include/msvcrt/sys/unistd.h,
	  include/msvcrt/unistd.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	Add unistd.h files for mingw/Unix compatibility.

	* dlls/dsound/sound3d.c: Rok Mandeljc <rokmandeljc@hotmail.com>
	3d sound diminishes with distance.

	* dlls/shell32/shell32_main.c: Juergen Schmied <j.schmied@t-online.de>
	Fixed crash in winamp reported by Andreas Mohr.

	* dlls/shell32/classes.c: Juergen Schmied <j.schmied@t-online.de>
	Fix recently broken GetDisplayNamesOf of names of shell extension
	dlls.

	* include/windef.h: Dmitry Timoshkov <dmitry@baikal.ru>
	Change types of WPARAM, LPARAM and LRESULT according to MS SDK definitions.

	* tools/winegcc.c: Dimitrie O. Paun <dpaun@rogers.com>
	Support default output name (a.out); some configure scripts check for
	it.

	* files/file.c: Shachar Shemesh <wine-patches@sun.consumer.org.il>
	Set correct last error if the path contains wildcard characters.

2003-01-09  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac, dlls/oleaut32/Makefile.in,
	  dlls/oleaut32/olepicture.c, include/config.h.in:
	Marcus Meissner <marcus@jet.franken.de>
	Added GIF decompressor support to OLE Automation IPictures.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Calculate starting position for a copyrect correctly.

	* programs/wineconsole/registry.c,
	  programs/wineconsole/winecon_private.h,
	  programs/wineconsole/wineconsole.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added an edition mode flavor (win32/emacs...) to the console settings
	in the registry.

	* dlls/kernel/console.c, dlls/kernel/console_private.h,
	  dlls/kernel/editline.c, include/wincon.h,
	  include/wine/server_protocol.h, server/console.c, server/console.h,
	  server/protocol.def, server/trace.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Set the edition mode as a specific attribute, not an extension of the
	console mode.

	* programs/winedbg/winedbg.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Removed emacs edition flavor (it's now a console attribute).

	* graphics/x11drv/bitblt.c: Duane Clark <dclark@akamail.com>
	If bit/stretchblt source and destination DCs are the same, make sure
	the changes are committed before unlocking.

	* Make.rules.in, miscemu/Makefile.in, miscemu/main.c,
	  tools/widl/Makefile.in, tools/winapi/Makefile.in,
	  tools/winebuild/Makefile.in, tools/winedump/Makefile.in,
	  tools/wmc/Makefile.in, tools/wpp/Makefile.in, tools/wrc/Makefile.in:
	Do not define __WINESRC__ when building tools and miscemu.

	* dlls/Maketest.rules.in:
	Remove global NONAMELESS* define for tests too.

	* include/oaidl.h, include/objidl.h, include/wtypes.h:
	Regenerated with latest widl.

	* Make.rules.in, include/Makefile.in:
	Added a few rules to rebuild idl headers.

	* tools/widl/header.c, tools/widl/widl.c:
	Ove Kaaven <ovek@transgaming.com>
	Declare user-marshaller prototypes for types declared with [wire_marshal].
	Define __WIDL__ preprocessor macro, so Wine-specific IDL can be enclosed
	in #ifdef __WIDL__. Fixed a file output bug.

	* programs/clock/Zh.rc, programs/clock/rsrc.rc, programs/notepad/Zh.rc,
	  programs/notepad/rsrc.rc, programs/progman/Zh.rc,
	  programs/progman/rsrc.rc, programs/winefile/Zh.rc,
	  programs/winefile/rsrc.rc, programs/winhelp/Zh.rc,
	  programs/winhelp/rsrc.rc:
	liu spider <liuspider@yahoo.com>
	Added Simplified Chinese resources.

	* dlls/shlwapi/path.c, dlls/shlwapi/tests/.cvsignore,
	  dlls/shlwapi/tests/Makefile.in, dlls/shlwapi/tests/path.c:
	Matthew Mastracci <matt@aclaro.com>
	Add implementation for PathCreateFromUrlW and add the start for some
	URL unit tests.

	* Make.rules.in, configure, configure.ac:
	Marcus Meissner <meissner@suse.de>
	Check and define AS (for cross/biarch compiler support).

	* configure, configure.ac:
	Add -gstabs+ option if supported (based on a patch by Marcus
	Meissner).

	* Make.rules.in, dlls/gdi/Makefile.in, dlls/kernel/Makefile.in,
	  dlls/shell32/Makefile.in, dlls/user/Makefile.in, tools/wrc/wrc.c,
	  tools/wrc/wrc.man:
	Dimitrie O. Paun <dpaun@rogers.com>
	Collapse the -hHrs options into the -O option.
	Generate .res files by default.

	* dlls/psapi/psapi_main.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Implemented GetModuleBaseName(AW), GetModuleFileNameEx(AW) and
	GetModuleInformation.

	* include/wine/server_protocol.h, dlls/kernel/toolhelp.c,
	  server/process.c, server/protocol.def, server/request.h,
	  server/snapshot.c, server/trace.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- no longer depend on toolhelp definitions for generating snapshots
	- added get_dll_info request

2003-01-08  Alexandre Julliard  <julliard@winehq.com>

	* include/psapi.h: Eric Pouech <eric.pouech@wanadoo.fr>
	Added the missing APIs.

	* controls/combo.c, controls/listbox.c, controls/menu.c,
	  controls/uitools.c, dlls/comctl32/comboex.c,
	  dlls/comctl32/datetime.c, dlls/comctl32/listview.c,
	  dlls/comctl32/monthcal.c, dlls/comctl32/pager.c,
	  dlls/comctl32/propsheet.c, dlls/comctl32/rebar.c,
	  dlls/comctl32/status.c, dlls/comctl32/tab.c, dlls/comctl32/toolbar.c,
	  dlls/comctl32/tooltips.c, dlls/comctl32/trackbar.c,
	  dlls/comctl32/treeview.c, dlls/d3d8/device.c, dlls/d3d8/surface.c,
	  dlls/ddraw/dsurface/dib.c, dlls/ddraw/dsurface/fakezbuffer.c,
	  dlls/ddraw/dsurface/main.c, dlls/oleaut32/olepicture.c,
	  dlls/shell32/shlmenu.c, dlls/shell32/shlview.c, dlls/ttydrv/wnd.c,
	  dlls/user/painting.c, dlls/user/tests/sysparams.c, dlls/user/text.c,
	  dlls/wineps/escape.c, dlls/wineps/init.c, dlls/winmm/mciavi/wnd.c,
	  dlls/x11drv/scroll.c, dlls/x11drv/window.c, dlls/x11drv/winpos.c,
	  dlls/x11drv/xrender.c, graphics/x11drv/bitblt.c,
	  graphics/x11drv/text.c, include/windef.h, include/wine/debug.h,
	  objects/clipping.c, objects/enhmetafile.c, objects/region.c,
	  programs/winedbg/info.c, programs/winhelp/winhelp.c, windows/dce.c,
	  windows/defwnd.c, windows/mdi.c, windows/nonclient.c,
	  windows/painting.c, windows/spy.c, windows/sysparams.c,
	  windows/win.c, windows/winpos.c:
	Dan Kegel <dank@kegel.com>
	Change RECT to use LONG to match win32 standard headers and fix format
	strings to use %ld for RECT elements.

	* dlls/user/message.c, dlls/user/msg16.c, dlls/user/user.exe.spec,
	  include/wine/server_protocol.h, server/protocol.def, server/queue.c,
	  server/request.h, server/trace.c, windows/message.c:
	Store the keyboard state in the thread input structure on the server
	side.

	* server/window.c:
	Removed no longer used local variable (spotted by Dmitry Timoshkov).

	* server/async.c:
	Grab the thread object in case the thread terminates with pending
	async requests (spotted by Andreas Mohr).

	* windows/win.c: Duane Clark <dclark@akamail.com>
	WS_CAPTION is a two bit field, so test appropriately.

	* dlls/winspool/info.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	GetPrinterDriverDirectoryA: do not crash on null pointers.

	* dlls/user/message.c, include/wine/server_protocol.h,
	  server/protocol.def, server/queue.c, server/user.h, server/window.c,
	  windows/input.c, windows/message.c:
	Store the hardware messages in the thread input structure, not in the
	thread queue. Get rid of the cooked messages queue.

2003-01-07  Alexandre Julliard  <julliard@winehq.com>

	* programs/Makeprog.rules.in, programs/avitools/Makefile.in,
	  programs/avitools/aviplay.c, programs/rpcss/rpcss_main.c,
	  programs/wcmd/directory.c, programs/wineconsole/dialog.c:
	Defined NONAMELESSUNION/STRUCT directly in the files that need it
	instead of globally in the makefile.

	* include/tchar.h: Dimitrie O. Paun <dpaun@rogers.com>
	Use the standard symbol names instead of the msvcrt specific ones.

	* dlls/wineps/builtin.c, dlls/wineps/download.c, dlls/wineps/font.c,
	  dlls/wineps/type1.c, dlls/wineps/type42.c, dlls/winspool/info.c,
	  dlls/winspool/wspool.c, include/winspool.h:
	Francois Gouget <fgouget@free.fr>
	Remove extra #include directives from winspool.h.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3dexecutebuffer.c,
	  dlls/ddraw/d3dtexture.c, dlls/ddraw/mesa.c,
	  dlls/ddraw/mesa_private.h, dlls/ddraw/d3ddevice/main.c,
	  dlls/ddraw/d3ddevice/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	 - rewrote a little bit the state magagement to remove the RenderState
	   stucture and use only the state_block code
	 - factorize some code between interface revisions
	 - fix some smalls bugs

	* dlls/winmm/wineoss/audio.c: Francois Gouget <fgouget@codeweavers.com>
	In OSS_RawOpenDevice, always retrieve the device format and store it
	in the OSS_DEVICE structure.
	Modify our internal functions so that they can be told to still open
	the device even if the device format is not an exact match.
	In wodOpen return the actual device format if the WAVE_DIRECTSOUND
	flag is set.
	Fixes DirectSound on i810 soundcards (i.e. cards supporting only
	48000x16x2).

	* dlls/comctl32/comctl32undoc.c, dlls/comctl32/propsheet.c,
	  dlls/comctl32/treeview.c, dlls/commdlg/filedlg95.c,
	  dlls/commdlg/filedlgbrowser.c, dlls/commdlg/printdlg.c,
	  dlls/d3d8/device.c, dlls/d3d8/directx.c, dlls/ddraw/d3dcommon.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dexecutebuffer.c,
	  dlls/ddraw/d3dlight.c, dlls/ddraw/d3dmaterial.c,
	  dlls/ddraw/d3dtexture.c, dlls/ddraw/d3dviewport.c,
	  dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw/user.c,
	  dlls/ddraw/direct3d/mesa.c, dlls/ddraw/helper.c,
	  dlls/ddraw/dsurface/dib.c, dlls/ddraw/dsurface/fakezbuffer.c,
	  dlls/ddraw/dsurface/hal.c, dlls/ddraw/dsurface/main.c,
	  dlls/dplayx/dplay.c, dlls/dplayx/dplayx_global.c,
	  dlls/dplayx/dplobby.c, dlls/dplayx/name_server.c,
	  dlls/dsound/sound3d.c, dlls/kernel/time.c, dlls/ntdll/cdrom.c,
	  dlls/ntdll/file.c, dlls/ntdll/heap.c, dlls/ntdll/time.c,
	  dlls/ntdll/virtual.c, dlls/ole32/antimoniker.c,
	  dlls/ole32/clipboard.c, dlls/ole32/compobj.c,
	  dlls/ole32/compositemoniker.c, dlls/ole32/datacache.c,
	  dlls/ole32/filemoniker.c, dlls/ole32/hglobalstream.c,
	  dlls/ole32/itemmoniker.c, dlls/ole32/memlockbytes.c,
	  dlls/ole32/ole2.c, dlls/ole32/ole2impl.c, dlls/ole32/ole2stubs.c,
	  dlls/ole32/oleproxy.c, dlls/ole32/rpc.c,
	  dlls/ole32/stg_bigblockfile.c, dlls/ole32/stg_stream.c,
	  dlls/ole32/storage.c, dlls/ole32/storage32.c,
	  dlls/oleaut32/olefont.c, dlls/oleaut32/olepicture.c,
	  dlls/oleaut32/tmarshal.c, dlls/oleaut32/typelib.c,
	  dlls/oleaut32/variant.c, dlls/rpcrt4/ndr_ole.c,
	  dlls/shell32/brsfolder.c, dlls/shell32/dataobject.c,
	  dlls/shell32/shellstring.c, dlls/shell32/shfldr_desktop.c,
	  dlls/shell32/shfldr_fs.c, dlls/shell32/shfldr_mycomp.c,
	  dlls/shell32/shv_bg_cmenu.c, dlls/shell32/shv_item_cmenu.c,
	  dlls/shlwapi/istream.c, dlls/shlwapi/string.c, dlls/twain/dsm_ctrl.c,
	  dlls/urlmon/umon.c, dlls/user/exticon.c, dlls/version/resource.c,
	  dlls/winedos/int2f.c, dlls/winedos/vga.c, dlls/wineps/driver.c,
	  dlls/wineps/init.c, dlls/wineps/ps.c, dlls/winmm/mmsystem.c,
	  dlls/winmm/wineoss/mixer.c, dlls/winmm/winmm.c, dlls/winspool/info.c,
	  dlls/x11drv/dga2.c, dlls/x11drv/keyboard.c, dlls/x11drv/mouse.c,
	  dlls/x11drv/x11ddraw.c, files/drive.c, files/file.c, include/winnt.h,
	  library/loader.c, loader/pe_resource.c, memory/heap.c,
	  memory/virtual.c, misc/cpu.c, misc/system.c, msdos/vxd.c,
	  scheduler/timer.c, tools/winedump/pe.c, win32/newfns.c,
	  windows/input.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Define NONAMELESS{STRUCT,UNION} explicitly in the files that need them.

	* tools/Makefile.in, tools/winegcc.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Teach winegcc to produce executables directly from a bunch of source files.
	Create a wineg++ akin to g++. Drop support for the abused -xc++ switched.

	* windows/win.c: Duane Clark <dclark@akamail.com>
	A window with a WS_EX_APPWINDOW extended style can also get a menu.

	* programs/winedbg/gdbproxy.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed protocol packet handling when winedbg is too slow to answer.

	* programs/wineboot/wineboot.c:
	Shachar Shemesh <wine-patches@sun.consumer.org.il>
	- Cleaned up the code (saving on chaining strings) by CDing to the
	  system root directory before doing anything else.
	- Will now rename wininit.ini to wininit.bak instead of erasing it as
	  before.

	* dlls/dsound/dsound_main.c: Francois Gouget <fgouget@codeweavers.com>
	Always open the device in the default 22050x8x2 format, and let it
	report the actual device format to us.

	* dlls/winmm/wineoss/audio.c: Francois Gouget <fgouget@codeweavers.com>
	Fix the BlockSize check.

	* dlls/ole32/ole2.spec, dlls/ole32/ole2stubs.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Stubs for DllGetClassObject, Ole[GS]etClipboard in ole2.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/main.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa.c:
	Christoph Frick <frick@SC-Networks.de>
	Implementation of (Get|Set)ClipPlane for d3d7.

	* dlls/oleaut32/tests/safearray.c, dlls/oleaut32/tests/vartest.c:
	Francois Gouget <fgouget@free.fr>
	Many oleaut32 APIs are missing on Win95/IE3. Load them dynamically.
	Uncomment some 'NULL' tests as they pass on Windows and on Wine.
	Comment out those that crash on Win95 and indicate why they are
	commented out.
	Remove two redundant tests in vartest.c (VarI1FromBool and
	VarUI2FromI2, last diff hunk).

	* documentation/winelib-bindlls.sgml: Francois Gouget <fgouget@free.fr>
	Standardize the capitalization of Wine.

	* tools/winapi/msvcmaker: Francois Gouget <fgouget@free.fr>
	Add support for .drv extension (for winspool.drv tests for instance).

	* programs/wineconsole/curses.c: Eric Pouech <eric.pouech@wanadoo.fr>
	- fixed some update problems (generic & while scrolling)
	- now generating key event for Ctrl-[A-Z] that our editline understands
	- implemented cursor visibility

2003-01-05  Alexandre Julliard  <julliard@winehq.com>

	* programs/winedbg/expr.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed some bugs in cast operator.

	* dlls/oleaut32/dispatch.c, dlls/oleaut32/oleaut.c,
	  dlls/oleaut32/typelib.c, include/wine/obj_webbrowser.h:
	Fixed some issues caused by the new oaidl.h.

	* include/Makefile.in, include/oaidl.h, include/oaidl.idl,
	  include/wine/obj_errorinfo.h, include/wine/obj_oleaut.h:
	Ove Kaaven <ovek@transgaming.com>
	Wrote a new oaidl.idl to replace include/wine/obj_oleaut.h and
	include/wine/obj_errorinfo.h.

	* tools/winegcc.c: Dimitrie O. Paun <dpaun@rogers.com>
	mingw links in comdlg32, shell32, and advapi32 by default.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dexecutebuffer.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Factorize the 'ortho' code (will be needed later on).

	* dlls/ddraw/ddraw/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Ignore the LPSURFACE bit if ALLOCONLOAD is set.

	* documentation/architecture.sgml, documentation/debugger.sgml,
	  documentation/fonts.sgml, documentation/implementation.sgml,
	  documentation/multimedia.sgml, documentation/ole.sgml,
	  documentation/packaging.sgml, documentation/porting.sgml,
	  documentation/printing.sgml, documentation/winelib-bindlls.sgml,
	  tools/bug_report.pl:
	Francois Gouget <fgouget@free.fr>
	Standardize the capitalization of Wine.

	* programs/clock/Da.rc, programs/clock/De.rc, programs/clock/En.rc,
	  programs/clock/Es.rc, programs/clock/Fi.rc, programs/clock/Fr.rc,
	  programs/clock/Pt.rc, programs/clock/Sk.rc, programs/clock/Sw.rc,
	  programs/clock/Wa.rc, programs/notepad/Da.rc, programs/notepad/De.rc,
	  programs/notepad/Es.rc, programs/notepad/Fi.rc,
	  programs/notepad/Fr.rc, programs/notepad/Pt.rc,
	  programs/notepad/Si.rc, programs/notepad/Sk.rc,
	  programs/notepad/Sw.rc, programs/notepad/Wa.rc,
	  programs/progman/En.rc, programs/progman/Fr.rc,
	  programs/winhelp/Da.rc, programs/winhelp/De.rc,
	  programs/winhelp/En.rc, programs/winhelp/Es.rc,
	  programs/winhelp/Fi.rc, programs/winhelp/Fr.rc,
	  programs/winhelp/Hu.rc, programs/winhelp/It.rc,
	  programs/winhelp/Ko.rc, programs/winhelp/Pt.rc,
	  programs/winhelp/Sw.rc, programs/winhelp/Va.rc,
	  programs/winhelp/Wa.rc:
	Shachar Shemesh <winecode@sun.consumer.org.il>
	Change the SUBLANG_NEUTRAL clause in all winelib applications to
	SUBLANG_DEFAULT, as they should be.

	* server/console.c: Eric Pouech <eric.pouech@wanadoo.fr>
	- Fixed several bugs while resizing an existing screenbuffer.
	- Reduced update area for some write conditions.
	- Started implementing event message collapsing.

	* tools/winewrap.c: Dimitrie O. Paun <dpaun@rogers.com>
	Pass -l's that are not .dll's or .a's to the linker.

	* tools/winegcc.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Define the standard __WINE__ and __WIN32__ macros.
	- Map -luuid to -lwine_uuid, in Unix -luuid does something else.

	* include/docobj.h, include/ocidl.h: Ove Kaaven <ovek@transgaming.com>
	Include oaidl.h instead of wine/obj_oleaut.h.

	* include/oleidl.h: Ove Kaaven <ovek@transgaming.com>
	Temporarily include objbase.h from oleidl.h.
	Removed inclusion of obj_errorinfo.h.

	* dlls/oleaut32/variant.c: Ove Kaaven <ovek@transgaming.com>
	Avoid direct ICOM_CALL usage.

	* include/oleauto.h, include/wine/obj_oleaut.h, ole/dxguid.c:
	Ove Kaaven <ovek@transgaming.com>
	Moved a couple of definitions from include/wine/obj_oleaut.h to
	include/oleauto.h.

	* Makefile.in: Christoph Frick <frick@SC-Networks.de>
	Creation of a tags file with the ctags tool.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- fix in the GetHandle method
	- factorize some code between D3D1/2/3 and D3D7
	- fix reference counting for palettes

	* dlls/ole32/Makefile.in, dlls/ole32/ifs.h, dlls/ole32/memlockbytes.c,
	  dlls/ole32/ole2.spec, dlls/ole32/storage.c, dlls/ole32/storage.spec:
	Marcus Meissner <marcus@jet.franken.de>
	ole2nls.c is a 16bit only.
	No need to define ICOM macros for 16bit iface IMalloc16.
	Define and implement HGLOBAL_LockBytes16.
	Started on StgOpenStorageOnILockBytes.

	* include/wine/winbase16.h: Marcus Meissner <marcus@jet.franken.de>
	Added several missing K32WOW* prototypes.

	* dlls/oleaut32/tests/safearray.c: Francois Gouget <fgouget@free.fr>
	The vt field should be a VARTYPE not a VARENUM.

	* dlls/user/tests/sysparams.c: Francois Gouget <fgouget@free.fr>
	Fix signed/unsigned compilation warnings.

2003-01-04  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac, programs/Makefile.in,
	  programs/wineboot/.cvsignore, programs/wineboot/Makefile.in,
	  programs/wineboot/wineboot.c:
	Shachar Shemesh <winecode@sun.consumer.org.il>
	Initial wineboot implementation; at this stage only wininit.ini
	processing has been written.

	* dlls/dsound/sound3d.c: Rok Mandeljc <rokmandeljc@hotmail.com>
	- 3d buffers produce sounds
	- some other small fixes

	* dlls/dsound/sound3d.c: Rok Mandeljc <rokmandeljc@hotmail.com>
	- cleaned *Set* functions
	- added initial code for 3d buffer recalculating
	- added some auxiliary functions

	* Make.rules.in, dlls/Makedll.rules.in, include/mmddk.h,
	  include/mmsystem.h, include/oaidl.h, include/objbase.h,
	  include/objidl.h, include/objidl.idl, include/ocidl.h,
	  include/oleidl.h, include/prsht.h, include/rpc.h, include/rpcdce.h,
	  include/rpcproxy.h, include/shlwapi.h, include/tchar.h,
	  include/winbase.h, include/windef.h, include/windows.h,
	  include/wine/debug.h, include/wine/obj_control.h,
	  include/wine/obj_inplace.h, include/winnt.h, include/winsock.h,
	  include/winternl.h, include/wownt32.h, include/wtypes.h,
	  include/wtypes.idl, library/Makefile.in, miscemu/Makefile.in,
	  ole/Makefile.in, server/Makefile.in, tools/widl/Makefile.in,
	  tools/winapi/Makefile.in, tools/winapi/msvcmaker,
	  tools/winebuild/Makefile.in, tools/winedump/Makefile.in,
	  tools/wmc/Makefile.in, tools/wpp/Makefile.in, tools/wrc/Makefile.in,
	  unicode/Makefile.in:
	Dimitrie O. Paun <dpaun@rogers.com>
	Rename __WINE__ to __WINESRC__.

	* dlls/comctl32/imagelist.c, dlls/ntdll/signal_i386.c,
	  dlls/ntdll/signal_powerpc.c, dlls/ntdll/signal_sparc.c,
	  include/commctrl.h, include/d3d8types.h, include/msvcrt/eh.h,
	  include/msvcrt/stdio.h, include/msvcrt/stdlib.h, include/winbase.h,
	  include/wine/exception.h:
	Removed a few more #ifdef __WINE__.

	* include/winnt.h: Dimitrie O. Paun <dpaun@rogers.com>
	Enable nameless structures in C++ for gcc >= 3.x (discovery and
	testing done by Dan Kegel).

	* tools/winegcc.c: Dimitrie O. Paun <dpaun@rogers.com>
	Pass only the -o -l -L options to winewrap, ignore the rest.

2003-01-03  Alexandre Julliard  <julliard@winehq.com>

	* tools/winemaker:
	Removed a couple of no longer used tests in the generated configure
	script.

	* dlls/winmm/tests/wave.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	#include <stdlib.h> instead of the non-standard <malloc.h>.

	* dlls/ddraw/d3ddevice/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Enable Z buffer by default.

	* include/mmsystem.h: Francois Gouget <fgouget@free.fr>
	Added TIME_KILL_SYNCHRONOUS.

	* tools/winegcc.c: Dimitrie O. Paun <dpaun@rogers.com>
	Properly handle the -M switch.

	* tools/winewrap.c: Dimitrie O. Paun <dpaun@rogers.com>
	Properly link agains .a files using the -l switch.
	Support more verbose output.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Added basic support for mipmaping, verified using sample from
	codesampler.com.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	- Use faster vertex arrays (rather than processing vertexes one by
	  one), whenever possible.
	- Less trace in the slower form by default.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/mesa.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- some fixes / optimisations in the color keying code
	- minimize at the maximum texture uploads

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/dsurface/main.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- re-activate the color-keying code
	- fix yet again texture enumeration to please all games :-/

	* dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/mesa.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Reenable device's default render states initialization.

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Fix order of texture enumeration to fix yet another set of dumb games.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/main.c,
	  dlls/ddraw/d3ddevice/main.h, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dexecutebuffer.c, dlls/ddraw/mesa.c,
	  dlls/ddraw/mesa_private.h:
	Christian Costa <titan.costa@wanadoo.fr>
	Beginning of state block.
	Initialize the device with the right D3D default values.
	Implements GetRenderState, GetTextureStageState and GetLightState.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3dcommon.c,
	  dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dexecutebuffer.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/d3dvertexbuffer.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- hack for one case of the ProcessVertices case
	- some changes in the execute buffer to reuse the new Matrix code
	- always reinitialize the enumeration structures in case some games
	  modify them
	- added support for the (unused) Reserved1 field in the FVF formats
	- fix 32 bit texturing and added more checks
	- remove some useless and annoying fixme

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3dcommon.c,
	  dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dexecutebuffer.c, dlls/ddraw/d3dlight.c,
	  dlls/ddraw/d3dmaterial.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- create a function to set the various transformation matrices to
	  factorize the code between the various code path
	- fixed some logging stuff

	* dlls/ddraw/d3dvertexbuffer.c, dlls/ddraw/d3ddevice/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- more thunking in the D3DVertexBuffer COM object
	- added 'support' for GetInfo

	* dlls/ddraw/d3dcommon.c, dlls/ddraw/mesa.c,
	  dlls/ddraw/d3ddevice/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- light improvements
	- misc. fixes

	* tools/winewrap.c: Dimitrie O. Paun <dpaun@rogers.com>
	Simplify the code for the generated wrapper.
	Miscellaneous small cleanups.

	* dlls/avicap32/avicap32_main.c, dlls/avifil32/acmstream.c,
	  dlls/avifil32/api.c, dlls/avifil32/avifile.c,
	  dlls/avifil32/extrachunk.c, dlls/avifil32/factory.c,
	  dlls/avifil32/getframe.c, dlls/avifil32/icmstream.c,
	  dlls/avifil32/wavfile.c, dlls/comcat/comcat_private.h,
	  dlls/comctl32/animate.c, dlls/commdlg/cdlg.h,
	  dlls/commdlg/filedlgbrowser.h, dlls/dplayx/Makefile.in,
	  dlls/msvideo/mciwnd.c, dlls/msvideo/msrle32/msrle_private.h,
	  dlls/msvideo/msvideo16.c, dlls/msvideo/msvideo_private.h,
	  dlls/ole32/Makefile.in, dlls/ole32/compositemoniker.c,
	  dlls/oleaut32/Makefile.in, dlls/oledlg/oledlg_main.c,
	  dlls/olepro32/olepro32stubs.c, dlls/rpcrt4/Makefile.in,
	  dlls/shdocvw/shdocvw.h, dlls/shdocvw/shdocvw_main.c,
	  dlls/shell32/Makefile.in, dlls/shlwapi/ordinal.c,
	  dlls/shlwapi/string.c, dlls/urlmon/umon.c,
	  dlls/winmm/mciavi/private_mciavi.h, dlls/x11drv/event.c,
	  include/comcat.h, include/docobj.h, include/mapicode.h,
	  include/mapidefs.h, include/mediaobj.h, include/oaidl.h,
	  include/ocidl.h, include/ole2.h, include/oleidl.h,
	  include/servprov.h, include/urlmon.h, include/wingdi.h,
	  include/winnls.h, include/winuser.h, ole/dx8guid.c, ole/dxguid.c,
	  ole/uuid.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Eliminate lots of __WINE__ conditionals from the headers.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3dcommon.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dvertexbuffer.c,
	  dlls/ddraw/direct3d/main.c, dlls/ddraw/direct3d/mesa.c,
	  dlls/ddraw/mesa.c, dlls/ddraw/mesa_private.h, include/d3d.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- some additionnal flags logged
	- fixes in the vertex buffer thunking + optimized flag support

	* dlls/user/tests/win.c: Francois Gouget <fgouget@free.fr>
	Win9x does not support {Get,Set}WindowLongW. Use the Ansi version
	instead since it won't impact _these_ tests anyway.

	* dlls/ntdll/debugtools.c, include/wine/debug.h,
	  include/wine/library.h, library/debug.c:
	Added wine_dbg_sprintf function that allocates a temporary buffer in
	the per-thread strings area.
	Added inline functions to format POINT, SIZE and RECT structures.

	* dlls/shell32/shellole.c, include/shlobj.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	SHGetMalloc() returns a HRESULT, not a DWORD.

	* include/msvcrt/stdlib.h: Dimitrie O. Paun <dpaun@rogers.com>
	Define NULL if it's not defined already.

	* dlls/comctl32/propsheet.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Check the value of the pfnCallback in addition to the callback bit.

	* tools/winewrap.c: Dimitrie O. Paun <dpaun@rogers.com>
	Support outputing files to a different directory than pwd.
	Small cleanups.

	* tools/winapi/winapi_cleanup, tools/winapi/winapi_cleanup_options.pm,
	  tools/winapi_check/nativeapi.pm:
	Patrik Stridvall <ps@leissner.se>
	Added --include-quotes option that fixes #include to use the correct
	of <> and "".

	* dlls/winspool/info.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	Moved implementation of GetPrinterDriverDirectory from ascii to unicode.

	* dlls/comctl32/listview.c: Chris Morgan <cmorgan@alum.wpi.edu>
	Listview should scroll by at least one column, fixes bug where item
	being wider than listview prevents any scrolling from occuring.  Added
	printing of the scroll code text during tracing of scroll functions.

	* dlls/shell32/shlexec.c: Dan Kegel <dank@kegel.com>
	ShellExecute(NULL, "wordpad.exe",) now correctly finds wordpad.exe in
	App Paths.

	* dlls/kernel/kernel32.spec:
	Dominik Strasser <Dominik.Strasser@t-online.de>
	Implement VerSetConditionMask by forwarding to ntdll.

	* dlls/ntdll/tests/rtlstr.c: Francois Gouget <fgouget@free.fr>
	Call lstrcmpW rather than wcscmp.

2003-01-02  Alexandre Julliard  <julliard@winehq.com>

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/safearray.c,
	  dlls/oleaut32/tests/Makefile.in, dlls/oleaut32/tests/safearray.c,
	  include/oleauto.h, include/wine/obj_oleaut.h:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented SafeArray{SetIID,GetIID,SetRecordInfo,GetRecordInfo}.
	Added support for FADF_HAVEIID, FADF_RECORD, FADF_HAVEVARTYPE.
	Implemented SafeArrayAllocDescriptorEx and SafeArrayGetVarType
	correctly.
	Fixed second argument of SafeArrayCopyData (it is just SAFEARRAY*).
	Changed allocation to include 16 bytes before the SAFEARRAY (to store
	IID/VARTYPE/IRecordInfo*).
	VARTYPE -> size array was not indexed correctly.
	Added lots of testcases for most functionality.
	Added IRecordInfo interface definition.

	* dlls/oleaut32/variant.c: Marcus Meissner <marcus@jet.franken.de>
	Handle VT_ERROR->VT_I4/VT_R4 coercion.
	VariantCopy does not need to check the return of VariantClear.
	VariantCopyInd now copies VT_UNKNOWN and VT_DISPATCH too.
	VarCmp handles VT_BOOL.
	VarFormat handles VT_BSTR.
	coerce_array fixed for VT_ARRAY|VT_UI1 -> VT_BSTR and VT_ARRAY|x ->
	VT_SAFEARRAY cases.
	VarCat tries to coerce types into VT_BSTR to do cat.

	* dlls/oleaut32/typelib.c, dlls/oleaut32/typelib.h:
	Marcus Meissner <marcus@jet.franken.de>
	Process TKIND_ALIAS in SLTG typelibs, 0x14 in the tail is the
	tdescAlias.vt entry.
	Added a small handler for TKIND_DISPATCH in SLTG.
	ITypeLib_Release can have a NULL pointer as ITypeInfo*.
	Split out _copy_arg function for both DispCall and ITypeInfo_fnInvoke,
	added some more functionality.
	ITypeInfo_fnInvoke can handle VT_USERDEFINED variants.

	* dlls/dsound/tests/dsound.c: Francois Gouget <fgouget@codeweavers.com>
	Add the ability of playing a test tone when in interactive mode.
	Test both primary and secondary buffers.

	* dlls/wininet/internet.c: Alberto Massari <alby@exln.com>
	- Implemented InternetCrackUrlW and re-implemented InternetCrackUrlA
	  by using the Unicode version.
	- InternetCrackUrlW now parses URL having the "about" and "res"
	  schemes.

	* tools/winegcc.c: Dimitrie O. Paun <dpaun@rogers.com>
	Added C++ support & small cleanups.

	* tools/winewrap.c: Dimitrie O. Paun <dpaun@rogers.com>
	Support C++ linking with a new -C switch.
	Modify the app launcher to pass all options but --debugmsg and --dll
	to the app.
	Link the wrapper against all of the app's libs.
	Drop support for passing the dll names to the launcher.

	* dlls/ddraw/dsurface/dib.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Fix for stupid applications reading some bytes after the end of the
	surface memory.

	* dlls/ddraw/mesa.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/direct3d/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- added enumeration of the Reference device (some games seems to need
	  it to work and they want it enumerated first..)
	- some comments about potential problems with Z masking

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added support for per-vertex material properties.

	* dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/main.h,
	  dlls/ddraw/d3ddevice/mesa.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Reimplemented SwapTextureHandles.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dmaterial.c,
	  dlls/ddraw/d3dvertexbuffer.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- removed some useless WARNs
	- fixed backface culling and material settings

	* dlls/ddraw/d3dvertexbuffer.c, dlls/ddraw/d3dviewport.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Fix IDirect3DVertexBuffer interface.
	Implements GetVertexBufferDesc.
	Remove some useless FIXME.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3dcommon.c,
	  dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/ddraw/main.c, dlls/ddraw/mesa.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- beginning of Material and Light support for D3D7
	- new rendering states supported

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Fixed texturing.

	* dlls/ddraw/d3dexecutebuffer.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/dsurface/main.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- allow application to load palette-less textures
	- handle palette change of loaded textures
	- some changes in the ExecuteBuffer

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dexecutebuffer.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/direct3d/mesa.c, dlls/ddraw/dsurface/fakezbuffer.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- added some tracing in the fake ZBuffer methods
	- added support for the DEPTH_FILL BLT
	- set by defaut perspective correction to nicest.
	- decrease the limit where 'w' is ignored

	* dlls/ddraw/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Added some blend states.

	* dlls/ddraw/mesa.c: Christian Costa <titan.costa@wanadoo.fr>
	Handle more blend states.

	* dlls/ddraw/d3dvertexbuffer.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Prevent memory leak in freeing of the VertexBuffer.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/main.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dexecutebuffer.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Implement GetTransform and rework a bit the matrices storage.

	* dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/main.h,
	  dlls/ddraw/d3ddevice/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- implemented GetTexture
	- semi-stubbed ValidateTexture
	- fixed some errors in logging

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/ddraw_private.h, dlls/ddraw/dsurface/dib.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added 'blt' and 'bltfast' override functions.

	* dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3dvertexbuffer.c,
	  dlls/ddraw/d3ddevice/main.h, dlls/ddraw/d3ddevice/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added 'emulated' VertexBuffer support.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/helper.c, dlls/ddraw/mesa.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- do not use the alpha coordinates when ALPHABLEND is disabled
	- disable fogging in the XYZRHW case
	- various other small fixes

	* dlls/ddraw/d3dtexture.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Factorize some code in the texture uploading function.

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Handle texture addressing the D3D7 way.

	* dlls/ddraw/d3dtexture.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Prevent lock-up in paletted texture with no palette case.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dtexture.c, dlls/ddraw/ddraw/main.c,
	  dlls/ddraw/ddraw_private.h, dlls/ddraw/direct3d/mesa.c,
	  dlls/ddraw/dsurface/main.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Enable the application to create first textures and then the D3D
	device.

	* configure, configure.ac, dlls/Makefile.in, dlls/ctl3d/.cvsignore,
	  dlls/ctl3d/Makefile.in, dlls/ctl3d/ctl3d.c, dlls/ctl3d/ctl3d.spec,
	  dlls/ctl3d/ctl3d32.c, dlls/ctl3d/ctl3d32.spec,
	  dlls/ctl3d/ctl3dv2.spec, dlls/user/user32.spec:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Added ctl3d, ctl3dv2 and ctl3d32 API implementations.

	* tools/winebuild/winebuild.man.in, tools/wrc/wrc.man:
	Updated for recent options changes.

	* dlls/crtdll/crtdll_main.c, dlls/d3d8/shader.c,
	  dlls/d3dx8/d3dx8_main.c, dlls/msvcrt/msvcrt.spec,
	  dlls/winmm/winejack/audio.c, include/d3dx8core.h:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winemaker: Jeff Smith <whydoubt@hotmail.com>
	Several improvements and corrections, foremost being correcting wrc
	flags and shared object file naming.

	* tools/winapi/win16.api, tools/winapi/win32.api,
	  tools/winapi/winapi.pm, tools/winapi_check/modules.dat,
	  tools/winapi_check/winapi_check, tools/winapi_check/winapi_local.pm:
	Patrik Stridvall <ps@leissner.se>
	- API files update.
	- Minor improvement and bug fixes.

	* dlls/commdlg/filedlg95.c, include/wine/unicode.h:
	Alberto Massari <alby@exln.com>
	Moved implementation of strpbrkW from filedlg95.c to wine/unicode.h.

	* dlls/kernel/kernel32.spec, files/file.c:
	Alberto Massari <alby@exln.com>
	Add stub implementation for ReplaceFile.

	* tools/winewrap.c: Dimitrie O. Paun <dpaun@rogers.com>
	Add support for wrapper generation to winewrap.
	Quite a few micro cleanups, code should be simpler to follow.

	* tools/winegcc.c: Dimitrie O. Paun <dpaun@rogers.com>
	Compile with WINE_UNICODE_NATIVE defined, essential for C++.
	New -V option to display the version.
	Do not link -lc, screws up linking, just get the default.

	* dlls/kernel/windebug.c, dlls/winedos/int16.c, dlls/winedos/int2f.c,
	  dlls/winedos/module.c, dlls/winedos/xms.c, memory/global.c,
	  tools/fnt2bdf.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Removed unused #include of module.h.

	* dlls/d3d8/d3d8.spec, dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c,
	  dlls/d3d8/directx.c, dlls/d3d8/shader.c, include/d3d8.h,
	  include/d3d8types.h:
	Raphael Junqueira <fenix@club-internet.fr>
	- integration with DrawPrimitive
	- remove non-esthetic c++ comments into c comments block ;)
	- more more debug
	- indent, cleanups
	- trying to use DIFFUSE and SPECULAR for vertex shader
	- many fixes
	- integration with Jason's texture patch

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Some clean-ups after the DrawPrimitive rewrite.

	* dlls/ddraw/ddraw/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Fix crash in GetAvailableVidMem function when TRACE is activated.

	* dlls/winmm/lolvldrv.c, dlls/winmm/message16.c, dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	When unmapping a (wave|midi)-header unprepare message, make sure the
	unpreparation was successful.

	* dlls/msvideo/drawdib.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed some nasty bugs in drawdib creation/deletion.

	* dlls/devenum/devenum.spec, dlls/devenum/devenum_main.c,
	  dlls/qcap/qcap.spec, dlls/qcap/qcap_main.c, dlls/quartz/main.c,
	  dlls/quartz/quartz.spec:
	Dominik Strasser <Dominik.Strasser@t-online.de>
	Some stubs for dll setup needed by IE6 setup.

	* dlls/oleaut32/oleaut.c, dlls/oleaut32/olepicture.c:
	Marcus Meissner <marcus@jet.franken.de>
	Support DllGetClassObject of CLSID_StdPicture.
	PICTYPE_NONE has width/height 0.

	* dlls/comctl32/animate.c: Rein Klazes <rklazes@xs4all.nl>
	Let ANIMATE_OpenA return FALSE (= failure) upon a request to close a
	previously opened AVI clip when there isn't one.

	* tools/bug_report.pl: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Increment log output from 200 lines to 3000 lines.
	Added Win XP as a listed Windows version.

	* dlls/cabinet/cabextract.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fix off_t cast that breaks FreeBSD.

	* dlls/winmm/tests/wave.c, include/wine/test.h:
	Francois Gouget <fgouget@codeweavers.com>
	Add support for WINETEST_INTERACTIVE. If set then tests can perform
	additional explicitly interactive tests.
	Modify the winmm test to use WINETEST_INTERACTIVE.

	* dlls/ole32/bindctx.c: Alberto Massari <alby@exln.com>
	IBindCtx::RegisterObjectParam is supposed to replace the old value if
	the key is already registered.

	* dlls/comctl32/imagelist.c, dlls/comctl32/imagelist.h:
	Duane Clark <dclark@akamail.com>
	Validate imagelists with christmas magic.

	* dlls/ntdll/error.c, dlls/ntdll/tests/error.c:
	Francois Gouget <fgouget@free.fr>
	Fix mapping of STATUS_DEVICE_NOT_CONNECTED to match XP.
	Fixed the prototype of statustodoserror to make the test work on NT4.
	Added alternate return values to make the test work on Win98.
	Check whether RtlNtStatusToDosError ismissing to make the test work on
	Win95.
	Added a strict option to cause the test to only accept the standard
	mapping.

	* dlls/oleaut32/tests/vartest.c: Francois Gouget <fgouget@free.fr>
	Remove unnecessary sprintf calls.

	* tools/winebuild/main.c: Dimitrie O. Paun <dpaun@rogers.com>
	Add the -F option to set a DLL's filename.

	* programs/wcmd/directory.c, programs/wcmd/wcmdmain.c:
	Chris Morgan <cmorgan@alum.wpi.edu>
	Default to $P$G prompt.  Make width of date 10 characters to align
	date column with DATE_SHORTDATE format.

	* dlls/kernel/tests/locale.c: Chris Morgan <cmorgan@alum.wpi.edu>
	Use the locale id we created instead of the system or user default,
	otherwise some tests are broken on systems where things aren't
	english/us.

	* dlls/oleaut32/tests/safearray.c: Francois Gouget <fgouget@free.fr>
	Fix signed/unsigned warnings.

2002-12-24  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac: Fixed quoting in INSTALL check.

	* dlls/dinput/dinput_main.c, dlls/dinput/dinput_private.h,
	  dlls/dinput/mouse/main.c:
	Pass the correct instance when installing the mouse hook (spotted by
	Lionel Ulmer).

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dviewport.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- actually use the background color when Clear-ing
	- replace glOrtho by a hand-built matrix
	- fix applications doing SetTransform + using XYZRHW vertices

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/main.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dviewport.c,
	  dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- factorize Clear method between Viewport and Device
	- some more rendering states handled

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/main.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Support viewports the D3D7 way.

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Added some stencil / D3DDevice7 capabilities.

	* DEVELOPERS-HINTS, README, documentation/README.fr,
	  documentation/bugs.sgml, documentation/configuring.sgml,
	  documentation/faq.sgml:
	Jeff Smith <whydoubt@hotmail.com>
	Updated directory info in DEVELOPERS-HINTS, and IRC info in several
	documents.

	* dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/main.h,
	  dlls/ddraw/d3ddevice/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Combine texturing for D3D3 and 7 by thunking 3 to 7.

	* dlls/oleaut32/tests/vartest.c: Francois Gouget <fgouget@free.fr>
	Move the test strings into their own array and convert them to unicode
	using a for loop. This lets us later print the offending string when a
	test fails.
	Fix the MSVC compilation error (XXXe183) and warnings (put suffixes as
	in 0L & 1.0F, signed/unsigned warnings, s/-2147483648/0x80000000L/).
	Uncomment the DateFromStr tests and fill in the todo fields where
	appropriate.
	Define an NB_OLE_STRINGS macro and use it to make sure all the arrays
	have the right number of fields.
	In the *FromStr loops, fill the return field with a dummy value (42)
	before calling the conversion function. This way a test no longer
	depends on whether the previous test failed or not!
	If a test is expected to fail, then retval is meaningless -> omit it
	from the result arrays.
	If a test actually fails or was expected to fail, then there is no
	point in checking retval.
	Improve error reporting.
	Pass the printf-style format directly to ok, remove the unnecessary
	sprintfs.

	* dlls/ddraw/d3dcommon.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Dump new D3D7 rendering states.

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	- factorize the D3D1/2 draw_primitive code with the new strided function
	- rewrote a little bit this strided function to always use the static
	  functions

	* configure, configure.ac:
	Make sure INSTALL path is relative to the top dir when using the
	script in tools/.

	* dlls/winspool/info.c:
	The name of the driver should be the 16-bit one in case the app tries
	to load it.

	* dlls/rpcrt4/cpsf.c, dlls/rpcrt4/rpc_binding.c,
	  dlls/rpcrt4/rpcrt4_main.c, dlls/rpcrt4/tests/rpc.c, include/rpcdce.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	Fix definitions for Uuid{To,From}String, RpcStringFree.

	* include/commctrl.h: Dimitrie O. Paun <dpaun@rogers.com>
	Fix the defintion of {,LP}NM_TREEVIEW{A,W}.

	* include/winerror.h: Francois Gouget <fgouget@free.fr>
	Add a couple missing macros.

	* dlls/ddraw/d3ddevice/main.c: Christian Costa <titan.costa@wanadoo.fr>
	Remove useless FIXMEs since there is nothing to do in BeginScene and
	EndScene.

	* dlls/ddraw/d3ddevice/mesa.c: Christian Costa <titan.costa@wanadoo.fr>
	Update and clean-up draw_primitive_strided_7.
	Make draw_primitive_7 based on draw_primitive_strided_7.

2002-12-23  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ddraw/d3dtexture.c, dlls/ddraw/ddraw/main.c,
	  dlls/ddraw/dsurface/dib.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- fix mipmap texture creation
	- some logging improvements

	* dlls/ddraw/dsurface/main.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- fix small TRACE bug introduced in a previous patch
	- add WRAPU / WRAPV warning

	* dlls/Makefile.in, dlls/wineps/.cvsignore, dlls/wineps/Makefile.in,
	  dlls/wineps/wineps16.drv.spec, dlls/wineps/wineps16.spec:
	wineps16.dll should be named .drv.

	* dlls/winmm/lolvldrv.c, dlls/winmm/message16.c,
	  dlls/winmm/wineoss/mixer.c, dlls/winmm/wineoss/wineoss.drv.spec,
	  documentation/multimedia.sgml:
	Jeff Smith <whydoubt@hotmail.com>
	Correct all instances of mixMessage to mxdMessage.

	* tools/winewrap.c: Dimitrie O. Paun <dpaun@rogers.com>
	Add support for library path (-L).
	Add support for linking against static libs.
	Ignore -W for gcc compatibility.

	* dlls/ddraw/dsurface/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Have the 'Lock' warning a bit clearer.

	* dlls/ddraw/ddraw/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Report that we do not support compressed texture yet.

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	- fix returning of capabilities in FindDevice
	- fill properly some caps according to what OpenGL can do

	* dlls/oleaut32/variant.c: Marcus Meissner <marcus@jet.franken.de>
	VariantChangeTypeEx for VT_ARRAY | type style variants.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/safearray.c,
	  dlls/oleaut32/tests/.cvsignore, dlls/oleaut32/tests/Makefile.in,
	  dlls/oleaut32/tests/safearray.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed VarBstrCmp/Cat .spec entries.
	Started regression test for SafeArray functions.
	Fixed SafeArrayAllocDescriptor (check bounds, set cDims).
	Fixed VARTYPE_SIZE array entries so it matches native.

	* dlls/comctl32/listview.c: Duane Clark <dclark@akamail.com>
	Report mode padding tweaks.
	Fix to LISTVIEW_GetSubItemRect.

	* dlls/oleaut32/dispatch.c, dlls/olecli/olecli_main.c,
	  dlls/olesvr/olesvr_main.c, include/ole.h, include/windows.h:
	Get rid of ole.h.

	* include/Makefile.in, include/objbase.h, include/unknwn.h,
	  include/unknwn.idl, include/wine/obj_base.h:
	Ove Kaaven <ovek@transgaming.com>
	Merge the rest of include/wine/obj_base.h into include/objbase.h.

	* dlls/comcat/comcat.h, dlls/comcat/comcat_main.c,
	  dlls/comcat/comcat_private.h, dlls/comcat/factory.c,
	  dlls/comcat/information.c, dlls/comcat/manager.c,
	  dlls/comcat/register.c, dlls/ole32/ifs.h, dlls/shell32/enumidlist.c,
	  include/comcat.h:
	Removed some remaining references to wine/obj_base.h.

	* files/drive.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	DRIVE_Init: Use strtoulW to initialize the drive serial number.

	* programs/wineconsole/curses.c,
	  programs/wineconsole/winecon_private.h,
	  programs/wineconsole/wineconsole.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed several bugs:
	 - wrong drawing for chars outside the 20-7F range
	 - console mouse event generation
	 - console Alt-? char event generation
	Prefix for curses functions is now WCCURSES_ instead of WCCURSE_.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Query opengl to ensure it supports multitexture, and honour the number
	of supported texture units. Especially important for NVidia drivers
	which only support 2 texture units.

	* dlls/ddraw/direct3d/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Fix Direct3D2 => Direct3D3 thunk for FindDevice.

	* include/dinput.h, include/oaidl.h: Ove Kaaven <ovek@transgaming.com>
	Where ICOM macros are needed, include objbase.h.

	* include/oleauto.h: Dimitrie O. Paun <dpaun@rogers.com>
	Added missing GetActiveObject declaration.

	* include/shlobj.h: Dimitrie O. Paun <dpaun@rogers.com>
	Added missing LPDROPFILES definition.

	* include/wingdi.h: Dimitrie O. Paun <dpaun@rogers.com>
	DEVMODE structure uses short not SHORT for its fields.

2002-12-19  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, VERSION, configure: Release 20021219.

----------------------------------------------------------------
2002-12-19  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/import.c:
	Don't ignore sprintf/sscanf imports, semantics are not exactly the
	same on Windows.

	* dlls/msvcrt/scanf.h, dlls/msvcrt/tests/scanf.c:
	Handle unknown format chars correctly (spotted by György 'Nog'
	Jeney) and added test for it.
	Removed unneeded _L_ macro.

	* documentation/patches.sgml:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	More information on style and format of patches.

	* Make.rules.in, library/Makefile.in, unicode/Makefile.in:
	Removed unnecessary --add-stdcall-alias flag.

	* tools/.cvsignore, tools/Makefile.in, tools/mingwrap.c, tools/winegcc.c:
	Renamed mingwrap to winegcc.
	Removed -DWINE_DEFINE_WCHAR_T.

	* tools/wpp/wpp.c: Tapio Kautto <eleknader@phnet.fi>
	Fix for missing ppdebug variable.

	* dlls/ole32/bindctx.c, dlls/ole32/ftmarshal.c, dlls/ole32/ifs.c,
	  dlls/ole32/marshal.c, dlls/ole32/ole16.c, dlls/ole32/oleproxy.c,
	  dlls/ole32/rpc.c:
	Fixed a few problems caused by the new objidl.idl.

	* include/wingdi.h: Dimitrie O. Paun <dpaun@rogers.com>
	Added missing GetWinMetaFileBits() declaration.

	* include/Makefile.in, include/objidl.h, include/objidl.idl,
	  include/wine/obj_channel.h, include/wine/obj_clientserver.h,
	  include/wine/obj_dataobject.h, include/wine/obj_marshal.h,
	  include/wine/obj_misc.h, include/wine/obj_moniker.h,
	  include/wine/obj_propertystorage.h, include/wine/obj_storage.h:
	Ove Kaaven <ovek@transgaming.com>
	Wrote a new objidl.idl to replace a number of include/wine/obj_*.h
	files.

	* dlls/cabinet/Makefile.in, dlls/cabinet/cabextract.c,
	  dlls/cabinet/cabinet.h, dlls/cabinet/cabinet.spec,
	  dlls/cabinet/cabinet_main.c, dlls/cabinet/fdi.c,
	  dlls/urlmon/Makefile.in, dlls/urlmon/umon.c,
	  dlls/urlmon/urlmon.spec, winedefault.reg:
	Greg Turner <gmturner007@ameritech.net>
	- port cabextract to wine
	- implement cabinet.dll.Extract, urlmon.dll.Extract
	- add SP6a registry key to winedefault.reg

	* dlls/ntdll/tests/rtlstr.c: Avoid some warnings.

	* dlls/x11drv/keyboard.c: Mauro Carvalho Chehab <mchehab@brturbo.com>
	Included a specific ABNT-2 scan and vkey tables, and an ABNT-2
	keyboard with <ALT><GR> key codes.

	* include/wine/obj_misc.h, include/wine/obj_storage.h,
	  include/wtypes.h, include/wtypes.idl:
	Ove Kaaven <ovek@transgaming.com>
	Moved a couple of types from include/wine/obj_*.h to
	include/wtypes.idl.

	* include/commctrl.h: Dimitrie O. Paun <dpaun@rogers.com>
	Fix defines for LV_ITEM, LV_DISPINFO, and LV_FINDINFO.

	* dlls/kernel/tests/format_msg.c: Francois Gouget <fgouget@free.fr>
	On Win9x "hi\n" gives us "hi\r\n".

	* include/winnt.h: Dimitrie O. Paun <dpaun@rogers.com>
	Add definitions for N[W]PSTR.
	Add a bunch of SE_* definitions.

	* dlls/kernel/tests/locale.c: Chris Morgan <cmorgan@alum.wpi.edu>
	Add additional tests for GetTimeFormat() and GetDateFormat().
	Uncomment wine_todo tests that now succeed with fixes to
	GetTime/DateFormat().

	* include/winnls.h, ole/ole2nls.c: Chris Morgan <cmorgan@alum.wpi.edu>
	GetDateFormat() and GetTimeFormat() should check the validity of the
	time/date structure it is processing.
	Add comments to describe flags behavior.
	Add support for TIME_FORCE24HOURFORMAT, TIME_NOMINUTESORSECONDS,
	TIME_NOSECONDS and TIME_NOTIMEMARKER.
	Add check in GetDateFormatW() for invalid flag combinations.
	Added some missing DATE_* defines to winnls.h.
	Behavior verified against NT4.0.

	* dlls/msvcrt/ctype.c, dlls/msvcrt/data.c, dlls/msvcrt/dir.c,
	  dlls/msvcrt/environ.c, dlls/msvcrt/file.c, dlls/msvcrt/mbcs.c,
	  dlls/msvcrt/msvcrt.h, dlls/msvcrt/scanf.c, dlls/msvcrt/scanf.h,
	  dlls/msvcrt/wcs.c:
	Use MSVCRT_wchar_t instead of WCHAR so that the implementation matches
	the prototypes.

	* tools/wmc/mcy.y: Avoid referencing potentially freed token.

	* dlls/shlwapi/path.c, dlls/shlwapi/shlwapi.spec, dlls/shlwapi/url.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Implemented UrlCreateFromPath[AW] and slightly related
	PathCreateFromFileA.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/security.c:
	Chris Morgan <cmorgan@alum.wpi.edu>
	Stub for GetSecurityInfoExW().

	* include/Makefile.in, include/accctrl.h: Added accctrl.h header.

	* tools/wrc/parser.y, tools/wrc/wrc.c, tools/wrc/wrc.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	Remove the -L wrc option, as no automatic fudging of filenames can
	ever be correct.

	* include/winuser.h, windows/painting.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	UpdateWindow returns a BOOLean.

	* dlls/ddraw/d3dtexture.c, dlls/ddraw/ddraw_private.h,
	  dlls/ddraw/helper.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added surface dumping function for debug.

	* dlls/kernel/kernel32.spec, dlls/kernel/time.c:
	Martin Fuchs <martin-fuchs@gmx.net>
	Implementation of SystemTimeToTzSpecificLocalTime() and
	TzSpecificLocalTimeToSystemTime().

	* dlls/shell32/shell32_main.h, dlls/shell32/shfldr_fs.c,
	  dlls/shell32/shlfileop.c, dlls/shell32/shres.rc,
	  dlls/shell32/shresdef.h:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Introduced some declarations and resources needed for a more complete
	implementation of SHFileOperation.

	* ole/ole2nls.c: Alberto Massari <alby@exln.com>
	CompareStringW should return 0 when one of the provided strings is a
	NULL pointer.

	* dlls/user/dde/client.c, dlls/user/dde/misc.c, include/ddeml.h:
	LPCONVCONTEXT should be PCONVCONTEXT (spotted by Dimitrie O. Paun).
	Same for LPHSZPAIR and LPCONVINFO.

	* dlls/ole32/antimoniker.c, dlls/ole32/compositemoniker.c,
	  dlls/ole32/filemoniker.c, dlls/ole32/itemmoniker.c,
	  dlls/ole32/moniker.h, include/wine/obj_moniker.h:
	Ove Kaaven <ovek@transgaming.com>
	Moved some definitions from include/wine/obj_moniker.h to
	dlls/ole32/moniker.h.

	* documentation/wine.man.in:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Fixed typo.

	* dlls/netapi32/tests/access.c, dlls/netapi32/tests/apibuf.c,
	  dlls/netapi32/tests/wksta.c:
	Francois Gouget <fgouget@free.fr>
	On Win9x netapi32.dll does not export a single API so we do a
	GetProcAddress for each of them and skip the tests when necessary.
	On Win9x GetUserNameW and GetComputerNameW are stubs.
	Improve error reporting in access.c.

	* dlls/kernel/tests/alloc.c, include/winbase.h:
	Francois Gouget <fgouget@free.fr>
	Declare LocalDiscard and GlobalDiscard (used by kernel/tests/alloc.c)
	Remove the DISCARD_DEFINED #ifdefs.
	Remove another double HeapFree (caused an assert when run on NT4),
	and a HeapSize on a freed heap (the test failed on Win9x).
	Fix the LocalLock/LocalUnlock tests (the memory must be allocated
	with LMEM_MOVEABLE otherwise the tests don't make sense).
	Remove many unnecessary casts.
	Improved error reporting somewhat.

2002-12-18  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/tests/format_msg.c: Francois Gouget <fgouget@free.fr>
	Improve error reporting.

	* dlls/kernel/tests/path.c: Francois Gouget <fgouget@free.fr>
	All filenames containing a ":" are invalid on Win9x and 2000 but are
	valid on NT4 -> remove these tests.

	* dlls/kernel/tests/process.c: Francois Gouget <fgouget@free.fr>
	#ifdef-out decodeW since it is not used yet.
	Fix the lpDesktop and lpTitle checks on NT platforms.

	* dlls/user/tests/wsprintf.c: Francois Gouget <fgouget@free.fr>
	wsprintfW is not supported on Win9x platforms.
	wsprintf{A,W}Test should be void.
	Improve error reporting.
	Remove unnecessary #includes.

	* dlls/shlwapi/tests/clist.c, dlls/shlwapi/tests/shreg.c:
	Francois Gouget <fgouget@free.fr>
	Fix signed/unsigned warnings.

	* include/wtypes.h, include/wtypes.idl:
	Ove Kaaven <ovek@transgaming.com>
	Unquoted some 16-bit types, so the IDL compiler can use them.

	* include/msvcrt/string.h: Dimitrie O. Paun <dpaun@rogers.com>
	Map strcasecmp to _stricmp.

	* include/objbase.h, include/wine/obj_clientserver.h,
	  include/wine/obj_dataobject.h, include/wine/obj_marshal.h,
	  include/wine/obj_misc.h, include/wine/obj_moniker.h,
	  include/wine/obj_storage.h:
	Ove Kaaven <ovek@transgaming.com>
	Moved COM API prototypes to objbase.h, from wine/obj_*.h.

	* dlls/ole32/ole2.c, dlls/shell32/dataobject.c,
	  dlls/shell32/shell32_main.h, ole/uuid.c:
	Ove Kaaven <ovek@transgaming.com>
	Removed a few more inclusions of deprecated wine/obj_*.h headers.

	* dlls/crtdll/Makefile.in, dlls/crtdll/crtdll_main.c:
	Made crtdll a normal user of msvcrt by setting the right include
	path.

	* dlls/msvcrt/file.c, dlls/msvcrt/misc.c, dlls/msvcrt/scanf.c,
	  include/msvcrt/ctype.h, include/msvcrt/direct.h,
	  include/msvcrt/dos.h, include/msvcrt/eh.h, include/msvcrt/errno.h,
	  include/msvcrt/io.h, include/msvcrt/locale.h,
	  include/msvcrt/malloc.h, include/msvcrt/mbctype.h,
	  include/msvcrt/mbstring.h, include/msvcrt/process.h,
	  include/msvcrt/search.h, include/msvcrt/setjmp.h,
	  include/msvcrt/stddef.h, include/msvcrt/stdio.h,
	  include/msvcrt/stdlib.h, include/msvcrt/string.h,
	  include/msvcrt/sys/stat.h, include/msvcrt/sys/timeb.h,
	  include/msvcrt/sys/types.h, include/msvcrt/sys/utime.h,
	  include/msvcrt/time.h, include/msvcrt/wchar.h,
	  include/msvcrt/wctype.h, include/winnt.h:
	Avoid including other headers from the msvcrt headers, duplicate some
	definitions instead like Windows does.
	Always define wchar_t (suggested by Dimitrie O. Paun), and use wchar_t
	everywhere instead of WCHAR to avoid depending on Windows headers.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c,
	  dlls/d3d8/shader.c, dlls/d3d8/texture.c, dlls/d3d8/volumetexture.c:
	Raphael Junqueira <fenix@club-internet.fr>
	 - some fixes in CreateDevice init
	 - vertex shader declaration parser (with output dump) and
	   interpretation (generate the FVF descriptor for program input)
	 - vertex shader program parser (with output dump)
	 - software vertex shader program emulation

	* include/d3d8types.h: Raphael Junqueira <fenix@club-internet.fr>
	Added some necessary definitions for D3D8 Vertex and Pixel shader
	support.

	* server/registry.c: Bill Medland <medbi01@accpac.com>
	If a .reg function is accessed through a symlink then write directly
	to the file rather than replacing it with a temp file.  This preserves
	ownership and permissions.

	* dlls/ntdll/time.c, include/winternl.h:
	Implemented RtlTimeToElapsedTimeFields.

	* dlls/ddraw/d3dtexture.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Fix in another place in the code computing the memory usage.

	* documentation/configuring.sgml, documentation/wine.conf.man,
	  documentation/wine.man.in:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Purge traces of the old relay debug mechanism and document new
	mechanism better.

	* dlls/kernel/tests/atom.c, dlls/kernel/tests/directory.c,
	  dlls/kernel/tests/environ.c, dlls/kernel/tests/file.c,
	  dlls/kernel/tests/path.c, dlls/kernel/tests/process.c:
	Francois Gouget <fgouget@free.fr>
	Use strlen or lstrlenA as appropriate to avoid signed/unsigned
	warnings.

	* tools/winapi/msvcmaker: Francois Gouget <fgouget@free.fr>
	The link command specifies which version of the C library to link with
	(see /M[TD]d? option). So we must not explicitly link with
	'msvcrt.lib'. Fixes the msvcrt test crashes.

	* include/rpc.h, include/rpcdce.h: Ove Kaaven <ovek@transgaming.com>
	Moved UUID type to rpcdce.h, as in the MS RPC headers.
	Removed redundant prototype.

2002-12-17  Alexandre Julliard  <julliard@winehq.com>

	* loader/ne/segment.c, loader/pe_image.c: Debug channels cleanup.

	* dlls/kernel/kernel32.spec, dlls/ntdll/Makefile.in, include/thread.h,
	  include/winbase.h, include/winnt.h, scheduler/fiber.c:
	Implemented the Fiber* functions (with the help of Huw Davies).

	* include/unknwn.h, tools/widl/header.c:
	Fix the type of the This pointer in the vtbl functions inherited from
	the base class.

	* dlls/wininet/tests/http.c: Fixed warnings.

	* server/hook.c: Alberto Massari <alby@exln.com>
	The handler for the server message get_next_hook was returning the
	module name of the current hook, instead of the next one.

	* dlls/winspool/info.c, dlls/winspool/winspool.drv.spec:
	Dimitrie O. Paun <dpaun@rogers.com>
	Added stubs for {Start,End}{Doc,Page}Printer.

	* controls/scroll.c: Duane Clark <dclark@akamail.com>
	Need to initialize tracking value on mousedown.

	* dlls/msvcrt/file.c, dlls/msvcrt/tests/.cvsignore,
	  dlls/msvcrt/tests/Makefile.in, dlls/msvcrt/tests/file.c:
	Bill Currie <bill@taniwha.org>
	fdopen: don't rewind the file after creating the FILE* handle. Added
	unit test for that.

	* controls/menu.c: Alberto Massari <alby@exln.com>
	Set the ODS_DISABLED bit when the item is grayed.

	* tools/winewrap.c: Dimitrie O. Paun <dpaun@rogers.com>
	Better handling of errors while fork/execing.
	Add verbose command line switch.
	Add -z defs at link stage, to catch missing symbols.

	* tools/mingwrap.c: Dimitrie O. Paun <dpaun@rogers.com>
	Pass the gui flag to winewrap if we're linking a GUI app.

	* documentation/compiling.sgml, documentation/getting.sgml:
	Bill Medland <billmedland@mercuryspeed.com>
	Move CVS docu from User Guide to Devel Guide.

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	If we support 'non-native' texture format, advertise it.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	The simple bits of fog.

	* configure, configure.ac, dlls/Makefile.in, dlls/wintab32/.cvsignore,
	  dlls/wintab32/Makefile.in, dlls/wintab32/context.c,
	  dlls/wintab32/manager.c, dlls/wintab32/wintab.spec,
	  dlls/wintab32/wintab16.c, dlls/wintab32/wintab32.spec,
	  include/Makefile.in, include/pktdef.h, include/wintab.h,
	  include/wintabx.h:
	Patrik Stridvall <ps@leissner.se>
	Added stubs for WINTAB{,32}.DLL (used by many important drawing
	applications for supporting tablets).

	* dlls/oleaut32/dispatch.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Add standard dispatch implementation (CreateStdDispatch).

	* include/wine/test.h: Tony Lambregts <tony_lambregts@telusplanet.net>
	Direct the output of the tests to stdout so that Win98 can redirect
	the output to a file.

	* dlls/netapi32/access.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	NetUserGetInfo: implemented Level 1.

	* ole/Makefile.in, ole/dx8guid.c, ole/dxguid.c, ole/uuid.c:
	Split DirectX GUIDs to separate files to avoid header conflicts.

	* configure, configure.ac, dlls/Makefile.in, dlls/d3d8/Makefile.in,
	  dlls/d3d8/basetexture.c, dlls/d3d8/cubetexture.c,
	  dlls/d3d8/d3d8_main.c, dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c,
	  dlls/d3d8/directx.c, dlls/d3d8/indexbuffer.c, dlls/d3d8/shader.c,
	  dlls/d3d8/surface.c, dlls/d3d8/swapchain.c, dlls/d3d8/texture.c,
	  dlls/d3d8/vertexbuffer.c, dlls/d3d8/volume.c, dlls/make_dlls,
	  dlls/d3dx8/.cvsignore, dlls/d3dx8/Makefile.in,
	  dlls/d3dx8/d3dx8.spec, dlls/d3dx8/d3dx8_main.c,
	  dlls/d3dx8/d3dx8core_private.h, dlls/d3dx8/d3dxbuffer.c,
	  include/Makefile.in, include/d3d8.h, include/d3d8types.h,
	  include/d3dx8core.h:
	Raphael Junqueira <fenix@club-internet.fr>
	- some D3D8 fixes
	- beginning of shaders support (Vertex and Pixel Shaders 1.1 on
	  DirectX8)
	- beginning of D3DX8 support the D3D8 utility API (very basic, only
	  the core header)

2002-12-16  Alexandre Julliard  <julliard@winehq.com>

	* include/Makefile.in, include/unknwn.h, include/unknwn.idl,
	  include/wine/obj_base.h:
	Ove Kaaven <ovek@transgaming.com>
	Wrote a Wine-compatible unknwn.idl, moving the IUnknown definition
	from wine/obj_base.h to the generated unknwn.h.

	* dlls/shell32/pidl.c, dlls/shell32/shellole.c,
	  dlls/shell32/shfldr_desktop.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Change calls to CLSIDFromString to SHCLSIDFromStringW except in
	SHCLSIDFromStringW for the time being.

	* dlls/advapi32/security.c, include/winbase.h:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- actually use PLUID
	- initialize the outbound lpLuid variable with bogus values

	* dlls/ddraw/d3dtexture.c, dlls/ddraw/ddraw/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- fix bad TRACE
	- fixed computation of memory used by a texture

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/ddraw/main.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- revert some optimisations breaking some games
	- added a new texture format (4444 ARGB)
	- fixed the computation of colors
	- added new render states and fog support (NOT handled yet for
	  transformed vertices)

	* dlls/ddraw/d3ddevice/mesa.c: Christian Costa <titan.costa@wanadoo.fr>
	Implemented DrawPrimitiveStrided and DrawIndexPrimitiveStrided.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Fix a memory leak and optimize a little bit the generic path.

	* dlls/ddraw/d3dtexture.c, dlls/ddraw/mesa.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Improve traces + small fix.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/dsurface/main.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- fix Twist demo
	- some clean-ups / traces

	* dlls/comctl32/comboex.c, dlls/comctl32/comctl32undoc.c,
	  dlls/comctl32/progress.c, dlls/comctl32/propsheet.c,
	  dlls/comctl32/rebar.c, dlls/comctl32/treeview.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Add config.h/port.h to allow compilation/linking in MSVC.
	Fix some unsigned/signed warnings.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	György 'Nog' Jeney <nog@sdf.lonestar.org>
	- Implement ordinals 167 and 171.
	- Add stubs for ordinals 282 and 406.

	* dlls/shell32/shlexec.c, dlls/shell32/shlfileop.c,
	  dlls/shell32/shlview.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Make some shell32 files compile in MSVC.

	* dlls/shell32/shellord.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Do at least something for SHDragDrop functions although that isn't the
	complete operation.

	* dlls/shell32/debughlp.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Add debug info for IExtractIconW.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Supports the ALPHAFUNC and ALPHAREF rendering states.

	* tools/make_ctests: Francois Gouget <fgouget@codeweavers.com>
	On Windows windef.h must be included before winbase.h.

	* dlls/winmm/tests/wave.c: Francois Gouget <fgouget@codeweavers.com>
	Add the capacity of playing a test tone using the 'play' option.
	Factorize the regular and WAVE_FORMAT_DIRECT tests.
	Test the new 48 and 96kHz formats.

	* windows/nonclient.c: Rein Klazes <rklazes@xs4all.nl>
	Fix an A/W structure size bug in DrawCaptionTempW().

	* tools/runtest: Francois Gouget <fgouget@codeweavers.com>
	Add '--' option for passing extra arguments to the test.

	* graphics/x11drv/dib.c: Dmitry Timoshkov <dmitry@baikal.ru>
	Separate XShm using code.

	* programs/winhelp/hlp2sgml.c, programs/winhelp/hlpfile.c,
	  programs/winhelp/hlpfile.h, programs/winhelp/winhelp.c,
	  programs/winhelp/winhelp.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- links can now spread across several elements
	- link information is now shared between file & presentation
	- first try at handling metafiles

	* programs/winedbg/gdbproxy.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed a few issues with the gdb proxy.

	* dlls/kernel/comm.spec: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added some Win3.1 export stubs.

	* documentation/configuring.sgml, documentation/getting.sgml,
	  documentation/introduction.sgml, documentation/running.sgml:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- spelling corrections
	- properly document how to set the DOS PATH

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/variant.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Implemented VarOr().

	* dlls/ddraw/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Add support for the TextureAddress render state.

2002-12-15  Alexandre Julliard  <julliard@winehq.com>

	* include/Makefile.in, tools/widl/header.c, tools/widl/widl.c,
	  tools/widl/widl.h:
	Ove Kaaven <ovek@transgaming.com>
	Output raw ICOM-less C/C++ interface definitions by default. Added new
	-b and -B command-line options for compatibility with ICOM macros.

	* tools/winemaker: Jeff Smith <whydoubt@hotmail.com>
	Updated winemaker to account for change in wine's linking method.

	* dlls/winmm/mmsystem.c, dlls/winmm/wavemap/wavemap.c,
	  dlls/winmm/winmm.c, include/mmsystem.h:
	Francois Gouget <fgouget@codeweavers.com>
	In the latest sdk the {waveOut,midiOut}{Get,Set}Volume functions take
	a handle as the first parameter.

	* dlls/winmm/wineoss/audio.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed hangup condition at the end of some playback.

	* dlls/kernel/kernel32.spec, tools/winebuild/build.h,
	  tools/winebuild/import.c, tools/winebuild/parser.c,
	  tools/winebuild/spec32.c, tools/winebuild/winebuild.man.in:
	Added support for defining forward functions as stdcall so that we can
	get the proper number of arguments for stdcall decoration.

	* dlls/Makefile.in, dlls/Maketest.rules.in, dlls/make_dlls:
	Use import libraries when building tests too. Make sure the .a
	libraries are built for crosstest.

	* programs/winedbg/Makefile.in, tools/widl/Makefile.in,
	  tools/wmc/Makefile.in, tools/wpp/Makefile.in, tools/wrc/Makefile.in:
	Added y.tab.[ch] pseudo-dependencies to fix parallel makes.

	* dlls/winedos/Makefile.in, dlls/winedos/dosexe.h,
	  dlls/winedos/himem.c, dlls/winedos/int31.c,
	  dlls/winedos/interrupts.c, dlls/winedos/relay.c,
	  dlls/winedos/winedos16.spec:
	Jukka Heinonen <jhei@iki.fi>
	Add support for DPMI32. Make winedos16.dll unnecessary.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dtexture.c, dlls/ddraw/d3dvertexbuffer.c,
	  dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw_private.h,
	  dlls/ddraw/mesa.c, dlls/ddraw/mesa_private.h,
	  dlls/ddraw/direct3d/mesa.c, dlls/ddraw/dsurface/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	 - rework how texturing is done in the D3D driver
	 - added the generic path for DrawPrimitive API in D3D 3 / 7

	* tools/mingwrap.c: Dimitrie O. Paun <dpaun@rogers.com>
	Teach mingwrap to use winewrap to do the linking, just like gcc uses
	ld to link on Unix. Based loosely on a uClib utility developed by
	Manuel Novoa III.

	* tools/Makefile.in, tools/winewrap.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Small cleanups to match current build process.

	* dlls/msvideo/drawdib.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Fix bad logic in == NULL test.

	* dlls/shell32/shell32_main.h, dlls/shell32/shfldr_desktop.c,
	  dlls/shell32/shfldr_fs.c, dlls/shell32/shfldr_mycomp.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Add support for Unicode IExtractIcon creation in
	IShellFolder->GetUIObjectOf.

	* dlls/shell32/folders.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Fix crash when constructing ANSI interface pointer to IExtractIcon,
	found by Uwe Bonnes.
	Add some traces to the constructors.

	* tools/widl/header.c, tools/widl/parser.l, tools/widl/parser.y,
	  tools/widl/widltypes.h:
	Ove Kaaven <ovek@transgaming.com>
	Include guiddef.h in widltypes.h.

	* dlls/winmm/wineoss/audio.c: Francois Gouget <fgouget@codeweavers.com>
	If unable to set the desired format, OSS_RawOpenDevice should call
	TRACE, not ERR.

	* dlls/winmm/wavemap/wavemap.c:
	Francois Gouget <fgouget@codeweavers.com>
	Our resampling algorithm is quite primitive so try simple 8/16
	mono/stereo conversions first. Only resample if we cannot avoid it.

	* dlls/msacm/pcmconverter.c: Francois Gouget <fgouget@codeweavers.com>
	Use slighly more accurate formula for C816.
	Wrap a couple of comments to 80 columns.

	* dlls/winmm/tests/wave.c, dlls/winmm/winmm.c:
	Francois Gouget <fgouget@codeweavers.com>
	If given a bad device id waveOutGetDevCapsA is supposed to return
	MMSYSERR_BADDEVICEID. Fixes a todo_wine in the winmm test.

2002-12-13  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/classes.c, dlls/shell32/debughlp.c,
	  dlls/shell32/folders.c, dlls/shell32/pidl.c,
	  dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h,
	  dlls/shell32/shfldr_desktop.c, dlls/shell32/shlexec.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Added Unicode versions of the HCR_ internal functions.

	* documentation/testing.sgml: Francois Gouget <fgouget@free.fr>
	Document how to cross-compile the tests with MinGW.

	* programs/wineconsole/Makefile.in, programs/wineconsole/curses.c,
	  programs/wineconsole/registry.c, programs/wineconsole/wineconsole.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added a (n)curses backend to the wineconsole.

	* configure, configure.ac, include/config.h.in, library/port.c:
	Brad Campbell <brad@seme.com.au>
	Added additional test for gcvt as uClibc appears to have this and not
	ecvt.

	* dlls/ntdll/signal_i386.c: Jukka Heinonen <jhei@iki.fi>
	When asynchronous signals are blocked, block also SIGUSR2.
	Fix race that made signal handler forget to restore FS register.

	* dlls/comctl32/comctl32.spec, dlls/comctl32/comctl32undoc.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Implemented StrStrIW.

	* dlls/dsound/sound3d.c: Rok Mandeljc <rokmandeljc@hotmail.com>
	Implementation of IDirectSound3DListenerImpl_Set*().

	* dlls/kernel/time.c, dlls/ntdll/time.c, include/winbase.h:
	Avoid casts between LARGE_INTEGER and FILETIME.
	Fixed day of week of epoch.
	Small cleanups.

	* dlls/Makedll.rules.in, dlls/Maketest.rules.in:
	Fixed some dependencies.

	* dlls/kernel/time.c, dlls/ntdll/Makefile.in, files/dos_fs.c,
	  files/file.c, win32/time.c:
	György 'Nog' Jeney <nog@sdf.lonestar.org>
	- Reimplement time functions using ntdll functions.
	- Some cleanups.

	* dlls/netapi32/access.c, dlls/netapi32/netapi32.spec,
	  include/lmerr.h:
	Chris Morgan <cmorgan@alum.wpi.edu>
	Stub NetGetDCName().  Add in the rest of the NERR_* defines.

	* dlls/dsound/tests/Makefile.in, dlls/dsound/tests/dsound.c:
	Francois Gouget <fgouget@codeweavers.com>
	Extend the test by creating a PrimaryBuffer object and perform a few
	basic tests such as querying its characteristics and changing its
	format.
	Changing the format requires that we call SetcooperativeLevel first,
	which means we need an hwnd. So the test must now link with
	user32.dll.

	* dlls/dsound/buffer.c, dlls/dsound/primary.c:
	Francois Gouget <fgouget@codeweavers.com>
	IDirectSoundBuffer.GetCaps should fail if caps.dwSize is not set.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Thanks to Lucho, text support in samples now starts to
	appear. Textures now saved in state blocks, and correct FVF's used for
	drawing.

	* DEVELOPERS-HINTS, configure, configure.ac, dlls/Makefile.in,
	  dlls/winmm/winejack/.cvsignore, dlls/winmm/winejack/Makefile.in,
	  dlls/winmm/winejack/audio.c, dlls/winmm/winejack/jack.c,
	  dlls/winmm/winejack/jack.h, dlls/winmm/winejack/winejack.drv.spec,
	  documentation/samples/config, include/config.h.in:
	Chris Morgan <cmorgan@alum.wpi.edu>
	Add support for Jack audio server.

	* dlls/msacm/pcmconverter.c, dlls/winmm/wavemap/wavemap.c:
	Francois Gouget <fgouget@codeweavers.com>
	Add support for the 48 and 96kHz formats.

	* dlls/shell32/control.c, dlls/shell32/shell32.spec:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	- Change launch functions to use unicode and implement Control_RunDLLW.
	- Enable support for unicode in control panel applications.

	* loader/task.c:
	Don't crash in DirectedYield16 if no other task is running.

	* tools/.cvsignore, tools/Makefile.in, tools/winewrap.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	New wine build utility that should make it easy for Winelib apps to
	link, and generate an executable.

	* dlls/shell32/changenotify.c, dlls/shell32/clipboard.c,
	  dlls/shell32/dataobject.c, dlls/shell32/dialogs.c,
	  dlls/shell32/shellord.c, dlls/shell32/shfldr_fs.c,
	  dlls/shell32/shlexec.c, dlls/shell32/shlview.c,
	  dlls/shell32/shv_item_cmenu.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Fixed some signed/unsigned comparison warnings.

	* dlls/winmm/winealsa/audio.c:
	Nikolay Stefanov <nstefanov@cs.man.ac.uk>
	Fix issues with i810-based audio cards.
	Support for user-selectable audio cards through the ALSA_CARD
	environment variable (M.Miroslaw@elka.pw.edu.pl).

	* dlls/comctl32/animate.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Typo found by compiling with standard MSVC warning level.

	* documentation/faq.sgml: Francois Gouget <fgouget@free.fr>
	Change 'Getting-Wine' to 'FAQ-Getting-Wine' since the former is
	already used in getting.sgml.

	* documentation/getting.sgml: Francois Gouget <fgouget@free.fr>
	Tweak the screen sections.
	Add various tags such as: prompt, userinput, replaceable, filename.
	Use '</>' to close tags.

	* include/rpc.h, include/windows.h: Francois Gouget <fgouget@free.fr>
	Updated the #include directives to match the latest Windows SDK and to
	include our new headers.

	* dlls/dsound/sound3d.c: Rok Mandeljc <rokmandeljc@hotmail.com>
	Implemented IDirectSound3DBufferImpl_Set*().

	* dlls/shell32/brsfolder.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Fix SHBrowseForFolder W -> A calls.

2002-12-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/computername.c, dlls/kernel/console.c,
	  dlls/msvcrt/cppexcept.c, dlls/msvcrt/except.c,
	  dlls/ntdll/debugtools.c, dlls/ntdll/exception.c,
	  dlls/ntdll/loader.c, dlls/ntdll/sec.c, dlls/user/lstr.c,
	  dlls/winedos/dosvm.c, dlls/wininet/internet.c, files/dos_fs.c,
	  include/Makefile.in, include/excpt.h, include/msvcrt/excpt.h,
	  include/windows.h, loader/ne/module.c, loader/resource.c,
	  memory/global.c, memory/string.c, memory/virtual.c,
	  programs/winedbg/dbg.y, programs/winedbg/winedbg.c, relay32/snoop.c,
	  win32/except.c, windows/cursoricon.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Move excpt.h out of include/msvcrt/ as it does not conflict with any
	standard Unix header.

	* programs/expand/expand.c: Fixed LZCopy return value check.

	* dlls/dsound/sound3d.c: Rok Mandeljc <rokmandeljc@hotmail.com>
	Implemented IDirectSound3DListenerImpl_Get*() functions.

	* dlls/shell32/shell.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Cleanup InternalExtractIconEx. The PrivateExtractIcons functions
	should also handle the case for 32bit PE and 16bit NE files so no need
	to do this here in a different way, too.

	* dlls/shell32/pidl.c: Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Resolve SHGetPathFromIDListW ->  SHGetPathFromIDListA call.
	Remove Fixme comment in SHGetPathFromIDList as StrRetToStrN should
	take care of this.
	Get rid of some unsigned/signed comparison warnings with default
	warnings in MSVC.

	* dlls/shell32/folders.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Implement IExtractIconW and inherit IExtractIconA from it.

	* dlls/user/exticon.c: Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Fix a possible memory leak when extracting from an ICO file.
	Fix some signed/unsigned warnings showing up in MSVC with default
	warning level.
	Fix possible problem with short PIMAGE_NT_HEADERS.

	* dlls/oleaut32/typelib.c: Alberto Massari <alby@exln.com>
	Implemented DispCallFunc so that it works when calling event handlers
	that have no return value.

	* dlls/oleaut32/safearray.c: Alberto Massari <alby@exln.com>
	Calling SafeArrayDestroy on a destroyed array should be a no-op.

	* dlls/dsound/sound3d.c: Rok Mandeljc <rokmandeljc@hotmail.com>
	Implemented some stubs.

	* tools/winemaker: Jeff Smith <whydoubt@hotmail.com>
	Add 'distclean' target to winemaker-generated projects.

	* dlls/winmm/lolvldrv.c, dlls/winmm/wineoss/midi.c:
	Jeff Smith <whydoubt@hotmail.com>
	MMDRV_GetDescription32 fix + a few cosmetic improvements.

	* dlls/kernel/tests/locale.c: Francois Gouget <fgouget@free.fr>
	Mention the applications that depend on the behavior checked by the
	GetLocaleInfoA partial buffer test.

	* dlls/oleaut32/tmarshal.c: Marcus Meissner <marcus@jet.franken.de>
	Reverted last VT_USERDEFINED patch (was broken).
	Marshal TKIND_DISPATCH interfaces just like TKIND_INTERFACE.

	* dlls/oleaut32/Makefile.in, dlls/oleaut32/dispatch.c,
	  dlls/oleaut32/ole2disp.c, dlls/oleaut32/oleaut.c:
	Marcus Meissner <marcus@jet.franken.de>
	Separated out 16bit sources for ole2disp.dll.

	* tools/wrc/wrc.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not display the long options in the usage message if we don't
	actually support them. Small other cleanups.

	* dlls/ntdll/cdrom.c: Alex Pasadyn <ajp@mail.utexas.edu>
	Fix return from IOCTL_CDROM_CHECK_VERIFY.

	* dlls/winmm/tests/wave.c, dlls/winmm/wavemap/wavemap.c:
	Francois Gouget <fgouget@codeweavers.com>
	Fix error reporting in wavemap.c:wodOpen(); this solves the
	waveOutOpen problem so that we can remove the todo_wine.
	Win9x does not support WAVE_FORMAT_DIRECT.
	Don't check the format if the waveOutOpen command failed.
	Use trace, not winetest_trace!

	* loader/ne/module.c: Also trace implicitly loaded dlls for +loaddll.

	* dlls/advapi32/.cvsignore, dlls/avifil32/.cvsignore,
	  dlls/cabinet/.cvsignore, dlls/commdlg/.cvsignore,
	  dlls/crypt32/.cvsignore, dlls/d3d8/.cvsignore,
	  dlls/dciman32/.cvsignore, dlls/ddraw/.cvsignore,
	  dlls/devenum/.cvsignore, dlls/dinput8/.cvsignore,
	  dlls/dplay/.cvsignore, dlls/dsound/.cvsignore, dlls/gdi/.cvsignore,
	  dlls/glu32/.cvsignore, dlls/icmp/.cvsignore, dlls/imm32/.cvsignore,
	  dlls/kernel/.cvsignore, dlls/lzexpand/.cvsignore,
	  dlls/mpr/.cvsignore, dlls/msacm/.cvsignore, dlls/msdmo/.cvsignore,
	  dlls/msimg32/.cvsignore, dlls/msnet32/.cvsignore,
	  dlls/msvcrt/.cvsignore, dlls/msvcrt20/.cvsignore,
	  dlls/msvideo/.cvsignore, dlls/msvideo/msrle32/.cvsignore,
	  dlls/netapi32/.cvsignore, dlls/ntdll/.cvsignore,
	  dlls/odbc32/.cvsignore, dlls/ole32/.cvsignore,
	  dlls/oleaut32/.cvsignore, dlls/olecli/.cvsignore,
	  dlls/oledlg/.cvsignore, dlls/olepro32/.cvsignore,
	  dlls/opengl32/.cvsignore, dlls/psapi/.cvsignore,
	  dlls/qcap/.cvsignore, dlls/quartz/.cvsignore,
	  dlls/rasapi32/.cvsignore, dlls/rpcrt4/.cvsignore,
	  dlls/serialui/.cvsignore, dlls/setupapi/.cvsignore,
	  dlls/shell32/.cvsignore, dlls/shfolder/.cvsignore,
	  dlls/snmpapi/.cvsignore, dlls/sti/.cvsignore,
	  dlls/ttydrv/.cvsignore, dlls/url/.cvsignore, dlls/urlmon/.cvsignore,
	  dlls/user/.cvsignore, dlls/version/.cvsignore,
	  dlls/win32s/.cvsignore, dlls/winaspi/.cvsignore,
	  dlls/winedos/.cvsignore, dlls/wineps/.cvsignore,
	  dlls/wininet/.cvsignore, dlls/winmm/.cvsignore,
	  dlls/winnls/.cvsignore, dlls/winsock/.cvsignore,
	  dlls/winspool/.cvsignore, dlls/wintrust/.cvsignore,
	  dlls/wow32/.cvsignore, dlls/wsock32/.cvsignore,
	  dlls/x11drv/.cvsignore:
	Added .spec.def files.

	* Make.rules.in, Makefile.in, configure, configure.ac,
	  dlls/Makedll.rules.in, dlls/Makefile.in, dlls/commdlg/Makefile.in,
	  dlls/make_dlls, dlls/wineps/Makefile.in, tools/winebuild/import.c,
	  tools/winebuild/spec32.c:
	Implemented import libraries; on Unix we import the .def file
	directly, on Mingw we use it to build the .a library.

	* configure, configure.ac, include/config.h.in,
	  tools/winebuild/build.h, tools/winebuild/main.c,
	  tools/winebuild/spec32.c, tools/winebuild/winebuild.man.in:
	Made stdcall decoration in .def files the default, and added -k option
	to switch it off.

	* dlls/oleaut32/Makefile.in, dlls/oleaut32/typelib.c,
	  dlls/oleaut32/typelib16.c:
	Marcus Meissner <marcus@jet.franken.de>
	Split out 16bit code into typelib16.c.

	* dlls/kernel/tests/locale.c: Francois Gouget <fgouget@free.fr>
	Don't test whether Get{Currency,Date,Number,Time}FormatA writes as
	much as possible in the buffer even if it is too small. This is
	undocumented and does not match the Win9x behavior.
	Skip Unicode tests on Win9x.
	Fix usage of memset/sizeof/COUNTOF.
	Fix signed/unsigned warnings (in MSVC) by using lstrlenA instead of
	strlen.

	* ole/ole2nls.c: Francois Gouget <fgouget@free.fr>
	In Get{Currency,Number}FormatA, SetLastError to
	ERROR_INSUFFICIENT_BUFFER if the buffer is too small.

	* dlls/glu32/glu32.spec, dlls/kernel/kernel32.spec:
	Francois Gouget <fgouget@free.fr>
	Add stubs for missing APIs.

	* dlls/kernel/tests/directory.c: Francois Gouget <fgouget@free.fr>
	Skip the Unicode tests on Win9x.
	Test Get{System,Windows}Directory{A,W}(NULL, 0). This is a more
	standard way to get len_with_null too.
	Adapt the error code checks to take into account variations between
	Win9x and NT.

	* dlls/kernel/tests/file.c, files/file.c:
	Francois Gouget <fgouget@free.fr>
	Fix the error codes returned by DeleteFile{A,W} to match NT.
	Adapt the DeleteFileA error code checks to take into account variations
	between Win9x and NT.
	Test DeleteFile(NULL).
	Add tests for DeleteFileW.
	On NT, calling _lclose on an already closed handle will cause memory
	corruption and thus sometimes crash -> removed the relevant test.
	Skip the Unicode tests when on Win9x.

	* dlls/msvcrt/msvcrt.spec, dlls/msvcrt20/msvcrt20.spec,
	  dlls/ntdll/ntdll.spec, dlls/winsock/ws2_32.spec,
	  dlls/wsock32/wsock32.spec, tools/winebuild/build.h,
	  tools/winebuild/import.c, tools/winebuild/parser.c,
	  tools/winebuild/spec32.c, tools/winebuild/winebuild.man.in:
	Added list of symbols to ignore by default in winebuild.
	Made the -i option support removing ignored symbols too.
	Removed the -noimport flag in spec files.

	* tools/mingwrap.c: Warning fix.

	* dlls/ole32/bindctx.c, dlls/ole32/ole32.spec:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Implemented BindMoniker function.

	* dlls/shell32/shell32_main.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Fix shell32.ExtractIcon with A->W and 16 -> 32 calls.

	* dlls/wininet/wininet.spec: Alberto Massari <alby@exln.com>
	Added stubs for FtpCommand[A|W].

	* dlls/kernel/tests/codepage.c: Francois Gouget <fgouget@free.fr>
	The Win9x platforms support WideCharToMultiByte and
	MultiByteToWideChar but not lstrcmpW! So I implemented our own so
	that we can have a meaningful test.

	* msdos/dosmem.c: Jukka Heinonen <jhei@iki.fi>
	Give DOS applications 638k of free conventional memory.

	* dlls/oleaut32/tmarshal.c: Marcus Meissner <marcus@jet.franken.de>
	Serialize/deserialize all reftypes in VT_USERDEFINED.

	* dlls/user/tests/class.c: Francois Gouget <fgouget@free.fr>
	Skip the Unicode tests (effectively all tests currently) on Win9x.

2002-12-11  Alexandre Julliard  <julliard@winehq.com>

	* Make.rules.in, dlls/gdi/Makefile.in, dlls/kernel/Makefile.in,
	  dlls/shell32/Makefile.in, dlls/user/Makefile.in,
	  programs/winhelp/Makefile.in:
	Pass the -J option to wrc to avoid including installed headers.

	* tools/mingwrap.c:
	Wine internal includes should not be in the include path.

	* tools/wrc/Makefile.in, tools/wrc/wrc.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	wrc should be aware of the location of the system headers.

	* tools/config.guess, tools/config.sub: Updated to the latest version.

	* tools/makedep.c:
	Try to open source file in current directory first in case it is a
	generated file.

	* dlls/Maketest.rules.in: Francois Gouget <fgouget@free.fr>
	Generate proper dependencies for testlist.c.

	* dlls/commdlg/cdlg_Si.rc, dlls/winmm/winmm_Si.rc:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Fixed some characters.

	* aclocal.m4, configure, configure.ac:
	Added WINE_CHECK_DEFINE macro to factor out some repeated code.

	* dlls/kernel/time.c, dlls/ntdll/ntdll.spec, dlls/ntdll/time.c,
	  files/dos_fs.c, include/winternl.h:
	György 'Nog' Jeney <nog@sdf.lonestar.org>
	- Implement RtlLocalTimeToSystemTime and RtlSystemTimeToLocalTime.
	- Use new time functions to reimplement FileTimeToLocalTime and
	  LocalTimeToFileTime.

	* tools/runtest: Francois Gouget <fgouget@free.fr>
	Fix stderr redirection.
	Simplify $infile existence test.

	* include/wine/test.h: Francois Gouget <fgouget@free.fr>
	When reporting a test failure, only report the file name, not the full
	path.
	Merge winetest_set_trace_location with winetest_set_ok_location.

	* dlls/kernel/tests/path.c: From: Francois Gouget <fgouget@free.fr>
	'"' is an illegal character on Win9x so we cannot test it.
	GetShortPathNameA behaves differently on Win9x and NT: on NT it
	succeeds even if not all path components exist, as long as they are
	already in the 8.3 format.
	Wine apparently implements the NT behavior thus many todo_wine went
	away.
	Fixed some error code checks to take into account all possible return
	values.
	GetTempFileNameA appears to only use the lower 16bits of the id on
	Win95 (and never returns more than 16 bits on other platforms).
	GetLongPathNameA is missing on some Windows versions.
	Modified the GetTempPath tests to make sure they return the expected
	value. Removed the redundant tests (e.g. if buf[0]==0 then buf!="foo",
	no need to test both).
	The 'len_with_null - 1' case is not testable as the Windows behavior
	varies too much between versions.
	We cannot check whether Windows touches the buffer either as this
	heavily depends on the Windows version and specific circumstances of
	the call.
	Finally NT4 sometimes exaggerates the required buffer size.

	* programs/wcmd/wcmdmain.c: Sylvain Petreolle <spetreolle@yahoo.fr>
	Implement $V in builtin PROMPT.

2002-12-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dplayx/dplobby.c, dlls/msvcrt/locale.c, dlls/ntdll/exception.c,
	  dlls/ntdll/large_int.c, dlls/ntdll/signal_i386.c,
	  dlls/ntdll/signal_powerpc.c, dlls/oleaut32/parsedt.h,
	  dlls/shlwapi/ordinal.c, dlls/twain/twain.h, dlls/winedos/int17.c,
	  dlls/winedos/int29.c, dlls/winedos/int31.c,
	  dlls/winedos/interrupts.c, dlls/wineps/ppd.c,
	  dlls/wineps/truetype.c, dlls/wineps/type1afm.c,
	  dlls/x11drv/xrender.c, graphics/x11drv/init.c, if1632/relay.c,
	  include/miscemu.h, include/msacm.h, include/msvcrt/stdlib.h,
	  include/windef.h, include/wine/exception.h,
	  include/wine/rpcss_shared.h, include/winnt.h, library/loader.c,
	  memory/instr.c, misc/registry.c, relay32/relay386.c,
	  server/change.c, server/event.c, server/mapping.c, server/mutex.c,
	  server/registry.c, server/request.c, server/semaphore.c,
	  server/timer.c, server/trace.c, tools/winedump/debug.c,
	  tools/winedump/ne.c, tools/winedump/pe.c:
	winnt.h should not be self-contained, it must depend on windef.h so
	that STRICT works correctly; moved some definitions back to windef.h
	where they belong, and removed a couple of definitions that don't
	exist on Windows.

	* dlls/Maketest.rules.in, programs/Makeprog.rules.in,
	  programs/avitools/Makefile.in:
	-DSTRICT is now the default behavior.

	* configure, configure.ac: Steven Edwards <iso_lation@hotmail.com>
	Alpha porting fix.

	* dlls/ntdll/nt.c, dlls/ntdll/ntdll.spec:
	Alberto Massari <alby@exln.com>
	Added parameters to NtXxxPort functions prototypes.

	* include/windef.h: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Add a definition for STRICT.

	* include/winnt.h: Jeff Smith <whydoubt@hotmail.com>
	Added definitions for REG_QWORD and REG_QWORD_LITTLE_ENDIAN.

	* dlls/winedos/int21.c, include/miscemu.h, msdos/dosmem.c,
	  msdos/int21.c:
	Jukka Heinonen <jhei@iki.fi>
	Move int21 country information handling to winedos.
	Improve country information handling.
	Move collate table to upper memory.

	* configure, configure.ac, include/config.h.in, tools/wrc/wrc.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Gracefully degrade to getopt if getopt_long does not exist.

	* dlls/winmm/tests/wave.c: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Suppress some signed/unsigned comparison warning.

	* dlls/shell32/iconcache.c, include/shellapi.h:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Change the return value for ExtractIconEx from HICON to UINT and make
	the function call directly user32.PrivateExtractIconEx.

	* dlls/user/exticon.c, dlls/user/user32.spec, include/winuser.h:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	- Modify ICO_ExtractIconExW to:
	    return more compliant values for usage in PrivateExtractIcons and PrivateExtractIconEx
	    accept and fill in the icon identifier array correctly if provided
	    allow to retrieve both small and large icons together.
	- Simplify PrivateExtraxtIcons
	- Modify PrivateExtractIconExW to:
	   use compatible signature to ExtractIconEx in shell32 which it really is directly
	     as tested on W2K by calling both functions with the same parameters
	   directly call internal extraction function
	   fix error when requesting 1 icon for both sizes

	* dlls/comctl32/comctl32.h, dlls/comctl32/trackbar.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Get rid of generic notification support in comctrl32. The MS docs were
	misleading in that all controls send these notifications. They don't.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Plug a bunch of memory leaks.
	- Make ranges_destroy behave more like free().
	- Fix messed up indentation from tabs set to 4 chars.
	- Updated the documentation.

	* dlls/winmm/wineoss/audio.c: Chris Morgan <cmorgan@alum.wpi.edu>
	Reset the oss device before we try to close it.  Fixes hang on startup
	of Starcraft due to oss device being in a bad state.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/variant.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	VarAdd support for integers.

	* documentation/faq.sgml: Dimitrie O. Paun <dpaun@rogers.com>
	 Update Wine FAQ to latest revision.
	  - Better Bochs/Plex86 info
	  - Add Q&A about upgrading configuration
	  - Replace Deneba's Canvas 7 with Ability Office
	From entries submitted by Tom Wickline.

	* windows/input.c: Mike Hearn <m.hearn@signal.qinetiq.com>
	Make WM_MOUSEHOVER coordinates client relative.

	* include/basetsd.h, include/winnt.h:
	Steven Edwards <iso_lation@hotmail.com>
	Alpha porting fixes.

2002-12-07  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/main.c, tools/winebuild/parser.c,
	  tools/winebuild/winebuild.man.in:
	Replaced 'ignore' spec file directive by the -i option.

	* dlls/Makedll.rules.in: Don't build tests by default just yet.

	* dlls/shell32/iconcache.c, dlls/shell32/shell32.spec,
	  include/shlobj.h:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Add SHDefExtractIcon{AW} function.

	* documentation/debugger.sgml:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Update debugger documentation for when programs hangs.

	* dlls/shlwapi/shlwapi.spec:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Fix signature of SHLWAPI_334 as its string parameter really is an
	output.

	* include/ddraw.h: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Fills the name of the arguments of the COM methods, else MSVC doesn't
	like them.

	* files/drive.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	Moved implementation of GetDiskFreeSpaceEx from ascii to unicode.

	* dlls/kernel/kernel32.spec, dlls/winedos/devices.c,
	  dlls/winedos/dosexe.h, dlls/winedos/himem.c, dlls/winedos/int21.c,
	  dlls/winedos/module.c, include/msdos.h, msdos/int21.c:
	Jukka Heinonen <jhei@iki.fi>
	Move int08 stub and LOL to upper memory.
	Move simple int21 functions to winedos.

2002-12-06  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makedll.rules.in, dlls/Maketest.rules.in,
	  programs/Makeprog.rules.in, tools/winebuild/build.h,
	  tools/winebuild/main.c, tools/winebuild/res32.c,
	  tools/winebuild/winebuild.man.in:
	Check file header to differentiate between object files and resources
	so that the -r option is not necessary.

	* tools/Makefile.in: Fixed mingwrap install command.

	* dlls/wininet/tests/http.c:
	Fixed the list of accepted types passed to HttpOpenRequestA.

	* dlls/shell32/shell32_main.h, dlls/shell32/shellord.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Implement ParseFieldW function based on its ANSI sibling.

	* dlls/wininet/http.c: Alberto Massari <alby@exln.com>
	 - When sending a request using HttpOpenRequest/HttpSendRequest, send the
	   User-Agent header; fixed the Accept and the Referer header handling to
	   really work.
	 - Fixed bug in the HTTP_ProcessHeader: when a second value was supposed to be
	   added to an existing one, the buffer was reduced to be 1 char long instead
	   of being expanded, due to the precedence rules of the operator '?'.
	 - Added support for opening URLs that redirect to a different place.

	* dlls/comctl32/propsheet.c, include/prsht.h:
	Francois Gouget <fgouget@free.fr>
	Define PSH_WIZARD97 (problem reported by jaymz@free.fr).

	* dlls/winsock/socket.c: Christoph Frick <frick@SC-Networks.de>
	Force (WS_)SO_REUSEADDR before binding to a socket; ignore
	(WS_)SO_DONTROUTE; Network games in Grand Prix Legends and Nascar 2002
	are possible now.

	* dlls/Makedll.rules.in, dlls/Maketest.rules.in:
	Build test programs as part of the normal build.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Fix some parameter types.

	* include/objbase.h, include/wine/obj_base.h:
	Ove Kaaven <ovek@transgaming.com>
	Moved COM API prototypes in include/wine/obj_base.h to
	include/objbase.h.

	* tools/wrc/wrc.c: Dimitrie O. Paun <dpaun@rogers.com>
	Make wrc command line compatible with windres.

	* tools/Makefile.in:
	Fixed passing of -DINCLUDEDIR when building mingwrap.

	* include/Makefile.in: Dimitrie O. Paun <dpaun@rogers.com>
	Install DDK headers as well.

2002-12-05  Alexandre Julliard  <julliard@winehq.com>

	* include/objbase.h: Added rpc.h include to fix tests compilation.

	* dlls/comctl32/imagelist.c, dlls/ddraw/d3dcommon.c,
	  dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dexecutebuffer.c, dlls/ddraw/d3dlight.c,
	  dlls/ddraw/d3dmaterial.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/d3dvertexbuffer.c, dlls/ddraw/d3dviewport.c,
	  dlls/ddraw/mesa.c, dlls/dplayx/dpclassfactory.c,
	  dlls/ole32/antimoniker.c, dlls/ole32/bindctx.c,
	  dlls/ole32/compobj.c, dlls/ole32/compositemoniker.c,
	  dlls/ole32/datacache.c, dlls/ole32/errorinfo.c,
	  dlls/ole32/filemoniker.c, dlls/ole32/ftmarshal.c, dlls/ole32/ifs.c,
	  dlls/ole32/itemmoniker.c, dlls/ole32/moniker.c,
	  dlls/ole32/ole32_main.c, dlls/ole32/ole32_main.h,
	  dlls/ole32/oleobj.c, dlls/ole32/stg_bigblockfile.c,
	  dlls/ole32/storage.c, dlls/ole32/storage32.h,
	  dlls/oleaut32/connpt.c, dlls/oleaut32/dispatch.c,
	  dlls/oleaut32/olefont.c, dlls/oleaut32/safearray.c,
	  dlls/oleaut32/tmarshal.c, dlls/oleaut32/typelib.c,
	  dlls/rpcrt4/cproxy.c, dlls/rpcrt4/cpsf.c, dlls/rpcrt4/cstub.c,
	  dlls/rpcrt4/ndr_marshall.c, dlls/rpcrt4/ndr_midl.c,
	  dlls/rpcrt4/ndr_ole.c, dlls/shdocvw/classinfo.c,
	  dlls/shdocvw/shdocvw.h, dlls/shell32/dragdrophelper.c,
	  dlls/shell32/folders.c, dlls/shell32/shellfolder.h,
	  dlls/shell32/shellord.c, dlls/shell32/shfldr_desktop.c,
	  dlls/shell32/shfldr_fs.c, dlls/shell32/shfldr_mycomp.c,
	  dlls/shell32/shlfolder.c, dlls/shell32/shlmenu.c,
	  dlls/shell32/shv_bg_cmenu.c, dlls/shell32/shv_item_cmenu.c,
	  dlls/shlwapi/clist.c, dlls/shlwapi/istream.c,
	  dlls/shlwapi/ordinal.c, dlls/shlwapi/regstream.c,
	  dlls/shlwapi/thread.c, include/dplay.h, include/oaidl.h,
	  include/objbase.h, include/objidl.h, include/ocidl.h, include/ole.h,
	  include/ole2.h, include/oleauto.h, include/olectl.h,
	  include/oledlg.h, include/oleidl.h, include/servprov.h,
	  include/shlguid.h, include/shlobj.h, include/unknwn.h,
	  include/urlmon.h, include/wine/obj_base.h, include/wine/obj_misc.h,
	  include/wine/obj_serviceprovider.h:
	Ove Kaaven <ovek@transgaming.com>
	Make sure that no files except unknwn.h include wine/obj_base.h
	directly.

	* dlls/commdlg/filedlg95.c, dlls/ntdll/file.c, dlls/ntdll/heap.c,
	  dlls/ntdll/misc.c, dlls/ntdll/nt.c, dlls/ntdll/om.c,
	  dlls/ntdll/reg.c, dlls/ntdll/sec.c, dlls/ntdll/sync.c,
	  loader/module.c, scheduler/process.c, scheduler/thread.c,
	  win32/device.c:
	Patrik Stridvall <ps@leissner.se>
	Replace 0x%p with %p.

	* dlls/x11drv/keyboard.c: Peter Mladek <pmladek@suse.cz>
	Added 2 more Czech keyboard layouts compatible with XFree86 4.1.

	* dlls/wininet/internet.c, dlls/wininet/urlcache.c,
	  dlls/wininet/wininet.spec, include/wininet.h:
	Alberto Massari <alby@exln.com>
	 - Moved GetUrlCacheEntryInfoA and CommitUrlCacheEntryA to urlcache.c.
	 - Added stub implementation of GetUrlCacheEntryInfoExW.
	 - Implemented InternetQueryOptionW, InternetCombineUrl[A|W].
	 - InternetSetOptionW prints FIXMEs with more informations.
	 - INTERNET_SetLastError was crashing if called after the thread
	   local storage area had already been deleted (it happens if you
	   close Internet Explorer while the download is still in progress).

	* dlls/dsound/dsound_main.c:
	Back out the aRts volume patch, this is not user-friendly at all.

	* configure, configure.ac, dlls/dsound/Makefile.in,
	  dlls/dsound/tests/.cvsignore, dlls/dsound/tests/Makefile.in,
	  dlls/dsound/tests/dsound.c:
	Francois Gouget <fgouget@codeweavers.com>
	A simple test for IDirectSound.GetCaps.

	* documentation/faq.sgml, documentation/wine-doc.sgml,
	  documentation/wine-faq.sgml:
	Francois Gouget <fgouget@codeweavers.com>
	Wrap faq.sgml in an article tag in wine-doc.sgml.
	Set the article class to 'faq'.
	Move the title to faq.sgml.

	* documentation/testing.sgml: Francois Gouget <fgouget@codeweavers.com>
	Removed references to the Perl tests.
	Added a section describing how to build and run tests on Windows.
	The Visual C++ section should be relatively complete but the MinGW and
	cross-compiling section still need some work.

	* include/wine/obj_extracticon.h:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Add prototypes for IExtractIconW interface.

	* dlls/oleaut32/tmarshal.c: Marcus Meissner <meissner@suse.de>
	Marshal VT_R4 (4 byte float).

	* tools/.cvsignore, tools/Makefile.in, tools/mingwrap.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	New MinGW wrapper that makes gcc on Linux behave like MinGW on
	Windows, using the Wine headers.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/direct3d/main.c,
	  dlls/ddraw/direct3d/main.h, dlls/ddraw/direct3d/mesa.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Have only one GUID for Wine's OpenGL D3D device.

	* tools/wineinstall: Sylvain Petreolle <spetreolle@yahoo.fr>
	Install apps in windows\system since that's what the system directory
	is set to in the config file.

	* dlls/winsock/socket.c:
	Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	Correct 2 bugs connected to asynchronous shutdown():
	- Cannot call WSAGetOverlappedResult() because completion function
	  destroys the overlapped structure.
	- ws2_async_cleanup() called twice in case of failure.

	* dlls/winsock/tests/sock.c:
	Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	Set the socket to overlapped mode.

	* dlls/rpcrt4/tests/rpc.c: Francois Gouget <fgouget@free.fr>
	Skip Unicode tests if there's no Unicode support.

	* dlls/dsound/dsound_main.c: Francois Gouget <fgouget@codeweavers.com>
	Return an error if dwSize is not valid.
	No need to dump dwFlags before it is initialized.

	* include/msvcrt/errno.h: Francois Gouget <fgouget@free.fr>
	Added EDEADLOCK.

2002-12-03  Alexandre Julliard  <julliard@winehq.com>

	* Make.rules.in, include/Makefile.in:
	Added rules for compiling IDL files.

	* documentation/.cvsignore, documentation/Makefile.in:
	Added rules for building the FAQ.

	* controls/combo.c, controls/listbox.c, controls/scroll.c,
	  dlls/comctl32/rebar.c, dlls/user/hook.c, dlls/user/hook16.c,
	  dlls/user/message.c, dlls/user/message.h, dlls/user/msg16.c,
	  dlls/user/user_main.c, dlls/user/winproc.h, dlls/x11drv/event.c,
	  dlls/x11drv/window.c, dlls/x11drv/winpos.c, include/input.h,
	  include/message.h, include/queue.h, include/spy.h,
	  include/sysmetrics.h, include/user.h, include/win.h,
	  include/winproc.h, windows/class.c, windows/cursoricon.c,
	  windows/defdlg.c, windows/defwnd.c, windows/input.c,
	  windows/message.c, windows/painting.c, windows/queue.c,
	  windows/spy.c, windows/syscolor.c, windows/sysmetrics.c,
	  windows/sysparams.c, windows/timer.c, windows/user.c, windows/win.c,
	  windows/winpos.c, windows/winproc.c:
	Removed input.h, queue.h, spy.h and sysmetrics.h and moved their
	contents to user.h.
	Moved message.h and winproc.h to dlls/user.

	* documentation/faq.sgml, documentation/make_winehq,
	  documentation/wine-doc.sgml, documentation/wine-faq.sgml:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Added the FAQ, and build it when creating the documentation for the
	website.

	* scheduler/process.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Use COMSPEC command interpreter to run .bat files.

	* msdos/int21.c: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Fixed error checking in file creation and closing.

	* dlls/ddraw/mesa.c: Christian Costa <titan.costa@wanadoo.fr>
	Add support for D3DBLEND_ONE for D3DRENDERSTATE_{DEST/SRC}BLEND.

	* dlls/icmp/icmp_main.c, include/Makefile.in, include/icmpapi.h,
	  include/ipexport.h, include/wine/icmpapi.h, include/wine/ipexport.h:
	Install ipexport.h and icmpapi.h with the other Windows includes.

	* dlls/oleaut32/variant.c, include/wine/obj_oleaut.h,
	  include/wtypes.h, include/wtypes.idl:
	Ove Kaaven <ovek@transgaming.com>
	Added more types to wtypes.idl.

	* dlls/winsock/tests/sock.c:
	Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	Fixed test to run fine (0 errors) on Win NT.

	* dlls/shell32/shell32.spec, dlls/shell32/shellord.c,
	  include/shlobj.h:
	Alberto Massari <alby@exln.com>
	SHGetSetSettings has now the right signature and the expected behavior
	when the user is asking to get the current settings.

	* dlls/shell32/iconcache.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Fix ANSI->Unicode calling for ExtractIconExA/W.

	* dlls/user/exticon.c, dlls/user/user32.spec, include/winuser.h:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Modify PrivateExtractIcons{AW} to match better current MDSN
	documentation.

	* include/Makefile.in: Dimitrie O. Paun <dpaun@rogers.com>
	Change header install location as such:
	  ${prefix}/include/wine/windows  -- standard Windows headers
	  ${prefix}/include/wine/msvcrt   -- MS Visual C Runtime library
	  ${prefix}/include/wine          -- Wine specific headers

	* dlls/gdi/freetype.c, dlls/gdi/mfdrv/objects.c,
	  dlls/gdi/win16drv/init.c, dlls/ntdll/signal_powerpc.c,
	  dlls/ttydrv/objects.c, dlls/ttydrv/ttydrv.h,
	  dlls/ttydrv/ttydrv_main.c, dlls/ttydrv/user.c,
	  dlls/x11drv/x11font.h, graphics/fontengine.c, graphics/painting.c,
	  graphics/path.c, graphics/x11drv/xfont.c, include/font.h,
	  include/gdi.h, include/path.h, include/x11font.h, loader/task.c,
	  objects/dc.c, objects/font.c, objects/gdiobj.c:
	Merged font.h and path.h into gdi.h. Moved x11font.h to
	dlls/x11drv. Removed a number of unnecessary #includes.

	* tools/widl/header.c, tools/widl/header.h, tools/widl/parser.l,
	  tools/widl/parser.y, tools/widl/proxy.c, tools/widl/widl.c,
	  tools/widl/widl.h, tools/widl/widltypes.h:
	Ove Kaaven <ovek@transgaming.com>
	Parse the NOT operator, the [idempotent] attribute, and the handle_t
	and error_status_t types. Improved some parsing rules to get rid of
	the LINK_LAST and LINK_SAFE macros. Enclose generated .h file within
	an extern "C" (for C++). Output function prototypes for regular RPC
	interfaces.  Fixed a couple of bugs.

	* dlls/winedos/int21.c, msdos/int21.c: Jukka Heinonen <jhei@iki.fi>
	Clean up int21 handling. Move error handling to winedos.
	Call INT_Int21Handler only to emulate selected functions.

2002-12-02  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/kernel32.spec, dlls/winedos/Makefile.in,
	  dlls/winedos/dosexe.h, dlls/winedos/dosvm.c, dlls/winedos/himem.c,
	  dlls/winedos/int67.c, include/miscemu.h, msdos/dosmem.c:
	Jukka Heinonen <jhei@iki.fi>
	Move DPMI segments to winedos.

	* dlls/ddraw/d3dtexture.c, dlls/ddraw/d3ddevice/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- only handle memory allocation for non-already loaded textures
	- implement GetCaps for D3DDevice7

	* configure, configure.ac, dlls/rpcrt4/Makefile.in,
	  dlls/rpcrt4/rpc_binding.h, dlls/rpcrt4/rpc_epmap.c,
	  dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c,
	  dlls/rpcrt4/rpcss_np_client.c, dlls/rpcrt4/rpcss_np_client.h,
	  include/rpcdce.h, include/rpcdcep.h, include/rpcndr.h,
	  include/winbase.h, include/wine/rpcss_shared.h,
	  programs/Makefile.in, programs/rpcss/.cvsignore,
	  programs/rpcss/Makefile.in, programs/rpcss/epmap_server.c,
	  programs/rpcss/np_server.c, programs/rpcss/rpcss.h,
	  programs/rpcss/rpcss_main.c:
	Greg Turner <gmturner007@ameritech.net>,
	Ove Kaaven <ovek@transgaming.com>
	- preliminary implementation of endpoint-mapping via a new on-demand
	  server-ish process
	- more header fixups
	- (re)implement RpcEpRegisterA, RpcEpUnregister, and
	  RpcEpResolveBinding using the new rpcss functionality
	- update the todo list in rpcrt4_main.c a bit
	- many beautifications and touch-ups
	- command-line configurable timeout
	- micro-client imbedded in np_server.c

	* dlls/ddraw/d3ddevice/mesa.c: Christian Costa <titan.costa@wanadoo.fr>
	Handle D3DLIGHTSTATE_COLORVERTEX to prevent SetLightState from
	failing.

	* dlls/cabinet/Makefile.in, dlls/cabinet/fci.c, dlls/cabinet/fdi.c,
	  include/fci.h, include/fdi.h:
	Patrik Stridvall <ps@leissner.se>
	Added FIXME:s in the stubs.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/main.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- implement the texturing the D3D3 way
	- prepare for multi-texturing support

	* include/wingdi.h: Ove Kaaven <ovek@transgaming.com>
	Protect PALETTEENTRY and LOGPALETTE with #ifndefs.

	* dlls/kernel/kernel32.spec, dlls/winedos/int21.c, msdos/dpmi.c,
	  msdos/int21.c:
	Jukka Heinonen <jhei@iki.fi>
	Rename old DOS3Call as INT_Int21Handler and make new DOS3Call call
	directly winedos int21 handler.

	* dlls/winedos/int13.c, win32/device.c: Jukka Heinonen <jhei@iki.fi>
	Move int13 handler to winedos.

	* dlls/winmm/midimap/midimap.c: Jeff Smith <whydoubt@hotmail.com>
	Fix for MIDI Mapper.

	* controls/button.c, controls/combo.c, controls/edit.c,
	  dlls/avifil32/acmstream.c, dlls/avifil32/api.c,
	  dlls/avifil32/avifile.c, dlls/avifil32/extrachunk.c,
	  dlls/avifil32/getframe.c, dlls/avifil32/icmstream.c,
	  dlls/avifil32/wavfile.c, dlls/comctl32/animate.c,
	  dlls/comctl32/comboex.c, dlls/comctl32/commctrl.c,
	  dlls/comctl32/datetime.c, dlls/comctl32/flatsb.c,
	  dlls/comctl32/header.c, dlls/comctl32/hotkey.c,
	  dlls/comctl32/ipaddress.c, dlls/comctl32/listview.c,
	  dlls/comctl32/monthcal.c, dlls/comctl32/nativefont.c,
	  dlls/comctl32/pager.c, dlls/comctl32/progress.c,
	  dlls/comctl32/rebar.c, dlls/comctl32/status.c, dlls/comctl32/tab.c,
	  dlls/comctl32/toolbar.c, dlls/comctl32/tooltips.c,
	  dlls/comctl32/trackbar.c, dlls/comctl32/treeview.c,
	  dlls/comctl32/updown.c, dlls/commdlg/filedlg95.c,
	  dlls/ddraw/dsurface/dib.c, dlls/imm32/imm.c,
	  dlls/kernel/tests/alloc.c, dlls/msacm/filter.c, dlls/msacm/format.c,
	  dlls/msacm/imaadp32/imaadp32.c, dlls/msacm/msacm32_main.c,
	  dlls/msacm/msadp32/msadp32.c, dlls/msacm/msg711/msg711.c,
	  dlls/msacm/pcmconverter.c, dlls/msacm/stream.c,
	  dlls/msacm/winemp3/mpegl3.c, dlls/msvideo/mciwnd.c,
	  dlls/msvideo/msvideo_main.c, dlls/ole32/ole2stubs.c,
	  dlls/richedit/richedit.c, dlls/setupapi/virtcopy.c,
	  dlls/shell32/control.c, dlls/shell32/dialogs.c,
	  dlls/shell32/shlexec.c, dlls/shlwapi/assoc.c,
	  dlls/shlwapi/ordinal.c, dlls/shlwapi/reg.c,
	  dlls/shlwapi/regstream.c, dlls/shlwapi/tests/shreg.c,
	  dlls/ttydrv/bitmap.c, dlls/ttydrv/wnd.c, dlls/user/dde/client.c,
	  dlls/user/dde/misc.c, dlls/user/dde/server.c, dlls/user/resource.c,
	  dlls/winedos/vga.c, dlls/x11drv/winpos.c, graphics/path.c,
	  objects/enhmetafile.c, programs/wineconsole/user.c,
	  programs/winver/winver.c, windows/dialog.c, windows/multimon.c,
	  windows/painting.c:
	Francois Gouget <fgouget@free.fr>
	Removed unnecessary HANDLE typecasts.

2002-11-30  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ddraw/d3ddevice/mesa.c: Christian Costa <titan.costa@wanadoo.fr>
	Add D3D capability.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/d3dvertexbuffer.c, dlls/ddraw/direct3d/mesa.c,
	  dlls/ddraw/helper.c, dlls/ddraw/mesa_private.h, include/ddraw.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- actually use the VertexBuffer stubs
	- implement Lock function to prevent crash when the stubs are used

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/direct3d/mesa.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Beginning of support for D3D7 / D3DDevice7.

	* dlls/Makedll.rules.in, dlls/Maketest.rules.in, programs/Makefile.in,
	  programs/Makeprog.rules.in, programs/avitools/Makefile.in:
	Removed some checklink rules made unnecessary by the -z defs linker
	flag.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	 - some more code sharing between D3DDevice versions
	 - implementation of D3DFVF_TLVERTEX format fast path

	* include/msvcrt/stddef.h: Dimitrie O. Paun <dpaun@rogers.com>
	Add a way to tell msvcrt to define wchar_t.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dviewport.c,
	  dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	 - fixed D3DFVF_VERTEX case
	 - some other miscellaneous fixes

	* programs/winedbg/README: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Change CRLF end of lines in LF only.

	* dlls/ddraw/d3dviewport.c, dlls/ddraw/ddraw_private.h,
	  dlls/ddraw/helper.c, dlls/ddraw/d3ddevice/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	 - start of support for device locking / unlocking via glReadPixels /
	   glDrawPixels interface (slow but should be enough for a start)
	 - implement one vertex case for the D3D3/7 DrawPrimitive functions
	 - fix a missing \n in a TRACE call

	* dlls/kernel/nls/bel.nls: Hleb Valoska <el_globus@tut.by>
	Some fixes to Belarusian locale.

	* tools/winapi/msvcmaker: Patrik Stridvall <ps@leissner.se>
	- Fixed bug caused by changes to Wine.
	- Added support for running all the tests in batch.

	* dlls/kernel/tests/thread.c: Francois Gouget <fgouget@free.fr>
	{Get,Set}ThreadPriorityBoost and SetThreadIdealProcessor are missing
	on Win95 -> use GetProcAddress.
	Cleanup the handling of OpenThread.
	Check SuspendThread after a thread terminates (needed by Ipix).
	Remove unnecessary version checks (check for
	ERROR_CALL_NOT_IMPLEMENTED and similar instead).
	Cleanup casts, signed/unsigned comparisons.

	* dlls/kernel/tests/drive.c: Francois Gouget <fgouget@free.fr>
	GetDiskFreeSpace(all NULLs) crashes on NT4 -> removed.
	GetDiskFreeSpace("." | "..") fails on Win98 and NT4 but succeeds on XP
	-> removed.
	Skip the GetDiskFreeSpace tests on floppy drives because NT pops up a
	MessageBox if no floppy is present.
	Fix the error code checks to take into account the differences between
	Win9x, NT4 and XP.
	Skip the unicode tests if the first call returns
	ERROR_CALL_NOT_IMPLEMENTED.
	Whenever a test fails, print sufficient information (typically return
	code and GetLastError()!) to let the developer figure out what is
	wrong.

	* dlls/kernel/tests/environ.c: Francois Gouget <fgouget@free.fr>
	SetEnvironmentVariableA(NULL, NULL) crashes on Win98 -> removed.
	SetEnvironmentVariableA("", value) crashes on NT4 -> removed.
	The behavior of SetEnvironmentVariableA("", "") varies to much ->
	removed.
	Test the behavior of SetEnvironmentVariable{A,W}(name, "") taking into
	account the differences between Win9x and NT.
	Test the behavior of GetEnvironmentVariable{A,W}(name, buf, 0).
	Fix the error code checks to take into account the differences between
	Win9x, NT4 and XP.
	Skip the unicode tests if the first call returns
	ERROR_CALL_NOT_IMPLEMENTED.
	Whenever a test fails, print sufficient information (typically return
	code and GetLastError()!) to let the developer figure out what is
	wrong.

	* dlls/shell32/iconcache.c, dlls/shell32/shell32.spec,
	  include/shellapi.h:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Added stub implementation with correct prototypes for
	ExtractAssociatedIconExA/W.

	* programs/Makefile.in:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Make wcmd available from inside the source tree.

	* dlls/ddraw/d3ddevice/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Implemented GetRenderTarget.

	* dlls/ddraw/direct3d/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Added enumeration of ZBuffer format.

	* documentation/debugger.sgml:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Update the debugger documentation for current usage.

	* dlls/kernel/tests/thread.c, scheduler/thread.c:
	Partially implemented kernel/user times in GetThreadTimes (based on a
	patch by Ryan Cumming).

	* dlls/opengl32/wgl.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Implement wglCreateLayerContext for layer 0.

	* dlls/ddraw/d3ddevice/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Do not forget to AddRef the returned Direct3D interface.

	* dlls/x11drv/x11ddraw.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Add DDCAPS2_CANRENDERWINDOWED capabilities to our DDraw driver.

	* include/winbase.h: Francois Gouget <fgouget@free.fr>
	Added declaration for SignalObjectAndWait.

	* include/msvcrt/stdlib.h: Francois Gouget <fgouget@free.fr>
	Added constants for _set_error_mode().

	* dlls/winmm/winmm.c: Jeff Smith <whydoubt@hotmail.com>
	Fixed 32 bit flag in midiOutShortMsg.

	* include/ddraw.h: Christian Costa <titan.costa@wanadoo.fr>
	Replace LPDDSURFACEDESC by LPDDSURFACEDESC2 in IDirectDrawSurface4
	methods declaration.

	* dlls/winedos/int10.c: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Fixed text mode value.

	* include/mmsystem.h: Francois Gouget <fgouget@codeweavers.com>
	Add the 48 and 96kHz WAVE_FORMAT constants.

	* tools/widl/header.c, tools/widl/header.h, tools/widl/parser.h,
	  tools/widl/parser.l, tools/widl/parser.y, tools/widl/widltypes.h:
	Ove Kaaven <ovek@transgaming.com>
	Handle encapsulated unions in a cleaner (and less buggy) way. Emit the
	names "DUMMYUNIONNAME" and "DUMMYSTRUCTNAME" for anonymous unions and
	structs. Support const and extern definitions. Retain tokens (and
	whether numbers are hex or not) used for computing constant
	expressions, so that the full expression can be written to the header
	file instead of the computed integer result of the expression. Parse
	the sizeof() operator.  Compute and remember constant definitions and
	enum values so they can be used in expressions. Improved identifier
	lookup speed. Fixed some bugs.

	* include/wtypes.idl: Ove Kaaven <ovek@transgaming.com>
	Added missing union names for some encapsulated unions.

	* dlls/ddraw/d3ddevice/mesa.c: Lionel Ulmer <lionel.ulmer@free.fr>
	- fix caps filling to be more in line with what we support
	- optimize a little bit the DrawPrimitive function

	* files/file.c: Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	Fixed some problems with asynchronous file IO.

2002-11-27  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw_private.h,
	  dlls/ddraw/dsurface/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	 - fix texture snooping (plus adds snoop for 1555 format)
	 - add texture memory usage tracking

	* dlls/kernel/computername.c, dlls/kernel/kernel32.spec,
	  include/winbase.h:
	Steve Lustbader <steve.lustbader@philips.com>
	Provide stubs for DnsHostnameToComputerNameA/W.

	* dlls/msvideo/msvfw32.spec, dlls/msvideo/msvideo_main.c,
	  dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Added definitions for a couple of stub functions that we import so
	that we don't import stubs directly.

	* dlls/kernel/kernel32.spec, dlls/ntdll/ntdll.spec,
	  graphics/x11drv/opengl.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* dlls/kernel/kernel32.spec, dlls/ntdll/Makefile.in,
	  dlls/winedos/Makefile.in, dlls/winedos/dosexe.h,
	  dlls/winedos/int25.c, dlls/winedos/int26.c,
	  dlls/winedos/interrupts.c, include/miscemu.h, msdos/int25.c,
	  msdos/int26.c:
	Jukka Heinonen <jhei@iki.fi>
	Moved handlers for int25 and int26 to winedos.

	* objects/font.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	EnumFont16 should enumerate gdi fonts too.

	* dlls/comctl32/treeview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Typesafe parameters from TREEVIEW_NotifyFormat.
	- Rewrite TREEVIEW_NotifyFormat.
	- Fix several invocations of TREEVIEW_SendTreeviewNotify.

	* include/winbase.h: Francois Gouget <fgouget@free.fr>
	Added SwitchToThread.

	* dlls/ntdll/time.c: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Fix for implicit declaration of abs.

	* dlls/x11drv/xrender.c: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Fix for deprecated use of label at the end of compound statement.

	* dlls/kernel/tests/locale.c, ole/ole2nls.c:
	Bill Medland <medbi01@accpac.com>
	Correct GetNumberFormatA for zero decimals and for zero grouping.

	* programs/winhelp/winhelp.c: Matthew Davison <m.davison@virgin.net>
	Prevent Winhelp from crashing when it can't find the helpfile.

	* include/d3d.h, include/ddraw.h:
	Christian Costa <titan.costa@wanadoo.fr>
	Add some DDRAW and D3D definitions.

	* tools/winapi/options.pm, tools/winapi/win32.api,
	  tools/winapi/winapi.pm, tools/winapi/winapi_check_options.pm,
	  tools/winapi_check/modules.dat, tools/winapi_check/modules.pm,
	  tools/winapi_check/winapi_check, tools/winapi_check/winapi_local.pm:
	Patrik Stridvall <ps@leissner.se>
	- API files update.
	- Minor improvement and bug fixes.

2002-11-25  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, VERSION, configure: Release 20021125.

----------------------------------------------------------------
2002-11-25  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac, include/config.h.in, library/port.c,
	  scheduler/pthread.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed pthreads on FreeBSD (based on patch by Alexandre Julliard).

	* windows/dialog.c: Added CS_DBLCLKS style to dialog window class.

	* objects/font.c: Shachar Shemesh <wine-patches@sun.consumer.org.il>
	Change some of the number seperators to "Neutral" rather than "Left to
	right".

	* dlls/kernel/kernel32.spec, include/winbase.h, scheduler/timer.c:
	Steve Lustbader <steve.lustbader@philips.com>
	Stubs for CreateTimerQueue and DeleteTimerQueueEx.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/service.c,
	  dlls/ntdll/ntdll.spec, include/winsvc.h:
	Steve Lustbader <steve.lustbader@philips.com>
	Assorted Win2k/WinXP stubs.

	* dlls/msvcrt/file.c, dlls/msvcrt/msvcrt.spec:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Converted implementation of _lseek to _lseeki64, implemented _lseek by
	calling _lseeki64.

	* dlls/advapi32/registry.c, include/wine/server_protocol.h,
	  include/winnt.h, server/handle.c, server/object.h,
	  server/protocol.def, server/registry.c, server/request.h,
	  server/trace.c:
	Mike McCormack <mike@codeweavers.com>
	Implemented registry change notifications.

	* graphics/x11drv/graphics.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	X11DRV_DrawArc: Don't overwrite the ENDCAP style.

	* graphics/x11drv/pen.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	X11DRV_SelectPen(): Don't use a pen with half the width.

	* dlls/comctl32/propsheet.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added the missing cx member to the MyDLGITEMTEMPLATEEX struct.

	* dlls/msvcrt/file.c, dlls/msvcrt/msvcrt.spec:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Converted implementation of _stat and _fstat to _stati64 and
	_fstati64.
	Implemented _stat/_fstat by calling _stati64/_fstati64.

	* dlls/oleaut32/variant.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Add support for VarAnd between integers.

	* dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw_private.h,
	  dlls/ddraw/dsurface/main.c, dlls/ddraw/helper.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- Prevent the backbuffer to also have the frontbuffer flag set.
	- Log the Locking flags.
	- Print symbolic name (if any) of zero values for bit fields (thanks
	  Andi).

	* dlls/kernel/tests/thread.c:
	Moved some GetThreadTimes tests out of the todo block.

	* include/wine/server_protocol.h, scheduler/thread.c,
	  server/protocol.def, server/thread.c, server/thread.h,
	  server/trace.c:
	Ryan Cumming <ryan@completely.kicks-ass.org>
	Partially implement GetThreadTimes.

	* misc/registry.c: Warnings fixes.

	* dlls/kernel/time.c, dlls/ntdll/ntdll.spec, dlls/ntdll/time.c,
	  include/winternl.h:
	György 'Nog' Jeney <nog@sdf.lonestar.org>
	- Move SetSystemTime, GetTimeZoneInformation and
	  SetTimeZoneInformation implementation to ntdll.
	- Docu updates.

	* dlls/comctl32/listview.c: Aric Stewart <aric@codeweavers.com>
	LVN_GETDISPINFO seems to always be Ansi.

	* objects/dib.c: Steve Lustbader <steve.lustbader@philips.com>
	StretchDIBits: avoid crash on null pointers.

	* controls/scroll.c: Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Add support for painting SBS_SIZEBOX style properly.

2002-11-24  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/kernel32.spec, dlls/ntdll/Makefile.in,
	  dlls/winedos/Makefile.in, dlls/winedos/dosexe.h,
	  dlls/winedos/int11.c, dlls/winedos/int15.c, dlls/winedos/int5c.c,
	  dlls/winedos/interrupts.c, include/miscemu.h, msdos/dpmi.c,
	  msdos/int11.c, msdos/int15.c, msdos/int5c.c:
	Jukka Heinonen <jhei@iki.fi>
	Moved handlers for int11, int15 and int5c to winedos.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c,
	  dlls/ddraw/direct3d/main.c, dlls/ddraw/direct3d/main.h,
	  dlls/ddraw/direct3d/mesa.c, dlls/ddraw/mesa_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- add implementation for FindDevice function
	- some miscellaneous clean-ups / additions

	* misc/registry.c:
	Replace most PROFILE_GetWineIni calls by direct registry accesses.
	Keep the config key open to query all values instead of re-opening it
	all the time.

	* documentation/Makefile.in:
	Added dist rule for building the distribution tarballs.

	* dlls/shell32/systray.c:
	Added CS_DBLCLKS so that systray receives double clicks.

	* dlls/winedos/int10.c, dlls/winedos/int33.c, dlls/winedos/vga.c,
	  dlls/winedos/vga.h:
	Jukka Heinonen <jhei@iki.fi>
	VGA text mode no longer flickers and it is much faster.
	VGA text mode is now initialized earlier.
	VGA text mode is now emulated even without console.

	* dlls/user/hook.c: Bill Medland <medbi01@accpac.com>
	Correct UnhookWindowsHook: clear the handle so that the server doesn't
	try to use it.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dexecutebuffer.c,
	  dlls/ddraw/direct3d/main.c, dlls/ddraw/direct3d/mesa.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Reenable OpenGL surface's flip method.
	Reenable execute buffers.
	Some bug fixes.

	* dlls/dinput/dinput_main.c: Jens Hoffmann <hoffmajs@gmx.de>
	Pass correct instance in keyboard_hook setup.

	* windows/mdi.c, windows/msgbox.c, windows/nonclient.c, windows/win.c:
	Matthew Davison <m.davison@virgin.net>
	Fix some unicode->ascii calls.

	* tools/widl/parser.y: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Avoid using labels at the end of commpound statements.

2002-11-23  Alexandre Julliard  <julliard@winehq.com>

	* files/profile.c, include/file.h, loader/main.c:
	Removed no longer needed PROFILE_LoadWineIni().

	* dlls/kernel/kernel32.spec, dlls/ntdll/Makefile.in,
	  dlls/winedos/Makefile.in, dlls/winedos/dosexe.h,
	  dlls/winedos/int2f.c, dlls/winedos/interrupts.c, include/miscemu.h,
	  msdos/int2f.c:
	Jukka Heinonen <jhei@iki.fi>
	Move int2f handler to winedos.
	Clean winedos headers a bit.

	* configure, configure.ac, documentation/.cvsignore,
	  documentation/Makefile.in:
	 Vincent Béron <vberon@mecano.gme.usherb.ca>
	The default behavior of "make everything" is now to build separate
	guides rather than the big one.
	Determines the name of the installed docbook filter (db2html or
	docbook2html, etc.) in configure, defaulting to false if absent.

	* windows/input.c: Mike Hearn <m.hearn@signal.qinetiq.com>
	Altered WM_MOUSEHOVER so the lParam and wParam fields are set
	correctly to virtual key states and cursor position.

	* include/wine/server_protocol.h, include/winnt.h,
	  server/protocol.def:
	Removed the WINE_NO_STRICT support.

	* include/basetsd.h: Dimitrie O. Paun <dpaun@rogers.com>
	Allow apps to define  __int{8,16,32,64} on the command line.

2002-11-22  Alexandre Julliard  <julliard@winehq.com>

	* controls/menu.c: Fixed use of HBMMENU_* in switch statements.

	* dlls/gdi/Makefile.in, dlls/gdi/driver.c, dlls/gdi/enhmfdrv/init.c,
	  dlls/gdi/freetype.c, dlls/gdi/mfdrv/init.c, dlls/gdi/printdrv.c,
	  dlls/gdi/win16drv/font.c, dlls/gdi/win16drv/init.c,
	  dlls/gdi/win16drv/text.c, graphics/bitblt.c, graphics/mapping.c,
	  graphics/painting.c, graphics/path.c, objects/bitmap.c,
	  objects/brush.c, objects/clipping.c, objects/dc.c, objects/dib.c,
	  objects/enhmetafile.c, objects/font.c, objects/gdiobj.c,
	  objects/metafile.c, objects/palette.c, objects/region.c:
	Made gdi compile with -DSTRICT.

	* dlls/gdi/printdrv.c, objects/clipping.c, objects/dc.c,
	  objects/gdiobj.c, objects/metafile.c:
	Fixed a number of -DSTRICT issues.

	* controls/combo.c, controls/edit.c, controls/listbox.c,
	  controls/menu.c, controls/scroll.c, controls/uitools.c,
	  dlls/user/Makefile.in, dlls/user/caret.c, dlls/user/comm16.c,
	  dlls/user/focus.c, dlls/user/hook.c, dlls/user/dde/client.c,
	  dlls/user/dde/misc.c, dlls/user/dde/server.c, dlls/user/message.c,
	  dlls/user/misc.c, dlls/user/msg16.c, dlls/user/painting.c,
	  dlls/user/resource.c, dlls/user/text.c, windows/class.c,
	  windows/clipboard.c, windows/cursoricon.c, windows/dce.c,
	  windows/defdlg.c, windows/defwnd.c, windows/dialog.c,
	  windows/input.c, windows/mdi.c, windows/message.c,
	  windows/nonclient.c, windows/painting.c, windows/spy.c,
	  windows/timer.c, windows/user.c, windows/win.c, windows/winpos.c,
	  windows/winproc.c:
	Made user compile with -DSTRICT.

	* files/profile.c, tools/wineinstall:
	Removed support for converting old format config, everybody should
	have converted by now.
	Removed log info from wineinstall, this info is already in ChangeLog.

	* controls/menu.c, dlls/user/dde/client.c, dlls/user/dde/ddeml16.c,
	  dlls/user/dde/misc.c, dlls/user/dde/server.c, dlls/user/message.c,
	  include/cursoricon.h, include/user.h, windows/class.c,
	  windows/clipboard.c, windows/cursoricon.c, windows/dce.c,
	  windows/dialog.c, windows/mdi.c, windows/struct32.c,
	  windows/syscolor.c, windows/win.c, windows/winproc.c:
	Fixed more -DSTRICT issues.

	* dlls/user/text.c, dlls/user/user16.c:
	Properly split the 16-bit versions of GrayString and TabbedTextOut.

	* controls/edit.c, controls/icontitle.c, controls/menu.c,
	  controls/scroll.c, dlls/user/caret.c, dlls/user/focus.c,
	  dlls/user/painting.c, dlls/user/property.c, dlls/user/text.c,
	  dlls/user/user16.c, windows/class.c, windows/clipboard.c,
	  windows/dce.c, windows/mdi.c, windows/syscolor.c, windows/win.c,
	  windows/winhelp.c, windows/winproc.c:
	Moved some more 16-bit functions to user16.c.
	A few fixes for -DSTRICT.

	* dlls/ole32/Makefile.in, dlls/ole32/clipboard.c,
	  dlls/ole32/compobj.c, dlls/ole32/datacache.c, dlls/ole32/ole2.c,
	  dlls/ole32/ole2stubs.c, dlls/ole32/ole32_main.c, dlls/ole32/rpc.c,
	  dlls/ole32/storage.c:
	Compile ole32 with -DSTRICT.

2002-11-21  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/Makefile.in, dlls/shell32/brsfolder.c,
	  dlls/shell32/changenotify.c, dlls/shell32/control.c,
	  dlls/shell32/dialogs.c, dlls/shell32/dragdrophelper.c,
	  dlls/shell32/iconcache.c, dlls/shell32/memorystream.c,
	  dlls/shell32/pidl.c, dlls/shell32/shell.c,
	  dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h,
	  dlls/shell32/shelllink.c, dlls/shell32/shellole.c,
	  dlls/shell32/shellord.c, dlls/shell32/shellpath.c,
	  dlls/shell32/shellreg.c, dlls/shell32/shfldr_desktop.c,
	  dlls/shell32/shfldr_fs.c, dlls/shell32/shfldr_mycomp.c,
	  dlls/shell32/shlexec.c, dlls/shell32/shlmenu.c,
	  dlls/shell32/shlview.c, dlls/shell32/shv_bg_cmenu.c,
	  dlls/shell32/shv_item_cmenu.c, dlls/shell32/systray.c:
	Johan Dahlin <jdahlin@async.com.br>
	Make shell32 compile with -DSTRICT.

	* dlls/commdlg/Makefile.in, dlls/commdlg/cdlg.h,
	  dlls/commdlg/cdlg32.c, dlls/commdlg/colordlg.c,
	  dlls/commdlg/filedlg.c, dlls/commdlg/filedlg95.c,
	  dlls/commdlg/finddlg32.c, dlls/commdlg/fontdlg.c,
	  dlls/commdlg/printdlg.c:
	Andrew John Hughes <hughes2002@btinternet.com>
	Make commdlg compile with -DSTRICT.

	* tools/wineinstall: Matthew Davison <m.davison@virgin.net>
	Remove obsolete --enable-opengl.

	* objects/clipping.c, objects/enhmetafile.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed aliasing problems (do not use (POINT*)&rect constructs).

	* dlls/kernel/console.c, include/wincon.h:
	Marcus Meissner <marcus@jet.franken.de>
	Handle the COORD <-> DWORD conversion the canonical way.

	* dlls/user/message.c: Steve Lustbader <steve.lustbader@philips.com>
	Have PostMessage call PostThreadMessage when hwnd is NULL.

	* include/winsock.h: Dimitrie O. Paun <dpaun@rogers.com>
	Add definition for WSAEDISCON.

	* configure, configure.ac: Removed OpenGL thread safety check.
	Renamed option to --without-opengl for consistency.

	* dlls/gdi/enhmfdrv/objects.c, dlls/gdi/mfdrv/init.c,
	  dlls/gdi/mfdrv/objects.c, dlls/gdi/wing.c, dlls/gdi/win16drv/font.c,
	  dlls/gdi/win16drv/graphics.c, dlls/gdi/win16drv/objects.c,
	  graphics/mapping.c, objects/bitmap.c, objects/brush.c,
	  objects/dcvalues.c, objects/dib.c, objects/enhmetafile.c,
	  objects/font.c, objects/metafile.c, objects/palette.c,
	  objects/pen.c, objects/region.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Some -DSTRICT fixes.

	* include/winsock.h: Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	Fixed circular include sequence winsock.h -> windows.h -> winsock2.h
	-> winsock.h.

	* windows/class.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	Moved implementation of Get/SetClassLong from ascii to unicode.

	* windows/cursoricon.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	Replaced CreateDCA by CreateDCW in LoadImageW.

	* dlls/ddraw/Makefile.in, dlls/ddraw/d3d_private.h,
	  dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/main.h,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dexecutebuffer.c,
	  dlls/ddraw/d3dlight.c, dlls/ddraw/d3dmaterial.c,
	  dlls/ddraw/d3dtexture.c, dlls/ddraw/d3dvertexbuffer.c,
	  dlls/ddraw/d3dviewport.c, dlls/ddraw/ddcomimpl.h,
	  dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw_private.h,
	  dlls/ddraw/direct3d/main.c, dlls/ddraw/direct3d/main.h,
	  dlls/ddraw/direct3d/mesa.c, dlls/ddraw/dsurface/dib.c,
	  dlls/ddraw/dsurface/main.c, dlls/ddraw/mesa.c,
	  dlls/ddraw/mesa_private.h, include/d3d.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- Clean up all the D3D COM handling (but the underlaying code is still
	  as ugly as before).
	- Handle properly (ie as on real Windows) negative values in
	  rectangles during blitting.

	* configure, configure.ac:
	Use the '-z defs' linker option if supported to better catch undefined
	symbols.

	* controls/edit.c: Carl Sopchak <carl.sopchak@cegis123.com>
	Ignore buffer limit on WM_SETTEXT.

	* dlls/gdi/gdi32.spec, include/wingdi.h, objects/dc.c:
	Steve Lustbader <steve.lustbader@philips.com>
	Stub for SetDCBrushColor.

	* dlls/Makedll.rules.in, dlls/Maketest.rules.in,
	  programs/Makeprog.rules.in, programs/avitools/Makefile.in:
	Add -lc when linking dlls to avoid warnings on FreeBSD.

	* dlls/ntdll/Makefile.in, dlls/ntdll/file.c, dlls/ntdll/heap.c,
	  dlls/ntdll/misc.c, dlls/ntdll/nt.c, dlls/ntdll/om.c,
	  dlls/ntdll/reg.c, dlls/ntdll/rtl.c, dlls/ntdll/sec.c,
	  dlls/ntdll/sync.c, dlls/ntdll/virtual.c, files/dos_fs.c,
	  files/file.c, files/smb.c, files/tape.c, loader/module.c,
	  loader/ne/module.c, loader/ne/resource.c, loader/ne/segment.c,
	  loader/pe_image.c, loader/resource.c, memory/global.c,
	  misc/registry.c, relay32/builtin32.c, relay32/snoop.c,
	  scheduler/handle.c, scheduler/process.c, scheduler/syslevel.c,
	  scheduler/thread.c, win32/device.c, win32/except.c, win32/newfns.c:
	Andrew John Hughes <hughes2002@btinternet.com>
	Build ntdll with -DSTRICT.

	* loader/ne/module.c:
	Added wrapper to replace llseek+lread to avoid HANDLE/HFILE
	conversions.

	* tools/wineinstall: Shachar Shemesh <wine-patches@sun.consumer.org.il>
	- If running wineinstall and asking not to install, the symbolic links
	  are no created pointing to the source tree files rather to the
	  (non-existing) $libdir
	- If Windows is found on the system, the installer does not assume
	  that the user is interested in using it. Instead, the user is asked,
	  and if she answers "no", Wine is installed as if no Windows was
	  found.

	* tools/widl/header.c, tools/widl/parser.l, tools/widl/parser.y,
	  tools/widl/proxy.c, tools/widl/widl.c, tools/widl/widl.h:
	Ove Kaaven <ovek@transgaming.com>
	Added "generate headers only" command-line option. Implemented imports
	from inside interface definitions. Fixed a few problems with
	generating header files for COM interfaces.

	* dlls/kernel/kernel32.spec, dlls/kernel/wprocs.spec,
	  dlls/ntdll/Makefile.in, loader/task.c, msdos/int21.c,
	  msdos/interrupts.c, windows/user.c:
	Jukka Heinonen <jhei@iki.fi>
	Removed last users of msdos/interrupts.c.

2002-11-20  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/hook.c, include/wine/server_protocol.h, server/hook.c,
	  server/protocol.def, server/request.c, server/trace.c,
	  server/user.h:
	Added support for system-wide hooks.

	* dlls/msvcrt/msvcrt.spec:
	Removed -noimport on functions that are forwards to ntdll.
	Added -noimport on functions that directly call the libc equivalent.

	* dlls/comctl32/comctl_Cn.rc, dlls/comctl32/rsrc.rc,
	  dlls/commdlg/cdlg_Cn.rc, dlls/commdlg/rsrc.rc,
	  dlls/shell32/shell32_Cn.rc, dlls/shell32/shres.rc, tools/wmc/lang.c:
	Tisheng Chen <shadow@jcnp.pku.edu.cn>
	Added Simplified Chinese support.

	* dlls/msvideo/drawdib.c, dlls/msvideo/msvideo16.c,
	  dlls/msvideo/msvideo_main.c, dlls/msvideo/msvideo_private.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	No longer using Win32 API relative to 16 bit subsystem for the 32 bit
	part.

	* dlls/winmm/wineoss/midi.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Better support for multiple midi devices on the OSS interface.

	* programs/winhelp/hlpfile.c, programs/winhelp/hlpfile.h,
	  programs/winhelp/macro.c, programs/winhelp/string.c,
	  programs/winhelp/winhelp.c, programs/winhelp/winhelp.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Wrote back & history support.
	Correctly implemented << and >> buttons.
	Added support for page level macros.

	* tools/winedump/output.c: Alberto Massari <alby@exln.com>
	winedump was still using the "init" keyword in the .spec file.

	* dlls/kernel/krnl386.exe.spec, include/selectors.h,
	  memory/selector.c, msdos/vxd.c:
	Jukka Heinonen <jhei@iki.fi>
	Remove some Win32s specific code.

	* msdos/int13.c, msdos/int20.c, dlls/kernel/wprocs.spec,
	  dlls/ntdll/Makefile.in, include/miscemu.h:
	Jukka Heinonen <jhei@iki.fi>
	Removed obsolete code.

2002-11-19  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.spec:
	Implemented some ismbc* functions (based on a patch by Greg Turner).

	* configure, configure.ac, dlls/Makefile.in, dlls/cabinet/.cvsignore,
	  dlls/cabinet/Makefile.in, dlls/cabinet/cabinet.spec,
	  dlls/cabinet/fci.c, dlls/cabinet/fdi.c, include/Makefile.in,
	  include/fci.h, include/fdi.h:
	Patrik Stridvall <ps@leissner.se>
	Added stub implementation of cabinet.dll.

	* include/richedit.h: Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Add some RichEdit 2.0/3.0 definitions.

	* include/winbase.h: Dimitrie O. Paun <dpaun@rogers.com>
	Added definition for PeekNamedPipe
	Fixed a lot of badly indented functions.

2002-11-18  Alexandre Julliard  <julliard@winehq.com>

	* dlls/gdi/Makefile.in, dlls/gdi/gdi.exe.spec,
	  dlls/kernel/Makefile.in, dlls/kernel/krnl386.exe.spec,
	  dlls/shell32/Makefile.in, dlls/shell32/shell.spec,
	  dlls/user/Makefile.in, dlls/user/display.spec, dlls/user/mouse.spec,
	  dlls/user/user.exe.spec, tools/winebuild/build.h,
	  tools/winebuild/main.c, tools/winebuild/parser.c,
	  tools/winebuild/winebuild.man.in:
	Removed support for 'rsrc' spec file statement.

	* dlls/richedit/reader.c, dlls/richedit/rtf.h:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Get rid of the vararg and generic stuff.

	* tools/winapi/win16.api, tools/winapi/win32.api:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Removed some unused types.

	* dlls/kernel/computername.c:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Added netdb.h protection.

	* scheduler/pthread.c, scheduler/timer.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed strict aliasing issue in __pthread_once and SetWaitableTimer.

	* dlls/ntdll/Makefile.in, msdos/dosmem.c, msdos/int1a.c:
	Jukka Heinonen <jhei@iki.fi>
	Removed last user of msdos/int1a.c.

	* dlls/kernel/kernel32.spec, dlls/kernel/wprocs.spec,
	  dlls/winedos/dosaspi.c, dlls/winedos/dosexe.h, include/callback.h,
	  include/miscemu.h, msdos/dpmi.c:
	Jukka Heinonen <jhei@iki.fi>
	Removed obsolete INT_Int31Handler.

	* dlls/comctl32/listview.c:
	Setting the horizontal scrollbar can change the values for the
	vertical one so make sure we compute them separately.

	* graphics/x11drv/opengl.c:
	Added empty X11DRV_OpenGL_Init for the non-OpenGL case.

	* dlls/ntdll/large_int.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed strict aliasing problem in RtlEnlargedUnsignedDivide.

	* include/wincon.h: Marcus Meissner <marcus@jet.franken.de>
	Fixed strict aliasing problem in
	__wine_GetLargestConsoleWindowSize_wrapper.

	* programs/winhelp/hlpfile.c, programs/winhelp/hlpfile.h,
	  programs/winhelp/macro.c, programs/winhelp/winhelp.c,
	  programs/winhelp/winhelp.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added support for window information from the .hlp file.
	Added support for window numbers in link.

	* windows/input.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	Moved implementation of LoadKeyboardLayout from ASCII to Unicode.

	* include/winnt.h, include/winuser.h: Patrik Stridvall <ps@leissner.se>
	No version of GNU C++ (unlike GNU C) supports unnamed structs.

	* include/commctrl.h: Dimitrie O. Paun <dpaun@rogers.com>
	Support commctrl message-helper macros in C++.

	* dlls/comctl32/imagelist.c: Dimitrie O. Paun <dpaun@rogers.com>
	Use DeleteDC instead of DeleteObject to free HDCs (spotted by Dietrich
	Teickner <Dietrich_Teickner@t-online.de>).
	Clear the imagelist structure on deletion, as some stupid apps free
	imagelists multiple times.

	* windows/user.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	Moved implementation of EnumDisplaySettings from ASCII to Unicode.

	* include/winternl.h: Mike McCormack <mike@codeweavers.com>
	Add some definitions for structures used by NtQueryFileInfo.

	* dlls/ole32/storage.c, dlls/ole32/storage32.c:
	Ryan Cumming <ryan@completely.kicks-ass.org>
	- Move StgIsStorageFile16's implementation to StgIsStorageFile; port
	  it to Win32.
	- Move StgIsStorageFile from storage.c to storage32.c.
	- StgIsStorageFile only returns S_OK, STG_E_FILENOTFOUND, and S_FALSE.
	- StgIsStorageFile doesn't check if a file is large enough to be a
	  storage file, it only checks for the presence of the 8-byte magic.

	* include/urlmon.h, include/wininet.h: Alberto Massari <alby@exln.com>
	- Added some definitions.
	- Fixed signature of GetUrlCacheEntryInfoExW.

	* tools/wineinstall: Alberto Massari <alby@exln.com>
	Install link to rundll32.exe too.

	* programs/rundll32/rundll32.c: Alberto Massari <alby@exln.com>
	Fix crash when invoked with no arguments.

	* windows/cursoricon.c: Ryan Cumming <ryan@completely.kicks-ass.org>
	Make LookupIconIdFromDirectoryEx16 call LookupIconIdFromDirectoryEx,
	instead of the other way around.

2002-11-15  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/computername.c, programs/rundll32/rundll32.c:
	Warning fixes.

	* configure, configure.ac, dlls/d3d8/Makefile.in,
	  dlls/ddraw/Makefile.in, dlls/glu32/Makefile.in,
	  dlls/opengl32/Makefile.in, dlls/x11drv/x11drv_main.c,
	  graphics/x11drv/opengl.c, include/config.h.in, include/x11drv.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Load OpenGL library dynamically from x11drv.

	* loader/module.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Don't fully process FreeLibrary when process is stopping.

	* programs/notepad/main.c: Dmitry Timoshkov <dmitry@baikal.ru>
	Minor bug fixes.

	* dlls/kernel/kernel32.spec, files/file.c, include/winbase.h:
	Ryan Cumming <ryan@completely.kicks-ass.org>
	Implemented GetFileSizeEx (based on a patch by Steve Lustbader).

	* configure, configure.ac, programs/Makefile.in,
	  programs/rundll32/.cvsignore, programs/rundll32/Makefile.in,
	  programs/rundll32/rundll32.c:
	Alberto Massari <alby@exln.com>
	Added rundll32 utility.

	* dlls/winedos/interrupts.c, dlls/winedos/winedos.spec,
	  include/callback.h, msdos/dpmi.c, win32/device.c:
	Jukka Heinonen <jhei@iki.fi>
	DeviceIoControl now calls winedos interrupt handlers.
	Fixed RawModeSwitch.

	* windows/sysmetrics.c: Tony Lambregts <tony_lambregts@telusplanet.net>
	Fix SM_CYVTHUMB, SM_CXSMSIZE, SM_CXMENUCHECK and SM_CYMENUCHECK.

	* programs/winhelp/.cvsignore, programs/winhelp/Makefile.in,
	  programs/winhelp/macro.c, programs/winhelp/macro.h,
	  programs/winhelp/macro.lex.l, programs/winhelp/macro.yacc.y,
	  programs/winhelp/winhelp.c, programs/winhelp/winhelp.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Rewrote macro engine for adding dynamic macro loading capability.
	Wrote RegisterRoutine and IsBook macros.

	* dlls/gdi/mfdrv/dc.c, dlls/wineps/text.c, objects/font.c:
	Huw Davies <huw@codeweavers.com>
	Proper handling of SetTextCharacterExtra.

	* dlls/kernel/Makefile.in, dlls/kernel/computername.c,
	  dlls/kernel/kernel32.spec, dlls/kernel/kernel_main.c,
	  dlls/ntdll/Makefile.in, documentation/configuring.sgml,
	  documentation/samples/config, documentation/wine.conf.man,
	  include/winbase.h, misc/registry.c, win32/init.c, win32/newfns.c:
	Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	- Allow setting NetBIOS ComputerName through registry.
	- Keep old behavior as default, using new config option to change.
	- Implement SetComputerName(), SetComputerNameEx(),
	  GetComputerNameEx().
	- ComputerName initialization moved to kernel32.

	* dlls/ntdll/rtl.c: Mike McCormack <mike@codeweavers.com>
	Partial implementation of RtlDosPathNameToNtPathName_U.

	* dlls/shell32/tests/shlfileop.c, dlls/user/tests/win.c:
	Patrik Stridvall <ps@leissner.se>
	Made tests compile on Windows.

	* dlls/shell32/shelllink.c: Marcus Meissner <meissner@suse.de>
	Also silence IShellLinkA_fnSetShowCmd.

	* dlls/wineps/brush.c, dlls/wineps/escape.c, dlls/wineps/graphics.c,
	  dlls/wineps/ps.c, dlls/wineps/psdrv.h, include/wine/wingdi16.h:
	Huw Davies <huw@codeweavers.com>
	Implemented Escapes *_PATH and POSTSCRIPT_IGNORE.

2002-11-14  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/x11drv_main.c, dlls/x11drv/xrender.c,
	  documentation/samples/config, graphics/x11drv/bitmap.c,
	  graphics/x11drv/clipping.c, graphics/x11drv/xfont.c,
	  include/x11drv.h:
	Huw Davies <huw@codeweavers.com>
	Client side render fonts for XServers without the Render extension
	using X11 core requests.

	* dlls/user/user_main.c, dlls/x11drv/winpos.c,
	  dlls/x11drv/x11drv.spec, include/user.h, windows/dce.c,
	  windows/win.c:
	Added ReleaseDC function to the USER driver interface.

2002-11-13  Alexandre Julliard  <julliard@winehq.com>

	* dlls/gdi/freetype.c: Huw Davies <huw@codeweavers.com>
	We need to compare the world transforms (at least the 4 scaling
	elements) when we accept a font from the cache.
	Get the correct values for the underscore size and position.
	Added a missing closedir().

	* dlls/wineps/graphics.c: Huw Davies <huw@codeweavers.com>
	Fix PSDRV_DrawArc to work properly with logical coords.

	* dlls/wineps/download.c, dlls/wineps/ppd.c, dlls/wineps/type42.c:
	Huw Davies <huw@codeweavers.com>
	Instead of trying to download the Type 42 glpyh metrics incrementally
	(which most printers don't seem to understand), we'll download the
	whole hmtx table in one go (sigh) unless it's larger than 64K in which
	case we'll go back to using a Type 1 font.

	* dlls/wineps/type1.c: Huw Davies <huw@codeweavers.com>
	We can't cache the unscaled font's hfont, since the mapping mode may
	change.  This resulted in some glyphs being downloaded at the wrong
	size.

	* tools/widl/header.c, tools/widl/parser.l, tools/widl/parser.y,
	  tools/widl/widltypes.h:
	Make sure widl doesn't depend on the headers it has to generate.

	* dlls/Makefile.in: Updated dependencies.

	* dlls/tapi32/Makefile.in, dlls/tapi32/line.c, winedefault.reg:
	Huw Davies <huw@codeweavers.com>
	Zero out the returned LINETRANSLATECAPS structure.
	Read country list from the registry.
	Add a load of countries to winedefault.reg.

	* dlls/commdlg/filedlg95.c: Mike McCormack <mike@codeweavers.com>
	Send a CDN_FILEOK in FILEDLG95_OnOpenMultipleFiles.
	Restructure the handling of Custom dialog notifications.

	* dlls/comctl32/toolbar.c, include/commctrl.h:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	- Add support for multiple image lists.
	- Add TBN_INITCUSTOMIZE notification.
	- Correctly populate TBN_QUERYDELETE.
	- Support TBN_GETBUTTONINFOW.

	* controls/combo.c: Aric Stewart <aric@codeweavers.com>
	Fixed a bug with combo boxes where only 1 items was being displayed.

	* windows/win.c:
	Fixed sign problem in GetWindowWord/Long check for offset larger than
	the window extra bytes.

	* winedefault.reg: Huw Davies <huw@codeweavers.com>
	Add IStream and IStorage interface entries.

	* memory/global.c: Francois Gouget <fgouget@codeweavers.com>
	Cap the reported physical memory to 2GB to prevent applications
	(e.g. QuickTime 6) from crashing.

	* files/profile.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Maintain lower cased file names in the Wine config directory.

	* dlls/x11drv/keyboard.c: Huw Davies <huw@codeweavers.com>
	Use iso8859-15 on European keyboards.

	* dlls/advapi32/registry.c: Aric Stewart <aric@codeweavers.com>
	Work with the correct subkey with loading keys. Not a true fix to the
	LoadKey/SaveKey situation.

	* dlls/shlwapi/path.c, windows/cursoricon.c, windows/nonclient.c:
	Mike McCormack <mike@codeweavers.com>
	Fix a few GDI memory leaks.

	* dlls/winsock/socket.c, dlls/winsock/ws2_32.spec, include/winsock2.h:
	Mike McCormack <mike@codeweavers.com>
	Add stubs and declarations for WSAInstallServiceClassA/W.

	* dlls/wininet/internet.c: Huw Davies <huw@codeweavers.com>
	Add a counter to keep track of the number of outstanding async
	requests.  This gets around a problem where a SetEvent could be called
	before a previous event had been dealt with.

	* dlls/comctl32/comboex.c: Huw Davies <huw@codeweavers.com>
	Check the return value of ImageList_GetImageInfo before adjusting the
	size.

	* dlls/ntdll/debugtools.c: Huw Davies <huw@codeweavers.com>
	Reduce the maximum length of debug strings to 80 characters.

	* dlls/winedos/dosexe.h: Marcus Meissner <meissner@suse.de>
	Do not define MZ_SUPPORTED if we do not have sys/vm86.h for all the
	struct definitions.

	* dlls/ttydrv/ttydrv.h: Marcus Meissner <meissner@suse.de>
	Only include curses headers if we are using curses at all.

	* dlls/oleaut32/typelib.c: Alberto Massari <alby@exln.com>
	ITypeInfo::Invoke now is able to invoke a function even when it is
	provided with a byref argument.

	* dlls/msvcrt/process.c:
	Fixed data copying in msvcrt_argvtos (spotted by bill@taniwha.org).

	* include/wtypes.h, include/wtypes.idl, tools/widl/widl.c:
	Moved rpc.h inclusion in widl-generated file so that tests compile.

	* include/wine/wingdi16.h, include/wingdi.h, include/x11font.h,
	  objects/font.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed mismatches between the Wine headers and the Microsoft headers.

	* programs/winhelp/hlpfile.c, programs/winhelp/hlpfile.h,
	  programs/winhelp/winhelp.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed several bugs in:
	  - page/paragraph reading for >= Win95 help files without compression
	  - bitmap & metafile loading
	  - btree reading
	Now caching bitmap loading for better performance.
	Several internal code cleanups.

	* dlls/commdlg/fontdlg.c:
	Shachar Shemesh <wine-patches@sun.consumer.org.il>
	- Added support for CF_ENABLETEMPLATEHANDLE.
	- Revised the FIXME on unsupported flags to not reported the flags now
	  turned supported.

	* dlls/wininet/http.c, dlls/wininet/urlcache.c,
	  dlls/wininet/wininet.spec:
	Alberto Massari <alby@exln.com>
	Added stubs for IsHostInProxyBypassList and GetUrlCacheEntryInfoExA.

	* programs/winedbg/memory.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Actually exit loop on '\0' while printing a string.

	* include/wtypes.h, include/wtypes.idl:
	Ove Kaaven <ovek@transgaming.com>
	Wrote a Wine-compatible wtypes.idl, and generated wtypes.h from it.

2002-11-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/kernel32.spec, dlls/kernel/wprocs.spec,
	  dlls/ntdll/Makefile.in, dlls/winedos/Makefile.in,
	  dlls/winedos/dosexe.h, dlls/winedos/fpu.c, dlls/winedos/int12.c,
	  dlls/winedos/int13.c, dlls/winedos/int1a.c, dlls/winedos/int2a.c,
	  dlls/winedos/int41.c, dlls/winedos/int4b.c,
	  dlls/winedos/interrupts.c, msdos/fpu.c, msdos/int12.c,
	  msdos/int2a.c, msdos/int41.c, msdos/int4b.c:
	Jukka Heinonen <jhei@iki.fi>
	Move simple interrupt handlers to winedos.

	* dlls/shell32/shelllink.c: Marcus Meissner <meissner@suse.de>
	Silence IShellLink::SetShowCmd for the case we support.

	* documentation/bugs.sgml:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Update Reporting Bugs section to reflect current state of wine bugs.

	* configure, configure.ac: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	ucontext.h check requires signal.h.

	* dlls/msvcrt/msvcrt.spec: Alberto Massari <alby@exln.com>
	The already implemented function swscanf was missing an entry.

	* configure, configure.ac, dlls/wineps/Makefile.in,
	  dlls/wineps/init.c, dlls/winspool/Makefile.in, dlls/winspool/info.c,
	  include/config.h.in:
	Marcus Meissner <marcus@jet.franken.de>
	Do not link against -lcups directly, but dynamically load it if
	present (just like freetype etc.)

	* dlls/ntdll/tests/.cvsignore, dlls/ntdll/tests/Makefile.in,
	  dlls/ntdll/tests/rtlstr.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	First of tests for the Rtl* string manipulation functions.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/rtlstr.c:
	Robert Shearman <R.J.Shearman@warwick.ac.uk>
	Implemented RtlUnicodeStringToInteger.

	* documentation/wine-devel.sgml:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Add multimedia.sgml to standalone wine-devel guide, was already in
	wine-doc.sgml.

	* documentation/db2html-winehq:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Correctly identify a RedHat distribution.

	* documentation/getting.sgml: Dustin Navea <speeddymon@yahoo.com>
	Rearranged code to make it more readable.
	Added in Redhat install instructions, and made note in Other Distro's
	section to check the Redhat page if you are using Mandrake, as it is
	Redhat-based.
	Updated FTP list in the docs, only 1 link different from the most recent
	ANNOUNCE, wow!
	Added instructions on un-tarring, compiling, and installing wine from
	a tarball.

	* documentation/wine-doc.sgml: Dustin Navea <speeddymon@yahoo.com>
	Corrected code spacing for readability.

	* documentation/introduction.sgml: Dustin Navea <speeddymon@yahoo.com>
	Change first usage of the Word Linux into a link to the linux FAQ at
	linuxdoc.org.
	Change first usage of the word X11 into a link to the X11 FAQ at
	xfree86.org.
	Add wine-devel to the places to go for burning questions.
	Upped the system req's to the current requirements.
	Fixed a few grammatical errors and made the text look a little
	prettier.

	* documentation/authors.ent: Dustin Navea <speeddymon@yahoo.com>
	Add the wine-devel list and myself to the entities to be referenced in
	the docs.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	- Fix bug in multitexturing introduced during dummy texture changes.
	- Additional traces.

	* dlls/ole32/hglobalstream.c: Alberto Massari <alby@exln.com>
	Implemented body of HGLOBALStreamImpl::Clone.

	* dlls/wininet/Makefile.in, dlls/wininet/http.c,
	  dlls/wininet/wininet.spec:
	Alberto Massari <alby@exln.com>
	Added HttpOpenRequestW, HttpQueryInfoW, HttpSendRequestW.

	* tools/widl/header.c, tools/widl/parser.l, tools/widl/parser.y,
	  tools/widl/proxy.c, tools/widl/widl.c, tools/widl/widltypes.h:
	Ove Kaaven <ovek@transgaming.com>
	Support for enums, arrays, encapsulated unions, signed/unsigned
	qualifiers, UUIDs, include guards, the new ICOM_DEFINE1 macro, and
	some other improvements.

	* documentation/HOWTO-winelib: Dimitrie O. Paun <dpaun@rogers.com>
	Remove parts that have been moved already in the Development Guide.

	* dlls/kernel/tests/file.c:
	Ryan Cumming <ryan@completely.kicks-ass.org>
	Add test for DeleteFileA with empty paths.

	* configure, configure.ac, dlls/gdi/tests/generated.c,
	  dlls/kernel/tests/generated.c, dlls/ntdll/tests/generated.c,
	  dlls/shell32/tests/.cvsignore, dlls/shell32/tests/Makefile.in,
	  dlls/shell32/tests/generated.c, dlls/shlwapi/tests/.cvsignore,
	  dlls/shlwapi/tests/Makefile.in, dlls/shlwapi/tests/generated.c,
	  dlls/urlmon/Makefile.in, dlls/urlmon/tests/.cvsignore,
	  dlls/urlmon/tests/Makefile.in, dlls/urlmon/tests/generated.c,
	  dlls/user/tests/generated.c, dlls/wininet/tests/.cvsignore,
	  dlls/wininet/tests/Makefile.in, dlls/wininet/tests/generated.c:
	Patrik Stridvall <ps@leissner.se>
	Updated the generated tests.

	* tools/winapi/c_parser.pm, tools/winapi/c_type.pm,
	  tools/winapi/tests.dat, tools/winapi/winapi_test:
	Patrik Stridvall <ps@leissner.se>
	Added tests for a few new DLLs.

	* dlls/shell32/clipboard.c, dlls/shell32/pidl.c, dlls/shell32/pidl.h,
	  dlls/shell32/shv_bg_cmenu.c, include/shellapi.h, include/shlobj.h,
	  include/shlwapi.h:
	Patrik Stridvall <ps@leissner.se>
	Fixed mismatches between the Wine headers and the Microsoft headers.

	* scheduler/sysdeps.c: Fixed sparc check.

2002-11-11  Alexandre Julliard  <julliard@winehq.com>

	* documentation/authors.ent, documentation/documentation.sgml:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Make the instructions of how to install sgml easier to understand.

	* dlls/oleaut32/typelib.c: Marcus Meissner <marcus@jet.franken.de>
	Added partial implementation of ITypeInfo::GetDllEntry().

	* dlls/ddraw/ddraw_private.h, dlls/ddraw/dsurface/main.c,
	  dlls/ddraw/helper.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Proper logging of DDSCAPS / DDSCAPS2 structures.

	* dlls/user/user16.c, programs/Makefile.in, programs/winhelp/string.c,
	  programs/winhelp/winhelp.c, windows/winhelp.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Implemented a Wine-only scheme for interprocess WinHelp message
	passing.

	* dlls/comctl32/imagelist.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Fix some NULL dereferencing.

	* msdos/int11.c: Robert 'Admiral' Coeyman <admiral@corner.net>
	Fixed bit 2 value and set bit 1 too.

	* Makefile.in, configure, configure.ac, programs/Makefile.in:
	Removed winetest.

	* dlls/ddraw/dsurface/dib.c: Marko Kreen <marko@l-t.ee>
	Clip bottom coordinates.

	* Make.rules.in, dlls/Maketest.rules.in, tools/make_ctests,
	  tools/runtest:
	Dimitrie O. Paun <dpaun@rogers.com>
	Rewrite make_ctests and runtest in shell.

	* dlls/kernel/kernel32.spec, dlls/winedos/int31.c:
	Jukka Heinonen <jhei@iki.fi>
	Move all int31 functions to winedos.
	Fix some obvious bugs in int31 functions.

	* dlls/winsock/socket.c: Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi/win16.api, tools/winapi/win32.api,
	  tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_function.pm,
	  tools/winapi_check/winapi_global.pm,
	  tools/winapi_check/winapi_local.pm:
	Patrik Stridvall <ps@leissner.se>
	- API files update.
	- Fixed options --cross-call-{unicode-ascii,win32-win16}.
	- Minor reorganization of the global checks.

	* scheduler/sysdeps.c: Marcus Meissner <marcus@jet.franken.de>
	Add case for non sparc / non i386 SYSDEPS_CallOnStack.

	* dlls/oleaut32/olepicture.c: Marcus Meissner <marcus@jet.franken.de>
	Implemented OleLoadPictureEx.

	* dlls/oleaut32/typelib.c: Marcus Meissner <marcus@jet.franken.de>
	Silence one FIXME(). Implement ITypeInfo::GetDocumentation for
	variable descriptions.

	* dlls/winmm/driver.c, dlls/winmm/lolvldrv.c, dlls/winmm/winemm.h,
	  dlls/winmm/winmm.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Now properly unloading multimedia drivers when winmm unloads.

	* windows/msgbox.c: Dmitry Timoshkov <dmitry@baikal.ru>
	Fix copy/paste bug. Make MessageBox without an icon look better.

	* programs/winhelp/hlpfile.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed loading HCW 4.0 files without phrase image compression.

2002-11-08  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac: Patrik Stridvall <ps@leissner.se>
	- Added #include <sys/types.h> where needed for FreeBSD.
	- Added protection for #include <sys/{socket,un}.h>.

	* dlls/commdlg/cdlg_Ca.rc, dlls/commdlg/cdlg_Da.rc,
	  dlls/commdlg/cdlg_De.rc, dlls/commdlg/cdlg_En.rc,
	  dlls/commdlg/cdlg_Es.rc, dlls/commdlg/cdlg_Fi.rc,
	  dlls/commdlg/cdlg_Fr.rc, dlls/commdlg/cdlg_Hu.rc,
	  dlls/commdlg/cdlg_It.rc, dlls/commdlg/cdlg_Ja.rc,
	  dlls/commdlg/cdlg_Nl.rc, dlls/commdlg/cdlg_Pl.rc,
	  dlls/commdlg/cdlg_Pt.rc, dlls/commdlg/cdlg_Ru.rc,
	  dlls/commdlg/cdlg_Si.rc, dlls/commdlg/cdlg_Sk.rc,
	  dlls/commdlg/cdlg_Sv.rc, dlls/commdlg/cdlg_Wa.rc,
	  dlls/commdlg/cdlg_Zh.rc, dlls/commdlg/fontdlg.c:
	Shachar Shemesh <winecode@sun.consumer.org.il>
	- Changed all numeric resources in ChooseFont to labels for better
	  readability.
	- Changed all handling of stc6 (1093) to atc5 (1092) so that will be
	  compatible with Windows resource numbers.
	- Added code to load the user's resources rather than our own if
	  CF_ENABLETEMPLATE is passed in "flags".

	* server/context_i386.c: Pierre Beyssac <pb-wine@fasterix.frmug.org>
	Avoid FreeBSD compatibility issues with dbreg structure.

	* include/wine/obj_base.h, include/wine/obj_misc.h:
	Ove Kaaven <ovek@transgaming.com>
	Moved IMalloc definition from obj_base.h to obj_misc.h.

	* include/custcntl.h: Juraj Hercek <juraj@syncad.com>
	Added WINELIB_NAME_AW for LPCCINFO.

	* dlls/ntdll/signal_sparc.c: Juraj Hercek <juraj@syncad.com>
	Fixed bug in context registers, added HANDLER_DEF and HANDLER_CONTEXT
	macros.

	* dlls/ntdll/signal_i386.c: Marcus Meissner <meissner@suse.de>
	Only enable VM86 mode if we have the <sys/vm86.h> include file.

	* dlls/rasapi32/rasapi.c, dlls/rasapi32/rasapi32.spec, include/ras.h:
	Marcus Meissner <meissner@suse.de>
	New structures: RASIPADDR, RASDEVINFO, RASENTRY.
	New stubs: RasSetEntryProperties.
	RasEnumDevicesA enhanced.

	* dlls/shell32/dataobject.c: Alberto Massari <alby@exln.com>
	The object returned by IEnumFORMATETC::Clone should have the same
	cursor position of the source object.

	* dlls/rpcrt4/cstub.c: Alberto Massari <alby@exln.com>
	Avoid crashing when releasing an NdrCStdStubBuffer that had been
	previously disconnected.

	* files/file.c: Ryan Cumming <ryan@completely.kicks-ass.org>
	- Silence annoying "Empty path passed" error.
	- Set error correctly when an empty path is passed to DeleteFile.

	* dlls/kernel/tests/locale.c, ole/ole2nls.c:
	Ryan Cumming <ryan@completely.kicks-ass.org>
	Remove OLE_GetFormatA, reimplement GetDateFormatA and GetTimeFormatA
	as wrappers around their Unicode versions.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/typelib.c:
	Marcus Meissner <marcus@jet.franken.de>
	Draft implementation of DispCallFunc.

2002-11-06  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/virtual.c:
	Disable address space limit check on non-i386 platforms.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not draw the text of the item being edited.

	* tools/winebuild/import.c: Eric Frias <efrias@syncad.com>
	Added quotes to assembly language output.

	* scheduler/sysdeps.c: Juraj Hercek <juraj@syncad.com>
	Implemented SYSDEPS_CallOnStack for sparcs.

	* programs/regedit/regproc.c: Juraj Hercek <juraj@syncad.com>
	Bug fixes related to sparc 4-byte boundary alignment.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix the 'jumping selection' bug (#1108).
	Misc small cleanups.

	* configure, configure.ac: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	When checking for sys/mount.h and sys/user.h also include sys/types.h
	if available.

	* dlls/gdi/tests/generated.c, dlls/kernel/tests/generated.c,
	  dlls/ntdll/tests/generated.c, dlls/user/tests/generated.c:
	Patrik Stridvall <ps@leissner.se>
	Updated the generated tests.

	* tools/winapi/tests.dat, tools/winapi/winapi_test:
	Patrik Stridvall <ps@leissner.se>
	- Added code for detection of missing types.
	- Added missing types.
	- Added a function for each type test to improve compiling with -O2.

	* dlls/rpcrt4/rpc_binding.c, dlls/rpcrt4/rpcrt4_main.c:
	Greg Turner <gmturner007@ameritech.net>
	- Remove stupid indentations from trace msgs.
	- Update the rpc TODO list a bit.
	- Add some constants for winapi_check.
	- Nil pointer support for some UUID functions (spotted by Olivier
	  Evalet).

	* controls/menu.c: Chris Morgan <cmorgan@alum.wpi.edu>
	Remove ERR() if menu entry isn't of type MF_STRING as some
	applications set flags of MT_SEPARATOR and erroneous errors are
	produced.  Add a couple of comments.

	* dlls/ntdll/time.c: György 'Nog' Jeney <nog@sdf.lonestar.org>
	- Fix RtlTimeToTimeFields to actually work.
	- Remove comments about leap seconds, windows doesn't take that into
	  account.

	* dlls/winedos/dosvm.c, dlls/winedos/interrupts.c:
	Jukka Heinonen <jhei@iki.fi>
	Start using winedos handlers for all interrupts.

	* windows/sysmetrics.c: Francois Gouget <fgouget@free.fr>
	Compute SM_CYMAXIMIZED purely based on the screen height until we know
	how to take into account 'start menus' correctly.

	* Make.rules.in, dlls/Makedll.rules.in, dlls/Maketest.rules.in,
	  dlls/kernel/Makefile.in, dlls/kernel/kernel32.spec,
	  dlls/ntdll/Makefile.in, dlls/user/Makefile.in,
	  dlls/user/user32.spec, miscemu/Makefile.in, miscemu/wine.spec,
	  programs/Makeprog.rules.in, programs/avitools/Makefile.in,
	  tools/winebuild/main.c, tools/winebuild/parser.c,
	  tools/winebuild/winebuild.man.in, tools/winemaker:
	Added winebuild -e option to specify the entry point and removed the
	'init' spec file directive.
	Winebuild long options now use a more standard double dash format
	(older format still supported for backwards compatibility).

	* tools/winapi/win16.api, tools/winapi/win32.api,
	  tools/winapi_check/modules.dat:
	Patrik Stridvall <ps@leissner.se>
	API files update.

	* dlls/msvcrt/tests/scanf.c, dlls/msvideo/msvideo16.c,
	  dlls/winedos/int09.c, dlls/winedos/int10.c, dlls/winedos/int16.c,
	  dlls/winedos/int17.c, dlls/winedos/int20.c, dlls/winedos/int21.c,
	  dlls/winedos/int29.c, dlls/winedos/int33.c, dlls/winedos/int67.c,
	  dlls/winedos/interrupts.c, dlls/winmm/mmsystem.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* include/wine/obj_base.h: Ove Kaaven <ovek@transgaming.com>
	Add ICOM_DEFINE1 macro to define a COM interface without a base
	class.
	Use it to define IUnknown.

	* dlls/d3d8/d3d8_main.c, dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c,
	  dlls/d3d8/directx.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	- Stencil mapping now works (it helps to actually allocate a stencil
	  buffer).
	- Texture mapping corrected if no real texture bound.
	- Code now detects which opengl extensions are present - to be
	  extended later.
	- More debug tracepoints.

	* programs/winedbg/hash.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Replaced assert by simple if + warning message for too long symbols.

	* dlls/winedos/int31.c: Jukka Heinonen <jhei@iki.fi>
	Move most int31 functions to winedos.
	Add DPMI32 fixes.

	* dlls/ddraw/ddraw/hal.c, dlls/ddraw/ddraw/user.c,
	  dlls/ddraw/dsurface/dib.c, dlls/ddraw/dsurface/fakezbuffer.c,
	  dlls/ddraw/dsurface/gamma.c, dlls/ddraw/dsurface/hal.c,
	  dlls/ddraw/dsurface/thunks.c, dlls/ddraw/dsurface/user.c:
	Matthew Bloch <matthew@bytemark.co.uk>
	Vtable fixes.

	* dlls/rasapi32/rasapi.c, dlls/rasapi32/rasapi32.spec:
	Marcus Meissner <meissner@suse.de>
	Added RasValidateEntryNameA stub.

2002-11-04  Alexandre Julliard  <julliard@winehq.com>

	* dlls/avifil32/avifil32.spec, dlls/avifil32/factory.c,
	  dlls/comcat/comcat.spec, dlls/comcat/comcat_main.c,
	  dlls/comctl32/comctl32.spec, dlls/comctl32/commctrl.c,
	  dlls/commdlg/cdlg32.c, dlls/commdlg/comdlg32.spec,
	  dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c,
	  dlls/d3d8/d3d8.spec, dlls/d3d8/d3d8_main.c, dlls/ddraw/ddraw.spec,
	  dlls/ddraw/main.c, dlls/dinput/dinput.spec,
	  dlls/dinput/dinput_main.c, dlls/dplayx/dplayx.spec,
	  dlls/dplayx/dplayx_main.c, dlls/gdi/gdi32.spec, dlls/gdi/gdi_main.c,
	  dlls/imagehlp/imagehlp.spec, dlls/imagehlp/imagehlp_main.c,
	  dlls/msacm/msacm32.spec, dlls/msacm/msacm32_main.c,
	  dlls/msisys/msisys.c, dlls/msisys/msisys.ocx.spec,
	  dlls/msvcrt/main.c, dlls/msvcrt/msvcrt.spec,
	  dlls/msvideo/msrle32/msrle32.c, dlls/msvideo/msrle32/msrle32.spec,
	  dlls/netapi32/netapi32.c, dlls/netapi32/netapi32.spec,
	  dlls/odbc32/odbc32.spec, dlls/odbc32/proxyodbc.c,
	  dlls/ole32/ole32.spec, dlls/ole32/ole32_main.c,
	  dlls/opengl32/opengl32.spec, dlls/opengl32/wgl.c,
	  dlls/richedit/riched32.spec, dlls/richedit/richedit.c,
	  dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c,
	  dlls/serialui/confdlg.c, dlls/serialui/serialui.spec,
	  dlls/shell32/shell32.spec, dlls/shell32/shell32_main.c,
	  dlls/shlwapi/shlwapi.spec, dlls/shlwapi/shlwapi_main.c,
	  dlls/snmpapi/main.c, dlls/snmpapi/snmpapi.spec,
	  dlls/ttydrv/ttydrv.spec, dlls/ttydrv/ttydrv_main.c,
	  dlls/twain/twain32_main.c, dlls/twain/twain_32.spec,
	  dlls/urlmon/urlmon.spec, dlls/urlmon/urlmon_main.c,
	  dlls/winaspi/winaspi32.c, dlls/winaspi/wnaspi32.spec,
	  dlls/winedos/dosvm.c, dlls/winedos/winedos.spec, dlls/wineps/init.c,
	  dlls/wineps/wineps.spec, dlls/wininet/internet.c,
	  dlls/wininet/wininet.spec, dlls/winmm/mciavi/mciavi.c,
	  dlls/winmm/mciavi/mciavi.drv.spec, dlls/winmm/winmm.c,
	  dlls/winmm/winmm.spec, dlls/winsock/socket.c,
	  dlls/winsock/ws2_32.spec, dlls/winspool/winspool.drv.spec,
	  dlls/winspool/wspool.c, dlls/x11drv/x11drv.spec,
	  dlls/x11drv/x11drv_main.c, tools/winebuild/spec32.c:
	Made the dll entry point default to DllMain and removed most of the
	'init' spec file declarations.

	* dlls/shell32/control.c: Warning fix.

	* dlls/kernel/format_msg.c:
	Ryan Cumming <ryan@completely.kicks-ass.org>
	Handle FORMAT_MESSAGE_FROM_HMODULE and FORMAT_MESSAGE_FROM_SYSTEM both
	being set at once.

	* configure, configure.ac, dlls/winmm/Makefile.in,
	  dlls/winmm/tests/.cvsignore, dlls/winmm/tests/Makefile.in,
	  dlls/winmm/tests/wave.c:
	Francois Gouget <fgouget@codeweavers.com>
	Test sound format support with waveOutGetDevCaps and waveOutOpen.

	* relay32/relay386.c, tools/winebuild/spec32.c:
	Hack to detect register functions automatically so that relay debug
	also works for functions using the DEFINE_REGS_ENTRY_POINT macros.

	* files/directory.c: Make COMSPEC point to wcmd.exe, not command.com.

	* include/winuser.h, windows/sysparams.c:
	Greg Turner <gmturner007@ameritech.net>
	- noop redefinition of SPI_[GET/SET]MENUUNDERLINES
	- define and fixme for
	  SPI_[GET/SET][SELECTIONFADE/DROPSHADOW/KEYBOARDCUES]

	* dlls/user/resources/user32_Hu.rc, programs/clock/Hu.rc,
	  programs/clock/rsrc.rc, programs/notepad/Hu.rc,
	  programs/notepad/rsrc.rc, programs/progman/Hu.rc,
	  programs/progman/rsrc.rc, programs/wineconsole/wineconsole_Hu.rc,
	  programs/wineconsole/wineconsole_res.rc, programs/winefile/Hu.rc,
	  programs/winefile/rsrc.rc, programs/winhelp/Hu.rc:
	Zoly Nagy <nagyzoli@drotposta.hu>
	Added/upgraded Hungarian resources.

	* dlls/gdi/freetype.c, dlls/win32s/win32s16.c,
	  graphics/x11drv/xfont.c, include/gdi.h, include/winbase.h,
	  include/wingdi.h, include/winnt.h, include/winuser.h,
	  include/x11font.h, memory/virtual.c, msdos/vxd.c,
	  objects/enhmetafile.c, objects/font.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed mismatches between the Wine headers and the Microsoft headers.

	* tools/winapi/msvcmaker: Patrik Stridvall <ps@leissner.se>
	- Updated it to support changes in Wine.
	- Added support for C++ compilation (off by default).

	* dlls/gdi/tests/generated.c, dlls/kernel/tests/generated.c,
	  dlls/ntdll/tests/generated.c, dlls/user/tests/generated.c:
	Patrik Stridvall <ps@leissner.se>
	Updated the generated tests.

	* tools/winapi/c_parser.pm, tools/winapi/c_type.pm,
	  tools/winapi/tests.dat, tools/winapi/tests.pm,
	  tools/winapi/winapi_test:
	Patrik Stridvall <ps@leissner.se>
	Added tests for normal types (not just structures).

	* include/winnls.h: Ryan Cumming <ryan@completely.kicks-ass.org>
	Added missing CSTR_ definitions.

	* dlls/winmm/wineoss/audio.c: Francois Gouget <fgouget@codeweavers.com>
	OSS_RawOpenDevice should return an error if the format is not
	supported.

	* dlls/rasapi32/rasapi.c, dlls/rasapi32/rasapi32.spec:
	Ryan Cumming <ryan@completely.kicks-ass.org>
	Add stub for RasEnumConnectionsW.

	* dlls/ole32/marshal.c, dlls/ole32/ole2stubs.c:
	Marcus Meissner <mm@lst.de>
	Handle errors in std marshaller better, do not crash.
	Added another error message if some program tries to marshal
	IOleObject.
	OleCreate() should be able to use Local Servers too (it can't as of
	now, just for debugging).

	* dlls/wineps/driver.c, dlls/wineps/init.c: Marcus Meissner <mm@lst.de>
	Specify existing extra size of WINEPS Devmode structure.
	Make ExtDeviceMode16 in WINEPS return the correct size.

	* programs/wcmd/wcmdmain.c: Jaco Greeff <jaco@puxedo.org>
	Skip the allocation of a new console on "wcmd /c <command>" execution,
	using the current allocated STDIN and STDOUT handles for command
	input/output.

	* dlls/winedos/int31.c, dlls/winedos/int67.c, dlls/winedos/xms.c:
	Jukka Heinonen <jhei@iki.fi>
	Ignore VCPI installation checks. Handle XMS query any extended memory
	function. Add stubs for get/set exception handler vector.

	* dlls/winedos/interrupts.c, msdos/dosmem.c:
	Jukka Heinonen <jhei@iki.fi>
	When returning from 32-bit default interrupt handlers, eflags are now
	returned correctly.

	* dlls/ddraw/ddraw/user.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Additional exported capabilities to please some picky games.

	* dlls/ddraw/dsurface/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	- only compare the first WORD in the DDSCAPS2 structure if no DX7
	- add some TRACEs

	* dlls/ddraw/helper.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Augment the DDSCAPS2 dumping routine with new caps.

2002-10-31  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, VERSION, configure: Release 20021031.

----------------------------------------------------------------
2002-10-31  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/cppexcept.c, dlls/msvcrt/except.c:
	Added clobber lists to the inline assembly functions.

	* dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c,
	  dlls/commdlg/fontdlg.c, dlls/commdlg/printdlg.c:
	Matthew Davison <m.davison@virgin.net>
	Fixed some handle conversions for -DSTRICT.

	* dlls/rpcrt4/rpc_server.c, dlls/rpcrt4/rpcrt4.spec, include/rpcdce.h,
	  include/rpcdcep.h:
	Greg Turner <gmturner007@ameritech.net>
	Fix some problems found by winapi_check.

	* dlls/rpcrt4/ndr_marshall.c: Greg Turner <gmturner007@ameritech.net>
	Fix stupid clone of broken macro, found by Marcus.

	* include/wine/rpcfc.h: Ove Kaaven <ovek@transgaming.com>
	Some RPC format characters from MS documentation.

	* dlls/shell32/control.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	Remove quotes from filename before calling LoadLibrary in DoLaunch.

	* dlls/shell32/shell32_main.c: Alberto Massari <alby@exln.com>
	- Fixed typo in SHGetFileInfoA.
	- Properly convert return values back to Unicode in SHGetFileInfoW.

	* dlls/rpcrt4/rpc_binding.c, dlls/rpcrt4/rpc_server.c,
	  include/rpcdcep.h:
	Greg Turner <gmturner007@ameritech.net>
	Remove #ifdef WINNT conditionals; just use the NT definitions.

	* dlls/rpcrt4/ndr_marshall.c: Greg Turner <gmturner007@ameritech.net>
	- Use appropriate per-platform NDR_LOCAL Data Representation.
	- Minor housekeeping changes.

	* dlls/shell32/shelllink.c: Marcus Meissner <meissner@suse.de>
	Escape \ in path and arguments.
	Use UNIX style work_dir, not windows dir.

	* programs/progman/Si.rc, programs/progman/rsrc.rc:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Updated Slovenian resources for (new) version of progman.

	* dlls/rpcrt4/ndr_marshall.c, dlls/rpcrt4/rpc_binding.c,
	  dlls/rpcrt4/rpc_server.c, dlls/rpcrt4/rpcrt4.spec, include/rpcdce.h:
	Greg Turner <gmturner007@ameritech.net>
	- Fix offset bug in the conformant string unmarshall routine.
	- Fix discrepancy between headers and implementation of
	  I_RpcBindingSetAsync when compiling under WINNT.
	- Eliminate race conditions in the relationship between "listen_count"
	  and "std_listen" in rpc_server.h.
	- Code-stubs for RpcServerUnregisterIf, RpcServerUnregisterIfEx.
	- Attempt to implement RpcMgmtStopServerListening (definitely not
	  happy just yet).
	- RpcServerUnregisterIfEx wasn't xp-sepcific after all; this leads me to
	  suspect there are more such mistakes in the spec-file comments, but I
	  haven't looked into it or fixed them yet (coming soon).
	- Cleanups, trace-enhancements, etc.

	* server/hook.c:
	Work around to make system-global hooks at least run in the thread
	that set them.

	* controls/listbox.c, dlls/user/user16.c, dlls/user/user32.spec,
	  dlls/winmm/mmsystem.c, dlls/x11drv/winpos.c, windows/win.c,
	  windows/winpos.c:
	Split out some more 16-bit code.

	* dlls/msvcrt/except.c, dlls/msvcrt/msvcrt.spec:
	Marcus Meissner <meissner@suse.de>
	_seh_longjmp_unwind is i386 only for now.

	* include/rpc.h, include/rpcndr.h:
	Greg Turner <gmturner007@ameritech.net>
	- Cast NDR_* #defines to (unsigned long) instead of (UINT32) like MS
	  headers.
	- Create __RPC_MAC__ and __RPC_WIN64__ conditional #defines.
	- Correct NDR_LOCAL_DATA_REPRESENTATION for Mac's.
	- New NDR_LOCAL_IS_BIG_ENDIAN conditional #define.
	- #define TARGET_IS_NT50_OR_LATER.

	* dlls/rpcrt4/ndr_marshall.c: Greg Turner <gmturner007@ameritech.net>
	Rename the *_32_READ macros to *_UINT32_READ for clarity.

	* programs/progman/En.rc: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Fix English progman resources by translating French bits.

	* programs/progman/Fr.rc: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Small cleanup for the French progman resources.

	* dlls/comctl32/comboex.c: Carlos Lozano <clozano@andago.com>
	lParam was not properly sent in COMBOEX_DrawItem.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Append columns with large column indices.

	* configure, configure.ac, include/config.h.in, scheduler/client.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Mingw porting fix.

	* dlls/winedos/int10.c, dlls/winedos/vga.c, dlls/winedos/vga.h:
	Jukka Heinonen <jhei@iki.fi>
	Prevent crashes when DOS program tries to access console and no
	Windows console is available.

	* dlls/x11drv/Makefile.in, dlls/x11drv/clipboard.c,
	  dlls/x11drv/event.c, dlls/x11drv/scroll.c, dlls/x11drv/window.c,
	  dlls/x11drv/winpos.c, dlls/x11drv/x11ddraw.c, dlls/x11drv/xrender.c,
	  graphics/x11drv/bitmap.c, graphics/x11drv/brush.c,
	  graphics/x11drv/dib.c, graphics/x11drv/init.c,
	  graphics/x11drv/palette.c, graphics/x11drv/text.c,
	  graphics/x11drv/xfont.c:
	Converted x11drv to -DSTRICT.

	* dlls/msvideo/mciwnd.c, dlls/winmm/mcianim/mcianim.c,
	  dlls/winmm/mciavi/private_mciavi.h, dlls/winmm/mmsystem.c,
	  dlls/winmm/winemm.h, include/mmddk.h, include/wine/mmsystem16.h,
	  windows/driver.c:
	Moved 16-bit definitions out of mmddk.h into mmsystem16.h.

	* dlls/x11drv/clipboard.c, dlls/x11drv/window.c, dlls/x11drv/winpos.c,
	  dlls/x11drv/x11ddraw.c, dlls/x11drv/xrender.c,
	  graphics/x11drv/brush.c, graphics/x11drv/text.c,
	  graphics/x11drv/xfont.c:
	Fixed a number of -DSTRICT warnings.

	* dlls/msvcrt/cppexcept.c, dlls/msvcrt/msvcrt.h:
	Added support for nested exceptions happening inside a catch block.

	* windows/msgbox.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	MSGBOX_DlgProc: break out of WM_COMMAND.

	* controls/menu.c, dlls/avifil32/api.c, dlls/comctl32/propsheet.c,
	  dlls/comctl32/toolbar.c, dlls/commdlg/colordlg.c,
	  dlls/commdlg/filedlg.c, dlls/commdlg/filedlg95.c,
	  dlls/commdlg/finddlg.c, dlls/commdlg/finddlg32.c,
	  dlls/commdlg/fontdlg.c, dlls/commdlg/printdlg.c,
	  dlls/msacm/format.c, dlls/serialui/confdlg.c,
	  dlls/setupapi/virtcopy.c, dlls/shell32/brsfolder.c,
	  dlls/shell32/dialogs.c, dlls/shell32/shell32_main.c,
	  dlls/shell32/shell32_main.h, dlls/user/message.c,
	  dlls/wineps/driver.c, include/winuser.h, windows/dialog.c,
	  windows/input.c, windows/mdi.c, windows/msgbox.c, windows/timer.c,
	  windows/winhelp.c:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Fix some types and function prototypes according to Platform SDK
	definitions.

	* dlls/winmm/Makefile.in, dlls/winmm/driver.c, dlls/winmm/joystick.c,
	  dlls/winmm/lolvldrv.c, dlls/winmm/mci.c, dlls/winmm/message16.c,
	  dlls/winmm/mmio.c, dlls/winmm/mmsystem.c, dlls/winmm/playsound.c,
	  dlls/winmm/winemm.h, dlls/winmm/winmm.c, include/mmddk.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	winmm/mmsystem now compiles with -DSTRICT.

	* include/vfw.h: Eric Pouech <eric.pouech@wanadoo.fr>
	Split between 16 / 32 bit code.

	* dlls/comctl32/treeview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix some treeview notification codes between ANSI/Unicode mode.

	* dlls/winmm/wavemap/wavemap.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Return correct values for wave(In|Out)GetPosition even if playing non
	PCM files.

	* dlls/msvideo/Makefile.in, dlls/msvideo/drawdib.c,
	  dlls/msvideo/msvideo.spec, dlls/msvideo/msvideo16.c,
	  dlls/msvideo/msvideo_main.c, dlls/msvideo/msvideo_private.h,
	  dlls/msvideo/vfw16.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Split between 16 / 32 bit code.

2002-10-30  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winedos/.cvsignore: Added winedos16.spec.c.

	* configure, configure.ac, dlls/msvcrt/Makefile.in,
	  dlls/msvcrt/tests/.cvsignore, dlls/msvcrt/tests/Makefile.in,
	  dlls/msvcrt/tests/scanf.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	First version of msvcrt scanf test.

	* controls/combo.c, controls/desktop.c, controls/edit.c,
	  controls/static.c, controls/uitools.c, dlls/user/user16.c,
	  include/win.h, windows/defwnd.c, windows/message.c,
	  windows/nonclient.c, windows/painting.c, windows/scroll.c,
	  windows/sysparams.c, windows/win.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Some more fixes for compiling the user dll with -DSTRICT.

	* dlls/winedos/Makefile.in, dlls/winedos/winedos16.spec:
	Jukka Heinonen <jhei@iki.fi>
	Add winedos16.dll which contains 16-bit protected mode interrupt entry
	points.

	* dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h:
	Carlos Lozano <clozano@andago.com>
	Fixed SHGFI_SYSICONINDEX flag handling.

	* Makefile.in, dlls/Maketest.rules.in, include/wine/test.h,
	  programs/winetest/Makefile.in, programs/winetest/make_ctests,
	  programs/winetest/wtmain.c:
	Moved the test routines from wtmain.c into wine/test.h so that they
	can be compiled separately with different flags for each dll.

	* dlls/rpcrt4/ndr_marshall.c: Marcus Meissner <meissner@suse.de>
	Fixed LITTLE_ENDIAN_32_READ macro to at least compile.

	* dlls/winsock/Makefile.in, dlls/winsock/async.c,
	  dlls/winsock/socket.c, include/winsock.h:
	Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	- Define SOCKET as UINT_PTR for Win64 (thanks to P. Stridvall).
	- Make winsock compile without WINE_NO_STRICT.

	* dlls/ntdll/signal_powerpc.c: Marcus Meissner <meissner@suse.de>
	Powerpc instruction pointer is Iar, not Eip.

	* dlls/winmm/wavemap/Makefile.in, dlls/winmm/wavemap/wavemap.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	wavemap now compiles with -DSTRICT.

2002-10-29  Alexandre Julliard  <julliard@winehq.com>

	* tools/wineinstall:
	Removed no longer needed support for patching the debugger path in the
	registry.

	* dlls/Makedll.rules.in:
	Only run the 32-bit checklink for dlls that contain 16-bit files.

	* documentation/bugs.sgml, documentation/configuring.sgml,
	  documentation/installing.sgml, documentation/wine.man.in:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- added troubleshooting section to Wine Users Guide (taken from Wine
	  Troubleshooting Guide)
	- documented Windows/DOS version values (grrr !)
	- misc. other stuff

	* dlls/kernel/kernel32.spec, dlls/winedos/int20.c,
	  dlls/winedos/int21.c, dlls/winedos/int31.c,
	  dlls/winedos/interrupts.c, include/miscemu.h:
	Jukka Heinonen <jhei@iki.fi>
	Modify winedos interrupt handlers so that they work with PM
	interrupts.
	Add forwarding functions for handlers in other DLLs.
	Make DOSVM_GetBuiltinHandler use static table instead of
	GetProcAddress.

	* dlls/comctl32/listview.c: Rein Klazes <rklazes@xs4all.nl>
	Fix for listview wheelmouse message handling.

	* include/wine/test.h: Patrik Stridvall <ps@leissner.se>
	Added {ok,trace}_ macros to take explicit file and line number.

	* dlls/rpcrt4/ndr_marshall.c: Greg Turner <gmturner007@ameritech.net>
	- more comments and comment-cleanup
	- attempt to implement NdrConformantStringMemorySize
	- fix NdrConformantStringUnMarshall
	- w00t!

	* dlls/winmm/joystick.c, dlls/winmm/mmsystem.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Moved 16 bit joystick function to mmsystem.c.

	* dlls/winmm/Makefile.in, dlls/winmm/joystick.c,
	  dlls/winmm/mmsystem.c, dlls/winmm/winemm.h, dlls/winmm/winmm.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- internal renaming (no longer using MMSYSTEM prefixes for WINMM only
	  functions)
	- moved time 16/32 conversions functions to 16 bit source files
	- final Makefile changes (16 bit part can now really be not compiled
	  when -disable-win16 is requested)

	* dlls/winmm/mmsystem.c, dlls/winmm/time.c, dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- let all time related functions make use of low level drivers 16 bit
	  functions
	- some renaming (prefixing internal time functions with TIME)

	* dlls/winmm/lolvldrv.c, dlls/winmm/message16.c, dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	All low level driver functions (internals for wave, midi, mixer and
	aux) are now cleanly separated.

	* dlls/winmm/mci.c, dlls/winmm/message16.c, dlls/winmm/mmsystem.c,
	  dlls/winmm/winemm.h, dlls/winmm/winmm.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	All MCI functions are now cleanly separated.

	* dlls/winmm/driver.c, dlls/winmm/mmsystem.c, dlls/winmm/playsound.c,
	  dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	All driver functions are now properly separated.

	* dlls/winmm/mmsystem.c, dlls/winmm/winemm.h, dlls/winmm/winmm.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- revisited mmsystem/winmm loading mechanism
	- added WINMM_CheckMMSystem function (helps 32 bit code detect
	  presence of our own mmsystem DLL)
	- some internal renaming (MULTIMEDIA => WINMM)

	* dlls/winmm/driver.c, dlls/winmm/mci.c, dlls/winmm/mmsystem.c,
	  dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Now only storing thread id for mci tasks (16 bit htask is now gotten
	from WOW functions).

	* windows/winpos.c: Fixed ShowWindowAsync.

	* dlls/user/user_main.c, include/queue.h, windows/queue.c:
	Removed a couple of no longer used queue functions.

	* controls/combo.c, dlls/avicap32/avicap32.spec, dlls/avifil32/api.c,
	  dlls/avifil32/avifile.spec, dlls/rpcrt4/rpcrt4.spec,
	  dlls/setupapi/setupapi.spec, dlls/setupapi/stubs.c,
	  dlls/user/user32.spec, dlls/wininet/internet.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi/win16.api, tools/winapi/win32.api:
	Patrik Stridvall <ps@leissner.se>
	API file update.

	* dlls/shell32/shell.c, dlls/shell32/shell32_main.h,
	  dlls/shell32/shlexec.c:
	György 'Nog' Jeney <nog@sdf.lonestar.org>
	Separate out 16-bit ShellExecute function.

	* dlls/comctl32/tooltips.c: Sander van Leeuwen <sandervl@xs4all.nl>
	Fixed font object leak in WM_SETFONT handler.

	* dlls/x11drv/keyboard.c: Jeff Smith <whydoubt@hotmail.com>
	Corrections to the Spanish keyboard layout.

	* dlls/winsock/socket.c, dlls/winsock/ws2_32.spec:
	Hagen Heiduck <wibox1@wifa.uni-leipzig.de>
	Added WSASendDisconnect.

	* dlls/kernel/Makefile.in, dlls/oleaut32/Makefile.in:
	Patrik Stridvall <ps@leissner.se>
	Added some defines for compatibility with Windows headers.

	* dlls/kernel/wowthunk.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Silence unneeded ERR while converting tasks.

	* dlls/winmm/mmio.c, dlls/winmm/mmsystem.c, dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- finish mmio separation
	- no longer storing function pointers in global IData

	* dlls/comctl32/treeview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Send the right notification code (A/W) depending on the Unicode
	setting.

	* tools/winapi/msvcmaker, tools/winapi/msvcmaker_options.pm,
	  tools/winapi/util.pm:
	Patrik Stridvall <ps@leissner.se>
	Add new options --wine and --winetest so workspace and project files
	for Wine and Winetest might be generated independently.

	* dlls/shell32/tests/shlfileop.c, dlls/user/tests/sysparams.c,
	  dlls/user/tests/win.c, dlls/wininet/tests/http.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed tests to compile with MS C on Windows.

	* dlls/gdi/tests/generated.c, dlls/kernel/tests/generated.c,
	  dlls/ntdll/tests/generated.c, dlls/user/tests/generated.c:
	Patrik Stridvall <ps@leissner.se>
	Updated the generated tests.

	* tools/winapi/tests.dat, tools/winapi/winapi_test:
	Patrik Stridvall <ps@leissner.se>
	Added support for excluding optional fields.

	* include/wingdi.h, include/winuser.h:
	Patrik Stridvall <ps@leissner.se>
	Fixed mismatches between the Wine headers and the Microsoft headers.

	* dlls/setupapi/infparse.c: Jaco Greeff <jaco@puxedo.org>
	Made the reporting for the (current) unsupported flags in GenInstall16
	more user-friendly, i.e. report per missing flag instead of DWORD value.

	* dlls/ttydrv/wnd.c, dlls/user/Makefile.in, dlls/user/focus.c,
	  dlls/user/hook.c, dlls/user/hook16.c, dlls/user/message.c,
	  dlls/user/msg16.c, dlls/user/user.exe.spec, dlls/user/user32.spec,
	  dlls/user/user_main.c, dlls/x11drv/window.c, dlls/x11drv/winpos.c,
	  include/hook.h, include/queue.h, include/user.h,
	  include/wine/server_protocol.h, include/wine/winuser16.h,
	  server/Makefile.in, server/hook.c, server/list.h,
	  server/protocol.def, server/request.h, server/thread.c,
	  server/thread.h, server/trace.c, server/user.h, windows/hook.c,
	  windows/input.c, windows/message.c, windows/nonclient.c,
	  windows/queue.c, windows/user.c, windows/win.c:
	Rewrote hook support to store the hook chain in the server.
	Split off 16-bit hook functions and re-implemented them on top of the
	32-bit ones; system-wide 16-bit hooks are no longer supported at this
	point.

2002-10-28  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/signal_i386.c, dlls/ntdll/signal_powerpc.c,
	  dlls/ntdll/signal_sparc.c, include/wine/exception.h,
	  programs/winedbg/winedbg.c, win32/except.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Raise an exception if any Wine or Winelib code does an assert.

	* programs/wcmd/directory.c: Steven Edwards <Steven_Ed4153@yahoo.com>
	Porting fix.

	* dlls/rpcrt4/ndr_marshall.c, dlls/rpcrt4/ndr_midl.c,
	  dlls/rpcrt4/rpc_message.c:
	Greg Turner <gmturner007@ameritech.net>
	- Pull the buffer from the rpc message into the midl stub message
	  during RpcServerInitializeNew.
	- Attempt to implement NdrConformantStringUnmarshall.
	- More assertions.
	- Comments and cleanups.

	* dlls/rpcrt4/rpcrt4.spec: Greg Turner <gmturner007@ameritech.net>
	Add a bunch of stubs, all of which I presume to be WXP additions.

	* dlls/winedos/dosvm.c, dlls/winedos/int09.c, dlls/winedos/int16.c,
	  programs/wineconsole/user.c, windows/message.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- Make int09 update the BIOS data segment's keyboard status flags
	  bytes, implement pause key handling.
	- Let int16/02 read the keyboard status flags bytes instead of calling
	  GetAsyncKeyState().
	- Make the keyboard state buffer used for Get*Key*() reflect
	  VK_L/RMENU properly.
	- Small fixes.

	* dlls/comctl32/listview.c:
	set_main_item: ignore meaningless bits in stateMask for LVS_OWNERDATA
	instead of failing.

	* dlls/shell32/shell.c, dlls/shell32/shellreg.c:
	György 'Nog' Jeney <nog@sdf.lonestar.org>
	Separate out 16-bit registry functions.

	* dlls/rpcrt4/ndr_marshall.c, dlls/rpcrt4/ndr_midl.c,
	  dlls/rpcrt4/rpc_message.c, dlls/rpcrt4/rpc_server.c,
	  include/rpcndr.h:
	Greg Turner <gmturner007@ameritech.net>
	- Clean up and add some comments.
	- Add NDR Data representation constants.
	- Propagate DataRepresentation into and out of packet headers.
	- Implement NdrServerInitializeNew

	* dlls/winmm/lolvldrv.c, dlls/winmm/message16.c, dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Move low level multimedia message mapping out of 32 bit code.

	* dlls/winmm/Makefile.in, dlls/winmm/mci.c, dlls/winmm/message16.c,
	  dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Move MCI message mapping out of 32 bit code.

	* dlls/winmm/driver.c, dlls/winmm/mmsystem.c, dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Move driver message mapping out of 32 bit code.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Handle texture FVF formats when no texture is bound.

	* dlls/rpcrt4/ndr_marshall.c: Greg Turner <gmturner007@ameritech.net>
	- Distinguish between actual paranoia and meaningful buffer space.
	- No need to #undef BUFFER_PARANOIA here.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	We should always have a main item in report mode.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Properly fill lParam in NMLISTVIEW.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix crash-inducing typo/thinko.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Mark immutable objects as const. Fix inconsistent *-style.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Add LVHITTESTINFO debug helper. More tracing.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Despite what the docs say, we have to invalidate the list on
	WM_SETREDRAW(TRUE).

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Eliminate flicker when resizing, docs updates.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Cleanup, and simplification of UpdateSize.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Handle focus item properly in SetItemCount.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Remove only the necessary selections when setting the item count.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Rewrite of the SetItemCount: bugs got squashed,
	LVSICF_{NOSCROLL,NOINVALIDATEALL} implemented.

	* dlls/winedos/dosexe.h, dlls/winedos/dosvm.c, dlls/winedos/int31.c,
	  dlls/winedos/interrupts.c, dlls/winedos/module.c:
	Jukka Heinonen <jhei@iki.fi>
	Add routines for manipulating protected mode interrupt handlers to
	winedos dll. Add routine for checking if process is Windows process.
	Fix DOSVM_IsDos32 interface. Move real mode interrupt handler
	manipulation routines to interrupts.c.

	* windows/user.c: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Make GetFreeSystemResources16 print its values on TRACE.

	* controls/button.c, controls/listbox.c, dlls/user/exticon.c,
	  dlls/user/message.c, dlls/user/wnd16.c, windows/defdlg.c,
	  windows/mdi.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Some fixes for the compilation of the user dll with -DSTRICT.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Add copyrects support.

	* dlls/rpcrt4/ndr_marshall.c, dlls/rpcrt4/ndr_midl.c,
	  dlls/rpcrt4/rpc_binding.c, dlls/rpcrt4/rpc_server.c,
	  dlls/rpcrt4/rpcrt4.spec, include/rpcndr.h:
	Greg Turner <gmturner007@ameritech.net>
	- Clean up and enhance some traces.
	- Stubs for NdrConvert, NdrConvert2, and NdrServerInitializeNew.

	* dlls/shell32/enumidlist.c: Dimitrie O. Paun <dpaun@rogers.com>
	Add proper support for the SHCONTF_INCLUDEHIDDEN flag.

	* dlls/lzexpand/Makefile.in, dlls/lzexpand/lzexpand16.c,
	  dlls/lzexpand/lzexpand_main.c:
	Matthew Davison <m.davison@virgin.net>
	Made lzexpand compile with STRICT defined.

	* dlls/winmm/mci.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed mciSendString debug reporting when an error occurs (spotted by
	Erland Lewin).

	* dlls/user/Makefile.in, dlls/user/msg16.c, dlls/user/wnd16.c,
	  windows/hook.c, windows/spy.c, windows/win.c, windows/winpos.c,
	  windows/winproc.c:
	Moved a few remaining 16-bit window functions to wnd16.c and moved it
	to the C_SRCS16 sources.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	- Initialize the texture state information.
	- Add dummy textures so texture operations which dont reference the
	  texture can work.
	- Support 2d and 3d textures properly.
	- Reapply the texture state information as textures get set, as opengl
	  stores the state along with the bound texture whereas directx uses the
	  current state information during the draw stage.
	- 3rd attempt to sort out lighting, for programs which dont set normals.
	- Temporarily silence some unnecessary fixmes.

	* dlls/comctl32/toolbar.c: Carlos <clozano@andago.com>
	lParam was not properly sent in TTM_ADDTOOLW.

	* dlls/comctl32/comboex.c: Carlos <clozano@andago.com>
	lParam was not properly sent in CBEN_GETDISPINFOW.

	* files/dos_fs.c: György 'Nog' Jeney <nog@sdf.lonestar.org>
	Copy the necessary data from the unicode struct to the ascii one in
	DOSFS_FindNext.

	* dlls/wininet/ftp.c, dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Jaco Greeff <jaco@puxedo.org>
	- Implementation of [Internet|Ftp]*W functions to extend (almost)
	  non-existant wide-character support.
	- Moved some functions from "stub in wininet.spec" to "FIXME("STUB")"
	  to allow for testing of changes.

	* dlls/rpcrt4/ndr_marshall.c: Greg Turner <gmturner007@ameritech.net>
	Fix endianness dependency in the (there is only one :) ) marshall
	function.

	* dlls/shell32/shell32_main.c: Carlos <clozano@andago.com>
	The function SHGetFileInfoA wasn't supporting the flag
	SHGFI_USEFILEATTRIBUTES.

2002-10-25  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/dga2.c: Greg Turner <gmturner007@ameritech.net>
	Avoid X11 error during DGA detection.

	* dlls/kernel/Makefile.in, dlls/kernel/comm.c, dlls/kernel/console.c,
	  dlls/kernel/debugger.c, dlls/kernel/sync.c, dlls/kernel/thunk.c,
	  dlls/kernel/wowthunk.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the kernel dll with -DSTRICT.

	* dlls/rpcrt4/ndr_marshall.c, dlls/rpcrt4/ndr_midl.c,
	  dlls/rpcrt4/rpc_message.c:
	Greg Turner <gmturner007@ameritech.net>
	- Use memset instead of ZeroMemory, just to be consistent with Ove's
	  code.
	- Add some assertions where assumptions are made (need way more).
	- Plug the binding handle into the RPC_MESSAGE during NdrGetBuffer.
	- Implement NdrSendReceive.
	- Attempt to support client and server bindings in I_RpcSend[Receive].

	* dlls/shell32/dragdrophelper.c, dlls/shell32/shfldr_desktop.c,
	  dlls/shell32/shfldr_mycomp.c:
	Alberto Massari <alby@exln.com>
	Don't touch the This pointer after it has been freed.

	* dlls/shell32/shell.c, dlls/user/user32.spec:
	Install the shell hook as a 32-bit hook.

	* dlls/advapi32/Makefile.in, dlls/advapi32/eventlog.c,
	  dlls/advapi32/registry.c, dlls/advapi32/security.c,
	  dlls/advapi32/service.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the advapi32 dll with -DSTRICT.

	* dlls/ntdll/reg.c, include/winternl.h:
	Made the ntdll registry functions use HKEY instead of HANDLE.

	* dlls/comctl32/listview.c, dlls/comctl32/treeview.c,
	  dlls/kernel/tests/alloc.c, dlls/shell32/shellole.c,
	  dlls/shlwapi/reg.c, dlls/winmm/winealsa/audio.c,
	  dlls/x11drv/keyboard.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- fix some pselling
	- enhance some TRACEs

	* winedefault.reg: Sylvain Petreolle <spetreolle@yahoo.fr>
	Added DirectPlayLobby CLSID entries.

	* dlls/rpcrt4/ndr_marshall.c, dlls/rpcrt4/ndr_midl.c,
	  dlls/rpcrt4/ndr_misc.h, dlls/rpcrt4/ndr_stubless.c,
	  dlls/rpcrt4/rpcrt4_main.c, include/rpcndr.h, include/wine/rpcfc.h:
	Greg Turner <gmturner007@ameritech.net>
	- Make explicit some missing include dependencies.
	- Implement NdrGetBuffer, NdrFreeBuffer, NdrConformantStringBufferSize
	  and NdrConformantStringMarshall.
	- Define the RPC_FC_C_CSTRING constant.
	- Perhaps I don't want those MIDL_*_FORMAT_STRING structs, after
	  all. Removed.
	- Add RPC todo list.
	- MIDL_STUB_MESSAGE.uFlags aren't.
	- Comment out the NdrClientCall2 mock-up since that stuff is in the
	  process of being implemented and might cause problems.

	* dlls/kernel/tests/locale.c, ole/ole2nls.c:
	Bill Medland <medbi01@accpac.com>
	Fix OLE_GetFormatW so that GetDateFormatW works.
	Rearranged for simplicity.

	* programs/winedbg/memory.c: Jeff Smith <whydoubt@hotmail.com>
	Fixed behaviour of "x /s ...".

	* dlls/ttydrv/Makefile.in, dlls/ttydrv/bitmap.c, dlls/ttydrv/dc.c,
	  dlls/ttydrv/graphics.c, dlls/ttydrv/objects.c, dlls/ttydrv/wnd.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the ttydrv dll with -DSTRICT.

	* dlls/winmm/mci.c, dlls/winmm/mmio.c, dlls/winmm/mmsystem.c,
	  dlls/winmm/playsound.c, dlls/winmm/time.c, dlls/winmm/winemm.h,
	  dlls/winmm/winmm.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Simplify the global internal data handling.

	* dlls/winmm/lolvldrv.c, dlls/winmm/mci.c, dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Unify the constant used for error codes reporting mapping functions
	success/failures.

	* dlls/d3d8/d3d8_main.c, include/d3d8.h:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Define the main directx8 entrypoint.

	* dlls/commdlg/filedlgbrowser.c, dlls/shell32/shellstring.c,
	  dlls/twain/ds_image.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Some small cleanups.

	* programs/wineconsole/wineconsole_De.rc,
	  programs/wineconsole/wineconsole_En.rc:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- correct German strings to what they're really supposed to be
	- less confusion about stored settings

	* dlls/winedos/int17.c: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Tiny int17 printer fix.

	* dlls/crypt32/crypt32.spec, dlls/crypt32/main.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added CertOpenStore stub.

	* files/directory.c, files/dos_fs.c, files/drive.c, files/file.c,
	  include/file.h, include/winnt.h:
	Get rid of FILE_ATTRIBUTE_SYMLINK (based on a patch by Bill Medland).

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not invalidate list on WM_SETREDRAW.
	Update size info even if redrawing is disabled.
	Trivial cleanups, and some tracing.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	We can avoid flicker on column resize only if it's left align.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Always draw the main item in full row select.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Use iterators to render over the columns, in report mode.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Small iterator-over-range[s] cleanup.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Eliminate most of the flicker when resizing columns.
	More debug tracing.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix subitem background color in full row select.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	We should callback for inexistent subitems.
	Do not store callback items for subitems, even if we're asked to.
	Small cleanup.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix crash when computing the item width of a report with no columns.
	Override custom draw bkgnd color for selection items.
	Fill background for all items that have a bkgnd colour.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Keep autoarranging items until one is moved.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Abstract autoarranging decision to a helper function.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not do screen work if refreshing is disabled.
	Reimplement SetRedraw to cope with the changes.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Rewrite the UpdateScroll function: simpler, faster.
	Add debugging helper for SCROLLINFO.
	Fix potential bug in debugging helpers.

	* dlls/oleaut32/Makefile.in, dlls/oleaut32/ole2disp.c,
	  dlls/oleaut32/olefont.c, dlls/oleaut32/olepicture.c,
	  dlls/oleaut32/stubs.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the oleaut32 dll with -DSTRICT.

	* dlls/shlwapi/Makefile.in, dlls/shlwapi/ordinal.c,
	  dlls/shlwapi/path.c, dlls/shlwapi/reg.c, dlls/shlwapi/regstream.c,
	  dlls/shlwapi/shlwapi_main.c, dlls/shlwapi/thread.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the shlwapi dll with -DSTRICT.

	* dlls/msvcrt/Makefile.in, dlls/msvcrt/dir.c, dlls/msvcrt/file.c,
	  dlls/msvcrt/main.c, dlls/msvcrt/thread.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the msvcrt dll with -DSTRICT.

	* tools/winecheck: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- check for root user
	- silence errors

	* dlls/tapi32/phone.c: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added some comments.

	* winedefault.reg: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- add "ProductId" key
	- add HKEY_LOCAL_MACHINE\HARDWARE\DEVICEMAP\SERIALCOMM default mapping
	- remember old DirectX version strings

2002-10-23  Alexandre Julliard  <julliard@winehq.com>

	* dlls/rpcrt4/ndr_midl.c, include/rpcndr.h:
	Greg Turner <gmturner007@ameritech.net>
	Implemented NdrClientInitializeNew.

	* dlls/rpcrt4/rpc_binding.c: Greg Turner <gmturner007@ameritech.net>
	Whitespace cleanup.

	* dlls/rpcrt4/rpc_server.c: Greg Turner <gmturner007@ameritech.net>
	Fixed a tiny trace bug.

	* dlls/winedos/module.c: Chris Morgan <cmorgan@alum.wpi.edu>
	Call CreateProcessA() when executing non-dos applications from a dos
	application.

	* Makefile.in: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Also remove configure.lineno when performing distclean.

	* dlls/commdlg/cdlg_Fr.rc, dlls/shell32/shell32_En.rc,
	  dlls/shell32/shell32_Fr.rc, dlls/user/resources/user32_Fr.rc,
	  dlls/wineps/rsrc.rc, dlls/wineps/wps_Fr.rc, dlls/winmm/winmm_Fr.rc,
	  programs/clock/Fr.rc, programs/notepad/Fr.rc,
	  programs/winhelp/Fr.rc:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Bring some French resources in sync with English ones.

	* dlls/msvideo/Makefile.in, dlls/msvideo/drawdib.c,
	  dlls/msvideo/mciwnd.c, dlls/msvideo/msvideo16.c,
	  dlls/msvideo/msvideo_main.c, dlls/msvideo/vfw16.h:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the msvideo dll with -DSTRICT.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Avoid division by 0 by initializing the item size in on creation.
	Rename update_icon_size to set_icon_size, fix parameters order.
	Assorted cleanups.

	* dlls/comctl32/comctl32undoc.c: Dimitrie O. Paun <dpaun@rogers.com>
	Append to the end of the DPA, if insert index is too large.

	* dlls/comctl32/header.c: Carlos <clozano@andago.com>
	Fixed duplicated arrows in header control.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix thinko that slipped in with the prev patch (reenables refresh).
	Mark a few things that needs looking at.
	Small cleanup.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not invalidate the window before the first paint job.
	Assorted cleanups.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Use InvalidateItem instead of explicit InvalidateRect, it is cleaner,
	and faster when redraw is disabled.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Transform the invalidation macros to proper functions.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Delay some size computations until after first paint.

	* dlls/comctl32/listview.c: Rein Klazes <rklazes@xs4all.nl>
	Reorganize the item size calculation (a bit simpler, and faster).

	* dlls/comctl32/listview.c: Rein Klazes <rklazes@xs4all.nl>
	Search through all items when LISTVIEW_FindItemW is called with
	LVFI_PARAM flag.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Delete the items if we actually own them.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not callback to the parent for lParam when in LVS_OWNERDATA.
	Docs update.

	* dlls/winedos/Makefile.in, dlls/winedos/dosexe.h,
	  dlls/winedos/dosvm.c, dlls/winedos/int31.c,
	  dlls/winedos/interrupts.c, dlls/winedos/module.c,
	  dlls/winedos/winedos.spec, include/callback.h, include/miscemu.h,
	  memory/instr.c, msdos/dpmi.c:
	Jukka Heinonen <jhei@iki.fi>
	Move interrupt emulation code from INSTR_EmulateInstruction to winedos
	dll. Make CTX_SEG_OFF_TO_LIN work with 32-bit segmented pointers
	common in DPMI32. Fix winedos initialization so that DOSMEM_Init(TRUE)
	is only called when DOS executable is started.

	* dlls/dplayx/Makefile.in, dlls/dplayx/dplay.c,
	  dlls/dplayx/dplayx_global.c, dlls/dplayx/dplayx_main.c,
	  dlls/dplayx/dplobby.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the dplayx dll with STRICT defined.

	* dlls/comctl32/Makefile.in, dlls/comctl32/animate.c,
	  dlls/comctl32/comboex.c, dlls/comctl32/comctl32undoc.c,
	  dlls/comctl32/commctrl.c, dlls/comctl32/datetime.c,
	  dlls/comctl32/draglist.c, dlls/comctl32/flatsb.c,
	  dlls/comctl32/header.c, dlls/comctl32/hotkey.c,
	  dlls/comctl32/imagelist.c, dlls/comctl32/ipaddress.c,
	  dlls/comctl32/listview.c, dlls/comctl32/monthcal.c,
	  dlls/comctl32/pager.c, dlls/comctl32/progress.c,
	  dlls/comctl32/propsheet.c, dlls/comctl32/rebar.c,
	  dlls/comctl32/smoothscroll.c, dlls/comctl32/status.c,
	  dlls/comctl32/tab.c, dlls/comctl32/toolbar.c,
	  dlls/comctl32/tooltips.c, dlls/comctl32/trackbar.c,
	  dlls/comctl32/treeview.c, dlls/comctl32/updown.c:
	Michael Stefaniuc <mstefani@redhat.de>
	- fix the "int format, HANDLE arg" type of warnings for comctl32
	- compile the comctl32 dll with -DSTRICT

	* dlls/comctl32/listview.c: Michael Stefaniuc <mstefani@redhat.de>
	Add casts to compile with -DSTRICT.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not crash if callback text is not filled (behave like native).
	Render report mode from top to bottom (easier on the eye).
	Docs updates, type fixes, more traces.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Collect all bugs, missing features, etc in the header doc.
	Minor cleanups.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not autoarrange if we insert/delete from the end of the list.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Rework SetItemPosition, bunch of bugs squashed in the process.
	Complete icon alignment rewrite: cleaner, incremental, etc.
	Completely avoid aligning all icons on every insert
	  - icon placement is incrementally computed now: it's fast.
	Small cleanups, docs update, etc.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Rename LISTVIEW_ITEM to ITEM_INFO for consistency.
	Rename LISTVIEW_SUBITEM to SUBITEM_INFO for same reason.
	Fix type in comment spotted by Bobby Bingham.

	* documentation/samples/config: Sylvain Petreolle <spetreolle@yahoo.fr>
	Added valid entries to specify if an app should be loaded builtin or
	native.

	* dlls/user/Makefile.in: Moved network.c to 16-bit sources.

	* dlls/advapi32/security.c, dlls/comctl32/listview.c,
	  dlls/shell32/shell32_main.c, files/directory.c, include/file.h,
	  include/heap.h, loader/loadorder.c, loader/module.c,
	  msdos/dosconf.c, windows/clipboard.c:
	Patrik Stridvall <ps@leissner.se>
	Don't use wine/unicode.h in the header files, include it directly
	where needed instead.

	* include/windef.h: Avoid redefinition warning.

	* dlls/comctl32/animate.c, dlls/comctl32/comboex.c,
	  dlls/comctl32/commctrl.c, dlls/comctl32/datetime.c,
	  dlls/comctl32/hotkey.c, dlls/comctl32/imagelist.c,
	  dlls/comctl32/ipaddress.c, dlls/comctl32/progress.c,
	  dlls/comctl32/propsheet.c, dlls/comctl32/status.c,
	  dlls/comctl32/toolbar.c, dlls/comctl32/tooltips.c,
	  dlls/comctl32/trackbar.c, dlls/comctl32/treeview.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Add needed casts for a "no warnings" compile of comctl32.

	* dlls/winedos/module.c: Patrik Stridvall <ps@leissner.se>
	Fix for platforms not supporting DOS mode.

	* include/windows.h: Patrik Stridvall <ps@leissner.se>
	Add pragma to eliminate MS C warnings.

	* tools/winapi/msvcmaker: Patrik Stridvall <ps@leissner.se>
	- Added proper parsing of the Makefile.in's to find the tests.
	- Added support for optionally using the Microsoft headers instead of
	  the Wine headers.

	* programs/progman/En.rc, programs/progman/Fr.rc,
	  programs/progman/dialog.c, programs/progman/license.c,
	  programs/progman/license.h, programs/progman/main.c,
	  programs/progman/progman.h, programs/progman/rsrc.rc,
	  programs/progman/string.c:
	Sylvain Petreolle <spetreolle@yahoo.fr>
	Implemented NLS in progman.

	* dlls/user/user_main.c, include/message.h, windows/timer.c:
	Store thread id instead of queue handle in timer structure.

	* dlls/user/user32.spec, dlls/user/wnd16.c, dlls/x11drv/desktop.c,
	  include/queue.h, include/win.h, windows/queue.c, windows/win.c:
	Implemented GetWindowTask16 on top of GetWindowThreadProcessId.
	Removed no longer used hmemTaskQ field in WND structure.

	* dlls/kernel/comm.c, files/file.c, include/winbase.h,
	  include/wingdi.h, include/winnt.h, include/winuser.h,
	  loader/ne/module.c, objects/dib.c, objects/enhmetafile.c,
	  tools/winedump/ne.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed mismatches between the Wine headers and the Microsoft headers.

	* dlls/avifil32/avifile_De.rc, dlls/avifil32/avifile_En.rc,
	  dlls/avifil32/avifile_private.h:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	Added dialog for AVISaveOptions.

	* dlls/avifil32/api.c: Michael Günnewig <MichaelGuennewig@gmx.de>
	Implemented AVIBuildFilterW and AVISaveOptions.

	* dlls/avifil32/getframe.c: Michael Günnewig <MichaelGuennewig@gmx.de>
	Fixed bug that prevented ICCompressorChoose from working.

	* windows/msgbox.c: Rein Klazes <rklazes@xs4all.nl>
	MessageBoxIndirectW: call FindResourceEx with arguments in the right
	order.

	* dlls/gdi/tests/generated.c, dlls/kernel/tests/generated.c,
	  dlls/ntdll/tests/generated.c, dlls/user/tests/generated.c:
	Patrik Stridvall <ps@leissner.se>
	Updated the generated tests.

	* tools/winapi/tests.dat, tools/winapi/winapi_test:
	Patrik Stridvall <ps@leissner.se>
	Minor modifications and improvements.

	* dlls/shell32/control.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	Do not break quoted strings in Control_DoLaunch.

	* dlls/comctl32/commctrl.c: Christian Neumair <chris@gnome-de.org>
	Collect all bugs, missing features, etc in the header doc.

	* include/digitalv.h, include/wine/mmsystem16.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Moved 16 bit digital structs to include/wine/mmsystem16.h.

2002-10-22  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winspool/Makefile.in, dlls/winspool/info.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the winspool dll with STRICT defined.

	* dlls/tapi32/Makefile.in, dlls/tapi32/line.c, dlls/tapi32/phone.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the tapi32 dll with STRICT defined.

	* dlls/psapi/Makefile.in, dlls/psapi/psapi_main.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the psapi dll with STRICT defined.

	* dlls/msacm/Makefile.in, dlls/msacm/driver.c, dlls/msacm/filter.c,
	  dlls/msacm/format.c, dlls/msacm/internal.c,
	  dlls/msacm/msacm32_main.c, dlls/msacm/stream.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the msacm dll with STRICT defined.

	* dlls/mpr/Makefile.in, dlls/mpr/auth.c, dlls/mpr/wnet.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the mpr dll with STRICT defined.

	* dlls/imagehlp/Makefile.in, dlls/imagehlp/access.c,
	  dlls/imagehlp/debug.c, dlls/imagehlp/imagehlp_main.c,
	  dlls/imagehlp/integrity.c, dlls/imagehlp/symbol.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the imagehlp dll with STRICT defined.

	* dlls/imm32/Makefile.in, dlls/imm32/imm.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile the imm32 dll with STRICT defined.

	* configure, configure.ac, include/config.h.in, scheduler/pthread.c:
	Avoid reference to glibc internal __libc_fork function.

	* dlls/user/resources/user32.rc, dlls/user/resources/user32_En.rc,
	  dlls/user/resources/user32_Ru.rc, dlls/user/resources/user32_Sk.rc,
	  dlls/user/resources/user32_Zh.rc, windows/mdi.c, windows/msgbox.c:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Restore setting of caption "Error".

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Beginnings of Stencil support.

	* dlls/comctl32/header.c: Dimitrie O. Paun <dpaun@rogers.com>
	Bring header's height more inline with native's.

	* dlls/rpcrt4/Makefile.in, dlls/rpcrt4/ndr_marshall.c,
	  dlls/rpcrt4/ndr_midl.c, dlls/rpcrt4/rpcrt4.spec, include/rpcndr.h:
	Greg Turner <gmturner007@ameritech.net>
	- Use Ove-style macros for NdrConformantStringMarshall definition.
	- Move NdrConformantStringMarshall to new ndr_marshall.c.
	- Stubs for NdrConformantStringBufferSize,
	  NdrConformantStringMemorySize, and NdrConformantStringUnmarshall.

	* dlls/rpcrt4/ndr_stubless.c, dlls/rpcrt4/rpc_binding.c,
	  dlls/rpcrt4/rpc_server.c:
	Greg Turner <gmturner007@ameritech.net>
	- ClientCall2 still deserves a FIXME.
	- Complete bindings with NULL endpoints.
	- Implement RpcServerUseProtseqA, RpcServerUseProtseqW.

2002-10-21  Alexandre Julliard  <julliard@winehq.com>

	* include/wine/server_protocol.h, include/winnt.h,
	  server/protocol.def:
	Fixed the WINE_NO_STRICT #ifdefs to do the right thing if STRICT is
	defined (spotted by Michael Stefaniuc).

	* dlls/rpcrt4/ndr_midl.c, include/rpcndr.h:
	Greg Turner <gmturner007@ameritech.net>
	Fix return types of NdrConformantStringMarshall, NdrGetBuffer, and
	NdrSendReceive.

	* dlls/rpcrt4/rpc_server.c, dlls/rpcrt4/rpcrt4.spec, include/rpcdce.h:
	Greg Turner <gmturner007@ameritech.net>
	Stubs for RpcServerUseProtseqA, RpcServerUseProtseqW.

	* dlls/avifil32/Makefile.in, dlls/avifil32/acmstream.c,
	  dlls/avifil32/factory.c, dlls/avifil32/icmstream.c:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	New AVI streamhandlers for audio and video streams.

	* dlls/avifil32/api.c, dlls/avifil32/avifile_De.rc,
	  dlls/avifil32/avifile_En.rc, dlls/avifil32/avifile_private.h:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	- Fixed usage of handler instead of type in AVIMakeCompressedStream.
	- Implemented AVIBuildFilterA.
	- Started to implement AVIBuildFilterW.

	* dlls/avifil32/avifile.c: Michael Günnewig <MichaelGuennewig@gmx.de>
	- Fixed many bugs which prevents writing.
	- Fixed segfault while parsing invalid index.
	- Keep parsing of index even if streamheader says it's empty
	- Fixed bug in AVIFILE_SaveIndex when stream is empty.
	- Fixed bug in AVIFILE_WriteBlock, when chunk is not of even size.

	* include/vfw.h: Michael Günnewig <MichaelGuennewig@gmx.de>
	Added macros for AVIFileClose and AVIStreamClose.

	* dlls/comctl32/comctl32undoc.c: Dimitrie O. Paun <dpaun@rogers.com>
	DPAs can't have more than 0x8000 elements (fixed with lots of help
	from Carlos <clozano@andago.com).

	* dlls/comctl32/comctl32undoc.c: Dimitrie O. Paun <dpaun@rogers.com>
	No need to increment item size, it's already adjusted by DPA_SetPtr
	(found, and fixed by Carlos <clozano@andago.com>).

	* dlls/comctl32/comctl32undoc.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not rely on HeapReAlloc to allocate a NULL pointer.

	* dlls/comctl32/comctl32undoc.c: Dimitrie O. Paun <dpaun@rogers.com>
	Rewrite DPA_InsertPtr in terms on DPA_SetPtr, so that  it's simpler,
	cleaner, and more correct.
	It now expands the array to accomodate larger than current size
	indexes.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not send uninitialized lParams on notification msgs (found by Rein
	Klazes <rklazes@xs4all.nl>).

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Complete rewrite of the rcView implementation.
	Lots of bugs fixed in rcView computation.
	Assorted cleanups, and simplifications.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Split ranges_destroy in ranges_clear, and ranges_destroy.
	Rewrite DeleteAllItems, for cleaner, faster, more correct code.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Updated header documentation to the latest, and greatest.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Optimize invalidation on insert.
	Share the invalidation code between {Delete,Insert}Item.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Rewrite DeleteItemT: cleaner, a lot faster.
	Number of bug were fixed.
	The minimum possible is redrawn.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Implement most of LVM_ARRANGE.
	Make use of it, where it was appropriate.
	Use infoPtr->dwStyle directly, in most places.
	Assorted cleanups.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Proper (type wise) return types.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Reorganize header notifications.
	Support notifications that don't have embedded size info.
	Invalidate columns on format change (if needed).
	Assorted cleanups.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Crash on internal NULL pointers, don't test all over the place.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	When removing focus, no need to go through all elements.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix colors for selected items in full row select mode.
	Fix bug caused by use of uninitialized state.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix computation of subitem box, when invalidating it.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Assert on inconsistent range list states.
	Various code cleanups, few potential bugs fixed.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not grow the item list to arbritary index: if requested index is
	larger than current count, just append.
	Miscellaneous cleanups.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	SetColumnWidth rewrite: simpler, cleaner code. Bugs squashed.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Handle generic column width changes.
	Fix bug in SetColumnT which rendered it unusable.
	Column code cleanup.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Assert on internal invariants, rather than fail gracefully.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	More docs compliant alignment handling for subitems.

	* tools/wineinstall: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Run regedit even if not installed.

	* programs/winhelp/Da.rc, programs/winhelp/De.rc,
	  programs/winhelp/En.rc, programs/winhelp/Es.rc,
	  programs/winhelp/Fi.rc, programs/winhelp/Fr.rc,
	  programs/winhelp/Hu.rc, programs/winhelp/It.rc,
	  programs/winhelp/Ko.rc, programs/winhelp/Makefile.in,
	  programs/winhelp/Pt.rc, programs/winhelp/Si.rc,
	  programs/winhelp/Sk.rc, programs/winhelp/Sw.rc,
	  programs/winhelp/Va.rc, programs/winhelp/Wa.rc,
	  programs/winhelp/macro.c, programs/winhelp/winhelp.c,
	  programs/winhelp/winhelp_res.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	No longer using explicit values for resource identification.

	* dlls/comctl32/header.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix notification from header, on item changed.
	Small indentation fixes.

	* dlls/commdlg/printdlg.c: Duane Clark <dclark@akamail.com>
	Set the return value of the PD_PAGENUMS flag.

	* programs/notepad/dialog.c: Duane Clark <dclark@akamail.com>
	Implement printing in notepad.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c,
	  dlls/d3d8/volume.c, dlls/d3d8/volumetexture.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Add the basic support for volume textures / volumes (3d textures).

	* dlls/winmm/mmio.c, dlls/winmm/mmsystem.c, dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Keep on moving 16 bit code out of winmm, now only using linear
	addresses for buffers.

	* programs/winhelp/macro.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Implemented a few more macros for button manipulation
	(enable/disable/changing macro).

	* programs/winhelp/hlpfile.c, programs/winhelp/hlpfile.h,
	  programs/winhelp/winhelp.c, programs/winhelp/winhelp.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Improved a bit link handling (a few more link types loaded from file
	and support for link to a macro).

	* windows/msgbox.c: Dmitry Timoshkov <dmitry@baikal.ru>
	Actually use language identifier.

	* dlls/comctl32/toolbar.c: Duane Clark <dclark@akamail.com>
	Correct the behavior for disabled toolbar buttons.

2002-10-19  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not create a range list for an empty range.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Store the entire format bitmap in the column info.
	Rewrite GetColumnT to take advantage of that.
	Related cleanups, and simplifications.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Column zero has the image enabled always, irrespective of format.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Unify {Insert,Set}ColumnT as much as possible.
	Fix a bunch of problems in SetColumnT.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix function header documentation.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Better report mode.
	Use the new column information to simplify, and speed up the code.
	Enable support for images in subitems (in LVS_REPORT mode).

	* include/winuser.h, windows/msgbox.c:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Convert MessageBox family functions to unicode.

	* include/rpcproxy.h: Greg Turner <gmturner007@ameritech.net>
	Patch cruft removal.

	* dlls/rpcrt4/ndr_stubless.c, dlls/rpcrt4/rpcrt4.spec,
	  include/rpcndr.h:
	Greg Turner <gmturner007@ameritech.net>
	Super-crude implementation for NdrClientCall2.
	Specs and headers for NdrClientInitializeNew,
	NdrConformantStringMarshall, NdrGetBuffer, NdrFreeBuffer, and
	NdrSendReceive.

	* dlls/rpcrt4/rpc_server.c: Greg Turner <gmturner007@ameritech.net>
	Fix up RpcMgmtWaitServerListen to be less incorrect.

	* dlls/rpcrt4/ndr_midl.c, dlls/rpcrt4/ndr_misc.h:
	Greg Turner <gmturner007@ameritech.net>
	Some MIDL constants and structures (should eventually move to rpcndr.h
	I think).
	Stubs for NdrClientInitializeNew, NdrConformantStringMarshall,
	NdrGetBuffer, NdrFreeBuffer, and NdrSendReceive (not in specfile yet).

	* include/wine/winbase16.h, loader/task.c:
	Get/SetFastQueue16 should use HQUEUE16 handles.

	* dlls/winmm/mciavi/mmoutput.c, dlls/winmm/mciwave/mciwave.c,
	  dlls/winmm/winealsa/audio.c, dlls/winmm/winearts/audio.c,
	  dlls/winmm/winenas/audio.c, include/windef.h, include/winnt.h:
	Removed DECLARE_OLD_HANDLE. Fixed a few remaining warnings.

	* tools/winedump/msmangle.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	demangle_datatype: delete superflous free().

	* dlls/ddraw/ddraw/user.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Add 3D support at the User driver level.

	* dlls/shdocvw/webbrowser.c, include/wine/obj_webbrowser.h:
	Malte Starostik <malte@kde.org>
	Fixed IWebBrowser::Navigate() parameter type.
	Added IWebBrowserApp and related typedefs.

	* Make.rules.in, tools/wmc/write.c: Martin Fuchs <martin-fuchs@gmx.net>
	Corrected the alignment of unicode message table strings in wmc, and
	switched to unicode for message strings, so that FormatMessage() now
	works.

	* server/Makefile.in, server/process.c, server/queue.c,
	  server/request.c, server/sock.c, server/trace.c, server/user.c,
	  tools/make_requests:
	Converted the server to -DSTRICT.

	* documentation/configuring.sgml, documentation/running.sgml:
	Bill Medland <Bill.Medland@accpac.com>
	Add documentation on how to modify what --debugmsg +relay reports.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	When deleting an item, remove selection, don't add it!

	* include/user.h, windows/hook.c:
	Changed the USER_HEAP_* macros to use HANDLEs instead of HANDLE16s.

	* controls/menu.c, dlls/user/dde/client.c, dlls/user/text.c,
	  windows/win.c, windows/winproc.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Silence some warnings due to casts between pointer and integers of
	different size.

	* dlls/user/dde/misc.c: Michael Stefaniuc <mstefani@redhat.de>
	Fix warnings when converting between an ATOM and a HSZ.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	More traces to help us make sense of the output.
	Faster, cleaner ranges_{add,del}.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix ranges insertion bug (specify DPAS_SORTED when searching).
	Add a lot of assert-ed consistency checks.
	Add bunch of trace messages.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Inspect style bits independently on style change.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Rewrite StyleChanged procedure
	  o some bugs have been fixed
	  o cleaner, simpler code
	Fix some corner case, icon size computation bugs.
	Assorted docs updates.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Keep track of per-column information inside the listview.
	Cache header rectangles.
	Used the cached info instead of calling to the header each time.
	Update the listview as we track column width changes.
	Unify column handling between {Insert,Delete}Column, and width
	changes.
	Simplify RefreshReport, by using the new column info.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not query items that are just being inserted.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Reorganize things a bit so that we no longer need the 'valid' flag on
	each item.
	Small comments update.

	* programs/winhelp/hlpfile.c, programs/winhelp/winhelp.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added support for BTrees in file header reading.
	Fixed bogus palette length computation while reading bitmap.
	Fixed rendering while starting a page with a bitmap.

	* dlls/Makefile.in, dlls/avifil32/Makefile.in,
	  dlls/avifil32/wavfile.c:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	- Fixed loading of wave files.
	- Corrected AVIFILEINFOW structure updates.
	- Implemented saving of wave files.

	* dlls/avifil32/avifile.c: Michael Günnewig <MichaelGuennewig@gmx.de>
	Fixed very slow loading of index.

2002-10-18  Alexandre Julliard  <julliard@winehq.com>

	* dlls/avicap32/avicap32_main.c, dlls/avifil32/api.c,
	  dlls/avifil32/extrachunk.c, dlls/avifil32/factory.c,
	  dlls/comcat/comcat_main.c, dlls/crtdll/crtdll_main.c,
	  dlls/d3d8/directx.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/ddraw/ddraw/main.c, dlls/ddraw/dsurface/dib.c,
	  dlls/ddraw/dsurface/main.c, dlls/ddraw/dsurface/user.c,
	  dlls/dinput/device.c, dlls/dsound/mixer.c,
	  dlls/msimg32/msimg32_main.c, dlls/msisys/msisys.c,
	  dlls/netapi32/netapi32.c, dlls/odbc32/proxyodbc.c,
	  dlls/olecli/olecli_main.c, dlls/oledlg/oledlg_main.c,
	  dlls/olesvr/olesvr_main.c, dlls/opengl32/wgl.c,
	  dlls/rasapi32/rasapi.c, dlls/richedit/richedit.c,
	  dlls/rpcrt4/cpsf.c, dlls/rpcrt4/rpc_server.c,
	  dlls/serialui/confdlg.c, dlls/setupapi/devinst.c,
	  dlls/setupapi/install.c, dlls/setupapi/setupx_main.c,
	  dlls/snmpapi/main.c, dlls/twain/twain32_main.c,
	  dlls/urlmon/urlmon_main.c, dlls/win32s/w32sys.c,
	  dlls/winaspi/winaspi32.c, dlls/winedos/dosvm.c,
	  dlls/winedos/module.c, dlls/wineps/bitmap.c, dlls/wineps/brush.c,
	  dlls/wineps/clipping.c, dlls/wineps/escape.c, dlls/wineps/font.c,
	  dlls/wineps/init.c, dlls/wineps/pen.c, dlls/wininet/internet.c,
	  dlls/winmm/mciavi/info.c, dlls/winmm/mciavi/mciavi.c,
	  dlls/winmm/mciavi/wnd.c, dlls/winmm/mciseq/mcimidi.c,
	  dlls/winmm/mciwave/mciwave.c, dlls/winmm/wineoss/midi.c,
	  dlls/wintrust/wintrust_main.c:
	Fixed warnings caused by conversion to -DSTRICT.

	* dlls/advapi32/Makefile.in, dlls/comctl32/Makefile.in,
	  dlls/commdlg/Makefile.in, dlls/dplayx/Makefile.in,
	  dlls/gdi/Makefile.in, dlls/imagehlp/Makefile.in,
	  dlls/imm32/Makefile.in, dlls/kernel/Makefile.in,
	  dlls/lzexpand/Makefile.in, dlls/mpr/Makefile.in,
	  dlls/msacm/Makefile.in, dlls/msvcrt/Makefile.in,
	  dlls/msvideo/Makefile.in, dlls/ntdll/Makefile.in,
	  dlls/ole32/Makefile.in, dlls/oleaut32/Makefile.in,
	  dlls/psapi/Makefile.in, dlls/shell32/Makefile.in,
	  dlls/shlwapi/Makefile.in, dlls/tapi32/Makefile.in,
	  dlls/ttydrv/Makefile.in, dlls/user/Makefile.in,
	  dlls/winmm/Makefile.in, dlls/winmm/wavemap/Makefile.in,
	  dlls/winsock/Makefile.in, dlls/winspool/Makefile.in,
	  dlls/x11drv/Makefile.in, include/wine/server_protocol.h,
	  include/winnt.h, server/Makefile.in, server/protocol.def:
	Added support for building certain dlls with -DSTRICT.
	Added -DWINE_NO_STRICT flag to dlls that don't support STRICT yet.

	* dlls/kernel/wowthunk.c, include/wownt32.h:
	Added FIXMEs for metafile and fullhwnd handle conversions that aren't
	supported properly yet.

	* dlls/gdi/gdi16.c, objects/gdiobj.c, objects/linedda.c:
	Moved EnumObjects16, LineDDA16 and associated glue code to gdi16.c.

	* dlls/gdi/Makefile.in, dlls/gdi/gdi16.c, dlls/gdi/gdi32.spec,
	  dlls/ole32/ole2.c, objects/clipping.c, objects/font.c:
	Split out some 16-bit GDI code.

	* dlls/user/user16.c, dlls/user/user_main.c, include/user.h,
	  objects/palette.c, windows/painting.c:
	Store the original GDI palette functions in pfnSelectPalette and
	pfnRealizePalette so that USER doesn't have to import them.

	* dlls/rpcrt4/ndr_stubless.c, dlls/rpcrt4/rpc_binding.c,
	  dlls/rpcrt4/rpc_server.c, dlls/rpcrt4/rpcrt4.spec, include/rpcdce.h:
	Greg Turner <gmturner007@ameritech.net>
	- (try to) implement RpcMgmtWaitServerListen
	- remove duplicate RpcServerListen declaration in rpcdce.h
	- some TRACEs

	* dlls/gdi/gdi16.c, objects/metafile.c:
	Converted PlayMetaFileRecord and related functions to 32-bit.

	* dlls/kernel/kernel32.spec, dlls/kernel/wowthunk.c, if1632/relay.c,
	  include/wine/winbase16.h, scheduler/thread.c,
	  tools/winebuild/relay.c, tools/winebuild/spec16.c:
	Merged wine_call_to_16_long and wine_call_to_16_short into a single
	function.

	* include/wine/port.h, library/port.c, loader/ne/resource.c:
	Added wine_memcpy_unaligned function to avoid gcc memcpy
	optimizations.

	* include/vfw.h: Michael Günnewig <MichaelGuennewig@gmx.de>
	- Add FIND_* constants.
	- Add AVISAVECALLBACK declaration.
	- Add declaration for some AVI functions.
	- Add some AVI macros.

	* dlls/Makefile.in, dlls/avifil32/.cvsignore,
	  dlls/avifil32/Makefile.in, dlls/avifil32/api.c,
	  dlls/avifil32/avifil32.spec, dlls/avifil32/avifile.c,
	  dlls/avifil32/avifile_De.rc, dlls/avifil32/avifile_En.rc,
	  dlls/avifil32/avifile_private.h, dlls/avifil32/extrachunk.c,
	  dlls/avifil32/extrachunk.h, dlls/avifil32/factory.c,
	  dlls/avifil32/getframe.c, dlls/avifil32/rsrc.rc,
	  dlls/avifil32/wavfile.c, winedefault.reg:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	- Add wavefile handler.
	- Add implementation for IGetFrame.
	- Implemented loading and writing of AVIs.
	- Add some more stubs for some API functions.
	- Add resources to avifil32.dll.
	- Implemented AVISaveOptionsFree.
	- Declared IID_* as extern in avifil32.spec (avoids linker problem).

	* programs/avitools/aviinfo.c:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	Fixed memory leak (release AVI stream).

	* dlls/kernel/comm.c: Stefan Leichter <Stefan.Leichter@camLine.com>
	BuildCommDCBAndTimeoutsA: Made the argument parsing case insensitive.

	* tools/winapi/msvcmaker: Patrik Stridvall <ps@leissner.se>
	- Better .dsp file generation for .exe outputs
	- Added generation of winetest.dsw for building wine tests under
	  Windows (currently very kludgy, but it works to some extent).

	* programs/winefile/winefile.c: Martin Fuchs <martin-fuchs@gmx.net>
	Removed warning "SetWindowText(0, ...)" when opening new windows.

	* dlls/comctl32/header.c: Martin Fuchs <martin-fuchs@gmx.net>
	pszText is stored as Unicode, so call DrawTextW() instead of
	DrawTextA().

2002-10-17  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Instrument SetItemT to change only _one_ item at a time. That is, if
	we have to change focus, we call it recursively to first remove the
	focus from the item that has it. This allows simpler, and more correct
	invalidation handling.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Unify set_{owner,main}_item functions.
	Fix {old,new}state and lParam reporting in LVN_ITEMCHANG{ING,ED}.
	Fix sanity check conditions for LVS_OWNERDATA.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	More, better tracing to help nail down some crashes.
	Fix typo in GetItemT (found, and fixed by Huw Davies).
	Exit right away from GetItemT if nothing is asked (mask == 0).
	Assorted code cleanups.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Deal with sparsely populated listviews.
	Crash on internal corruption.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Add ability to create an iterator over a range list.
	Fix memory leak when destroying ranges.
	Add function that will to a 'deep' clone of a range list.
	Add function that will subtract a range list from another.
	Do not crash on NULL ranges (similar in spirit to HDPAs).
	Fancy deselection routines uses the above infrastructure to deselect
	the minimum possible.
	Modify SetGroupSelection to take advantage of all this new
	infrastructure, to avoid flicker on selection extension.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Change the definition of ranges to exclude the upper bound.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Handle range tracing in a consistent fashion.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Remove dated comments.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Better encapsulation of the ranges concept.

	* dlls/kernel/kernel32.spec, dlls/kernel/wowthunk.c,
	  dlls/user/msg16.c, dlls/user/wnd16.c, dlls/winedos/module.c,
	  windows/message.c, windows/winproc.c:
	Use the WOWHandle functions to convert between task handle and thread
	id. Stop exporting TASK_GetPtr and THREAD_IdToTEB from kernel.

	* scheduler/process.c:
	Build a default command-line if the one we received is an empty
	string.

	* windows/win.c: Fixed typo in EnumThreadWindows.

	* dlls/rpcrt4/cproxy.c: Fixed compilation for non-i386.

	* controls/listbox.c, controls/menu.c, controls/static.c,
	  dlls/commdlg/cdlg.h, dlls/gdi/gdi16.c, dlls/gdi/win16drv/prtdrv.c,
	  dlls/msvideo/msvideo16.c, dlls/msvideo/msvideo_main.c,
	  dlls/msvideo/vfw16.h, dlls/ole32/ole2.c,
	  dlls/setupapi/setupx_main.c, dlls/shell32/shell.c,
	  dlls/shell32/shell32_main.h, dlls/shell32/shlexec.c,
	  dlls/user/msg16.c, dlls/user/property.c, dlls/user/resource.c,
	  dlls/user/user16.c, dlls/user/wnd16.c, dlls/wineps/driver.c,
	  dlls/winmm/mcianim/mcianim.c, dlls/winmm/mciavi/private_mciavi.h,
	  dlls/winmm/mcicda/mcicda.c, dlls/winmm/mciseq/mcimidi.c,
	  dlls/winmm/mciwave/mciwave.c, dlls/winmm/winemm.h,
	  dlls/winsock/async.c, dlls/winsock/socket.c, include/user.h,
	  include/win.h, include/wownt32.h, include/wine/winsock16.h,
	  windows/class.c, windows/cursoricon.c, windows/dialog.c,
	  windows/hook.c, windows/mdi.c, windows/spy.c, windows/struct32.c,
	  windows/win.c, windows/winhelp.c, windows/winproc.c:
	Fixed wownt32.h to make it usable from inside Wine, and use it to
	avoid some duplication of the handle conversion macros.

	* dlls/user/Makefile.in, dlls/user/caret.c, dlls/user/user32.spec,
	  dlls/user/wnd16.c, dlls/x11drv/winpos.c, include/win.h,
	  include/wine/server_protocol.h, server/protocol.def, server/queue.c,
	  server/request.h, server/trace.c, windows/caret.c, windows/scroll.c,
	  windows/win.c:
	Rewrote caret implementation to store the information in the server.

	* graphics/x11drv/xfont.c: Malte Starostik <malte@kde.org>
	Added progress messages while building font metrics.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	- Dont set lighting during draw primitive, rely on the render state.
	- Small fix for alpha testing.
	- Add support to enable/disable clipping as a whole.
	- Allow D3DRS_TEXTUREFACTOR to be changed once texture stage arg set
	  up.
	- D3DTOP_DISABLE initial implementation.

	* dlls/ddraw/d3ddevice/mesa.c: Christian Costa <titan.costa@wanadoo.fr>
	Implement OpenGL overriding of surface's flip method.
	Remove broken code.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Notification code cleanup, more traces, etc.

	* include/commctrl.h: Dimitrie O. Paun <dpaun@rogers.com>
	Add/update the listview structures to version 6.0.

	* dlls/winmm/winearts/audio.c: Malte Starostik <malte@kde.org>
	Initialize winearts's volume level to full, so applications that don't
	set the volume are audible.

	* dlls/comctl32/commctrl.c: Jerry Jenkins <Jerry_J_Jenkins@hotmail.com>
	Added missing RemoveProp calls.

	* programs/winefile/winefile.c: Martin Fuchs <martin-fuchs@gmx.net>
	Correct initial display of file listing.

2002-10-16  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	We need to provide focus info always in ICON mode (spotted by Huw
	Davies).

	* dlls/comctl32/listview.c: Mike McCormack <mike@codeweavers.com>
	Duplicate selected items list in LISTVIEW_RemoveAllSelections to
	prevent infinite loops.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Remember the global colors in custom draw mode.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Compute only the old state that we're gonna look at.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Instrument SetItemT to avoid repainting if nothing changed.
	Teach RemoveAllSelections to skip an item, so we can eliminate the
	flicker when we click on a selected item.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix bug in edit label when sending the text to the app.
	Cleanup the handling of nEditLabelItem.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Edit label cleanup.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix bug in ranges_shift which was corrupting selections.
	Fix click notification (found and fixed by Alexandre Julliard).
	Fix bug in setting item's state (some selection changes were lost).
	Simplify selection code substantially.
	Add a lot of debug tracing.

	* documentation/configuring.sgml: Bill Medland <medbi01@accpac.com>
	Add a section on using ODBC.

	* dlls/msvcrt/except.c, dlls/msvcrt/msvcrt.spec:
	Implemented _seh_longjmp_unwind.

	* programs/cmdlgtst/cmdlgtst.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix the ofn flags setup.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/main.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Associate texture to the device when GetHandle is called and perform
	the appropriate AddRef/Release.
	Fix 3_3_2 pixel format.
	Move some ENTER_GL() calls to the right place.
	Fix some FIXME/TRACE calls.

	* dlls/comctl32/comboex.c, dlls/comctl32/imagelist.c,
	  dlls/comctl32/ipaddress.c, dlls/comctl32/progress.c,
	  dlls/comctl32/status.c, dlls/comctl32/trackbar.c,
	  dlls/comctl32/updown.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Add comment on what is known about the current state of the controls
	relative to comctl32.dll version 6.0.

	* dlls/rpcrt4/ndr_stubless.c, include/rpcndr.h:
	Greg Turner <gmturner007@ameritech.net>
	Use the msvc way to return a struct, fixing wierd problems.

	* programs/winefile/winefile.c: Martin Fuchs <martin-fuchs@gmx.net>
	Implemented program launching by double click.

2002-10-15  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix iterator creation for LVS_LIST mode.
	Do not update the infoPtr->nItemWidth in set_main_item.
	Better handling of text bk colour in custom draw.
	Rename GetItemListOrigin to GetItemOrigin.
	A bunch of code cleanups, simplifications, etc.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	No longer compute the ill-defined bounds in GetItemMetrics.
	Fix a bunch of bug in subitem metrics computation.
	Properly implement GetSubItemRect in terms of GetItemMetrics.
	Documentation updates, and code cleanups.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Teach GetItemMetrics to deal with subitems in report mode as well.
	Unify Draw{,Sub}Item, simplify RefreshReport.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix iterator creation for LVS_LIST mode.
	Use assert() instead of hand-made hack.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix iterators to properly deal with LVS_{,SMALL}ICON modes.
	Unify the Refresh{List,Icon} functions.
	Simplify HitTest to make full use of the iterators.
	Fix selection bounds in HitTest.
	Avoid empty default to silence warning in gcc 3.2.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Iterator updates:
	   Add the notion of a special item which sits at the start of the
	   list.
	   Add the ability to iterate in both directions through the list.
	   Document the iterator interface.
	   Remove iterator_visibleitems.
	   Rename iterator_clippeditems to iterator_visibleitems for
	   consistency.
	Use the new bidirectionality to paint the items in decreasing order.

	* dlls/user/lstr.c, dlls/winmm/lolvldrv.c, windows/painting.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Compile fix when all handles are converted to a void*.

	* loader/module.c:
	Fixed reference count handling to support LoadLibrary during a process
	attach.

	* programs/winefile/rsrc.rc, programs/winefile/winefile.c,
	  programs/winefile/winefile.h:
	Martin Fuchs <martin-fuchs@gmx.net>
	- Fixed building unter native WIN32.
	- Fixed display of filenames in tree pane.

	* dlls/msvcrt/scanf.c, dlls/msvcrt/scanf.h:
	György 'Nog' Jeney <nog@sdf.lonestar.org>
	Implement [ format specifier.

	* programs/winedbg/gdbproxy.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Silence warning in hex_from0().

	* msdos/dpmi.c: David Hammerton <david@transgaming.com>
	Get descriptor should return correct segment limit.

	* dlls/shell32/shell32_main.c:
	Steve Lustbader <steve.lustbader@philips.com>
	Fix off-by-one error in determining number of arguments.

	* tools/winapi/winapi_extract, tools/winapi/winapi_extract_options.pm,
	  tools/winapi_check/modules.dat,
	  tools/winapi_check/winapi_c_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Fixed broken winapi_extract options --{pseudo-,}stub-statistics.
	- Added new winapi_extract options --{pseudo-,}implemented.

	* dlls/comctl32/imagelist.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not merge image with garbage background. Based on a patch by Carlos
	<clozano@andago.com>.

	* dlls/crypt32/crypt32.spec, dlls/crypt32/main.c:
	Christian Neumair <chris@gnome-de.org>
	Stub for the CryptRegisterOIDFunction function.

	* dlls/gdi/tests/generated.c, dlls/kernel/tests/generated.c,
	  dlls/ntdll/tests/.cvsignore, dlls/ntdll/tests/Makefile.in,
	  dlls/ntdll/tests/generated.c, dlls/user/tests/generated.c:
	Patrik Stridvall <ps@leissner.se>
	Updated the generated tests.

	* tools/winapi/winapi_test: Patrik Stridvall <ps@leissner.se>
	Don't use a special header file for macros used in generated tests.
	Have a copy in each generated file instead.

	* dlls/comctl32/trackbar.c: Michael Günnewig <MichaelGuennewig@gmx.de>
	Fixed division by zero, when range is 0.

	* tools/wineinstall: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Actually compile Wine even if not installing as root.

2002-10-13  Alexandre Julliard  <julliard@winehq.com>

	* winedefault.reg: Roderick Colenbrander <thunderbird2k@gmx.net>
	Set DirectX version to 8.1.

	* dlls/comctl32/propsheet.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Add function to get size of in-memory resource and used this function
	to copy resource to writable memory.

	* tools/wineinstall: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Allow wineinstall to be run from tools/ or from the main Wine
	directory.

	* dlls/d3d8/device.c: Jason Edmeades <us@the-edmeades.demon.co.uk>
	- ClipPlanes work better.
	- Culling now configures itself properly.

	* dlls/commdlg/filedlg.c: Carlos <clozano@andago.com>
	Avoid crashes when ofnW->lpstrFile is null.

2002-10-12  Alexandre Julliard  <julliard@winehq.com>

	* include/queue.h, windows/queue.c:
	Remove no longer used PERQUEUEDATA structure and functions.

	* windows/input.c, windows/message.c, controls/menu.c,
	  dlls/x11drv/winpos.c, include/message.h,
	  include/wine/server_protocol.h, server/protocol.def, server/queue.c,
	  server/request.h, server/trace.c:
	Moved mouse capture handling into the server.

	* include/win.h, windows/win.c:
	Reimplemented GetLastActivePopup to get the information from the
	server.

2002-10-11  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/event.c, dlls/x11drv/winpos.c, include/user.h,
	  include/win.h, include/wine/server_protocol.h, include/winpos.h,
	  server/protocol.def, server/queue.c, server/request.h,
	  server/trace.c, server/user.h, server/window.c, windows/focus.c,
	  windows/message.c, windows/nonclient.c, windows/win.c,
	  windows/winpos.c, dlls/user/Makefile.in, dlls/user/focus.c,
	  dlls/user/message.c:
	Reimplemented Get/SetActiveWindow, Get/SetFocus and
	Get/SetForegroundWindow by storing the information in the
	server. Implemented correct inter-process window activation.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Rename GetItemHeight to CalculateMaxHeight, for consistency
	Fix usage of nItemWidth vs. iconSpacing.cx
	Misc cleanups.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Use the item box rather than the bounds when invalidating.
	Implement 'bPartial' in EnsureVisible.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Significantly improve the lighting code.

	* server/trace.c, server/user.h, server/window.c, windows/queue.c,
	  dlls/user/message.c, dlls/user/user32.spec,
	  include/wine/server_protocol.h, include/winuser.h,
	  server/protocol.def, server/queue.c, server/request.h:
	Added server-side infrastructure for the thread input structure.
	Reimplemented AttachThreadInput() and added GetGUIThreadInfo().

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Unify DrawLargeItem with DrawItem.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Use GetItemMetrics instead of GetItemMeasures.
	Remove GetItemMeasures.
	Add GetItemBox which only returns the boundary of the item.

	* dlls/rpcrt4/Makefile.in, dlls/rpcrt4/ndr_ole.c,
	  dlls/rpcrt4/rpcrt4.spec:
	Ove Kaaven <ovek@transgaming.com>
	Added NdrOleAllocate, NdrOleFree, NdrInterfacePointerBufferSize,
	NdrInterfacePointerFree, NdrInterfacePointerMarshall,
	NdrInterfacePointerMemorySize, NdrInterfacePointerUnmarshall.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Be real tough on internal programming errors.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Remove support for owner drawn listviews in non-REPORT mode.  We need
	to do this since Windows supports owner draw *only* in report mode,
	and hence apps are not prepared to handle drawing in other modes.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Use GetItemMetrics instead of GetItemMeasures when drawing.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Make use of the new GetItemMetrics in HitTest, to avoid code
	duplication.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Separate item metrics computation from positioning
	Add support for computing state icon metrics.

	* tools/winapi/c_parser.pm, tools/winapi/c_type.pm,
	  tools/winapi/tests.dat, tools/winapi/winapi_extract,
	  tools/winapi/winapi_test:
	Patrik Stridvall <ps@leissner.se>
	- Improved alignment and offset calculations.
	- Reorganized and improved enum/union/struct parsing.

	* dlls/rpcrt4/Makefile.in, dlls/rpcrt4/rpc_server.c,
	  dlls/rpcrt4/rpc_server.h, dlls/rpcrt4/rpcrt4.spec,
	  dlls/rpcrt4/rpcrt4_main.c:
	Ove Kaaven <ovek@transgaming.com>
	Reimplement several RpcServer.* methods in rpc_server.c.
	Implement RpcServerInqBindings, I_RpcServerStartListening,
	I_RpcServerStopListening, and I_RpcWindowProc.

	* dlls/msimg32/Makefile.in: Greg Turner <gmturner007@ameritech.net>
	Added missing kernel32 import.

	* dlls/comctl32/listview.c:
	LVS_OWNERDRAWFIXED should only take effect in REPORT mode.

2002-10-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makefile.in, dlls/rpcrt4/Makefile.in, dlls/rpcrt4/cpsf.c,
	  dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c:
	Ove Kaaven <ovek@transgaming.com>
	Added NdrDllCanUnloadNow, NdrDllGetClassObject, NdrDllRegisterProxy,
	NdrDllUnregisterProxy, CStdPSFactory methods.

	* dlls/Makefile.in, dlls/avifil32/Makefile.in, dlls/avifil32/api.c,
	  dlls/avifil32/avifil32.spec, dlls/avifil32/avifile.c,
	  dlls/avifil32/avifile.spec, dlls/avifil32/avifile_private.h,
	  dlls/avifil32/factory.c, include/vfw.h:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	- Move the API into a new api.c file.
	- Added IClassFactory implementation.
	- Added IPersistFile implementation to the AVI-file handler.

	* dlls/x11drv/keyboard.c:
	Nerijus Baliunas <nerijus@users.sourceforge.net>
	Better Lithuanian keyboard layout.

	* dlls/shell32/iconcache.c: Avoid calling FindExecutable16.

	* dlls/winmm/driver.c, dlls/winmm/mci.c, dlls/winmm/mmsystem.c,
	  dlls/winmm/time.c, dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Keep on moving 16 bit code out of winmm.

	* dlls/ddraw/ddraw/user.c: Christian Costa <titan.costa@wanadoo.fr>
	Initialize the DDCAPS structure of the DDRAW object at creation.

	* dlls/ddraw/dsurface/main.c: Christian Costa <titan.costa@wanadoo.fr>
	Main_DirectDrawSurface_QueryInterface: enable creation of a
	IDirect3DTexture2 from a surface.

	* dlls/rpcrt4/Makefile.in, dlls/rpcrt4/ndr_midl.c,
	  dlls/rpcrt4/rpcrt4.spec, include/rpcproxy.h:
	Ove Kaaven <ovek@transgaming.com>
	Added NdrProxyFreeBuffer, NdrProxyGetBuffer, NdrProxyInitialize,
	NdrProxySendReceive, NdrStubGetBuffer, NdrStubInitialize.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix drawing bug introduced with the custom notification
	reorganization.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Simplify the report mode, and item drawing considerably.
	Fix full row select in report mode.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Handle custom draw notifications properly.
	Various cleanups, and simplifications.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Remove superfluous abstractions which make the code harder to
	understand.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Move the custom draw notifications into the Draw.*Item functions.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Move the custom draw item notifications down into DrawLargeItem.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix silly redraw bug introduced in previous patch.
	Tidy up, and simplify large item drawing.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Implement WM_SETREDRAW properly.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Rework the mouse click notifications
	Assorted cleanups, and simplifications.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Use (semi)standard HitTest, rather then our own little invention.
	Get rid of GetItemAtPt.
	Fix HitTest but in REPORT mode.

	* dlls/msacm/Makefile.in: Eric Pouech <eric.pouech@wanadoo.fr>
	Moved out 16 bit code.

	* dlls/winmm/winemm.h, dlls/winmm/winmm.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Removed no longer needed list of instance data.

	* dlls/ddraw/d3d_private.h, dlls/ddraw/d3dcommon.c,
	  dlls/ddraw/dsurface/main.c, dlls/ddraw/mesa.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added some TRACEs to the ddraw code.

	* dlls/rpcrt4/Makefile.in, dlls/rpcrt4/cstub.c,
	  dlls/rpcrt4/rpcrt4.spec:
	Ove Kaaven <ovek@transgaming.com>
	Implement the CStdStubBuffer methods.

	* graphics/x11drv/bitmap.c, include/cursoricon.h, include/user.h,
	  include/windef.h, msdos/interrupts.c, windows/class.c,
	  windows/cursoricon.c, windows/defwnd.c, windows/mdi.c,
	  windows/msgbox.c, windows/nonclient.c, windows/win.c,
	  dlls/shlwapi/ordinal.c, dlls/user/exticon.c, dlls/x11drv/desktop.c,
	  dlls/x11drv/window.c, dlls/x11drv/winpos.c, dlls/commdlg/filedlg.c,
	  dlls/ole32/ole2.c, dlls/shell32/dialogs.c, dlls/shell32/iconcache.c,
	  dlls/shell32/shell.c, dlls/shell32/shell32_main.c,
	  dlls/shell32/shell32_main.h, dlls/comctl32/propsheet.c,
	  dlls/comctl32/status.c, controls/static.c, dlls/comctl32/listview.c:
	Michael Stefaniuc <mstefani@redhat.de>
	- change the internal functions in windows/cursoricon.c to use 32bit
	  handles
	- move the implementation of ExtractAssociatedIcon16 to
	  ExtractAssociatedIconA
	- convert HICON to a void*
	- fixed some handle conversions that happened to be in the way while
	  doing the above

	* dlls/rpcrt4/Makefile.in, dlls/rpcrt4/cproxy.c, dlls/rpcrt4/cpsf.h,
	  dlls/rpcrt4/rpcrt4.spec:
	Ove Kaaven <ovek@transgaming.com>
	IUnknown_[QAR]_Proxy implementations, VTbl construction, the dreaded
	ObjectStubless, and other proxy-related goodies.

	* include/winuser.h, controls/combo.c, dlls/user/user32.spec:
	Steve Lustbader <steve.lustbader@philips.com>
	Provide a stub for GetComboBoxInfo.

	* dlls/setupapi/setupapi.spec, dlls/setupapi/stubs.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	More stubs.

	* dlls/rpcrt4/Makefile.in, dlls/rpcrt4/ndr_misc.h,
	  dlls/rpcrt4/ndr_stubless.c, dlls/rpcrt4/rpcrt4.spec,
	  include/rpcndr.h:
	Ove Kaaven <ovek@transgaming.com>
	Stubby NdrClientCall2 & some header changes.

	* dlls/setupapi/devinst.c, dlls/setupapi/setupapi.spec,
	  include/setupapi.h:
	Steve Lustbader <steve.lustbader@philips.com>
	Provide stub for SetupDiGetClassDevsW.
	Fix return value of SetupDiGetClassDevsA.

	* dlls/comctl32/listview.c: Paul Rupe <prupe@myrealbox.com>
	Scroll the listview when doing multiple selections.

	* dlls/rpcrt4/Makefile.in, dlls/rpcrt4/rpc_defs.h,
	  dlls/rpcrt4/rpc_message.c, dlls/rpcrt4/rpcrt4.spec,
	  dlls/rpcrt4/rpcrt4_main.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented I_RpcFreeBuffer, I_RpcGetBuffer, I_RpcReceive, I_RpcSend,
	I_RpcSendReceive; administrivia.

	* dlls/msvcrt/except.c:
	Fixed sign extension bug in EH_prolog, and made trylevel an int to
	avoid similar problems.

	* dlls/ntdll/ntdll.spec:
	Make sure all Zw functions whose Nt equivalent is implemented are
	implemented too.

	* configure.ac, dlls/winmm/winenas/Makefile.in, configure:
	Francois Gouget <fgouget@codeweavers.com>
	The NAS headers and libraries are sometimes stored in the X
	directories.

	* controls/scroll.c: Andrew M. Johnston <johnstonam@logica.com>
	Make info structure members lower case as elsewhere.

	* configure: Updated with autoconf 2.54.

	* dlls/winmm/Makefile.in, dlls/winmm/mci.c, dlls/winmm/mmsystem.c,
	  dlls/winmm/playsound.c, dlls/winmm/winemm.h, dlls/winmm/winmm.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Started putting all 16 bit code in separate files.

	* dlls/msvideo/msrle32/msrle32.c, documentation/samples/system.ini:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	Prevent some segfaults in msrle32.
	Add the necessary line to the sample system.ini for using this video
	codec.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Narrow down the items we iterate over in LIST, and REPORT mode.
	Fix a Client --> List coordinate transformations in FindItem.
	Fix bug in HitItem (in LIST and REPORT mode).
	Avoid the last bit of drawing in REPORT mode.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Draw _only_ the items that are invalidated.
	Fix serious bug when deleting from a range.
	Pass in a range to the ranges_{add,del} functions.
	Tidy up the RefreshIcon function.
	Assorted cleanups.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Reimplement FindItem (cleaner, faster, more compliant with MSDN).

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Rewrite HitTest to make it pretty, and very fast.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Introduce the notion of item iterators, and use them to clean up code.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Separate range manipulation functions from selection ranges.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix large item label calculation when not focused.
	Fancy focus rectangle handling.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix focus handling when deleting items, or changing modes.
	Better label rect calculation in ICON mode.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix large item handling focus in ICON mode.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	No need to go through the heavy duty rect computation when in OWNERDRAW.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Factor out owner draw code, so that it works for all modes.
	Documentation updates.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Factor out the computation of item position, so it can be used
	independently of the rectangles.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Unify LISTVIEW_UpdateLargeItemLabelRect, and GetItemMeasures.
	Optimize GetItemMeasures to the max.
	Centralize the DrawText's DT_* flags.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Get rid of 'goto's in GetItemMeasures.
	Move LISTVIEW_UpdateLargeItemLabelRect close to where it's used.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix braino in calculation of LVS_LIST origin.
	Invalidate the entire window when we are invalidating the list.

2002-10-09  Alexandre Julliard  <julliard@winehq.com>

	* windows/mdi.c: Andrew M. Johnston <johnstonam@logica.com>
	Removed reference to SCROLL_SetNCSbState.

	* programs/wcmd/wcmdmain.c:
	Try CreateProcess even if SHGetFileInfo fails so that we can launch
	Unix binaries.

	* dlls/winmm/wineoss/audio.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed some multi-sound card related bugs.

	* dlls/user/message.c, include/queue.h:
	Avoid infinite SendMessage recursion, just like Windows does.

	* tools/winebuild/spec32.c:
	Don't list register functions in the .def file.

	* dlls/ntdll/string.c:
	Fixed buffer size in _ultoa (spotted by Joerg Mayer).

	* memory/environ.c, scheduler/process.c, files/directory.c:
	Transmit the Windows PATH to child processes using the WINEPATH
	variable.

	* dlls/winmm/wineoss/audio.c: Fixed file descriptor corruption.

	* dlls/kernel/tests/atom.c, dlls/kernel/tests/thread.c:
	Jeff Smith <whydoubt@hotmail.com>
	Spelling corrections.

	* documentation/samples/generic.ppd: Huw Davies <huw@codeweavers.com>
	Added A3 paper size.

	* dlls/user/wnd16.c: Michael Stefaniuc <mstefani@redhat.de>
	Fix handle conversions.

	* dlls/wininet/tests/http.c: Patrik Stridvall <ps@leissner.se>
	Fixed test to not fail behind firewalls or without an internet
	connection.

	* tools/winapi/c_parser.pm, tools/winapi/c_type.pm,
	  tools/winapi/tests.dat, tools/winapi/winapi_extract,
	  tools/winapi/winapi_test:
	Patrik Stridvall <ps@leissner.se>
	Reorganized the code for better support of data structures parsing.

2002-10-07  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, VERSION, configure: Release 20021007.

----------------------------------------------------------------
2002-10-07  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fixed bug that caused item texts to be empty.

	* configure.ac, dlls/Makefile.in, dlls/msrle32/.cvsignore,
	  dlls/msrle32/Makefile.in, dlls/msrle32/msrle32.c,
	  dlls/msrle32/msrle32.spec, dlls/msvideo/msrle32/.cvsignore,
	  dlls/msvideo/msrle32/Makefile.in, dlls/msvideo/msrle32/msrle32.c,
	  dlls/msvideo/msrle32/msrle32.spec, dlls/msvideo/msrle32/msrle_De.rc,
	  dlls/msvideo/msrle32/msrle_En.rc, dlls/msvideo/msrle32/msrle_Fr.rc,
	  dlls/msvideo/msrle32/msrle_private.h, dlls/msvideo/msrle32/rsrc.rc,
	  configure:
	Michael Günnewig <MichaelGuennewig@gmx.de>
	Implemented the MS RLE video codec.

	* include/miscemu.h, memory/instr.c, msdos/dosmem.c,
	  msdos/interrupts.c:
	Jukka Heinonen <jhei@iki.fi>
	Add support for interrupts in 32-bit code.
	Remove some unnecessary code from 16-bit interrupt emulation.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix nasty bug generated by UINT vs. INT (resulted in bogus
	comparisons).
	Fix LVIR_SELECTBOUNDS computation, for REPORT mode.
	Fix dependency generation in GetItemMeasures.
	Fix rectangle computation for REPORT mode (corner case problems).
	Better debug messages.
	Assorted cleanups.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Cleaned up the rectangle handling, and fixed numerous bugs in
	rectangle calculations.

	* configure, configure.ac, dlls/rpcrt4/Makefile.in,
	  dlls/rpcrt4/tests/.cvsignore, dlls/rpcrt4/tests/Makefile.in,
	  dlls/rpcrt4/tests/rpc.c:
	Greg Turner <gmturner007@ameritech.net>
	Added skeleton for rpcrt4 unit test with some UUID tests.

	* dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c:
	Greg Turner <gmturner007@ameritech.net>
	Implemented UuidCompare.

	* dlls/rpcrt4/Makefile.in, dlls/rpcrt4/rpc_binding.c,
	  dlls/rpcrt4/rpc_binding.h, dlls/rpcrt4/rpcrt4.spec,
	  dlls/rpcrt4/rpcrt4_main.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented RpcBindingInqObject, RpcBindingSetObject,
	RpcBindingVectorFree, RpcBindingToStringBindingA/W,
	RpcBindingFromStringBindingA/W, RpcStringBindingParseA/W,
	I_RpcBindingSetAsync, RpcStringBindingComposeA/W, RpcBindingFree,
	RPCStringFreeW, UUIDHash, UuidToStringW, and associated junk.

	* include/winbase.h, include/winnt.h, scheduler/timer.c,
	  dlls/kernel/kernel32.spec:
	Steve Lustbader <steve.lustbader@philips.com>
	Provide stubs for Create/DeleteTimerQueueTimer.

	* dlls/comctl32/listview.c: Paul Rupe <prupe@myrealbox.com>
	Fix inaccurate listview scrolling with PgUp/Down and Home/End keys.

	* dlls/avicap32/Makefile.in, dlls/avicap32/avicap32.spec,
	  dlls/avicap32/avicap32_main.c:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Added stubs for capCreateCaptureWindowA/W to get freeVCR started
	without crash.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix silly bug in SetItemPosition (we should set it, not create a new
	one).

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Maintain the item position in {,SMALL}ICON mode separataly from the
	item, so that we have it even in LVS_OWNERDATA.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Cleanup the SetItemPosition interface.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Remove the COUNT_OF macro.
	Indentation fixes, and minor cleanups to notify_dispinfoT.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fixes bug which rendered virtual listboxes always empty.
	Smarter focus rectangle drawing.
	Fix focus handling when we add/delete a column.
	Fix silly bug in GetSubItemRect.
	Elimiante flicker in Report mode.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Cleanup, and clarify the handling of the various rectangles.
	Fix handling of large items in ICON mode.
	Fix calculation of LVIR_SELECTBOUNDS.
	Various cleanups, and simplifications.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Cleanup of the way we maintain/lookup the item count.
	Rename GetItemWidth to CalculateMaxWidth.
	Misc trivial changes.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix focus handling for owner draw listviews.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix potential bug in RemoveAllItems.
	Fix report-mode ONWERDRAW bug (with help from Alexandre Julliard).
	Fix multiple selection bug (in report and list mode).
	Remove code duplication for removing selections.

	* dlls/kernel/kernel32.spec, include/winnls.h, memory/codepage.c:
	Steve Lustbader <steve.lustbader@philips.com>
	Implement GetUserDefaultUILanguage and GetSystemDefaultUILanguage.

	* dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c,
	  dlls/d3d8/surface.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Various fixes, typos corrected and clarifying trace points.

	* dlls/winmm/wineoss/audio.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Added support for several soundcard.
	Remove non full duplex mode in code.
	OSS Commercial doesn't properly handle SNDCTL_DSP_RESET, so close/open
	device to workaround this issue (by Ove Kaaven).

	* dlls/winmm/wavemap/wavemap.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Got rid of recursion in sub device opening.

	* dlls/winmm/mmsystem.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Let wave(Out|In)Open call the wave mapper when the low level device
	doesn't handle the wave descriptor.

	* tools/winedump/main.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed segv when incorrect command line arguments where given.

	* documentation/samples/system.ini:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed IMA ACM definition.

	* dlls/msacm/imaadp32/imaadp32.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Minor comments cleanups.
	Removed unneeded FIXMEs.

	* dlls/user/dde/ddeml16.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed some NULL pointer handling errors.

2002-10-05  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Reimplement GetSubItemRect, subitem setting optimizations.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix bug in OWNERDATA selection handling.
	Fix critical performance bug in GetSelectedCount.
	Fix critical performance bug in SetGroupSelection.
	Fix problems for OWNERDRAW report.
	Fix hidden/latent bugs in state handling.
	Better debug messages.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix onwer-draw REPORT for broken apps.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Streamline the GetItem usage.
	Fix fatal bug for ICON mode in LVS_ONWERDATA.
	Documentation updates, marking places which need work.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix condition so we actually store the state in virtual listviews.
	Assorted code cleanups.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Effective optimization in GetNextItem (speeds up Xnews).
	- Misc cleanups.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Rewrite the begin/end label edit procedures.
	Better support of OWNERDRAW.
	Cleaner, simpler code.

2002-10-04  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fixed large item focus handling for virtual listviews.  Since at most
	_one_ item can have the focus at any time, we can maintain one such
	rectangle per list, rather than per item. This is both more efficient,
	and works for LVS_OWNERDATA listviews as well.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not blindly trust GetItem to succeed -- check the return value, and
	fail gracefully.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Do not send uninitialized data in notification to application.

	* dlls/kernel/tests/atom.c, memory/atom.c:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Fixed atom test to work on Windows.

	* dlls/kernel/tests/.cvsignore, dlls/kernel/tests/Makefile.in,
	  dlls/kernel/tests/codepage.c, memory/codepage.c:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Added a prototype code page test. Fixed issue regarding negative
	source length handling.

	* dlls/user/tests/class.c, dlls/user/tests/win.c:
	Fixed printf formats for -DSTRICT handles.

	* dlls/imagehlp/access.c, dlls/msvcrt/process.c, dlls/user/user16.c,
	  dlls/winspool/info.c, include/tlhelp32.h, loader/pe_image.c,
	  objects/font.c, objects/gdiobj.c:
	Fixed some handle conversions in prevision of void* handles.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Fix nasty bug in REPORT mode, when calculating the label rect.
	- Lots of cleanups, and simplifications.

	* dlls/rpcrt4/rpcrt4_main.c:
	Implemented UuidFromString[AW] based on CLSIDFromString
	implementation.

2002-10-03  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/commctrl.c: György 'Nog' Jeney <nog@sdf.lonestar.org>
	Abort with error if the app uses our api to subclass and then theirs
	then ours again.

	* ole/ole2nls.c: Steve Lustbader <steve.lustbader@philips.com>
	Implemented GetDateFormatW.

	* dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c:
	Ove Kaaven <ovek@transgaming.com>
	Added UuidCreateNil, UuidEqual and UuidIsNil.

	* server/debugger.c, server/process.c, server/process.h,
	  server/protocol.def, server/snapshot.c, server/thread.c,
	  server/thread.h, server/trace.c, tools/make_requests,
	  windows/input.c, windows/message.c, windows/win.c,
	  dlls/kernel/console.c, dlls/kernel/debugger.c,
	  dlls/kernel/toolhelp.c, dlls/user/message.c, include/thread.h,
	  include/wine/server_protocol.h, programs/wineconsole/wineconsole.c,
	  scheduler/client.c, scheduler/process.c, scheduler/syslevel.c,
	  scheduler/thread.c, server/console.c:
	Added process_id_t and thread_it_t types to the server interface
	instead of using void*, and removed a number of type casts.

	* dlls/gdi/gdi16.c, objects/brush.c:
	Moved CreateBrushIndirect16 and CreateDIBPatternBrush16 to gdi16.c.

	* dlls/advapi32/registry.c, dlls/kernel/registry16.c,
	  dlls/setupapi/setupx_main.c, dlls/shell32/shellreg.c,
	  dlls/shlwapi/ordinal.c, include/mmsystem.h, include/wine/winbase16.h,
	  include/winnt.h, include/winreg.h, win32/device.c:
	Removed LPxxx handle types that don't exist under Windows.

	* dlls/winmm/lolvldrv.c: Removed error message that confuses users.

	* dlls/user/tests/win.c, dlls/Maketest.rules.in:
	Build tests with -DSTRICT.

2002-10-02  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Reorganize DrawItem.
	- Unify text attribute selection between Draw{Sub,}Item.
	- Usual cleanups, and simplifications.

	* server/event.c, server/handle.c, server/handle.h, server/list.h,
	  server/main.c, server/mapping.c, server/mutex.c, server/named_pipe.c,
	  server/object.c, server/object.h, server/process.h,
	  server/semaphore.c, server/timer.c:
	Added support for multiple object namespaces, and a bunch functions
	for managing linked lists.

	* windows/syscolor.c:
	Fixed GDI heap selector handling broken by previous change.

	* dlls/comctl32/tooltips.c: György 'Nog' Jeney <nog@sdf.lonestar.org>
	Use the new Subclassing API.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fancy/optimized EnsureVisible method that eliminates flicker.
	Minor cleanups.

	* dlls/comctl32/commctrl.c, include/commctrl.h,
	  dlls/comctl32/comctl32.h, dlls/comctl32/comctl32.spec:
	György 'Nog' Jeney <nog@sdf.lonestar.org>
	Implemented {G|S}etWindowSubClass, DefSubclassProc,
	RemoveWindowSubclass.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Fix the subitem drawing code.
	- A lot faster drawing in report mode.
	- A great deal of cleanup, and simplifications.

	* dlls/gdi/Makefile.in, dlls/gdi/tests/.cvsignore,
	  dlls/gdi/tests/Makefile.in, dlls/gdi/tests/generated.c,
	  dlls/kernel/tests/generated.c, dlls/user/tests/.cvsignore,
	  dlls/user/tests/Makefile.in, dlls/user/tests/generated.c, configure,
	  configure.ac:
	Patrik Stridvall <ps@leissner.se>
	Added some more autogenerated tests.

	* tools/winapi/c_type.pm, tools/winapi/tests.dat,
	  tools/winapi/winapi_test:
	Patrik Stridvall <ps@leissner.se>
	- Minor improvements.
	- Added tests for GDI and USER.

	* include/winnt.h: György 'Nog' Jeney <nog@sdf.lonestar.org>
	Added a couple of defines.

	* windows/painting.c, include/winuser.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	Fix Validate{Rect,Rgn} prototypes.

	* tools/winedump/Makefile.in, tools/winedump/ne.c, tools/winedump/pe.c,
	  tools/winedump/winedump.h:
	Preliminary support for dumping NE binaries.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Fix the state icon handling.
	- Fix handling of new image lists.
	- Small cleanups.

	* dlls/msvcrt/except.c:
	except_handler3: Set correct %ebp when calling exception filter.

	* dlls/x11drv/xrender.c: Enable anti-aliasing for all font sizes.

	* objects/dc.c: Greg Turner <gmturner007@ameritech.net>
	CreateDC: handle (nil, <string>, ...) gracefully if no driver found.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Rework the {Insert,Delete}Column functions.
	- Drawing optimizations when adding/removing columns.
	- More cleanups, and simplifications.

	* dlls/commdlg/cdlg32.c, dlls/kernel/kernel_main.c,
	  dlls/user/user_main.c, objects/gdiobj.c, windows/syscolor.c:
	Make sure things still work if 16-bit dlls cannot be loaded.

	* dlls/Makedll.rules.in, dlls/Makefile.in, dlls/Maketest.rules.in,
	  dlls/gdi/Makefile.in, dlls/kernel/Makefile.in,
	  dlls/lzexpand/Makefile.in, dlls/make_dlls, dlls/msvideo/Makefile.in,
	  dlls/ntdll/Makefile.in, dlls/user/Makefile.in,
	  dlls/version/Makefile.in, dlls/win32s/Makefile.in,
	  dlls/winaspi/Makefile.in, dlls/winmm/Makefile.in, Make.rules.in,
	  configure, configure.ac:
	Added --disable-win16 configure option.

	* dlls/ddraw/dsurface/user.c, dlls/winmm/winenas/audio.c,
	  programs/progman/grpfile.c:
	Fixed warnings.

	* unicode/Makefile.in, unicode/c_20932.c, unicode/cpmap.pl,
	  unicode/cptable.c:
	Added EUC-JP encoding as codepage 20932 (with the help of Aric
	Stewart).

	* dlls/urlmon/umon.c, graphics/x11drv/opengl.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi/win32.api, tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- API file update.
	- Minor bug fixes.

	* include/winnt.h: Patrik Stridvall <ps@leissner.se>
	Added some more useful macros.

2002-10-01  Alexandre Julliard  <julliard@winehq.com>

	* dlls/glu32/Makefile.in, dlls/opengl32/Makefile.in,
	  dlls/x11drv/Makefile.in, Make.rules.in, configure, configure.ac,
	  dlls/d3d8/Makefile.in, dlls/ddraw/Makefile.in:
	Moved X flags and libraries out of Make.rules into the makefiles that
	need them.

	* dlls/user/resources/display.rc, dlls/user/resources/mouse.rc:
	Use correct 16-bit resources to avoid warnings.

	* documentation/debugger.sgml:
	Francois Gouget <fgouget@codeweavers.com>
	Update documentation of how to invoke winedbg.

	* dlls/kernel/tests/.cvsignore, dlls/kernel/tests/Makefile.in,
	  dlls/kernel/tests/generated.c:
	Patrik Stridvall <ps@leissner.se>
	Added new autogenerated test for data structure packing.

	* tools/winapi/Makefile.in, tools/winapi/c_parser.pm,
	  tools/winapi/c_type.pm, tools/winapi/tests.dat,
	  tools/winapi/tests.pm, tools/winapi/winapi.pm,
	  tools/winapi/winapi_cleanup, tools/winapi/winapi_extract,
	  tools/winapi/winapi_test, tools/winapi/winapi_test_options.pm,
	  tools/winapi_check/modules.pm, tools/winapi_check/winapi_function.pm:
	Patrik Stridvall <ps@leissner.se>
	- Added a new tool winapi_test for generating tests.
	- Added a data structure packing test to winapi_test.
	- Reorganized and optimized a few things.

	* include/options.h, include/thread.h, include/winbase.h,
	  include/wine/server.h, include/winnt.h, misc/options.c,
	  miscemu/main.c, scheduler/sysdeps.c:
	Patrik Stridvall <ps@leissner.se>
	Added a GNU C implementation of some of the DECLSPEC_ macros and used
	them wherever possible.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Fix LIST mode, broken by previous changes.
	- Implement GetItemRect in terms of GetItemMeasurements.
	- Improvements in debug traces.
	- Many bug fixes, compelete implementation for GetItemMeasurements.
	- Lots of code cleanups, simplifications.
	- Documentation updates.

2002-09-30  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/shellpath.c: Jeff Smith <whydoubt@hotmail.com>
	PathIsExe: corrected and added executable types.

	* windows/spy.c: Guy L. Albertelli <galberte@neo.lrun.com>
	- The TTM_ message needed to be in correct order.
	- Added TTM_GETBUBBLESIZE.

	* dlls/comctl32/listview.c: Paul Rupe <prupe@myrealbox.com>
	Prevent crash when listview trace logging is on.

	* dlls/ddraw/d3ddevice/main.c: Christian Costa <titan.costa@wanadoo.fr>
	Implement SwapTextureHandles method.

	* include/commdlg.h: György 'Nog' Jeney <nog@sdf.lonestar.org>
	Define SNDMSG.

2002-09-29  Alexandre Julliard  <julliard@winehq.com>

	* programs/winedbg/stabs.c: Greg Turner <gmturner007@ameritech.net>
	Attempt at handling 'k' and 'B' symbols.

	* dlls/comctl32/listview.c: Guy Albertelli <galberte@neo.lrun.com>
	- Eliminate extra background fills.
	- Eliminate bogus error messages.

	* win32/except.c: Fixed a couple of bugs in the debugger startup.

	* dlls/Makefile.in, dlls/make_dlls:
	Don't build d3d8 if we don't have OpenGL support.

	* dlls/ddraw/mesa_private.h: Added check for OpenGL.

	* include/winuser.h: György 'Nog' Jeney <nog@sdf.lonestar.org>
	Added {G|S}etWindowLongPtr.

	* include/Makefile.in, include/custcntl.h:
	György 'Nog' Jeney <nog@sdf.lonestar.org>
	Initial implementation of custom control header.

	* dlls/x11drv/xvidmode.c: Jukka Heinonen <jhei@iki.fi>
	Use correct check to see if xserver supports xvidmode.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Cache GWL_STYLE, to avoid fetching in virtually every function.
	- Separate GetOrigin from GetAllMeasures as it is item independent,
	  and rename function to reflect the change.
	- Small cleanups.

	* dlls/dsound/dsound_main.c: Ove Kaaven <ovek@transgaming.com>
	Fix for soundcards that can't do 8-bit audio, only 16-bit (also
	checked for soundcards that can't do stereo while I was at it).

	* dlls/ddraw/d3dexecutebuffer.c:
	Christian Costa <titan.costa@wanadoo.fr>
	execute: Activate the viewport passed as parameter when executing
	buffer.

	* dlls/ddraw/d3dviewport.c: Christian Costa <titan.costa@wanadoo.fr>
	Implement IDirect3DViewport2_DeleteLight.

	* dlls/msvcrt/scanf.h: Jukka Heinonen <jhei@iki.fi>
	Functions sscanf and swscanf now expect strings to be terminated with
	null (0) instead of EOF (-1).

	* tools/winemaker: Bill Medland <billmedland@look.ca>
	Minor typo fix.

2002-09-27  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Remove item from the list, if we fail to initialize it at insert
	time.

	* dlls/d3d8/Makefile.in, dlls/d3d8/basetexture.c,
	  dlls/d3d8/cubetexture.c, dlls/d3d8/d3d8.spec, dlls/d3d8/d3d8_main.c,
	  dlls/d3d8/d3d8_private.h, dlls/d3d8/device.c, dlls/d3d8/directx.c,
	  dlls/d3d8/indexbuffer.c, dlls/d3d8/resource.c, dlls/d3d8/surface.c,
	  dlls/d3d8/swapchain.c, dlls/d3d8/texture.c, dlls/d3d8/vertexbuffer.c,
	  dlls/d3d8/volume.c, dlls/d3d8/volumetexture.c, dlls/Makefile.in:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Initial D3D8 implementation.

	* include/d3d8types.h: Fixed nameless union/struct declaration.

	* documentation/winelib-bindlls.sgml:
	Bill Medland <billmedland@look.ca>
	Expanded the "Linux Libraries as Dlls" winelib section and brought it
	up to date.

	* tools/winemaker: Francois Gouget <fgouget@codeweavers.com>
	Updated the wrapper code to match the new naming executable and
	library conventions.
	Executables don't need spec files.
	Removed unused code.

	* dlls/wininet/http.c, dlls/wininet/internet.c,
	  dlls/wininet/urlcache.c, dlls/wininet/wininet.spec,
	  dlls/urlmon/umon.c, dlls/urlmon/urlmon.spec:
	Chris Morgan <cmorgan@alum.wpi.edu>
	Added stubs for HttpEndRequestA/W, InternetReadFileExA/W,
	SetUrlCacheEntryGroup, CreateUrlCacheGroup, DeleteUrlCacheGroup.

	* dlls/user/user16.c, windows/cursoricon.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Moved some 16-bit functions from windows/cursoricon.c to
	dlls/user/user16.c.

	* files/dos_fs.c: György 'Nog' Jeney <nog@sdf.lonestar.org>
	Check for an empty string in DOSFS_FindNextEx to avoid an unnecessary
	failure.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Fix crashes in debug mode.
	- Fix some focus rectangle problems.
	- Better debugging output.
	- More cleanups.

	* dlls/ddraw/d3dexecutebuffer.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Remove wrong and useless transformation of z projected coordinates.
	Add normals world transformation.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa_private.h:
	Christian Costa <titan.costa@wanadoo.fr>
	Fix devices creation broken code. Now, the display and the drawable
	are retrieve through GDI escape sequences and stored in the private
	data. Add desallocation of the device private data.

	* dlls/lzexpand/Makefile.in, dlls/lzexpand/lzexpand16.c,
	  dlls/lzexpand/lzexpand_main.c:
	György 'Nog' Jeney <nog@sdf.lonestar.org>
	Split the 16-bit funcitons into a seperate file.

2002-09-26  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/event.c:
	Fixed X11 error code mismatch and removed debugging output.

	* dlls/winsock/socket.c: Greg Turner <gmturner007@ameritech.net>
	- fixed up some semantic misunderstandings using the helpful advice of
	  Rein Klazes
	- added SO_SNDTIMEO support
	- added ifdef's for consistency with rest of socket.c

	* tools/winemaker: Francois Gouget <fgouget@codeweavers.com>
	Bring the naming of libraries and executable up to current standards.
	Install dlls and executables in dlldir.
	It is no longer necessary to import ntdll.dll.

	* dlls/ddraw/d3dviewport.c: Christian Costa <titan.costa@wanadoo.fr>
	Added desallocation of the viewport private data.

	* dlls/ddraw/d3dlight.c: Christian Costa <titan.costa@wanadoo.fr>
	Added allocation/desallocation of the light private data.

	* dlls/ddraw/dsurface/main.c: Christian Costa <titan.costa@wanadoo.fr>
	Enable creation of our OpenGL Direct3D device from a surface used as
	rendering target.
	Enable creation of a texture from a surface.

2002-09-25  Alexandre Julliard  <julliard@winehq.com>

	* include/ts_xlib.h, programs/Makeprog.rules.in,
	  programs/avitools/Makefile.in, tools/make_X11wrappers,
	  tools/winewrapper, Make.rules.in, Makefile.in, configure,
	  configure.ac, dlls/Makedll.rules.in, dlls/Maketest.rules.in,
	  dlls/x11drv/Makefile.in, dlls/x11drv/X11_calls,
	  dlls/x11drv/ts_xlib.c, dlls/x11drv/ts_xlib.h,
	  dlls/x11drv/x11drv.spec, dlls/x11drv/x11drv_main.c:
	Moved ts_xlib.c into x11drv and removed libwine_tsx11.

	* windows/win.c:
	Added missing WIN_ReleasePtr (spotted by Dmitry Timoshkov).

	* controls/EDIT.TODO, controls/edit.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	- Stop passing hwnd around when we're passing EDITSTATE.
	- Merge the non-obsolete bits of EDIT.TODO into edit.c.
	- Some cleanups, and simplifications.

	* dlls/comctl32/listview.c: Paul Rupe <prupe@myrealbox.com>
	- Initialize memory to prevent crashes when -debugmsg +listview is on.
	- Fix various array bounds related errors.

	* dlls/comctl32/comctl32undoc.c: Paul Rupe <prupe@myrealbox.com>
	Resize dynamic pointer array more carefully when adding new entries.

	* dlls/ddraw/mesa.c: Christian Costa <titan.costa@wanadoo.fr>
	Added support for POINT, WIREFRAME and SOLID fill modes.

	* dlls/ddraw/d3dtexture.c: Christian Costa <titan.costa@wanadoo.fr>
	IDirect3DTexture2Impl_Load: when the surface is not allocated and no
	location are specified, set it to video memory.

	* dlls/opengl32/opengl_ext.h, dlls/opengl32/opengl_norm.c,
	  dlls/opengl32/wgl.c, dlls/x11drv/x11drv.spec,
	  dlls/x11drv/x11drv_main.c, graphics/x11drv/opengl.c,
	  include/wine_gl.h, include/x11drv.h, dlls/ddraw/Makefile.in,
	  dlls/ddraw/main.c, dlls/ddraw/mesa_private.h,
	  dlls/opengl32/Makefile.in, dlls/opengl32/make_opengl,
	  dlls/opengl32/opengl_ext.c:
	Import wine_tsx11_lock/unlock directly from x11drv in opengl32 and
	ddraw, so that they don't need to link with libwine_tsx11.
	Removed header wine_gl.h.

	* dlls/user/tests/.cvsignore, dlls/user/tests/Makefile.in,
	  dlls/user/tests/win.c, include/win.h, include/wine/server_protocol.h,
	  server/protocol.def, server/trace.c, server/window.c, windows/win.c:
	Fixed a number of bugs in the handling of window parent and owner and
	added a regression test (based on the work of Bill Medland).

	* documentation/samples/config, loader/loadorder.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	By default, we should use our own dlls.

	* dlls/winsock/socket.c: Greg Turner <gmturner007@ameritech.net>
	Accept time_t argument in WS_setsockopt/WS_SO_RCVTIMEO; translate to
	struct timeval for edification of setsockopt.

2002-09-24  Alexandre Julliard  <julliard@winehq.com>

	* tools/make_X11wrappers, dlls/x11drv/dga2.c, dlls/x11drv/event.c,
	  dlls/x11drv/keyboard.c, dlls/x11drv/mouse.c, dlls/x11drv/scroll.c,
	  dlls/x11drv/window.c, dlls/x11drv/winpos.c,
	  dlls/x11drv/x11drv_main.c, dlls/x11drv/xvidmode.c,
	  graphics/x11drv/bitmap.c, graphics/x11drv/dib.c,
	  graphics/x11drv/graphics.c, include/ts_xf86dga2.h,
	  include/ts_xf86vmode.h, include/ts_xlib.h, include/ts_xutil.h:
	Removed some more TSX11 functions and files.

	* loader/ne/convert.c, loader/ne/module.c, memory/environ.c,
	  memory/global.c, memory/selector.c, objects/clipping.c, objects/dc.c,
	  objects/dcvalues.c, objects/metafile.c, objects/palette.c,
	  windows/cursoricon.c, windows/dialog.c, windows/driver.c,
	  windows/hook.c, windows/message.c, windows/queue.c,
	  windows/winproc.c, dlls/gdi/gdi16.c, dlls/gdi/mfdrv/init.c,
	  dlls/gdi/printdrv.c, dlls/netapi32/access.c, dlls/netapi32/browsr.c,
	  dlls/netapi32/wksta.c, dlls/user/msg16.c, loader/module.c,
	  loader/resource.c, loader/task.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi/win32.api, tools/winapi/winapi.pm, tools/winapi_check/winapi_documentation.pm:
	Patrik Stridvall <ps@leissner.se>
	- Don't add standard headers for the dll separation hacks.
	- API files update.

	* dlls/comctl32/listview.c: Guy L. Albertelli <galberte@neo.lrun.com>
	- Localize origin, location, and rectangle computation.
	- Support state icons in LVS_ICON style.
	- Draw only items that are in the clip box.
	- Draw non-selected items first then the selected ones because large
	  icons may overlap each other.
	- Correct invalidation rectangles for items.
	- Correct drawing of large icons.
	- Eliminate divide by zero cases in scrolling.
	- Invalidate selected items prior to setting window losing focus.

	* dlls/comctl32/status.c, include/win.h, dlls/comctl32/imagelist.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Small cleanups, updated documentation.

	* dlls/x11drv/winpos.c: Fixed #endif.

	* tools/make_X11wrappers, dlls/x11drv/event.c, dlls/x11drv/keyboard.c,
	  dlls/x11drv/winpos.c, dlls/x11drv/x11drv_main.c,
	  graphics/x11drv/dib.c, include/ts_shape.h, include/ts_xf86dga.h,
	  include/ts_xf86dga2.h, include/ts_xf86vmode.h, include/ts_xlib.h,
	  include/ts_xresource.h, include/ts_xshm.h, include/ts_xutil.h,
	  include/ts_xvideo.h:
	Removed a bunch of no longer used TSX wrappers.

	* dlls/kernel/kernel32.spec: Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* dlls/comcat/comcat_main.c, dlls/shell32/shellpath.c,
	  dlls/shell32/shellreg.c, include/windef.h:
	Michael Stefaniuc <mstefani@redhat.de>
	Convert HKEY to a void*.

	* tools/winapi/win32.api, tools/winapi_check/winapi_local.pm:
	Patrik Stridvall <ps@leissner.se>
	- Added support for %struct16 (used by CLSID).
	- API files update.

	* documentation/registry.sgml, documentation/samples/config,
	  misc/registry.c:
	Raul Dias <raul@dias.com.br>
	Added new "GlobalRegistryDir" option.

	* include/winsock.h: Patrick J. McNerthney <pat@mcnerthney.com>
	Removed the #undef of WS_DEFINE_SELECT so that select is in fact
	defined.
	Fixed if statement in __WS_FD_SET2 which used a = where a == is
	needed, in additition the if did not have its outer set of
	parenthesis.
	Removed parentheses around type to be cast in __WS_FD_SET macro.
	Removed WS macro usage from within other macros because the WS macro
	is undefined when these macros are expanded.
	Added WINAPI attributee to select definition.

	* include/msvcrt/crtdbg.h: Patrick J. McNerthney <pat@mcnerthney.com>
	Added casts to all macros to avoid compiler warnings.

2002-09-23  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Remove some more superfluous ZeroMemory calls, small cleanups.

	* dlls/user/user32.spec, dlls/x11drv/event.c, windows/win.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	- Remove export of DRAG_QueryUpdate from USER.
	- Get rid of associated 16 bit code from x11drv.
	- Simplifications, cleanups, etc.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Fix outputting of a text pointer in debug mode (by Rein Klazes).
	- Remove a large bunch of superfluous ZeroMemory calls.
	- Fix a couple of bugs.

	* dlls/comctl32/rebar.c, dlls/gdi/freetype.c,
	  dlls/kernel/tests/environ.c, dlls/richedit/reader.c,
	  dlls/richedit/rtf.h, dlls/richedit/stdcharnames.h,
	  include/wine/obj_base.h, include/winsock2.h:
	Patrik Stridvall <ps@leissner.se>
	Cleaned up the code so it would be easier to parse with the new C
	parser.

	* tools/winapi/c_parser.pm, tools/winapi/c_type.pm,
	  tools/winapi/winapi_extract, tools/winapi/winapi_extract_options.pm,
	  tools/winapi/winapi_fixup, tools/winapi_check/winapi_c_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Made the new C parser handle the current Wine source.
	- Added a compabillity layer between the old and the new C parser.
	- Added parsing of data structures.

	* dlls/netapi32/tests/.cvsignore, dlls/netapi32/tests/Makefile.in,
	  dlls/netapi32/tests/access.c, dlls/netapi32/tests/wksta.c,
	  include/Makefile.in, include/lm.h, include/lmaccess.h,
	  include/lmbrowsr.h, include/lmcons.h, include/lmerr.h,
	  dlls/netapi32/Makefile.in, dlls/netapi32/access.c,
	  dlls/netapi32/apibuf.c, dlls/netapi32/browsr.c,
	  dlls/netapi32/netapi32.spec, dlls/netapi32/netapi32_misc.h,
	  dlls/netapi32/wksta.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Implemented NetQueryDisplayInformation, NetUserGetInfo, created
	conformance tests, other netapi32 bug fixes and improvements.

	* tools/wineinstall: Francois Gouget <fgouget@free.fr>
	Install notepad.exe in c:\windows too.

2002-09-21  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/thread.c, win32/newfns.c, controls/edit.c,
	  dlls/winedos/dosvm.c, include/basetsd.h, include/winbase.h,
	  memory/global.c, memory/heap.c, memory/local.c, memory/virtual.c,
	  scheduler/process.c:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Correct SIZE_T size according to MS SDK.
	Change some types to SIZE_T according to MS SDK definitions.

	* include/d3d8types.h: Jason Edmeades <us@the-edmeades.demon.co.uk>
	Added some definitions.

	* documentation/debugger.sgml: Eric Pouech <eric.pouech@wanadoo.fr>
	Updated winedbg documentation.

	* documentation/winelib-bindlls.sgml:
	Dimitrie O. Paun <dpaun@rogers.com>
	Change confusing title.

2002-09-20  Alexandre Julliard  <julliard@winehq.com>

	* include/shlwapi.h, dlls/shlwapi/ordinal.c, dlls/shlwapi/path.c,
	  dlls/shlwapi/regstream.c, dlls/shlwapi/shlwapi.spec,
	  dlls/shlwapi/string.c, dlls/shlwapi/thread.c, dlls/shlwapi/url.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Reorganise/minor tidyup of ordinal functions.
	Implement StrCmpLogicalW,StrFormatByteSizeA/W,StrFormatByteSize64A,
	SHCreateStreamWrapper.
	Fix some output .spec parameters from str to ptr.
	Fix definition of StrFormatByteSize functions.

	* documentation/winelib-toolkit.sgml:
	Francois Gouget <fgouget@codeweavers.com>
	Small updates to better match the format of current Makefiles.
	Remove the documentation of no longer supported spec file options.
	Add notes to point out the sections that are particularly out of
	date.

	* documentation/psdrv.reg, winedefault.reg:
	Dimitrie O. Paun <dpaun@rogers.com>
	Move the contents of documentation/psdrv.reg to winedefault.reg.

	* dlls/user/user32.spec, dlls/x11drv/scroll.c, windows/scroll.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Have USER deal with the caret when scrolling a window.

	* documentation/wine.texinfo: Andriy Palamarchuk <apa3a@yahoo.com>
	Added information about POSIX, Unix, X11 trademarks.

	* tools/winedump/output.c: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Update output for current build process.

	* tools/winedump/README: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Documentation update.

2002-09-18  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/critsection.c, dlls/ntdll/heap.c:
	Avoid calling some kernel functions.

	* DEVELOPERS-HINTS: Updated a lot of obsolete stuff.

	* programs/Makefile.in: Only install the useful programs.

	* dlls/x11drv/event.c, dlls/x11drv/window.c, dlls/x11drv/x11drv_main.c,
	  documentation/samples/config, include/x11drv.h:
	Added support for the take focus protocol.

	* documentation/programs, documentation/winsock:
	Removed obsolete files.

	* library/.cvsignore, unicode/.cvsignore:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Update for mingw/cygwin.

	* tools/winemaker: Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Make all target names lower case.

	* DEVELOPERS-HINTS: Dimitrie O. Paun <dpaun@rogers.com>
	Update debug channel usage in DEVELOPER-HINTS.
	Remove references to obsolete dirs.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Better implementation for GetTopindex/GetOrigin/SetIconSpacing.
	- Drawing optimizations, better scrolling.
	- A few more bugs squashed without mercy.
	- Many cleanups, simplifications, doc updates.

	* documentation/README.fr: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Small update to keep in sync with README.

2002-09-17  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/kernel32.spec, dlls/ntdll/Makefile.in, dlls/ntdll/heap.c,
	  dlls/ntdll/nt.c, dlls/ntdll/ntdll.spec, dlls/ntdll/virtual.c,
	  include/winbase.h, include/wine/server_protocol.h, include/winnt.h,
	  include/winternl.h, memory/virtual.c, server/mapping.c,
	  server/protocol.def, server/trace.c:
	Implemented the ntdll virtual memory functions, and made the kernel
	functions use them.

	* documentation/Makefile.in: Added testing.sgml.

	* controls/menu.c:
	Remove clearing of the window menu id for now. This will need more
	work.

	* documentation/testing.sgml: Francois Gouget <fgouget@free.fr>
	Explain why conformance tests are useful for ports too.

	* dlls/commdlg/filedlg95.c: Josef Meixner <Josef.Meixner@t-online.de>
	Huw Davies <huw@codeweavers.com>
	- Initializing the return-string shouldn't change the pointer.
	- Added "FIXME" for case not handled.
	- Directory and the filenames have to be separated by "\0".
	- Added check to handle possible signed/unsigned overflow.

	* include/msvcrt/errno.h, dlls/msvcrt/dir.c, dlls/msvcrt/errno.c,
	  dlls/msvcrt/file.c, dlls/msvcrt/heap.c, dlls/msvcrt/math.c,
	  dlls/msvcrt/ms_errno.h, dlls/msvcrt/process.c, include/Makefile.in:
	Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	MSVCRT needs a public errno.h file.

	* tools/winemaker: Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	Fix "install" and "uninstall" targets: .exe -> .exe.so; target dir is
	$(dlldir), like for the "builtin" wine binaries.

	* dlls/advapi32/security.c: Andriy Palamarchuk <apa3a@yahoo.com>
	Make LsaOpenPolicy return success.

	* tools/winedump/main.c: Jan Kratochvil <short@ucw.cz>
	Bug fix.

	* dlls/comctl32/comctl32.h, dlls/comctl32/comctl_En.rc,
	  dlls/comctl32/hotkey.c:
	Gyorgy 'Nog' Jeney <nog@sdf.lonestar.org>
	- Unicodeify control.
	- use void instead of VOID.
	- Pass infoPtr around instead of HWND.
	- Implement most of the control.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Optimize the heck out of Report drawing.
	- A bit of organization, for sanity's sake.
	- Many simplifications, cleanups, etc.

	* documentation/samples/config, documentation/wine.conf.man:
	Dimitrie O. Paun <dpaun@rogers.com>
	Move the documentation for 'ShowDirSymlinks' where it belongs: to the
	wine.conf man page.

	* controls/edit.c, dlls/comctl32/commctrl.c, dlls/ntdll/heap.c,
	  dlls/shell32/shv_bg_cmenu.c, dlls/shell32/shv_item_cmenu.c,
	  dlls/shlwapi/tests/clist.c, files/smb.c, include/commctrl.h,
	  include/imagehlp.h, include/mmsystem.h, include/winnt.h,
	  include/winternl.h, windows/winproc.c:
	Francois Gouget <fgouget@free.fr>
	Remove references to PCVOID and LPUINT.
	Remove types that don't exist on Windows.

	* memory/virtual.c:
	Fixed import directory limits (spotted by Jan Kratochvil).

	* dlls/comctl32/listview.c: Sander van Leeuwen <sandervl@xs4all.nl>
	Listview_ProcessLetterKeys: fixed never ending loop when end index is
	zero.

	* dlls/winmm/winearts/audio.c:
	Jerry Jenkins <Jerry_J_Jenkins@hotmail.com>
	Modified volume_effect8 for taking unsigned data as signed data, and
	wodPlayer_WriteMaxFrags because of wrong data length which lead to
	strange noise and volume control working incorrectly.

	* dlls/dsound/dsound_main.c:
	Jerry Jenkins <Jerry_J_Jenkins@hotmail.com>
	Added waveOutSetVolume when opening sound driver. Otherwise, there is
	no sound if we use aRts.

	* files/file.c: Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	- Return correct error codes.
	- Fix behaviour if files are on different Wine drives
	  - delete source if copy successful
	  - try rename() - files may be on the same Unix file system.
	- Try copy/delete if rename() fails: files may be on the same DOS
	  drive, but on different Unix file systems.

	* documentation/patches.sgml, documentation/running.sgml,
	  documentation/testing.sgml, documentation/wine-devel.sgml,
	  documentation/wine-doc.sgml:
	Francois Gouget <fgouget@free.fr>
	Start of the conformance testing documentation. Still very
	incomplete.

	* documentation/winelib-toolkit.sgml: Francois Gouget <fgouget@free.fr>
	Update the section concerning winemaker's options.
	Add a couple of warnings about out-of-date sections.

	* dlls/Maketest.rules.in: Francois Gouget <fgouget@free.fr>
	Tests are regular Winelib applications and thus should not be compiled
	with __WINE__.

	* dlls/user/tests/class.c, dlls/winsock/tests/sock.c:
	Francois Gouget <fgouget@free.fr>
	IDI_APPLICATIONW does not exist on Windows. Use IDI_APPLICATION
	instead and cast to LPWSTR.
	Fixed type cast warnings.

	* dlls/advapi32/tests/registry.c, dlls/shell32/tests/shlfileop.c,
	  dlls/wininet/tests/http.c:
	Francois Gouget <fgouget@free.fr>
	Change the #include order so that these tests compile on Windows.

	* dlls/ntdll/tests/error.c, include/Makefile.in, include/ntstatus.h,
	  include/winnt.h:
	Francois Gouget <fgouget@free.fr>
	Move all STATUS_* and RPC_NT_* to ntstatus.h as per Windows SDK.
	Add some missing constants.
	Include ntstatus.h in winnt.h.

	* files/file.c: Marcus Meissner <meissner@suse.de>
	Fixed "conditional expr is always true due to being unsigned < 0"
	problem.

2002-09-16  Alexandre Julliard  <julliard@winehq.com>

	* tools/winedump/main.c, tools/winedump/winedump.h:
	Jan Kratochvil <short@ucw.cz>
	New -S: Search only prototype names found in 'symfile'.

	* tools/winebuild/main.c: Marcus Meissner <meissner@suse.de>
	Added ctype.h.

	* dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c,
	  dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c,
	  dlls/commdlg/printdlg.c, dlls/setupapi/virtcopy.c, include/windef.h,
	  loader/resource.c, windows/cursoricon.c, windows/dialog.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Convert HRSRC to a void*.

	* dlls/netapi32/tests/wksta.c, dlls/shlwapi/tests/shreg.c:
	Francois Gouget <fgouget@free.fr>
	NetpGetComputerName, SHCopyKeyA and SHRegGetPathA don't exist on all
	Windows platforms -> use GetModuleHandle + GetProcAddress.

	* documentation/samples/config, documentation/wine.conf.man,
	  documentation/wine.texinfo, files/file.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Mark files starting with a dot as FA_HIDDEN.
	Add configuration option 'ShowDotFiles' to turn this feature off.

	* dlls/msvcrt/file.c: Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Fix MoveFileEx() flags in MSVCRT rename()/_wrename().

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Reorganization and cleanup of selection code.
	- Complete rewrite of focus handling and drawing code.
	- Many bugs fixed (including a serious memory corruption).
	- Many performance fixes.
	- Lots of cleanups, simplifications, etc.
	- Documentation updates.

	* include/wtypes.h: Francois Gouget <fgouget@free.fr>
	Include rpc.h after LPOLESTR and other needed types are defined.

	* include/wingdi.h: Vincent Béron <vberon@mecano.gme.usherb.ca>
	Fixed typo which prevented correct compilation of code using the
	Get{C,M,Y}Value macros.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/om.c, include/winternl.h,
	  scheduler/handle.c:
	Implemented NtDuplicateObject.

	* include/wine/obj_contextmenu.h, include/commctrl.h,
	  include/commdlg.h, include/msacm.h, include/prsht.h,
	  include/richedit.h, include/wincrypt.h:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Replace static initializers with a proper #define in .h files.

	* include/winbase.h, include/wingdi.h: Juraj Hercek <juraj@syncad.com>
	- fixed typo error in CMYK definition (COLOREF -> COLORREF)
	- added tags to structures (_OFSTRUCT, _FILETIME, ...)

	* dlls/shell32/shlexec.c, dlls/shlwapi/ordinal.c, dlls/shlwapi/path.c:
	Duane Clark <dclark@akamail.com>
	Wait for app to come up before attempting DDE connection.
	PathIsURL should fail on text without a proper "scheme".

	* files/dos_fs.c: Marcus Meissner <meissner@suse.de>
	info->u.smb_dir is a pointer, errors are signaled by NULL.

	* programs/winedbg/break.c, programs/winedbg/dbg.y,
	  programs/winedbg/debugger.h, programs/winedbg/expr.c,
	  programs/winedbg/hash.c, programs/winedbg/info.c,
	  programs/winedbg/stabs.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added ability to abort on interactive symbol lookup.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Grand rewrite for {Get,Set,Insert}Item & Co.
	- Many bugs fixed.
	- Callback items are better supported.
	- Improvements in rendering speed.
	- Change VOID to void.
	- Many code cleanups, and simplifications.
	- Documentation updates.

2002-09-13  Alexandre Julliard  <julliard@winehq.com>

	* dlls/advapi32/registry.c, dlls/ntdll/cdrom.c, dlls/ntdll/reg.c,
	  misc/registry.c, win32/device.c:
	Handle special registry root keys directly in advapi32, and avoid
	using them in kernel and ntdll.

	* dlls/ntdll/Makefile.in, memory/registry.c, win32/device.c:
	Copied the registry functions needed by VMM into device.c and got rid
	of memory/registry.c.

	* dlls/kernel/locale.c, files/directory.c, misc/cpu.c, misc/registry.c,
	  win32/except.c:
	Removed remaining references to advapi32 registry functions from
	kernel functions.

	* tools/winemaker: Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	- Support "-imsvcrt" as an abbreviation of "-imsvcrt.dll".
	- Automatically add MSVCRT include path if MSVCRT DLL was requested.

	* files/file.c: Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	Wait timeout must be 0 if bWait == FALSE.

	* programs/Makefile.in, programs/winedbg/.cvsignore,
	  programs/winedbg/Makefile.in, programs/winedbg/README,
	  programs/winedbg/break.c, programs/winedbg/db_disasm.c,
	  programs/winedbg/dbg.y, programs/winedbg/debug.l,
	  programs/winedbg/debugger.h, programs/winedbg/display.c,
	  programs/winedbg/expr.c, programs/winedbg/expr.h,
	  programs/winedbg/ext_debugger.c, programs/winedbg/gdbproxy.c,
	  programs/winedbg/hash.c, programs/winedbg/info.c,
	  programs/winedbg/intvar.h, programs/winedbg/memory.c,
	  programs/winedbg/module.c, programs/winedbg/msc.c,
	  programs/winedbg/registers.c, programs/winedbg/source.c,
	  programs/winedbg/stabs.c, programs/winedbg/stack.c,
	  programs/winedbg/types.c, programs/winedbg/winedbg.c, configure,
	  configure.ac:
	Moved the debugger to programs/winedbg where it belongs.

	* files/file.c, files/profile.c, loader/loadorder.c, misc/version.c,
	  msdos/ppdev.c, relay32/relay386.c:
	Removed references to advapi32 registry functions from some of the
	kernel functions.

	* dlls/ntdll/reg.c:
	RtlFormatCurrentUserKeyPath: return path containing the user name
	instead of .Default.

	* tools/winemaker: Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	- fix perl syntax error in my own patch
	- fix perl syntax error in generate_wrapper_file()
	- fix order of arguments generate_from_template() in
	  generate_wrapper_file()
	- don't ignore command line -l, -I, and -i arguments
	- build wrapper with a minimal set of DLLs/libraries
	- fix autoconf invocation to support both 2.5x and 2.13
	- fix usage message for --nodlls
	- target_init(\$global_settings) must not be done after reading command
	  line
	- fix appName declaration in wrapper code

	* dlls/comctl32/listview.c: Guy L. Albertelli <galberte@neo.lrun.com>
	- Improve LVM_GETITEMRECT values for LVS_ICON style. Now mostly
	  correct (or at least matches native).
	- Handle focused and selected large icon text better.
	- Handle internal erase.
	- Additional debugging code.

2002-09-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/gdi/Makefile.in, dlls/gdi/gdi.exe.spec, dlls/user/Makefile.in,
	  dlls/user/user.exe.spec, tools/winebuild/main.c,
	  tools/winebuild/parser.c, tools/winebuild/winebuild.man.in:
	Replaced 'heap' .spec statement by a command line option.
	Updated winebuild manpage.

	* include/thread.h:
	Use larger signal stack to avoid overflows in filesystem code when
	loading the debugger.

	* dlls/shlwapi/tests/shreg.c: Delete registry key at exit.

	* dlls/shlwapi/shlwapi.spec: Fixed AssocCreate declaration.

	* dlls/msvcrt/dir.c, dlls/msvcrt/file.c, dlls/ntdll/reg.c,
	  dlls/ole32/storage.c, files/dos_fs.c, files/file.c, include/x11drv.h:
	Fixed warnings caused by new winternl.h.

	* dlls/comctl32/trackbar.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Implement custom draw support.
	- Fix thumb drawing.
	- Some cleanups, reorganizations, etc.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Fix a bunch of bugs related to scrolling.

	* tools/winapi/msvcmaker: Patrik Stridvall <ps@leissner.se>
	Minor bug fixes and improvements.

	* include/Makefile.in, include/d3d8.h, include/d3d8caps.h,
	  include/d3d8types.h:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Added Direct3D 8 headers.

	* win32/except.c, misc/main.c, misc/options.c, misc/version.c,
	  msdos/int21.c, msdos/vxd.c, ole/ole2nls.c, relay32/relay386.c,
	  relay32/snoop.c, scheduler/critsection.c, scheduler/pthread.c,
	  scheduler/syslevel.c, server/registry.c, files/directory.c,
	  files/dos_fs.c, files/drive.c, files/file.c, files/profile.c,
	  include/ntddk.h, include/ntdef.h, include/thread.h,
	  include/wine/server.h, include/winternl.h, loader/module.c,
	  loader/pe_resource.c, loader/task.c, memory/environ.c, memory/heap.c,
	  dlls/ntdll/tests/error.c, dlls/ntdll/tests/rtlbitmap.c,
	  dlls/ole32/hglobalstream.c, dlls/ole32/stg_stream.c,
	  dlls/ole32/storage.c, dlls/oleaut32/tmarshal.c,
	  dlls/setupapi/dirid.c, dlls/setupapi/infparse.c,
	  dlls/setupapi/install.c, dlls/setupapi/parser.c,
	  dlls/setupapi/queue.c, dlls/winedos/int21.c, dlls/winmm/mmsystem.c,
	  dlls/kernel/time.c, dlls/kernel/utthunk.c, dlls/kernel/wowthunk.c,
	  dlls/msvcrt/cppexcept.c, dlls/msvcrt/dir.c, dlls/msvcrt/except.c,
	  dlls/msvcrt/file.c, dlls/netapi32/wksta.c, dlls/ntdll/cdrom.c,
	  dlls/ntdll/critsection.c, dlls/ntdll/debugtools.c,
	  dlls/ntdll/error.c, dlls/ntdll/exception.c, dlls/ntdll/file.c,
	  dlls/ntdll/heap.c, dlls/ntdll/large_int.c, dlls/ntdll/loader.c,
	  dlls/ntdll/nt.c, dlls/ntdll/ntdll_misc.h, dlls/ntdll/om.c,
	  dlls/ntdll/reg.c, dlls/ntdll/rtl.c, dlls/ntdll/rtlbitmap.c,
	  dlls/ntdll/rtlstr.c, dlls/ntdll/sec.c, dlls/ntdll/signal_i386.c,
	  dlls/ntdll/signal_powerpc.c, dlls/ntdll/signal_sparc.c,
	  dlls/ntdll/sync.c, dlls/ntdll/time.c, dlls/ntdll/wcstring.c,
	  dlls/advapi32/security.c, dlls/commdlg/filedlg95.c,
	  dlls/dsound/buffer.c, dlls/dsound/dsound_main.c, dlls/dsound/mixer.c,
	  dlls/dsound/primary.c, dlls/dsound/propset.c, dlls/dsound/sound3d.c,
	  dlls/gdi/driver.c, dlls/kernel/kernel_main.c, dlls/kernel/locale.c,
	  dlls/kernel/thunk.c:
	Patrik Stridvall <ps@leissner.se>
	Moved all the content of the DDK files ntdef.h and ntddk.h to
	winternl.h.

	* dlls/advapi32/registry.c:
	Fixed requested access rights in RegDeleteKey[AW].

	* dlls/advapi32/tests/registry.c:
	Fixed possible infinite loop in delete_key.

	* dlls/shlwapi/tests/shreg.c: Patrik Stridvall <ps@leissner.se>
	Fixed C++ comments.

	* programs/wcmd/wcmdmain.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	WCMD_parse: allow slashes in command filenames.

	* include/windef.h: Steven Edwards <steven_ed4153@yahoo.com>
	Cleanup warning when building on Mingw.

	* tools/winapi/winapi_cleanup, tools/winapi/winapi_cleanup_options.pm:
	Patrik Stridvall <ps@leissner.se>
	- Made remove trailing whitespace a default off option.
	- Add support for C++ to C comment conversion.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Complete rewrite of scrolling code: smaller, faster, cleaner.
	  We now properly scroll the window, rather than invalidating it on
	  every scroll action.
	- A bug or two got squashed.
	- Many code cleanups, simplifications, etc.
	- Some documentation updates.

	* tools/winebuild/parser.c: Dimitrie O. Paun <dpaun@rogers.com>
	Remove support for 'file', 'name', and 'mode' in .spec files.

	* dlls/shlwapi/url.c: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Make hex digits static const & share them.

	* dlls/shlwapi/reg.c, dlls/shlwapi/shlwapi.spec,
	  dlls/shlwapi/tests/shreg.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Implementation and test for SHCopyKeyA/W.

	* dlls/winsock/socket.c, files/file.c:
	Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	Fix the behavior of GetOverlappedResult() and WSAGetOverlappedResult()
	with non-manual-reset (auto-reset) events in the OVERLAPPED structures.

	* include/Makefile.in: Andriy Palamarchuk <apa3a@yahoo.com>
	Install tchar.h.

	* documentation/winelib-toolkit.sgml:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Spec files documentation. Added information about wide strings. Based
	on comments by Patrik Stridvall.

	* files/directory.c: Michael Beach <michaelb@ieee.org>
	Fixed buffer size in DIR_TryModulePath for Win32 modules.

	* dlls/oleaut32/olepicture.c, dlls/winmm/winenas/audio.c,
	  include/basetsd.h, include/rpcndr.h, include/wine/windef16.h,
	  include/winnt.h, include/wtypes.h, programs/wcmd/directory.c,
	  programs/winefile/winefile.c, programs/winefile/winefile.h,
	  tools/winedump/msmangle.c, tools/winedump/symbol.c:
	Removed the __uint* types from basetsd.h since they don't exist under
	Windows. Fixed a few other issues with type definitions.

	* dlls/kernel/Makefile.in, dlls/kernel/krnl386.exe.spec:
	Dimitrie O. Paun <dpaun@rogers.com>
	Move the name directive from the .spec file to the Makefile.

	* tools/winebuild/main.c: Dimitrie O. Paun <dpaun@rogers.com>
	Add support for naming the DLL from the command line.

	* dlls/winspool/info.c: Marcus Meissner <meissner@suse.de>
	New CUPS libraries return "none" as default printer instead of NULL.

	* dlls/kernel/krnl386.exe.spec, dlls/user/ddeml.spec,
	  dlls/user/user.exe.spec, dlls/winsock/winsock.spec:
	Dimitrie O. Paun <dpaun@rogers.com>
	Make all spec files grep-able.

	* miscemu/Makefile.in, miscemu/wine.spec:
	Dimitrie O. Paun <dpaun@rogers.com>
	Moved mode setting out of .spec file into Makefile.

	* dlls/comctl32/trackbar.c: Dimitrie O. Paun <dpaun@rogers.com>
	Greatly improved drawing code: eliminates all flicker, faster, cleaner
	tics drawing, better tooltip positioning, code cleanups and
	simplifications.

	* dlls/comctl32/imagelist.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Rewrite the drawing code. It now is much smaller, easier to follow,
	  and faster. Moreover, it now supports the dwRop operation, and it is
	  in good shape to support the missing features.
	- Draw the dragged image semi-transparently (will work when we support
	  alpha blending).

	* include/commctrl.h: Dimitrie O. Paun <dpaun@rogers.com>
	Add ImageList states (ILS_*) definitions.

2002-09-11  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makefile.in, dlls/netapi32/Makefile.in, dlls/netapi32/apibuf.c,
	  dlls/netapi32/netapi32.spec, dlls/netapi32/tests/.cvsignore,
	  dlls/netapi32/tests/Makefile.in, dlls/netapi32/tests/apibuf.c,
	  dlls/netapi32/tests/wksta.c, dlls/netapi32/wksta.c,
	  include/Makefile.in, include/lm.h, include/lmaccess.h,
	  include/lmapibuf.h, include/lmcons.h, include/lmerr.h,
	  include/lmwksta.h, include/winbase.h, configure, configure.ac:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Implemented buffer management functions, a couple of workstation
	information functions, created conformance tests.

	* tools/winemaker: Francois Gouget <fgouget@codeweavers.com>
	Store the global settings in Make.rules.in instead of duplicating them
	in each Makefile.in file.
	Introduce generate_from_template which replaces generate_configure
	and generate_generic
	Simplify the wrapper generation by using generate_from_template.
	Rename configure.in to configure.ac. Now works with autoconf 2.5x.

	* tools/winedump/README, tools/winedump/debug.c, tools/winedump/pe.c,
	  tools/winedump/pe.h:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- Implement dumping of COFF debug symbol table.
	- Fix winedump syntax description.
	- Spelling fixes.

	* dlls/kernel/tests/alloc.c: Andriy Palamarchuk <apa3a@yahoo.com>
	A few more conformance tests for heap memory allocation.

	* include/ntsecapi.h: Andriy Palamarchuk <apa3a@yahoo.com>
	Added policy access constants, type definition.

	* dlls/comctl32/trackbar.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Implement autopaging.
	- Remove incorrect FIXMEs.
	- Small cleanups.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	Code cleanups and simplifications, documentation updates.

	* tools/winemaker: Francois Gouget <fgouget@codeweavers.com>
	Fix the Wine detection when using the Wine source tree.

2002-09-10  Alexandre Julliard  <julliard@winehq.com>

	* tools/winemaker: Francois Gouget <fgouget@codeweavers.com>
	Fix detection of 'ln -s'.
	Fix computation of TOPOBJDIR.
	Install exes and dlls in $(libdir).
	-Wl,-rpath is not relevant for dlls.

	* include/Makefile.in, include/winternl.h:
	Patrik Stridvall <ps@leissner.se>
	Added the new header winternl.h.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Implement @163,164,168,175,182,187,286,SHSkipJunction.
	Stub @201,202,203, Document many functions.
	@165: Fix mask and flags parameter order.
	@172: Works on IInternetSecurityMgrSite and IShellView too.
	@199,@268: No return value, call @169.

	* include/winnt.h: Patrik Stridvall <ps@leissner.se>
	Added a few macros for MS C/C++ specific features.

	* tools/winemaker, tools/winemaker.man:
	Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	- Fix --nomfc option which is currrently broken.
	- Add --nodlls option for small apps.

2002-09-09  Alexandre Julliard  <julliard@winehq.com>

	* dlls/crypt32/main.c, include/Makefile.in, include/mssip.h,
	  include/sipbase.h, include/wincrypt.h:
	Patrik Stridvall <ps@leissner.se>
	Add and use the header files mssip.h and sipbase.h.

	* dlls/kernel/Makefile.in, dlls/kernel/registry16.c, misc/registry.c:
	Moved 16-bit registry functions to kernel dll and implemented them by
	calling up to advapi32.

	* dlls/gdi/gdi16.c, dlls/ntdll/signal_i386.c, dlls/shlwapi/reg.c,
	  dlls/shlwapi/shlwapi.spec, objects/clipping.c, objects/dc.c,
	  objects/dcvalues.c, objects/metafile.c, objects/palette.c,
	  windows/queue.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* dlls/ntdll/error.c, dlls/ntdll/tests/.cvsignore,
	  dlls/ntdll/tests/Makefile.in, dlls/ntdll/tests/error.c,
	  include/winerror.h, include/winnt.h:
	Andriy Palamarchuk <apa3a@yahoo.com>
	RtlNtStatusToDosError: Added new NT status to error codes mapping,
	added missed definitions of the used constants, created unit test for
	subset of the mappings.

	* controls/uitools.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Implement DFCS_TRANSPARENT.
	- Fix indentation.
	- Add remark about unimplemented DFC_POPUPMENU.

	* dlls/comctl32/listview.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Pass infoPtr around, instead of hwnd.
	- Implement hot cursor.
	- Update list of unimplemented messages.
	- Simplify the code for editing labels.
	- Start working towards more type-safe functions.
	- Small code cleanups.
	- Some docu updates.

	* dlls/comctl32/comboex.c, dlls/comctl32/progress.c,
	  dlls/comctl32/updown.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	- Fix bug in mouse position reading.
	- Remove useless code.
	- Small code cleanups.

	* dlls/comctl32/trackbar.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Fix the tics drawing code.
	- Fix the selection area calculation & drawing.
	- Implement TBS_DOWNISLEFT.
	- Make use of fLocation (TBTS_{TOP,LEFT,BUTTOM,RIGHT}).
	- Lots of code cleanups and simplifications.

	* dlls/comctl32/tooltips.c: Dimitrie O. Paun <dpaun@rogers.com>
	Add support for the TTM_GETBUBBLESIZE message.

	* include/commctrl.h: Dimitrie O. Paun <dpaun@rogers.com>
	- Add missing declaration for TBS_DOWNISLEFT and TTM_GETBUBBLESIZE.
	- Fix indentation for a bunch of things.

	* dlls/winspool/info.c: Marcus Meissner <marcus@jet.franken.de>
	If the default CUPS printer has no ppd file, just use the first
	printer that has one as Windows default printer.
	Support PRINTER_ENUM_CONNECTIONS in the default way.

	* dlls/msvcrt/scanf.h:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Make the scanf family recognize characters again.

	* tools/winapi/win32.api, tools/winapi_check/modules.dat:
	Patrik Stridvall <ps@leissner.se>
	API files update.

	* tools/winemaker: Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	- Add "-ldl" for wrapper apps.
	- fix Makefile for --wrap.
	- Fix wrapper code which was broken for console apps.

2002-09-06  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/cdlg.h, dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c,
	  dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c,
	  dlls/commdlg/printdlg.c, dlls/wineps/driver.c, dlls/winsock/async.c,
	  dlls/winsock/socket.c, include/windef.h, include/wine/winsock16.h:
	Michael Stefaniuc <mstefani@redhat.de>
	Finish the conversion of HWND to a void*.

	* dlls/kernel/tests/path.c, tools/wineinstall:
	Francois Gouget <fgouget@free.fr>
	Some small typo / phrasing fixes.

	* Makefile.in, configure, configure.ac, dlls/Makedll.rules.in,
	  dlls/Makefile.in, dlls/Maketest.rules.in, dlls/make_dlls,
	  programs/winetest/Makefile.in, Make.rules.in:
	Added preliminary support for cross-compiling tests using mingw on
	Linux if available.

	* dlls/winmm/mcianim/mcianim.c, dlls/winmm/mciavi/info.c,
	  dlls/winmm/mciavi/mciavi.c, dlls/winmm/mciavi/private_mciavi.h,
	  dlls/winmm/mcicda/mcicda.c, dlls/winmm/mciseq/mcimidi.c,
	  dlls/winmm/mciwave/mciwave.c, dlls/winmm/mmsystem.c,
	  dlls/winmm/winemm.h, dlls/comctl32/tooltips.c,
	  dlls/comctl32/treeview.c, dlls/comctl32/updown.c,
	  dlls/gdi/win16drv/prtdrv.c, dlls/msvideo/msvideo_main.c,
	  dlls/setupapi/queue.c, dlls/setupapi/setupx_main.c,
	  dlls/shell32/shell.c, dlls/shell32/shell32_main.c,
	  dlls/shell32/shell32_main.h, dlls/shell32/shlexec.c,
	  dlls/twain/dsm_ctrl.c, dlls/twain/twain_i.h, dlls/winmm/mci.c,
	  dlls/comctl32/animate.c, dlls/comctl32/comboex.c,
	  dlls/comctl32/comctl32undoc.c, dlls/comctl32/commctrl.c,
	  dlls/comctl32/datetime.c, dlls/comctl32/listview.c,
	  dlls/comctl32/propsheet.c, dlls/comctl32/rebar.c,
	  dlls/comctl32/status.c, dlls/comctl32/tab.c, dlls/comctl32/toolbar.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Prepare dlls/{comctl32,gdi,msvideo,setupapi,shell32,twain,winmm} for
	the conversion of HWND to a void*.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/security.c,
	  include/ntsecapi.h:
	Andriy Palamarchuk <apa3a@yahoo.com>
	LsaNtStatusToDosError implementation.

	* dlls/winsock/socket.c:
	Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	WS2_register_async_shutdown(): Try immediate completion, in case an
	app never waits for anything.
	WS_accept(): Avoid crash if addr parameter is NULL.

	* dlls/shlwapi/reg.c, dlls/shlwapi/shlwapi.spec:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Implemented registry MIME type functions @324-329.

	* dlls/gdi/Makefile.in, dlls/gdi/gdi32.spec, dlls/kernel/kernel32.spec,
	  dlls/ntdll/ntdll.spec, dlls/ttydrv/Makefile.in,
	  dlls/user/Makefile.in, dlls/user/user32.spec,
	  dlls/winedos/Makefile.in, dlls/x11drv/Makefile.in, dlls/Makefile.in,
	  dlls/ddraw/Makefile.in:
	Link all remaining dlls except kernel32 as separated dlls, by
	temporarily exporting the few functions that are not properly
	separated yet.

	* misc/version.c: Fixed checking of special dll names.

	* documentation/introduction.sgml:
	Francois Gouget <fgouget@codeweavers.com>
	Mention 32bit coordinates support.

	* dlls/kernel/tests/atom.c: Francois Gouget <fgouget@codeweavers.com>
	Do not include wine/unicode.h.

	* tools/winemaker: Francois Gouget <fgouget@codeweavers.com>
	Add prototypes to all functions.
	Make winemaker work in 'strict' mode.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Add @138,@157,@180,@197,@204.
	@151-157: Parameters are const.
	@36 inserts MF_BITMAP's.

	* dlls/winsock/socket.c:
	Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	Fixed typo in check_buffer_se().

	* dlls/shell32/shell32.spec, dlls/shell32/shellord.c:
	Rolf Kalbermatter <rolf.kalbermatter@citeng.com>
	Implemented SHCreateStdEnumFmtEtc.

	* dlls/comctl32/trackbar.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Eliminate flicker.
	- Much improved thumb dragging.
	- Fix tooltip behaviour.
	- Fix tick handling.
	- Streamlined drawing code.
	- Decent paging width.
	- Handle OOM gracefully.
	- Add proper notifications.
	- Fix range setting.
	- Start support for custom draw.
	- Fix a bunch of bugs.
	- Code cleanups.
	- Update documentation.
	- Spacing fixes.

	* dlls/comctl32/comctl32.h: Dimitrie O. Paun <dpaun@rogers.com>
	Add generic notification support for the common controls.

	* dlls/comctl32/imagelist.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Complete support for rgb{Fg,Bk} in DrawIndirect.
	- Rename VOID to void.
	- Documentation cleanup.
	- Fix ILD_TRANSPARENT handling.

2002-09-04  Alexandre Julliard  <julliard@winehq.com>

	* VERSION, configure, ANNOUNCE, ChangeLog: Release 20020904.

----------------------------------------------------------------
2002-09-04  Alexandre Julliard  <julliard@winehq.com>

	* Makefile.in: Remove Maketest.rules on distclean.

	* dlls/kernel/sync.c:
	PeekNamedPipe: Check if the pipe was closed when there are 0 available
	bytes (based on a patch by Uwe Bonnes).

	* dlls/shlwapi/Makefile.in, dlls/shlwapi/assoc.c,
	  dlls/shlwapi/shlwapi.spec:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Added Assoc* funcs (but not underlying IQueryAssociations object).

	* dlls/comctl32/imagelist.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Fix ImageList_GetIcon to use ImageList_* functions for
	  completeness.
	- Tiny code cleanups.
	- Documentation updates.

	* dlls/comctl32/trackbar.c: Dimitrie O. Paun <dpaun@rogers.com>
	- Unicodification (use Unicode functions & types consistently).
	- Pass infoPtr around instead of hwnd.
	- Proper type-safe signatures for functions processing messages.
	- Fix the types for some of the control's parameters.
	- Implement [GS]ET_UNICODEFORMAT.
	- Few indentation and spacing fixes.
	- Tidy up docu.

	* tools/wineinstall: Rok Mandeljc <rokmandeljc@hotmail.com>
	Added symlinks for winhelp.

	* windows/dialog.c, windows/hook.c, windows/mdi.c, windows/message.c,
	  windows/spy.c, windows/struct32.c, windows/win.c, windows/winhelp.c,
	  windows/winproc.c, controls/listbox.c, controls/static.c,
	  dlls/user/dde/client.c, dlls/user/msg16.c, dlls/user/property.c,
	  dlls/user/wnd16.c, dlls/x11drv/dga2.c, dlls/x11drv/event.c,
	  include/win.h:
	Michael Stefaniuc <mstefani@redhat.de>
	- Rename WIN_Handle16 to HWDN_16 and make it a macro.
	- Prepare user.dll for the change of HWND to a void*.

	* dlls/winedos/dosexe.h, dlls/winedos/dosvm.c, dlls/winedos/int10.c,
	  dlls/winedos/int31.c, include/miscemu.h, msdos/dosmem.c,
	  msdos/dpmi.c, msdos/int2f.c:
	Added DPMI segments structure and related function to avoid direct
	references to dosmem internal variables.
	Determine BIOS system offsets at compile time.

	* objects/font.c: Shachar Shemesh <wine-patches@sun.consumer.org.il>
	- Return old code for handling parameters to GetCharacterPlacement (+
	  fix heap overrun in it). New code did not correctly match the Windows
	  behaviour.
	- Amend the BiDi algorithm so that many strings will now produce quite
	  readable output.

	* include/wingdi.h, tools/wrc/newstruc.c:
	Steven Edwards <steven_ed4153@yahoo.com>
	Fixed typo in BITMAPV4HEADER stucture.

	* dlls/shell32/shlfileop.c, dlls/shell32/tests/shlfileop.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	SHFileOperationA: improved, implemented FO_MOVE action, added more
	conformance tests.

	* dlls/comctl32/updown.c: Dimitrie O. Paun <dpaun@rogers.com>
	Small updown cleanup.

	* include/commctrl.h: Dimitrie O. Paun <dpaun@rogers.com>
	Added some missing ImageList definitions.

	* dlls/comctl32/imagelist.c: Dimitrie O. Paun <dpaun@rogers.com>
	- implement support for xBitmap and yBitmap in ImageList_DrawIndirect
	- small code, docs, and messages cleanups

	* dlls/winmm/joystick/joystick.c: David D. Hagood <wowbagger@sktc.net>
	Fixed Linux 2.2 event API code.

	* debugger/winedbg.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Removed console sizing at startup.

	* programs/wineconsole/dialog.c, programs/wineconsole/registry.c,
	  programs/wineconsole/user.c, programs/wineconsole/winecon_private.h,
	  programs/wineconsole/winecon_user.h,
	  programs/wineconsole/wineconsole.c,
	  programs/wineconsole/wineconsole_De.rc,
	  programs/wineconsole/wineconsole_En.rc,
	  programs/wineconsole/wineconsole_Fr.rc,
	  programs/wineconsole/wineconsole_res.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added configuration on per application basis.
	Added ability to override part of the configuration from console
	creator.
	Revisited a bit wineconsole startup.
	Added dialog part for window closing at process termination.

	* dlls/kernel/console.c, dlls/kernel/console_private.h,
	  dlls/kernel/editline.c, dlls/kernel/kernel_main.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Now passing some console parameters at wineconsole creation instead of
	successive server requests.
	Better prototypes for console functions in kernel.
	Some minor console creation fixes.

2002-08-31  Alexandre Julliard  <julliard@winehq.com>

	* dlls/gdi/driver.c, dlls/ntdll/time.c, files/profile.c,
	  include/mmddk.h, loader/ne/module.c, memory/atom.c, msdos/dosconf.c,
	  msdos/vxd.c, tools/winebuild/main.c, win32/newfns.c,
	  windows/clipboard.c:
	Patrik Stridvall <ps@leissner.se>
	MSVC compatibility fixes.

	* programs/winhelp/Sk.rc: Repaired Slovak resources.

	* programs/winhelp/Si.rc, programs/winhelp/rsrc.rc:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Added Slovenian resources.

	* if1632/relay.c, if1632/snoop.c, include/miscemu.h, include/winnt.h,
	  loader/task.c, misc/system.c, msdos/dosmem.c, msdos/dpmi.c,
	  msdos/int11.c, msdos/int12.c, msdos/int15.c, msdos/int1a.c,
	  msdos/int21.c, msdos/int25.c, msdos/int26.c, msdos/int2f.c,
	  msdos/int4b.c, msdos/int5c.c, msdos/vxd.c, win32/device.c,
	  windows/input.c, dlls/kernel/thunk.c, dlls/kernel/win87em.c,
	  dlls/kernel/windebug.c, dlls/winedos/devices.c,
	  dlls/winedos/dosaspi.c, dlls/winedos/dosexe.h, dlls/winedos/int10.c,
	  dlls/winedos/int16.c, dlls/winedos/int17.c, dlls/winedos/int21.c,
	  dlls/winedos/int33.c, dlls/winedos/int67.c, dlls/winedos/xms.c:
	Moved internal context macros out of winnt.h.
	Added SET_AX etc. macros to avoid non-portable pointer manipulations.

	* debugger/source.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Load source files thru Win32 API.

	* debugger/gdbproxy.c, debugger/memory.c:
	Marcus Meissner <meissner@suse.de>
	Added gdbproxy support for ppc, added missing GET_IP for memory.c.

2002-08-30  Alexandre Julliard  <julliard@winehq.com>

	* dlls/crtdll/.cvsignore, dlls/dinput/.cvsignore,
	  dlls/dplayx/.cvsignore, dlls/imagehlp/.cvsignore,
	  dlls/mapi32/.cvsignore, dlls/netapi32/.cvsignore,
	  dlls/olesvr/.cvsignore, dlls/richedit/.cvsignore,
	  dlls/shdocvw/.cvsignore, dlls/shlwapi/.cvsignore,
	  dlls/tapi32/.cvsignore, dlls/twain/.cvsignore,
	  dlls/avicap32/.cvsignore, dlls/comcat/.cvsignore,
	  dlls/comctl32/.cvsignore:
	Steven Edwards <steven_ed4153@yahoo.com>
	Update some .cvsignore files for building on Windows.

	* dlls/winedos/devices.c, dlls/winedos/dosaspi.c,
	  dlls/winedos/dosexe.h, dlls/winedos/dosvm.c, dlls/winedos/int10.c,
	  dlls/winedos/int16.c, dlls/winedos/int21.c, dlls/winedos/int31.c,
	  dlls/winedos/int67.c, dlls/winedos/module.c, dlls/winedos/vga.c,
	  dlls/winedos/xms.c, include/miscemu.h, msdos/dosmem.c:
	Fixed some dll separation issues.

	* dlls/comctl32/comboex.c: Dimitrie O. Paun <dpaun@rogers.com>
	Implement CBES_EX_NOSIZELIMIT style.

	* tools/winapi/msvcmaker: Patrik Stridvall <ps@leissner.se>
	- Proper handling of GDI32 and USER32.
	- Added PACKAGE_* for the config.h generation.
	- Proper include path for the resource compiler.
	- Minor bug fixes and improvements.

	* programs/winhelp/hlp2sgml.c: Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi/win16.api, tools/winapi/win32.api:
	Patrik Stridvall <ps@leissner.se>
	API files update.

	* dlls/ntdll/exception.c, dlls/ntdll/signal_powerpc.c,
	  include/winnt.h, server/context_powerpc.c:
	Marcus Meissner <meissner@suse.de>
	Use Iar (Instruction Address Register) instead of Fill[0].
	siginfo.si_code uses the lower 16bit for the type of the exception.

	* programs/clock/Si.rc, programs/clock/rsrc.rc:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Slovenian resources for clock.

2002-08-29  Alexandre Julliard  <julliard@winehq.com>

	* windows/input.c: Per Nystrom <centaur@netmagic.net>
	Set the flag in GetCursorInfo.

	* dlls/comctl32/listview.c: Guy L. Albertelli <galberte@neo.lrun.com>
	- Reduce the number of messages being passed to itself by using the
	  internal routines.
	- Fix problem in _SetIconSpacing found by recent change.
	- Add initial support for correct icon sizing.
	- A few extra traces.

	* windows/painting.c:
	Create the scratch region before copying if necessary.

	* graphics/x11drv/palette.c, include/windef.h,
	  dlls/msvideo/msvideo16.c, dlls/msvideo/msvideo_main.c,
	  dlls/msvideo/vfw16.h:
	Michael Stefaniuc <mstefani@redhat.de>
	Convert HPALETTE to a void*.

	* dlls/gdi/gdi16.c, include/gdi.h, objects/dc.c, objects/palette.c:
	Added internal 32-bit versions of GDISelectPalette and
	GDIRealizePalette.

	* dlls/winmm/winealsa/alsa.h, include/config.h.in, configure,
	  configure.ac:
	Marco Pietrobono <pietrobo@pietrobo.com>
	Use alsa/asoundlib.h instead of sys/asoundlib.h if possible.

	* windows/win.c: Juergen Schmied <juergenschmied@lycos.de>
	Support for HWND_MESSAGE.

	* dlls/winsock/socket.c: Rein Klazes <rklazes@xs4all.nl>
	In WSAStartup() don't touch the lpVendorInfo field of the WSADATA
	structure.

	* dlls/x11drv/winpos.c: Mike McCormack <mikem@codeweavers.com>
	Rely on the window manager to show and hide popup windows for us.

2002-08-28  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msacm/winemp3/decode_i386.c, dlls/msacm/winemp3/mpegl3.c,
	  dlls/oleaut32/parsedt.c, dlls/richedit/reader.c,
	  dlls/richedit/text-writer.c, dlls/winedos/int67.c,
	  dlls/wineps/download.c, dlls/wininet/internet.h,
	  include/wine/obj_dragdrophelper.h, programs/regsvr32/regsvr32.c,
	  tools/winedump/output.c:
	Patrik Stridvall <ps@leissner.se>
	Removed trailing white space.

	* tools/winapi/Makefile.in, tools/winapi/winapi_cleanup,
	  tools/winapi/winapi_cleanup_options.pm:
	Patrik Stridvall <ps@leissner.se>
	New tool winapi_cleanup for doing simple automatic cleanups.
	Currently it removes trailing white space from the .[ch] files.

	* msdos/int11.c, msdos/int21.c, msdos/ioports.c, objects/font.c,
	  relay32/builtin32.c, scheduler/handle.c, scheduler/timer.c,
	  win32/except.c, graphics/painting.c, graphics/path.c,
	  if1632/builtin.c, if1632/relay.c, include/file.h, include/rpcdcep.h,
	  library/config.c, loader/loadorder.c, loader/main.c,
	  loader/module.c, loader/ne/segment.c, loader/resource.c,
	  memory/registry.c, dlls/gdi/enhmfdrv/graphics.c,
	  dlls/gdi/printdrv.c, dlls/gdi/win16drv/init.c, dlls/kernel/comm.c,
	  dlls/kernel/kernel_main.c, dlls/kernel/locale.c, dlls/kernel/sync.c,
	  dlls/kernel/thunk.c, dlls/kernel/wowthunk.c,
	  dlls/lzexpand/lzexpand_main.c, dlls/ntdll/sec.c,
	  dlls/ntdll/signal_powerpc.c, dlls/shell32/dialogs.c,
	  dlls/shell32/pidl.c, dlls/shell32/shell.c, dlls/shell32/shellpath.c,
	  dlls/shlwapi/ordinal.c, dlls/shlwapi/path.c, dlls/shlwapi/string.c:
	Patrik Stridvall <ps@leissner.se>
	MSVC compatibility fixes.

	* dlls/user/display.c, dlls/user/user32.spec, include/winuser.h,
	  windows/input.c:
	Per Nystrom <centaur@netmagic.net>
	Implemented GetCursorInfo.

	* programs/winetest/include/advapi32.pm,
	  programs/winetest/include/comctl32.pm,
	  programs/winetest/include/kernel32.pm,
	  programs/winetest/include/ntdll.pm,
	  programs/winetest/include/ole32.pm,
	  programs/winetest/include/rpcrt4.pm,
	  programs/winetest/include/shell32.pm,
	  programs/winetest/include/shlwapi.pm,
	  programs/winetest/include/urlmon.pm,
	  programs/winetest/include/user32.pm:
	Patrik Stridvall <ps@leissner.se>
	Updated winetest's Perl modules using winapi_extract.

	* controls/menu.c: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Make sure we clear the owning window's hMenu in DestroyMenu().

	* dlls/gdi/win16drv/font.c, dlls/gdi/win16drv/win16drv.h,
	  dlls/user/user_main.c, graphics/x11drv/codepage.c,
	  graphics/x11drv/dib.c, graphics/x11drv/xfont.c, include/bitmap.h,
	  include/font.h, include/gdi.h, include/global.h, include/x11font.h,
	  memory/atom.c, objects/bitmap.c, objects/dib.c, objects/font.c,
	  objects/region.c, windows/cursoricon.c, windows/painting.c:
	Fixed a number of dll separation issues.

	* dlls/kernel/tests/path.c: Removed system specific GetTempPathA test.

	* windows/nonclient.c: Tweak position of system menu small icon.

	* dlls/comctl32/comboex.c: Dimitrie O. Paun <dpaun@rogers.com>
	- implement CBEN_DRAGBEGIN
	- remove useless FIXMEs

	* debugger/winedbg.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed breaking DLL load.

	* debugger/msc.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed typo in test.

	* dlls/gdi/mfdrv/bitblt.c: Huw D M Davies <hdavies@codeweavers.com>
	BitBlt and StretchBlt generate META_DIBSTRETCHBLT records.

	* windows/sysmetrics.c, windows/sysparams.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Correct some of the system metrics to more closely match Windows
	values.

	* controls/combo.c: Aric Stewart <aric@codeweavers.com>
	If we have no dropdown height give ourselves a minimum height of 5
	items or max items (whichever is less).

	* controls/combo.c:
	Fixed WM_GETTEXT handling to avoid strncpy and return correct lengths.

	* controls/menu.c, dlls/ole32/ole2.c, dlls/user/msg16.c,
	  dlls/user/resource.c, include/user.h, include/windef.h:
	Michael Stefaniuc <mstefani@redhat.de>
	Convert HACCEL to a void*.

	* dlls/user/Makefile.in, dlls/user/user.exe.spec, dlls/user/user16.c,
	  include/wine/winuser16.h:
	Patrik Stridvall <ps@leissner.se>
	Implement wrapper calls for the 16 bit GlobalAtom* functions.

2002-08-27  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winspool/info.c:
	Alexander Gottwald <Alexander.Gottwald@informatik.tu-chemnitz.de>
	Avoid crash if no default cups printer is set.

	* include/commctrl.h: Added a couple of listview definitions.

	* tools/winebuild/parser.c:
	Fixed line numbers in error messages and improved redefinition error
	(based on a patch by Jon Griffiths).

	* tools/widl/parser.l, tools/widl/widl.c, tools/winebuild/import.c,
	  tools/wpp/wpp.c, tools/wpp/wpp.h, tools/wrc/wrc.c:
	Try to derive temp file names from output file names for better
	portability.

	* dlls/comctl32/listview.c: Mike McCormack <mikem@codeweavers.com>
	Change the icon spacing when setting the image list.

	* dlls/comctl32/listview.c: Aric Stewart <aric@codeweavers.com>
	Windows expects the edit window to hang around and be valid.

	* dlls/user/user_main.c, dlls/x11drv/clipboard.c, dlls/x11drv/event.c,
	  dlls/x11drv/x11drv.spec, include/clipboard.h, include/user.h,
	  include/x11drv.h, windows/clipboard.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	- Add a max wait time for selection notifies.
	- Add new function to the x11drv to get clipboard format names of
	  externally registered formats.
	- When a clipboard format is registered we should pass the global atom
	  value as the format identifier.
	- Clipboard format name should be treated as case insensitive.
	- Serialize metafile bits when requested via a clipboard selection.
	- Return format ids for native formats when mapping from properties.

	* dlls/advapi32/advapi.c, dlls/ntdll/sec.c, files/profile.c,
	  include/wine/library.h, library/config.c, scheduler/client.c,
	  server/registry.c:
	Added wine_get_user_name function and got rid of some of the getpwuid
	portability stuff.
	More portable printf formats for 64-bit types.

	* dlls/ntdll/time.c, win32/newfns.c: Patrik Stridvall <ps@leissner.se>
	MSVC long long fixes.

	* dlls/comctl32/comboex.c: Dimitrie O. Paun <dpaun@rogers.com>
	Implement CBES_EX_PATHWORDBREAKPROC for the ComboEx control.

	* dlls/x11drv/keyboard.c: Hleb Valoska <el_globus@tut.by>
	Added Belarusian keyboard.

	* controls/edit.c: Zoltan Nagy <nagyzoli@netelek.hu>
	Move caret when selecting a text area with the mouse.

	* dlls/shlwapi/shlwapi.spec: Rein Klazes <rklazes@xs4all.nl>
	Forward shlwapi.393 to CreateDialogIndirectParamW.

	* loader/ne/module.c, loader/ne/resource.c, loader/ne/segment.c:
	Mike McCormack <mikem@codeweavers.com>
	Don't cache file handles for NE executable modules so that we don't
	lock the CDROM.

	* dlls/kernel/tests/.cvsignore, dlls/kernel/tests/Makefile.in,
	  dlls/kernel/tests/directory.c, dlls/kernel/tests/drive.c,
	  dlls/kernel/tests/file.c, dlls/kernel/tests/path.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added a bunch of new regression tests.

	* configure.ac, dlls/shell32/Makefile.in, dlls/shell32/shlfileop.c,
	  dlls/shell32/tests/.cvsignore, dlls/shell32/tests/Makefile.in,
	  dlls/shell32/tests/shlfileop.c, configure:
	Andriy Palamarchuk <apa3a@yahoo.com>
	SHFileOperation: Implemented the FO_RENAME action, fixed FO_DELETE,
	implemented unit tests for these two actions.

	* win32/device.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Convert most of the file APIs to Unicode.

	* files/file.c:
	Fixed permission check when renaming a directory (based on a patch by
	Andriy Palamarchuk).

	* windows/winpos.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Dump SetWindowPos flags.

	* files/directory.c, files/dos_fs.c, files/drive.c, files/file.c,
	  files/profile.c, files/smb.c, files/smb.h, include/drive.h,
	  include/file.h, loader/task.c, memory/registry.c, misc/registry.c,
	  msdos/dosconf.c, msdos/int11.c, msdos/int21.c, msdos/ioports.c,
	  scheduler/process.c, dlls/kernel/wowthunk.c, dlls/ntdll/file.c,
	  dlls/winedos/int21.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Convert most of the file APIs to Unicode.

	* dlls/comctl32/comctl_Pl.rc, dlls/comctl32/rsrc.rc:
	Jacek Bator <jbator@man.poznan.pl>
	Added Polish translations.

	* loader/module.c, server/mapping.c:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Relax a bit PE consistency checks.
	Return BINARY_DOS type if extended header was not recognized.

	* dlls/x11drv/winpos.c: Bill Medland <billmedland@look.ca>
	SetWindowPos sends WM_WINDOWPOSCHANGED even if it has been told not to
	send WM_WINDOWPOSCHANGING.

	* include/basetsd.h: Steven Edwards <steven_ed4153@yahoo.com>
	Fix for lots of warnings when building on Mingw32.

	* dlls/shlwapi/shlwapi.spec: Dmitry Timoshkov <dmitry@baikal.ru>
	Correct the number of parameters for StrRStrIA/W.

	* dlls/ntdll/Makefile.in, dlls/ntdll/signal_powerpc.c:
	Marcus Meissner <meissner@suse.de>
	Implemented signal handling for PPC.

	* tools/winapi/config.pm, tools/winapi/msvcmaker:
	Patrik Stridvall <ps@leissner.se>
	Added Microsoft Visual Studio workspace and project file maker.

2002-08-26  Alexandre Julliard  <julliard@winehq.com>

	* msdos/int1a.c, msdos/int21.c, scheduler/synchro.c, win32/time.c,
	  configure.ac, dlls/kernel/comm.c, dlls/kernel/time.c,
	  dlls/msvcrt/time.c, dlls/ntdll/cdrom.c, dlls/ntdll/debugtools.c,
	  dlls/ntdll/error.c, dlls/ntdll/om.c, dlls/ntdll/sec.c, files/file.c,
	  files/smb.c, if1632/snoop.c, include/config.h.in, misc/main.c,
	  misc/version.c, configure:
	Patrik Stridvall <ps@leissner.se>
	MSVC compatibility fixes.

	* programs/progman/dialog.c: Steven Edwards <steven_ed4153@yahoo.com>
	Partial fix for browse dialog in Program Manager.

	* dlls/winmm/wineoss/audio.c: Ove Kaaven <ovek@transgaming.com>
	Tweaks to improve playback performance and reduce sound glitches:
	- wodGetPosition does not send an update message to the player thread;
	this reduces the accuracy of the readout from byte-accuracy to near
	fragment-accuracy, but we save 2-4 context switches and kernel
	scheduling penalties.
	- if FeedDSP runs out of data, do not flush output buffers before
	notifications are sent and given the chance to provide more sound data.
	Do not flush before we're down to the last fragment.
	- messages to the player thread are signaled using Unix pipes instead
	of Win32 synchronization primitives, to avoid having the player thread
	wait for the wineserver (and context switches from/to it) before the
	it can feed more data to the sound card.
	- ring buffer size is increased from 30 to 192 to support some games
	that fires 128 messages at once to determine DMA buffer size.

	* debugger/info.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Added 'watch' command to the winedbg help command.

	* tools/winedump/main.c, tools/winedump/misc.c, tools/winedump/pe.c:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Make winedump compilable by MSVC.

	* dlls/comctl32/propsheet.c: Andriy Palamarchuk <apa3a@yahoo.com>
	Implemented processing of PSM_SETCURSELID message.

	* dlls/comctl32/comboex.c: Dimitrie O. Paun <dpaun@rogers.com>
	- implement CBES_EX_CASESENSITIVE
	- fix severe bug in CB_FINDEXACTSTRING
	- small cleanups

	* dlls/msvideo/Makefile.in, dlls/msvideo/drawdib.c,
	  dlls/msvideo/msvideo16.c, dlls/msvideo/msvideo_main.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Moved most of the 16-bit functions in dlls/msvideo to msvideo16.c.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/security.c,
	  include/winnt.h:
	Andriy Palamarchuk <apa3a@yahoo.com>
	SetTokenInformation stub implementation, a few other small changes.

	* dlls/shlwapi/shlwapi.spec, dlls/shlwapi/url.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Implement UrlHashW.

2002-08-20  Alexandre Julliard  <julliard@winehq.com>

	* include/x11drv.h, dlls/x11drv/window.c, dlls/x11drv/winpos.c:
	Don't map/unmap a top-level window when WS_VISIBLE changes, only when
	we explicitly do a SetWindowPos(SWP_SHOWWINDOW/HIDEWINDOW).
	Update the WM hints when mapping a window in case the style has
	changed in the meantime.

	* objects/font.c: Mike McCormack <mikem@codeweavers.com>
	Handle NULL buffer in GetObject.

	* dlls/kernel/format_msg.c, dlls/kernel/tests/.cvsignore,
	  dlls/kernel/tests/Makefile.in, dlls/kernel/tests/format_msg.c:
	Mike McCormack <mikem@codeweavers.com>
	Added regression test for FormatMessage.
	Fixed cr/lf handling.
	Prevent an infinite loop when an invalid format (%S) is passed as a
	format string to vsnprintf.
	Fixed a memory leak in the W version.

	* configure, configure.ac: Marcus Meissner <meissner@suse.de>
	Do not emit .string into the instruction stream, but into the .data
	section (to avoid alignment assertions).

	* dlls/shell32/shelllink.c: Dusan Lacko <dlacko@codeweavers.com>
	Fix extraction of icons from ICO files.

	* controls/edit.c: Aric Stewart <aric@codeweavers.com>
	Don't set EN_CHANGE at creation time.

	* memory/environ.c, dlls/kernel/tests/.cvsignore,
	  dlls/kernel/tests/Makefile.in, dlls/kernel/tests/environ.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added unit test for environment functions and fixed some bugs.

	* dlls/kernel/locale.c, dlls/ntdll/ntdll.spec, windows/message.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi/win32.api, tools/winapi_check/winapi_check:
	Patrik Stridvall <ps@leissner.se>
	API files update.

	* library/port.c: Marcus Meissner <meissner@suse.de>
	Cleaned up interlocking funcs for PPC, fixed return value of
	interlocked_add.

	* tools/winebuild/import.c: Marcus Meissner <meissner@suse.de>
	Implemented delayed import assembler thunks for PPC.

	* include/winnt.h, scheduler/sysdeps.c:
	Marcus Meissner <meissner@suse.de>
	Use r2 instead of r13 for TLS, since r13 is used in the ELF32 PPC
	ABI.

2002-08-19  Alexandre Julliard  <julliard@winehq.com>

	* debugger/gdbproxy.c: Robert Lunnon <bob@yarrabee.net.au>
	Removed use of saddr as a variable name which conflicts with usage in
	netinet/in.h.

	* dlls/shlwapi/shlwapi.spec, dlls/shlwapi/string.c, include/shlwapi.h:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Fix existing string functions, implement a bunch of new ones.

	* dlls/shlwapi/thread.c: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Create security attributes when running as NT or later.

	* dlls/shlwapi/shlwapi_main.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Free comctl32 on unload.

2002-08-17  Alexandre Julliard  <julliard@winehq.com>

	* winedefault.reg: Mike McCormack <mikem@codeweavers.com>
	Added some keys for ole32 interfaces.

	* dlls/gdi/freetype.c: François Gouget <fgouget@codeweavers.com>
	Detect the FreeType version and adapt the sfnt offset accordingly.

	* dlls/gdi/enhmfdrv/dc.c, dlls/gdi/enhmfdrv/enhmetafiledrv.h,
	  dlls/gdi/enhmfdrv/mapping.c, dlls/gdi/mfdrv/mapping.c,
	  dlls/gdi/mfdrv/metafiledrv.h, graphics/mapping.c, include/gdi.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Mapping mode functions should change dc settings when dc is an enhmf.

	* include/commdlg.h: Mike McCormack <mikem@codeweavers.com>
	Removed Wine internal flags.

	* objects/enhmetafile.c: Mike McCormack <mikem@codeweavers.com>
	Added sanity checks on EMRCREATEDIBPATTERNBRUSHPT values.
	Fix a memory leak.

	* programs/winhelp/hlp2sgml.c:
	Added GetProcessHeap definition in case it's not inlined.

	* tools/fnt2bdf.c, tools/makedep.c, tools/widl/header.c,
	  tools/widl/parser.l, tools/widl/proxy.c, tools/widl/widl.c,
	  tools/winebuild/import.c, tools/winebuild/res16.c,
	  tools/winebuild/res32.c, tools/winedump/debug.c,
	  tools/winedump/pe.c, tools/wpp/preproc.c, tools/wrc/wrc.c:
	Dmitry Timoshkov <dmitry@baikal.ru>
	Include protection for <unistd.h>, <sys/types.h> and <sys/stat.h>.

	* programs/notepad/En.rc: Shachar Shemesh <sun@consumer.org.il>
	Change sublanguage from "NEUTRAL" to "DEFAULT", so LoadResource will
	be able to find it if no other language is a better match.

	* dlls/gdi/freetype.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Do not leave uninitialized pointer.

	* objects/enhmetafile.c: Huw D M Davies <hdavies@codeweavers.com>
	Allow an app to open the file of a disk based emf for reading while
	the hemf is still open.
	Implement SetWinMetaFileBits in a more sane fashion.

	* dlls/gdi/enhmfdrv/enhmetafiledrv.h, dlls/gdi/enhmfdrv/graphics.c,
	  dlls/gdi/enhmfdrv/init.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Implement simple ExtTextOut for enhmfdrv.

	* dlls/advapi32/advapi.c, dlls/advapi32/registry.c, library/debug.c,
	  library/loader.c, library/port.c, memory/instr.c:
	Patrik Stridvall <ps@leissner.se>
	MSVC compatibility fixes.

	* dlls/msvcrt/Makefile.in, dlls/msvcrt/console.c, dlls/msvcrt/file.c,
	  dlls/msvcrt/msvcrt.spec, dlls/msvcrt/scanf.c, dlls/msvcrt/scanf.h,
	  include/msvcrt/stdio.h:
	Daniel Gudbjartsson <dfg@decode.is>
	Combined the implementation of all the scanf's in a single place.
	Added implementations of fwscanf, swscanf, wscanf and sscanf.
	Corrected the declaration of swscanf.
	Added implementation of the l, h, L and w prefixes.
	Added implementation of the c, C, s, S and n types.

	* dlls/ntdll/exception.c, server/Makefile.in, server/context_powerpc.c:
	Marcus Meissner <meissner@suse.de>
	Implemented server context/ptrace handling for Linux/PowerPC.

	* msdos/int25.c, msdos/int26.c, msdos/ioports.c, msdos/vxd.c,
	  scheduler/client.c, scheduler/handle.c, scheduler/process.c,
	  scheduler/pthread.c, scheduler/synchro.c, scheduler/sysdeps.c,
	  scheduler/syslevel.c, scheduler/thread.c, win32/device.c,
	  win32/init.c, win32/kernel32.c, win32/newfns.c, win32/time.c,
	  windows/clipboard.c, windows/message.c, windows/winhelp.c,
	  dlls/x11drv/clipboard.c, dlls/x11drv/x11drv_main.c, files/change.c,
	  files/directory.c, files/dos_fs.c, files/drive.c, files/file.c,
	  files/profile.c, files/smb.c, graphics/x11drv/xfont.c,
	  loader/main.c, loader/module.c, loader/ne/module.c,
	  loader/ne/resource.c, loader/ne/segment.c, loader/resource.c,
	  loader/task.c, memory/global.c, memory/registry.c, memory/virtual.c,
	  misc/main.c, misc/registry.c, msdos/dosconf.c, msdos/dpmi.c,
	  msdos/int13.c, msdos/int1a.c, msdos/int21.c, dlls/winedos/dosvm.c,
	  dlls/winedos/int16.c, dlls/winedos/module.c, dlls/winedos/xms.c,
	  dlls/wineps/init.c, dlls/wininet/ftp.c, dlls/wininet/http.c,
	  dlls/wininet/internet.c, dlls/winmm/joystick.c,
	  dlls/winmm/joystick/joystick.c, dlls/winmm/time.c,
	  dlls/winmm/winealsa/audio.c, dlls/winmm/winealsa/audio_05.c,
	  dlls/winmm/winearts/audio.c, dlls/winmm/wineaudioio/audio.c,
	  dlls/winmm/winenas/audio.c, dlls/winmm/wineoss/audio.c,
	  dlls/winmm/wineoss/midi.c, dlls/winmm/wineoss/mixer.c,
	  dlls/winmm/wineoss/mmaux.c, dlls/winsock/async.c,
	  dlls/winsock/socket.c, dlls/wsock32/socket.c, dlls/msvcrt/file.c,
	  dlls/netapi32/netapi32.c, dlls/ntdll/cdrom.c,
	  dlls/ntdll/debugtools.c, dlls/ntdll/file.c, dlls/ntdll/om.c,
	  dlls/ntdll/sec.c, dlls/ntdll/signal_i386.c,
	  dlls/ntdll/signal_sparc.c, dlls/ntdll/time.c, dlls/ole32/storage.c,
	  dlls/oleaut32/olepicture.c, dlls/rpcrt4/rpcrt4_main.c,
	  dlls/shell32/iconcache.c, dlls/shell32/shell.c,
	  dlls/shell32/shelllink.c, dlls/shell32/shlexec.c,
	  dlls/shell32/systray.c, dlls/twain/ds_ctrl.c, dlls/user/exticon.c,
	  dlls/user/network.c, dlls/version/resource.c, dlls/win32s/w32sys.c,
	  dlls/winaspi/aspi.c, dlls/winaspi/winaspi16.c,
	  dlls/winaspi/winaspi32.c, controls/desktop.c, controls/icontitle.c,
	  dlls/ddraw/direct3d/main.c, dlls/ddraw/direct3d/mesa.c,
	  dlls/dinput/joystick/linux.c, dlls/dinput/joystick/linuxinput.c,
	  dlls/dsound/buffer.c, dlls/dsound/capture.c,
	  dlls/dsound/dsound_main.c, dlls/dsound/mixer.c,
	  dlls/dsound/primary.c, dlls/dsound/propset.c, dlls/dsound/sound3d.c,
	  dlls/gdi/printdrv.c, dlls/gdi/win16drv/prtdrv.c,
	  dlls/icmp/icmp_main.c, dlls/kernel/comm.c, dlls/kernel/console.c,
	  dlls/kernel/sync.c, dlls/kernel/thunk.c, dlls/kernel/time.c,
	  dlls/kernel/toolhelp.c, dlls/lzexpand/lzexpand_main.c,
	  dlls/mpr/wnet.c:
	Patrik Stridvall <ps@leissner.se>
	Added include protection for unistd.h and sys/time.h.

	* dlls/gdi/enhmfdrv/objects.c: Mike McCormack <mikem@codeweavers.com>
	Set cbBits in the EMRCREATEDIBPATTERNBRUSHPT structure when writing an
	EMF record.

	* dlls/gdi/mfdrv/text.c: Huw D M Davies <hdavies@codeweavers.com>
	Fix for metafile ExtTextOut that only includes the rectangle if either
	ETO_CLIPPED or ETO_OPAQUE is set.

	* dlls/gdi/enhmfdrv/dc.c, dlls/gdi/enhmfdrv/enhmetafiledrv.h,
	  dlls/gdi/enhmfdrv/init.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Implemented a few device caps.

	* dlls/gdi/freetype.c: Huw D M Davies <hdavies@codeweavers.com>
	Fix for sign of font height in non MM_TEXT mode.
	Fix GGO_NATIVE again.

	* dlls/shell32/shellord.c, dlls/urlmon/umon.c, dlls/gdi/gdi16.c,
	  dlls/kernel/kernel_main.c, dlls/ole32/compobj.c,
	  dlls/ole32/ole32.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* dlls/shell32/shell32_main.c: Andriy Palamarchuk <apa3a@yahoo.com>
	Do not set window position on ABM_WINDOWPOSCHANGED.

2002-08-16  Alexandre Julliard  <julliard@winehq.com>

	* server/queue.c, server/thread.c, server/user.h:
	Signal and release the idle event when the process main thread exits.

	* include/winuser.h, windows/message.c:
	Aric Stewart <aric@codeweavers.com>
	Very partial implementation of BroadcastSystemMessageA.

	* dlls/x11drv/keyboard.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Added Greek keyboard layout.
	Updated Brazilian ABNT-2 keyboard layout.

	* dlls/shell32/shv_bg_cmenu.c: Aric Stewart <aric@codeweavers.com>
	Fixes to allow IE to do local file loading and some limited browsing.

	* dlls/shell32/shelllink.c: Mike McCormack <mikem@codeweavers.com>
	Don't try reading a PIDL in IPersistStream->Load if its size is 0.
	Check the number of bytes read was correct.
	Small reorganization of error handling.

	* dlls/commdlg/cdlg.h, dlls/commdlg/cdlg32.c,
	  dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.h:
	Mike McCormack <mikem@codeweavers.com>
	- Do not modify pointers in the OPENFILENAME structure passed to
	  GetFileDialog95A/W.
	- Use Unicode as default for strings from the OPENFILENAME structures.
	- Fill out the OPENFILENAME structure before sending the FILEOK
	  notification.
	- Send a CDN_FOLDERCHANGE notification on OPENFILENAME dialog init.
	- Fix miscalculation of the size of Explorer style file dialog boxes
	  with templates.
	- Remove redundant MapHModuleLS and MapHModuleSL calls that also cause
	  hInstance to be trashed when it holds a template pointer instead of a
	  real hInstance (when OFN_ENABLETEMPLATEPOINTER is specified).

	* controls/edit.c:
	Erase background when invalidating the selected text.

	* objects/metafile.c: Huw D M Davies <hdavies@codeweavers.com>
	Fix for metafile ExtTextOut that only includes the rectangle if either
	ETO_CLIPPED or ETO_OPAQUE is set.
	Slightly less of a stub implementation for GetWinMetaFileBits.

	* if1632/builtin.c, include/builtin16.h, include/module.h,
	  loader/loadorder.c:
	Force loadorder of 16-bit dlls to builtin if their 32-bit counterpart
	has already been loaded as builtin.

	* server/main.c, server/process.c, server/process.h, server/request.c,
	  server/request.h, server/select.c:
	Added -k option to kill an existing wineserver.

	* dlls/user/user32.spec: Aric Stewart <aric@codeweavers.com>
	Added BroadcastSystemMessageA.

	* memory/string.c: lstrcpyn[AW] count should be considered unsigned.

	* misc/cpu.c: François Gouget <fgouget@codeweavers.com>
	Change the default CPU type so that QuickTime will also run on
	platforms where the cpu detection code does not work.

	* objects/font.c: Huw D M Davies <hdavies@codeweavers.com>
	Translate OutlineTextMetrics to logical co-ords.

	* dlls/ole32/storage32.c, dlls/ole32/storage32.h:
	Huw D M Davies <hdavies@codeweavers.com>
	DWORD at offset 0x40 in the header is the number of big blocks in the
	small block depot chain.
	Better failure handling.

	* loader/ne/module.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Set up exception handler around WEP call.

	* dlls/x11drv/mouse.c:
	Don't update the mouse button status in update_key_state, leave that
	to the input processing.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec,
	  dlls/shlwapi/shlwapi_main.c, dlls/comctl32/comctl32.spec,
	  dlls/comctl32/comctl32undoc.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Implement comctl32.417 and shlwapi.299. This avoids crash in IE's
	History.

	* controls/edit.c, dlls/richedit/richedit.c:
	Aric Stewart <aric@codeweavers.com>
	Support large edit buffers for richedit control.

	* dlls/ole32/filemoniker.c, dlls/ole32/ole32.spec, dlls/ole32/compobj.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed GetClassFile implementation.

	* dlls/kernel/kernel32.spec, dlls/kernel/kernel_main.c:
	Aric Stewart <aric@codeweavers.com>
	Added SwitchToThread.

	* dlls/crypt32/crypt32.spec, dlls/crypt32/main.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added some more stubs.

	* dlls/comctl32/imagelist.c: Mike McCormack <mikem@codeweavers.com>
	ImageList_SetImageCount should set nCurImage (the number of
	images in the list) to the value specified, and expect that
	ImageList_ReplaceImage is called to set the new images.

	* windows/input.c, include/windef.h:
	Michael Stefaniuc <mstefani@redhat.de>
	Convert HKL to a void*.

	* objects/bitmap.c, objects/brush.c, objects/clipping.c, objects/dc.c,
	  objects/dcvalues.c, objects/dib.c, objects/font.c, objects/gdiobj.c,
	  objects/palette.c, objects/pen.c, objects/region.c, objects/text.c,
	  dlls/gdi/Makefile.in, dlls/gdi/bidi16.c,
	  dlls/gdi/enhmfdrv/objects.c, dlls/gdi/gdi.exe.spec,
	  dlls/gdi/gdi16.c, dlls/gdi/mfdrv/bitblt.c, dlls/gdi/mfdrv/init.c,
	  dlls/gdi/mfdrv/objects.c, dlls/gdi/printdrv.c,
	  dlls/gdi/win16drv/font.c, dlls/gdi/win16drv/objects.c,
	  graphics/bitblt.c, graphics/escape.c, graphics/mapping.c,
	  graphics/painting.c, graphics/path.c, include/wine/wingdi16.h:
	Moved a large number of 16-bit functions to a separate gdi16.c file.

2002-08-15  Alexandre Julliard  <julliard@winehq.com>

	* controls/edit.c:
	Avoid trouble in WM_GETTEXT if specified length is larger than the
	buffer (found by Carl Sopchak).

	* tools/winebuild/spec32.c: François Gouget <fgouget@codeweavers.com>
	Fix command-line parsing for Winelib applications.

	* dlls/wineps/init.c: Huw D M Davies <hdavies@codeweavers.com>
	Get the initial paper size from the locale info.

	* objects/gdiobj.c: Huw D M Davies <hdavies@codeweavers.com>
	DeleteObject() can fail if the object is a DC, however we've already
	called GDI_ReleaseObj() so don't call it again.

	* memory/codepage.c, memory/string.c, ole/ole2nls.c,
	  scheduler/thread.c, dlls/kernel/Makefile.in,
	  dlls/kernel/kernel32.spec, dlls/kernel/kernel_main.c,
	  dlls/kernel/locale.c, dlls/ntdll/Makefile.in, include/thread.h,
	  include/winnls.h:
	Fixed GetLocaleInfoW to handle Unicode properly and completed
	implementation.
	Update win.ini and registry on startup when language changed.
	More logical priority order for locale environment variables.
	Implemented SetLocaleInfoW.
	Moved some locale functions to kernel32.dll.

	* dlls/ntdll/loader.c: Trap exceptions in RtlImageNtHeader.

	* configure.ac, dlls/ntdll/Makefile.in, dlls/ntdll/ntdll.spec,
	  dlls/ntdll/rtl.c, dlls/ntdll/rtlbitmap.c,
	  dlls/ntdll/tests/.cvsignore, dlls/ntdll/tests/Makefile.in,
	  dlls/ntdll/tests/rtlbitmap.c, include/ntddk.h, configure:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Implement and test rtl bitmap functions.
	Add a couple of other misc rtl functions.

	* dlls/kernel/locale_rc.rc, dlls/kernel/nls/*.nls:
	Updated all locale tables to match exactly what Windows returns.
	Renamed a few files to follow the proper naming conventions.
	Added a number of new locales.

	* dlls/commdlg/cdlg_Zh.rc, dlls/shell32/shell32_Zh.rc,
	  dlls/user/resources/user32_Zh.rc, include/winnt.h, tools/wpp/ppy.y,
	  tools/wrc/genres.c, tools/wrc/parser.l, tools/wrc/parser.y,
	  tools/wrc/utils.c, tools/wrc/utils.h, tools/wrc/wrc.c,
	  tools/wrc/wrctypes.h, tools/wrc/writeres.c:
	Added support for #pragma code_page.
	Fixed a few bugs in language handling.
	Added error message when Ansi->Unicode conversion in the current
	codepage loses information.

	* programs/progman/Si.rc, programs/progman/rsrc.rc,
	  dlls/shell32/shell32_Si.rc, dlls/shell32/shres.rc:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Added Slovenian resources.

	* tools/winebuild/spec32.c: Marcus Meissner <meissner@suse.de>
	The text section alignment should be default, not 1.

	* programs/notepad/Makefile.in, programs/notepad/main.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Link against msvcrt, fixed logic to handle quoted paths in command
	line parameters.

	* programs/regedit/Makefile.in, programs/regedit/regproc.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Linked regedit against msvcrt instead of the platform I/O library, so
	it can handle full Windows paths.

2002-08-14  Alexandre Julliard  <julliard@winehq.com>

	* include/module.h, loader/loadorder.c, loader/module.c,
	  scheduler/process.c:
	Make behavior of builtin executables closer to that of builtin dlls.
	Fixed case sensitivity of builtin executables.

	* dlls/Makefile.in: Updated dependencies.

	* library/ldt.c, memory/selector.c:
	Use the "new" LDT set call on Linux.

	* library/loader.c, tools/winebuild/spec32.c:
	Builtin modules must be aligned on 64K boundary.

	* graphics/x11drv/dib.c: Mike McCormack <mikem@codeweavers.com>
	Avoid dodgy asm optimization if the server's byte order is not
	LSBFirst.

	* dlls/wineps/type1.c: Huw D M Davies <hdavies@codeweavers.com>
	Correct font size for non MM_TEXT modes.

	* dlls/version/info.c: François Gouget <fgouget@codeweavers.com>
	NT sets the error code to ERROR_RESOURCE_DATA_NOT_FOUND if the file
	exists but does not contain version information.

	* dlls/shell32/brsfolder.c, dlls/shell32/shres.rc,
	  dlls/shell32/shresdef.h:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Make dialog IDs "Browse for Folder" compatible with IE.

	* dlls/shell32/shell32.spec, dlls/shell32/shellord.c:
	Mike McCormack <mikem@codeweavers.com>
	Stubs for DAD_Drag Enter, EnterEx, Move AutoScroll and Leave.

	* dlls/msvideo/drawdib.c: Mike McCormack <mikem@codeweavers.com>
	Correct the size of the colour map allocated in the bitmap header for
	the case biClrUsed = 0.

	* dlls/mapi32/mapi32.spec, dlls/mapi32/mapi32_main.c:
	Aric Stewart <aric@codeweavers.com>
	Added DeinitMapiUtil stub.

	* documentation/debugging.sgml: Dimitrie O. Paun <dpaun@rogers.com>
	Update the debugging channels docu.

	* server/context_i386.c: Pierre Beyssac <pb-wine@fasterix.frmug.org>
	Implemented CONTEXT_DEBUG_REGISTERS on FreeBSD.

2002-08-13  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/client.c, server/request.c:
	Fixed race condition when a thread gets killed right after starting.

	* dlls/urlmon/Makefile.in, dlls/urlmon/umon.c,
	  dlls/urlmon/urlmon.spec, dlls/urlmon/urlmon_main.c,
	  dlls/urlmon/urlmon_main.h, ole/uuid.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Very hacked implementation of url monikers.

	* dlls/ntdll/rtlstr.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Cosmetics.

	* dlls/user/message.c:
	Add QM_SMRESULT in wake bits too in case the changed bits get cleared
	while processing a sent message.

	* if1632/snoop.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix snooping of 16-bit dlls being loaded at the same address.

	* graphics/path.c: Huw D M Davies <hdavies@codeweavers.com>
	At the end of PATH_StrokePath, update dc->CurPosX|Y so that their
	values are in logical co-ords.

	* dlls/setupapi/parser.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed hex to binary conversion.

	* dlls/ntdll/misc.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	us->Length is in bytes.

	* dlls/ntdll/critsection.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Throw exception only for Wine internal locks.

	* dlls/comctl32/progress.c: Reduce flicker on updates.

	* dlls/comctl32/tooltips.c: Mike McCormack <mikem@codeweavers.com>
	Duplicate the font handle passed through WM_SETFONT, because it does
	not belong to us and is not ours to free.

	* dlls/comctl32/comboex.c: Dmitry Timoshkov <dmitry@codeweavers.com>
	Added WM_GET/SETTEXT support.

	* dlls/advapi32/crypt.h: The provider functions are WINAPI.

	* dlls/advapi32/crypt.c: Aric Stewart <aric@codeweavers.com>
	Only modify returned keys on success.

	* debugger/debug.l, debugger/debugger.h, debugger/info.c,
	  debugger/dbg.y:
	Added 'walk exception' command.

	* tools/widl/header.c, tools/widl/parser.y, tools/widl/proxy.c,
	  tools/widl/widltypes.h:
	Avoid dependencies on y.tab.h.

	* tools/winebuild/relay.c, dlls/kernel/thunk.c,
	  dlls/ntdll/exception.c, include/stackframe.h:
	Setup exception frame around 16-bit calls to unwind stack properly.

	* ole/uuid.c, include/Makefile.in, include/wine/obj_dragdrophelper.h,
	  dlls/shell32/Makefile.in, dlls/shell32/dragdrophelper.c,
	  dlls/shell32/shell32_main.h, dlls/shell32/shellole.c:
	Juergen Schmied <juergenschmied@lycos.de>
	Stubs for DragDropHelper.

	* msdos/ioports.c: Marcus Meissner <meissner@suse.de>
	Fixed the ppdev.h present but not direct io access case.

	* server/context_i386.c: Pierre Beyssac <pb@fasterix.frmug.org>
	Fixed ptrace argument order for FreeBSD, NetBSD and Solaris.

	* dlls/winedos/int10.c, dlls/winedos/vga.c, dlls/winedos/vga.h:
	Jukka Heinonen <jhei@iki.fi>
	Add support for moving VGA controller window in framebuffer using SVGA
	interrupts. Detect correctly color plane modes and linear modes,
	including Mode-X. Moved VESA interrupts into separate function and
	implemented few more stubs.

2002-08-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Maketest.rules.in:
	Test results need to depend on the module being tested.

	* debugger/Makefile.in, programs/winhelp/Makefile.in,
	  tools/widl/Makefile.in, tools/wpp/Makefile.in,
	  tools/wrc/Makefile.in:
	Added explicit dependency on y.tab.h for lex output.

2002-08-09  Alexandre Julliard  <julliard@winehq.com>

	* win32/except.c:
	Unprotect the resource data in the unhandled exception handler to fix
	broken apps.

	* loader/elf.c, loader/module.c, loader/pe_image.c,
	  loader/pe_resource.c, misc/version.c, msdos/vxd.c,
	  relay32/builtin32.c, relay32/relay386.c, relay32/snoop.c,
	  scheduler/process.c, dlls/ntdll/loader.c, dlls/ntdll/ntdll.spec,
	  dlls/ntdll/rtl.c, include/module.h, include/ntddk.h:
	Implemented the RtlImage* functions, and use them to replace the
	PE_HEADER macro.

	* dlls/richedit/riched32.h, include/Makefile.in, include/richedit.h,
	  include/richole.h:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Improved richedit headers.

	* dlls/winmm/mmio.c, dlls/winmm/winemm.h, include/mmsystem.h:
	Michael Stefaniuc <mstefani@redhat.de>
	Convert HMMIO to a void*.

	* graphics/x11drv/xfont.c: Dave Hawkes <daveh@cadlink.com>
	Fonts with an incomplete character set could cause a fault.

	* configure.ac, dlls/msvcrt/process.c, include/config.h.in, configure:
	Marcus Meissner <meissner@suse.de>
	Copy va_lists by using va_copy, not by just assigning them.

	* dlls/oleaut32/tests/.cvsignore, dlls/oleaut32/tests/Makefile.in,
	  dlls/shlwapi/Makefile.in, dlls/shlwapi/tests/.cvsignore,
	  dlls/shlwapi/tests/Makefile.in, dlls/user/Makefile.in,
	  dlls/user/tests/.cvsignore, dlls/user/tests/Makefile.in,
	  dlls/wininet/Makefile.in, dlls/wininet/tests/.cvsignore,
	  dlls/wininet/tests/Makefile.in, dlls/winsock/Makefile.in,
	  dlls/winsock/tests/.cvsignore, dlls/winsock/tests/Makefile.in,
	  programs/Makefile.in, programs/Makeprog.rules.in,
	  programs/winetest/make_ctests, Make.rules.in, Makefile.in,
	  configure, configure.ac, dlls/.cvsignore, dlls/Makedll.rules.in,
	  dlls/Makefile.in, dlls/Maketest.rules.in, dlls/advapi32/Makefile.in,
	  dlls/advapi32/tests/.cvsignore, dlls/advapi32/tests/Makefile.in,
	  dlls/kernel/Makefile.in, dlls/kernel/tests/.cvsignore,
	  dlls/kernel/tests/Makefile.in, dlls/make_dlls,
	  dlls/oleaut32/Makefile.in:
	Create separate makefiles for tests for more flexibility.

	* dlls/shlwapi/tests/shreg.c:
	Fixed string lengths to do the right thing for all platforms.

	* AUTHORS, dlls/shell32/authors.h: Updated authors list.

	* dlls/rpcrt4/rpcrt4_main.c, include/rpc.h, include/rpcdce.h,
	  include/rpcdcep.h, include/rpcndr.h, include/rpcproxy.h:
	Ove Kaaven <ovek@transgaming.com>
	Some more RPC definitions.

	* dlls/comctl32/commctrl.c, dlls/comctl32/flatsb.c,
	  dlls/comctl32/imagelist.c, dlls/comctl32/propsheet.c,
	  dlls/ntdll/sec.c, dlls/ntdll/signal_i386.c,
	  dlls/ntdll/signal_sparc.c, dlls/ole32/compobj.c,
	  dlls/shlwapi/shlwapi.spec, dlls/shlwapi/thread.c,
	  dlls/winedos/vga.c, dlls/wininet/internet.c,
	  dlls/winmm/winealsa/audio.c, dlls/winmm/winealsa/audio_05.c,
	  dlls/winmm/wineaudioio/audio.c, dlls/winmm/winenas/audio.c,
	  files/profile.c, scheduler/client.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi/win32.api, tools/winapi/winapi.pm,
	  tools/winapi_check/modules.dat, tools/winapi_check/winapi_check:
	Patrik Stridvall <ps@leissner.se>
	API file update.

	* dlls/msacm/driver.c, dlls/msvideo/msvideo_main.c,
	  dlls/winmm/driver.c, dlls/winmm/joystick.c, dlls/winmm/lolvldrv.c,
	  dlls/winmm/mmsystem.c, dlls/winmm/wavemap/wavemap.c,
	  dlls/winmm/winemm.h, dlls/winmm/wineoss/audio.c, include/mmddk.h,
	  include/mmsystem.h:
	Michael Stefaniuc <mstefani@redhat.de>
	- Convert HDRVR to a void*.
	- Fix declaration of DriverCallback().

	* documentation/winelib-intro.sgml:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Added an example of using winemaker.

	* tools/winemaker: Andriy Palamarchuk <apa3a@yahoo.com>
	Updated to generate build scripts working with current Wine, use some
	Wine conventions.
	Generated configure now finds libraries in binary Wine installation.

	* objects/text.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Add missing HeapFree.

2002-08-07  Alexandre Julliard  <julliard@winehq.com>

	* tools/wrc/utils.h, dlls/ddraw/dsurface/dib.c, dlls/msvcrt/math.c,
	  dlls/ole32/compobj.c, dlls/shell32/classes.c,
	  dlls/shell32/shlfolder.c, tools/widl/utils.h, tools/widl/widltypes.h,
	tools/wmc/utils.h:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Fixes for Sparc build.

	* aclocal.m4, configure:
	Don't make the ac_asm function wrapper static to prevent it from being
	optimized out.

	* tools/Makefile.in: Get rid of removed winapi_check subdirs.

2002-08-06  Alexandre Julliard  <julliard@winehq.com>

	* memory/virtual.c:
	Don't change base in map_image since we use it later on.
	Added some tracing.

	* library/port.c, scheduler/sysdeps.c, include/winnt.h:
	Josh DuBois <duboisj@codeweavers.com>
	Marcus Meissner <meissner@suse.de>
	PowerPC locked exchange functions merged from old ppc patch.
	NtCurrentTeb handling for PowerPC (using gpr 13).

	* dlls/shlwapi/shlwapi.spec, dlls/shlwapi/string.c:
	Juergen Schmied <juergenschmied@lycos.de>
	Implement StrRetToStr in shlwapi.

	* dlls/ddraw/ddraw/hal.c: Christian Costa <titan.costa@wanadoo.fr>
	Initialize the DDCAPS structure of the DDRAW object at creation.

	* dlls/dinput/keyboard/main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Handle 'not acquired' error messages on keyboard GetDeviceData.

2002-08-04  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, VERSION, configure: Release 20020804.

----------------------------------------------------------------
2002-08-03  Alexandre Julliard  <julliard@winehq.com>

	* memory/virtual.c: Set user address space limit to 0xc0000000.

	* dlls/ddraw/dsurface/dib.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Support negative values in RECTs during Blts.

	* include/winbase.h, files/file.c:
	Juergen Schmied <juergenschmied@lycos.de>
	- Fixed possible loss of data with given overlapped structure on a
	  file opened in non overlapped mode.
	- Fixme for file-lock functions.

	* configure, configure.ac, library/Makefile.in:
	Only link with msvcrt on mingw32. Cleaned up a few AC_SUBST.

	* dlls/ole32/Makefile.in, dlls/ole32/compobj.c,
	  dlls/ole32/compobj_private.h, dlls/ole32/ftmarshal.c, dlls/ole32/ifs.c,
	  dlls/ole32/ole16.c, include/wtypes.h:
	Juergen Schmied <juergenschmied@lycos.de>
	- Moved 16 bit functions to a seperate file.
	- First implementation for free threaded marshaller.
	- Fixed handling of REG_EXPAND_STRING registry values in CoCreateObject.
	- Fixed CoLoad/FreeLibrary functions.
	- Fixed use internal dll-list (used only for functions loading a dll
	  internally without returning HMODULE).

	* dlls/winmm/winemm.h, include/mmsystem.h, dlls/winmm/mmsystem.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Convert HMIXER, HMIXEROBJ to a void*.

	* controls/scroll.c: Duane Clark <dclark@akamail.com>
	On mouse down in thumb, issue SB_THUMBTRACK with current position.
	On mouse up in thumb, issue SB_THUMBPOSITION followed by
	SB_ENDSCROLL.

2002-08-02  Alexandre Julliard  <julliard@winehq.com>

	* Make.rules.in, Makefile.in, aclocal.m4:
	Install the aclocal macros for use by Winelib apps.

	* Make.rules.in, programs/winetest/Makefile.in:
	Don't pass the perl C flags to winebuild.

	* programs/winetest/winetest.c: Mike Castle <dalgoda@ix.netcom.com>
	Compile fix for multi-threaded perl.

	* dlls/ddraw/dsurface/dib.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Be less strict on parameter checking in the SetSurfaceDesc function.

	* dlls/dsound/dsound_main.c, dlls/winmm/lolvldrv.c,
	  dlls/winmm/mmsystem.c, dlls/winmm/winemm.h, include/mmsystem.h:
	Michael Stefaniuc <mstefani@redhat.de>
	- Converted HWAVE, HWAVEIN, HWAVEOUT to void*.
	- Fixed some HMIDI{IN,OUT}16 to HANDLE conversions.
	- midiOutCacheDrumPatches16 called itself recursively in an infinite
	  loop.

	* debugger/dbg.y, debugger/debugger.h, debugger/info.c,
	  debugger/intvar.h, debugger/registers.c, debugger/types.c,
	  debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added $regs as a variable for displaying all registers.

	* objects/dc.c:
	Don't set the DC_DIRTY flag in SetDCState since we just updated the DC.

	* tools/wrc/wrctypes.h:
	Removed struct user to avoid conflicts with system headers (spotted by
	Martin Cracauer).

2002-08-01  Alexandre Julliard  <julliard@winehq.com>

	* programs/avitools/Makefile.in, windows/.cvsignore, Make.rules.in,
	  controls/.cvsignore, dlls/Makedll.rules.in, dlls/gdi/.cvsignore,
	  dlls/gdi/Makefile.in, dlls/gdi/win16drv/.cvsignore,
	  dlls/kernel/.cvsignore, dlls/kernel/Makefile.in,
	  dlls/msvideo/.cvsignore, dlls/msvideo/Makefile.in,
	  dlls/ntdll/.cvsignore, dlls/ntdll/Makefile.in,
	  dlls/setupapi/.cvsignore, dlls/setupapi/Makefile.in,
	  dlls/user/.cvsignore, dlls/user/Makefile.in,
	  dlls/user/dde/.cvsignore, dlls/winaspi/.cvsignore,
	  dlls/winaspi/Makefile.in, dlls/winmm/.cvsignore,
	  dlls/winmm/Makefile.in, loader/.cvsignore, loader/ne/.cvsignore,
	  memory/.cvsignore, objects/.cvsignore, programs/Makeprog.rules.in:
	Create at most one glue file for a single dll.
	Avoid the intermediate .tmp.o file when building programs.

	* tools/winebuild/build.h, tools/winebuild/import.c,
	  tools/winebuild/main.c, tools/winebuild/parser.c,
	  tools/winebuild/spec16.c, tools/winebuild/spec32.c,
	  tools/winebuild/utils.c, tools/winebuild/winebuild.man.in:
	In -spec and -exe mode, accept multiple object files and link them
	together internally to find the undefined symbols.
	In -glue mode, accept multiple C files and generate a single glue
	file for all of them.

	* include/config.h.in, configure, configure.ac, dlls/Makefile.in,
	  dlls/winmm/wineaudioio/.cvsignore,
	  dlls/winmm/wineaudioio/Makefile.in, dlls/winmm/wineaudioio/audio.c,
	  dlls/winmm/wineaudioio/audioio.c,
	  dlls/winmm/wineaudioio/wineaudioio.drv.spec:
	Robert Lunnon <bob@yarrabee.net.au>
	Preliminary audio driver for Solaris Libaudioio.

	* dlls/winmm/lolvldrv.c, dlls/winmm/mciseq/mcimidi.c,
	  dlls/winmm/midimap/midimap.c, dlls/winmm/mmsystem.c,
	  dlls/winmm/winemm.h, include/mmsystem.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Michael Stefaniuc <mstefani@redhat.com>
	Convert HMIDI, HMIDIIN, HMIDIOUT, HMIDISTRM to void*.

2002-07-31  Alexandre Julliard  <julliard@winehq.com>

	* programs/Makefile.in, programs/winetest/Makefile.in,
	  programs/winetest/runtest, Make.rules.in, Makefile.in:
	Use the normal perl interpreter for test scripts that don't need to
	call Windows APIs.
	Don't build winetest.exe by default.

	* dlls/winsock/async.c, dlls/winsock/socket.c, dlls/wsock32/protocol.c,
	  include/wine/port.h, library/port.c:
	Moved the #ifdefs for the getnetby* etc. functions directly into the
	winsock implementation to avoid having to redefine the data structures
	in port.h.

	* programs/notepad/Si.rc: Rok Mandeljc <rokmandeljc@hotmail.com>
	Fixed some invalid characters.

	* programs/regedit/tests/regedit.pl, programs/winetest/include/wine.pm,
	  programs/winetest/include/winetest.pm,
	  programs/winetest/tests/wine.pl:
	Split routines that don't rely on C functions into winetest.pm so that
	they can be used from a normal Perl script.

	* dlls/crtdll/crtdll_main.c, dlls/msvcrt/file.c, dlls/msvcrt/msvcrt.spec:
	Add MSVCRT prefix to _stat and _fstat (based on a patch by Rafael
	Kitover).

	* dlls/kernel/sync.c, dlls/ntdll/signal_i386.c, dlls/wineps/builtin.c,
	  include/msvcrt/sys/stat.h, include/msvcrt/sys/types.h,
	  tsx11/Makefile.in:
	Rafael Kitover <caelum@debian.org>
	Portability fixes for Cygwin.

	* server/registry.c, server/sock.c, win32/newfns.c, memory/registry.c,
	  memory/selector.c, misc/registry.c, msdos/vxd.c, objects/palette.c,
	  relay32/snoop.c, scheduler/syslevel.c, scheduler/thread.c,
	  dlls/kernel/debugger.c, dlls/kernel/thunk.c, dlls/kernel/wowthunk.c,
	  dlls/ntdll/critsection.c, dlls/ntdll/nt.c, dlls/ntdll/rtl.c,
	  dlls/setupapi/infparse.c, dlls/setupapi/setupapi_private.h,
	  include/gdi.h, include/palette.h, include/wincrypt.h,
	  loader/ne/module.c, dlls/advapi32/crypt.c, dlls/advapi32/crypt.h,
	  dlls/advapi32/eventlog.c, dlls/advapi32/registry.c,
	  dlls/advapi32/service.c:
	Fixed some handle type mismatches and added a few casts in prevision
	of void* handles.

	* dlls/kernel/Makefile.in, dlls/kernel/console.c,
	  dlls/kernel/editline.c, dlls/ntdll/Makefile.in, win32/console.c,
	  win32/editline.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Moved all client-side console code to kernel.

	* dlls/kernel/kernel_main.c, scheduler/process.c:
	Moved initial AllocConsole call to kernel init (based on a patch by
	Eric Pouech).

	* files/file.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Made the calls to (Read|Write)Console through a function pointer to
	ease up ntdll/kernel separation.

	* dlls/kernel/kernel_main.c, dlls/ntdll/ntdll.spec,
	  dlls/ntdll/signal_i386.c, dlls/ntdll/signal_sparc.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added a generic mechanism to set up hooks for dispatching signal
	handlers outside ntdll.

	* dlls/ntdll/heap.c:
	We have to use the Rtl variant of Enter/LeaveCriticalSection inside
	ntdll.

	* scheduler/process.c:
	Remove .so extension from main module file name after loading it so
	that GetModuleFileName returns the right thing.

	* dlls/kernel/Makefile.in, dlls/kernel/tests/atom.c,
	  dlls/kernel/tests/atom.pl:
	Rewrote atom test in C.

	* files/file.c: Rafael Kitover <caelum@debian.org>
	Changed dos_handles to store dups of stdio/out/err as per Ove Kaaven's
	suggestion.

	* dlls/winmm/winenas/audio.c: Nicolas Escuder <n.escuder@alineanet.com>
	Speed and buffer improvement, code clean up, and fix some bug
	on close / reset waveout.

	* scheduler/handle.c, scheduler/process.c, dlls/oleaut32/typelib.c,
	  dlls/user/exticon.c, dlls/winedos/module.c, files/dos_fs.c,
	  files/file.c, include/file.h, include/module.h, include/winbase.h,
	  loader/module.c, loader/ne/resource.c, loader/ne/segment.c,
	  loader/resource.c, objects/metafile.c,
	  dlls/gdi/enhmfdrv/enhmetafiledrv.h, dlls/gdi/enhmfdrv/init.c,
	  dlls/gdi/mfdrv/init.c, dlls/gdi/mfdrv/metafiledrv.h:
	Fixed HANDLE<->HFILE conversions, since they will be different types
	when handles are void*.

2002-07-30  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makefile.in, dlls/winmm/winenas/.cvsignore,
	  dlls/winmm/winenas/Makefile.in, dlls/winmm/winenas/audio.c,
	  dlls/winmm/winenas/nas.c, dlls/winmm/winenas/nas.h,
	  dlls/winmm/winenas/winenas.drv.spec, include/config.h.in, configure,
	  configure.ac:
	Merged the NAS driver written by Nicolas
	Escuder <n.escuder@alineanet.com>.

	* debugger/break.c, debugger/dbg.y, debugger/debugger.h,
	  debugger/intvar.h, debugger/stabs.c, debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added ability to defer breakpoint setting for breakpoint defined by an
	absolute address.

	* debugger/winedbg.c: Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed regression on internal vars.

2002-07-29  Alexandre Julliard  <julliard@winehq.com>

	* loader/pe_image.c, memory/virtual.c:
	Set the correct permissions on the PE image sections.

	* include/wine/port.h, library/port.c, server/file.c, tools/wpp/wpp.c,
	  configure, configure.ac, debugger/gdbproxy.c,
	  dlls/shell32/shelllink.c, include/config.h.in:
	Marcus Meissner <meissner@suse.de>
	Check for mkstemp, added a port implementation if it is not
	present. Use mkstemp() in various places needing tmp files.

	* dlls/winedos/vga.h, dlls/winmm/winearts/audio.c, win32/console.c,
	  dlls/winedos/int10.c, dlls/winedos/vga.c:
	Chris Morgan <cmorgan@alum.wpi.edu>
	Some dos VGA error handling.  Misc TRACE changes.

	* debugger/dbg.y, debugger/debug.l, debugger/debugger.h,
	  debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added source command.

	* dlls/ole32/compobj.c, dlls/ole32/ifs.c, dlls/ole32/ifs.h,
	  dlls/ole32/ole32.spec, dlls/ole32/ole32_main.c,
	  include/wine/obj_misc.h:
	Juergen Schmied <juergenschmied@lycos.de>
	- Implemented IMallocSpy hooks in IMalloc.
	- Moved memory related functions into ifs.c.
	- Implemented stubs for the MallocSpy.

	* dlls/winmm/mmsystem.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed format string.

	* dlls/winedos/ioports.c: Jukka Heinonen <jhei@iki.fi>
	VGA emulation now supports outw and outl.

	* dlls/winedos/vga.c: Jukka Heinonen <jhei@iki.fi>
	Add VGA controller framebuffer between VGA window and
	DirectDrawSurface.

	* dlls/shell32/classes.c: Steven Edwards <steven_ed4153@yahoo.com>
	Portability fix.

	* Make.rules.in, dlls/Makedll.rules.in, programs/Makeprog.rules.in:
	Steven Edwards <steven_ed4153@yahoo.com>
	Fix building/linking resources on Mingw.

	* dlls/shell32/pidl.c, dlls/shell32/shell32_main.c,
	  dlls/shell32/shell32_main.h, dlls/shell32/shellord.c,
	  dlls/shell32/shlview.c, dlls/comctl32/comctl32.spec,
	  dlls/shell32/iconcache.c:
	Import comctl32 functions from shell32 by ordinal.
	Removed some unnecessary ordinals in comctl32.spec.

	* tools/wpp/wpp.c: Michael Stefaniuc <mstefani@redhat.de>
	Include <stdlib.h> needed by exit().

	* dlls/ole32/datacache.c, dlls/oleaut32/olepicture.c, include/windef.h:
	Michael Stefaniuc <mstefani@redhat.de>
	Converted HENHMETAFILE and HMETAFILE to a void*.

2002-07-28  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winmm/winemm.h, include/windef.h, loader/task.c,
	  dlls/user/misc.c, dlls/winmm/mci.c, dlls/winmm/mmsystem.c:
	Convert HTASK to void* (based on a patch by Michael Stefaniuc).

	* tools/winebuild/.cvsignore, tools/winebuild/Makefile.in,
	  tools/winebuild/README, tools/winebuild/winebuild.man.in:
	Added a winebuild man page.

	* library/loader.c, tools/winebuild/build.h, tools/winebuild/import.c,
	  tools/winebuild/parser.c, tools/winebuild/spec32.c:
	Added support for importing by ordinal.

	* tools/winebuild/main.c:
	Set correct dll file name when building a .def file.

	* dlls/msvcrt/data.c: Fixed potential memory corruption.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/rtl.c:
	Ryan Cumming <ryan@completely.kicks-ass.org>
	Implementation of RtlGetNtVersionNumbers.

	* dlls/ntdll/cdrom.c: Rafael Kitover <caelum@debian.org>
	Minor fix for ide-scsi cdroms.

	* dlls/winedos/vga.c: Jukka Heinonen <jhei@iki.fi>
	Add decoding logic for VGA indexed registers.

	* dlls/shell32/shell.c, include/windef.h, windows/hook.c:
	Michael Stefaniuc <mstefani@redhat.de>
	- Converted HHOOK to a void*.
	- Changed the internal HOOK_* functions to pass only HHOOK's between
	  them.
	- Fixed wrong HHOOK <-> HANDLE16 conversions.

2002-07-26  Alexandre Julliard  <julliard@winehq.com>

	* windows/painting.c:
	RDW_FRAME should be RDW_NOFRAME when validating (spotted by Duane
	Clark).

2002-07-25  Alexandre Julliard  <julliard@winehq.com>

	* tools/widl/parser.l: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	#include <unistd.h> which is required for unlink().

	* memory/global.c: Bang Jun-Young <junyoung@mogua.com>
	Make compile on NetBSD.

	* dlls/ole32/compobj.c, dlls/ole32/compobj.spec:
	Marcus Meissner <meissner@suse.de>
	Factored out the OLE 16 bit allocator from StringFromCLSID.
	Implemented ProgIDFromCLSID16.

	* tools/winemaker: Andriy Palamarchuk <apa3a@yahoo.com>
	winebuild searches libraries specified in -l parameter only in the
	library directories specified before in the -L parameter, but
	winemaker added -L parameter after -l.

	* tools/winebuild/import.c, tools/winebuild/spec32.c:
	Put correct ordinal hints in the import table.

	* dlls/kernel/sync.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Fill lpcbAvail for PeekNamedPipe.

	* dlls/shell32/shlexec.c: Duane Clark <dclark@akamail.com>
	Bug fixes.

2002-07-24  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dsound/dsound.spec: Removed ordinal 0.

	* dlls/ntdll/loader.c, include/module.h, loader/elf.c, loader/module.c,
	  loader/pe_image.c:
	Added support for ordinal hint in PE_FindExportedFunction.

	* dlls/gdi/freetype.c, dlls/msacm/driver.c, dlls/shlwapi/url.c,
	  windows/win.c, windows/winproc.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Misc spelling fixes.

	* documentation/winelib-mfc.sgml: Andriy Palamarchuk <apa3a@yahoo.com>
	Updated MFC legal issues section according to the new license, some
	other changes.

	* programs/wcmd/wcmdmain.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	WCMD_run_program: don't try to run an empty line.

	* programs/wcmd/builtins.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	More verbose output when file not found.

	* programs/wcmd/batch.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	WCMD_batch: increase possible line length and warn if still too small.

	* dlls/shell32/shellord.c, dlls/shell32/shlexec.c:
	Duane Clark <dclark@akamail.com>
	Combined implementations of ShellExecute/Ex.

	* dlls/shlwapi/path.c: Jon Griffiths <jon_p_griffiths@yahoo.com>
	PathAppendA/W: Don't skip '\\' if path is UNC.
	PathGetCharTypeA/W: '/' is invalid, make non-ASCII compatible too.
	Implement PathCompactPathExA/W.
	Update docs, remove signed/unsigned warnings with -W.

	* dlls/msvcrt/Makefile.in, dlls/msvcrt/cppexcept.c,
	  dlls/msvcrt/except.c, dlls/msvcrt/msvcrt.spec:
	First pass implementation of CxxFrameHandler (thanks to Juergen
	Schmied for help in testing it).

	* documentation/printing.sgml, documentation/registry.sgml,
	  documentation/running.sgml, documentation/winelib-porting.sgml,
	  documentation/authors.ent, documentation/bugs.sgml,
	  documentation/configuring.sgml, documentation/consoles.sgml,
	  documentation/debugging.sgml, documentation/fonts.sgml,
	  documentation/getting.sgml, documentation/installing.sgml,
	  documentation/introduction.sgml, documentation/multimedia.sgml,
	  documentation/packaging.sgml:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- Move "questions and comments" at the top of the document.
	- Removed elfdll documentation.
	- Properly documented Desktop and Managed config.
	- Rearranged config entries according to importance.
	- "wine.conf" -> "the wine config file" in some cases.
	- Updated to new FTP URLs.
	- Fix non-backslash-escaped paths (ouch !).
	- Replace text references by real links.
	- Misc. other updates.

	* objects/font.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Properly check that the font resource is not already there.

	* include/Makefile.in, include/shlguid.h, include/shlwapi.h,
	  include/wine/obj_queryassociations.h, ole/uuid.c:
	Fixed duplication of definitions between shlwapi.h and
	obj_queryassociations.h.

	* dlls/shell32/Makefile.in, dlls/shell32/brsfolder.c,
	  dlls/shell32/classes.c, dlls/shell32/dataobject.c,
	  dlls/shell32/debughlp.c, dlls/shell32/enumidlist.c,
	  dlls/shell32/folders.c, dlls/shell32/memorystream.c,
	  dlls/shell32/pidl.c, dlls/shell32/shell32_main.c,
	  dlls/shell32/shell32_main.h, dlls/shell32/shelllink.c,
	  dlls/shell32/shellole.c, dlls/shell32/shellstring.c,
	  dlls/shell32/shfldr.h, dlls/shell32/shfldr_desktop.c,
	  dlls/shell32/shfldr_fs.c, dlls/shell32/shfldr_mycomp.c,
	  dlls/shell32/shlfolder.c, dlls/shell32/shlview.c,
	  dlls/shell32/shv_bg_cmenu.c, dlls/shell32/shv_item_cmenu.c:
	Juergen Schmied <juergenschmied@lycos.de>
	- Cleaned up the implementation of shell folders and put them into
	  separate files.
	- Fixed some memory leaks.
	- Some more fixes.

2002-07-23  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/process.c:
	Fixed handling of .com binaries (thanks to Chris Morgan).

	* dlls/msvcrt/data.c, dlls/msvcrt/environ.c, dlls/msvcrt/msvcrt.h:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Take a snapshot of the environment strings when building the
	__p__environ array and update the array on calls to _putenv.

	* dlls/msvcrt/string.c: Removed non-exported string functions.

	* documentation/winelib-intro.sgml:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Added mention of a dot in the current directory specification. Added
	reference to the winemaker man page.

	* dlls/comctl32/listview.c: Guy L. Albertelli <galberte@neo.lrun.com>
	- Implement LVM_SCROLL and adjust scrolling for all formats.
	- Implement standard Comctl32 color handling.
	- Eliminate bogus ERR messages for application messages.

	* win32/console.c, win32/editline.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Multi-line edit is now enabled.
	Fixed a buffer allocation error.
	Yank buffer is no longer destroyed after the first copy.
	Implemented the transpose word (alt-t) and redraw (ctrl-l)
	emacs-commands.

	* debugger/dbg.y, debugger/debugger.h, debugger/hash.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added offset for relocating symbols in symbolfile command.

	* dlls/shell32/shell32.spec, dlls/crtdll/crtdll.spec,
	  dlls/crtdll/crtdll_main.c, dlls/msvcrt20/msvcrt20.spec:
	Fixed broken forwards reported by Patrik Stridvall.

	* programs/wineconsole/dialog.c, programs/wineconsole/registry.c,
	  programs/wineconsole/user.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- Fix some spelling problems.
	- Move WCUSER_SetMenuDetails to other menu related functions.

	* configure, configure.ac: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Include sys/types.h before sys/socket.h.

	* winedefault.reg: Andriy Palamarchuk <apa3a@yahoo.com>
	Added OLE/COM classes registered by OLEAUT32.DLL.

	* dlls/ole32/compobj.c, dlls/shlwapi/ordinal.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi/win16.api, tools/winapi/win32.api,
	  tools/winapi_check/modules.pm, tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_documentation.pm:
	Patrik Stridvall <ps@leissner.se>
	- Report broken forwards.
	- API files update.

2002-07-22  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dinput/joystick/linux.c, dlls/dinput/joystick/linuxinput.c,
	  dlls/dinput/keyboard/main.c, dlls/dinput/mouse/main.c:
	Added missing wine/port.h.

	* include/wine/port.h, aclocal.m4, configure, configure.ac,
	  dlls/ntdll/debugtools.c, include/config.h.in, include/winnt.h:
	Generate the __ASM_NAME and __ASM_FUNC macros directly from
	configure.
	Simplified the WINE_TRY_ASM_LINK test.
	Moved DECL_GLOBAL_CONSTRUCTOR to wine/port.h.

	* dlls/ntdll/signal_i386.c, relay32/snoop.c, scheduler/pthread.c,
	  tools/winebuild/build.h, tools/winebuild/import.c,
	  tools/winebuild/relay.c, tools/winebuild/spec32.c, tools/wrc/wrc.c,
	  tools/wrc/writeres.c:
	Replace all uses of PREFIX and @function by the __ASM_NAME and
	__ASM_FUNC macros.

	* dlls/comctl32/imagelist.c: Michael Stefaniuc <mstefani@redhat.com>
	ImageList_Remove returns TRUE when removing all images of an empty
	ImageList.

	* debugger/stabs.c: Bill Medland <medbi01@accpac.com>
	- Document where the stabs information can be found, so that someone
	  can help upgrade this code.
	- A couple of minor enhancements towards handling C++.
	- Don't bother trying to load libstdc++, rather than generating an
	  enormous number of "errors".

	* tools/winapi/winapi.pm, tools/winapi/winapi_extract,
	  tools/winapi/winapi_extract_options.pm:
	Patrik Stridvall <ps@leissner.se>
	Handle forwarded functions properly (based on a patch by Francois
	Gouget).

	* dlls/ddraw/ddraw/thunks.c, include/ddraw.h:
	Michael Karcher <michael.karcher@dpk.berlin.fido.de>
	Set the correct length of the struct DDSURFACEDESC.

	* objects/font.c: Shachar Shemesh <winecode@sun.consumer.org.il>
	Now checks that the GCP_REORDER flag is set before trying to access
	any of the fields that depend on this flag.

	* scheduler/process.c: Fixed .com binary support.

	* dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Roderick Colenbrander <thunderbird2k@gmx.net>
	Simple implementation of InternetAutodial.

	* debugger/Makefile.in: Eric Pouech <eric.pouech@wanadoo.fr>
	Removed unnecessary flag.

	* debugger/debug.l, debugger/debugger.h, debugger/hash.c,
	  debugger/source.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed very long line reading (and some buffering bugs).
	Removed the static limit in array for symbols parsing.

	* dlls/shlwapi/Makefile.in, dlls/shlwapi/ordinal.c,
	  dlls/shlwapi/shlwapi.spec, dlls/shlwapi/thread.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Move thread related functions to new file.
	Implement SHCreateThread,@224,@424, stub SHReleaseThreadRef.
	Fix: SHGetThreadRef() calls AddRef(), @356 param count wrong.

	* include/shlwapi.h: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Add some new defines and functions.

2002-07-20  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/msvcrt.h, dlls/msvcrt/thread.c:
	Added definition of msvcrt internal error codes.

	* debugger/Makefile.in, debugger/gdbproxy.c, debugger/stabs.c,
	  debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added a remote proxy for gdb.

	* Make.rules.in:
	Fixed linking rule for test programs (spotted by Gregg Mattinson).

	* debugger/break.c, debugger/dbg.y, debugger/debugger.h,
	  debugger/hash.c, debugger/source.c, debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Inverted inner loops (Win32 debug event handling / WineDbg command
	line parser).

	* configure, configure.ac, include/config.h.in, include/wine/port.h:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Added checks for __sparc__, __sun__ and @function.

	* aclocal.m4: Fixed quoting in WINE_TRY_ASM_LINK macro.

	* objects/dc.c: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	CreateDCA should return failure if both driver and device are NULL.

	* windows/spy.c: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- Add message mapping for tooltips.
	- Use DEBUG_SPY define instead of commenting out TRACEs.

	* programs/winetest/include/advapi32.pm,
	  programs/winetest/include/avifil32.pm,
	  programs/winetest/include/comcat.pm,
	  programs/winetest/include/dinput8.pm,
	  programs/winetest/include/gdi32.pm,
	  programs/winetest/include/imm32.pm,
	  programs/winetest/include/kernel32.pm,
	  programs/winetest/include/ntdll.pm,
	  programs/winetest/include/ole32.pm,
	  programs/winetest/include/oleaut32.pm,
	  programs/winetest/include/rpcrt4.pm,
	  programs/winetest/include/setupapi.pm,
	  programs/winetest/include/shdocvw.pm,
	  programs/winetest/include/shell32.pm,
	  programs/winetest/include/shlwapi.pm,
	  programs/winetest/include/sti.pm,
	  programs/winetest/include/user32.pm,
	  programs/winetest/include/winedos.pm,
	  programs/winetest/include/wininet.pm,
	  programs/winetest/include/winmm.pm,
	  programs/winetest/include/ws2_32.pm:
	Patrik Stridvall <ps@leissner.se>
	Updated winetest Perl modules using winapi_extract.

	* tools/winapi/winapi.pm, tools/winapi/winapi_extract:
	Patrik Stridvall <ps@leissner.se>
	Fixed winapi_extract.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/reg.c,
	  dlls/shlwapi/shlwapi.spec, dlls/shlwapi/string.c:
	Juergen Schmied <juergenschmied@lycos.de>
	- Many stubs
	- Some ordinals, SHStrDupA and SHStrDupW implemented.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/registry.c,
	  include/winreg.h:
	Dominik Strasser <dominik.strasser@mchp.siemens.de>
	Implemented RegQueryMultipleValues.

	* dlls/ddraw/dsurface/user.c, dlls/ddraw/dsurface/user.h:
	Ove Kaaven <ovek@transgaming.com>
	Wait for the asynchronous update thread to complete if the app
	requests it. Fixed blit offseting issues in windowed mode.

	* tools/widl/Makefile.in, tools/widl/parser.l, tools/widl/widl.c,
	  tools/wrc/Makefile.in, tools/wrc/parser.y, tools/wrc/wrc.c:
	Explicitly specify the path to wpp.h so we don't need to change the
	include path, to avoid conflicts with multiple y.tab.h files.

	* dlls/setupapi/setupx16.h, dlls/setupapi/virtcopy.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Honour the VNLP_COPYIFEXISTS flag when doing a copy operation.

	* msdos/dosmem.c: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Change BIOSDATA's rows on screen minus 1 from 23 to 24.

	* programs/regsvr32/regsvr32.c: Bill Medland <medbi01@accpac.com>
	Allow regsvr32 to process multiple filenames (as does the Windows
	version).

	* include/winnt.h: Gregg Mattinson <gm138242@scot.canada.sun.com>
	Fixed __builtin_return_address.

	* files/dos_fs.c: Rein Klazes <rklazes@xs4all.nl>
	Repair SetLastError in FindNextFileA.

	* programs/control/control.c: Francois Gouget <fgouget@codeweavers.com>
	Move an extern declaration to stop egcs-2.91.66 from crashing.

2002-07-19  Alexandre Julliard  <julliard@winehq.com>

	* include/msvcrt/eh.h, dlls/msvcrt/cpp.c, dlls/msvcrt/dir.c,
	  dlls/msvcrt/errno.c, dlls/msvcrt/file.c, dlls/msvcrt/heap.c,
	  dlls/msvcrt/main.c, dlls/msvcrt/math.c, dlls/msvcrt/msvcrt.h,
	  dlls/msvcrt/msvcrt.spec, dlls/msvcrt/process.c, dlls/msvcrt/thread.c:
	Fixed per-thread data handling.
	Made terminate and unexpected function pointer per-thread.
	Added set_se_translator.

	* dlls/ddraw/ddraw/user.h, dlls/ddraw/dsurface/fakezbuffer.h,
	  include/ntddk.h, tools/winedump/cvinclude.h:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Avoid structures or arrays of size 0.

	* files/dos_fs.c, files/smb.c, files/smb.h:
	Mike McCormack <mikem@codeweavers.com>
	First go at reading directories on public SMB shares.

	* configure.ac, include/config.h.in, configure:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	 - X11/extensions/shape.h requires X11/Xutil.h.
	 - X11/XKBlib.h requires X11/Xlib.h.
	 - net/if.h requires sys/socket.h.
	 - netinet/ip.h requires sys/socket.h and sys/in_systm.h.
	 - resolv.h requires sys/socket.h.

	* tools/winemaker: Gregg Mattinson <gm138242@scot.canada.sun.com>
	- Removed name, type, mode, rsrc, and import statements from .spec
	  file.
	- Added imports and resources to Makefile.in.
	- Checked for __sparc__ and __sun__, same as Wine's configure.
	- Checked $WINE_ROOT/library for library files.
	- Changed mixedcrt directory to msvcrt.

	* dlls/shlwapi/regstream.c, dlls/shlwapi/shlwapi.spec:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Set amounts read/written to 0, share Un/Lock code, unify ctors.
	SHOpenRegStreamA/W return a dummy object on failure, not NULL.
	Implement @12 using common ctor.

	* controls/combo.c: Carl Sopchak <carl.sopchak@cegis123.com>
	Return empty string on error in WM_GETTEXT.

	* dlls/wininet/internet.c: Marcus Meissner <mm@lst.de>
	Protect InternetCloseHandle() against invalid handles.

	* tools/winapi/config.pm, tools/winapi/win16.api,
	  tools/winapi/win32.api, tools/winapi/winapi.pm,
	  tools/winapi_check/modules.dat, tools/winapi_check/modules.pm,
	  tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_documentation.pm:
	Patrik Stridvall <ps@leissner.se>
	Merged all API files into two files (Win16/Win32).

	* dlls/ntdll/ntdll.spec, dlls/oleaut32/olepicture.c,
	  dlls/oleaut32/safearray.c, dlls/oleaut32/variant.c,
	  dlls/shell32/shellole.c, dlls/shlwapi/ordinal.c,
	  dlls/winmm/wavemap/wavemap.c, dlls/winmm/winealsa/alsa.c,
	  dlls/winmm/winealsa/audio.c, dlls/winmm/winealsa/audio_05.c,
	  objects/font.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* include/windef.h: Michael Stefaniuc <mstefani@redhat.com>
	Convert HMONITOR to a void*.

	* dlls/comctl32/updown.c: Dimitrie O. Paun <dpaun@rogers.com>
	Allow the application to subclass a buddy edit (spotted by Guy
	L. Albertelli).

	* winedefault.reg: Andriy Palamarchuk <apa3a@yahoo.com>
	Added CLSID_StdFont class registration.

	* tools/winedump/output.c: Jon Griffiths <jon_p_griffiths@yahoo.com>
	Update output for recent build changes.

	* dlls/shell32/brsfolder.c, dlls/shell32/shell32.spec:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Implemented SHBrowseForFolderW.

	* dlls/shlwapi/shlwapi_main.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Avoid winreg.h inclusion.

	* dlls/ole32/compobj.c, dlls/ole32/ole32.spec:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Stub implementation for CoInitializeSecurity.

2002-07-16  Alexandre Julliard  <julliard@winehq.com>

	* tools/wpp/wpp.c: Fixed temp name handling.

	* configure.ac, include/wine/rpcfc.h, tools/Makefile.in,
	  tools/widl/.cvsignore, tools/widl/Makefile.in, tools/widl/header.c,
	  tools/widl/header.h, tools/widl/parser.h, tools/widl/parser.l,
	  tools/widl/parser.y, tools/widl/proxy.c, tools/widl/proxy.h,
	  tools/widl/utils.c, tools/widl/utils.h, tools/widl/widl.c,
	  tools/widl/widl.h, tools/widl/widltypes.h, configure:
	Merged the IDL compiler written by Ove Kaaven.

	* tools/wrc/ppl.l, tools/wrc/ppy.y, tools/wrc/preproc.c,
	  tools/wrc/preproc.h, tools/wrc/utils.c, tools/wrc/utils.h,
	  tools/wrc/wrc.c, configure.ac, tools/Makefile.in,
	  tools/wpp/.cvsignore, tools/wpp/Makefile.in, tools/wpp/ppl.l,
	  tools/wpp/ppy.y, tools/wpp/preproc.c, tools/wpp/wpp.c,
	  tools/wpp/wpp.h, tools/wpp/wpp_private.h, tools/wrc/.cvsignore,
	  tools/wrc/Makefile.in, tools/wrc/parser.l, tools/wrc/parser.y,
	  configure:
	Split the C preprocessor from wrc into a separate library.
	Prefixed exported functions by 'pp' to avoid namespace conflicts.

	* programs/winhelp/hlp2sgml.c, programs/winhelp/hlpfile.c,
	  programs/winhelp/hlpfile.h, programs/winhelp/macro.c,
	  programs/winhelp/macro.lex.l, programs/winhelp/macro.yacc.y,
	  programs/winhelp/winhelp.c, programs/winhelp/winhelp.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Bring winhelp back to life, with mainly support for Win95 help files.

	* dlls/x11drv/window.c: Fixed setting of min/maximize mwm hints.

	* dlls/ole32/filemoniker.c, dlls/ole32/itemmoniker.c:
	Juergen Schmied <juergenschmied@lycos.de>
	Fixed two leaks in file- and itemmoniker.

	* dlls/ddraw/dsurface/dib.c:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Added support DDBLT_DDFX flag in DirectDrawSurface_Blt.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Remove stub for ordinal 394 and replace with forward to
	  CreateDialogIndirectParamA where tracing shows it going.
	- Add stub for ordinal 430.

	* dlls/comctl32/animate.c, dlls/comctl32/comboex.c,
	  dlls/comctl32/datetime.c, dlls/comctl32/flatsb.c,
	  dlls/comctl32/hotkey.c, dlls/comctl32/ipaddress.c,
	  dlls/comctl32/monthcal.c, dlls/comctl32/progress.c,
	  dlls/comctl32/rebar.c, dlls/comctl32/status.c, dlls/comctl32/tab.c,
	  dlls/comctl32/toolbar.c, dlls/comctl32/tooltips.c,
	  dlls/comctl32/trackbar.c, dlls/comctl32/treeview.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Don't issue error message if message number in application range.

	* dlls/shlwapi/Makefile.in, dlls/shlwapi/istream.c,
	  dlls/shlwapi/shlwapi.spec, dlls/shlwapi/tests/clist.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Implement SHCreateStreamOnFileA/W/Ex, ordinals @166,184,212-214.

	* server/serial.c: Marcus Meissner <marcus@jet.franken.de>
	Implemented FlushFileBuffers for serial devices.

	* dlls/kernel/tests/path.c: Paul Millar <paulm@astro.gla.ac.uk>
	Removed drive assumptions in the path handling regression tests.

	* dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c:
	Juergen Schmied <juergenschmied@lycos.de>
	Fixed a memory leak and a wrong memory free call.

	* programs/winefile/winefile.h:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Do not #include <malloc.h>, which is non-standard and not needed.

	* dlls/x11drv/dga2.c, dlls/x11drv/xvidmode.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Test for X11 errors for DGA2 and XVidMode extensions.

	* dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw_private.h,
	  dlls/ddraw/dsurface/main.c, dlls/ddraw/helper.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- DDRAW_SYSTEMMEMORY is handled like OFFSCREENPLAIN for now
	- added more logging

	* dlls/shell32/dialogs.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Fixed another non-static structure initializer.

	* dlls/comctl32/header.c: Bill Medland <medbi01@accpac.com>
	Correction to header order maintenance when a dummy first item is
	added and then deleted (as suggested by MSDN to handle the fact that
	the first column of a listview is left justified).  Also removed
	redundant casts.

	* graphics/x11drv/dib.c: Rob McClinton <mypublicaccount@hotmail.com>
	X11DRV_GetDIBits: Don't clear the biCompression==BI_BITFIELDS flag
	after creating the bits.

	* dlls/oleaut32/typelib.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Fixed void* arithmetic.

	* dlls/shell32/shlfolder.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Initialized the pidlOut variable in SHELL32_ParseNextElement to
	prevent a crash in some cases.

	* files/directory.c: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Fixed uninitialized HKEYs.

	* dlls/comctl32/listview.c: Bill Medland <medbi01@accpac.com>
	DeleteColumn should return success even for uOwnerData.

	* programs/notepad/dialog.c, programs/notepad/dialog.h,
	  programs/notepad/main.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	A few cosmetic changes plus fixes for problems spotted by Dmitry
	Timoshkov.

	* programs/notepad/Si.rc, programs/notepad/rsrc.rc:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Added Slovenian resources.

2002-07-10  Alexandre Julliard  <julliard@winehq.com>

	* VERSION, configure, ANNOUNCE, ChangeLog: Release 20020710.

----------------------------------------------------------------
2002-07-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/wprocs.spec:
	Added FPU emulation interrupts.

	* msdos/fpu.c, msdos/int3d.c, dlls/ntdll/Makefile.in,
	  dlls/winedos/dosvm.c, include/miscemu.h:
	Admiral Coeyman <admiral@corner.net>
	Added support for FPU emulation interrupts.

	* dlls/user/user32.spec, include/windef.h, include/winuser.h,
	  windows/hook.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Stubs/docs for NotifyWinEvent,SetWinEventHook,IsWinEventHookInstalled,
	UnhookWinEvent.

	* dlls/gdi/freetype.c:
	Quiet the font loading error.

	* controls/combo.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	CBUpdateEdit: LB_GETTEXTLEN returns LB_ERR on error, not 0.

	* dlls/ddraw/dsurface/dib.c:
	Fixed corruption when copying to the same surface (with the help of
	Tony Lambregts and Lionel Ulmer).

	* documentation/samples/config:
	Johan Gill <johane@lysator.liu.se>
	48 was plain wrong as value for HELmargin.

	* dlls/oleaut32/typelib.c, dlls/oleaut32/typelib.h:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Fixes to allow big endian machines to load MSFT typelib files.

	* files/drive.c:
	Fixed handling of drives with "/" path (thanks to Marcus Meissner).

	* dlls/wineps/ppd.c:
	Carl Sopchak <carl.sopchak@cegis123.com>
	Pass "Manual Feed" as short input slot name.

	* win32/console.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed synchronisation for ctrl event generation.

	* dlls/commdlg/fontdlg.c:
	Shachar Shemesh <sun@consumer.org.il>
	- Fixed access to the lpTemplateName of ChooseFont in cases where the
	  flags don't specify to use it.
	- Do not try to convert the resource name from ANSI to Wide if it is a
	  result of MAKEINTRESOURCE (and therefore not a string).

	* configure, configure.ac, dlls/advapi32/Makefile.in,
	  dlls/advapi32/tests/.cvsignore, dlls/advapi32/tests/registry.c:
	Created registry unit test and added tests for RegEnumValue[AW].

	* dlls/advapi32/registry.c, memory/registry.c:
	RegEnumValue[AW] need to update the data size on buffer overflow
	(spotted by Massimo <max@veneto.com>).

	* dlls/ddraw/ddraw_private.h, dlls/ddraw/dpalette/main.c,
	  dlls/ddraw/dsurface/main.c:
	Ove Kaaven <ovek@transgaming.com>
	Removed the flags fields of IDirectDrawPaletteImpl, as we should use
	the dwFlags field of DDRAWI_DDRAWPALETTE_GBL structure instead.

	* dlls/ddraw/dsurface/wndproc.c:
	Ove Kaaven <ovek@transgaming.com>
	Handle WM_SYNCPAINT with DefWindowProc.

	* debugger/debug.l:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Enhanced error handling on input stream reading.

	* debugger/ext_debugger.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed external debugger startup.

	* dlls/winmm/winmm_Si.rc, dlls/winmm/winmm_res.rc:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Added Slovenian resources.

	* dlls/shell32/shlfolder.c:
	Rein Klazes <rklazes@xs4all.nl>
	Fix buffer length calculation in InitializeGenericSF().

	* dlls/comctl32/listview.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Improve traces.
	- Changed default column width to 128 to match native and make that
	  the mimimum for LVS_SMALLICON and LVS_LIST styles.
	- Corrected max value for LVS_LIST style scroll info.
	- Issue our own ShowScrollBar like the native with proper test.
	- Correct alignment when using LVS_ICON style.
	- Correct FIXMEs for unimplemented styles.
	- Correct rect size computation for LVS_LIST.
	- Reset scroll bars when changing styles.
	- Implement WM_WINDOWPOSCHANGED.

2002-07-09  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shlwapi/Makefile.in, dlls/shlwapi/clist.c,
	  dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec,
	  dlls/shlwapi/tests/.cvsignore, dlls/shlwapi/tests/clist.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Implement/document @17,18,19,20,21,22 (Compact list API).

	* dlls/opengl32/make_opengl, dlls/opengl32/opengl_ext.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Support new registered extensions.

	* dlls/msvcrt/file.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	_open_osfhandle: set at least the _IOREAD flag.

	* windows/dce.c:
	Ryan Cumming <ryan@completely.kicks-ass.org>
	Make LockWindowUpdate return more Windows-like values.

2002-07-08  Alexandre Julliard  <julliard@winehq.com>

	* relay32/relay386.c:
	Remove .dll extension from module name, added wildcard support in
	relay specifications (with the help of Dmitry Timoshkov).

	* memory/string.c:
	Tommy Schultz Lassen <tlassen@tlassen.dk>
	Fixed lstrcpynA debug tracing.

	* dlls/msvcrt/msvcrt.spec:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	fgets, fgetws: don't treat the possible uninitialized buffers as valid
	strings.

	* dlls/msvcrt/file.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	MSVCRT_fread: expose feof flag.

	* tools/winecheck:
	Chris Morgan <cmorgan@alum.wpi.edu>
	Windows registry not found should be a notice to the user, not a
	critical error.

	* dlls/version/info.c:
	Removed workaround for 16-bit loader bug.

	* programs/notepad/Da.rc, programs/notepad/De.rc,
	  programs/notepad/En.rc, programs/notepad/Es.rc,
	  programs/notepad/Fi.rc, programs/notepad/Fr.rc,
	  programs/notepad/Makefile.in, programs/notepad/Pt.rc,
	  programs/notepad/README, programs/notepad/Sk.rc,
	  programs/notepad/Sw.rc, programs/notepad/TODO,
	  programs/notepad/Wa.rc, programs/notepad/dialog.c,
	  programs/notepad/dialog.h, programs/notepad/language.c,
	  programs/notepad/language.h, programs/notepad/main.c,
	  programs/notepad/main.h, programs/notepad/notepad.rc,
	  programs/notepad/notepad_res.h, programs/notepad/search.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Use rich text edit control instead of handling user input and
	rendering on its own, use named constants instead of magic numbers,
	cleaned code, implemented Undo functionality.

	* dlls/kernel/thunk.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- Always copy (almost) the whole stack space over to the 16bit stack
	  instead of calculating some potentially bogus parameter count.
	- Add some comments.

	* include/oleauto.h:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Fixed V_DECIMAL macro to reflect where the decVal member is actually
	stored.

	* dlls/msvcrt/msvcrt.spec:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added _U@YAPAXI@Z and _V@YAPAXI@Z.

	* dlls/msvcrt/file.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	MSVCRT_fseek: should return 0 on success.

	* dlls/richedit/reader.c, dlls/richedit/richedit.c,
	  dlls/richedit/rtf.h, dlls/richedit/text-writer.c:
	Duane Clark <dclark@akamail.com>
	Add richedit support for a plain text stream.

	* documentation/running.sgml:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added some environment variables documentation.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/variant.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	- VarFormat now supports VT_R8 and BYREF variant types.
	- Add VarCyMulI4 support.

	* dlls/winmm/mmsystem.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed another PlaySound bug (when SND_LOOP is requested).

	* dlls/winmm/winealsa/audio_05.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed a few compilation warnings.

	* dlls/opengl32/wgl.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Support wglUseFontBitmapsA when using client-side rendering.

2002-07-05  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dsound/Makefile.in:
	Steven Edwards <steven_ed4153@yahoo.com>
	Need to import ntdll.

	* programs/wcmd/directory.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Modified WCMD_filesize64 to handle unsigned numbers.

	* dlls/advapi32/registry.c, memory/registry.c:
	More explicit initialization of info_size for stupid compilers.

	* programs/uninstaller/main.c:
	Use Wine debugging API. Fixed MessageBox loop.

	* dlls/msvcrt/file.c, dlls/msvcrt/main.c, dlls/msvcrt/msvcrt.h:
	Flush stdio on exit.

	* dlls/odbc32/proxyodbc.c: Fixed warnings.

	* dlls/x11drv/wineclipsrv.c, include/wine/debug.h,
	  include/winnt.h, msdos/int2f.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	- Forte C does not support nameless structures or unions
	- Implemented __builtin_return_address for Forte C on sparc
	- Implemented DECL_GLOBAL_CONSTRUCTOR for non-386, non-GNU C
	- Implemented WINE_DPRINTF to have function name with Forte C

	* dlls/ole32/memlockbytes.c:
	Marcus Meissner <meissner@suse.de>
	Added a generic way of doing GetHGlobalFromILockBytes().

	* programs/winelauncher.in:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- make sure even GUI users notice a "missing xmessage" problem by
	  checking for tons of X11 editors
	- replace duplicated (3x) code with function launch_winesetup()
	- improved "winesetup not found" error message
	- break looping (via code 127) in case no xmessage installed
	- stress the fact that people should remember that they can regain certain
	  settings by deleting flag files
	- spelling fixes

	* dlls/kernel/format_msg.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Implemented FormatMessage for sparc.  Since the va_list is stored in
	memory like __i386__, the same implementation should work.

	* dlls/dsound/dsound_main.c, dlls/x11drv/x11drv_main.c,
	  loader/loadorder.c, misc/version.c:
	No need to call GetModuleFileName16 now that GetModuleFileNameA
	handles 16-bit tasks.

	* loader/module.c:
	Fixed GetModuleFileNameW return value.
	Quiet dll loading error message.

	* relay32/builtin32.c:
	Return ERROR_BAD_EXE_FORMAT when builtin dll still not found, since we
	most likely loaded a 16-bit builtin.

	* windows/painting.c:
	Moved MsgWaitForMultipleObjects call out of the window lock.

	* dlls/kernel/tests/path.c:
	Duane Clark <dclark@akamail.com>
	Add drive letter and Unix path tests of GetFullPathNameA.

	* dlls/oleaut32/variant.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Ensure VarBstrCat handles null parms as per windows and actually does
	the concatenation even for null args.

	* dlls/advapi32/registry.c:
	Rein Klazes <rklazes@xs4all.nl>
	Check for NULL keyvalue in RegEnumKeyExA/W.

	* controls/listbox.c:
	ComboLBWndProc: fall through to ListBoxWndProc if the listbox is not a
	ComboLBox.

	* documentation/samples/config:
	Removed "so" from the default load order.

	* dlls/user/message.c, dlls/user/msg16.c, dlls/user/user.exe.spec,
	  include/wine/winuser16.h, windows/dialog.c:
	Tried to make IsDialogMessageW more compatible. Changed
	IsDialogMessage16/A to call IsDialogMessageW.

	* tools/winebuild/import.c, tools/winebuild/main.c,
	  tools/winebuild/spec32.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	- Replaced .previous with a .section statement for the appropriate
	  section.
	- '.section .text' is incorrect.  It should be '.section ".text"'.

	* dlls/msvcrt/heap.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	MSVCRT_operator_new: Call handler only when "new" operation fails.

	* loader/module.c:
	Joshua Thielen <thielen@netprince.net>
	Changed GetModuleFileNameA to use GetCurrentTask instead of
	MODULE32_LookupHMODULE when called by a 16-bit task.

2002-07-03  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/file.c, dlls/msvcrt/misc.c, dlls/shlwapi/ordinal.c,
	  dlls/wininet/http.c, dlls/winmm/lolvldrv.c, files/smb.c,
	  graphics/x11drv/dib.c, memory/global.c, memory/selector.c,
	  memory/virtual.c, tools/winedump/pe.c, windows/syscolor.c,
	  debugger/module.c, dlls/dplayx/dplayx_global.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Cast void* to char* for pointer arithmetic.

	* dlls/shell32/shellord.c:
	Duane Clark <dclark@akamail.com>
	strcasecmp returns zero on a match.

	* dlls/comctl32/pager.c, dlls/commdlg/filedlg95.c,
	  dlls/ddraw/ddraw/thunks.c, dlls/ddraw/dsurface/thunks.c,
	  dlls/odbc32/proxyodbc.c, dlls/winsock/socket.c,
	  programs/winefile/winefile.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Removed non-static structure initializers.

	* dlls/winedos/vga.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Better toggle all relevant bits in VGA crt register.

	* server/main.c, server/object.h, server/sock.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Check POLLHUP semantics at remote shutdown when wineserver is started.
	Fix socket state handling and event handling for non-STREAM sockets.

	* graphics/x11drv/dib.c:
	Fixed X11DRV_SetDIBitsToDevice to do the right thing for top-down
	and/or partial bitmaps.

	* documentation/debugger.sgml, documentation/debugging.sgml:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Document the new trace-related winedbg commands.

	* dlls/ddraw/dsurface/fakezbuffer.c, dlls/ntdll/rtlstr.c,
	  dlls/shell32/shellpath.c, dlls/user/wnd16.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Void functions can't return a value, even if it is the return value
	from another void function.

	* graphics/x11drv/init.c, dlls/opengl32/wgl.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Detect DCs without fonts and return an error in wglUseBitmapFonts.

	* programs/winhelp/macro.lex.l:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Removed unusual type casting.

	* programs/regedit/regedit.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Avoid multi-line string constants.

	* include/shlwapi.h, include/wine/obj_shellfolder.h:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Removed extra , from last element in enum declarations.

	* include/dsound.h:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Removed extra ; from end of ICOM_METHOD macros.

	* dlls/winmm/winealsa/audio.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed some more configuration issues.

	* dlls/winedos/int16.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Make sure we wait some time during int16 keyboard query call.

	* dlls/winedos/vga.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added a DOS text mode memory buffer copy in order to be able to tell
	which lines of text changed and thus which ones to update.

	* msdos/int2f.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Call Sleep for int 0x2f function 0x1680 (IDLE CALL).

2002-07-02  Alexandre Julliard  <julliard@winehq.com>

	* programs/wineconsole/user.c:
	Removed redundant GetMessage call.

	* dlls/msacm/msadp32/msadp32.c, dlls/shell32/debughlp.h,
	  dlls/winmm/winealsa/audio.c, files/smb.c, loader/pe_image.c,
	  programs/clock/language.c, programs/notepad/language.c,
	  programs/winhelp/winhelp.c:
	Fixed warnings.

	* dlls/Makefile.in, dlls/shlwapi/Makefile.in,
	  dlls/shlwapi/ordinal.c, dlls/shlwapi/string.c:
	Juergen Schmied <juergenschmied@lycos.de>
	- implementations for SHLWAPI_267, SHLWAPI_268
	- small fixes

	* dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c,
	  dlls/shell32/clipboard.c, dlls/shell32/debughlp.c,
	  dlls/shell32/pidl.c, dlls/shell32/shell32_main.c,
	  dlls/shell32/shell32_main.h, dlls/shell32/shelllink.c,
	  dlls/shell32/shellole.c, dlls/shell32/shellord.c,
	  dlls/shell32/shellstring.c, dlls/shell32/shlfolder.c,
	  dlls/shell32/undocshell.h, include/wine/obj_shellfolder.h:
	Juergen Schmied <juergenschmied@lycos.de>
	- changed STRRET definition
	- small changes for seperation of shell32 from ole32
	- debughelper for printing interface names (shell internal)
	- changed shell memory allocation to use IMalloc of ole32 when this
	  library is already loaded
	- fallback IMalloc internally in shell
	- unified constructor syntax for several objects  created by DllGetClassObject
	- rewrote instance creation for com objects
	- made the desktop folder parsing paths like ::{CLSID}
	- Implemented IPersistFolder3 partially

2002-07-01  Alexandre Julliard  <julliard@winehq.com>

	* programs/wineconsole/user.c, programs/wineconsole/wineconsole.c,
	  programs/wineconsole/wineconsole_De.rc,
	  programs/wineconsole/wineconsole_En.rc,
	  programs/wineconsole/wineconsole_Fr.rc,
	  programs/wineconsole/wineconsole_res.h,
	  programs/wineconsole/wineconsole_res.rc, server/console.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- Use PeekMessage loop around GetMessage.
	- Added German resource file.
	- Realign some dialog parts.
	- "Property" -> "Properties"
	- Add some traces.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	- stubs for SHLWAPI.295 (create a URL shortcut ?) and SHLWAPI.394
	- minor cleanups

	* winedefault.reg:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added the FirstInstallDateTime key.

	* dlls/ntdll/heap.c:
	Make sure allocated blocks are aligned on an 8-byte boundary.

	* aclocal.m4, configure:
	Hopefully more portable errno check.

	* README, dlls/Makefile.in, dlls/make_dlls,
	  documentation/Makefile.in, Makefile.in:
	Fixed make install from read-only build directory (spotted by Marcus
	Meissner).

	* windows/message.c:
	Release the Win16 lock before waiting in MsgWaitForMultipleObjectsEx.

	* configure, configure.ac, include/config.h.in, library/config.c:
	Added configure check for getpwuid.

	* dlls/ntdll/time.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Avoid alignment problem in NtQuerySystemTime.

	* dlls/winedos/int10.c, dlls/winedos/vga.c, dlls/winedos/vga.h,
	  include/miscemu.h:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Implemented set cursor shape functionality.

	* files/profile.c:
	Mike McCormack <mikem@codeweavers.com>
	Return the correct length when getting a complete section in
	PROFILE_GetString.

	* dlls/ole32/hglobalstream.c, dlls/ole32/ifs.c:
	Juergen Schmied <juergenschmied@lycos.de>
	Support for large and negative offsets.

2002-06-28  Alexandre Julliard  <julliard@winehq.com>

	* objects/bitmap.c:
	BITMAP_SelectObject must return the old handle, not the current one.

	* windows/defdlg.c:
	Check for valid dialog info before using it.

	* dlls/shell32/dialogs.c:
	Nix N. Nix <nix@go-nix.ca>
	Removed message box that would pop up if a RunMRU list was not found.

	* dlls/comctl32/comctl_Si.rc, dlls/comctl32/rsrc.rc,
	  dlls/commdlg/cdlg_Si.rc, dlls/commdlg/rsrc.rc:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Added Slovenian resources.

	* dlls/user/tests/sysparams.c, windows/sysparams.c:
	Philipp Wollermann <phil_wo@gmx.net>
	Implemented SPI_GETDESKWALLPAPER action, fixed SPI_SETDESKWALLPAPER.

	* dlls/ddraw/dsurface/user.c:
	Jukka Heinonen <jhei@iki.fi>
	Disable OWN_WINDOW as it no longer works.

	* configure, configure.ac, dlls/winmm/winealsa/Makefile.in,
	  dlls/winmm/winealsa/alsa.h, include/config.h.in:
	Added some ALSA configure checks.

	* configure.ac, dlls/Makefile.in, dlls/winmm/winealsa/.cvsignore,
	  dlls/winmm/winealsa/Makefile.in, dlls/winmm/winealsa/alsa.c,
	  dlls/winmm/winealsa/alsa.h, dlls/winmm/winealsa/audio.c,
	  dlls/winmm/winealsa/audio_05.c,
	  dlls/winmm/winealsa/winealsa.drv.spec, configure:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Created an ALSA driver (with the help of David Hammerton and Marco
	Pietrobono).

	* graphics/x11drv/graphics.c:
	Fixed typo in X11DRV_SetPixel.

	* dlls/advapi32/crypt.h, dlls/richedit/charlist.h,
	  dlls/twain/twain.h, dlls/wsock32/wscontrol.h,
	  include/wnaspi32.h, programs/notepad/language.c,
	  programs/notepad/language.h, programs/notepad/main.c,
	  programs/winefile/splitpath.c, programs/winefile/winefile.c,
	  programs/winefile/winefile.h:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Removed C++ style comments.

	* dlls/shlwapi/tests/shreg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	No longer depends on external env strings values.

	* dlls/commdlg/filedlgbrowser.c:
	Sander van Leeuwen <sandervl@xs4all.nl>
	Do not change directory if path is invalid.

	* dlls/shell32/changenotify.c:
	Knut St. Osmundsen <bird@anduin.net>
	Do not access memory that has just been freed.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Add support for UpDown control messages.
	- Add detection for Wine's PropertySheet Dialog to translate
	  messages.

	* programs/regedit/regproc.c, programs/regedit/tests/orig.reg,
	  programs/regedit/tests/regedit.pl:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Fixed a few bugs, added processing of REG_MULTI_SZ format.

	* dlls/ddraw/dsurface/dib.c:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Added support for DDBLT_KEYSRCOVERRIDE/DDBLT_KEYDESTOVERRIDE.

	* dlls/comctl32/propsheet.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Add TCM_SETCURSEL when setting page current.

	* dlls/winmm/wineoss/audio.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Ensured full duplex mode is only used with same parameters in in/out
	streams.
	Some more work towards multiple audio cards support.

2002-06-25  Alexandre Julliard  <julliard@winehq.com>

	* include/gdi.h, objects/clipping.c, dlls/gdi/win16drv/graphics.c,
	  dlls/gdi/win16drv/init.c, dlls/gdi/win16drv/text.c,
	  dlls/gdi/win16drv/win16drv.h, dlls/wineps/text.c,
	  graphics/mapping.c, graphics/path.c, graphics/x11drv/bitblt.c,
	  graphics/x11drv/dib.c, graphics/x11drv/graphics.c,
	  graphics/x11drv/text.c:
	Replaced LPTODP/DPTOLP macros by calls to LPtoDP/DPtoLP (with the help
	of Huw Davies).

	* configure, configure.ac, dlls/Makefile.in, dlls/d3d8/.cvsignore,
	  dlls/d3d8/Makefile.in, dlls/d3d8/d3d8.spec,
	  dlls/d3d8/d3d8_main.c:
	Sylvain Petreolle <spetreolle@yahoo.fr>
	Created d3d8 stub dll.

	* include/mapidefs.h, include/wtypes.h:
	Fixed endianness #ifdefs (spotted by Jason Edmeades).

	* dlls/winmm/mmsystem.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed flags handling in sndPlaySound.

	* dlls/commdlg/filedlg95.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Fixed crash in open file dialog on non-windows 98 emulation when
	lpszInitialDir is null.

	* dlls/oleaut32/olefont.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Ensure we free the cached HFONT after loading in a fresh font. Enables
	fonts in VB programs to appear correctly.

	* memory/codepage.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Aric Stewart <aric@codeweavers.com>
	Fixed nasty bug for 2+ byte multibyte strings and GetStringType.
	Fleshed out GetStringType CTYPE3 from the unicode tables.
	CP_SYMBOL is not a valid codepage while CP_UTF7|8 are.

	* documentation/wine.conf.man, include/module.h,
	  loader/loadorder.c, loader/main.c, loader/module.c:
	Added support for path wildcards of the form "*dllname" in load order
	specifications.
	Only use wildcard entry for dlls that don't specify an explicit path.
	Removed the old DllOverrides syntax support.
	Misc cleanups and optimizations.

2002-06-24  Alexandre Julliard  <julliard@winehq.com>

	* dlls/wineps/Makefile.in, dlls/wineps/brush.c,
	  dlls/wineps/builtin.c, dlls/wineps/download.c,
	  dlls/wineps/driver.c, dlls/wineps/escape.c, dlls/wineps/font.c,
	  dlls/wineps/ppd.c, dlls/wineps/ps.c, dlls/wineps/psdrv.h,
	  dlls/wineps/text.c, dlls/wineps/type1.c, dlls/wineps/type42.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Added Type 1 and Type 42 font downloading.
	Misc bug fixes.

	* dlls/wineps/init.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Handle dmScale.

	* dlls/wineps/clipping.c:
	Huw D M Davies <hdavies@codeweavers.com>
	psdrv doesn't care about hGCClipRgn, just use GetClipRgn instead.

	* dlls/wineps/afm.c, dlls/wineps/glyphlist.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Get rid of a few thousand useless TRACE lines.

	* dlls/wineps/type1afm.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Added afm weight "NORMAL".

	* include/wingdi.h, objects/enhmetafile.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Added temp fix for world transform bug in SetWindowOrgEx handler.
	Added handlers for EMR_SETTEXTJUSTIFICATION and EMR_SETLAYOUT.

	* dlls/gdi/mfdrv/text.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Don't map symbol charset through WCToMB.

	* programs/wineconsole/wineconsole.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Made initialization more verbose in case of errors.

	* configure.ac, include/config.h.in, library/config.c, configure:
	Steven Edwards <steven_ed4153@yahoo.com>
	Added check for pwd.h.

	* dlls/winedos/ioports.c, dlls/winedos/vga.c:
	Jukka Heinonen <jhei@iki.fi>
	Redirect all reads and writes to VGA controller to VGA emulation.
	Catch and report 16/32-bit reads/writes to VGA controller.
	Use correct flags when creating full screen DirectDraw window for
	VGA.

	* dlls/winedos/int67.c:
	Jukka Heinonen <jhei@iki.fi>
	Add save/restore mapping context routines.
	Add map multiple pages routine.
	Add partial implementation of hardware information query routine.
	Replace incorrect use of MapSL with PTR_REAL_TO_LIN.

2002-06-22  Alexandre Julliard  <julliard@winehq.com>

	* server/thread.c:
	Unlock the master socket if the boot thread terminates early.
	Avoid crash if thread died during timeout wakeup.

	* dlls/gdi/freetype.c, dlls/gdi/gdi32.spec, include/font.h,
	  include/wingdi.h, objects/font.c, objects/text.c:
	Huw D M Davies <hdavies@codeweavers.com>
	- Implement AddFontResource*, add stubs for RemoveFontResource*.
	- Add support for GGO_BEZIER and a few bug fixes for GGO_NATIVE.
	- Much better support for non ansi charsets in font matching.
	- Proper implementation of GetTextFace for gdi font.
	- Load fonts that are listed in the registry but aren't in
	  %WINDOWSDIR%\fonts.
	- Revert TranslateCharsetInfo to use codepage 1252 with ANSI_CHARSET.
	- Add support for VIETNAMESE_CHARSET and SYMBOL_CHARSET.

	* dlls/x11drv/keyboard.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added Bulgarian keyboards.

	* dlls/x11drv/xrender.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Store the cache entry indices and not the ptrs.
	Protect cache with a critical section.

	* dlls/kernel/tests/file.c, dlls/kernel/tests/path.c,
	  dlls/kernel/tests/process.c, dlls/kernel/tests/thread.c,
	  dlls/shlwapi/tests/shreg.c, dlls/user/tests/class.c,
	  dlls/winsock/tests/sock.c, include/wine/test.h,
	  programs/winetest/wtmain.c:
	Added printf format checking to the ok() and trace() macros, and fixed
	the resulting warnings.

2002-06-21  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac, dlls/wininet/.cvsignore,
	  dlls/wininet/Makefile.in, dlls/wininet/http.c,
	  dlls/wininet/internet.c, dlls/wininet/internet.h,
	  dlls/wininet/tests/.cvsignore, dlls/wininet/tests/http.c,
	  dlls/wininet/urlcache.c, dlls/wininet/utility.c,
	  dlls/wininet/version.rc, dlls/wininet/wininet.spec:
	Aric Stewart <aric@codeweavers.com>
	Reworking of http and asyncronous calls to get IE6 to install.
	Added a version resource.
	Added unit test for http.

	* dlls/advapi32/crypt.c, dlls/comctl32/listview.c,
	  dlls/ole32/oleobj.c, dlls/oleaut32/variant.c,
	  dlls/x11drv/winpos.c, controls/button.c:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Fixed some various comparisons wrt signedness.

	* dlls/ole32/compobj.c:
	Fixed CLSIDFromString endianness assumptions (reported by Gregg Mattinson).

	* dlls/msvcrt20/Makefile.in, dlls/msvcrt20/dummy.c,
	  dlls/msvcrt20/msvcrt20.c, dlls/msvcrt20/msvcrt20.spec:
	getmainargs: new_mode argument is not a pointer in msvcrt20 (spotted
	by Bill Medland).

	* dlls/x11drv/keyboard.c:
	Rok Mandeljc <rokmandeljc@hotmail.com>
	Added Slovenian keyboard.

	* dlls/oleaut32/variant.c:
	John K. Hohm <jhohm@acm.org>
	Implemented SizeOfVariantData cases for VT_DISPATCH, VT_UNKNOWN, VT_CY.

	* programs/regedit/tests/orig.reg:
	Bill Medland <medbi01@accpac.com>
	Test the ability to handle hex values in excess of 1024 bytes and
	input lines in excess of 4096 bytes.

	* programs/regedit/regproc.c:
	Bill Medland <medbi01@accpac.com>
	- Rework the line reading.  This version uses a single expanding
	  buffer rather than a main buffer and a "next line" buffer.  This
	  version does not overflow the allocated memory (hopefully).  The
	  previous version did when concatenating the continuation lines.
	- Add protection to the HexCSVToHex to prevent overflow.
	- Allow for conversion of larger hex values.  Tested on a real 2.6KB
	  value.

	* programs/regedit/tests/regedit.pl:
	Bill Medland <medbi01@accpac.com>
	Correct the comparison of two files.  Just because they are the same
	size doesn't mean they have the same content.

	* dlls/ntdll/signal_sparc.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Implemented DbgBreakPoint and DbgUserBreakPoint for Sparc.  Debugger
	must already be attached for this implementation to work.

	* include/rpcproxy.h:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Moved all #includes to the top so that __stdcall is defined for the
	declaration of IIDLookupRtn.

	* dlls/shell32/iconcache.c, dlls/shell32/shell.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Moved a few win32 functions to a better location for building a Win32
	only dll.

	* dlls/winmm/wineoss/wineoss.drv.spec, dlls/winnls/winnls.spec,
	  dlls/winnls/winnls32.spec, dlls/winsock/winsock.spec,
	  dlls/winsock/ws2_32.spec, dlls/winspool/winspool.drv.spec,
	  dlls/wintrust/wintrust.spec, dlls/wow32/wow32.spec,
	  dlls/wsock32/wsock32.spec, dlls/x11drv/x11drv.spec,
	  miscemu/Makefile.in, miscemu/wine.spec, tools/winebuild/README,
	  tools/winebuild/import.c, tools/winebuild/main.c,
	  tools/winebuild/parser.c, tools/winebuild/spec16.c,
	  tools/winebuild/spec32.c, dlls/user/ddeml.spec,
	  dlls/user/display.spec, dlls/user/keyboard.spec,
	  dlls/user/mouse.spec, dlls/user/user.exe.spec,
	  dlls/user/user32.spec, dlls/version/ver.spec,
	  dlls/version/version.spec, dlls/win32s/w32skrnl.spec,
	  dlls/win32s/w32sys.spec, dlls/win32s/win32s16.spec,
	  dlls/winaspi/winaspi.spec, dlls/winaspi/wnaspi32.spec,
	  dlls/winedos/winedos.spec, dlls/wineps/wineps.spec,
	  dlls/wineps/wineps16.spec, dlls/wininet/wininet.spec,
	  dlls/winmm/joystick/joystick.drv.spec,
	  dlls/winmm/mcianim/mcianim.drv.spec,
	  dlls/winmm/mciavi/mciavi.drv.spec,
	  dlls/winmm/mcicda/mcicda.drv.spec,
	  dlls/winmm/mciseq/mciseq.drv.spec,
	  dlls/winmm/mciwave/mciwave.drv.spec,
	  dlls/winmm/midimap/midimap.drv.spec, dlls/winmm/mmsystem.spec,
	  dlls/winmm/sound.spec, dlls/winmm/wavemap/msacm.drv.spec,
	  dlls/winmm/winearts/winearts.drv.spec, dlls/winmm/winmm.spec,
	  dlls/opengl32/opengl32.spec, dlls/psapi/psapi.spec,
	  dlls/qcap/qcap.spec, dlls/quartz/quartz.spec,
	  dlls/rasapi32/rasapi16.spec, dlls/rasapi32/rasapi32.spec,
	  dlls/richedit/riched32.spec, dlls/rpcrt4/rpcrt4.spec,
	  dlls/serialui/serialui.spec, dlls/setupapi/setupapi.spec,
	  dlls/setupapi/setupx.spec, dlls/shdocvw/shdocvw.spec,
	  dlls/shell32/shell.spec, dlls/shell32/shell32.spec,
	  dlls/shfolder/shfolder.spec, dlls/shlwapi/shlwapi.spec,
	  dlls/snmpapi/snmpapi.spec, dlls/sti/sti.spec,
	  dlls/tapi32/tapi32.spec, dlls/ttydrv/ttydrv.spec,
	  dlls/twain/twain_32.spec, dlls/url/url.spec,
	  dlls/urlmon/urlmon.spec, dlls/msimg32/msimg32.spec,
	  dlls/msisys/msisys.ocx.spec, dlls/msnet32/msnet32.spec,
	  dlls/msrle32/msrle32.spec, dlls/msvcrt/msvcrt.spec,
	  dlls/msvcrt20/msvcrt20.spec, dlls/msvideo/msvfw32.spec,
	  dlls/msvideo/msvideo.spec, dlls/netapi32/netapi32.spec,
	  dlls/ntdll/ntdll.spec, dlls/odbc32/odbc32.spec,
	  dlls/ole32/compobj.spec, dlls/ole32/ole2.spec,
	  dlls/ole32/ole2conv.spec, dlls/ole32/ole2nls.spec,
	  dlls/ole32/ole2prox.spec, dlls/ole32/ole2thk.spec,
	  dlls/ole32/ole32.spec, dlls/ole32/storage.spec,
	  dlls/oleaut32/ole2disp.spec, dlls/oleaut32/oleaut32.spec,
	  dlls/oleaut32/typelib.spec, dlls/olecli/olecli.spec,
	  dlls/olecli/olecli32.spec, dlls/oledlg/oledlg.spec,
	  dlls/olepro32/olepro32.spec, dlls/olesvr/olesvr.spec,
	  dlls/olesvr/olesvr32.spec, dlls/imagehlp/imagehlp.spec,
	  dlls/imm32/imm.spec, dlls/imm32/imm32.spec,
	  dlls/kernel/comm.spec, dlls/kernel/kernel32.spec,
	  dlls/kernel/krnl386.exe.spec, dlls/kernel/stress.spec,
	  dlls/kernel/system.spec, dlls/kernel/toolhelp.spec,
	  dlls/kernel/win87em.spec, dlls/kernel/windebug.spec,
	  dlls/kernel/wprocs.spec, dlls/lzexpand/lz32.spec,
	  dlls/lzexpand/lzexpand.spec, dlls/mapi32/mapi32.spec,
	  dlls/mpr/mpr.spec, dlls/msacm/imaadp32/imaadp32.acm.spec,
	  dlls/msacm/msacm.spec, dlls/msacm/msacm32.spec,
	  dlls/msacm/msadp32/msadp32.acm.spec,
	  dlls/msacm/msg711/msg711.acm.spec,
	  dlls/msacm/winemp3/winemp3.acm.spec, dlls/msdmo/msdmo.spec,
	  dlls/advapi32/advapi32.spec, dlls/avicap32/avicap32.spec,
	  dlls/avifil32/avifil32.spec, dlls/avifil32/avifile.spec,
	  dlls/comcat/comcat.spec, dlls/comctl32/comctl32.spec,
	  dlls/commdlg/comdlg32.spec, dlls/commdlg/commdlg.spec,
	  dlls/crtdll/crtdll.spec, dlls/crypt32/crypt32.spec,
	  dlls/dciman32/dciman32.spec, dlls/ddraw/ddraw.spec,
	  dlls/devenum/devenum.spec, dlls/dinput/dinput.spec,
	  dlls/dinput8/dinput8.spec, dlls/dplay/dplay.spec,
	  dlls/dplayx/dplayx.spec, dlls/dsound/dsound.spec,
	  dlls/gdi/dispdib.spec, dlls/gdi/gdi.exe.spec,
	  dlls/gdi/gdi32.spec, dlls/gdi/wing.spec, dlls/glu32/glu32.spec,
	  dlls/icmp/icmp.spec, Make.rules.in:
	Made some more spec file entries optional or unnecessary.
	Fixed a few DLLName/DLLFileName mismatches.

	* server/sock.c:
	Attempt at fixing POLLHUP handling for Linux 2.2.x.

	* dlls/oleaut32/tests/vartest.c:
	Moved succeeding test out of todo block.

	* files/dos_fs.c:
	Fixed regression caused by previous change.

2002-06-20  Alexandre Julliard  <julliard@winehq.com>

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/safearray.c,
	  dlls/oleaut32/variant.c:
	Mike McCormack <mikem@codeweavers.com>
	Fixed ordinals to match the Windows values.
	Added a couple of stubs.

	* server/main.c, server/process.c, server/request.c,
	  server/request.h, files/drive.c, files/profile.c,
	  graphics/x11drv/xfont.c, include/wine/library.h,
	  include/wine/server.h, library/Makefile.in, library/config.c,
	  misc/registry.c, scheduler/client.c:
	Create the server directory and socket file in /tmp.
	Use fcntl file locking to ensure exclusion on the server socket and to
	better recover from crashes.
	Flush the registry before closing the socket to avoid timeouts on the
	client side.
	Moved get_config_dir functionality to libwine.

	* server/object.h, server/registry.c, server/select.c:
	Store dirty flag in each registry key and use it to save only modified
	branches.

	* files/dos_fs.c, files/drive.c:
	Make sure that DRIVE_FindDriveRoot always returns an absolute path.

	* programs/Makeprog.rules.in:
	Added dependency on program symlink for unit tests.

	* configure, configure.ac, programs/regedit/Makefile.in,
	  programs/regedit/regedit.c, programs/regedit/tests/.cvsignore,
	  programs/regedit/tests/orig.reg,
	  programs/regedit/tests/regedit.pl:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Added regedit unit test, a couple minor changes to regedit.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/parsedt.c,
	  dlls/oleaut32/parsedt.h, dlls/oleaut32/typelib.c,
	  dlls/oleaut32/typelib.h, dlls/oleaut32/variant.c,
	  include/wtypes.h:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	- VarAnd, VarCmp (Strings only), VarNot implemented.
	- VarParseNumFromStr/VarNumFromParseNum handle negative currency
	  numbers.
	- More VarCmp support (Decimals and Dates).
	- Date support for VB time only (0.0->1.0), corrected some date
	  rounding and calculation errors around variant dates and the system
	  time.
	- Variant date support now round trips! (Date->Variant->Date) due to
	  misuse of tm_mon (0..11 not 1..12).
	- Better pre-1899 support for dates in the SYSTEMTIME format.
	- VarBstrFromCy, VarCyFromStr implemented.
	- VarFormat partial implementation (currency and date support).
	- VarFormatFromTokens, VarTokenizeFormatString partial implementation
	  as per w2k (dates only so far).
	- Better debugging when dumping variants, and some additional trace
	 points to help debugging.
	- Fix to VarBstrCmp to handle null and empty string the same (as per
	  w2k, different to msdn).
	- Fix return from VarDateFromUdate.
	- Correct definition of CY structure.

	* loader/pe_image.c, memory/virtual.c:
	Avoid loading programs into the DOS memory area.

	* programs/regapi/tests/regapi.pl:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Removed traces of the regedit unit tests.

	* dlls/comctl32/tab.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Add routines to dump out tab items internally and externally
	- Adjust TAB_SetItemBounds to split vertical tabs more like the native.
	- Document major difference in laying out the vertical tabs.
	- Fix drawing of icons. Wrong item padding used in vertical case.
	- Fixed size of horizontal padding.

	* dlls/oleaut32/tmarshal.c, dlls/oleaut32/typelib.c:
	Marcus Meissner <marcus@jet.franken.de>
	ITypelib::Invoke: Handle different length arguments better, we also
	return 1 VARIANT only.

	* tools/winebuild/Makefile.in:
	Steven Edwards <steven_ed4153@yahoo.com>
	Portability fix.

	* dlls/Makedll.rules.in:
	Steven Edwards <steven_ed4153@yahoo.com>
	Give the import libs a proper name.

	* include/setupapi.h:
	Sander van Leeuwen <sandervl@xs4all.nl>
	'class' is a reserved word (C++).

2002-06-14  Alexandre Julliard  <julliard@winehq.com>

	* documentation/Makefile.in, documentation/winemaker.man,
	  library/Makefile.in, ole/Makefile.in, programs/.cvsignore,
	  programs/Makefile.in, programs/Makeprog.rules.in,
	  programs/winelauncher.in, tools/.cvsignore, tools/Makefile.in,
	  tools/winapi/Makefile.in, tools/winebuild/Makefile.in,
	  tools/winelauncher.in, tools/winemaker.man,
	  tools/wmc/Makefile.in, tools/wrc/Makefile.in, tsx11/Makefile.in,
	  unicode/Makefile.in, Make.rules.in, Makefile.in,
	  dlls/Makefile.in, dlls/make_dlls, dlls/shell32/Makefile.in:
	Fixed make install target to work even when nothing has been compiled
	yet.
	Added install-lib and install-dev targets to allow partial
	installations; moved winemaker.man and winelauncher.in to better fit
	in the new install categories.

	* dlls/kernel/kernel32.spec, if1632/builtin.c,
	  tools/winebuild/build.h, tools/winebuild/spec16.c,
	  tools/winebuild/spec32.c:
	Unregister 16-bit dlls on module unload.

	* dlls/advapi32/registry.c:
	Mike McCormack <mikem@codeweavers.com>
	Implemented recursive RegDeleteKey in Win95 emulation.

	* dlls/advapi32/advapi.c, dlls/advapi32/advapi32.spec, include/winbase.h:
	Aric Stewart <aric@codeweavers.com>
	Added GetCurrentHwProfileA.

	* objects/text.c:
	Shachar Shemesh <wine-patches@sun.consumer.org.il>
	ExtTextOutW: if GetFontLanguageInfo says that the font may require
	reordering, call GetCharacterPlacementW and print the result.

	* objects/font.c:
	Shachar Shemesh <wine-patches@sun.consumer.org.il>
	- Implemented a skeleton for GetFontLanguageInfo. Using const masks to
	  match against the result of GetTextCharsetInfo. Not all attributes are
	  implemented yet.
	- Enhanced the implementation of GetCharacterPlacementW to support
	  basic reordering. Not implementing the full BiDi algorithm yet.

	* dlls/kernel/nls/heb.nls:
	Shachar Shemesh <wine-patches@sun.consumer.org.il>
	Changed the country's name to "IL" to conform to commonly held
	practices.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Dump out the TCITEM structure for appropriate messages.
	- Dump out the rectangle for the TCM_ADJUSTRECT message.

	* dlls/comctl32/propsheet.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Support images on the tabs of pages that are added (not just the
	first).

	* dlls/Makedll.rules.in, dlls/Makefile.in, dlls/gdi/Makefile.in,
	  dlls/kernel/Makefile.in, dlls/make_dlls, dlls/ntdll/Makefile.in,
	  dlls/user/Makefile.in, dlls/winspool/Makefile.in,
	  dlls/x11drv/Makefile.in:
	Removed install_libdir targets and centralized the symlinks creation
	in the main dll makefile.

	* configure, configure.ac, dlls/Makefile.in, dlls/dinput/device.c,
	  dlls/dinput/device_private.h, dlls/dinput/dinput_main.c,
	  dlls/dinput/dinput_private.h, dlls/dinput/joystick/linux.c,
	  dlls/dinput/joystick/linuxinput.c, dlls/dinput/keyboard/main.c,
	  dlls/dinput/mouse/main.c, dlls/dinput8/.cvsignore,
	  dlls/dinput8/Makefile.in, dlls/dinput8/dinput8.spec,
	  dlls/dinput8/dinput8_main.c, include/d3dtypes.h,
	  include/dinput.h:
	Ove Kaaven <ovek@transgaming.com>
	- support DirectInput 8 interfaces.
	- implemented mouse wheel support.

	* dlls/oleaut32/tmarshal.c:
	Marcus Meissner <marcus@jet.franken.de>
	Handle argsize for VT_DATE.

	* dlls/ntdll/file.c:
	Mike McCormack <mikem@codeweavers.com>
	Partially implement NtOpenFile and NtReadFile.

	* dlls/x11drv/event.c, dlls/x11drv/mouse.c, dlls/x11drv/window.c,
	  dlls/x11drv/x11drv_main.c, include/x11drv.h:
	Update the cursor for each window on receiving an X11 event, don't
	wait for the SetCursor call.
	Added EnterNotify handler to set the cursor on window map/unmap.

	* include/queue.h, windows/cursoricon.c:
	Store the current cursor in the thread queue instead of globally.

	* dlls/comctl32/progress.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Cosmetic fix.

	* dlls/gdi/Makefile.in, dlls/gdi/enhmfdrv/bitblt.c,
	  dlls/gdi/enhmfdrv/init.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Added PatBlt support in enhanced metafiles.

2002-06-13  Alexandre Julliard  <julliard@winehq.com>

	* objects/gdiobj.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed the names of some stock fonts.

	* dlls/sti/sti.spec, dlls/sti/sti_main.c:
	Aric Stewart <aric@codeweavers.com>
	Stub for StiCreateInstance.

	* dlls/ole32/storage.c, dlls/setupapi/queue.c, dlls/user/lstr.c,
	  dlls/x11drv/winpos.c, graphics/path.c:
	Mike McCormack <mikem@codeweavers.com>
	Jeremy White <jwhite@codeweavers.com>
	Fixed memory leaks.

	* dlls/ddraw/version.rc:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed version info.

	* dlls/comctl32/toolbar.c:
	François Gouget <fgouget@codeweavers.com>
	Fix handling of strings that do not finish with "||".
	Fix the indentation of the while loop in TOOLBAR_AddStringW.

	* dlls/crypt32/crypt32.spec, dlls/crypt32/main.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Added a few stubs.

	* dlls/kernel/nls/bgr.nls:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added Bulgarian NLS definitions (with the help of Anton Zinoviev).

	* scheduler/client.c, scheduler/process.c,
	  dlls/ntdll/signal_i386.c, dlls/ntdll/signal_sparc.c:
	François Gouget <fgouget@codeweavers.com>
	Reset signals to SIG_DFL before starting a child process.

	* windows/painting.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Avoid crashes if window belongs to another process.

	* relay32/builtin32.c:
	Make builtins pretend to be loaded from the system directory.

	* loader/pe_image.c:
	Don't go through the export table if we are not tracing anything.

	* dlls/setupapi/parser.c:
	For lines that contain a single field, the field is also the line key
	(thanks to Aric Stewart).

	* dlls/setupapi/install.c:
	Aric Stewart <aric@codeweavers.com>
	When processing the reg section we need to delete before adding.
	First pass implementation of UpdateIni.

	* dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Added an empty implementation for UuidFromStringA/W.

	* dlls/ntdll/heap.c:
	Restored MakeCriticalSectionGlobal that got lost somewhere.

	* dlls/ntdll/cdrom.c:
	Don't try to open CDROM device if none was specified.

	* dlls/kernel/time.c:
	Ulrich Czekalla <ulrichc@codeweavers.com>
	Added support for CAL_ITWODIGITYEARMAX.

	* dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c:
	struct _stat layout is different between crtdll and msvcrt.

	* dlls/commdlg/printdlg.c:
	Store print dlg structure in a property instead of DWL_USER.

	* dlls/avicap32/avicap32.spec, dlls/avicap32/avicap32_main.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added stubs for capGetDriverDescription.

	* debugger/debug.l, debugger/memory.c, debugger/types.c:
	Added /g debug format to dump GUIDs.

	* debugger/debugger.h, debugger/source.c, debugger/winedbg.c:
	Don't ask for source file in auto mode.

	* ole/ole2nls.c:
	Paul Millar <paulm@astro.gla.ac.uk>
	Fix use of LOCALE_NOUSEROVERRIDE flag in GetNumberFormatA and
	GetCurrencyFormatA.

	* controls/combo.c, controls/edit.c, controls/listbox.c:
	Make sure edit and listbox controls are of same ASCII/Unicode style as
	the combo box. Fixed a few MBCS issues with WM_GETTEXTLENGTH handling.

	* dlls/dsound/Makefile.in, dlls/dsound/buffer.c,
	  dlls/dsound/capture.c, dlls/dsound/dsound.spec,
	  dlls/dsound/dsound_main.c, dlls/dsound/dsound_private.h,
	  dlls/dsound/mixer.c, dlls/dsound/primary.c,
	  dlls/dsound/propset.c, dlls/dsound/sound3d.c, include/dsound.h:
	Ove Kaaven <ovek@transgaming.com>
	Support DirectSound 8 interfaces. Split interface implementations into
	separate files. Split primary buffer and secondary buffer interfaces
	into separate implementations. Made the primary buffer state part of
	the dsound object, so primary buffer objects can be created and
	refcounted independently. Made the interfaces follow COM aggregation
	rules more closely. Converted the dsound critical section to a R/W
	lock to improve potential remixing concurrency. Fixed various bugs and
	refcounting issues.

	* dlls/comcat/Makefile.in, dlls/comcat/comcat.h,
	  dlls/comcat/comcat.spec, dlls/comcat/comcat_main.c,
	  dlls/comcat/information.c, dlls/comcat/register.c,
	  dlls/comcat/regsvr.c, dlls/comcat/regsvr.h:
	John K. Hohm <jhohm@acm.org>
	Completed implementation of comcat.dll, incl. Dll[Un]RegisterServer.

	* programs/regsvr32/Makefile.in: Don't use msvcrt.

	* programs/regsvr32/regsvr32.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Replaced stricmp/strnicmp with strcasecmp/strncasecmp.

	* dlls/x11drv/desktop.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Display the name of the started process in the desktop title.

	* objects/gdiobj.c:
	Won Kyu Park <wkpark@chem.skku.ac.kr>
	Fixed defaultGuiFont for Korean.

	* dlls/comctl32/propsheet.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Correct page rectangle calculation.
	- Improve traces.

	* dlls/winsock/socket.c, dlls/winsock/ws2_32.spec:
	Peter Hunnisett <peter@transgaming.com>
	Ove Kaaven <ovek@transgaming.com>
	- check for sockaddr being NULL.
	- hackish implementation of WSADuplicateSocket.

2002-06-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/keyboard.c:
	David Hammerton <david@transgaming.com>
	MapVirtualKey actually returns uppercase keys in Windows.

	* windows/message.c:
	David Hammerton <david@transgaming.com>
	Peter Hunnisett <peter@transgaming.com>
	- Fix TranslateMessage return code.
	- Make GetKeyState work properly for apps that test 0x80 instead of
	  0x8000.

	* dlls/oleaut32/typelib.c, dlls/oleaut32/typelib.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Add more magic to find the start of the nametable.

	* dlls/gdi/driver.c, dlls/gdi/enhmfdrv/init.c,
	  dlls/gdi/mfdrv/init.c, dlls/gdi/win16drv/graphics.c,
	  dlls/gdi/win16drv/init.c, dlls/gdi/win16drv/win16drv.h,
	  dlls/ttydrv/dc.c, dlls/ttydrv/graphics.c, dlls/ttydrv/ttydrv.h,
	  dlls/ttydrv/ttydrv.spec, dlls/ttydrv/wnd.c, dlls/wineps/init.c,
	  dlls/wineps/wineps.spec, dlls/x11drv/winpos.c,
	  dlls/x11drv/x11drv.spec, dlls/x11drv/xrender.c,
	  graphics/x11drv/bitblt.c, graphics/x11drv/clipping.c,
	  graphics/x11drv/dib.c, graphics/x11drv/graphics.c,
	  graphics/x11drv/init.c, graphics/x11drv/text.c, include/gdi.h,
	  include/x11drv.h, objects/clipping.c, objects/dc.c,
	  objects/region.c:
	Moved DC origin into device-specific structure.
	Fixed handling of DC origin in X11 driver.

	* dlls/msacm/imaadp32/imaadp32.c:
	David D. Hagood <wowbagger@sktc.net>
	ADPCM nybble processing order was incorrect.

	* dlls/user/text.c:
	Paul Rupe <prupe@myrealbox.com>
	Faster performance in TEXT_Ellipsify for long strings.

	* dlls/comctl32/listview.c:
	Paul Rupe <prupe@myrealbox.com>
	Support for LVM_SUBITEMHITTEST; check for out-of-bounds subitem index
	in LISTVIEW_GetSubItemRect.

	* dlls/shell32/dialogs.c, dlls/shell32/shell32_Ca.rc,
	  dlls/shell32/shell32_Cs.rc, dlls/shell32/shell32_Da.rc,
	  dlls/shell32/shell32_De.rc, dlls/shell32/shell32_En.rc,
	  dlls/shell32/shell32_Eo.rc, dlls/shell32/shell32_Es.rc,
	  dlls/shell32/shell32_Fi.rc, dlls/shell32/shell32_Fr.rc,
	  dlls/shell32/shell32_Hu.rc, dlls/shell32/shell32_It.rc,
	  dlls/shell32/shell32_Ja.rc, dlls/shell32/shell32_Ko.rc,
	  dlls/shell32/shell32_Nl.rc, dlls/shell32/shell32_No.rc,
	  dlls/shell32/shell32_Pl.rc, dlls/shell32/shell32_Pt.rc,
	  dlls/shell32/shell32_Ru.rc, dlls/shell32/shell32_Sk.rc,
	  dlls/shell32/shell32_Sv.rc, dlls/shell32/shell32_Wa.rc,
	  dlls/shell32/shell32_Zh.rc:
	Nix N. Nix <nix@go-nix.ca>
	Added RunFileDlg with MRU list.
	Added template to all .rc files.

	* documentation/bugs.sgml:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Some grammar fixes.

	* dlls/comctl32/comctl_Ko.rc, dlls/comctl32/rsrc.rc,
	  dlls/commdlg/cdlg_Ko.rc, dlls/user/resources/user32_Ko.rc,
	  dlls/wineps/rsrc.rc, dlls/wineps/wps_Ko.rc:
	Won-kyu Park <wkpark@kldp.org>
	Added Korean resources.

	* dlls/commdlg/filedlg95.c:
	Sander van Leeuwen <sandervl@xs4all.nl>
	- Save and restore current directory in GetFileDialog95W if
	  OFN_NOCHANGEDIR flag set.
	- GetFileDialog95W: only convert ofn->lpTemplateName if it's a string
	  resource id (fixes OpenOffice 1.0 file open dialog crash).
	- Ignore OFN_FILEMUSTEXIST flag for save file dialog (fixes save
	  dialog in ElstarFormular).
	- Rewrote casts that some compilers don't accept.

	* documentation/samples/config:
	Marcus Meissner <marcus@jet.franken.de>
	Changed DllOverrides so we use builtin rpcrt4, ole32, oleaut32.

	* dlls/oleaut32/tmarshal.c:
	Marcus Meissner <marcus@jet.franken.de>
	Merged the two serializer and unserializer functions into one, cleaned
	them up.
	VT_PTR: Handle NULL pointers by sending a cookie.
	Added support for: VT_CARRAY, VT_DISPATCH, TKIND_RECORD, VT_VOID,
	VT_UI1, VT_UI2, VT_ERROR, VT_UI4, VT_UINT.
	Added a custom serializer for DISPPARAMS struct.

	* dlls/oleaut32/typelib.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added some debugoutput functions for TYPEATTR, IDLDESC, VARDESC.
	Support more parameters in _invoke (needed for IDispatch::Invoke in
	the marshaller).

	* dlls/shell32/shellole.c:
	Sander van Leeuwen <sandervl@xs4all.nl>
	Handle ascii & unicode drag and drop structures in DragQueryFileA &
	DragQueryFileW.

	* dlls/opengl32/wgl.c, include/wingdi.h:
	Jesse Allen <uh_ja@gmx.net>
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added implementation of wglSwapLayerBuffers.

	* dlls/ntdll/loader.c, dlls/ntdll/ntdll.spec:
	Mike McCormack <mikem@codeweavers.com>
	- Partially implement LdrGetDllHandle.
	- Implement LdrGetProcedureAddress.

	* documentation/README.fr:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Updated so it's in line with README.

2002-06-05  Alexandre Julliard  <julliard@winehq.com>

	* VERSION, configure, ANNOUNCE, ChangeLog:
	Release 20020605.

----------------------------------------------------------------
2002-06-05  Alexandre Julliard  <julliard@winehq.com>

	* documentation/README.fr:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Updated README.fr so it's in line with README.

	* dlls/kernel/comm.c:
	Marcelo Welter <pouback@sysmo.com.br>
	Added PCF_TOTALTIMEOUTS to comm properties.

	* README:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Update FreeBSD-related notes.

	* dlls/kernel/tests/file.c, files/file.c:
	Check access rights before renaming or deleting files (based on
	patches by Uwe Bonnes and Dmitry Timoshkov).

	* documentation/README.fr:
	Jean-Bruno Luginbühl <jean_bruno_luginbuhl@yahoo.fr>
	French translation of the README file.

2002-06-04  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shlwapi/Makefile.in, dlls/shlwapi/shlwapi.spec,
	  dlls/shlwapi/string.c, dlls/shlwapi/wsprintf.c,
	  dlls/user/user32.spec, dlls/user/wsprintf.c, include/winuser.h:
	Duplicated wsprintf implementation in shlwapi.

	* documentation/configuring.sgml, documentation/fonts.sgml,
	  documentation/implementation.sgml, documentation/installing.sgml,
	  documentation/samples/config, documentation/wine.conf.man, README:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Documentation improvements.

	* controls/menu.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Only allow tabs in popup menus, and make sure to never display them.

	* dlls/ole32/oleproxy.c, dlls/oleaut32/tmarshal.c, winedefault.reg:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Added marshalling of IUnknown.

	* tools/winapi_check/modules.dat,
	  tools/winapi_check/win32/kernel32.api,
	  tools/winapi_check/win32/msg711.api,
	  tools/winapi_check/win32/ntdll.api,
	  tools/winapi_check/win32/setupapi.api,
	  tools/winapi_check/win32/ttydrv.api,
	  tools/winapi_check/win32/user32.api,
	  tools/winapi_check/win32/winemp3.api,
	  tools/winapi_check/win32/x11drv.api,
	  tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	API files update.

	* dlls/kernel/tests/locale.c, dlls/setupapi/devinst.c,
	  scheduler/process.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* debugger/winedbg.c, win32/except.c, winedefault.reg:
	Added --debugmsg option to the debugger.

	* configure, configure.ac, programs/Makefile.in,
	  programs/winefile/.cvsignore, programs/winefile/De.rc,
	  programs/winefile/En.rc, programs/winefile/Makefile.in,
	  programs/winefile/license.c, programs/winefile/resource.h,
	  programs/winefile/resource.rc, programs/winefile/rsrc.rc,
	  programs/winefile/splitpath.c, programs/winefile/winefile.c,
	  programs/winefile/winefile.h:
	Merged Martin Fuchs' file manager (with the help of Steven Edwards).

	* relay32/relay386.c:
	Check if relay debugging is still on before printing something.

	* dlls/commdlg/filedlg95.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	nitialDir handling and InitialFile handling now agrees with MSDN
	description, and testing on win2000 appears to agree.
	ilename field not cleared when directory selected/clicked on.
	OFN_NOVALIDATE field no longer causes traps, and appears to behave as
	per w2k.

	* loader/ne/module.c:
	Don't free the stack selector, it's freed in ExitThread anyway (thanks
	to Christian Costa).

	* dlls/Makefile.in, dlls/msacm/winemp3/.cvsignore,
	  dlls/msacm/winemp3/Makefile.in, dlls/msacm/winemp3/common.c,
	  dlls/msacm/winemp3/dct64_i386.c, dlls/msacm/winemp3/decode_i386.c,
	  dlls/msacm/winemp3/huffman.h, dlls/msacm/winemp3/interface.c,
	  dlls/msacm/winemp3/l2tables.h, dlls/msacm/winemp3/layer1.c,
	  dlls/msacm/winemp3/layer2.c, dlls/msacm/winemp3/layer3.c,
	  dlls/msacm/winemp3/mpegl3.c, dlls/msacm/winemp3/mpg123.h,
	  dlls/msacm/winemp3/mpglib.h, dlls/msacm/winemp3/tabinit.c,
	  dlls/msacm/winemp3/winemp3.acm.spec, configure, configure.ac:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Implemented a MP3 decoder (based on mpglib).

	* documentation/samples/config, if1632/relay.c,
	  include/wine/library.h, library/debug.c, misc/options.c,
	  relay32/relay386.c, relay32/snoop.c, scheduler/process.c,
	  windows/spy.c:
	Moved specification of relay and snoop include/exclude functions to
	the config file.
	Changed spy config a bit to follow the same scheme.
	Moved debug option parsing routine into libwine.

	* include/font.h, include/gdi.h, include/metafile.h,
	  include/wine/wingdi16.h, objects/enhmetafile.c, objects/font.c,
	  objects/metafile.c, dlls/gdi/freetype.c, dlls/gdi/mfdrv/init.c,
	  graphics/x11drv/xfont.c:
	Better encapsulation of the font and metafile objects.

	* Makefile.in:
	Marcus Meissner <marcus@jet.franken.de>
	Warn the user if 'wine' will not find its libraries after installation
	on 'make install'.

	* dlls/ole32/rpc.c:
	Bill Medland <medbi01@accpac.com>
	Fixed incorrect pointer-cast arithmetic.
	Extended ole trace information.
	Don't lose the existing pipes on alloc failure.

	* dlls/shell32/.cvsignore, dlls/shell32/Makefile.in,
	  dlls/shell32/shell.spec, dlls/shell32/version16.rc:
	Johan Gill <johane@lysator.liu.se>
	Added version info to 16-bit shell.dll.

	* dlls/comctl32/status.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Warning fix.

	* dlls/winmm/mmsystem.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed another regression in PlaySound.

	* include/winbase.h:
	Warren Turkal <wturkal@cbu.edu>
	More stream definitions.

	* dlls/oleaut32/typelib.c, dlls/winmm/mci.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Porting fixes.

2002-06-02  Alexandre Julliard  <julliard@winehq.com>

	* include/color.h, include/gdi.h, include/palette.h,
	  include/wine/wingdi16.h, include/wingdi.h, include/x11drv.h,
	  objects/color.c, objects/palette.c, dlls/gdi/Makefile.in,
	  dlls/gdi/driver.c, dlls/gdi/enhmfdrv/init.c, dlls/gdi/mfdrv/init.c,
	  dlls/gdi/win16drv/init.c, dlls/ttydrv/palette.c,
	  dlls/ttydrv/ttydrv.spec, dlls/x11drv/x11drv.spec,
	  graphics/x11drv/brush.c, graphics/x11drv/init.c,
	  graphics/x11drv/palette.c:
	Better separation of the palette functions.
	Removed the palette driver.

	* dlls/ntdll/signal_i386.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed DebugBreakProcess (now generates EXCEPTION_BREAKPOINT instead of
	EXCEPTION_SINGLE_STEP).

	* debugger/dbg.y, debugger/debugger.h, debugger/info.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added ability to turn on/off debug channels.
	Reimplemented the info maps command.

	* dlls/x11drv/mouse.c, dlls/x11drv/winpos.c, include/cursoricon.h,
	  windows/cursoricon.c, windows/win.c:
	Removed CURSORICON_IconToCursor now that we support color cursors.

	* dlls/comcat/Makefile.in, dlls/comcat/comcat.h,
	  dlls/comcat/information.c:
	John K. Hohm <jhohm@acm.org>
	Complete ICatInformation implementation.

	* include/ntddk.h:
	Mike McCormack <mikem@codeweavers.com>
	Declare NtCreateFile(), NtOpenFile() and NtReadFile().

	* dlls/shell32/shellole.c:
	Sander van Leeuwen <sandervl@xs4all.nl>
	Fixed wrong cast; MSDN says lpDropFileStruct->pFiles is offset in
	bytes (regardless of ascii/unicode).

	* tools/wineinstall:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Corrected installation of the wine applications, fixed call to
	regedit.

	* tools/bin2res.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Portability fix.

	* dlls/ntdll/signal_i386.c, dlls/ntdll/signal_sparc.c,
	  include/wine/server_protocol.h, server/console.c, server/process.c,
	  server/process.h, server/protocol.def, server/request.h,
	  server/trace.c, win32/console.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Implementation for console control events (includes process groups
	support).

	* programs/wineconsole/user.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed some selection bugs.

	* debugger/break.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Really enter the debugger when DebugBreak(Process) is invoked on
	debuggee.

	* debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added ctrl-c support.

	* win32/editline.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Better too long lines detection, added del key support in emacs mode.

	* dlls/dinput/dinput_private.h, dlls/dinput/joystick/linux.c,
	  dlls/dinput/joystick/linuxinput.c, dlls/dinput/keyboard/main.c,
	  dlls/dinput/mouse/main.c, include/dinput.h:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	- Made sure const LP were actually const in dinput.h.
	- Uniformized the {A,W} declarations of some structures.

	* tools/findfunc:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Show in which file the function is actually implemented, as well as
	the header in which it is defined.

2002-06-01  Alexandre Julliard  <julliard@winehq.com>

	* */*:
	Removed some more trailing whitespace.

	* library/README.resources:
	Removed obsolete README.

	* tools/winedump/pe.c:
	Added fallback read() for missing/failing mmap().

2002-05-31  Alexandre Julliard  <julliard@winehq.com>

	* */*:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Removed trailing whitespace.

	* dlls/x11drv/mouse.c:
	Avoid division by zero (thanks to David Ronis).

	* objects/palette.c, objects/pen.c, objects/region.c,
	  windows/painting.c, dlls/gdi/mfdrv/init.c, dlls/gdi/win16drv/init.c,
	  dlls/ttydrv/bitmap.c, dlls/ttydrv/dc.c, dlls/ttydrv/objects.c,
	  dlls/ttydrv/ttydrv.h, dlls/ttydrv/ttydrv.spec,
	  dlls/x11drv/Makefile.in, dlls/x11drv/window.c,
	  dlls/x11drv/x11drv.spec, graphics/mapping.c, graphics/painting.c,
	  graphics/x11drv/bitmap.c, graphics/x11drv/brush.c,
	  graphics/x11drv/dib.c, graphics/x11drv/init.c,
	  graphics/x11drv/objects.c, include/bitmap.h, include/brush.h,
	  include/font.h, include/gdi.h, include/palette.h, include/pen.h,
	  include/region.h, include/wine/wingdi16.h, include/x11drv.h,
	  objects/bitmap.c, objects/brush.c, objects/dc.c, objects/dib.c,
	  objects/enhmetafile.c, objects/font.c, objects/gdiobj.c,
	  objects/metafile.c, dlls/gdi/driver.c, dlls/gdi/enhmfdrv/init.c:
	Added function table to GDI objects for better encapsulation.
	Removed some direct accesses to the bitmap structure.
	Fixed handling of stock bitmap if selected in multiple DCs.
	Some minor fixes to the DC function table.

	* server/user.c:
	Fixed next_user_handle to also work on deleted handles.

	* programs/regedit/Makefile.in:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Use native libc functions instead of msvcrt ones.

	* dlls/x11drv/keyboard.c:
	Shachar Shemesh <wine-devel@sun.consumer.org.il>
	Added Israeli Hebrew keyboard, and fixed a problem in the matching of
	characters against dead keys.

2002-05-30  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/ntdll.spec, dlls/x11drv/x11drv_main.c, files/file.c,
	  include/file.h, include/wine/server.h, scheduler/client.c,
	  scheduler/process.c:
	Added wine_server_fd_to_handle to replace FILE_DupUnixHandle.

	* dlls/comctl32/imagelist.c:
	Sander van Leeuwen <sandervl@xs4all.nl>
	Match behaviour of ImageList_LoadImageA wrt cx parameter (when set to
	zero).

	* win32/device.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed warnings.

	* tools/wmc/Makefile.in, tools/wrc/Makefile.in:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Fixes for building on mingw.

	* tools/make_requests, include/wine/server.h,
	  include/wine/server_protocol.h, programs/wineconsole/wineconsole.c,
	  scheduler/client.c, server/console.c, server/console.h,
	  server/debugger.c, server/event.c, server/file.c, server/handle.c,
	  server/handle.h, server/mapping.c, server/named_pipe.c,
	  server/object.h, server/pipe.c, server/process.c, server/process.h,
	  server/protocol.def, server/registry.c, server/request.c,
	  server/request.h, server/semaphore.c, server/serial.c, server/smb.c,
	  server/sock.c, server/thread.c, server/thread.h, server/trace.c,
	  server/window.c:
	Renamed handle_t to obj_handle_t to avoid conflict with rpcdce.h.

	* tools/bug_report.pl:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Removed -managed option.

	* dlls/ntdll/cdrom.c: Portability fixes.

	* dlls/kernel/time.c, files/dos_fs.c, include/winbase.h:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	- Fixed GetSystemTimeAdjustment prototype and added it to winbase.h.
	- Fixed DosDateTimeToFileTime, FileTimeToDosDateTime,
	  LocalFileTimeToFileTime, FileTimeToLocalFileTime and
	  SystemTimeToFileTime.

2002-05-29  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comcat/Makefile.in, dlls/comcat/comcat.h,
	  dlls/comcat/information.c, dlls/comctl32/ipaddress.c,
	  dlls/comctl32/updown.c, include/ntddk.h:
	Replaced swprintf by wsprintfW.

	* dlls/ole32/compobj.c, dlls/ole32/rpc.c:
	Bill Medland <medbi01@accpac.com>
	Ensure that an out-of-process COM object is started only once.
	Allow out-of-process COM objects if request is for
	in-or-out-of-process.

	* dlls/ddraw/d3dexecutebuffer.c, dlls/ddraw/dsurface/dib.c,
	  dlls/oleaut32/variant.c, dlls/shlwapi/reg.c,
	  graphics/x11drv/xfont.c, tools/winedump/README:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Fixed some more missing \n in traces.

	* dlls/comctl32/status.c:
	Sander van Leeuwen <sandervl@xs4all.nl>
	- Check for valid part nr in STATUSBAR_GetTextLength.
	- TRACE fix in STATUSBAR_SetTextT; SBT_OWNERDRAW pointer isn't always
	  a string pointer.

	* dlls/ole32/compobj.c:
	Marcus Meissner <marcus@jet.franken.de>
	Dropped superflous Remote_CoGetClassObject() (entirely contained in
	create_marshalled_proxy()).

	* dlls/winmm/mmsystem.c, dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Some other synchronisation issues.

	* dlls/kernel/time.c, dlls/ntdll/time.c:
	Fixed some alignment issues (based on a patch by Gregg Mattinson).

	* ole/ole2nls.c:
	Fixed buffer handling of some locale functions (based on a patch by
	Mehmet Yasar).

	* dlls/kernel/tests/file.c:
	Jakob Eriksson <jakob@vmlinux.org>
	Removed redundant checks and variables, fixed some tests, some
	cosmetic changes.

	* dlls/kernel/tests/.cvsignore, dlls/kernel/tests/locale.c:
	Fixed some tests that were failing under Wine.

	* include/basetsd.h, include/winbase.h, include/winnt.h:
	Moved WORDS_BIGENDIAN macros to basetsd.h.
	Fixed FILETIME definition for big-endian.

	* graphics/x11drv/palette.c:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Replaced 0 by -1 to indicate free entry in
	X11DRV_PALETTE_XPixelToPalette.

	* include/winnt.h:
	Gregg Mattinson <gm138242@scot.canada.sun.com>
	Fixed the LARGE_INTEGER and ULARGE_INTEGER unions for big endian.

	* dlls/comctl32/tab.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Fixed drawing of borders to that of native (uses DrawEdge).
	- Fixed drawing of separators to match the native.
	- Fixed height of tabs and buttons to match native.
	- Add/improved traces.
	- Handle WM_SYSCOLORCHANGE message.

	* dlls/winmm/mmsystem.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Check for NULL ptr in midiStreamOut.

	* dlls/kernel/Makefile.in, dlls/kernel/tests/locale.c:
	Mehmet Yasar <myasar@free.fr>
	Added test for locale functions.

2002-05-28  Alexandre Julliard  <julliard@winehq.com>

	* tools/winewrapper:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added the ability to add local configuration to winewrapper.

	* dlls/gdi/enhmfdrv/dc.c, dlls/gdi/enhmfdrv/graphics.c,
	  dlls/gdi/mfdrv/graphics.c:
	A few fixes in ExtSelectClipRgn metafile functions.

	* windows/winpos.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Fixed a memory leak in find_child_from_point().

	* include/setupapi.h:
	Mike McCormack <mike_mccormack@start.com.au>
	Stub implementations of some functions.

	* dlls/dsound/dsound_main.c, documentation/samples/config:
	Johan Gill <johane@lysator.liu.se>
	Only enumerate DirectSound devices if the first sound device in the
	system supports the Wine implementation of DirectSound. Also added
	some entries to the sample config file and changed the values of the
	"EmulDriver" key to "Y"/"N".

	* dlls/winedos/int10.c, include/miscemu.h, msdos/dosmem.c:
	Christian Costa <titan.costa@wanadoo.fr>
	The SVGA block code was not accessible (AH and AL inverted). Fixed.
	Removed duplicate VESA Get SuperVGA INFORMATION function.
	Fix and finish its implementation.
	Add 2 functions to managed structures in the BiosSys segment.

	* dlls/winspool/info.c, programs/avitools/aviinfo.c,
	  programs/avitools/aviplay.c:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Fixed warnings.

	* dlls/comctl32/propsheet.c:
	Maciek Kaliszewski <kenon@go2.pl>
	Fixed memory allocation bug in PROPSHEET_CollectPageInfo.

	* dlls/winmm/mmsystem.c:
	Sander van Leeuwen <sandervl@xs4all.nl>
	mixerGetControlDetailsW: translate strings for
	MIXER_GETCONTROLDETAILSF_LISTTEXT option.

	* include/winbase.h:
	Warren Turkal <wturkal@cbu.edu>
	Added structures and some constants for stream handling.

	* dlls/setupapi/devinst.c, dlls/setupapi/setupapi.spec:
	Mike McCormack <mike_mccormack@start.com.au>
	Stub implementations of some functions.

	* files/file.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Silence fixme in unnecessary situation, add missing \n to another fixme.

2002-05-25  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ttydrv/wnd.c, dlls/x11drv/winpos.c, dlls/x11drv/xrender.c,
	  graphics/x11drv/clipping.c, graphics/x11drv/graphics.c,
	  graphics/x11drv/text.c, include/gdi.h, include/region.h,
	  include/x11drv.h, objects/clipping.c, objects/gdiobj.c,
	  objects/region.c, windows/dce.c, windows/winpos.c,
	  dlls/gdi/mfdrv/graphics.c:
	Removed dependencies on the internals of the region object.
	Do not store the region type in the object, it's trivial to determine
	from the rectangle count.
	Rewrote a few routines to not depend on internal clipping or region
	functions.

	* win32/device.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- Add some undocumented ioctl mappings.
	- Correct OpenVxDHandle prototype, document it, have a try at
	  returning a Ring 3 handle and make FIXME more verbose.

	* debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed cont/pass mismatch.

	* debugger/dbg.y, debugger/debugger.h, debugger/expr.c,
	  debugger/info.c, debugger/memory.c, debugger/types.c,
	  debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Hacked unicode printing feature (x /u).
	Made the type casts a bit more robust.

	* server/process.c, server/process.h:
	Fixed process startup synchronization broken by previous change.

	* dlls/msvcrt/msvcrt.spec:
	Fixed typo in iswalpha forward.

	* tools/winebuild/import.c:
	Only add extra symbols if they are not already exported by this dll.

	* debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed wine exec file location after startup modifications.

	* misc/version.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- Use Win98 SE values for WIN98 setting.
	- Win ME is DOS 8.00.
	- Rename variable defaultWinVersion to forcedWinVersion.
	- VERSION_GetSystemDLLVersion(): add W2K/XP support, add "unknown"
	  warning.

2002-05-24  Alexandre Julliard  <julliard@winehq.com>

	* configure.ac, Make.rules.in, configure:
	No longer need a special LDCOMBINE for cygwin/mingw.

	* include/wine/server_protocol.h, memory/environ.c,
	  scheduler/process.c, server/debugger.c, server/process.c,
	  server/process.h, server/protocol.def, server/ptrace.c,
	  server/trace.c:
	A few optimizations in the process startup requests now that Winelib
	apps are started differently from Unix ones.

	* dlls/imm32/imm.c, dlls/ntdll/cdrom.c, dlls/shlwapi/reg.c,
	  dlls/winedos/dosvm.c, graphics/x11drv/graphics.c,
	  graphics/x11drv/xfont.c, msdos/ppdev.c, objects/region.c,
	  windows/sysparams.c, dlls/advapi32/crypt.c,
	  dlls/comctl32/commctrl.c, dlls/dinput/keyboard/main.c,
	  dlls/gdi/freetype.c:
	James Juran <jamesjuran@alumni.psu.edu>
	Add missing \n to output messages.

	* graphics/x11drv/opengl.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Support querying of number of visuals without reporting an error or
	crashing.

	* dlls/kernel/kernel32.spec, include/winbase.h, misc/version.c:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Partial implementation of VerifyVersionInfo{A,W}.

2002-05-23  Alexandre Julliard  <julliard@winehq.com>

	* misc/main.c, misc/registry.c, msdos/dosconf.c, msdos/int11.c,
	  msdos/int1a.c, msdos/int21.c, msdos/ioports.c, objects/font.c,
	  ole/ole2nls.c, programs/progman/string.c, scheduler/process.c,
	  win32/console.c, dlls/winedos/module.c, dlls/x11drv/event.c,
	  files/directory.c, files/dos_fs.c, files/drive.c, files/profile.c,
	  include/file.h, include/options.h, loader/loadorder.c:
	Removed most inclusions of options.h.
	Removed a few no longer used PROFILE_* functions.

	* dlls/winspool/info.c, documentation/Makefile.in,
	  documentation/installation-und-konfiguration.german,
	  documentation/running.sgml, documentation/samples/config,
	  documentation/wine.man.in, misc/options.c, misc/version.c,
	  win32/device.c:
	Replaced -dosver and -winver options by config file parameters.

	* dlls/make_dlls, dlls/Makefile.in:
	Restored the library file intermediate step for symlink dependencies.

	* dlls/x11drv/window.c, dlls/x11drv/x11drv_main.c, include/x11drv.h:
	Restored managed mode config file option.

	* tools/wineshelllink:
	Dustin Navea <speeddymon@yahoo.com>
	Support for KDE3.

	* tools/wineinstall:
	Dustin Navea <speeddymon@yahoo.com>
	Added creation of c:/windows/fonts and
	c:/windows/Start Menu/Programs/Startup.

	* dlls/kernel/tests/file.c:
	Francois Gouget <fgouget@free.fr>
	Improve the failure messages.

	* include/wine/port.h, loader/ne/module.c, loader/ne/resource.c,
	  loader/task.c, memory/environ.c, tools/winebuild/spec16.c,
	  windows/class.c, dlls/dplayx/dplay.c, dlls/gdi/freetype.c,
	  dlls/ntdll/heap.c, dlls/wineps/truetype.c, include/user.h:
	Replaced the GET/PUT_UA macros by memcpy. Fixed a few big-endian
	issues.

	* dlls/Makefile.in, dlls/make_dlls:
	Run make clean in all directories, even the ones we don't compile in.
	Simplified sub-directories rules a bit.

	* dlls/ddraw/Makefile.in, dlls/ttydrv/Makefile.in,
	  dlls/winedos/Makefile.in, dlls/winmm/mcicda/Makefile.in,
	  dlls/winmm/mciseq/Makefile.in, dlls/winmm/mciwave/Makefile.in:
	Removed some unnecessary imports.

	* Makefile.in: Fixed etags rule.

	* dlls/x11drv/event.c, dlls/x11drv/window.c,
	  dlls/x11drv/x11drv_main.c, documentation/wine.man.in,
	  graphics/x11drv/graphics.c, include/options.h, misc/options.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Remove the --managed option, and make wine use the managed mode by
	default.

	* dlls/oleaut32/typelib.c, dlls/setupapi/setupx_main.c, misc/registry.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Removed obsolete email address.

	* dlls/kernel/tests/alloc.c, dlls/kernel/tests/file.c,
	  dlls/kernel/tests/process.c, dlls/kernel/tests/thread.c,
	  dlls/oleaut32/tests/vartest.c, dlls/shlwapi/tests/shreg.c,
	  dlls/user/tests/class.c, dlls/user/tests/wsprintf.c,
	  dlls/winsock/tests/sock.c:
	Francois Gouget <fgouget@free.fr>
	Make the tests compile with Visual C++.

	* include/mapicode.h, include/mapidefs.h, include/winbase.h:
	Francois Gouget <fgouget@free.fr>
	Include winerror.h if in Winelib mode.

2002-05-22  Alexandre Julliard  <julliard@winehq.com>

	* tools/winapi_check/win32/avicap32.api,
	  tools/winapi_check/win32/msg711.api,
	  tools/winapi_check/win32/msrle32.api,
	  tools/winapi_check/win32/quartz.api:
	Avoid 0-byte files.

	* programs/avitools/Makefile.in, programs/winetest/Makefile.in,
	  programs/winetest/runtest, scheduler/client.c, scheduler/process.c,
	  tools/winewrapper, win32/console.c, .cvsignore, Make.rules.in,
	  Makefile.in, dlls/Makedll.rules.in, dlls/x11drv/clipboard.c,
	  documentation/Makefile.in, documentation/samples/config,
	  documentation/wine.man.in, include/module.h, include/wine/library.h,
	  library/loader.c, loader/module.c, miscemu/.cvsignore,
	  miscemu/Makefile.in, programs/.cvsignore, programs/Makefile.in,
	  programs/Makeprog.rules.in, programs/wineapploader.in,
	  winedefault.reg:
	New loading scheme for Winelib apps, makes them behave like builtin
	dlls and takes load order into account. Install them in dlldir.
	Improved MODULE_GetBinaryType to recognize ELF binaries.
	Added a wrapper script to setup the environment when running directly
	from inside the source tree.

	* Make.rules.in, aclocal.m4, configure, configure.ac:
	Added check for ln.

	* dlls/Makefile.in, dlls/msacm/msadp32/.cvsignore,
	  dlls/msacm/msadp32/Makefile.in, dlls/msacm/msadp32/msadp32.acm.spec,
	  dlls/msacm/msadp32/msadp32.c, documentation/samples/system.ini,
	  configure.ac, configure:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Created an ACM MS ADPCM codec.

	* dlls/winmm/wineoss/midi.c, dlls/winmm/wineoss/mixer.c,
	  dlls/winmm/wineoss/mmaux.c, dlls/winsock/async.c,
	  dlls/winsock/socket.c, dlls/wsock32/socket.c,
	  dlls/x11drv/wineclipsrv.c, msdos/ppdev.c, dlls/avifil32/avifile.c,
	  dlls/dinput/joystick/linux.c, dlls/dinput/joystick/linuxinput.c,
	  dlls/shdocvw/shdocvw_main.c, dlls/winedos/int31.c,
	  dlls/winmm/wineoss/audio.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/modules.dat, tools/winapi_check/modules.pm,
	  tools/winapi_check/win16/avifile.api,
	  tools/winapi_check/win32/avicap32.api,
	  tools/winapi_check/win32/avifil32.api,
	  tools/winapi_check/win32/comcat.api,
	  tools/winapi_check/win32/imaadp32.api,
	  tools/winapi_check/win32/imm32.api,
	  tools/winapi_check/win32/kernel32.api,
	  tools/winapi_check/win32/msg711.api,
	  tools/winapi_check/win32/msrle32.api,
	  tools/winapi_check/win32/ntdll.api,
	  tools/winapi_check/win32/quartz.api,
	  tools/winapi_check/win32/shdocvw.api,
	  tools/winapi_check/win32/urlmon.api,
	  tools/winapi_check/win32/user32.api,
	  tools/winapi_check/win32/wineps.api:
	Patrik Stridvall <ps@leissner.se>
	API files update.

	* dlls/winmm/mmsystem.c, dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed hang in PlaySound in error cases; added registry lookup for sounds.

	* dlls/winsock/tests/sock.c, include/Makefile.in, include/mswsock.h,
	  include/winsock.h:
	Francois Gouget <fgouget@free.fr>
	Add mswsock.h, move relevant definitions to this header.

2002-05-21  Alexandre Julliard  <julliard@winehq.com>

	* programs/winepath/Makefile.in, programs/winetest/.cvsignore,
	  programs/winetest/Makefile.in, programs/winhelp/.cvsignore,
	  programs/winhelp/Makefile.in, programs/winver/.cvsignore,
	  programs/winver/Makefile.in, scheduler/process.c,
	  programs/cmdlgtst/.cvsignore, programs/cmdlgtst/Makefile.in,
	  programs/control/.cvsignore, programs/control/Makefile.in,
	  programs/expand/.cvsignore, programs/expand/Makefile.in,
	  programs/notepad/.cvsignore, programs/notepad/Makefile.in,
	  programs/osversioncheck/.cvsignore,
	  programs/osversioncheck/Makefile.in, programs/progman/.cvsignore,
	  programs/progman/Makefile.in, programs/regapi/.cvsignore,
	  programs/regapi/Makefile.in, programs/regedit/.cvsignore,
	  programs/regedit/Makefile.in, programs/regsvr32/.cvsignore,
	  programs/regsvr32/Makefile.in, programs/regtest/.cvsignore,
	  programs/regtest/Makefile.in, programs/uninstaller/.cvsignore,
	  programs/uninstaller/Makefile.in, programs/view/.cvsignore,
	  programs/view/Makefile.in, programs/wcmd/.cvsignore,
	  programs/wcmd/Makefile.in, programs/wineconsole/.cvsignore,
	  programs/wineconsole/Makefile.in, programs/winemine/.cvsignore,
	  programs/winemine/Makefile.in, programs/winepath/.cvsignore,
	  Make.rules.in, debugger/.cvsignore, debugger/Makefile.in,
	  dlls/kernel/tests/.cvsignore, dlls/oleaut32/tests/.cvsignore,
	  dlls/shlwapi/tests/.cvsignore, dlls/user/tests/.cvsignore,
	  dlls/winsock/tests/.cvsignore, programs/Makeprog.rules.in,
	  programs/avitools/.cvsignore, programs/avitools/Makefile.in,
	  programs/clock/.cvsignore, programs/clock/Makefile.in:
	Renamed Winelib apps to .exe.so to follow the dll naming convention.

	* include/commctrl.h, include/shlwapi.h:
	Francois Gouget <fgouget@free.fr>
	Test for IStream_IMETHODS before defining APIs that need the IStream
	interface (like on Windows).

	* dlls/winaspi/aspi.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Check for sys/ioctl.h.

	* dlls/Makefile.in, dlls/msacm/msg711/.cvsignore,
	  dlls/msacm/msg711/Makefile.in, dlls/msacm/msg711/msg711.acm.spec,
	  dlls/msacm/msg711/msg711.c, dlls/msacm/msg711/msg711.drv.spec:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Implemented a G711 ACM codec (supports both A-Law and MU-Law).

	* dlls/make_dlls:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Now runs in Perl strict mode.
	Added ability to skip DLL from the tree.

	* dlls/shell32/shell.c, dlls/shell32/shell32.spec:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added stub for ExtractAssociatedIconExA.

	* programs/wineconsole/dialog.c, programs/wineconsole/registry.c,
	  programs/wineconsole/user.c, programs/wineconsole/winecon_private.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Allow ANSI charset in font enumeration.
	Added ability not to close the wineconsole on console object
	destruction.

	* dlls/user/dde/ddeml16.c, windows/winproc.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added 16/32 DDE message conversion.
	Finished the 16 bit implementation of DDEML.

2002-05-20  Alexandre Julliard  <julliard@winehq.com>

	* Makefile.in, configure, configure.ac, programs/Makefile.in,
	  programs/expand/.cvsignore, programs/expand/Makefile.in,
	  programs/expand/expand.c:
	Moved expand.c from libtest to programs/expand.
	Removed the rest of the libtest directory.

	* configure.ac, dlls/gdi/freetype.c, dlls/wineps/truetype.c,
	  dlls/x11drv/xrender.c, include/config.h.in, aclocal.m4, configure:
	Added configure check for the soname of libraries that we load
	dynamically.  Added a few other configure macros, and moved all macros
	into aclocal.m4.

	* controls/button.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Clear an old button text in WM_SETTEXT as Windows does.

	* dlls/comctl32/pager.c, dlls/comctl32/status.c, dlls/comctl32/tab.c,
	  dlls/comctl32/toolbar.c, dlls/user/user32.spec, include/user.h,
	  include/winuser.h, windows/nonclient.c, windows/syscolor.c,
	  controls/button.c, controls/combo.c, controls/menu.c,
	  controls/scroll.c, controls/uitools.c:
	Got rid of GetSysColorPen.

	* dlls/user/msg16.c, dlls/winspool/info.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Better error messages.

	* dlls/msvcrt/wcs.c: John K. Hohm <jhohm@acm.org>
	Fix msvcrt._vsnwprintf format reading bug like NTDLL_vsnwprintf.

	* winedefault.reg:
	Dustin Navea <speeddymon@yahoo.com>
	Added SerialComm key.

	* dlls/dplayx/dplay.c, dlls/user/user_main.c, dlls/wineps/ppd.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Spelling stuff.

	* dlls/ntdll/critsection.c:
	Francois Gouget <fgouget@free.fr>
	Dump thread id instead of %fs.

2002-05-19  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/spec32.c:
	Do not output stubs in the .def file.

	* unicode/wine_unicode.def, dlls/ntdll/debugtools.c,
	  include/wine/debug.h, include/wine/library.h, library/Makefile.in,
	  library/debug.c:
	Export the debug API as functions instead of pointers.
	A few other import fixes for Mingw.

	* dlls/ntdll/wcstring.c, include/winerror.h, dlls/comcat/comcat.h,
	  dlls/comcat/factory.c, dlls/comcat/information.c,
	  dlls/comcat/manager.c, dlls/comcat/register.c:
	John K. Hohm <jhohm@acm.org>
	More comcat.dll implementation, swprintf fix, winerror.h additions.

	* dlls/dinput/dinput.spec, dlls/dinput/dinput_main.c,
	  dlls/dinput/dinput_private.h, dlls/dinput/keyboard/main.c:
	Arjen Nienhuis <arjen@BleHQ.org>
	Fixed keyboard handling.

	* dlls/winmm/joystick.c, dlls/winmm/joystick/joystick.c, files/dos_fs.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Add check for <sys/ioctl.h>.

	* dlls/ntdll/cdrom.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- Improve error messages.
	- Add error code mapping EPERM -> STATUS_ACCESS_DENIED.

	* dlls/kernel/nls/ark.nls, dlls/kernel/nls/heb.nls,
	  dlls/kernel/nls/hrv.nls, dlls/kernel/nls/kor.nls,
	  dlls/kernel/nls/tha.nls, dlls/kernel/nls/ukr.nls:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added LOCALE_IDEFAULTMACCODEPAGE values for some languages.

	* dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c:
	Stefan Leichter <Stefan.Leichter@camline.com>
	Added stub for DllRegisterServer.

	* dlls/shell32/shell32_xx.rc:
	Stefan Leichter <Stefan.Leichter@camline.com>
	Added version info resource.

	* dlls/user/tests/sysparams.c:
	Francois Gouget <fgouget@free.fr>
	Make the 'error' string of a couple of checks consistent with the
	others.

	* loader/module.c:
	Francois Gouget <fgouget@free.fr>
	Fixed the WinExec prototype.

	* dlls/msvcrt/file.c, dlls/msvcrt/msvcrt.spec:
	Francois Gouget <fgouget@free.fr>
	Implemented _getws.

	* windows/win.c: Francois Gouget <fgouget@free.fr>
	Add missing WIN_ReleaseWndPtr in WIN_CreateDesktopWindow.

	* dlls/ntdll/nt.c, include/winbase.h:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Correct implementation of VerSetConditionMask.

2002-05-17  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makefile.in, dlls/make_dlls:
	Generate a kernel32 dependency for dlls that have no imports to handle
	the winebuild-generated implicit import.

	* library/debug.c:
	Added check for numeric ids and null pointers (thanks to Dimitrie).

	* programs/cmdlgtst/Makefile.in, programs/control/Makefile.in,
	  programs/notepad/Makefile.in, programs/osversioncheck/Makefile.in,
	  programs/progman/Makefile.in, programs/regapi/Makefile.in,
	  programs/regedit/Makefile.in, programs/regsvr32/Makefile.in,
	  programs/regtest/Makefile.in, programs/uninstaller/Makefile.in,
	  programs/view/Makefile.in, programs/wcmd/Makefile.in,
	  programs/winemine/Makefile.in, programs/winepath/Makefile.in,
	  programs/winetest/Makefile.in, programs/winhelp/Makefile.in,
	  programs/winver/Makefile.in, dlls/wineps/Makefile.in,
	  dlls/wininet/Makefile.in, dlls/winmm/Makefile.in,
	  dlls/winmm/joystick/Makefile.in, dlls/winmm/mcianim/Makefile.in,
	  dlls/winmm/mciavi/Makefile.in, dlls/winmm/mcicda/Makefile.in,
	  dlls/winmm/mciseq/Makefile.in, dlls/winmm/mciwave/Makefile.in,
	  dlls/winmm/midimap/Makefile.in, dlls/winmm/wavemap/Makefile.in,
	  dlls/winmm/winearts/Makefile.in, dlls/winmm/wineoss/Makefile.in,
	  dlls/winnls/Makefile.in, dlls/winspool/Makefile.in,
	  dlls/wintrust/Makefile.in, dlls/wsock32/Makefile.in,
	  dlls/x11drv/Makefile.in, programs/avitools/Makefile.in,
	  programs/clock/Makefile.in, dlls/opengl32/Makefile.in,
	  dlls/qcap/Makefile.in, dlls/quartz/Makefile.in,
	  dlls/rasapi32/Makefile.in, dlls/richedit/Makefile.in,
	  dlls/rpcrt4/Makefile.in, dlls/serialui/Makefile.in,
	  dlls/shdocvw/Makefile.in, dlls/shell32/Makefile.in,
	  dlls/shlwapi/Makefile.in, dlls/snmpapi/Makefile.in,
	  dlls/sti/Makefile.in, dlls/tapi32/Makefile.in,
	  dlls/ttydrv/Makefile.in, dlls/twain/Makefile.in,
	  dlls/url/Makefile.in, dlls/urlmon/Makefile.in,
	  dlls/user/Makefile.in, dlls/version/Makefile.in,
	  dlls/win32s/Makefile.in, dlls/winaspi/Makefile.in,
	  dlls/winedos/Makefile.in, dlls/imm32/Makefile.in,
	  dlls/lzexpand/Makefile.in, dlls/mapi32/Makefile.in,
	  dlls/mpr/Makefile.in, dlls/msacm/Makefile.in,
	  dlls/msacm/imaadp32/Makefile.in, dlls/msacm/msg711/Makefile.in,
	  dlls/msdmo/Makefile.in, dlls/msimg32/Makefile.in,
	  dlls/msisys/Makefile.in, dlls/msnet32/Makefile.in,
	  dlls/msrle32/Makefile.in, dlls/msvcrt20/Makefile.in,
	  dlls/msvideo/Makefile.in, dlls/netapi32/Makefile.in,
	  dlls/odbc32/Makefile.in, dlls/oleaut32/Makefile.in,
	  dlls/olecli/Makefile.in, dlls/oledlg/Makefile.in,
	  dlls/olepro32/Makefile.in, dlls/olesvr/Makefile.in,
	  dlls/Makefile.in, dlls/avicap32/Makefile.in,
	  dlls/avifil32/Makefile.in, dlls/comcat/Makefile.in,
	  dlls/comctl32/Makefile.in, dlls/commdlg/Makefile.in,
	  dlls/crtdll/Makefile.in, dlls/crypt32/Makefile.in,
	  dlls/dciman32/Makefile.in, dlls/ddraw/Makefile.in,
	  dlls/devenum/Makefile.in, dlls/dinput/Makefile.in,
	  dlls/dplayx/Makefile.in, dlls/dsound/Makefile.in,
	  dlls/gdi/Makefile.in, dlls/icmp/Makefile.in,
	  dlls/imagehlp/Makefile.in:
	Removed most imports of ntdll since we no longer import Wine internal
	functions from there.

	* scheduler/sysdeps.c, win32/device.c, dlls/Makedll.rules.in,
	  dlls/commdlg/filedlg95.c, dlls/kernel/stress.c, dlls/mpr/wnet.c,
	  dlls/user/network.c, dlls/x11drv/x11drv_main.c, include/winbase.h,
	  library/port.c, memory/environ.c, memory/heap.c:
	A few fixes for mingw cross-compilation.

	* controls/menu.c, dlls/commdlg/cdlg32.c, dlls/ntdll/debugtools.c,
	  dlls/ntdll/ntdll.spec, dlls/user/resource.c, if1632/relay.c,
	  include/wine/debug.h, library/debug.c, loader/ne/resource.c,
	  memory/atom.c, objects/font.c, relay32/snoop.c, windows/class.c,
	  windows/dialog.c, windows/win.c:
	Export the debugging API from libwine instead of ntdll.
	Removed debugres_[aw].

	* dlls/winspool/info.c:
	Bill Medland <medbi01@accpac.com>
	Remove leading whitespace from printcap entries.

	* dlls/winedos/vga.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Do not create a window each time VGA_DoSetMode is called. The window
	is created the first time and then just resized.

2002-05-16  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/import.c, tools/winebuild/spec32.c:
	Adapted to use the argc/argv variables from libwine.
	Automatically import libraries that contain the symbols that the
	.spec.c file is using.

	* scheduler/process.c, dlls/msvcrt/data.c, dlls/ntdll/ntdll.spec,
	  include/wine/library.h, library/loader.c, memory/environ.c:
	Export global argc/argv variables from libwine and remove the
	__wine_get_main_args functions from ntdll.

	* dlls/winsock/socket.c:
	Fixed struct msghdr access for platforms that have msg_accrights
	(reported by Warren Baird).

	* include/winerror.h:
	Philip Brown <phil@bolthole.com>
	Need to undef NOERROR for Solaris.

	* dlls/msvcrt/except.c, dlls/msvcrt/math.c, relay32/snoop.c:
	Warren Baird <Warren_Baird@cimmetry.com>
	Some fixes for compiling on Sparc.

	* programs/winetest/wtmain.c:
	Better usage message. Flush stderr before exiting.

	* include/wine/library.h, include/winnt.h, library/ldt.c,
	  memory/selector.c, scheduler/sysdeps.c, scheduler/syslevel.c,
	  tools/winebuild/spec16.c, win32/except.c, dlls/kernel/kernel_main.c,
	  dlls/kernel/thunk.c, dlls/ntdll/critsection.c,
	  dlls/ntdll/signal_i386.c, if1632/builtin.c, if1632/relay.c,
	  if1632/snoop.c:
	Moved the selector access functions out of winnt.h into libwine.

	* dlls/winmm/mmsystem.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed hangs when playing an ASCII resource.

	* dlls/winedos/int10.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Handle properly the requested video mode in Int10h SET VIDEO MODE
	function by managing the bit 7 of AL.

	* tools/wineinstall:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Place "Common Files" under "Program Files" instead of root directory.

	* dlls/ole32/marshal.c:
	Marcus Meissner <marcus@jet.franken.de>
	Tell the user if winedefault.reg is not loaded.

	* dlls/oleaut32/Makefile.in, dlls/oleaut32/typelib.c,
	  dlls/setupapi/install.c, dlls/setupapi/parser.c, include/ntddk.h,
	  include/wine/unicode.h, unicode/string.c,
	  dlls/comctl32/comctl32undoc.c, dlls/comctl32/ipaddress.c,
	  dlls/comctl32/updown.c, dlls/ntdll/ntdll.spec, dlls/ntdll/string.c,
	  dlls/ntdll/wcstring.c:
	Implemented strtolW/strtoulW in libwine_unicode and used it to replace
	wcstol and friends.

	* tools/winebuild/spec16.c:
	Fixed missing call to make_c_identifier.

	* dlls/winedos/Makefile.in, dlls/winedos/dma.c, dlls/winedos/dosexe.h,
	  dlls/winedos/ioports.c, dlls/winedos/soundblaster.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Added DMA and SoundBlaster emulation.

	* documentation/getting.sgml:
	William Stinson <wstinson@infonie.fr>
	Explain patch -p0 option.

	* dlls/comctl32/listview.c, dlls/commdlg/filedlg95.c,
	  dlls/msacm/driver.c, dlls/serialui/confdlg.c,
	  dlls/shell32/shlfolder.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Fixed snprintf warnings.

	* tools/winedump/debug.c, tools/winedump/pe.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Added check for sys/mman.h.

	* winedefault.reg:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Fixed incorrect format where single backslashes were used instead of
	double ones in attribute values.

	* dlls/winmm/mmio.c:
	Johan Gill <johane@lysator.liu.se>
	lpmmioinfo can sometimes, proven in the read case, be NULL.

2002-05-14  Alexandre Julliard  <julliard@winehq.com>

	* tools/wineshelllink:
	Dustin Navea <speeddymon@yahoo.com>
	Fixes for kde3 and Desktop directory.

	* tools/wineinstall:
	Dustin Navea <speeddymon@yahoo.com>
	Fix for $libdir check.

	* configure.ac, dlls/kernel/comm.c, dlls/netapi32/netapi32.c,
	  dlls/ntdll/cdrom.c, dlls/rpcrt4/rpcrt4_main.c, include/config.h.in,
	  library/loader.c, library/port.c, configure:
	Portability fixes.

	* configure, configure.ac, dlls/Makefile.in, dlls/comcat/.cvsignore,
	  dlls/comcat/Makefile.in, dlls/comcat/comcat.h,
	  dlls/comcat/comcat.spec, dlls/comcat/comcat_main.c,
	  dlls/comcat/factory.c, dlls/comcat/information.c,
	  dlls/comcat/manager.c, dlls/comcat/register.c, winedefault.reg:
	John K. Hohm <jhohm@acm.org>
	Added comcat.dll with factory and manager but E_NOTIMPL work methods.

	* programs/wineconsole/dialog.c, programs/wineconsole/registry.c,
	  programs/wineconsole/user.c, programs/wineconsole/winecon_private.h,
	  programs/wineconsole/winecon_user.h,
	  programs/wineconsole/wineconsole.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Removed Trace macro and replaced it by Wine debug channel facility.
	Made the font lookup at startup more robust and now save registry at
	startup time if a new font is chosen (as spotted by Sylvain Petreolle).
	Fixed an update bug spotted by Jason Edmeades.

	* dlls/kernel/time.c, include/winnls.h:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Better implementation of GetCalendarInfo{A,W}, not perfect.

	* programs/winver/.cvsignore, tools/winebuild/README,
	  tools/winebuild/build.h, tools/winebuild/main.c,
	  tools/winebuild/parser.c, tools/winebuild/spec16.c,
	  tools/winebuild/spec32.c, tools/winebuild/utils.c,
	  programs/Makeprog.rules.in, programs/avitools/Makefile.in,
	  programs/clock/.cvsignore, programs/cmdlgtst/.cvsignore,
	  programs/control/.cvsignore, programs/notepad/.cvsignore,
	  programs/osversioncheck/.cvsignore, programs/progman/.cvsignore,
	  programs/regapi/.cvsignore, programs/regedit/.cvsignore,
	  programs/regsvr32/.cvsignore, programs/regtest/.cvsignore,
	  programs/uninstaller/.cvsignore, programs/view/.cvsignore,
	  programs/wcmd/.cvsignore, programs/wineconsole/.cvsignore,
	  programs/winemine/.cvsignore, programs/winepath/.cvsignore,
	  programs/winetest/.cvsignore, programs/winhelp/.cvsignore,
	  dlls/winmm/mciseq/.cvsignore, dlls/winmm/mciseq/mciseq.drv.spec,
	  dlls/winmm/mciwave/.cvsignore, dlls/winmm/mciwave/mciwave.drv.spec,
	  dlls/winmm/midimap/.cvsignore, dlls/winmm/midimap/midimap.drv.spec,
	  dlls/winmm/wavemap/.cvsignore, dlls/winmm/wavemap/msacm.drv.spec,
	  dlls/winmm/winearts/.cvsignore, dlls/winmm/winearts/Makefile.in,
	  dlls/winmm/winearts/winearts.drv.spec,
	  dlls/winmm/wineoss/.cvsignore, dlls/winmm/wineoss/wineoss.drv.spec,
	  dlls/winnls/.cvsignore, dlls/winnls/winnls32.spec,
	  dlls/winsock/.cvsignore, dlls/winsock/ws2_32.spec,
	  dlls/winspool/.cvsignore, dlls/winspool/winspool.drv.spec,
	  dlls/wintrust/.cvsignore, dlls/wintrust/wintrust.spec,
	  dlls/wow32/.cvsignore, dlls/wow32/wow32.spec,
	  dlls/wsock32/.cvsignore, dlls/wsock32/wsock32.spec,
	  dlls/x11drv/.cvsignore, dlls/x11drv/x11drv.spec, miscemu/wine.spec,
	  dlls/twain/.cvsignore, dlls/twain/twain_32.spec,
	  dlls/url/.cvsignore, dlls/url/url.spec, dlls/urlmon/.cvsignore,
	  dlls/urlmon/urlmon.spec, dlls/user/.cvsignore,
	  dlls/user/user32.spec, dlls/version/.cvsignore,
	  dlls/version/version.spec, dlls/win32s/.cvsignore,
	  dlls/win32s/w32skrnl.spec, dlls/winaspi/.cvsignore,
	  dlls/winaspi/wnaspi32.spec, dlls/winedos/.cvsignore,
	  dlls/winedos/winedos.spec, dlls/wineps/.cvsignore,
	  dlls/wineps/wineps.spec, dlls/wininet/.cvsignore,
	  dlls/wininet/wininet.spec, dlls/winmm/.cvsignore,
	  dlls/winmm/joystick/.cvsignore,
	  dlls/winmm/joystick/joystick.drv.spec,
	  dlls/winmm/mcianim/.cvsignore, dlls/winmm/mcianim/mcianim.drv.spec,
	  dlls/winmm/mciavi/.cvsignore, dlls/winmm/mciavi/mciavi.drv.spec,
	  dlls/winmm/mcicda/.cvsignore, dlls/winmm/mcicda/mcicda.drv.spec,
	  dlls/winmm/winmm.spec, dlls/qcap/.cvsignore, dlls/qcap/qcap.spec,
	  dlls/quartz/.cvsignore, dlls/quartz/quartz.spec,
	  dlls/rasapi32/.cvsignore, dlls/rasapi32/rasapi32.spec,
	  dlls/richedit/.cvsignore, dlls/richedit/riched32.spec,
	  dlls/rpcrt4/.cvsignore, dlls/rpcrt4/rpcrt4.spec,
	  dlls/serialui/.cvsignore, dlls/serialui/serialui.spec,
	  dlls/setupapi/.cvsignore, dlls/setupapi/setupapi.spec,
	  dlls/shdocvw/.cvsignore, dlls/shdocvw/shdocvw.spec,
	  dlls/shell32/.cvsignore, dlls/shell32/shell32.spec,
	  dlls/shfolder/.cvsignore, dlls/shfolder/shfolder.spec,
	  dlls/shlwapi/.cvsignore, dlls/shlwapi/shlwapi.spec,
	  dlls/snmpapi/.cvsignore, dlls/snmpapi/snmpapi.spec,
	  dlls/sti/.cvsignore, dlls/sti/sti.spec, dlls/tapi32/.cvsignore,
	  dlls/tapi32/tapi32.spec, dlls/ttydrv/.cvsignore,
	  dlls/ttydrv/ttydrv.spec, dlls/netapi32/.cvsignore,
	  dlls/netapi32/netapi32.spec, dlls/ntdll/.cvsignore,
	  dlls/ntdll/Makefile.in, dlls/ntdll/ntdll.spec,
	  dlls/odbc32/.cvsignore, dlls/odbc32/odbc32.spec,
	  dlls/ole32/.cvsignore, dlls/ole32/ole32.spec,
	  dlls/oleaut32/.cvsignore, dlls/oleaut32/oleaut32.spec,
	  dlls/olecli/.cvsignore, dlls/olecli/olecli32.spec,
	  dlls/oledlg/.cvsignore, dlls/oledlg/oledlg.spec,
	  dlls/olepro32/.cvsignore, dlls/olepro32/olepro32.spec,
	  dlls/olesvr/.cvsignore, dlls/olesvr/olesvr32.spec,
	  dlls/opengl32/.cvsignore, dlls/opengl32/opengl32.spec,
	  dlls/psapi/.cvsignore, dlls/psapi/psapi.spec,
	  dlls/kernel/.cvsignore, dlls/kernel/kernel32.spec,
	  dlls/lzexpand/.cvsignore, dlls/lzexpand/lz32.spec,
	  dlls/mapi32/.cvsignore, dlls/mapi32/mapi32.spec,
	  dlls/mpr/.cvsignore, dlls/mpr/mpr.spec, dlls/msacm/.cvsignore,
	  dlls/msacm/imaadp32/.cvsignore,
	  dlls/msacm/imaadp32/imaadp32.acm.spec, dlls/msacm/msacm32.spec,
	  dlls/msacm/msg711/.cvsignore, dlls/msacm/msg711/msg711.drv.spec,
	  dlls/msdmo/.cvsignore, dlls/msdmo/msdmo.spec,
	  dlls/msimg32/.cvsignore, dlls/msimg32/msimg32.spec,
	  dlls/msisys/.cvsignore, dlls/msisys/msisys.ocx.spec,
	  dlls/msnet32/.cvsignore, dlls/msnet32/msnet32.spec,
	  dlls/msrle32/.cvsignore, dlls/msrle32/msrle32.spec,
	  dlls/msvcrt/.cvsignore, dlls/msvcrt/msvcrt.spec,
	  dlls/msvcrt20/.cvsignore, dlls/msvcrt20/msvcrt20.spec,
	  dlls/msvideo/.cvsignore, dlls/msvideo/msvfw32.spec,
	  dlls/commdlg/.cvsignore, dlls/commdlg/comdlg32.spec,
	  dlls/crtdll/.cvsignore, dlls/crtdll/crtdll.spec,
	  dlls/crypt32/.cvsignore, dlls/crypt32/crypt32.spec,
	  dlls/dciman32/.cvsignore, dlls/dciman32/dciman32.spec,
	  dlls/ddraw/.cvsignore, dlls/ddraw/ddraw.spec,
	  dlls/devenum/.cvsignore, dlls/devenum/devenum.spec,
	  dlls/dinput/.cvsignore, dlls/dinput/dinput.spec,
	  dlls/dplay/.cvsignore, dlls/dplay/dplay.spec,
	  dlls/dplayx/.cvsignore, dlls/dplayx/dplayx.spec,
	  dlls/dsound/.cvsignore, dlls/dsound/dsound.spec,
	  dlls/gdi/.cvsignore, dlls/gdi/gdi32.spec, dlls/glu32/.cvsignore,
	  dlls/glu32/glu32.spec, dlls/icmp/.cvsignore, dlls/icmp/icmp.spec,
	  dlls/imagehlp/.cvsignore, dlls/imagehlp/imagehlp.spec,
	  dlls/imm32/.cvsignore, dlls/imm32/imm32.spec, Make.rules.in,
	  debugger/.cvsignore, dlls/Makedll.rules.in,
	  dlls/advapi32/.cvsignore, dlls/advapi32/advapi32.spec,
	  dlls/avicap32/.cvsignore, dlls/avicap32/avicap32.spec,
	  dlls/avifil32/.cvsignore, dlls/avifil32/avifil32.spec,
	  dlls/comctl32/.cvsignore, dlls/comctl32/comctl32.spec:
	Added winebuild support for generating a .dbg.c file containing the
	debug channels definitions.
	Made win32 the default type for spec files.
	Ignore C compiler in winebuild so we can simply pass it $(DEFS).
	Removed type win32 and debug_channels from spec files.
	Fixed winebuild to always generate correct C identifiers (reported by
	Vincent Béron).

	* dlls/Makefile.in, dlls/make_dlls:
	Updated make_dlls script for new import scheme.

	* dlls/comctl32/propsheet.c:
	Sander van Leeuwen <sandervl@xs4all.nl>
	- Center property sheet page during creation (padding)
	  (some applications rely on this behaviour when resizing the page)
	- Mask away WS_THICKFRAME page style
	- Page navigation by resource id (by unknown author)

	* misc/.cvsignore, misc/Makefile.in, msdos/.cvsignore,
	  msdos/Makefile.in, objects/Makefile.in, ole/Makefile.in,
	  relay32/.cvsignore, relay32/Makefile.in, scheduler/.cvsignore,
	  scheduler/Makefile.in, tools/makedep.c, win32/.cvsignore,
	  win32/Makefile.in, windows/.cvsignore, windows/Makefile.in,
	  configure.ac, controls/.cvsignore, controls/Makefile.in,
	  dlls/gdi/Makefile.in, dlls/ntdll/.cvsignore, dlls/ntdll/Makefile.in,
	  dlls/user/Makefile.in, dlls/x11drv/Makefile.in, files/.cvsignore,
	  files/Makefile.in, graphics/.cvsignore, graphics/Makefile.in,
	  graphics/x11drv/.cvsignore, graphics/x11drv/Makefile.in,
	  if1632/.cvsignore, if1632/Makefile.in, loader/.cvsignore,
	  loader/Makefile.in, loader/ne/.cvsignore, loader/ne/Makefile.in,
	  memory/.cvsignore, memory/Makefile.in, Make.rules.in, configure:
	Specify the complete source file list for a dll inside the main
	makefile and get rid of the subdirectories makefiles.

	* programs/winhelp/Xx.rc: No longer used.

	* dlls/kernel/nls/jpn.nls:
	Aric Stewart <aric@codeweavers.com>
	Improved NLS file for codepage 932 (SJIS).

	* dlls/comctl32/listview.c:
	Aric Stewart <aric@codeweavers.com>
	Do not invalidate the rect while drawing.
	Implemented GetSubItemRect and a quick change to notifications sent
	for OwnerData items.

	* dlls/winedos/int10.c, dlls/winedos/vga.c, dlls/winedos/vga.h:
	Robert Coeyman <admiral@corner.net>
	Added the rest of the register manipulation code to int 10.  It only
	handles the setting of the 16-color palette registers and overscan.

	* dlls/comctl32/pager.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Change traces to trace full window handle and improve some traces.
	- Send WM_NOTIFY to parent not to self.
	- Implement PGS_AUTOSCROLL via MOUSEMOVE and Timer routines.

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Support PGN_SCROLL notify and return either the button heigth or width.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Fix memory dump where length is not a multiple of 4.

	* dlls/comctl32/propsheet.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Fixed issues with Unicode conversion. Certain strings were not
	converted, but then processed as converted.

	* programs/winhelp/Da.rc, programs/winhelp/De.rc,
	  programs/winhelp/En.rc, programs/winhelp/Es.rc,
	  programs/winhelp/Fi.rc, programs/winhelp/Fr.rc,
	  programs/winhelp/Hu.rc, programs/winhelp/It.rc,
	  programs/winhelp/Ko.rc, programs/winhelp/Pt.rc,
	  programs/winhelp/Sk.rc, programs/winhelp/Sw.rc,
	  programs/winhelp/Va.rc, programs/winhelp/Wa.rc,
	  programs/winhelp/macro.c, programs/winhelp/rsrc.rc,
	  programs/winhelp/string.c, programs/winhelp/winhelp.c,
	  programs/winhelp/winhelp.h, programs/winhelp/winhelp_res.h:
	Sylvain Petreolle <spetreolle@yahoo.fr>
	- Converted Winhelp for use of NLS
	- Minor bugfix
	- Disable support of Va.rc for now (rumantsch swiss)

2002-05-12  Alexandre Julliard  <julliard@winehq.com>

	* programs/winetest/runtest, unicode/Makefile.in, Make.rules.in,
	  configure, configure.ac, dlls/kernel/tests/process.c,
	  library/Makefile.in, programs/Makeprog.rules.in:
	Added some support for cross-compilation using mingw32.

	* dlls/winmm/mmsystem.c, dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Better behavior of PlaySound (error handling, synchronization).
	Removed some unnecessary tests about windows handles.

2002-05-11  Alexandre Julliard  <julliard@winehq.com>

	* programs/wineconsole/Makefile.in,
	  programs/wineconsole/wineconsole.c,
	  programs/wineconsole/wineconsole.spec,
	  programs/winemine/Makefile.in, programs/winemine/winemine.spec,
	  programs/winepath/Makefile.in, programs/winepath/winepath.spec,
	  programs/winetest/Makefile.in, programs/winetest/winetest.spec,
	  programs/winhelp/Makefile.in, programs/winhelp/winhelp.spec,
	  programs/winver/Makefile.in, programs/winver/winver.spec,
	  tools/winebuild/import.c, tools/winebuild/main.c,
	  tools/winebuild/parser.c, tools/winebuild/utils.c,
	  dlls/wow32/Makefile.in, dlls/wsock32/Makefile.in,
	  dlls/x11drv/Makefile.in, miscemu/Makefile.in,
	  programs/Makeprog.rules.in, programs/avitools/Makefile.in,
	  programs/avitools/aviinfo.spec, programs/avitools/aviplay.spec,
	  programs/avitools/icinfo.spec, programs/clock/Makefile.in,
	  programs/clock/clock.spec, programs/cmdlgtst/Makefile.in,
	  programs/cmdlgtst/cmdlgtst.spec, programs/control/Makefile.in,
	  programs/control/control.spec, programs/notepad/Makefile.in,
	  programs/notepad/notepad.spec, programs/osversioncheck/Makefile.in,
	  programs/osversioncheck/osversioncheck.spec,
	  programs/progman/Makefile.in, programs/progman/progman.spec,
	  programs/regapi/Makefile.in, programs/regapi/regapi.spec,
	  programs/regedit/Makefile.in, programs/regedit/regedit.spec,
	  programs/regsvr32/Makefile.in, programs/regsvr32/regsvr32.spec,
	  programs/regtest/Makefile.in, programs/regtest/regtest.spec,
	  programs/uninstaller/Makefile.in,
	  programs/uninstaller/uninstaller.spec, programs/view/Makefile.in,
	  programs/view/view.spec, programs/wcmd/Makefile.in,
	  programs/wcmd/wcmd.spec, dlls/wininet/Makefile.in,
	  dlls/winmm/Makefile.in, dlls/winmm/joystick/Makefile.in,
	  dlls/winmm/mcianim/Makefile.in, dlls/winmm/mciavi/Makefile.in,
	  dlls/winmm/mciavi/mciavi.drv.spec, dlls/winmm/mcicda/Makefile.in,
	  dlls/winmm/mciseq/Makefile.in, dlls/winmm/mciwave/Makefile.in,
	  dlls/winmm/midimap/Makefile.in, dlls/winmm/wavemap/Makefile.in,
	  dlls/winmm/winearts/Makefile.in, dlls/winmm/wineoss/Makefile.in,
	  dlls/winmm/winmm.spec, dlls/winnls/Makefile.in,
	  dlls/winsock/Makefile.in, dlls/winsock/tests/ws2_32_test.spec,
	  dlls/winspool/Makefile.in, dlls/wintrust/Makefile.in,
	  dlls/serialui/Makefile.in, dlls/serialui/serialui.spec,
	  dlls/setupapi/Makefile.in, dlls/setupapi/setupapi.spec,
	  dlls/shdocvw/Makefile.in, dlls/shell32/Makefile.in,
	  dlls/shell32/shell32.spec, dlls/shfolder/Makefile.in,
	  dlls/shlwapi/Makefile.in, dlls/shlwapi/tests/shlwapi_test.spec,
	  dlls/snmpapi/Makefile.in, dlls/sti/Makefile.in,
	  dlls/tapi32/Makefile.in, dlls/ttydrv/Makefile.in,
	  dlls/twain/Makefile.in, dlls/url/Makefile.in,
	  dlls/urlmon/Makefile.in, dlls/user/Makefile.in,
	  dlls/user/tests/user32_test.spec, dlls/user/user32.spec,
	  dlls/version/Makefile.in, dlls/win32s/Makefile.in,
	  dlls/winaspi/Makefile.in, dlls/winedos/Makefile.in,
	  dlls/wineps/Makefile.in, dlls/wineps/wineps.spec,
	  dlls/msnet32/Makefile.in, dlls/msrle32/Makefile.in,
	  dlls/msvcrt/Makefile.in, dlls/msvcrt20/Makefile.in,
	  dlls/msvideo/Makefile.in, dlls/netapi32/Makefile.in,
	  dlls/odbc32/Makefile.in, dlls/ole32/Makefile.in,
	  dlls/ole32/ole32.spec, dlls/oleaut32/Makefile.in,
	  dlls/oleaut32/oleaut32.spec, dlls/oleaut32/tests/oleaut32_test.spec,
	  dlls/olecli/Makefile.in, dlls/oledlg/Makefile.in,
	  dlls/olepro32/Makefile.in, dlls/olesvr/Makefile.in,
	  dlls/opengl32/Makefile.in, dlls/psapi/Makefile.in,
	  dlls/qcap/Makefile.in, dlls/quartz/Makefile.in,
	  dlls/rasapi32/Makefile.in, dlls/richedit/Makefile.in,
	  dlls/rpcrt4/Makefile.in, dlls/ddraw/Makefile.in,
	  dlls/ddraw/ddraw.spec, dlls/devenum/Makefile.in,
	  dlls/dinput/Makefile.in, dlls/dplay/Makefile.in,
	  dlls/dplayx/Makefile.in, dlls/dplayx/dplayx.spec,
	  dlls/dsound/Makefile.in, dlls/gdi/Makefile.in, dlls/gdi/gdi32.spec,
	  dlls/icmp/Makefile.in, dlls/imagehlp/Makefile.in,
	  dlls/imm32/Makefile.in, dlls/kernel/Makefile.in,
	  dlls/kernel/kernel32.spec, dlls/kernel/tests/kernel32_test.spec,
	  dlls/lzexpand/Makefile.in, dlls/mapi32/Makefile.in,
	  dlls/mpr/Makefile.in, dlls/msacm/Makefile.in,
	  dlls/msacm/msacm32.spec, dlls/msacm/msg711/Makefile.in,
	  dlls/msdmo/Makefile.in, dlls/msimg32/Makefile.in,
	  dlls/msisys/Makefile.in, Make.rules.in, debugger/Makefile.in,
	  debugger/winedbg.c, debugger/winedbg.spec, dlls/Makedll.rules.in,
	  dlls/advapi32/Makefile.in, dlls/avicap32/Makefile.in,
	  dlls/avifil32/Makefile.in, dlls/comctl32/Makefile.in,
	  dlls/comctl32/comctl32.spec, dlls/commdlg/Makefile.in,
	  dlls/commdlg/comdlg32.spec, dlls/crtdll/Makefile.in,
	  dlls/crypt32/Makefile.in, dlls/dciman32/Makefile.in:
	Added -res option to specify resources on winebuild command-line.
	Added -exe mode to generate a .spec.c for an exe without having to
	provide a .spec.
	Removed some no longer needed spec files.
	Removed .dll extension in makefiles import specifications.

	* dlls/winmm/mcianim/mcianim.c, dlls/winmm/mciavi/mciavi.c,
	  dlls/winmm/mcicda/mcicda.c, dlls/winmm/mciseq/mcimidi.c,
	  dlls/winmm/mciwave/mciwave.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Let MCI drivers support the session instance loading mechanism (NULL
	lParam2 in MCI_OPEN).

	* include/wine/obj_comcat.h:
	John K. Hohm <jhohm@acm.org>
	Fixed typos; added standard CATID_'s.

	* memory/instr.c: Jukka Heinonen <jhei@iki.fi>
	When using MapSL, 32-bit addresses are no longer truncated into 16-bit
	addresses.

	* msdos/dpmi.c: Jukka Heinonen <jhei@iki.fi>
	RawModeSwitch can now be used to return DPMI application back to
	protected mode.

	* dlls/winedos/vga.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Avoid deadlock in VGA_DoSetMode.

	* files/profile.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Make PROFILE_GetString account for default value in all cases.

	* tools/winedump/main.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Allowed options to be put between mode keyword and main argument.

	* dlls/msacm/driver.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Moved session instance loading to winmm.

	* dlls/msacm/imaadp32/Makefile.in,
	  dlls/msacm/imaadp32/imaadp32.acm.spec,
	  dlls/msacm/imaadp32/imaadp32.c, documentation/samples/system.ini:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Created an ACM IMA ADPCM codec.

	* dlls/msacm/format.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed bug in acmFormatTagEnumW.

	* dlls/winmm/driver.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Created session instance for installable drivers.
	Now properly freeing library upon driver exit.

	* include/winbase.h, win32/newfns.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed FlushInstructionCache prototype.

	* server/console.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed missing wineconsole notification of title modification.

	* dlls/dsound/dsound_main.c:
	Joris Beugnies <joris.beugnies@pandora.be>
	Make defines configurable at run-time.

	* graphics/x11drv/dib.c:
	David Hammerton <david@transgaming.com>
	Lock/unlock (and hence maybe coerce) DIBSections into GdiMod during
	the SetDIBits and GetDIBits functions, before actually accessing the X
	Pixmap.

2002-05-09  Alexandre Julliard  <julliard@winehq.com>

	* VERSION, configure, ANNOUNCE, ChangeLog:
	Release 20020509.

----------------------------------------------------------------
2002-05-09  Alexandre Julliard  <julliard@winehq.com>

	* memory/virtual.c:
	Build an explicit argument structure for mmap instead of relying on
	the stack layout.

	* configure.ac, include/config.h.in, include/wine/port.h,
	  tools/wrc/ppy.y, configure:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Detect snprintf && _snprintf, use _snprintf on stupid platforms
	(windows).

	* dlls/kernel/tests/file.c:
	Removed extra return statement.

	* include/ts_xlib.h, include/ts_xresource.h, include/ts_xutil.h,
	  tools/make_X11wrappers, tsx11/X11_calls, tsx11/ts_xlib.c,
	  tsx11/ts_xresource.c, tsx11/ts_xutil.c:
	Added some #ifdefs HAVE_X11_XLIB_H where appropriate.

	* ANNOUNCE, README, documentation/fonts.sgml,
	  documentation/getting.sgml,
	  documentation/installation-und-konfiguration.german,
	  documentation/wine.man.in:
	Fixed some winehq.com URLs.

	* dlls/ntdll/nt.c, dlls/ntdll/ntdll.spec, dlls/ntdll/sec.c:
	Juergen Schmied <juergenschmied@lycos.de>
	Corrected RtlConvertSidToUnicodeString, stub for VerSetConditionMask.

	* dlls/kernel/tests/file.c:
	Jakob Eriksson <jakob@vmlinux.org>
	Added some more tests.

	* include/Makefile.in, include/comcat.h, include/wine/obj_comcat.h,
	  include/wine/obj_enumguid.h, ole/uuid.c:
	John K. Hohm <jhohm@acm.org>
	Added definitions for the Component Categories Manager.

	* dlls/shlwapi/tests/.cvsignore, dlls/shlwapi/tests/shlwapi_test.spec,
	  dlls/shlwapi/tests/shreg.c, configure, configure.ac,
	  dlls/shlwapi/Makefile.in:
	Juergen Schmied <juergenschmied@lycos.de>
	Added some tests.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/reg.c, dlls/shlwapi/shlwapi.spec:
	Juergen Schmied <juergenschmied@lycos.de>
	Reimplemented SHRegGetPathA/W, SHGetValueA/W, SHRegGetPathA/W.

	* dlls/shell32/Makefile.in, dlls/shell32/debughlp.c,
	  dlls/shell32/debughlp.h, dlls/shell32/pidl.c:
	Juergen Schmied <juergenschmied@lycos.de>
	Moving the pidl debug functions to a separate file and made them self
	contained. This prevents useless trace messages generated from the
	debug functions themselves.

	* dlls/ntdll/file.c, include/winioctl.h:
	Juergen Schmied <juergenschmied@lycos.de>
	Types and partial implementation for NtQueryVolumeInformationFile.

	* dlls/advapi32/registry.c:
	Juergen Schmied <juergenschmied@lycos.de>
	Make use of access mask MAXIMUM_ALLOWED possible.

	* misc/registry.c:
	Juergen Schmied <juergenschmied@lycos.de>
	Use only winapi functions in _convert_winnt_registry_to_wine_format.

	* dlls/kernel/kernel32.spec, misc/version.c:
	Juergen Schmied <juergenschmied@lycos.de>
	Stub for VerifyVersionInfoW.

	* files/directory.c:
	Juergen Schmied <juergenschmied@lycos.de>
	Use long names, not 8.3 names in environment.

	* dlls/x11drv/Makefile.in, include/Makefile.in, library/Makefile.in,
	  ole/Makefile.in, programs/Makeprog.rules.in,
	  programs/avitools/Makefile.in, programs/winetest/Makefile.in,
	  server/Makefile.in, tools/Makefile.in, tools/install-sh,
	  tools/mkinstalldirs, tools/winapi/Makefile.in,
	  tools/winebuild/Makefile.in, tools/winedump/Makefile.in,
	  tools/wmc/Makefile.in, tools/wrc/Makefile.in, tsx11/Makefile.in,
	  unicode/Makefile.in, Make.rules.in, Makefile.in,
	  dlls/Makedll.rules.in:
	Added mkinstalldirs to create directories more portably.

	* dlls/gdi/enhmfdrv/dc.c, dlls/gdi/enhmfdrv/enhmetafiledrv.h,
	  dlls/gdi/enhmfdrv/init.c, dlls/gdi/mfdrv/graphics.c,
	  dlls/gdi/mfdrv/init.c, dlls/gdi/mfdrv/metafiledrv.h,
	  dlls/gdi/win16drv/init.c, include/gdi.h, objects/clipping.c,
	  dlls/gdi/driver.c:
	Added ExtSelectClipRgn to the DC interface and implemented it for
	standard and enhanced metafiles.

	* tools/config.guess, tools/config.sub:
	Updated to the latest version.

	* configure, configure.ac:
	There's no need to check for dlopen on cygwin.

	* controls/menu.c:
	Rizsanyi Zsolt <rizsanyi@myrealbox.com>
	Disabled catching of mouse move events when not over menu.
	Changed MENU_SelectItem allow EndMenu to deselect the selected menu.

	* tools/winebuild/import.c, tools/winebuild/main.c,
	  programs/notepad/Makefile.in, programs/notepad/notepad.spec,
	  programs/osversioncheck/Makefile.in,
	  programs/osversioncheck/osversioncheck.spec,
	  programs/progman/Makefile.in, programs/progman/progman.spec,
	  programs/regapi/Makefile.in, programs/regapi/regapi.spec,
	  programs/regedit/Makefile.in, programs/regedit/regedit.spec,
	  programs/regsvr32/Makefile.in, programs/regsvr32/regsvr32.spec,
	  programs/regtest/Makefile.in, programs/regtest/regtest.spec,
	  programs/uninstaller/Makefile.in,
	  programs/uninstaller/uninstaller.spec, programs/view/Makefile.in,
	  programs/view/view.spec, programs/wcmd/Makefile.in,
	  programs/wcmd/wcmd.spec, programs/wineconsole/Makefile.in,
	  programs/wineconsole/wineconsole.spec, programs/winemine/Makefile.in,
	  programs/winemine/winemine.spec, programs/winepath/Makefile.in,
	  programs/winepath/winepath.spec, programs/winetest/Makefile.in,
	  programs/winetest/winetest.spec, programs/winhelp/Makefile.in,
	  programs/winhelp/winhelp.spec, programs/winver/Makefile.in,
	  programs/winver/winver.spec, dlls/winnls/Makefile.in,
	  dlls/winnls/winnls32.spec, dlls/winsock/Makefile.in,
	  dlls/winsock/tests/ws2_32_test.spec, dlls/winsock/ws2_32.spec,
	  dlls/winspool/Makefile.in, dlls/winspool/winspool.drv.spec,
	  dlls/wintrust/Makefile.in, dlls/wintrust/wintrust.spec,
	  dlls/wow32/Makefile.in, dlls/wow32/wow32.spec,
	  dlls/wsock32/Makefile.in, dlls/wsock32/wsock32.spec,
	  dlls/x11drv/Makefile.in, dlls/x11drv/x11drv.spec,
	  libtest/Makefile.in, libtest/expand.spec, libtest/hello.spec,
	  libtest/hello2.spec, libtest/hello3.spec, libtest/hello4.spec,
	  libtest/hello5.spec, libtest/new.spec, libtest/rolex.spec,
	  libtest/volinfo.spec, miscemu/Makefile.in, miscemu/wine.spec,
	  programs/Makeprog.rules.in, programs/avitools/Makefile.in,
	  programs/avitools/aviinfo.spec, programs/avitools/aviplay.spec,
	  programs/avitools/icinfo.spec, programs/clock/Makefile.in,
	  programs/clock/clock.spec, programs/cmdlgtst/Makefile.in,
	  programs/cmdlgtst/cmdlgtst.spec, programs/control/Makefile.in,
	  programs/control/control.spec, dlls/win32s/Makefile.in,
	  dlls/win32s/w32skrnl.spec, dlls/winaspi/Makefile.in,
	  dlls/winaspi/wnaspi32.spec, dlls/winedos/Makefile.in,
	  dlls/winedos/winedos.spec, dlls/wineps/Makefile.in,
	  dlls/wineps/wineps.spec, dlls/wininet/Makefile.in,
	  dlls/wininet/wininet.spec, dlls/winmm/Makefile.in,
	  dlls/winmm/joystick/Makefile.in,
	  dlls/winmm/joystick/joystick.drv.spec,
	  dlls/winmm/mcianim/Makefile.in, dlls/winmm/mcianim/mcianim.drv.spec,
	  dlls/winmm/mciavi/Makefile.in, dlls/winmm/mciavi/mciavi.drv.spec,
	  dlls/winmm/mcicda/Makefile.in, dlls/winmm/mcicda/mcicda.drv.spec,
	  dlls/winmm/mciseq/Makefile.in, dlls/winmm/mciseq/mciseq.drv.spec,
	  dlls/winmm/mciwave/Makefile.in, dlls/winmm/mciwave/mciwave.drv.spec,
	  dlls/winmm/midimap/Makefile.in, dlls/winmm/midimap/midimap.drv.spec,
	  dlls/winmm/wavemap/Makefile.in, dlls/winmm/wavemap/msacm.drv.spec,
	  dlls/winmm/winearts/Makefile.in,
	  dlls/winmm/winearts/winearts.drv.spec,
	  dlls/winmm/wineoss/Makefile.in, dlls/winmm/wineoss/wineoss.drv.spec,
	  dlls/winmm/winmm.spec, dlls/serialui/Makefile.in,
	  dlls/serialui/serialui.spec, dlls/setupapi/Makefile.in,
	  dlls/setupapi/setupapi.spec, dlls/shdocvw/Makefile.in,
	  dlls/shdocvw/shdocvw.spec, dlls/shell32/Makefile.in,
	  dlls/shell32/shell32.spec, dlls/shfolder/Makefile.in,
	  dlls/shfolder/shfolder.spec, dlls/shlwapi/Makefile.in,
	  dlls/shlwapi/shlwapi.spec, dlls/snmpapi/Makefile.in,
	  dlls/snmpapi/snmpapi.spec, dlls/sti/Makefile.in, dlls/sti/sti.spec,
	  dlls/tapi32/Makefile.in, dlls/tapi32/tapi32.spec,
	  dlls/ttydrv/Makefile.in, dlls/ttydrv/ttydrv.spec,
	  dlls/twain/Makefile.in, dlls/twain/twain_32.spec,
	  dlls/url/Makefile.in, dlls/url/url.spec, dlls/urlmon/Makefile.in,
	  dlls/urlmon/urlmon.spec, dlls/user/Makefile.in,
	  dlls/user/tests/user32_test.spec, dlls/user/user32.spec,
	  dlls/version/Makefile.in, dlls/version/version.spec,
	  dlls/msvideo/Makefile.in, dlls/msvideo/msvfw32.spec,
	  dlls/netapi32/Makefile.in, dlls/netapi32/netapi32.spec,
	  dlls/odbc32/Makefile.in, dlls/odbc32/odbc32.spec,
	  dlls/ole32/Makefile.in, dlls/ole32/ole32.spec,
	  dlls/oleaut32/Makefile.in, dlls/oleaut32/oleaut32.spec,
	  dlls/oleaut32/tests/oleaut32_test.spec, dlls/olecli/Makefile.in,
	  dlls/olecli/olecli32.spec, dlls/oledlg/Makefile.in,
	  dlls/oledlg/oledlg.spec, dlls/olepro32/Makefile.in,
	  dlls/olepro32/olepro32.spec, dlls/olesvr/Makefile.in,
	  dlls/olesvr/olesvr32.spec, dlls/opengl32/Makefile.in,
	  dlls/opengl32/opengl32.spec, dlls/psapi/Makefile.in,
	  dlls/psapi/psapi.spec, dlls/qcap/Makefile.in, dlls/qcap/qcap.spec,
	  dlls/quartz/Makefile.in, dlls/quartz/quartz.spec,
	  dlls/rasapi32/Makefile.in, dlls/rasapi32/rasapi32.spec,
	  dlls/richedit/Makefile.in, dlls/richedit/riched32.spec,
	  dlls/rpcrt4/Makefile.in, dlls/rpcrt4/rpcrt4.spec,
	  dlls/imm32/Makefile.in, dlls/imm32/imm32.spec,
	  dlls/kernel/Makefile.in, dlls/kernel/kernel32.spec,
	  dlls/kernel/tests/kernel32_test.spec, dlls/lzexpand/Makefile.in,
	  dlls/lzexpand/lz32.spec, dlls/mapi32/Makefile.in,
	  dlls/mapi32/mapi32.spec, dlls/mpr/Makefile.in, dlls/mpr/mpr.spec,
	  dlls/msacm/Makefile.in, dlls/msacm/imaadp32/Makefile.in,
	  dlls/msacm/imaadp32/imaadp32.acm.spec, dlls/msacm/msacm32.spec,
	  dlls/msacm/msg711/Makefile.in, dlls/msacm/msg711/msg711.drv.spec,
	  dlls/msdmo/Makefile.in, dlls/msdmo/msdmo.spec,
	  dlls/msimg32/Makefile.in, dlls/msimg32/msimg32.spec,
	  dlls/msisys/Makefile.in, dlls/msisys/msisys.ocx.spec,
	  dlls/msnet32/Makefile.in, dlls/msnet32/msnet32.spec,
	  dlls/msrle32/Makefile.in, dlls/msrle32/msrle32.spec,
	  dlls/msvcrt/Makefile.in, dlls/msvcrt/msvcrt.spec,
	  dlls/msvcrt20/Makefile.in, dlls/msvcrt20/msvcrt20.spec,
	  dlls/avicap32/Makefile.in, dlls/avicap32/avicap32.spec,
	  dlls/avifil32/Makefile.in, dlls/avifil32/avifil32.spec,
	  dlls/comctl32/Makefile.in, dlls/comctl32/comctl32.spec,
	  dlls/commdlg/Makefile.in, dlls/commdlg/comdlg32.spec,
	  dlls/crtdll/Makefile.in, dlls/crtdll/crtdll.spec,
	  dlls/crypt32/Makefile.in, dlls/crypt32/crypt32.spec,
	  dlls/dciman32/Makefile.in, dlls/dciman32/dciman32.spec,
	  dlls/ddraw/Makefile.in, dlls/ddraw/ddraw.spec,
	  dlls/devenum/Makefile.in, dlls/devenum/devenum.spec,
	  dlls/dinput/Makefile.in, dlls/dinput/dinput.spec,
	  dlls/dplay/Makefile.in, dlls/dplay/dplay.spec,
	  dlls/dplayx/Makefile.in, dlls/dplayx/dplayx.spec,
	  dlls/dsound/Makefile.in, dlls/dsound/dsound.spec,
	  dlls/gdi/Makefile.in, dlls/gdi/gdi32.spec, dlls/icmp/Makefile.in,
	  dlls/icmp/icmp.spec, dlls/imagehlp/Makefile.in,
	  dlls/imagehlp/imagehlp.spec, Make.rules.in, Makefile.in,
	  debugger/Makefile.in, debugger/winedbg.spec, dlls/Makedll.rules.in,
	  dlls/advapi32/Makefile.in, dlls/advapi32/advapi32.spec:
	Moved imports specification from the .spec into the Makefile so that
	it can be used on platforms that don't build a .spec.c file.

2002-05-08  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/filedlg.c:
	Bill Medland <medbi01@accpac.com>
	Fix the Win31 style file dialog box.
	- If there is no filter don't put a blank one in; it doesn't
	  work (leave it NULL).
	- Correctly figure out which is the current drive in the combo box.
	- Add FIXME for the variable "initial dir" handling.

	* documentation/configuring.sgml, documentation/wine.man.in,
	  tools/bug_report.pl:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Direct bug reports to Wine bugzilla. Some other minor documentation
	changes.

	* library/errno.c:
	Don't need to reference external errno since non-reentrant Xlib is no
	longer supported.

	* Makefile.in, programs/Makefile.in:
	Run make test for all programs by default.

	* files/dos_fs.c, files/drive.c:
	Michael Wetherell <mike.wetherell@ntlworld.com>
	Fix handling of unix absolute paths in DOSFS_GetFullName and
	GetShortPathNameA.
	Handle '..' in paths in DRIVE_FindDriveRoot.

	* memory/selector.c, objects/bitmap.c, objects/dib.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Replace SELECTOR_AllocBlock and SELECTOR_FreeBlock with standard Win16
	selector calls.

	* programs/regapi/regFixer.pl, programs/regapi/regRestorer.pl,
	  programs/regapi/regSet.sh:
	Raul Dias <chaos@swi.com.br>
	- Make possible to diff registry information that contains
	  timestamps.
	- Create safe temp files in /tmp.

2002-05-07  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac:
	Fixed dll check for cygwin.

	* windows/winproc.c:
	Stefan Leichter <Stefan.Leichter@camline.com>
	Added NULL pointer check in CallWindowProc16.

	* objects/gdiobj.c:
	Fixed vis region handling broken by last change.

	* msdos/dpmi.c, msdos/int2f.c, include/callback.h:
	Jukka Heinonen <jhei@iki.fi>
	Added support for DPMI RawModeSwitch.

	* dlls/ttydrv/bitmap.c, dlls/ttydrv/dc.c, dlls/ttydrv/wnd.c,
	  dlls/wineps/init.c, graphics/x11drv/bitmap.c, graphics/x11drv/init.c,
	  objects/dc.c, objects/gdiobj.c, dlls/gdi/win16drv/init.c:
	Moved parts of the DC initialisation and bitmap selection out of the
	drivers into the common code.

	* dlls/gdi/printdrv.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Replace DOSFS_GetFullName with wine_get_unix_file_name.

	* dlls/x11drv/window.c:
	Michael Cardenas <michael.cardenas@lindows.com>
	Cap window sizes at 65535.

	* configure.ac, include/config.h.in, configure:
	Added check for sys/sysctl.h.

	* memory/global.c:
	Olivier Houchard <doginou@ciO.rg>
	Support for getting memory size on FreeBSD.

	* dlls/dinput/keyboard/main.c:
	Olivier Houchard <doginou@ciO.rg>
	Hack to make SetEventNotification work.

2002-05-06  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/tests/path.c:
	Fixed handling of GetLongPathNameA.

	* dlls/kernel/tests/file.c:
	Jakob Eriksson <jakob@vmlinux.org>
	Tests for _lcreat,_llseek and _llopen added.

	* dlls/oleaut32/typelib.c:
	Marcus Meissner <marcus@jet.franken.de>
	Small hack to make InstallShield v6 work better.

	* dlls/oleaut32/tmarshal.c:
	Marcus Meissner <marcus@jet.franken.de>
	BSTRs can be NULL, handle them seperately.

	* windows/win.c, dlls/user/user32.spec, include/winuser.h:
	David Hammerton <david@transgaming.com>
	Added implementation of GetWindowInfo.

	* DEVELOPERS-HINTS:
	Sylvain Petreolle <spetreolle@yahoo.fr>
	Update of DEVELOPERS-HINTS to reflect the current state of Wine.

2002-05-05  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winedos/int31.c, dlls/winedos/winedos.spec:
	Jukka Heinonen <jhei@iki.fi>
	DOSVM now exports DPMI Raw Mode Switch routine.

	* configure.ac, include/config.h.in, include/wine/port.h, configure:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Check for and use chsize instead of ftruncate if present.

	* files/dos_fs.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Ensure correct full path returned when GetFullPathName supplied a path
	relative from the root of the drive 'eg '\windows\system'.

	* configure, configure.ac, programs/Makefile.in,
	  programs/winepath/.cvsignore, programs/winepath/Makefile.in,
	  programs/winepath/winepath.c, programs/winepath/winepath.spec:
	Mike Wetherell <mike.wetherell@ntlworld.com>
	Utility to convert between Unix and Windows paths at the command
	line.

	* files/smb.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Implement NetBIOS resolution for UNC pathnames.

	* dlls/winedos/dosexe.h, dlls/winedos/dosvm.c, dlls/winedos/module.c:
	Jukka Heinonen <jhei@iki.fi>
	Terminating DOS program in real mode now calls ExitThread which is
	exactly what terminating in protected mode does.

	* dlls/winedos/int21.c:
	Jukka Heinonen <jhei@iki.fi>
	Real mode interrupt handler now handles interrupt 21 function 0C.

	* dlls/comctl32/comctl_Ja.rc, dlls/comctl32/rsrc.rc,
	  dlls/kernel/nls/jpn.nls, dlls/msacm/imaadp32/imaadp32.acm.spec,
	  dlls/msacm/imaadp32/imaadp32.c, dlls/msacm/msg711/msg711.c,
	  dlls/msacm/msg711/msg711.drv.spec, dlls/msrle32/msrle32.c,
	  dlls/msrle32/msrle32.spec, dlls/oleaut32/Makefile.in,
	  dlls/oleaut32/dispstd.c, dlls/oleaut32/disptype.c,
	  dlls/oleaut32/ole2disp.c, dlls/oleaut32/propertyframe.c,
	  dlls/oleaut32/stubs.c, dlls/shdocvw/Makefile.in, dlls/shdocvw/api.c,
	  dlls/shdocvw/browser.c, dlls/shdocvw/classinfo.c,
	  dlls/shdocvw/comimpl.c, dlls/shdocvw/comimpl.h,
	  dlls/shdocvw/connect.c, dlls/shdocvw/events.c,
	  dlls/shdocvw/factory.c, dlls/shdocvw/misc.c,
	  dlls/shdocvw/oleobject.c, dlls/shdocvw/persist.c,
	  dlls/shdocvw/shdocvw.c, dlls/shdocvw/shdocvw.h,
	  dlls/shdocvw/shdocvw.spec, dlls/shdocvw/shdocvw_main.c,
	  dlls/shdocvw/webbrowser.c, dlls/urlmon/Makefile.in,
	  dlls/urlmon/comimpl.c, dlls/urlmon/comimpl.h, dlls/urlmon/moniker.c,
	  dlls/urlmon/umon.c, dlls/urlmon/urlmon.spec,
	  dlls/urlmon/urlmon_main.c, dlls/winmm/winmm_Ja.rc,
	  dlls/winmm/winmm_res.rc, documentation/samples/system.ini,
	  include/Makefile.in, include/dsound.h, include/dvdmedia.h,
	  include/wine/obj_ksproperty.h, dlls/avicap32/avicap32.spec,
	  dlls/avicap32/avicap32_main.c:
	Removed more code at Hidenori's request.

2002-05-04  Alexandre Julliard  <julliard@winehq.com>

	* documentation/bugs.sgml, documentation/wine.man.in, BUGS, README:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Updated documentation, mostly improving bugs handling. Direct users to
	Bugzilla.

	* include/async.h, include/winnt.h, memory/selector.c,
	  scheduler/sysdeps.c, tools/winebuild/spec16.c:
	Patrik Stridvall <ps@leissner.se>
	MS C related changes.

	* graphics/x11drv/dib.c:
	David Hammerton <david@transgaming.com>
	In initial dibsection creation, the dibsection should always be in
	appmod because the app memory is initialized to zero if no
	offset/section is specified, while the DIBitmap is not.

	* tools/wineinstall:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Made wineinstall to create symbolic links to Wine applications in fake
	Windows folders. Replaced usage of obsolete regapi with regedit.

	* programs/regedit/regedit.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Fixed a problem when regedit interpreted file names, starting from '/'
	as switches.

	* programs/wcmd/builtins.c, programs/wcmd/wcmd.h,
	  programs/wcmd/wcmdmain.c, programs/wcmd/wcmdrc.rc:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Add support for the 'title' command.

	* files/dos_fs.c:
	Marcus Meissner <marcus@jet.franken.de>
	FindClose: protect the GlobalLock for pagefaults too.

	* tools/wrc/newstruc.c:
	Warren Baird <Warren_Baird@cimmetry.com>
	Solve alignment problems by converting bitmap headers *after* they
	have been copied into an aligned location, and then copying the
	converted header back over the original header.

	* dlls/x11drv/xrender.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Detect and warn about buggy versions of libXrender.

2002-05-02  Alexandre Julliard  <julliard@winehq.com>

	* include/color.h, objects/color.c, objects/palette.c,
	  windows/cursoricon.c, dlls/ttydrv/dc.c, dlls/ttydrv/palette.c,
	  dlls/ttydrv/ttydrv.h, graphics/x11drv/brush.c,
	  graphics/x11drv/palette.c:
	Cleaned up some inter-dll dependencies in palette management.

	* tools/wineinstall:
	Dustin Navea <speeddymon@yahoo.com>
	Changed bug report address.

	* dlls/comctl32/status.c:
	Bill Medland <medbi01@accpac.com>
	Moved drawing of owner-drawn parts to after the background and edge.
	Also added some indentation to the code.

	* dlls/comctl32/tooltips.c:
	Christian Costa <titan.costa@wanadoo.fr>
	TOOLTIPS_GetTipText: Accept null module instance, Loadstring can
	handle it.

	* Makefile.in, programs/Makefile.in:
	Install more of the Winelib programs by default (based on a patch by
	Andriy Palamarchuk).

	* programs/winhelp/Makefile.in:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Do not install hlp2sgml.

	* dlls/ttydrv/dc.c, dlls/ttydrv/ttydrv.h, dlls/ttydrv/ttydrv.spec,
	  dlls/wineps/bitblt.c, dlls/wineps/bitmap.c, dlls/wineps/clipping.c,
	  dlls/wineps/font.c, dlls/wineps/graphics.c, dlls/wineps/pen.c,
	  dlls/wineps/psdrv.h, dlls/wineps/text.c, dlls/wineps/wineps.spec,
	  dlls/x11drv/x11drv.spec, graphics/x11drv/clipping.c, include/gdi.h,
	  include/x11drv.h, objects/clipping.c:
	Removed some direct accesses to the DC structure.

	* include/dshow.h: Commented out removed headers.

	* dlls/avifil32/Makefile.in, dlls/avifil32/api.c,
	  dlls/avifil32/avifil32.spec, dlls/avifil32/avifile.c,
	  dlls/avifil32/avifile_private.h, dlls/avifil32/comentry.c,
	  dlls/avifil32/iafile.c, dlls/avifil32/iastream.c,
	  dlls/avifil32/igframe.c, dlls/avifil32/main.c,
	  dlls/avifil32/string.c, dlls/imm32/imm.c, dlls/imm32/imm32.spec,
	  dlls/imm32/immddk.h, dlls/quartz/Makefile.in, dlls/quartz/README,
	  dlls/quartz/acmwrap.c, dlls/quartz/amundoc.c, dlls/quartz/asyncsrc.c,
	  dlls/quartz/asyncsrc.h, dlls/quartz/audioutl.c,
	  dlls/quartz/audioutl.h, dlls/quartz/audren.c, dlls/quartz/audren.h,
	  dlls/quartz/avidec.c, dlls/quartz/aviparse.c, dlls/quartz/basefilt.c,
	  dlls/quartz/basefilt.h, dlls/quartz/basepin.c,
	  dlls/quartz/capgraph.c, dlls/quartz/capgraph.h,
	  dlls/quartz/complist.c, dlls/quartz/complist.h, dlls/quartz/csconv.c,
	  dlls/quartz/devenum.c, dlls/quartz/devenum.h, dlls/quartz/enumunk.c,
	  dlls/quartz/enumunk.h, dlls/quartz/fgevent.c, dlls/quartz/fgpass.c,
	  dlls/quartz/fgraph.c, dlls/quartz/fgraph.h, dlls/quartz/filesink.c,
	  dlls/quartz/filesink.h, dlls/quartz/fmap.c, dlls/quartz/fmap.h,
	  dlls/quartz/ifgraph.c, dlls/quartz/ijgdec.c, dlls/quartz/ijgdec.h,
	  dlls/quartz/imcntl.c, dlls/quartz/imfilter.c, dlls/quartz/impos.c,
	  dlls/quartz/imseek.c, dlls/quartz/iunk.c, dlls/quartz/iunk.h,
	  dlls/quartz/main.c, dlls/quartz/memalloc.c, dlls/quartz/memalloc.h,
	  dlls/quartz/midparse.c, dlls/quartz/mjpgdec.c, dlls/quartz/mpadec.c,
	  dlls/quartz/mpgparse.c, dlls/quartz/mpvdec.c, dlls/quartz/mtype.c,
	  dlls/quartz/mtype.h, dlls/quartz/parser.c, dlls/quartz/parser.h,
	  dlls/quartz/qtdec.c, dlls/quartz/qtparse.c, dlls/quartz/quartz.spec,
	  dlls/quartz/quartz_private.h, dlls/quartz/regsvr.c,
	  dlls/quartz/regsvr.h, dlls/quartz/sample.c, dlls/quartz/sample.h,
	  dlls/quartz/seekpass.c, dlls/quartz/seekpass.h,
	  dlls/quartz/sysclock.c, dlls/quartz/sysclock.h,
	  dlls/quartz/videoblt.c, dlls/quartz/videoblt.h, dlls/quartz/vidren.c,
	  dlls/quartz/vidren.h, dlls/quartz/wavparse.c, dlls/quartz/xform.c,
	  dlls/quartz/xform.h, include/Makefile.in, include/amaudio.h,
	  include/amvideo.h, include/control.h, include/errors.h,
	  include/evcode.h, include/strmif.h, ole/uuid.c, dlls/Makefile.in,
	  winedefault.reg:
	Removed a bunch of multimedia code at Hidenori's request.

	* include/uuids.h, include/vfwmsgs.h, include/winresrc.h:
	Rewrote some headers from scratch to avoid EULA/patent concerns.

2002-05-01  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/cdrom.c, files/drive.c, include/config.h.in, configure,
	  configure.ac:
	Rizsanyi Zsolt <rizsanyi@myrealbox.com>
	Implemented IOCTL_SCSI_GET_ADDRESS for non true scsi cdrom drives
	(only on linux).
	Initialize registry under HKEY_LOCAL_MACHINE/HARDWARE/DEVICEMAP/Scsi.
	Added IOCTL_CDROM_MEDIA_REMOVAL support.

	* dlls/ntdll/nt.c:
	Laurent Pinchart <laurent.pinchart@skynet.be>
	Fixed NtQueryInformationProcess to return correct information and
	error code for ProcessDebugPort when no debugger is attached.

	* configure, configure.ac, dlls/ntdll/cdrom.c, include/config.h.in,
	  include/ntddscsi.h:
	Laurent Pinchart <laurent.pinchart@skynet.be>
	Implementation of IOCTL_SCSI_PASS_THROUGH and
	IOCTL_SCSI_PASS_THROUGH_DIRECT.

	* include/windef.h, debugger/hash.c, debugger/msc.c, debugger/source.c,
	  debugger/stabs.c, dlls/msvcrt/dir.c, dlls/oleaut32/typelib.c:
	Attempt at fixing MAX_PATH issues for mingw.

	* tools/wineshelllink:
	Michael Cardenas <michael.cardenas@lindows.com>
	Fixed quoting of KDE desktop entry.

	* dlls/dsound/dsound_main.c, include/dsound.h:
	Johan Gill <johane@lysator.liu.se>
	DirectSoundEnumerateA() now passes a GUID to the callback if the first
	call returned TRUE.

	* win32/editline.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Correct behaviour of DEL key back to deleting the current character.

	* dlls/winedos/module.c:
	Jukka Heinonen <jhei@iki.fi>
	When DOS program executes another DOS program, command line is now
	passed correctly. If DOS command line is too long, command line is now
	truncated instead of letting it trash memory.

2002-04-30  Alexandre Julliard  <julliard@winehq.com>

	* win32/editline.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	- Added f8 (history retrieval from partial command) support
	- Delete key deletes current character
	- Ctrl + end deletes to end of line
	- Ctrl + right stopped before the word itself

	* configure, configure.ac, dlls/x11drv/.cvsignore,
	  dlls/x11drv/Makefile.in, dlls/x11drv/clipboard.c,
	  dlls/x11drv/event.c, dlls/x11drv/keyboard.c,
	  dlls/x11drv/wineclipsrv.c, documentation/configuring.sgml,
	  documentation/packaging.sgml:
	Moved remaining files in windows/x11drv to dlls/x11drv.

2002-04-29  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac, programs/Makefile.in,
	  programs/regsvr32/.cvsignore, programs/regsvr32/Makefile.in,
	  programs/regsvr32/regsvr32.c, programs/regsvr32/regsvr32.spec:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Implemented regsvr32 tool. Based on ReactOS implementation.

	* programs/wcmd/builtins.c, programs/wcmd/directory.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	- Support for dir /w and /b flags
	- Fixed a couple of unclosed FindFirst/FindNext pairs

	* dlls/imm32/imm_private.h, dlls/imm32/immddk.h, dlls/imm32/main.c,
	  dlls/imm32/memory.c, dlls/imm32/string.c, dlls/imm32/Makefile.in,
	  dlls/imm32/imc.c, dlls/imm32/imekl.c, dlls/imm32/imewnd.c,
	  dlls/imm32/imm.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Removed some code because of MS EULA concerns.
	Rewrote stubs.

	* dlls/comctl32/toolbar.c:
	Marco Bizzarri <m.bizzarri@icube.it>
	Implemented the TB_REPLACEBITMAP message.

	* scheduler/process.c:
	Don't prepend '--' to the command line when starting a Windows binary.

	* tools/wineshelllink:
	Dustin Navea <speeddymon@yahoo.com>
	Write menu information to /usr/lib/menu/wine.
	Try to autodetect KDE version using kde-config.

	* dlls/advapi32/crypt.c, dlls/comctl32/imagelist.c,
	  dlls/commdlg/filedlg95.c, dlls/crypt32/crypt32.spec,
	  dlls/gdi/printdrv.c, dlls/msvcrt/file.c, dlls/richedit/richedit.c,
	  dlls/shell32/shpolicy.c, dlls/wininet/http.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi/winapi_check_options.pm, tools/winapi_check/modules.dat,
	  tools/winapi_check/win32/comctl32.api,
	  tools/winapi_check/win32/crypt32.api,
	  tools/winapi_check/win32/gdi32.api,
	  tools/winapi_check/win32/msisys.api,
	  tools/winapi_check/win32/urlmon.api,
	  tools/winapi_check/win32/ws2_32.api, tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_options.pm,
	  tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- API files update.
	- Fixed parser to handle C/C++ comments in strings.
	- Report if C++ comments are used.

	* configure, configure.ac, dlls/Makefile.in, dlls/snmpapi/.cvsignore,
	  dlls/snmpapi/Makefile.in, dlls/snmpapi/main.c,
	  dlls/snmpapi/snmpapi.spec:
	Patrik Stridvall <ps@leissner.se>
	Stub implementation of SNMPAPI.DLL.

	* include/winnt.h, scheduler/sysdeps.c:
	Patrik Stridvall <ps@leissner.se>
	Microsoft C related changes.

	* dlls/quartz/README, dlls/quartz/asyncsrc.c, dlls/quartz/asyncsrc.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Reimplemented the asynchronous source filter.

	* dlls/kernel/Makefile.in, dlls/kernel/tests/.cvsignore,
	  dlls/kernel/tests/file.c:
	Jakob Eriksson <jakob@vmlinux.org>
	Added unit tests for file functions.

	* programs/wcmd/builtins.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	Emulate the dos cmd 'cls'.

	* dlls/winedos/xms.c: Jukka Heinonen <jhei@iki.fi>
	When freeing XMS memory block, return an error if block has not been
	previously allocated.

	* dlls/twain/dsm_ctrl.c:
	Marcus Meissner <marcus@jet.franken.de>
	Make twain compile again.

	* dlls/comctl32/status.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed StatusBar SetText again, added some comments.

2002-04-27  Alexandre Julliard  <julliard@winehq.com>

	* tools/Makefile.in, tools/winebuild/Makefile.in,
	  tools/winedump/Makefile.in, tools/wmc/Makefile.in,
	  tools/wrc/Makefile.in, Makefile.in, configure, configure.ac,
	  server/Makefile.in:
	Link the tools and the server against libwine so we can use the
	portability functions in there.

	* debugger/dbg.y, dlls/comctl32/ipaddress.c, dlls/quartz/ijgdec.c,
	  dlls/twain/ds_ctrl.c, dlls/twain/twain.h:
	Fixed warnings.

	* include/msvcrt/sys/stat.h: FreeBSD compile fix.

	* dlls/winsock/Makefile.in, dlls/winsock/tests/.cvsignore,
	  dlls/winsock/tests/sock.c, dlls/winsock/tests/ws2_32_test.spec:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Added unit test for winsock.

	* server/sock.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Fixes to FD_CLOSE handling.

	* dlls/winsock/socket.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	SO_OPENTYPE has to be a per-thread setting.

	* programs/winetest/include/advapi32.pm,
	  programs/winetest/include/avicap32.pm,
	  programs/winetest/include/gdi32.pm,
	  programs/winetest/include/imm32.pm,
	  programs/winetest/include/kernel32.pm,
	  programs/winetest/include/msimg32.pm,
	  programs/winetest/include/msisys_ocx.pm,
	  programs/winetest/include/ole32.pm,
	  programs/winetest/include/oleaut32.pm,
	  programs/winetest/include/rpcrt4.pm,
	  programs/winetest/include/setupapi.pm,
	  programs/winetest/include/setupapi_h.pm,
	  programs/winetest/include/shdocvw.pm,
	  programs/winetest/include/shell32.pm,
	  programs/winetest/include/shlwapi.pm,
	  programs/winetest/include/urlmon.pm,
	  programs/winetest/include/winearts_drv.pm,
	  programs/winetest/include/wingdi.pm,
	  programs/winetest/include/wininet.pm,
	  programs/winetest/include/winnt.pm,
	  programs/winetest/include/winspool_drv.pm,
	  programs/winetest/include/winuser.pm,
	  programs/winetest/include/ws2_32.pm:
	Updated module definitions for Perl unit tests.

	* programs/winetest/make_symbols:
	Added possibility of specifying a name for the .pm file that can be
	different from the header name.

	* dlls/oleaut32/dispstd.c, dlls/oleaut32/disptype.c,
	  dlls/shdocvw/api.c, dlls/shdocvw/comimpl.c,
	  dlls/shdocvw/shdocvw.spec, dlls/urlmon/comimpl.c,
	  dlls/urlmon/urlmon.spec:
	Added some shdocvw ordinals and stubs.
	Fixed a few winapi_check issues.

	* tools/wineinstall:
	Dustin Navea <speeddymon@yahoo.com>
	Always run ldconfig even if we don't change ld.so.conf.

	* dlls/user/text.c:
	Robert O'Callahan <robert@ocallahan.org>
	Fixed bug in TEXT_WordBreak that was variously throwing Lotus Notes
	into an infinite loop or causing it to crash.

2002-04-26  Alexandre Julliard  <julliard@winehq.com>

	* server/debugger.c, server/event.c, server/handle.c, server/mapping.c,
	  server/mutex.c, server/named_pipe.c, server/object.c,
	  server/process.c, server/queue.c, server/registry.c,
	  server/semaphore.c, server/snapshot.c, server/thread.c,
	  server/timer.c, server/trace.c, server/unicode.c, server/window.c,
	  tools/makedep.c, tools/winedump/misc.c, tools/winedump/msmangle.c,
	  tools/winedump/output.c, tools/winedump/pe.c,
	  tools/winedump/search.c, tools/winedump/symbol.c, tools/wmc/utils.c,
	  tools/wrc/readres.c, tools/wrc/utils.c, win32/console.c,
	  win32/editline.c, windows/win.c, dlls/urlmon/comimpl.c,
	  dlls/user/dde/misc.c, dlls/user/message.c, dlls/user/text.c,
	  dlls/winedos/module.c, dlls/wininet/ftp.c, graphics/x11drv/xfont.c,
	  include/config.h.in, include/wine/library.h, include/wine/port.h,
	  library/port.c, misc/registry.c, objects/enhmetafile.c,
	  ole/ole2nls.c, programs/regedit/regproc.c,
	  programs/wineconsole/wineconsole.c, scheduler/process.c,
	  scheduler/pthread.c, server/atom.c, server/console.c, configure.ac,
	  debugger/ext_debugger.c, debugger/memory.c, dlls/advapi32/advapi.c,
	  dlls/ddraw/ddraw/main.c, dlls/ddraw/helper.c,
	  dlls/dsound/dsound_main.c, dlls/msvcrt/data.c, dlls/msvcrt/dir.c,
	  dlls/msvcrt/file.c, dlls/msvcrt/locale.c, dlls/ntdll/reg.c,
	  dlls/odbc32/proxyodbc.c, dlls/quartz/iunk.c, dlls/setupapi/parser.c,
	  dlls/shdocvw/comimpl.c, configure:
	Better support for configure detection of missing types, added check
	for ssize_t.
	Removed a couple of no longer used portability functions.
	Various portability fixes in port.h.

	* windows/message.c:
	Update the queue key state even if no window has the focus (spotted by
	Rizsanyi Zsolt).

	* dlls/winsock/socket.c, files/file.c, server/file.c, server/serial.c,
	  server/sock.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Fixed some bugs in my recently submitted patch series.

2002-04-25  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/tests/path.c:
	Paul Millar <paulm@astro.gla.ac.uk>
	Fixed minor typo.

	* include/mmsystem.h:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Fix for mingw32.

	* documentation/running.sgml, documentation/wine.man.in:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Updated lists of debugging channels.

	* dlls/kernel/comm.c:
	Mike McCormack <mikem@codeweavers.com>
	Added support for TransmitCommChar.

	* files/file.c, include/wine/server_protocol.h, server/protocol.def,
	  server/sock.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Fixed ReadFile() semantics when reading asynchronously on sockets.
	Provide more accurate status codes than STATUS_UNSUCCESSFUL.

	* tools/winebuild/build.h, tools/winebuild/import.c,
	  tools/winebuild/main.c, tools/winebuild/parser.c,
	  tools/winebuild/relay.c, tools/winebuild/res16.c,
	  tools/winebuild/res32.c, tools/winebuild/spec16.c,
	  tools/winebuild/spec32.c, tools/winebuild/utils.c, windows/winproc.c,
	  dlls/msvcrt/except.c, dlls/ntdll/critsection.c,
	  dlls/ntdll/debugtools.c, dlls/ntdll/exception.c,
	  dlls/ntdll/signal_i386.c, dlls/winedos/int31.c, include/wine/port.h,
	  include/winnt.h, library/port.c, memory/selector.c,
	  relay32/relay386.c, relay32/snoop.c, scheduler/critsection.c:
	Moved __ASM_GLOBAL_FUNC macros and interlocked functions to port.[ch]

	* dlls/winsock/socket.c, dlls/winsock/ws2_32.spec, files/file.c,
	  include/winbase.h:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Implemented overlapped WSARecvFrom(), WSASendTo(), and
	WSAGetOverlappedResult().
	Fixed shutdown() to work correctly for overlapped sockets (do not
	actually do a shutdown() system call as long as there are pending
	overlapped requests).
	Also added correct error reporting when trying to read or write on a
	shut down connection, also for ReadFile()/WriteFile() calls.

	* include/wine/server_protocol.h, server/protocol.def, server/sock.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Implemented server framework for asynchronous IO on sockets.

2002-04-24  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/winpos.c:
	Never activate the window on SW_SHOWNOACTIVATE.

	* configure, configure.ac, include/config.h.in:
	No longer try to support non-reentrant Xlib.

	* dlls/x11drv/winpos.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Don't check hwndInsertAfter if SWP_NOZORDER is set.

	* dlls/x11drv/x11drv_main.c, graphics/x11drv/dib.c, include/x11drv.h:
	Added support for installing an error callback when expecting an X11
	error.

	* server/async.c, server/file.c, server/object.h, server/serial.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Add more flexibility to the queue_async server call by moving most
	functionality into the object's queue_async method.

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Improve I_IMAGECALLBACK handling and support I_IMAGENONE.
	- Implement TBN_HOTITEMCHANGE in the mouse move routine.

	* dlls/kernel/comm.c:
	Marcelo Welter <marcelo@sysmo.com.br>
	Fix to old DCB format parsing.

	* dlls/user/tests/.cvsignore, dlls/user/tests/wsprintf.c,
	  dlls/user/Makefile.in:
	Bill Medland <medbi01@accpac.com>
	First regression test for wsprintf.

2002-04-23  Alexandre Julliard  <julliard@winehq.com>

	* configure.ac, dlls/x11drv/xrender.c, include/config.h.in,
	  include/ts_xrender.h, tools/make_X11wrappers, tsx11/Makefile.in,
	  tsx11/X11_calls, tsx11/ts_xrender.c, configure:
	Load libXrender at run-time with dlopen (based on a patch by Huw
	Davies).

	* include/wine/server_protocol.h, server/protocol.def,
	  server/request.h, server/sock.c, server/trace.c,
	  dlls/winsock/socket.c, dlls/winsock/ws2_32.spec:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Fixed handling of deferred connections in WSAAccept().

	* unicode/c_950.c, unicode/casemap.c, unicode/compose.c,
	  unicode/cpmap.pl, unicode/cptable.c, unicode/wctype.c,
	  unicode/Makefile.in, unicode/c_037.c, unicode/c_042.c,
	  unicode/c_10000.c, unicode/c_10006.c, unicode/c_10007.c,
	  unicode/c_10029.c, unicode/c_1006.c, unicode/c_10079.c,
	  unicode/c_10081.c, unicode/c_1026.c, unicode/c_1250.c,
	  unicode/c_1251.c, unicode/c_1252.c, unicode/c_1253.c,
	  unicode/c_1254.c, unicode/c_1255.c, unicode/c_1256.c,
	  unicode/c_1257.c, unicode/c_1258.c, unicode/c_20866.c,
	  unicode/c_28591.c, unicode/c_28592.c, unicode/c_28593.c,
	  unicode/c_28594.c, unicode/c_28595.c, unicode/c_28596.c,
	  unicode/c_28597.c, unicode/c_28598.c, unicode/c_28599.c,
	  unicode/c_28600.c, unicode/c_28603.c, unicode/c_28604.c,
	  unicode/c_28605.c, unicode/c_28606.c, unicode/c_424.c,
	  unicode/c_437.c, unicode/c_500.c, unicode/c_737.c, unicode/c_775.c,
	  unicode/c_850.c, unicode/c_852.c, unicode/c_855.c, unicode/c_856.c,
	  unicode/c_857.c, unicode/c_860.c, unicode/c_861.c, unicode/c_862.c,
	  unicode/c_863.c, unicode/c_864.c, unicode/c_865.c, unicode/c_866.c,
	  unicode/c_869.c, unicode/c_874.c, unicode/c_875.c, unicode/c_878.c,
	  unicode/c_932.c, unicode/c_936.c, unicode/c_949.c:
	Updated for Unicode 3.2.
	Added ISO8859-16 codepage.

	* tools/wineconf:
	Dustin Navea <speeddymon@yahoo.com>
	Find ntfs drives and supermount cd-roms.
	Fix finding non-supermount cd-roms mounted at /cdrom.

	* tools/wineinstall:
	Dustin Navea <speeddymon@yahoo.com>
	Search for real-windows registry now actually accesses a file.
	Find clean-install win2k registry.
	Find correct partition of real Drive C (most of the time).

	* files/file.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Avoid segfault with overlapped WriteFile() calls.

	* dlls/comctl32/comboex.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Fix WM_NOTIFYFORMAT handling.

	* dlls/comctl32/status.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	- implement WM_NOTIFYFORMAT
	- fix grip painting
	- make use of DrawStatusText to paint control

2002-04-22  Alexandre Julliard  <julliard@winehq.com>

	* controls/edit.c, dlls/richedit/richedit.c, include/richedit.h:
	Chuck Crayne <ccrayne@crayne.org>
	- Recognize "\n" as an alternative soft line break in function
	  EDIT_BuildLineDefs_ML of edit.c.
	- Major restructuring of richedit.c to provide bug fixes, enhanced
	  function, and improved debug support.

	* windows/dce.c:
	Clear the DC dirty flag before calling SetDCState to avoid spurious
	vis region updates.

	* tools/wineinstall: Fixed typo in su command.

	* dlls/dsound/dsound_main.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	A bit more robust against wave???Open failures.

	* dlls/winmm/wineoss/audio.c, dlls/winmm/wineoss/midi.c,
	  dlls/winmm/wineoss/oss.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed multi-thread access to local variables (mainly fd for
	/dev/dsp).
	God rid of obsolete macro.
	Fixed some slight init issues.

	* dlls/winmm/lolvldrv.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed a mismatch in wavein 16/32 mapping.
	Relaxed some tests about buffer lengths.

	* files/drive.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Always close fd when reading super block.

	* include/winsock.h:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Fixed cut&paste bug.

	* dlls/kernel/comm.c:
	Removed constants that aren't defined in Windows.

2002-04-21  Alexandre Julliard  <julliard@winehq.com>

	* objects/dc.c:
	Fixed handling of visible region in Save/RestoreDC.

	* msdos/int13.c, win32/device.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Moved int13 support to the VWIN32_DIOC_DOS_INT13 ioctl.
	Added support for the floppy parameter table.

	* dlls/kernel/tests/.cvsignore, dlls/kernel/tests/process.c,
	  dlls/kernel/Makefile.in:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added a framework for testing CreateProcess and a few tests.

	* tools/wineinstall:
	Tony Lambregts <tony_lambregts@telusplanet.net>
	Correctly detect the presence of a wine binary.

	* dlls/kernel/comm.c: <wine@gc2.kloepfer.org>
	Faster serial speed cases for non Linux systems.

	* dlls/user/Makefile.in, dlls/user/tests/.cvsignore,
	  dlls/user/tests/class.c, dlls/user/tests/user32_test.spec:
	Mike McCormack <mikem@codeweavers.com>
	Added a simple test set for window classes.

	* dlls/shell32/shlfolder.c:
	Bill Medland <medbi01@accpac.com>
	The extension should not be removed from the display of folder names.

2002-04-20  Alexandre Julliard  <julliard@winehq.com>

	* server/mapping.c:
	Clear mapping->shared_file on error.

	* configure, configure.ac:
	Bill Medland <Bill.Medland@accpac.com>
	Get the ldconfig check to work for bash shells.

	* dlls/oleaut32/stubs.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented OleIconToCursor.

	* programs/wcmd/builtins.c:
	Jason Edmeades <us@the-edmeades.demon.co.uk>
	- Fixed move and copy when no destination supplied (assumes '.' now as
	  per windows)
	- Fixed move so uses full path name for destination file, and if
	  destination is a directory, uses original filename.

	* dlls/user/wsprintf.c:
	Bill Medland <Bill.Medland@accpac.com>
	Correct handling of zero-padded negative numbers; transfer the sign
	BEFORE adding the zeroes.

	* tools/wineinstall:
	Bill Medland <Bill.Medland@accpac.com>
	Handle when ldconfig is not on the path, and do not run it until after
	the libdir has been populated.

	* tools/winecheck:
	Bill Medland <Bill.Medland@accpac.com>
	Prevent error message if LD_LIBRARY_PATH is not being used.
	Comment out the DEBUG message.

	* dlls/shell32/brsfolder.c:
	Bill Medland <Bill.Medland@accpac.com>
	Get the folder browser to work as well with W notification as A (it
	seems to work reasonably).

	* dlls/winedos/int10.c:
	Christian Costa <titan.costa@wanadoo.fr>
	GET FUNCTIONALITY/STATE INFORMATION: The input parameter ES:DI is a
	buffer where bios information (all the VIDEOSTATE struct) must be
	copied to.

	* include/wine/test.h, programs/winetest/wtmain.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Now C tests are able to access argc/argv as passed to the program.

2002-04-19  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winedos/vga.c:
	Christian Costa <titan.costa@wanadoo.fr>
	VGA_ioport_in: Fake the occurrence of the vertical refresh when no
	graphic mode has been set.

	* dlls/quartz/Makefile.in, dlls/quartz/aviparse.c,
	  dlls/quartz/ijgdec.c, dlls/quartz/ijgdec.h, dlls/quartz/mjpgdec.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented MJPG handler.

	* dlls/advapi32/advapi.c, dlls/advapi32/advapi32.spec,
	  dlls/advapi32/security.c:
	Leo van den Berg <leo@connectux.com>
	Added stubs for AbortSystemShutdown[AW] and PrivilegeCheck.

	* dlls/commdlg/filedlg95.c:
	Mehmet Yasar <myasar@free.fr>
	Now, we are really erasing WS_CAPTION style.

	* programs/winetest/include/wine.pm, programs/winetest/runtest,
	  programs/winetest/wtmain.c:
	Paul Millar <paulm@astro.gla.ac.uk>
	Added option for announcement of successful test results.

2002-04-17  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makefile.in, dlls/gdi/gdi32.spec, dlls/wineps/Makefile.in,
	  Makefile.in:
	Export a few more 16-bit GDI functions. Finished wineps separation.

	* dlls/winedos/int10.c:
	Christian Costa <titan.costa@wanadoo.fr>
	Implement SET INDIVIDUAL DAC REGISTER and SET BLOCK OF DAC REGISTERS.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Put the MCN_ and DTN_ in correct order.

	* dlls/comctl32/status.c:
	Mehmet Yasar <myasar@free.fr>
	Add more check inside SB_SETTEXT and SB_GETTEXT.

	* dlls/comctl32/commctrl.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Complete implementation for DrawStatusText{A,W}.

	* dlls/winsock/socket.c:
	Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	_get_sock_fd_type: New function, retrieve fd type and flags like
	FILE_GetUnixHandleType().
	WSASendTo/WSARecvFrom: Use  _get_sock_fd_type().

	* files/file.c:
	Martin Wilck <Martin.Wilck@Fujitsu-Siemens.com>
	GetOverlappedResult: Return ERROR_IO_INCOMPLETE if IO still pending.
	ReadFile / WriteFile: Use GetOverlappedResult() to check for immediate
	completion.

2002-04-15  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/process.c:
	Fixed stupid typo in previous patch.

2002-04-14  Alexandre Julliard  <julliard@winehq.com>

	* dlls/wineps/psdrv.h, dlls/wineps/wineps.spec,
	  dlls/x11drv/x11drv.spec, graphics/x11drv/xfont.c, include/gdi.h,
	  include/x11drv.h, objects/font.c, dlls/gdi/win16drv/font.c,
	  dlls/gdi/win16drv/win16drv.h, dlls/wineps/font.c:
	Pass a PHYSDEV to EnumDeviceFont and release the GDI lock in
	FONT_EnumInstance instead.

	* misc/options.c, scheduler/process.c:
	Fixed inheriting command-line options from parent process.

	* dlls/kernel/comm.c, files/file.c, include/async.h:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	- Need a "cleanup" method.
	- calling the "call_completion" method unconditionally in finish_async
	  (introduced by me) was wrong, because the thread may never be in an
	  alertable wait state -> call it only if user completion function is present.
	- We need two constant "ops" objects, one with and one without call_completion
	  method (the event field may NOT be used to determine whether the completion
	  must be called or not).

	* server/async.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	STATUS_CANCELLED is correct for cancelled requests (corresponds to
	ERROR_OPERATION_ABORTED).

	* dlls/commdlg/filedlg95.c:
	Mehmet Yasar <myasar@free.fr>
	- Clear WS_CAPTION style.
	- Send now CDN_FILEOK before FILEOKSTRING.
	- Fix bug related to DWL_MSGRESUL (we were reading from wrong hwnd).

	* dlls/quartz/Makefile.in, dlls/quartz/README, dlls/quartz/acmwrap.c,
	  dlls/quartz/asyncsrc.c, dlls/quartz/audren.c, dlls/quartz/fmap.c,
	  dlls/quartz/ifgraph.c, dlls/quartz/iunk.c, dlls/quartz/main.c,
	  dlls/quartz/memalloc.c, dlls/quartz/midparse.c,
	  dlls/quartz/mjpgdec.c, dlls/quartz/mpadec.c, dlls/quartz/mpgparse.c,
	  dlls/quartz/mpvdec.c, dlls/quartz/parser.c, dlls/quartz/parser.h,
	  dlls/quartz/qtdec.c, dlls/quartz/qtparse.c, dlls/quartz/seekpass.c,
	  dlls/quartz/vidren.c, dlls/quartz/xform.c, dlls/quartz/xform.h,
	  winedefault.reg:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixed some bugs.
	Added stubs.
	Remove harmless FIXMEs.

	* tools/winemaker:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Fix winemaker-generated references to dlls that have changed their names.

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Implement NM_CUSTOMDRAW notification.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- When dumping NMCUSTOMDRAW, use correct size for a Toolbar.
	- Add notify names for controls: tooltips, updown, calendar, datetime,
	  ip, and status.

2002-04-11  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, VERSION, configure:
	Release 20020411.

----------------------------------------------------------------
2002-04-11  Alexandre Julliard  <julliard@winehq.com>

	* .cvsignore, Makefile.in:
	Clean autom4te.cache.

	* configure, configure.ac, programs/Makefile.in,
	  programs/regapi/regFixer.pl, programs/regapi/regRestorer.pl,
	  programs/regapi/tests/README, programs/regapi/tests/after.reg,
	  programs/regapi/tests/before.reg, programs/regapi/tests/orig.reg,
	  programs/regedit/.cvsignore, programs/regedit/Makefile.in,
	  programs/regedit/regedit.c, programs/regedit/regedit.spec,
	  programs/regedit/regproc.c, programs/regedit/regproc.h:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Created regedit replacement. Fixed some bugs.

	* programs/clock/ChangeLog, programs/notepad/ChangeLog,
	  programs/osversioncheck/ChangeLog, programs/progman/ChangeLog,
	  programs/regtest/ChangeLog, programs/wcmd/ChangeLog,
	  programs/winhelp/ChangeLog, programs/winver/ChangeLog:
	Removed changelog entries that are in the main changelog, and added
	notice to not edit the secondary changelogs anymore.

	* graphics/x11drv/opengl.c:
	Christoph Frick <frick@SC-Networks.de>
	Reuse visuals to avoid MAX_PIXELFORMATS limit.
	Activated the code to support the stencil buffer.

	* graphics/x11drv/xfont.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Use hard-coded font name bindings only with the ANSI_CHARSET (non-US
	charsets with no font name shouldn't be bound to US charset).

	* dlls/ole32/ole2stubs.c, dlls/oleaut32/ole2disp.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Return error codes in some 16bit ole stubs, returning success causes
	crashes.

	* include/config.h.in, misc/options.c, programs/clock/main.c,
	  programs/winver/winver.c, windows/nonclient.c, Makefile.in,
	  configure, configure.ac:
	Updated configure to take advantage of new autoconf 2.53 features.

	* dlls/winedos/Makefile.in, dlls/winedos/int10.c,
	  dlls/winedos/int21.c, dlls/winedos/int29.c, include/console.h:
	Removed obsolete console driver.

	* dlls/kernel/Makefile.in, dlls/kernel/tests/.cvsignore,
	  dlls/kernel/tests/path.c:
	Geoffrey Hausheer <i134rth8d9s@phracturedblue.com>
	Added test for GetFullPathNamesA, GetLongPathNamesA,
	GetShortPathNamesA, GetCurrentDirectoryA, SetCurrentDirectoryA.

	* dlls/shell32/iconcache.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	SIC_GetIconIndex: start DPA_Search from index 0.

	* unicode/wctomb.c:
	'used' should be set even if we are only computing the necessary
	buffer size.

	* dlls/crypt32/main.c, dlls/winsock/socket.c, files/file.c:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Compile fixes for gcc 2.7.2.3.

	* dlls/comctl32/comboex.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	- implement LPSTR_TEXTCALLBACK
	- fix many memory-management bugs
	- many Unicode fixes
	- fix indentation in a few places
	- bits of code cleanup

	* dlls/winedos/int10.c, dlls/winedos/vga.c, dlls/winedos/vga.h:
	Jukka Heinonen <jhei@iki.fi>
	Removed obsolete text mode color and attribute code.
	Made routines for text mode scolling, clearing and getting character
	at cursor use Windows console and VGA buffer.

	* dlls/commdlg/printdlg.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Implemented PrintDlgW and PageSetupDlgW.

	* server/window.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	get_window_children: only decrement available size if element was
	written.

	* dlls/comctl32/listview.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	LISTVIEW_GetColumnT: care for the format of the string.
	LISTVIEW_Create: send HDM_SETUNICODEFORMAT message.

	* dlls/msvideo/mciwnd.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	MCIWndCreateA: check for NULL filename.

	* controls/edit.c:
	Rizsanyi Zsolt <rizsanyi@myrealbox.com>
	Sending EN_UPDATE notification in the EDIT_WM_SetText - the comment
	already says, that the message is sent, but it is not...

2002-04-09  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/process.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Create new console only if the process is a console application.

	* windows/defwnd.c, windows/nonclient.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed problem with mouse cursors in Word.

	* controls/static.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Always erase background.

	* graphics/x11drv/bitblt.c:
	Huw D M Davies <hdavies@codeweavers.com>
	We don't handle STRETCH_HALFTONE mode yet; make this do the same as
	STRETCH_DELETESCANS for now.

2002-04-08  Alexandre Julliard  <julliard@winehq.com>

	* windows/win.c:
	Need to check for focus and capture also on the children of the window
	being disabled.

	* configure, configure.ac, dlls/Makefile.in, dlls/msisys/.cvsignore,
	  dlls/msisys/Makefile.in, dlls/msisys/msisys.c,
	  dlls/msisys/msisys.ocx.spec:
	Mike McCormack <mike_mccormack@start.com.au>
	Created a stubbed version of MSISYS.OCX.

	* windows/spy.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Some additional traces.

	* dlls/shell32/shelllink.c:
	Dusan Lacko <dlacko@codeweavers.com>
	If we can't extract the icon, defer link creation to runonce.

	* graphics/x11drv/opengl.c:
	Fixed compile when HAVE_OPENGL is not defined.

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added CS_PARENTDC style.

	* include/urlmon.h:
	François Gouget <fgouget@codeweavers.com>
	Added some error codes.

	* dlls/Makefile.in, dlls/urlmon/Makefile.in, dlls/urlmon/comimpl.c,
	  dlls/urlmon/comimpl.h, dlls/urlmon/moniker.c, dlls/urlmon/umon.c,
	  dlls/urlmon/urlmon.spec, dlls/urlmon/urlmon_main.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some stubs.

	* dlls/comctl32/status.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	- get rid of parent handle from info struct
	- store hwnd in info struct, do not pass it around
	- use unicode functions wherever possible
	- consistent indentation
	- bugs in Unicode handling fixed
	- fix handling of error conditions
	- fix initialization bugs, etc.
	- complete tooltip support
	- typesafety
	- update the FIXME list to the latest specs

	* include/x11drv.h, graphics/x11drv/opengl.c:
	Michael Karcher <michael.karcher@dpk.berlin.fido.de>
	Fixed OpenGL routines broken by the DC -> PHYSDEV change.

	* programs/winetest/make_cygwin_makefiles:
	Geoffrey Hausheer <i134rth8d9s@phracturedblue.com>
	Added comments explaing how to use cygwin/mingw/wine headers.
	Added 'clean' and 'distclean'
	Added new options -s and -i.
	Archives will now include the entire './include' directory instead of
	just './include/wine'.
	Renamed makefile from Makefile.cyg to Makefile.win.
	The makefile is now mingw compatible as well (although it's be better
	if we could detect the correct location of the windows.h headers).

	* dlls/comctl32/comboex.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	- fix indentation
	- handle all out-of-memory cases
	- better drawing code
	- fix CBES_EX_NOEDITIMAGE handling
	- implement CBES_EX_NOEDITIMAGEINDENT
	- implement I_{INDENT,IMAGE}CALLBACK
	- fix notification code for ANSI/Unicode
	- make use of iOverlay image

	* windows/x11drv/keyboard.c:
	Paul Rupe <prupe@nc.rr.com>
	Added keymap tables for US dvorak layout.

	* dlls/winsock/socket.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Also #include <sys/uio.h>.

	* documentation/samples/win.ini:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added a sample win.ini.

	* dlls/quartz/Makefile.in, dlls/quartz/main.c, dlls/quartz/mpadec.c,
	  dlls/quartz/mpvdec.c, dlls/quartz/xform.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some stubs.

	* dlls/winmm/winmm_Ja.rc, dlls/winmm/winmm_res.rc:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added resources for Japanese.

	* dlls/quartz/parser.c, dlls/quartz/parser.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixed crashing in stopping parser.

	* windows/sysparams.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Use default GUI font instead of hard-coded 'MS Sans Serif'.

	* dlls/winedos/int21.c:
	Jukka Heinonen <jhei@iki.fi>
	Converted "read standard input with echo" interrupt service to use
	common DOSVM console input routine and made the service really echo.

	* dlls/winedos/int10.c, dlls/winedos/vga.c, dlls/winedos/vga.h:
	Jukka Heinonen <jhei@iki.fi>
	Writes to stdout and VGA_WriteChars routine now update both VGA
	buffers and Windows console.
	Added routine for changing current console attributes.
	Moved text mode handling from VGA_Poll into new routine and changed
	locking primitive into critical section.

	* dlls/winmm/mciwave/mciwave.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixed an overflow in calculating times.

2002-04-06  Alexandre Julliard  <julliard@winehq.com>

	* winedefault.reg:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added registry entries required for IE installer.

	* windows/x11drv/clipboard.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Don't hang around for a minute if we can't exec the clipboard server.

	* windows/focus.c, windows/winpos.c:
	François Gouget <fgouget@codeweavers.com>
	Replace some SendMessage with SendNotifyMessage in case the target
	window belongs to another thread.

	* programs/uninstaller/main.c:
	Jeremy White <jwhite@codeweavers.com>
	Fixed exit status in some cases.

	* objects/text.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Spout a FIXME if we try to call ExtTextOut on an open path.

	* dlls/wineps/driver.c, dlls/wineps/init.c, dlls/wineps/ps.c,
	  dlls/wineps/psdrv.h, dlls/wineps/wineps.spec:
	Huw D M Davies <hdavies@codeweavers.com>
	Implement ResetDC and PHYSICALOFFSET[X|Y] devcaps.
	Fixes to MergeDevmodes.

	* dlls/wineps/init.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Changed default paper size to letter.

	* server/process.c:
	Avoid crash when trying to attach to a terminating process.

	* dlls/gdi/driver.c, dlls/gdi/enhmfdrv/init.c, dlls/gdi/mfdrv/init.c,
	  dlls/gdi/win16drv/init.c, include/gdi.h, objects/dc.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Added support for ResetDC.

2002-04-05  Alexandre Julliard  <julliard@winehq.com>

	* dlls/wineps/driver.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Make ExtDeviceMode dialog use unicode property sheet functions.

	* winedefault.reg:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	HKEY_LOCAL_USER should be HKEY_CURRENT_USER.

	* server/async.h, server/protocol.def, server/thread.c,
	  server/trace.c, dlls/kernel/comm.c, files/file.c, include/async.h,
	  include/file.h, include/wine/server_protocol.h, scheduler/synchro.c,
	  server/async.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	- separate cleanly between async scheduling and file IO related issues.
	- make the API compatible with other types of async requests (e.g. for
	  sockets).
	- remove exports of async IO related functions for DLL separation.

	* objects/font.c:
	Fixed GetTextExtentPointI driver usage.

	* dlls/winsock/socket.c, dlls/winsock/ws2_32.spec:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Make the recv() and send() family of functions use WSARecvFrom() and
	WSASendTo().

	* include/winnt.h:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Fixed mingw32 warning about stdcall and fastcall being redefined.

	* dlls/user/text.c:
	Stefan Leichter <Stefan.Leichter@camline.com>
	Check for NULL pointer in DrawTextExA.

	* dlls/comctl32/comboex.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	- fix edit box placement
	- reorganize drawing for proper handling of edit box
	- typesafety when processing messages
	- subclass edit to handle up/down arrows
	- more robust handling of failure cases
	- numerous bugs fixed
	- complete unicodification
	- more specific debug messages
	- remove cvs log info from file
	- consistent indentation

	* include/commctrl.h:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Add defines for the NMTBHOTITEM flag word.
	- Add defines for the NM_CUSTOMDRAW return flags for toolbar.

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Use the new comctl32 color array for the colors. Provides better
	  support for the TB_SETCOLORSCHEME.
	- Do some optimizations.
	- Correct computation of nHeight and PGN_CALCSIZE.
	- Implement the undocumented 045E message.

	* dlls/comctl32/comctl32.h, dlls/comctl32/commctrl.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Keep track of all system colors used by comctl32.dll.
	- Provide routine to support the WM_SYSCOLORCHANGE message.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Adjust the child offset x value based on band style RBBS_CHILDEDGE.

	* dlls/comctl32/pager.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Try to match the native control for the SetBkColor message.
	- Correct processing in NCCalcSize message processing.

2002-04-04  Alexandre Julliard  <julliard@winehq.com>

	* dlls/gdi/freetype.c:
	Fixed compile without freetype.

2002-04-03  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/shlfolder.c:
	Charles Loep <charles@codeweavers.com>
	Support for hiding file extensions in IShellFolder_GetDisplayNameOf.

	* dlls/shell32/pidl.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Check for failure of IShellFolder_GetDisplayNameOf.

	* server/main.c, server/object.h, server/process.c, server/request.c,
	  server/select.c:
	Added timer on server exit to wait a bit for new clients.
	Don't remove the socket until the registry is closed to avoid a race.

	* dlls/msvcrt20/msvcrt20.spec:
	Francois Gouget <fgouget@free.fr>
	Forward C++ functions to the msvcrt library.

	* dlls/gdi/mfdrv/text.c:
	Aric Stewart <aric@codeweavers.com>
	Use rect only if there are flags.

	* dlls/gdi/mfdrv/init.c, dlls/gdi/mfdrv/metafiledrv.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Added writing META_ESCAPE records.

	* objects/metafile.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Do not enumerate the META_EOF record.

	* dlls/gdi/freetype.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Removed old FF_ code.

	* dlls/comctl32/header.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix off by one error in HEADER_InsertItemW.

	* library/loader.c:
	Make dlopen_dll return an error immediately if the library exists but
	dlopen() fails.

	* graphics/x11drv/xfont.c:
	Huw D M Davies <hdavies@codeweavers.com>
	If lfFaceName == "", then we patch up the names according to
	lfPitchAndFamily.  This is not very pretty I'm afraid...

	* dlls/gdi/freetype.c, dlls/gdi/gdi32.spec, dlls/x11drv/xrender.c,
	  include/font.h, include/gdi.h, include/wingdi.h, objects/font.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Implement GetTextExtentPointI and add support for ETO_GLYPH_INDEX.

	* graphics/x11drv/init.c, graphics/x11drv/xfont.c, include/x11drv.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Don't calculate cached metrics or enumerate X11 fonts if we're using
	client side fonts.

	* objects/font.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Fixed font enumeration.

	* dlls/gdi/freetype.c, dlls/x11drv/xrender.c, include/font.h,
	  objects/gdiobj.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix a few font problems with rotated text and non MM_TEXT mapping
	modes. Do slightly better with the FF_ flags in WineEngGetTextMetrics.

	* dlls/gdi/freetype.c, winedefault.reg:
	Huw D M Davies <hdavies@codeweavers.com>
	Add font substitution lookup in the registry.  We look under the key
	HKLM\Software\Microsoft\Windows NT\CurrentVersion\FontSubstitutes for
	"fromName[,cp]"="toName[,cp]" where cp can be an optional codepage.
	Substitution occurs before scanning the available font list, as is the
	case with Windows.

	* dlls/gdi/freetype.c, dlls/gdi/gdi32.spec, include/font.h,
	  include/wingdi.h, objects/font.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Implement GetGlyphIndices. Tweak GetCharacterPlacement to use it.

	* configure, configure.ac, include/config.h.in:
	Better check for -lresolv. Removed FREETYPELIBS.

	* dlls/gdi/Makefile.in, dlls/gdi/freetype.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Load libfreetype.so on the fly with dlopen and friends.

	* windows/dialog.c:
	Huw D M Davies <hdavies@codeweavers.com>
	The horizontal dialog base unit is calculated as the straight average
	of a-z,A-Z (tmAveCharWidth is supposed to be a weighted average
	according to character usage, so we shouldn't use this).

	* dlls/winsock/socket.c, dlls/winsock/ws2_32.spec:
	Mike McCormack <mike_mccormack@start.com.au>
	Add stub for WSAEnumProtocols(A/W) functions.

	* dlls/wineps/Makefile.in, dlls/wineps/truetype.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Load libfreetype.so on the fly with dlopen and friends.

	* dlls/shell32/shellord.c:
	Aric Stewart <aric@codeweavers.com>
	Enable ShellExecuteEx to actually open things with their helper
	applications.

	* dlls/crypt32/crypt32.spec, dlls/crypt32/main.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Added some stubs.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/security.c,
	  include/winbase.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Added ImpersonateLoggedOnUser stub.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/ordinal.h, dlls/shlwapi/path.c:
	Avoid local WINAPI function pointers to work around gcc bug.

	* graphics/x11drv/bitmap.c, graphics/x11drv/brush.c,
	  graphics/x11drv/dib.c, graphics/x11drv/pen.c,
	  graphics/x11drv/xfont.c, dlls/setupapi/dirid.c,
	  dlls/setupapi/setupapi.spec, dlls/setupapi/stubs.c,
	  dlls/ttydrv/bitmap.c, dlls/ttydrv/objects.c, dlls/wineps/brush.c,
	  dlls/wineps/font.c, dlls/wineps/objects.c, dlls/wineps/pen.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/modules.dat, tools/winapi_check/modules.pm,
	  tools/winapi_check/win16/setupx.api,
	  tools/winapi_check/win32/imaadp32.api,
	  tools/winapi_check/win32/ntdll.api,
	  tools/winapi_check/win32/setupapi.api,
	  tools/winapi_check/win32/ttydrv.api,
	  tools/winapi_check/win32/wineps.api,
	  tools/winapi_check/win32/x11drv.api,
	  tools/winapi_check/winapi_check:
	Patrik Stridvall <ps@leissner.se>
	- Minor API file update.
	- Minor bug fixes.

	* dlls/winedos/dosexe.h, dlls/winedos/int10.c, dlls/winedos/int21.c,
	  dlls/winedos/int29.c:
	Jukka Heinonen <jhei@iki.fi>
	Redirect DOS writes to stdout/console to DOSVM_PutChar.

	* dlls/kernel/tests/thread.c:
	Geoffrey Hausheer <i134rth8d9s@phracturedblue.com>
	Cleaned up a bit, removed todos for OpenThread, avoid TerminateThread
	race.

2002-04-02  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dinput/device.c, dlls/icmp/icmp_main.c,
	  dlls/richedit/richedit.c, loader/module.c, loader/pe_image.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Spelling/error messages fixes.

	* debugger/stabs.c: More portable signature check.

	* memory/global.c, misc/cpu.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Add return traces to GlobalMemoryStatus, GetSystemInfo and fixme in
	GetSystemInfo.

	* scheduler/thread.c, dlls/kernel/Makefile.in,
	  dlls/kernel/kernel32.spec, dlls/kernel/tests/.cvsignore,
	  dlls/kernel/tests/thread.c, include/winbase.h, include/winnt.h:
	Geoffrey Hausheer <i134rth8d9s@phracturedblue.com>
	Added test for thread functions.

	* programs/winetest/make_cygwin_makefiles:
	Geoffrey Hausheer <i134rth8d9s@phracturedblue.com>
	Added perl script which will build a Makefile for running C tests on
	Windows through Cygwin/gcc.

	* dlls/winedos/dosvm.c:
	Jukka Heinonen <jhei@iki.fi>
	Compiles now even on platforms that do not support DOS VM.

	* dlls/ntdll/cdrom.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Use ENOMEDIUM errno code only when defined.

	* dlls/comctl32/ipaddress.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	- correct notifications
	- behaviour closer to native
	- better drawing
	- multiple bugs fixed
	- faster & cleaner code
	- consistent indentation

	* dlls/comctl32/propsheet.c, dlls/crypt32/main.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	Fix two compilation warnings.

	* include/ntddk.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	Declare swprintf.

	* graphics/bitblt.c, graphics/x11drv/bitblt.c:
	Fixed crash in BitBlt when source DC is NULL.

	* programs/winetest/Makefile.in, Make.rules.in, Makefile.in,
	  dlls/Makefile.in, dlls/make_dlls, dlls/oleaut32/Makefile.in:
	Various makefile fixes for the test environment.

	* dlls/setupapi/Makefile.in, dlls/setupapi/dirid.c,
	  dlls/setupapi/infparse.c, dlls/setupapi/install.c,
	  dlls/setupapi/parser.c, dlls/setupapi/queue.c,
	  dlls/setupapi/setupapi.spec, dlls/setupapi/setupapi_private.h,
	  dlls/setupapi/setupx.spec, dlls/setupapi/setupx_main.c,
	  dlls/setupapi/stubs.c, dlls/setupapi/virtcopy.c, include/setupapi.h,
	  include/winnt.h:
	Implemented a large number of the 32-bit setupapi functions.
	Fixed a number of setupx functions by making them call the setupapi
	equivalents.

	* server/thread.c:
	François Gouget <fgouget@codeweavers.com>
	Don't suspend a terminated thread.

	* windows/winproc.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix sign extension in message mapping routines.

	* server/debugger.c:
	Avoid crash when trying to attach to a terminating process.

	* relay32/snoop.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed handling of a dll being loaded at the same address as a previous
	one.

	* objects/dc.c: Avoid recursive DeleteDC calls.

	* files/dos_fs.c:
	Make GetFullPathName fail if input path name is empty.

	* dlls/version/info.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Always call LoadLibrary.
	Workaround a broken behaviour of the 16-bit loader.

	* dlls/ntdll/rtlstr.c:
	Fixed length handling in RtlUnicodeStringToAnsi/OemString.

	* dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.spec:
	François Gouget <fgouget@codeweavers.com>
	Implemented _mbsnbicmp.

	* dlls/advapi32/registry.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Make sure the security descriptor is initialized in RegGetKeySecurity.

	* debugger/stabs.c:
	Check ELF signature before processing file.

	* controls/menu.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Convert NULL menu items to separators.

	* dlls/kernel/kernel32.spec, include/winbase.h,
	  include/wine/server_protocol.h, scheduler/pthread.c,
	  scheduler/thread.c, server/protocol.def, server/request.h,
	  server/thread.c, server/trace.c:
	Chris Morgan <cmorgan@alum.wpi.edu>
	Implement OpenThread() winapi call.
	Implement a few pthreads functions.

	* dlls/msacm/imaadp32/imaadp32.c, dlls/msacm/msg711/msg711.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Made use of MSACM driver definitions.

	* dlls/user/tests/sysparams.c:
	François Gouget <fgouget@codeweavers.com>
	Include wine/test.h before windows headers.
	Add definitions for IDI_APPLICATIONA and IDC_ARROWA for Windows.
	Fix a check in the SPI_{GET,SET}BORDER test.
	Fix bad copy/paste in the SPI_{GET,SET}BORDER test.
	Use eq macro to print values when something goes wrong.

	* programs/winetest/wtmain.c:
	François Gouget <fgouget@codeweavers.com>
	Make the testing framework thread safe.

2002-04-01  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/cdrom.c, dlls/x11drv/xrender.c, library/port.c,
	  server/request.c:
	Francois Gouget <fgouget@codeweavers.com>
	Fix warnings for Linux, FreeBSD and Solaris.

	* tools/winebuild/build.h, tools/winebuild/relay.c:
	Got rid of #ifdef USE_STABS.

	* configure, configure.ac, include/config.h.in:
	Francois Gouget <fgouget@codeweavers.com>
	On Solaris inet_aton is exported by libresolv.so.

	* dlls/msvcrt/math.c:
	Francois Gouget <fgouget@codeweavers.com>
	Added missing FP_PNORM case.

	* loader/module.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Removed a couple of now obsolete FIXMEs.

	* debugger/break.c, debugger/dbg.y, debugger/debugger.h,
	  debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed some bugs in first chance exception handling.

	* dlls/winmm/wineoss/audio.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	More robust and less time consuming playback.

	* dlls/winmm/wavemap/wavemap.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed size of buffers in conversion.

	* win32/console.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed writing multiline block while wrapping enabled.
	Fixed startup information reading (console size).

	* debugger/msc.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed module mapping for debug info when PE section is compressed.

	* dlls/winsock/ws2_32.spec, dlls/wsock32/wsock32.spec,
	  include/winsock.h:
	Francois Gouget <fgouget@codeweavers.com>
	Fix for the unistd.h vs. winsock.h problem in Winelib applications.
	Refine the WS_DEFINE_HTONL definition.

	* dlls/kernel/tests/atom.pl:
	Francois Gouget <fgouget@codeweavers.com>
	Don't bother with declare, just 'use kernel32'.

	* dlls/kernel/tests/directory.c:
	Francois Gouget <fgouget@codeweavers.com>
	Windows headers must be included after wine/test.h.

	* dlls/quartz/README, dlls/quartz/acmwrap.c, dlls/quartz/basefilt.c,
	  dlls/quartz/fmap.c, dlls/quartz/main.c, dlls/quartz/mpgparse.c,
	  dlls/quartz/parser.c, dlls/quartz/xform.h, winedefault.reg:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixed some bugs.
	Implemented some methods of CLSID_ACMWrapper.

	* dlls/oleaut32/Makefile.in, dlls/oleaut32/dispstd.c,
	  dlls/oleaut32/disptype.c, dlls/oleaut32/ole2disp.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented CreateStdDispatch and CreateDispTypeInfo.

	* dlls/comctl32/updown.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	- implement UDS_HOTTRACK
	- implement NM_RELEASEDCAPTURE
	- implement UDM_[GS]ETUNICODEFORMAT
	- get rid of WM_NCCREATE processing
	- use InvalidateRect instead of a synch refresh
	- implement auto auto arrow press on key presses
	- more code cleanups
	- better drawing, closer to native

	* include/winuser.h:
	Dimitrie O. Paun <dpaun@rogers.com>
	Added the DFCS_{HOT,TRANSPARENT} definitions.

	* tools/wineinstall:
	Chris Morgan <cmorgan@alum.wpi.edu>
	Prevent the user from running wineinstall as root, add script commands
	so we 'su root' for installing and other commands that require root
	access.  Fix modification time comparison of wrong file.  Added
	missing sed line. Always 'make' before we run make install so no build
	files become owned by root.

	* dlls/winedos/dosvm.c:
	Jukka Heinonen <jhei@iki.fi>
	Routine DOSVM_Wait now wakes up if new events are queued and it
	returns if it processed any queued events.

2002-03-31  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.ac:
	More robust libsane check.

	* win32/console.c, scheduler/process.c:
	Hack to make wineconsole work again.

2002-03-29  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ttydrv/ttydrv.h:
	Fixed compile without curses.

	* include/wine/server.h, include/wine/server_protocol.h,
	  memory/environ.c, scheduler/process.c, server/process.c,
	  server/protocol.def, server/request.h, server/trace.c:
	Transfer the full process startup info as well as the command-line
	through the server.

	* misc/registry.c: Load classes.dat too.

	* memory/virtual.c:
	Make sure the import directory is not in shared memory.

	* dlls/kernel/kernel_main.c, files/file.c, include/file.h,
	  win32/Makefile.in, win32/file.c:
	Francois Gouget <fgouget@codeweavers.com>
	Fix SetFileAttributes to honor the umask (rather than making files
	world-writable).

	* tools/Makefile.in, tools/winelauncher.in:
	Fixed winelauncher for new dll files layout.

	* programs/winetest/wtmain.c:
	Use ExitProcess to terminate the application.

	* library/port.c, configure, configure.ac, include/config.h.in:
	Michal Pasternak <mpasternak@lublin.t1.pl>
	Fixed pack/unpack routines for WM_DDE_EXECUTE.

	* dlls/user/dde/misc.c:
	Fixed pack/unpack routines for WM_DDE_EXECUTE.

	* documentation/packaging.sgml:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Updated for new dll names.

	* dlls/ntdll/cdrom.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added mapping for errno ENOMEDIUM to STATUS_NO_MEDIA_IN_DEVICE.

2002-03-28  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ddraw/ddraw/main.c, dlls/ddraw/dsurface/dib.c:
	Removed call to DIB_GetDIBWidthBytes.

	* graphics/x11drv/bitblt.c, graphics/x11drv/bitmap.c,
	  graphics/x11drv/brush.c, graphics/x11drv/clipping.c,
	  graphics/x11drv/dib.c, graphics/x11drv/graphics.c,
	  graphics/x11drv/init.c, graphics/x11drv/objects.c,
	  graphics/x11drv/palette.c, graphics/x11drv/pen.c,
	  graphics/x11drv/text.c, graphics/x11drv/xfont.c, include/bitmap.h,
	  include/gdi.h, include/x11drv.h, objects/bitmap.c,
	  objects/clipping.c, objects/dc.c, objects/dcvalues.c, objects/dib.c,
	  objects/font.c, objects/gdiobj.c, objects/text.c,
	  dlls/gdi/mfdrv/bitblt.c, dlls/gdi/mfdrv/dc.c,
	  dlls/gdi/mfdrv/graphics.c, dlls/gdi/mfdrv/init.c,
	  dlls/gdi/mfdrv/mapping.c, dlls/gdi/mfdrv/metafiledrv.h,
	  dlls/gdi/mfdrv/objects.c, dlls/gdi/mfdrv/text.c,
	  dlls/gdi/win16drv/brush.c, dlls/gdi/win16drv/font.c,
	  dlls/gdi/win16drv/graphics.c, dlls/gdi/win16drv/init.c,
	  dlls/gdi/win16drv/objects.c, dlls/gdi/win16drv/pen.c,
	  dlls/gdi/win16drv/text.c, dlls/gdi/win16drv/win16drv.h,
	  dlls/ttydrv/bitmap.c, dlls/ttydrv/dc.c, dlls/ttydrv/graphics.c,
	  dlls/ttydrv/objects.c, dlls/ttydrv/ttydrv.h,
	  dlls/ttydrv/ttydrv.spec, dlls/ttydrv/user.c, dlls/wineps/bitblt.c,
	  dlls/wineps/bitmap.c, dlls/wineps/brush.c, dlls/wineps/clipping.c,
	  dlls/wineps/color.c, dlls/wineps/escape.c, dlls/wineps/font.c,
	  dlls/wineps/graphics.c, dlls/wineps/init.c, dlls/wineps/objects.c,
	  dlls/wineps/pen.c, dlls/wineps/ps.c, dlls/wineps/psdrv.h,
	  dlls/wineps/text.c, dlls/wineps/wineps.spec,
	  dlls/x11drv/x11drv.spec, dlls/x11drv/xrender.c,
	  dlls/x11drv/xvidmode.c, graphics/bitblt.c, graphics/escape.c,
	  graphics/mapping.c, graphics/painting.c, graphics/path.c,
	  dlls/gdi/Makefile.in, dlls/gdi/driver.c, dlls/gdi/enhmfdrv/dc.c,
	  dlls/gdi/enhmfdrv/enhmetafiledrv.h, dlls/gdi/enhmfdrv/graphics.c,
	  dlls/gdi/enhmfdrv/init.c, dlls/gdi/enhmfdrv/mapping.c,
	  dlls/gdi/enhmfdrv/objects.c, dlls/gdi/printdrv.c:
	Changed the GDI driver interface to pass an opaque PHYSDEV pointer
	instead of a DC structure.
	Removed some direct accesses to the DC structure from the drivers.
	Got rid the bitmap driver.

	* loader/loadorder.c:
	Don't strip out .exe extension.

	* include/winbase.h:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Added declaration of the DisconnectNamedPipe call.

	* dlls/x11drv/mouse.c:
	Marco Pietrobono <pietrobo@pietrobo.com>
	Added support for 16bit mouse cursor bitmaps in RGB 565 format.

	* dlls/comctl32/updown.c:
	Dimitrie O. Paun <dpaun@rogers.com>
	- updown unicodification
	- better/cleaner buddy handling
	- few bugs fixed
	- more testing
	- consistent indentation

	* controls/menu.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	MenuItemFromPoint: rough implementation.

	* programs/winetest/runtest:
	Need to set WINEDLLPATH too.

2002-03-27  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/tests/.cvsignore: Added alloc.ok.

	* programs/clock/ChangeLog, programs/clock/Da.rc,
	  programs/clock/De.rc, programs/clock/En.rc, programs/clock/Es.rc,
	  programs/clock/Fi.rc, programs/clock/Fr.rc, programs/clock/Pt.rc,
	  programs/clock/Sk.rc, programs/clock/Sw.rc, programs/clock/TODO,
	  programs/clock/Wa.rc, programs/clock/clock.rc,
	  programs/clock/clock_res.h, programs/clock/language.c,
	  programs/clock/language.h, programs/clock/main.c,
	  programs/clock/main.h, programs/clock/rsrc.rc:
	Sylvain Petreolle <spetreolle@yahoo.fr>
	Converted to use of NLS.

	* include/enhmetafiledrv.h, include/win16drv.h, configure,
	  configure.ac, dlls/gdi/Makefile.in, dlls/gdi/driver.c,
	  dlls/gdi/enhmfdrv/dc.c, dlls/gdi/enhmfdrv/enhmetafiledrv.h,
	  dlls/gdi/enhmfdrv/graphics.c, dlls/gdi/enhmfdrv/init.c,
	  dlls/gdi/enhmfdrv/mapping.c, dlls/gdi/enhmfdrv/objects.c,
	  dlls/gdi/gdi_main.c, dlls/gdi/mfdrv/bitblt.c, dlls/gdi/mfdrv/dc.c,
	  dlls/gdi/mfdrv/graphics.c, dlls/gdi/mfdrv/init.c,
	  dlls/gdi/mfdrv/mapping.c, dlls/gdi/mfdrv/metafiledrv.h,
	  dlls/gdi/mfdrv/objects.c, dlls/gdi/mfdrv/text.c,
	  dlls/gdi/win16drv/.cvsignore, dlls/gdi/win16drv/brush.c,
	  dlls/gdi/win16drv/font.c, dlls/gdi/win16drv/graphics.c,
	  dlls/gdi/win16drv/init.c, dlls/gdi/win16drv/objects.c,
	  dlls/gdi/win16drv/pen.c, dlls/gdi/win16drv/prtdrv.c,
	  dlls/gdi/win16drv/text.c, dlls/gdi/win16drv/win16drv.h:
	Moved metafiles and win16 drivers to dlls/gdi.

	* dlls/kernel/Makefile.in, dlls/kernel/tests/alloc.c:
	Geoffrey Hausheer <i134rth8d9s@phracturedblue.com>
	Added memory allocation test.

	* dlls/msvcrt/file.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	fwrite: fixed handling of already buffered data.

2002-03-26  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makedll.rules.in, dlls/Makefile.in, dlls/gdi/.cvsignore,
	  dlls/gdi/Makefile.in, dlls/gdi/gdi.exe.spec, dlls/gdi/gdi.spec,
	  dlls/kernel/.cvsignore, dlls/kernel/Makefile.in,
	  dlls/kernel/kernel.spec, dlls/kernel/krnl386.exe.spec,
	  dlls/user/.cvsignore, dlls/user/Makefile.in,
	  dlls/user/user.exe.spec, dlls/user/user.spec:
	Renamed some 16-bit spec files to match the dll name.

	* dlls/msacm/filter.c, dlls/msacm/format.c, dlls/msacm/msacm_main.c,
	  include/msacm.h:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	- Converted HACMOBJ to void*
	- acmMetrics16 calls acmMetrics only if hao is NULL

	* dlls/commdlg/filedlg95.c:
	Mehmet Yasar <myasar@free.fr>
	Fix default extension behavior with GetOpenFileName.

	* tools/winebuild/build.h, tools/winebuild/main.c,
	  tools/winebuild/parser.c:
	Ignore imports and resources when building a .def file.

	* configure, configure.ac, dlls/oleaut32/Makefile.in,
	  dlls/oleaut32/tests/.cvsignore,
	  dlls/oleaut32/tests/oleaut32_test.spec,
	  dlls/oleaut32/tests/vartest.c, dlls/oleaut32/variant.c,
	  libtest/Makefile.in, libtest/vartest-Win32.log, libtest/vartest.c,
	  libtest/vartest.readme, libtest/vartest.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Ported variant tests to the new testing framework.

	* dlls/msvcrt/Makefile.in, dlls/msvcrt/lconv.c,
	  dlls/msvcrt/msvcrt.spec:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Add stub for __lconv_init().

2002-03-25  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/data.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	__[x|]getmainargs: Accept NULL new_mode argument.

	* include/msacm.h:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Converted HACMSTREAM, HACMDRIVERID and HACMDRIVER to void*.

	* dlls/winmm/mmsystem.c:
	Vincent Béron <vberon@mecano.gme.usherb.ca>
	Changes some handle definitions to the proper type.

	* dlls/winmm/winearts/arts.c, dlls/winmm/winearts/arts.h,
	  dlls/winmm/winearts/audio.c:
	Chris Morgan <cmorgan@alum.wpi.edu>
	wodOpen() should return MMSYSERR_ALLOCATED if the device is already
	allocated.  Allow for multiple audio devices. Fix wodPlayer_reset as
	with aRts we cannot cancel audio data already written to the server.
	Rename some functions. Cleanup unused code.

	* dlls/dsound/dsound_main.c:
	Chris Morgan <cmorgan@alum.wpi.edu>
	Dsound will now try as many devices as are available when trying to
	open a waveOut device in DirectSoundCreate().

	* dlls/winsock/socket.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added missing header.

2002-03-23  Alexandre Julliard  <julliard@winehq.com>

	* Makefile.in, dlls/Makefile.in, dlls/opengl32/Makefile.in,
	  dlls/opengl32/opengl32.spec, dlls/opengl32/wgl.c,
	  graphics/x11drv/init.c, include/x11drv.h:
	Added support for driver-specific escapes in the x11drv to retrieve
	X11 information. Finished dll separation of opengl32.

	* tools/winapi_check/modules.dat,
	  tools/winapi_check/win32/avicap32.api,
	  tools/winapi_check/win32/msg711.api,
	  tools/winapi_check/win32/msimg32.api,
	  tools/winapi_check/win32/shdocvw.api,
	  tools/winapi_check/win32/shlwapi.api,
	  tools/winapi_check/win32/twain_32.api,
	  tools/winapi_check/win32/urlmon.api,
	  tools/winapi_check/win32/winearts.api, tools/winapi_check/winapi.pm,
	  tools/winapi_check/winapi_local.pm:
	Patrik Stridvall <ps@leissner.se>
	- API file update.
	- Missing API file entries now only reported once.

	* dlls/avicap32/avicap32_main.c, dlls/shlwapi/shlwapi.spec,
	  dlls/wininet/internet.c, files/smb.c, files/smb.h:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* include/services.h, loader/task.c, scheduler/Makefile.in, scheduler/services.c:
	Removed service thread support.

	* dlls/winsock/Makefile.in, dlls/winsock/socket.c,
	  include/wine/server_protocol.h, include/winsock.h,
	  server/protocol.def, server/queue.c, server/sock.c, server/trace.c,
	  server/user.h, server/window.c:
	Send message for WSAAsyncSelect sockets directly from the server,
	instead of using the service thread. Finished separation of ws2_32.

	* documentation/samples/system.ini, configure, configure.ac,
	  dlls/Makefile.in, dlls/msacm/imaadp32/.cvsignore,
	  dlls/msacm/imaadp32/Makefile.in,
	  dlls/msacm/imaadp32/imaadp32.acm.spec,
	  dlls/msacm/imaadp32/imaadp32.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented an IMA driver.

	* programs/wineconsole/dialog.c, programs/wineconsole/user.c,
	  programs/wineconsole/winecon_user.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Wineconsole is now able to handle non raster fonts (vector, true
	type).

	* server/thread.c, server/timer.c:
	Fixed handling of timer callback routines when the thread owning the
	callback terminates.

	* dlls/winedos/vga.c, dlls/winedos/vga.h, misc/system.c:
	Create threads to manage timers instead of using the service thread.

	* include/wine/server.h, scheduler/client.c, dlls/ntdll/ntdll.spec,
	  files/file.c:
	Export the FILE_GetUnixHandle functionality from ntdll.

	* programs/wineconsole/wineconsole.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Started implementing event reduction.

	* programs/wineconsole/wineconsole_En.rc,
	  programs/wineconsole/wineconsole_Fr.rc:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed some issues in resources definition.

	* dlls/gdi/freetype.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Changed fixed fonts family name.

	* tools/examine-relay:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed VxD call tracing.

	* debugger/dbg.y:
	Tijs van Bakel <tijs@connectux.com>
	Added support for C++ identifier syntax.

2002-03-22  Alexandre Julliard  <julliard@winehq.com>

	* include/audevcod.h, include/dmo.h, include/dmoreg.h,
	  include/dmort.h, include/dshow.h, include/mediaerr.h,
	  include/mediaobj.h:
	Rewrote some headers from scratch based on publicly available
	information to avoid EULA concerns.

	* dlls/msdmo/dmoreg.c, dlls/msdmo/dmort.c, dlls/msdmo/msdmo.spec,
	  dlls/quartz/README, dlls/quartz/capgraph.c, dlls/quartz/capgraph.h,
	  dlls/quartz/fgevent.c, dlls/quartz/fgpass.c, dlls/quartz/fgraph.c,
	  dlls/quartz/fgraph.h, dlls/quartz/fmap.c, dlls/quartz/fmap.h,
	  dlls/quartz/ifgraph.c, dlls/quartz/main.c, dlls/quartz/mpgparse.c,
	  dlls/quartz/parser.h, dlls/quartz/vidren.c, dlls/quartz/vidren.h,
	  include/control.h, include/evcode.h, include/strmif.h,
	  include/uuids.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Removed some code because of concerns over the Microsoft DirectX SDK
	license agreement.

	* documentation/samples/system.ini, configure, configure.ac,
	  dlls/Makefile.in, dlls/msacm/msg711/.cvsignore,
	  dlls/msacm/msg711/Makefile.in, dlls/msacm/msg711/msg711.c,
	  dlls/msacm/msg711/msg711.drv.spec:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented G711 codec driver.

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Implement CCM_{GET|SET}COLORSCHEME.
	- Implement WM_NOTIFYFORMAT and correct passing WM_NOTIFY with correct
	  message call.
	- Ignore PGM_FORWARDMOUSE like native.

	* dlls/comctl32/pager.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Reanalyze button status during NCCalcSize processing because size of
	window may have changed.

	* windows/x11drv/event.c:
	We cannot ignore NotifyNonlinear focus events.

	* loader/loadorder.c:
	Properly handle loadorder specifications containing a .dll extension.

	* Make.rules.in: Fixed rule for test program.

	* dlls/kernel/Makefile.in, dlls/kernel/tests/.cvsignore,
	  dlls/kernel/tests/directory.c, dlls/kernel/tests/kernel32_test.spec:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added tests for GetSystemDirectoryA/W and GetWindowsDirectoryA/W.

	* programs/winetest/wtmain.c, include/wine/test.h:
	Francois Gouget <fgouget@codeweavers.com>
	Add trace function (same as in the perl framework).
	Add support for todo tests.
	Make it possible to specify a printf-style message in ok.
	Include windef.h in test.h for compiling tests on Windows.

	* dlls/psapi/psapi_main.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented EnumProcesses and EnumProcessModules.

	* dlls/kernel/toolhelp.c, include/wine/server_protocol.h,
	  loader/pe_image.c, scheduler/process.c, server/process.c,
	  server/process.h, server/protocol.def, server/snapshot.c,
	  server/trace.c:
	Correctly fill parent pid, module size and module name in process and
	module snapshots. Based on patches by Eric Pouech and Andreas Mohr.

	* dlls/winmm/winearts/audio.c:
	Chris Morgan <cmorgan@alum.wpi.edu>
	Fix range in aRts 8bit volume code.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	Initialise a stack variable.

2002-03-21  Alexandre Julliard  <julliard@winehq.com>

	* Makefile.in: Fixed linking of wine target.

	* configure, configure.ac, dlls/Makefile.in, dlls/twain/.cvsignore,
	  dlls/twain/Makefile.in, dlls/twain/README, dlls/twain/TWAIN,
	  dlls/twain/capability.c, dlls/twain/ds_audio.c,
	  dlls/twain/ds_ctrl.c, dlls/twain/ds_image.c, dlls/twain/dsm_ctrl.c,
	  dlls/twain/twain.h, dlls/twain/twain32_main.c,
	  dlls/twain/twain_32.spec, dlls/twain/twain_i.h, include/config.h.in:
	Shi Quan He <shiquan@cyberdude.com> (for Corel)
	Started TWAIN implementation.

	Marcus Meissner <marcus@jet.franken.de>
	Merged into WineHQ, made sure it works without SANE.

	* tools/winebuild/build.h, tools/winebuild/main.c,
	  tools/winebuild/utils.c:
	Make warnings quiet by default and added -w option.

	* documentation/samples/config, include/config.h.in, DEVELOPERS-HINTS,
	  configure, configure.ac, dlls/Makefile.in,
	  dlls/dsound/dsound_main.c, dlls/winmm/winearts/.cvsignore,
	  dlls/winmm/winearts/Makefile.in, dlls/winmm/winearts/arts.c,
	  dlls/winmm/winearts/arts.h, dlls/winmm/winearts/audio.c,
	  dlls/winmm/winearts/winearts.drv.spec:
	Chris Morgan <cmorgan@alum.wpi.edu>
	Added aRts driver.

	* dlls/urlmon/urlmon.spec, dlls/urlmon/urlmon_main.c:
	Michael Cardenas <michael.cardenas@lindows.com>
	Added some stubs.

	* dlls/advapi32/registry.c:
	Michael Cardenas <michael.cardenas@lindows.com>
	Changed registry handling in RegOpenKeyExA to behave like windows95
	when winver==win95.

	* dlls/msvcrt/file.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Added check to fwrite for size == 0.
	Fixed order and format of "size" and "nmemb" parameters in calls to
	fwrite.

2002-03-20  Alexandre Julliard  <julliard@winehq.com>

	* Make.rules.in, dlls/Makedll.rules.in:
	Fixed rules for main module spec file.

	* dlls/Makefile.in, dlls/quartz/Makefile.in, dlls/quartz/acmwrap.c,
	  dlls/quartz/aviparse.c, dlls/quartz/basefilt.c,
	  dlls/quartz/basefilt.h, dlls/quartz/main.c, dlls/quartz/mpgparse.c,
	  dlls/quartz/parser.c, dlls/quartz/parser.h, dlls/quartz/quartz.spec:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some stubs.
	Started implementing MPEG parser.

	* include/Makefile.in, include/dvdmedia.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added a missing header.

	* programs/notepad/ChangeLog, programs/notepad/Da.rc,
	  programs/notepad/De.rc, programs/notepad/En.rc,
	  programs/notepad/Es.rc, programs/notepad/Fi.rc,
	  programs/notepad/Fr.rc, programs/notepad/Pt.rc,
	  programs/notepad/README, programs/notepad/Sk.rc,
	  programs/notepad/Sw.rc, programs/notepad/Wa.rc,
	  programs/notepad/dialog.c, programs/notepad/language.c,
	  programs/notepad/language.h, programs/notepad/main.c,
	  programs/notepad/main.h, programs/notepad/notepad_res.h,
	  programs/notepad/rsrc.rc:
	Sylvain Petreolle <spetreolle@yahoo.fr>
	Made notepad uses NLS properly.

	* dlls/msvcrt/file.c, dlls/msvcrt/msvcrt.spec, include/Makefile.in,
	  include/msvcrt/sys/locking.h:
	Bill Medland <medbi01@accpac.com>
	Connect the msvcrt file byte locking up to ntdll.

	* dlls/comctl32/toolbar.c:
	Bill Medland <medbi01@accpac.com>
	No need for the fixme on a simple TBSTYLE_SEP.

	* include/uuids.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some missing GUIDs.

	* dlls/winedos/Makefile.in, dlls/wineps/Makefile.in,
	  dlls/wininet/Makefile.in, dlls/winmm/Makefile.in,
	  dlls/winnls/Makefile.in, dlls/winsock/Makefile.in,
	  dlls/winspool/Makefile.in, dlls/wintrust/Makefile.in,
	  dlls/wow32/Makefile.in, dlls/wsock32/Makefile.in,
	  dlls/x11drv/Makefile.in, include/Makefile.in, library/Makefile.in,
	  library/loader.c, tools/winebuild/import.c,
	  tools/winebuild/spec32.c, dlls/psapi/Makefile.in,
	  dlls/qcap/Makefile.in, dlls/quartz/Makefile.in,
	  dlls/rasapi32/Makefile.in, dlls/richedit/Makefile.in,
	  dlls/rpcrt4/Makefile.in, dlls/serialui/Makefile.in,
	  dlls/setupapi/Makefile.in, dlls/shdocvw/Makefile.in,
	  dlls/shell32/Makefile.in, dlls/shfolder/Makefile.in,
	  dlls/shfolder/shfolder.spec, dlls/shlwapi/Makefile.in,
	  dlls/sti/Makefile.in, dlls/tapi32/Makefile.in,
	  dlls/ttydrv/Makefile.in, dlls/url/Makefile.in,
	  dlls/urlmon/Makefile.in, dlls/user/Makefile.in,
	  dlls/version/Makefile.in, dlls/win32s/Makefile.in,
	  dlls/winaspi/Makefile.in, dlls/kernel/Makefile.in,
	  dlls/lzexpand/Makefile.in, dlls/mapi32/Makefile.in,
	  dlls/mpr/Makefile.in, dlls/msacm/Makefile.in,
	  dlls/msdmo/Makefile.in, dlls/msimg32/Makefile.in,
	  dlls/msnet32/Makefile.in, dlls/msrle32/Makefile.in,
	  dlls/msvcrt/Makefile.in, dlls/msvcrt20/Makefile.in,
	  dlls/msvideo/Makefile.in, dlls/netapi32/Makefile.in,
	  dlls/ntdll/Makefile.in, dlls/odbc32/Makefile.in,
	  dlls/ole32/Makefile.in, dlls/oleaut32/Makefile.in,
	  dlls/olecli/Makefile.in, dlls/oledlg/Makefile.in,
	  dlls/olepro32/Makefile.in, dlls/olesvr/Makefile.in,
	  dlls/opengl32/Makefile.in, dlls/Makedll.rules.in, dlls/Makefile.in,
	  dlls/advapi32/Makefile.in, dlls/avicap32/Makefile.in,
	  dlls/avifil32/Makefile.in, dlls/comctl32/Makefile.in,
	  dlls/commdlg/Makefile.in, dlls/crtdll/Makefile.in,
	  dlls/crypt32/Makefile.in, dlls/dciman32/Makefile.in,
	  dlls/ddraw/Makefile.in, dlls/devenum/Makefile.in,
	  dlls/dinput/Makefile.in, dlls/dplay/Makefile.in,
	  dlls/dplayx/Makefile.in, dlls/dsound/Makefile.in,
	  dlls/gdi/Makefile.in, dlls/glu32/Makefile.in, dlls/icmp/Makefile.in,
	  dlls/imagehlp/Makefile.in, dlls/imm32/Makefile.in, dlls/make_dlls,
	  Make.rules.in, Makefile.in, configure, configure.ac:
	Changed builtin dlls file names to make it clear they are not normal
	Unix libraries, and install them in $libdir/wine instead of $libdir to
	avoid name conflicts in /usr/lib.

	* dlls/shell32/shellpath.c, dlls/shell32/undocshell.h:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Update shell xxxAW wrapper prototypes for fixed SHLWAPI functions.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/ordinal.h, dlls/shlwapi/path.c,
	  dlls/shlwapi/shlwapi.spec, include/shlwapi.h:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Document, implement/fix and test 110+ Path functions.
	Share the GET_FUNC macro, other places than ordinal.c need it.

	* windows/defwnd.c:
	Duane Clark <dclark@akamail.com>
	On WM_GETTEXT, terminate the lparam buffer even if string is empty.

	* dlls/comctl32/treeview.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Preliminary implementation of TVS_NOSCROLL and TVS_NOHSCROLL
	- Implement A and W versions of WM_NOTIFY based on response to
	  WM_NOTIFYFORMAT. Note that the EDITLABEL notifies are not done.
	- Implement WM_NOTIFYFORMAT.

	* windows/x11drv/keyboard.c:
	Matthias Fechner <idefix@fechner.net>
	Added German 105 keys keyboard.

	* dlls/shdocvw/Makefile.in, dlls/shdocvw/api.c,
	  dlls/shdocvw/browser.c, dlls/shdocvw/classinfo.c,
	  dlls/shdocvw/comimpl.c, dlls/shdocvw/comimpl.h,
	  dlls/shdocvw/connect.c, dlls/shdocvw/events.c,
	  dlls/shdocvw/factory.c, dlls/shdocvw/misc.c,
	  dlls/shdocvw/oleobject.c, dlls/shdocvw/persist.c,
	  dlls/shdocvw/shdocvw.c, dlls/shdocvw/shdocvw.h,
	  dlls/shdocvw/shdocvw.spec, dlls/shdocvw/shdocvw_main.c,
	  dlls/shdocvw/webbrowser.c, ole/uuid.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented the basic COM framework.
	Fixed all IUnknown of shdocvw.dll.

	* README:
	Martin Garton <martin@wrasse.demon.co.uk>
	Fixed license text.

	* dlls/opengl32/make_opengl, dlls/opengl32/opengl_ext.c:
	Charles Vaughn <charlesv@mfos.org>
	Lionel Ulmer <lionel.ulmer@free.fr>
	- added support for glMTexCoord2fSGIS
	- updated to latest OpenGL extensions

	* dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Bernhard Rosenkraenzer <bero@redhat.de>
	Added InternetOpenURLA implementation.

	* dlls/msvcrt/msvcrt.spec:
	Bill Medland <medbi01@accpac.com>
	Hook back into the correct MSVCRT__tolower/upper.

	* dlls/winedos/int10.c, dlls/winedos/vga.c, dlls/winedos/vga.h:
	Admiral Coeyman <admiral@corner.net>
	Beginnings of the code that should allow DOS programs to set their
	color palette.

	* dlls/comctl32/listview.c:
	Duane Clark <dclark@akamail.com>
	Add LVS_NOSORTHEADER support.
	Sort column on HDN_ITEMCLICKA too.
	Do not edit labels if icon was clicked.
	Fix the incorrect icon width in my earlier patch.

	* objects/gdiobj.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added default stock objects for known non-US charsets.

	* dlls/msdmo/Makefile.in, dlls/msdmo/dmoreg.c, dlls/msdmo/dmort.c,
	  dlls/msdmo/msdmo.spec:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented some APIs.
	Added some stubs.

	* winedefault.reg:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added FilterData of DirectShow filters (FilterData should be
	registered for rendering media files).

	* dlls/shlwapi/ordinal.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Reimplement functions 350, 351, 352 to use appropriate W functions
	  (thanks Jürgen!)
	- Add additional comments to functions 266, 267, 276 and adjust the
	  stubbed return values.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Correct RBN_CHILDSIZE rect value for CCS_VERT rebar.
	- Do UpdateWindow only if doing redraws when doing layout.

2002-03-19  Alexandre Julliard  <julliard@winehq.com>

	* dlls/quartz/amundoc.c, dlls/quartz/audren.c, dlls/quartz/audren.h,
	  dlls/quartz/avidec.c, dlls/quartz/aviparse.c, dlls/quartz/basepin.c,
	  dlls/quartz/capgraph.c, dlls/quartz/capgraph.h,
	  dlls/quartz/csconv.c, dlls/quartz/fgpass.c, dlls/quartz/fgraph.c,
	  dlls/quartz/fgraph.h, dlls/quartz/filesink.c,
	  dlls/quartz/filesink.h, dlls/quartz/fmap.c, dlls/quartz/ifgraph.c,
	  dlls/quartz/imfilter.c, dlls/quartz/impos.c, dlls/quartz/imseek.c,
	  dlls/quartz/main.c, dlls/quartz/mtype.c, dlls/quartz/parser.c,
	  dlls/quartz/parser.h, dlls/quartz/quartz_private.h,
	  dlls/quartz/vidren.c, dlls/quartz/wavparse.c, dlls/quartz/xform.c,
	  dlls/quartz/xform.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixed some bugs.
	Fixed audio renderer.
	Implemented seeking.
	Added some stubs.

	* dlls/msimg32/msimg32.spec, dlls/msimg32/msimg32_main.c, include/wingdi.h:
	Leo van den Berg <leo@connectux.com>
	Added some stubs.

	* include/uuids.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added a missing CLSID.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	Sergei Turchanov <plumber@print.vlad.ru>
	Ordinal 342 is really named SHInterlockedCompareExchange.

	* dlls/comctl32/toolbar.c:
	Duane Clark <dclark@akamail.com>
	TOOLBAR_LButtonUp should work even if ReleaseCapture was already
	called.

	* documentation/wine.texinfo:
	Jeremy Newman <jnewman@codeweavers.com>
	Fixed WARRANTY inclusion.

	* include/strmif.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some missing enums.

	* dlls/avicap32/avicap32.spec, dlls/avicap32/avicap32_main.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added stubs.

	* files/smb.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Add missing #includes for FreeBSD and Solaris.

	* dlls/winedos/dosexe.h, dlls/winedos/dosvm.c, dlls/winedos/int33.c:
	Jukka Heinonen <jhei@iki.fi>
	Console mode DOS programs now receive mouse events.
	Replaced GetMessage with PeekMessage, since MsgWaitForMultipleObjects
	is allowed to return spontaneously.

	* programs/uninstaller/main.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- fix complete listbox messup by only updating in case it needs
	  updating
	- fix listbox selection breakage causing multiple programs to get
	  uninstalled
	- implemented sorting of entries
	- much better debug strings

	* dlls/user/tests/sysparams.c:
	Francois Gouget <fgouget@codeweavers.com>
	Don't show the window.

	* include/commctrl.h, include/winbase.h:
	Francois Gouget <fgouget@codeweavers.com>
	Small fixes.

2002-03-12  Alexandre Julliard  <julliard@winehq.com>

	* files/Makefile.in, files/file.c, files/smb.c, files/smb.h,
	  include/wine/server_protocol.h, server/Makefile.in,
	  server/protocol.def, server/request.h, server/smb.c, server/trace.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Begin to make wine an SMB client.

	* include/Makefile.in, include/dmo.h, include/dmoreg.h,
	  include/dmort.h, include/mediaerr.h, include/mediaobj.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some missing headers.

	* server/serial.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Finish any pending WaitCommEvents if the event mask is set to 0.

	* dlls/msrle32/msrle32.c:
	Michael Karcher <michael.karcher@dpk.berlin.fido.de>
	pDst was advanced too much when decoding DELTA blocks.

	* dlls/x11drv/winpos.c, include/winuser.h:
	Jukka Heinonen <jhei@iki.fi>
	Added option SW_FORCEMINIMIZE to ShowWindow.

2002-03-11  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/build.h, tools/winebuild/import.c,
	  tools/winebuild/main.c, tools/winebuild/parser.c,
	  tools/winebuild/relay.c, tools/winebuild/res16.c,
	  tools/winebuild/res32.c, tools/winebuild/spec16.c,
	  tools/winebuild/spec32.c, tools/winebuild/utils.c:
	Patrik Stridvall <ps@leissner.se>
	Made winebuild (almost) compile and work on Windows.

	* dlls/kernel/time.c, include/wine/port.h, library/port.c:
	Patrik Stridvall <ps@leissner.se>
	- Better handling when settimeofday is not available.
	- Adding name translations for p{close,open} and str{,n}casecmp if
	  they exists under other names.

	* configure.ac, include/config.h.in, configure:
	Patrik Stridvall <ps@leissner.se>
	Added some optional headers and functions for compiling on Windows
	with MSVC.

	* dlls/user/message.c:
	Fixed inter-process packing of CB/LB_FINDSTRING, CB/LB_FINDSTRINGEXACT
	and CB/LB_SELECTSTRING.

	* windows/winproc.c: Mehmet Yasar <myasar@free.fr>
	Fixed Unicode conversion for CB/LB_FINDSTRING, CB/LB_FINDSTRINGEXACT
	and CB/LB_SELECTSTRING.

	* dlls/msvcrt/file.c, dlls/msvcrt/msvcrt.spec, include/msvcrt/stdio.h:
	Waldek Hebisch <hebisch@math.uni.wroc.pl>
	Implemented stdio buffering and ungetc. Misc stdio fixes.

	* dlls/comctl32/listview.c:
	Duane Clark <dclark@akamail.com>
	Add support for report mode text justification.

	* scheduler/synchro.c, dlls/kernel/comm.c, files/file.c,
	  include/file.h:
	Mike McCormack <mike_mccormack@start.com.au>
	Set an overlapped hEvent before calling any APCs.

	* dlls/quartz/Makefile.in, dlls/quartz/capgraph.c,
	  dlls/quartz/capgraph.h, dlls/quartz/filesink.c,
	  dlls/quartz/filesink.h, dlls/quartz/main.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some stubs.

	* include/uuids.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some CLSIDs.

	* dlls/kernel/debugger.c, dlls/ole32/ole32.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/nativeapi.pm,
	  tools/winapi_check/win32/advapi32.api,
	  tools/winapi_check/win32/ole32.api,
	  tools/winapi_check/win32/rpcrt4.api,
	  tools/winapi_check/win32/shlwapi.api,
	  tools/winapi_check/winapi_check:
	Patrik Stridvall <ps@leissner.se>
	- Minor API update.
	- Minor bug fixes.

	* dlls/comctl32/comctl_Ja.rc, dlls/comctl32/rsrc.rc,
	  dlls/commdlg/cdlg_Ja.rc, dlls/user/resources/user32_Ja.rc:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added and fixed some Japanese resources.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Add support for WM_WINDOWPOSCHANGED to save new origin of window.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	Pass information through arguments instead of static variables.
	Add protection to prevent reading outside the buffer.
	Better handling of degenerate cases.

	* dlls/setupapi/setupx_main.c:
	Mehmet Yasar <myasar@free.fr>
	Prevent setup from crashing if a section in the INF is empty (no
	entries) (this happens when installing IE5).

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	Turchanov Sergei <plumber@print.vlad.ru>
	Implement ordinal 342.

	* windows/x11drv/wineclipsrv.c:
	Jason Phillips <jasonp1@cox.net>
	Make wineclipsrv run as a daemon (close stdout/stderr, no controlling
	terminal, session group leader).

	* windows/x11drv/keyboard.c:
	Axel Schmidt <babe@axel-schmidt-net.de>
	Added keyboard layout for Logitech Cordless Desktop Pro.

	* windows/sysparams.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Added FIXMEs for actions with id>=115. These actions were not
	processed before.

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Add scaffolding for TB_{GET|SET}PADDING.
	- Replace wrong test for CCS_VERT with correct test for undocumented
	  TBSTYLE_EX_ style 0x04.
	- Add support for undocumented TB_SETBUTTONSIZE where the size is
	  zero, sets to default value.
	- Issue FIXMEs for unsupported extended styles.
	- Implement first try at undocumented toolbar message 0x0463.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Trace undocumented toolbar messages.

	* include/commctrl.h:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Add BTN_... definitions (replacement for TBSTYLE_...).
	- Add definitions of additional TBSTYLE_EX_ styles. Including
	  undocumented one used by IE5.
	- Add additional toolbar message definitions including
	  undocumented ones used by at least IE5.

	* dlls/dinput/mouse/main.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Some small cleanups to dinput mouse code.

	* dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Created dummy implementation of InternetSetOption function.

	* dlls/comctl32/header.c:
	Duane Clark <dclark@akamail.com>
	Test bUnicode and call appropriate DrawText routine.

2002-03-10  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, VERSION, configure:
	Release 20020310.

----------------------------------------------------------------
2002-03-09  Alexandre Julliard  <julliard@winehq.com>

	* LICENSE.OLD: Keep old license around.

	* include/debugtools.h, tools/apiw.index, tools/ipcl,
	  tools/make_os2.cmd, tools/makehtml.pl, tools/unimap.pl,
	  tools/wmc/language.c:
	Removed some obsolete files.

	* */*:
	Added LGPL standard comment, and copyright notices where necessary.
	Global replacement of debugtools.h by wine/debug.h.

	* COPYING.LIB, LICENSE, WARRANTY:
	Changed license to LGPL.

2002-02-28  Alexandre Julliard  <julliard@winehq.com>

	* VERSION, configure, ANNOUNCE, ChangeLog:
	Release 20020228.

----------------------------------------------------------------
2002-02-28  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/authors.h, AUTHORS:
	Updated authors list from the Changelog. Please let me know if you
	have been left out.

	* configure.ac, configure:
	Added tests extra directories.

	* programs/regapi/tests/.cvsignore, programs/regapi/tests/README,
	  programs/regapi/tests/after.reg, programs/regapi/tests/before.reg,
	  programs/regapi/tests/orig.reg, programs/regapi/tests/regapi.pl,
	  programs/regapi/Makefile.in, programs/regapi/README,
	  programs/regapi/regFixer.pl, programs/regapi/regRestorer.pl,
	  programs/regapi/regSet.sh, programs/regapi/regapi.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Made regapi scripts able to process .reg files in regedit
	format. Implemented unit tests for reg diff functionality.

	* dlls/make_dlls, Make.rules.in, Makefile.in, dlls/Makefile.in:
	Added make check target to run unit tests too since this seems to be
	standard.

	* windows/winproc.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	Fixed winproc memory leak.

	* dlls/comctl32/listview.c:
	Duane Clark <dclark@akamail.com>
	Ask for correct number of chars in EditLblWndProcT.

	* dlls/shlwapi/ordinal.c:
	Michael Cardenas <michaelc@lindows.com>
	More complete implementation of SHLWAPI_356.

	* dlls/ole32/storage32.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Fixed merge error.

	* dlls/comctl32/listview.c:
	Duane Clark <dclark@akamail.com>
	LISTVIEW_InsertColumnT can be called with a width of
	LVSCW_AUTOSIZE_USEHEADER.
	Use the correct strings when column autosizing on columns other than
	column 0.
	LVSCW_AUTOSIZE_USEHEADER uses both item and header strings.

2002-02-27  Alexandre Julliard  <julliard@winehq.com>

	* include/winnt.h:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Added some defines and offsets.

	* objects/gdiobj.c, relay32/builtin32.c, misc/registry.c,
	  dlls/kernel/comm.c, dlls/kernel/string.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Various cosmetic changes.

	* dlls/user/Makefile.in, dlls/user/tests/.cvsignore,
	  dlls/user/tests/sysparams.c, dlls/user/tests/user32_test.spec:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Added SystemParametersInfo unit test.

	* documentation/Makefile.in, tools/Makefile.in:
	Cosmetic fixes.

	* programs/control/lccmake.bat, programs/notepad/lccmake,
	  programs/view/lccmakefile, programs/wcmd/makefile.bcc:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Removed alternative make scripts.

	* files/directory.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Implemented "App Paths" registry key support for SearchPath().

	* files/profile.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Fixed overflow and signed/unsigned behaviour.

	* server/debugger.c, server/protocol.def, server/request.h,
	  server/trace.c, dlls/kernel/debugger.c,
	  include/wine/server_protocol.h:
	Reimplemented DebugBreakProcess.

	* tools/wrc/dumpres.c, tools/winedump/misc.c,
	  programs/avitools/aviinfo.c, msdos/vxd.c, graphics/x11drv/dib.c,
	  graphics/painting.c, dlls/winspool/info.c, dlls/winedos/devices.c,
	  dlls/shell32/pidl.c, dlls/richedit/charlist.c,
	  dlls/kernel/console.c, dlls/quartz/audren.c, dlls/comctl32/updown.c,
	  dlls/comctl32/rebar.c, dlls/comctl32/treeview.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Spelling/alignment fixes.

	* documentation/samples/config, tools/winecheck,
	  documentation/installing.sgml, documentation/registry.sgml,
	  documentation/wine.conf.man, README:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- stress the fact that wineinstall is in Wine source
	- add missing ttydrv/x11drv section to wine.conf.man
	- make sure that we also load shdocvw as builtin in sample config file
	- add sample AppDefaults section to sample config file
	- winecheck update

	* documentation/debugger.sgml, debugger/dbg.y, debugger/debug.l,
	  debugger/debugger.h, debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added the detach command to the debugger.

	* include/wine/server_protocol.h, server/debugger.c, server/process.c,
	  server/process.h, server/protocol.def, server/request.h,
	  server/trace.c, dlls/kernel/debugger.c, dlls/kernel/kernel32.spec,
	  include/winbase.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	New XP debugging APIs: implemented DebugActiveProcessStop,
	DebugSetProcessKillOnExit, DebugBreakProcess.

	* BUGS: Francois Gouget <fgouget@free.fr>
	Andriy Palamarchuk <apa3a@yahoo.com>
	Rewrote BUGS file. Listed directions for those who want to contribute
	to the project.

	* dlls/comctl32/listview.c:
	Bill Medland <medbi01@accpac.com>
	Centre text correctly for the selected item.
	Draw complete background for the selected item.
	Calculate the size of a large icon more correctly (including multiline
	labels).

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Support CCS_VERT as alternative for TBSTYLE_WRAPABLE.
	- TB_INSERTBUTTONW was not as functional as the 'A' version. They now
	  match.

	* dlls/shell32/shell.c, dlls/shell32/shell32_main.c,
	  dlls/shell32/shell32_main.h, dlls/shell32/shlexec.c,
	  dlls/shell32/Makefile.in:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed ShellExecute functions when ddeexec was present in registry.

	* windows/win.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Fix the strange case in WIN_FixCoordinates where x and cx are not
	default but cy is CW_USEDEFAULT.

2002-02-26  Alexandre Julliard  <julliard@winehq.com>

	* include/Makefile.in: Fixed make uninstall.

	* dlls/kernel/comm.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed cut&paste problem in SETRTS.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	Correct Word breaking in centred/right justified mode; it was leaving a
	trailing space which it should only do for left-justified text.
	Also tighten up some comments.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Add additional CCM_ message names.

	* dlls/comctl32/pager.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Implement EM_FMTLINES message based on relay trace of native.

	* include/mmreg.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added lots of missing defines.

	* dlls/user/dde/misc.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed DdeGetData when called for getting size.

	* controls/static.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed WM_SETFONT handling (no redraw made in some cases).

	* debugger/info.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Cosmetic fixes to 'walk proc' command.

	* dlls/ddraw/dsurface/hal.c, dlls/x11drv/x11ddraw.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Fix crash in the X11 HAL when setting a NULL palette to a surface.

	* documentation/db2html-winehq:
	Philipp Wollermann <phil_wo@gmx.net>
	Added support for the Crux Linux distribution (with openjade).

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Fix another bad test. Caused regression in IE 4.

	* dlls/comctl32/toolbar.c:
	Charles Duffy <cduffy@bigfoot.com>
	Stop TOOLBAR_MeasureString from dying on empty strings.

	* dlls/comctl32/imagelist.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	Partially repair hotspot handling.

2002-02-25  Alexandre Julliard  <julliard@winehq.com>

	* windows/cursoricon.c, relay32/snoop.c, win32/console.c,
	  win32/except.c, win32/init.c, include/msvcrt/excpt.h,
	  include/winnt.h, loader/resource.c, memory/global.c,
	  memory/string.c, memory/virtual.c, dlls/winedos/dosvm.c,
	  files/dos_fs.c, include/Makefile.in, include/windows.h,
	  dlls/ntdll/debugtools.c, dlls/ntdll/exception.c, dlls/ntdll/sec.c,
	  dlls/opengl32/wgl.c, dlls/user/lstr.c, debugger/dbg.y,
	  debugger/winedbg.c, dlls/msvcrt/except.c:
	Peter Hunnisett <peter@transgaming.com>
	New file msvcrt/excpt.h. Move some stuff out of winnt.h into it.

	* windows/x11drv/event.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	Prevent lock-up with a focus loop between two top level unmanaged
	windows.

	* include/ts_xlib.h, tsx11/X11_calls, tsx11/ts_xlib.c:
	Gavriel State <gav@transgaming.com>
	Added XVisualIDFromVisual to tsx11 list.

	* dlls/comctl32/listview.c:
	Gerard Patel <gerard.patel@nerim.net>
	LVM_GetItemRect should not take text size in account for LVIR_LABEL in
	report mode.

2002-02-22  Alexandre Julliard  <julliard@winehq.com>

	* files/file.c:
	Gerhard W. Gruber <sparhawk@gmx.at>
	MoveFileEx now enters the files in the registry when the boot delay
	flag is set.

	* include/wine/winuser16.h, windows/input.c, include/winuser.h:
	Peter Hunnisett <peter@transgaming.com>
	Fix return type of GetAsyncKeyState.

	* dlls/comctl32/listview.c:
	Bill Medland <medbi01@accpac.com>
	Implement multiline labels in the Large Item view by using DrawText
	Note that this now highlights weaknesses in the label measuring code
	etc. which cannot correctly handle multiline labels.

	* dlls/ole32/marshal.c:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Compile fix for GCC 2.7.x.

	* dlls/ntdll/ntdll.spec:
	Peter Hunnisett <peter@transgaming.com>
	Add spec stub for RtlGetNtVersionNumbers.

	* dlls/winaspi/aspi.c:
	Gavriel State <gav@transgaming.com>
	Change useless warning into a TRACE.

	* include/msvcrt/stdlib.h, dlls/msvcrt/exit.c:
	Peter Hunnisett <peter@transgaming.com>
	atexit doesn't take a _onexit_t parameter.

	* programs/uninstaller/main.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Remember the currently active index before refreshing.

2002-02-21  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/Makefile.in, dlls/msvcrt/console.c, dlls/msvcrt/exit.c,
	  dlls/msvcrt/file.c, dlls/msvcrt/heap.c, dlls/msvcrt/locale.c,
	  dlls/msvcrt/lock.c, dlls/msvcrt/main.c, dlls/msvcrt/msvcrt.h,
	  dlls/msvcrt/msvcrt.spec, dlls/msvcrt/mtdll.h:
	Peter Hunnisett <peter@transgaming.com>
	Add _lock,_unlock and header file for them.
	Convert all msvcrt locks over to use _lock and _unlock.
	Explicitly make msvcrt compile with multithreaded option.
	Fix flag handling in _sopen. Add W->A call for new _swopen.

	* debugger/stabs.c:
	Peter Hunnisett <peter@transgaming.com>
	Avoid assert for very large C++ .so files.

	* include/wine/obj_base.h:
	Peter Hunnisett <peter@transgaming.com>
	Fix ICOM_DEFINE for C++.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec,
	  dlls/shlwapi/shlwapi_main.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Forward ordinals 40, 41, 143, 362 to appropriate routines.
	- Implement ordinals 155, 350, 351, 352, 418, 436.
	- Fake implementation of SHGetInverseCMAP.
	- Stub ordinal 209.
	- Fix definition of ordinal 7.
	- Implement SHGetThreadRef and SHSetThreadRef.

	* include/commctrl.h, dlls/comctl32/comctl32undoc.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Fix problems in DPA_Merge exposed by previous code cleanup.

	* tools/wineinstall: Adam D. Moss <adam@gimp.org>
	Partially revert previous changes, force configure to write an
	old-style config.cache.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	DrawText ellipsification on all lines, not just single-line.

2002-02-20  Alexandre Julliard  <julliard@winehq.com>

	* programs/winetest/make_ctests, programs/winetest/runtest,
	  programs/winetest/wtmain.c, include/wine/test.h,
	  dlls/Makedll.rules.in, Make.rules.in:
	Preliminary version of the C unit tests run-time environment.
	Added make rules for building and running C unit tests.

	* programs/notepad/dialog.c, programs/notepad/lcc.h,
	  programs/notepad/main.c, programs/notepad/main.h:
	Andriy Palamarchuk <apa3a@yahoo.com>
	- made notepad compile with Cygwin
	- made changes to the precompiler directives to check for specific
	  features instead of checking for the environment version.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	Drawtext tidying up ready for the next big change:
	- Fix brainfade in previous delta
	- Move ellipsification results to static memory; they are going to
	  have to be referenced inside NextLineW and the arg list is too big
	  already.
	- Add the missing ellipsification result (len_under) to simplify coding.
	- Slight correction to prefix tracking for when there are several
	  underlined characters on a single line (DT_EXPANDTABS only).
	- Allocate and free the temporary copy required for DT_MODIFYSTRING
	  rather than using a fixed size stack array.
	- Introduce lastline into the main loop; it simplifies the code and we
	  are going to need it.

	* dlls/shlwapi/path.c:
	Lawson Whitney <lawson_whitney@juno.com>
	Protect PathIsUNCServerShare from null lpszPath.

2002-02-19  Alexandre Julliard  <julliard@winehq.com>

	* include/config.h.in, dlls/kernel/comm.c, configure.ac, configure:
	Lawson Whitney <lawson_whitney@juno..com>
	Support for nonstandard baud rate in SetCommState.

	* programs/notepad/Da.rc, programs/notepad/De.rc,
	  programs/notepad/En.rc, programs/notepad/Es.rc,
	  programs/notepad/Fi.rc, programs/notepad/Fr.rc,
	  programs/notepad/Pt.rc, programs/notepad/Sk.rc,
	  programs/notepad/Sw.rc, programs/notepad/Wa.rc,
	  programs/notepad/dialog.c, programs/notepad/main.c,
	  programs/notepad/main.h, programs/notepad/notepad.rc:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Implemented parsing of file name, passed in command line, loading new
	file on startup.

	* dlls/rpcrt4/rpcrt4.spec:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Added two missing exports.

	* controls/scroll.c:
	Phillip Ezolt <ezolt@perf.zko.dec.com>
	Fixed the scrollbar position overflows using MulDiv.

	* dlls/comctl32/listview.c:
	Ondrej Macek <xmacek@informatics.muni.cz>
	Fix of ListView invalidation in LISTVIEW_SetBkColor.

	* dlls/shell32/classes.c:
	Gerard Patel <gerard.patel@nerim.net>
	HCR_GetDefaultIcon should set icon number to 0 if it's missing from
	the reg entry.

	* tools/wineinstall: Adam D. Moss <adam@gimp.org>
	Make wineinstall work in the new-autoconf-version world.

	* dlls/quartz/audren.c, dlls/quartz/audren.h, dlls/quartz/basefilt.h,
	  dlls/quartz/basepin.c, dlls/quartz/mtype.c, dlls/quartz/parser.c,
	  dlls/quartz/vidren.c, dlls/quartz/vidren.h, dlls/quartz/xform.c,
	  dlls/quartz/xform.h, dlls/quartz/asyncsrc.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixed some deadlocks.

	* dlls/avifil32/iastream.c, dlls/avifil32/igframe.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixes for compatibility.

	* documentation/samples/system.ini:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added msrle32.dll (decompressor of MRLE).

	* dlls/msrle32/msrle32.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixed bugs in processing DELTA.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	Change the way that DrawText parses the next line to display, ready to
	support multiline ellipsification etc.  Rather than measuring the text
	each time we add a character and breaking once it is too long and
	WORDBREAK is enabled, we copy a whole text segment and then measure
	it; GetTextExtentPointEx is designed to tell us how much fitted.  This
	may result in a little rescanning if wordbreak is enabled but will be
	well worth while when multiline path ellipsification is brought down
	into the NextLine function.  Note also that the wordbreak calculation
	is a little more complete (e.g.  including break-within-word for
	DT_EDITCONTROL).

	* dlls/oleaut32/variant.c:
	Patrick Haller <patrick.haller@innotek.de>
	Fix crash in VariantTimeToDosDateTime.

	* dlls/ole32/clipboard.c:
	Sander van Leeuwen <sandervl@xs4all.nl>
	Must make a copy of global handle returned by GetClipboardData; it is
	not valid after we call CloseClipboard. Application is responsible for
	freeing the memory (fixes copy/paste in mail body in Forte Agent).

2002-02-15  Alexandre Julliard  <julliard@winehq.com>

	* tools/makedep.c:
	Modified makedep to handle #include <> correctly (based on a patch by
	Patrik Stridvall).

	* dlls/wininet/Makefile.in, dlls/winmm/Makefile.in,
	  dlls/winspool/Makefile.in, dlls/user/Makefile.in,
	  dlls/setupapi/Makefile.in, dlls/shdocvw/Makefile.in,
	  dlls/shell32/Makefile.in, dlls/shlwapi/Makefile.in,
	  dlls/netapi32/Makefile.in, dlls/ntdll/Makefile.in,
	  dlls/ole32/Makefile.in, dlls/rpcrt4/Makefile.in,
	  dlls/comctl32/Makefile.in, dlls/crypt32/Makefile.in,
	  dlls/gdi/Makefile.in, dlls/imagehlp/Makefile.in,
	  dlls/advapi32/Makefile.in:
	Patrik Stridvall <ps@leissner.se>
	Added some defines for compatibility with Windows headers.

	* windows/win.c: Jukka Heinonen <jhei@iki.fi>
	Convert some invalid offsets in GetWindowLong16 into valid offsets.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	Measure the text more reasonably. This handles intercharacter spacing
	and should handle any kerning etc. that might happen. Also ensure no
	wordbreaking on singleline text.

	* windows/x11drv/keyboard.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	Added a keyboard matched to VNC.

	* include/ntddk.h: Ron Gage <ron@rongage.org>
	Added several structures.

	* dlls/shell32/shlfileop.c:
	Rein Klazes <rklazes@xs4all.nl>
	In SHFileOperation() when requested to copy files, figure out when the
	destination is to be treated as a directory and handle those cases.

	* configure.ac, Makefile.in, configure:
	Fixed installation issues caused by new configure script.

2002-02-14  Alexandre Julliard  <julliard@winehq.com>

	* programs/clock/main.c, programs/notepad/dialog.c,
	  programs/winver/winver.c, windows/nonclient.c, misc/options.c:
	version.h is now in include/wine directory.

	* tools/wrc/Makefile.in, programs/winhelp/Makefile.in,
	  tools/Makefile.in, tools/makedep.c, tools/winelauncher.in,
	  debugger/Makefile.in, documentation/.cvsignore,
	  documentation/Makefile.in, documentation/wine.conf.man,
	  documentation/wine.conf.man.in, documentation/wine.man.in,
	  include/config.h.in, include/version.h, include/wine/.cvsignore,
	  configure.ac, configure.in, Make.rules.in, Makefile.in, VERSION,
	  configure:
	Upgraded configure script to use autoconf 2.50 features, and renamed
	to configure.ac.
	Changed a few things to better follow the autoconf guidelines.

	* tools/config.guess, tools/config.sub:
	Updated to newer version.

	* dlls/commdlg/cdlg_xx.rc, dlls/shell32/shres.rc, dlls/comctl32/rsrc.rc:
	Martin Dalecki <dalecki@evision-ventures.com>
	Some artwork on the default icons.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	DrawText should not split words just because of clipping.

	* dlls/shell32/shell.c:
	Rein Klazes <rklazes@xs4all.nl>
	In ShellExecute16, make sure there is a space between command and
	parameters.

	* dlls/winsock/socket.c:
	Lawson Whitney <lawson_whitney@juno.com>
	Protect against NULL wsaddrlen in ws_sockaddr_alloc.

2002-02-12  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/relay.c:
	Gavriel State <gav@transgaming.com>
	Some older versions of GDB need to have the filename data available
	for each section, so we need to output it again for the data section.

	* win32/editline.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Make Home, End and Enter on the keypad work in the debugger.

	* win32/file.c: Jukka Heinonen <jhei@iki.fi>
	SetFileAttributes returns now an error if target file is on CDROM.

	* files/drive.c: Jukka Heinonen <jhei@iki.fi>
	Added missing break statement.

	* dlls/shlwapi/reg.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Partially implement SHRegWriteUSValue{A|W}.

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	When the commandID was being treated as the index, no check for index
	greater than number of buttons was done. Now fixed.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Fix regression in some programs due to CLR_DEFAULT fix. Noticed in
	control-spy rebar.exe.

	* windows/x11drv/keyboard.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Allow ToAscii/ToUnicode to work with scanCode = 0.

	* dlls/comctl32/listview.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Correct tests involved with processing the LVIF_DI_SETITEM flag.

	* dlls/comctl32/comboex.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Initialize pszText to 0 for internal ->ceItem to eliminate moves to
	garbage locations.

	* winedefault.reg:
	Marcus Meissner <marcus@jet.franken.de>
	Added default function marshaller registry entry.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	Put in place a proper tab model within DrawText (also includes
	simplifying TEXT_NextLineW to remove duplicate code).

2002-02-08  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/console.c, dlls/msvcrt/file.c:
	C. Scott Ananian <cananian@lesser-magoo.lcs.mit.edu>
	Filled out the implementation of fscanf and _cscanf.

	* dlls/msacm/internal.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed bug in cache init.

	* dlls/comctl32/comboex.c:
	Aric Stewart <aric@codeweavers.com>
	Use the supplied buffer when copying item text.

	* include/wingdi.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix PAN_FAMILYSTYLE_INDEX name.

	* configure, configure.in:
	Huw D M Davies <hdavies@codeweavers.com>
	We need fttrigon.h, so don't define HAVE_FREETYPE if we don't have it.

	* dlls/ole32/storage32.c:
	Lawson Whitney <lawson_whitney@juno.com>
	Fix off-by-one error in placing trailing \0.

	* dlls/comctl32/tooltips.c:
	Ori Pessach <ori_pessach_blah@yahoo.com>
	Set WS_EX_TOOLWINDOW in a tooltip's dwExStyle.

2002-02-05  Alexandre Julliard  <julliard@winehq.com>

	* dlls/advapi32/registry.c:
	Aric Stewart <aric@codeweavers.com>
	Don't return overflow if no class buffer was specified.

	* files/profile.c:
	Gerhard Gruber <sparhawk@gmx.at>
	WritePrivateProfileSection should allow to create duplicate keys
	because it takes the buffer as it is without any modifications.

	* dlls/x11drv/scroll.c:
	Rein Klazes <rklazes@xs4all.nl>
	In X11DRV_ScrollDC only move pixels that are within the clip
	rectangle, before and after they are scrolled.

	* objects/palette.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	Fix for GetNearestColor so it returns the true color rather than the
	system palette if the device does not support a palette.

	* dlls/comctl32/listview.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Aric Stewart <aric@codeweavers.com>
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Misc fixes:
	- cache text metrics for the font we're using
	- improved item hit detection
	- more debugging output
	- implement LVM_SETICONSPACING
	- lots of bugs squashed

	* dlls/oleaut32/Makefile.in, dlls/oleaut32/oleaut.c,
	  dlls/oleaut32/oleaut32.spec, dlls/oleaut32/tmarshal.c,
	  dlls/oleaut32/tmarshal.h, dlls/oleaut32/typelib.c,
	  dlls/oleaut32/typelib.h, dlls/oleaut32/variant.c,
	  dlls/ole32/compobj_private.h, dlls/ole32/marshal.c,
	  dlls/ole32/ole32.spec, dlls/ole32/oleproxy.c, dlls/ole32/rpc.c,
	  dlls/ole32/compobj.c, dlls/ole32/Makefile.in:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented Local Server COM.
	Implemented the Typelib based Marshaler.

	* dlls/shlwapi/ordinal.c, include/basetsd.h, include/ntddk.h,
	  include/oleauto.h, include/poppack.h, include/pshpack1.h,
	  include/pshpack2.h, include/pshpack4.h, include/pshpack8.h,
	  include/rpcdce.h, include/rpcndr.h:
	Patrik Stridvall <ps@leissner.se>
	MSVC compile fixes.

	* dlls/comctl32/progress.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Remove PROGRESS_Refresh, always do InvalidateRect() to repaint.
	Add WM_ERASEBKGND handler as in Windows.
	Be slightly smarter whether invalidate background or not.
	Always treat wParam as INT to not lose signed values.

	* dlls/comctl32/updown.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Various cleanups:
	- get rid of the static data member
	- pass the infoPtr around instead of the hwnd
	- fix indentatin/style a bit to make it consistent with the rest of
	  the file.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	Split the path and word/end ellipsification out of the main function
	and do them thoroughly. The existing method would be incorrect where
	tabs were involved and in some kerning situations.

2002-02-04  Alexandre Julliard  <julliard@winehq.com>

	* include/config.h.in, tools/winebuild/build.h,
	  tools/winebuild/main.c, tools/winebuild/parser.c,
	  tools/winebuild/spec32.c, Make.rules.in, configure, configure.in:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Support for generation of .def files from .spec files.

	* dlls/comctl32/listview.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Complete Listview Unicodification.
	Simplify the setting of (sub)item text by using common code.

	* programs/wineconsole/dialog.c, programs/wineconsole/registry.c,
	  programs/wineconsole/user.c, programs/wineconsole/winecon_private.h,
	  programs/wineconsole/winecon_user.h,
	  programs/wineconsole/wineconsole_En.rc,
	  programs/wineconsole/wineconsole_Fr.rc,
	  programs/wineconsole/wineconsole_res.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- wineconsole now exits if the started program inside it terminates
	  before the console actually starts up.
	- Removed the last Ansi imported APIs since now Propsheet has a decent
	  Unicode interface.
	- Fixed a couple of menu related bugs (states were wrong).
	- Finished input selection code (mark and key for selection moving are
	  operational, generating mouse events to programs attached to the
	  console).

	* debugger/dbg.y, debugger/debug.l, debugger/debugger.h,
	  debugger/hash.c, debugger/source.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed some bad behavior when many symbols with same names where found.
	Removed external readline support.

	* dlls/comctl32/treeview.c:
	Aric Stewart <aric@codeweavers.com>
	Added implementation of SetItemW.

	* dlls/comctl32/ipaddress.c:
	François Gouget <fgouget@codeweavers.com>
	Storing an IP address in a signed int results in bugs if it starts
	with >=128.

	* memory/codepage.c, ole/ole2nls.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Reimplement GetStringTypeA and GetStringTypeExA.

	* dlls/oleaut32/typelib.c:
	Malte Starostik <malte@kde.org>
	Do not destroy ITypeLib held by ITypeInfo before the latter is freed.

	* dlls/oleaut32/variant.c:
	Marcus Meissner <marcus@jet.franken.de>
	VT_EMPTY can be coerced to VT_I4, value 0.

	* dlls/comctl32/progress.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Moved style correcting code to the WM_CREATE handler and added
	clearing of WS_EX_CLIENTEDGE and WS_EX_WINDOWEDGE as in Windows.
	Added SetWindowPos(SWP_FRAMECHANGED) to make changes take effect.

	* windows/sysparams.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Guy Albertelli <guy@codeweavers.com>
	Use GetSystemMetrics() to for caption metrics in NONCLIENTMETRICS
	struct. Initialize iScrollWidth and iScrollHeight entries for
	SPI_GETNONCLIENTMETRICS.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Fix problem exposed by the improvements in version 8b. Demonstrated by
	OE 4.

2002-02-02  Alexandre Julliard  <julliard@winehq.com>

	* windows/defwnd.c, objects/palette.c, programs/avitools/aviinfo.c,
	  programs/avitools/aviplay.c, relay32/relay386.c, libtest/hello5.c,
	  loader/ne/segment.c, loader/pe_image.c, loader/resource.c,
	  dlls/winspool/info.c, include/msvcrt/process.h,
	  dlls/wineps/driver.c, dlls/winmm/lolvldrv.c, dlls/winmm/mmsystem.c,
	  dlls/winmm/winemm.h, dlls/user/dde/ddeml16.c, dlls/winedos/vga.c,
	  dlls/setupapi/setupx16.h, dlls/shell32/shell32_main.c,
	  dlls/shell32/shell32_main.h, dlls/shell32/shellole.c,
	  dlls/shell32/shlview.c, dlls/shell32/undocshell.h,
	  dlls/lzexpand/lzexpand_main.c, dlls/msacm/wineacm.h,
	  dlls/ole32/compobj.c, dlls/dplayx/dplaysp.h, dlls/gdi/printdrv.c,
	  dlls/imm32/imm_private.h, dlls/kernel/string.c,
	  dlls/kernel/utthunk.c, dlls/commdlg/cdlg.h, dlls/commdlg/cdlg32.c,
	  dlls/ddraw/ddraw_private.h, dlls/comctl32/animate.c,
	  dlls/comctl32/smoothscroll.c:
	Patrik Stridvall <ps@leissner.se>
	Move __stdcall/__cdecl to the right place.

	* programs/winetest/runtest, Make.rules.in:
	Patrik Stridvall <ps@leissner.se>
	- Made runtest "use strict".
	- Added new option -M to specify which modules should be tested as
	  builtin.

	* libtest/vartest.c, programs/regtest/regtest.c, dlls/wineps/mkagl.c:
	Francois Gouget <fgouget@free.fr>
	malloc.h is obsolete and stdlib.h should be used instead.

	* programs/control/control.c:
	We can use normal imports for shell32 now.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	Ensure that the whole modified text is returned from DrawTextExA.

	* loader/module.c, scheduler/process.c, scheduler/thread.c,
	  dlls/gdi/driver.c:
	Do not use the PEB lock as loader lock, use a separate critical
	section for that (and for the graphics drivers).

	* tools/winedump/msmangle.c, dlls/commdlg/fontdlg.c,
	  dlls/shell32/iconcache.c, dlls/user/dde/client.c,
	  dlls/comctl32/comctl32undoc.c, dlls/comctl32/header.c,
	  dlls/comctl32/rebar.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Fixed some more missing parenthesis issues.

	* README, documentation/HOWTO-winelib, documentation/configuring.sgml,
	  documentation/wine.conf.man.in, documentation/wine.man.in:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- add documentation section to README
	- updated HOWTO-winelib
	- added native DLL config info to configuring.sgml
	- greatly improve directory description of wine.conf man page
	- add --debugmsg +all warning to wine man page

	* dlls/comctl32/listview.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Flip A<->W conversion in dispinfo_notifyT.

2002-02-01  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/treeview.c:
	Aric Stewart <aric@codeweavers.com>
	Fix to GetItemW to stop whiping out the items text.

	* programs/winetest/wine.xs:
	Francois Gouget <fgouget@free.fr>
	config.h should be included first (if at all).
	Fix return of convert_value.

	* dlls/tapi32/line.c, include/tapi.h:
	Guy Albertelli <galberte@neo.lrun.com>
	Don't try to set fields in nonexistant lpLineCountryList.
	Supply valid tapi codes.

2002-01-31  Alexandre Julliard  <julliard@winehq.com>

	* server/atom.c: Rein Klazes <rklazes@xs4all.nl>
	Allow integer atoms in set_property and remove_property. Needed by
	FindText common dialog.

	* loader/module.c, loader/pe_image.c, loader/pe_resource.c:
	LOAD_LIBRARY_AS_DATAFILE modules must be mapped like normal files, not
	like PE images. Fixed resource loading to handle that.

	* tools/winebuild/spec16.c, include/wine/exception.h,
	  include/wine/mmsystem16.h, include/wine/obj_base.h,
	  include/wine/obj_oleaut.h, include/wine/obj_oleview.h,
	  include/wine/windef16.h, include/wine/wingdi16.h,
	  include/wine/winuser16.h, include/netspi.h, include/ole.h,
	  include/ole2.h, include/oledlg.h, include/prsht.h,
	  include/richedit.h, include/setupapi.h, include/shlobj.h,
	  include/shlwapi.h, include/tapi.h, include/task.h, include/vfw.h,
	  include/winbase.h, include/windef.h, include/wingdi.h,
	  include/wininet.h, include/winnetwk.h, include/winnls.h,
	  include/winnt.h, include/winsock2.h, include/winsvc.h,
	  include/winuser.h, include/ws2spi.h, include/callback.h,
	  include/commctrl.h, include/commdlg.h, include/d3dcaps.h,
	  include/d3dhal.h, include/d3dtypes.h, include/ddeml.h,
	  include/ddraw.h, include/ddrawi.h, include/dinput.h,
	  include/dplay.h, include/dplobby.h, include/dsound.h,
	  include/imagehlp.h, include/imm.h, include/miscemu.h,
	  include/mmsystem.h, include/msacm.h:
	Patrik Stridvall <ps@leissner.se>
	Move __stdcall/__cdecl to the right place.

	* documentation/samples/config:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Give users a hint to clean their config from comments and empty lines
	for a bug report.

	* dlls/shell32/shell32_main.c:
	Gerard Patel <gerard.patel@nerim.net>
	Added missing parenthesis in ShGetFileInfoA.

	* dlls/winedos/int21.c: Nog <nog@sdf.lonestar.org>
	Fixed function 0xb.

	* dlls/shell32/shell.c, include/rpcdce.h, win32/init.c,
	  dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/modules.dat,
	  tools/winapi_check/win32/kernel32.api,
	  tools/winapi_check/win32/mapi32.api,
	  tools/winapi_check/win32/msimg32.api,
	  tools/winapi_check/win32/ntdll.api,
	  tools/winapi_check/win32/oleaut32.api,
	  tools/winapi_check/win32/rpcrt4.api,
	  tools/winapi_check/win32/wininet.api, tools/winapi/make_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	Minor API update.

	* dlls/shell32/shlfolder.c, controls/listbox.c, controls/scroll.c,
	  dlls/shell32/pidl.c, dlls/shell32/shellord.c:
	CodeWeavers
	Minor fixes.

	* controls/static.c:
	Guy Albertelli <guy@codeweavers.com>
	Paint control immediately on WM_SETTEXT.

	* dlls/ole32/stg_stream.c, dlls/ole32/storage32.c,
	  dlls/ole32/storage32.h:
	CodeWeavers
	Small fixes.

	* dlls/comctl32/toolbar.c:
	Guy Albertelli <guy@codeweavers.com>
	- better trace output
	- support string sent in by address, rather then index
	- add FIXMEs for multiple image lists
	- protect agains inexistent buttons
	- call up to the DefWindowProc when erasing bkgnd when appropriate

	* dlls/winedos/int33.c: Nog <nog@sdf.lonestar.org>
	Implement function 0xb (Read mouse motion counters) and 0xf (Set
	mickey/pixel ratio).

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	- Introduce a significant design decision.
	- Recalculate the prefix location if ellipsification alters it.  This
	  carefully does NOT emulate a Microsoft bug in which reprefixing is
	  wrong when the first character removed by ellipsification is the one
	  that would have been underlined (under Win98 at least).

	* dlls/advapi32/advapi32.spec, dlls/advapi32/security.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Eric Kohl <ekohl@codeweavers.com>
	Implemented CheckTokenMembership and GetAce.

	* dlls/comctl32/listview.c:
	Gerard Patel <gerard.patel@nerim.net>
	Don't repaint header when scrolling a listview vertically.

	* dlls/comctl32/comctl32undoc.c:
	Guy Albertelli <galberte@neo.lrun.com>
	- fix order of parameters is SendNotify
	- always use the dlg cntrl ID of the sender

	* windows/rect.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Added NULL checks on all rectangle pointers.

2002-01-29  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/Makefile.in, dlls/ntdll/loader.c, dlls/ntdll/ntdll.spec:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added LdrDisableThreadCalloutsForDll.

	* dlls/shell32/shell.c, dlls/shell32/shell32.spec,
	  dlls/shell32/shellstring.c:
	Aric Stewart <aric@codeweavers.com>
	Huw D M Davies <hdavies@codeweavers.com>
	Added stubs for CheckEscapes[AW] and ExtractAssociatedIconExW.

	* dlls/shell32/shellpath.c:
	Eric Kohl <ekohl@codeweavers.com>
	Added location of local application data.

	* dlls/ntdll/sec.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed RtlAddAccessAllowedAce return value.

	* dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Added stubs for NdrDllCanUnloadNow and NdrDllGetClassObject.

	* include/winbase.h, win32/init.c, dlls/kernel/kernel32.spec:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added GetComputerNameEx[AW] semi-stub.

	* include/wininet.h, dlls/wininet/Makefile.in,
	  dlls/wininet/urlcache.c, dlls/wininet/wininet.spec:
	Eric Kohl <ekohl@codeweavers.com>
	Added FindFirstUrlCacheEntry[AW] stubs.

	* dlls/mapi32/mapi32.spec, dlls/mapi32/mapi32_main.c,
	  include/Makefile.in, include/mapi.h, include/mapicode.h:
	Aric Stewart <aric@codeweavers.com>
	Added some MAPI stubs.

	* dlls/Makefile.in, dlls/msvcrt20/.cvsignore,
	  dlls/msvcrt20/Makefile.in, dlls/msvcrt20/dummy.c,
	  dlls/msvcrt20/msvcrt20.spec, configure.in, configure:
	Aric Stewart <aric@codeweavers.com>
	Added a pass-through msvcrt20.

	* dlls/urlmon/umon.c, dlls/urlmon/urlmon.spec:
	Eric Kohl <ekohl@codeweavers.com>
	Added Extract stub.

	* include/imm.h, dlls/imm32/imm.c, dlls/imm32/imm32.spec:
	Eric Kohl <ekohl@codeweavers.com>
	Added ImmDisableIME stub.

	* dlls/msvcrt/dir.c, dlls/msvcrt/msvcrt.spec:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Implemented _wmakepath.

	* dlls/winedos/dosexe.h, dlls/winedos/dosvm.c, dlls/winedos/int21.c,
	  dlls/winedos/int67.c, files/dos_fs.c, dlls/winedos/Makefile.in:
	Jukka Heinonen <jhei@iki.fi>
	Added support for DOS EMS memory.

	* tools/winemaker, documentation/db2html-winehq,
	  documentation/make_winehq, documentation/winelib-toolkit.sgml,
	  configure, configure.in:
	Francois Gouget <fgouget@free.fr>
	'test -e' is not supported on Solaris, replace with '-f' or '-d'.

	* dlls/comctl32/listview.c:
	Gerard Patel <gerard.patel@nerim.net>
	Fix problems with listview notification.

	* graphics/x11drv/dib.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Do not write beyond end of color table in X11DRV_DIB_SetDIBColorTable.

	* dlls/comctl32/progress.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	- add new SetRange functions (instead of duplicating the code)
	- pass the infoPtr around instead of the hwnd
	- use W-functions instead of A-functions
	- more checks in case of failures
	- make indentation and style consistent throughout the file

	* dlls/comctl32/propsheet.c, include/prsht.h:
	Guy Albertelli <guy@codeweavers.com>
	Mike McCormack <mike_mccormack@start.com.au>
	Property sheet Unicodification.
	Support additional wizard flags.

	* dlls/comctl32/imagelist.c:
	Charles Loep <charles@codeweavers.com>
	Implemented ImageList_Write.

	* dlls/comctl32/nativefont.c:
	Guy Albertelli <guy@codeweavers.com>
	Eliminate some useless error messages.

	* include/config.h.in, configure, configure.in:
	Huw D M Davies <hdavies@codeweavers.com>
	Don't define HAVE_FREETYPE unless we have freetype.h.

	* dlls/winsock/socket.c:
	Rein Klazes <rklazes@xs4all.nl>
	Correct optlen when WS_setsockopt is called with SO_LINGER.

	* dlls/oleaut32/typelib.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Weird thing with lcid of library is that if sublang is neutral then we
	return the primary lang else we return 0.

	* graphics/x11drv/dib.c:
	Guy Albertelli <guy@codeweavers.com>
	Don't fill colormap beyond end of screen depth.

	* dlls/commdlg/filedlg95.c:
	Charles Loep <charles@codeweavers.com>
	Fixed file extension problem in the file dialog.

	* dlls/comctl32/comctl32undoc.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Removed IsBadStringPtrA call that caused trouble.

	* dlls/comctl32/status.c:
	Charles Loep <charles@codeweavers.com>
	Fix errors resulting from missing parenthesis.

	* dlls/comctl32/rebar.c:
	Guy Albertelli <guy@codeweavers.com>
	Text/Bkgnd color fixes.

	* dlls/comctl32/listview.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Simplify and fix listview ellipsification of large text labels.

	* graphics/x11drv/xfont.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	XFONT_GetAvgCharWidth: Always round up.

	* programs/winetest/runtest: Fixed copy/paste bug.

	* include/ntddk.h, include/wine/obj_shellview.h, msdos/dosmem.c,
	  windows/winproc.c, dlls/winmm/mciseq/mcimidi.c,
	  graphics/win16drv/prtdrv.c, dlls/winmm/mmsystem.c,
	  dlls/oleaut32/typelib.c, dlls/oleaut32/typelib.h,
	  dlls/quartz/avidec.c, dlls/shell32/shell32_main.c,
	  dlls/shell32/shell32_main.h, dlls/shell32/shellord.c,
	  dlls/shell32/shlfolder.c, dlls/shell32/shlmenu.c,
	  dlls/shell32/shlview.c, dlls/shell32/shv_bg_cmenu.c,
	  dlls/commdlg/filedlg95.c, dlls/msvcrt/file.c,
	  dlls/msvideo/drawdib.c, debugger/winedbg.c, dlls/advapi32/service.c,
	  dlls/comctl32/updown.c, controls/button.c, controls/edit.c,
	  controls/menu.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Make FIXMEs more grep-able.

	* dlls/comctl32/listview.c:
	Gerard Patel <gerard.patel@nerim.net>
	Avoid converting nonexistent text from A->W.

	* graphics/x11drv/text.c, graphics/x11drv/xfont.c, include/x11drv.h,
	  dlls/x11drv/Makefile.in, dlls/x11drv/x11drv.spec,
	  dlls/x11drv/xrender.c, graphics/x11drv/clipping.c,
	  graphics/x11drv/init.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Uses Xrender extension to allow client side font rendering.
	Adds nice things like anti-aliased text.

	* dlls/x11drv/.cvsignore, programs/wineconsole/.cvsignore,
	  dlls/winsock/.cvsignore, dlls/winspool/.cvsignore,
	  dlls/winmm/wineoss/.cvsignore, dlls/winmm/wavemap/.cvsignore,
	  dlls/winmm/mciseq/.cvsignore, dlls/winmm/mciwave/.cvsignore,
	  dlls/winmm/midimap/.cvsignore, dlls/winmm/mciavi/.cvsignore,
	  dlls/winmm/mcicda/.cvsignore, dlls/winmm/joystick/.cvsignore,
	  dlls/winmm/mcianim/.cvsignore, dlls/winaspi/.cvsignore,
	  dlls/winmm/.cvsignore, dlls/win32s/.cvsignore,
	  dlls/ttydrv/.cvsignore, dlls/version/.cvsignore,
	  dlls/shell32/.cvsignore, dlls/tapi32/.cvsignore,
	  dlls/opengl32/.cvsignore, dlls/psapi/.cvsignore,
	  dlls/rasapi32/.cvsignore, dlls/olepro32/.cvsignore,
	  dlls/olesvr/.cvsignore, dlls/olecli/.cvsignore,
	  dlls/oledlg/.cvsignore, dlls/ole32/.cvsignore,
	  dlls/oleaut32/.cvsignore, dlls/msvideo/.cvsignore,
	  dlls/odbc32/.cvsignore, dlls/msacm/.cvsignore,
	  dlls/msnet32/.cvsignore, dlls/lzexpand/.cvsignore,
	  dlls/kernel/.cvsignore, dlls/kernel/messages/.cvsignore,
	  dlls/imagehlp/.cvsignore, dlls/imm32/.cvsignore,
	  dlls/icmp/.cvsignore, dlls/ddraw/.cvsignore, dlls/dplayx/.cvsignore,
	  dlls/dsound/.cvsignore, dlls/dciman32/.cvsignore,
	  dlls/crtdll/.cvsignore, dlls/avifil32/.cvsignore,
	  dlls/comctl32/.cvsignore, dlls/commdlg/.cvsignore,
	  dlls/advapi32/.cvsignore:
	Patrik Stridvall <ps@leissner.se>
	Avoid wildcards in .cvsignore.

	* objects/dc.c, objects/font.c, objects/gdiobj.c, include/config.h.in,
	  include/font.h, include/gdi.h, dlls/gdi/freetype.c, configure,
	  configure.in:
	Huw D M Davies <hdavies@codeweavers.com>
	Charles Loep <charles@codeweavers.com>
	Various fixes for gdi font handling code including:
	- Using TTs VDMX table to ensure that we get exactly that same size
	  font that Windows uses.
	- Fixes to many members of the metrics structures.
	- Font cache.
	- Rotated text support.
	- Support for GGO_GRAY?_BITMAP (ready for anti-aliased text).
	- Support for GGO_NATIVE.

	* programs/osversioncheck/osversioncheck.c,
	  programs/osversioncheck/osversioncheck.spec,
	  programs/wcmd/wcmd.spec, programs/wcmd/wcmdmain.c:
	Steven Edwards <Steven_Ed4153@yahoo.com>
	Changes wine_main to main to properly build on all platforms.

	* tools/winebuild/import.c:
	Clemens <therapy@endorphin.org>
	Should process the .dynsym of shared libraries instead of the .stab.

	* dlls/winmm/wineoss/audio.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Fixed ==/!= mismatch.

	* windows/nonclient.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Do not be too smart and add WS_CAPTION in AdjustWindowRectEx.

	* include/winsock.h:
	Francois Gouget <fgouget@free.fr>
	Avoid conflict with htonl & friends in Winelib on FreeBSD.

	* dlls/winsock/socket.c:
	Francois Gouget <fgouget@free.fr>
	Rename s_addr to src_addr to avoid a conflict on Solaris.
	Rename d_addr to dst_addr for symmetry.

	* include/msvcrt/setjmp.h:
	Francois Gouget <fgouget@free.fr>
	Prefix _JBLEN to avoid conflict on FreeBSD.

	* objects/enhmetafile.c:
	Aric Stewart <aric@codeweavers.com>
	Fleshed out some metafile conversions.

	* objects/palette.c:
	Aric Stewart <aric@codeweavers.com>
	Added the correct halftone palette.

	* dlls/winedos/int33.c: Nog <nog@sdf.lonestar.org>
	Implement function number 0x5 (Return mouse button press information).

	* server/file.c:
	Work around ftruncate implementations that don't support extending
	files.

	* dlls/shlwapi/path.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Fix PathCreateFromUrl{A|W} to return the corrrect error code in all
	cases.

	* dlls/shlwapi/reg.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Fix SHRegOpenUSKey{A|W} and SHRegQueryUSValue{A|W} to actually use
	previously open keys.

	* dlls/winedos/vga.c: Jukka Heinonen <jhei@iki.fi>
	Low-resolution and low-color VGA modes are now mapped into mode
	640x480x8. Added preliminary support for four bit modes.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	Put the prefix-underline-drawing away into it's own function so we can
	see what is happening.

	* files/drive.c:
	Aric Stewart <aric@codeweavers.com>
	GetDiskFreeSpace needs to set the last error on failure.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/safearray.c,
	  dlls/oleaut32/variant.c:
	Bill Medland <medbi01@accpac.com>
	A couple of additions.

2002-01-22  Alexandre Julliard  <julliard@winehq.com>

	* include/version.h, ANNOUNCE, ChangeLog:
	Release 20020122.

----------------------------------------------------------------
2002-01-22  Alexandre Julliard  <julliard@winehq.com>

	* windows/dialog.c:
	Removed no longer used average width calculation.

	* dlls/oleaut32/typelib.c:
	Marcus Meissner <marcus@jet.franken.de>
	The \\<nr> magic in LoadTypeLibEx found directories, which was not
	intended. Return error in that case.

	* configure, configure.in:
	Marcus Meissner <marcus@jet.franken.de>
	Abort if we do not find yacc or bison.

	* include/wine/obj_channel.h, include/wine/obj_marshal.h,
	  include/wine/obj_oleaut.h, ole/uuid.c:
	Marcus Meissner <marcus@jet.franken.de>
	Moved guids needed for Proxy/Stub factories to respective .h files,
	add to libwine_uuid.

	* dlls/msvcrt/console.c, dlls/msvcrt/cpp.c, dlls/msvcrt/ctype.c,
	  dlls/msvcrt/data.c, dlls/msvcrt/dir.c, dlls/msvcrt/environ.c,
	  dlls/msvcrt/errno.c, dlls/msvcrt/except.c, dlls/msvcrt/exit.c,
	  dlls/msvcrt/file.c, dlls/msvcrt/heap.c, dlls/msvcrt/locale.c,
	  dlls/msvcrt/main.c, dlls/msvcrt/math.c, dlls/msvcrt/mbcs.c,
	  dlls/msvcrt/misc.c, dlls/msvcrt/msvcrt.h, dlls/msvcrt/process.c,
	  dlls/msvcrt/string.c, dlls/msvcrt/thread.c, dlls/msvcrt/time.c,
	  dlls/msvcrt/wcs.c:
	Don't include debugtools.h in the header file, moved it to the C files
	that need it (and used the new wine/debug.h while we are at it).

	* include/Makefile.in, include/debugtools.h, include/wine/debug.h,
	  tools/winedump/output.c:
	Moved debug definitions to include/wine/debug.h.

	* dlls/shell32/pidl.c, dlls/shell32/shellord.c:
	Removed use of SET_DEBUGGING, it's broken anyway.

	* dlls/comctl32/toolbar.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Consistent usage of istring, use STR_[Get|Set]Ptr where appropriate.

	* windows/win.c:
	Tommy Schultz Lassen <tlassen@tlassen.dk>
	Make EnumWindows return TRUE if no windows exists.

	* dlls/winspool/info.c, dlls/winspool/winspool.drv.spec,
	  include/winspool.h:
	Mark G. Adams <mgadams@sympatico.ca>
	Add GetDefaultPrinter() functions.

2002-01-21  Alexandre Julliard  <julliard@winehq.com>

	* misc/options.c, dlls/ntdll/debugtools.c, dlls/shell32/pidl.c,
	  dlls/shell32/shellord.c, include/debugtools.h:
	Francois Gouget <fgouget@free.fr>
	Make the Wine trace facilities accessible from Winelib applications.

	* tools/winedump/pe.c, dlls/ddraw/d3ddevice/mesa.c,
	  dlls/quartz/audren.c, dlls/quartz/sample.c, dlls/wsock32/socket.c:
	Francois Gouget <fgouget@free.fr>
	Comment out/ifdef out unused code and variables.

	* files/profile.c:
	Marcus Meissner <marcus@jet.franken.de>
	Handle section==NULL (error) in WritePrivateProfileStringA.

	* dlls/x11drv/mwm.h, dlls/x11drv/window.c:
	Ove Kaaven <ovek@transgaming.com>
	Added support for MWM hints.

	* configure.in, configure:
	Andrew Lewycky <andrew@transgaming.com>
	Ove Kaaven <ovek@transgaming.com>
	Check for common broken nVidia+Mesa OpenGL library setups.
	Add some quoting.

	* dlls/winmm/wineoss/audio.c:
	Francois Gouget <fgouget@free.fr>
	Print the strerror instead of just the errno.

	* dlls/commdlg/colordlg.c:
	Francois Gouget <fgouget@free.fr>
	Add missing cast.

	* dlls/wininet/internet.c:
	Francois Gouget <fgouget@free.fr>
	Fix invalid C code (undefined behavior).

	* include/console.h, windows/defdlg.c, dlls/winsock/socket.c:
	Francois Gouget <fgouget@free.fr>
	Fix a couple of warnings and a typo.

	* programs/winetest/include/wine.pm, programs/winetest/tests/wine.pl,
	  programs/winetest/wine.xs:
	Don't convert "ptr" return type to a Perl string.
	Call GetProcAddress only when a function is actually called, not at
	declaration time.

	* files/file.c:
	Fixed function prototype that confused winapi_extract.

	* tools/winapi/winapi_extract, tools/winapi/winapi_extract_options.pm,
	  programs/winetest/include/advapi32.pm,
	  programs/winetest/include/avifil32.pm,
	  programs/winetest/include/comctl32.pm,
	  programs/winetest/include/comdlg32.pm,
	  programs/winetest/include/dciman32.pm,
	  programs/winetest/include/ddraw.pm,
	  programs/winetest/include/dinput.pm,
	  programs/winetest/include/dplayx.pm,
	  programs/winetest/include/dsound.pm,
	  programs/winetest/include/gdi32.pm,
	  programs/winetest/include/glu32.pm,
	  programs/winetest/include/icmp.pm,
	  programs/winetest/include/imagehlp.pm,
	  programs/winetest/include/imm32.pm,
	  programs/winetest/include/joystick_drv.pm,
	  programs/winetest/include/kernel32.pm,
	  programs/winetest/include/lz32.pm,
	  programs/winetest/include/mcianim_drv.pm,
	  programs/winetest/include/mciavi_drv.pm,
	  programs/winetest/include/mcicda_drv.pm,
	  programs/winetest/include/mciseq_drv.pm,
	  programs/winetest/include/mciwave_drv.pm,
	  programs/winetest/include/midimap_drv.pm,
	  programs/winetest/include/mpr.pm,
	  programs/winetest/include/msacm32.pm,
	  programs/winetest/include/msacm_drv.pm,
	  programs/winetest/include/msvcrt.pm,
	  programs/winetest/include/msvfw32.pm,
	  programs/winetest/include/ntdll.pm,
	  programs/winetest/include/odbc32.pm,
	  programs/winetest/include/ole32.pm,
	  programs/winetest/include/oleaut32.pm,
	  programs/winetest/include/olecli32.pm,
	  programs/winetest/include/oledlg.pm,
	  programs/winetest/include/olepro32.pm,
	  programs/winetest/include/olesvr32.pm,
	  programs/winetest/include/opengl32.pm,
	  programs/winetest/include/psapi.pm,
	  programs/winetest/include/quartz.pm,
	  programs/winetest/include/rasapi32.pm,
	  programs/winetest/include/riched32.pm,
	  programs/winetest/include/rpcrt4.pm,
	  programs/winetest/include/serialui.pm,
	  programs/winetest/include/setupapi.pm,
	  programs/winetest/include/shdocvw.pm,
	  programs/winetest/include/shell32.pm,
	  programs/winetest/include/shlwapi.pm,
	  programs/winetest/include/tapi32.pm,
	  programs/winetest/include/urlmon.pm,
	  programs/winetest/include/user32.pm,
	  programs/winetest/include/version.pm,
	  programs/winetest/include/w32skrnl.pm,
	  programs/winetest/include/winedos.pm,
	  programs/winetest/include/wineoss_drv.pm,
	  programs/winetest/include/wininet.pm,
	  programs/winetest/include/winmm.pm,
	  programs/winetest/include/winspool_drv.pm,
	  programs/winetest/include/wintrust.pm,
	  programs/winetest/include/ws2_32.pm,
	  programs/winetest/include/wsock32.pm:
	Patrik Stridvall <ps@leissner.se>
	Generate Perl modules defining prototypes for exported functions.

2002-01-18  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/dde/dde_private.h, dlls/user/dde/misc.c,
	  dlls/user/dde/server.c, dlls/user/dde/client.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed initialisation messages for raw DDE.
	Fixed DdeCreateDataHandle for non NULL or CF_TEXT formats.
	Various fixes (cosmetics, better error checking).

	* server/queue.c, dlls/user/message.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Implemented interprocess DDE message posting.

	* dlls/comctl32/listview.c, include/commctrl.h, windows/spy.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	- Make the ListView control Unicode ready.
	- Support both ANSI & Unicode ListView notifications.
	- Fixed a few bugs.

	* dlls/comctl32/comctl32undoc.c:
	Aric Stewart <aric@codeweavers.com>
	Initialize streamData and check on failure to read desired data from
	stream.

	* loader/module.c:
	Bill Medland <medbi01@accpac.com>
	Prevent trying to handle uninitialised memory as a string.

	* win32/console.c, dlls/shell32/shellstring.c, dlls/shlwapi/ordinal.c,
	  dlls/winsock/socket.c, dlls/advapi32/crypt.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/modules.dat,
	  tools/winapi_check/win32/comctl32.api,
	  tools/winapi_check/win32/user32.api,
	  tools/winapi_check/win32/ws2_32.api:
	Patrik Stridvall <ps@leissner.se>
	Minor API files update.

	* files/directory.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix return value of GetWindowsDirectoryA/W and GetSystemDirectoryA/W.

	* dlls/ntdll/cdrom.c:
	Bang Jun-Young <junyoung@mogua.com>
	Fix NetBSD compile errors; CDIOCREADAUDIO is not available on NetBSD.

	* dlls/msimg32/msimg32.spec, dlls/msimg32/msimg32_main.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added GradientFill stub.

	* windows/sysparams.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	SystemParametersInfo: fixed return value for SPI_SETFASTTASKSWITCH.

	* dlls/ole32/compobj.c:
	Bill Medland (medbi01@accpac.com)
	CoGetClassObject: for CLSCTX_LOCAL_SERVER at least look up the server
	in the registry, even though we don't yet execute it.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	- Don't string copy from uninitialised stack memory.  In fact don't
	  modify the input string if it didn't change.
	- Correct array size.
	- Logically separate the centring from the ellipsification.
	- Comment on prefix error.

	* debugger/types.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixes char array in structure dumping.

	* dlls/comctl32/comctl32.spec, dlls/comctl32/comctl32undoc.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Stub for comctl32.419

2002-01-15  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/tests/.cvsignore, dlls/kernel/tests/atom.pl, dlls/kernel/Makefile.in:
	Added atom test script.

	* programs/winetest/tests/wine.pl:
	Added some prototypes to function declarations.

	* programs/winetest/include/winbase.pm,
	  programs/winetest/include/wincon.pm,
	  programs/winetest/include/windef.pm,
	  programs/winetest/include/winerror.pm,
	  programs/winetest/include/wingdi.pm,
	  programs/winetest/include/winnls.pm,
	  programs/winetest/include/winnt.pm,
	  programs/winetest/include/winreg.pm,
	  programs/winetest/include/winsock2.pm,
	  programs/winetest/include/winspool.pm,
	  programs/winetest/include/winuser.pm,
	  programs/winetest/include/winver.pm, programs/winetest/make_symbols:
	Patrik Stridvall <ps@leissner.se>
	- Made the Perl module generated by make_symbols a real exporting
	  module.
	- Use constants instead of variables.

	* programs/winetest/include/wine.pm:
	Patrik Stridvall <ps@leissner.se>
	Added the possibility (it is optional for backward compability) to
	specify argument types in order to fix a "bug" concerning
	integer/string scalars.

	* windows/sysparams.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Implemented processing of actions SPI_SETKEYBOARDPREF,
	SPI_SETSCREENREADER.
	Save to registry value of SPI_SETSCREENSAVEACTIVE action.
	Changed processing of action SPI_SETFASTTASKSWITCH to conform to
	Windows behaviour on and after WinNT 4.0, Windows 95.

	* dlls/comctl32/comctl32undoc.c:
	Aric Stewart <aric@codeweavers.com>
	Catch maximum number of times and return out of memory error.

	* tools/winedump/output.c, include/console.h:
	Francois Gouget <fgouget@free.fr>
	Small typo fix.

	* dlls/user/user32.spec, include/winuser.h, windows/input.c,
	  dlls/comctl32/commctrl.c:
	Rein Klazes <rklazes@xs4all.nl>
	Move the implementation of comctl32._TrackMouseEvent to
	user32.TrackMouseEvent and call this function in accordance with the
	specs.

	* dlls/user/text.c:
	Bill Medland <medbi01@accpac.com>
	First stage of DrawText upgrade.
	- Rearrange code into three distinct areas; DrawText, GrayString,
	  TabbedText.
	- Remove unused macros.
	- Modify treatment of Tab arguments to fit with observed behaviour.
	  e.g. DrawTextEx with DT_TABSTOP but null dtp will not take the
	  setting from the flags.  Also only uses bits 15 to 8, not the
	  higher bits.

	* dlls/icmp/icmp_main.c:
	Rein Klazes <rklazes@xs4all.nl>
	Don't check the checksum of the original echo request packet in the
	received reply packet.

	* dlls/comctl32/comctl32.spec, dlls/comctl32/imagelist.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Stubs for ImageList_[S|G]etFlags.

	* controls/button.c:
	Rein Klazes <rklazes@xs4all.nl>
	Don't change button state on WM_MOUSEMOVE messages unless left mouse
	button is pressed.

	* controls/combo.c:
	Rein Klazes <rklazes@xs4all.nl>
	In CBPaintText use the text size as returned by LB_GETTEXT. The size
	returned by LB_GETTEXTLEN may be too large.

	* windows/defdlg.c:
	Rein Klazes <rklazes@xs4all.nl>
	Make DM_SETDEFID message work for owner drawn buttons as well.

	* dlls/winsock/socket.c:
	Michael C. Maggio <voyager@voyd.net>
	Code used AF_IPX in some places where it should have used WS_AF_IPX.

	* dlls/winspool/winspool.drv.spec:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Force ordinal allocation start from 100 as in Windows.

	* documentation/db2html-winehq:
	Frangois Gouget <fgouget@codeweavers.com>
	Fixed incorrect use of 'test -a' (for FreeBSD).

	* dlls/oleaut32/olefont.c:
	Bill Medland <medbi01@accpac.com>
	Leave IID check to the OleCreateFontIndirect, so that SFCF will handle
	all the interfaces that OleCreate.. will.

2002-01-14  Alexandre Julliard  <julliard@winehq.com>

	* programs/winetest/tests/.cvsignore, programs/winetest/tests/wine.pl,
	  programs/winetest/.cvsignore, programs/winetest/Makefile.in,
	  programs/winetest/test.pl:
	Integrated test script for winetest into the make test
	infrastructure.
	Added a few tests for the new wine.pm functions.

	* dlls/make_dlls, programs/winetest/runtest, Make.rules.in:
	Rewrote runtest in Perl so that it can be used on the Windows side.
	Added options for include directories, debug level and target platform.
	selection.

	* programs/winetest/include/wine.pm, programs/winetest/wine.pm,
	  programs/winetest/winetest.c:
	Added ok() function that doesn't stop the test on the first error.
	Added trace() function for debugging tests.
	Added support for todo functionality.
	Moved wine.pm to include directory.

	* programs/winetest/include/winbase.pm,
	  programs/winetest/include/wincon.pm,
	  programs/winetest/include/windef.pm,
	  programs/winetest/include/winerror.pm,
	  programs/winetest/include/wingdi.pm,
	  programs/winetest/include/winnls.pm,
	  programs/winetest/include/winnt.pm,
	  programs/winetest/include/winreg.pm,
	  programs/winetest/include/winsock2.pm,
	  programs/winetest/include/winspool.pm,
	  programs/winetest/include/winuser.pm,
	  programs/winetest/include/winver.pm, programs/winetest/make_symbols:
	Added Perl modules containing the #defines values for the
	corresponding Windows headers.

	* documentation/configuring.sgml, documentation/wine.conf.man.in:
	Stefan Leichter <Stefan.Leichter@camLine.com>
	Added, update information about AppDefault.

	* include/richedit.h, dlls/richedit/charlist.c,
	  dlls/richedit/reader.c, dlls/richedit/richedit.c,
	  dlls/richedit/text-writer.c:
	Daniel Walker <diwalker@earthlink.net>
	- Added debugging.
	- Transfer all relevant messages to the underlying edit control.

	* dlls/ole32/compobj.c, dlls/ole32/ole2.c, dlls/ole32/ole2nls.c,
	  dlls/ole32/ole2stubs.c, dlls/ole32/storage.c:
	Marcus Meissner <marcus@jet.franken.de>
	Removed some useless wingdi.h includes.

	* dlls/comctl32/comctl32.spec, dlls/comctl32/comctl32undoc.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Convert MRULists to Unicode.

	* dlls/shell32/shlfolder.c:
	Huw D M Davies <hdavies@codeweavers.com>
	IShellFolder_BindToObject should respect riid.

	* dlls/msvcrt/file.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	_stat: Better test for drive letter.

	* dlls/ntdll/cdrom.c:
	Francois Gouget <fgouget@free.fr>
	Fix compilation errors on FreeBSD.

	* libtest/hello5.c:
	James Juran <jamesjuran@alumni.psu.edu>
	LoadLibrary returns 0 on failure, not < 32.

	* libtest/Makefile.in:
	James Juran <jamesjuran@alumni.psu.edu>
	Use -DNONAMELESSUNION -DNONAMELESSSTRUCT when compiling.

	* include/winsock2.h, dlls/winsock/socket.c, dlls/winsock/ws2_32.spec:
	Daniel Walker <diwalker@earthlink.net>
	Implemented WSAAccept().

	* dlls/comctl32/toolbar.c:
	Guy Albertelli <galberte@neo.lrun.com>
	- Add additional TOOLBAR_CalcToolbar in a different path of Autosize.
	- Remember and process WM_SETREDRAW messages.
	- Process strings specificied in InsertButton{A|W}.

	* dlls/comctl32/rebar.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Fix a gripper issue and the adjustment of bands when RBBS_FIXEDSIZE
	specified.

	* tools/wineshelllink:
	Ove Kaaven <ovek@arcticnet.no>
	Prepend "--" to arguments.

2002-01-13  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winmm/mcicda/Makefile.in, dlls/winmm/mcicda/mcicda.c,
	  msdos/int2f.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Now using the NT CD interface.

	* misc/Makefile.in, misc/cdrom.c, win32/device.c,
	  dlls/ntdll/Makefile.in, dlls/ntdll/cdrom.c, files/drive.c,
	  files/file.c, include/cdrom.h, include/file.h, include/ntddcdrm.h,
	  include/ntddstor.h, include/winioctl.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Changed the Wine internal cdrom interface to the NT model.

2002-01-12  Alexandre Julliard  <julliard@winehq.com>

	* include/winreg.h, include/winver.h:
	Removed obsolete definitions.

	* include/winsock2.h, include/winnt.h:
	Fixed typos.

	* dlls/kernel/kernel32.spec, dlls/ntdll/ntdll.spec,
	  dlls/user/user32.spec:
	Updated debug channels.

	* server/ptrace.c:
	Check unix_pid again after attach.

	* server/named_pipe.c:
	Marcus Meissner <marcus@jet.franken.de>
	Add refcounting to the thread member of the pipe user.

	* documentation/debugger.sgml:
	Bill Medland <medbi01@accpac.com>
	How to specify a DLL in a debugger break command.

	* dlls/winmm/wineoss/audio.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed the wodReset implementation, internal messages priority, full
	duplex code, wait algorithm for feeding the OSS buffer.

	* debugger/hash.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Enhance display for symbol picking.

	* dlls/comctl32/toolbar.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix off by one error in TOOLBAR_AddStringW.

2002-01-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makefile.in, dlls/crypt32/.cvsignore, dlls/crypt32/Makefile.in,
	  dlls/crypt32/crypt32.spec, dlls/crypt32/main.c, configure,
	  configure.in:
	Travis Michielsen <tjmichielsen@yahoo.com>
	Added crypt32.dll stub.

	* include/wincrypt.h, include/winerror.h, dlls/advapi32/advapi32.spec,
	  dlls/advapi32/crypt.c, dlls/advapi32/crypt.h:
	Travis Michielsen <tjmichielsen@yahoo.com>
	Implement advapi32 portion of the CryptoAPI.

	* dlls/winmm/driver.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fix potential memory issue.

	* win32/editline.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fix some bad behavior when some lock states (capslock, numlock...)
	were turned on.

	* dlls/oleaut32/ole2disp.c:
	Bill Medland <medbi01@accpac.com>
	Comment only; error in Microsoft documentation.

	* tools/wineshelllink:
	François Gouget <fgouget@codeweavers.com>
	which is more portable than type (FreeBSD).

	* dlls/winsock/socket.c:
	Francois Gouget <fgouget@free.fr>
	Fix previous patch: the ws_sockaddr_u2ws return value was wrong.
	Make ws_sockaddr_{ws2u,u2ws} static.

	* programs/winetest/runtest, dlls/Makedll.rules.in, dlls/Makefile.in,
	  programs/Makeprog.rules.in, Make.rules.in, Makefile.in:
	Added rules for running tests.

2002-01-09  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winsock/socket.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Moved the functionality of WS_socket() to WSASocketA().
	Made WSASocketA() account for WSA_FLAG_OVERLAPPED.

	* include/wine/server_protocol.h, server/protocol.def, server/sock.c,
	  server/trace.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Added support for socket flags.

	* include/wine/server_protocol.h, server/console.c, server/device.c,
	  server/file.c, server/mapping.c, server/named_pipe.c,
	  server/object.c, server/object.h, server/pipe.c,
	  server/protocol.def, server/serial.c, server/sock.c, server/trace.c,
	  files/file.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	More general approach to file descriptor types and flags.

	* dlls/winsock/socket.c:
	Paul Rupe <prupe@nc.rr.com>
	Return length of WS_sockaddr structure in ws_sockaddr_u2ws.

	* dlls/oleaut32/typelib.c:
	Bill Medland <medbi01@accpac.com>
	Fixed GetDocumentation a little.  When called from RegisterTypeLib it
	was leaving the Doc entry uninitialised, leading to page fault when
	measuring it. Also ensure correct freeing of resources on failure.

	* server/thread.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Fixed a bug that caused APCs to be "forgotten".

	* dlls/ttydrv/wnd.c, dlls/x11drv/window.c, windows/win.c:
	Rein Klazes <rklazes@xs4all.nl>
	Move calling of CBT hooks from WIN_CreateWindowEx() to the driver.

2002-01-07  Alexandre Julliard  <julliard@winehq.com>

	* objects/font.c, objects/gdiobj.c, objects/metafile.c,
	  windows/cursoricon.c, dlls/shell32/control.c, dlls/user/text.c,
	  dlls/winedos/dosaspi.c, dlls/winedos/int31.c,
	  dlls/winedos/winedos.spec, dlls/gdi/gdi.spec,
	  dlls/msvcrt/msvcrt.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/win16/gdi.api, tools/winapi_check/win16/user.api,
	  tools/winapi_check/win32/gdi32.api,
	  tools/winapi_check/win32/kernel32.api,
	  tools/winapi_check/win32/msvcrt.api,
	  tools/winapi_check/win32/ntdll.api,
	  tools/winapi_check/win32/shell32.api,
	  tools/winapi_check/win32/shlwapi.api,
	  tools/winapi_check/win32/ttydrv.api,
	  tools/winapi_check/win32/urlmon.api,
	  tools/winapi_check/win32/user32.api,
	  tools/winapi_check/win32/winedos.api,
	  tools/winapi_check/win32/wininet.api,
	  tools/winapi_check/winapi_parser.pm, tools/winapi_check/winapi.pm,
	  tools/winapi_check/winapi_local.pm:
	Patrik Stridvall <ps@leissner.se>
	- API files update
	- Minor bug fixes

	* server/file.c, files/file.c:
	Martin Wilck <Martin.Wilck@fujitsu-siemens.com>
	Add server side support for async IO on files.
	Use pread/pwrite to read/write from the offset specified in the
	overlapped structure.

	* include/config.h.in, include/wine/obj_storage.h,
	  include/wine/port.h, library/port.c, configure, configure.in:
	Added configure check for pread/pwrite.

	* files/file.c:
	Mike McCormack <mike_mccormack@start.com.au>
	- Attempt write before going overlapped in Writefile.
	- Fix return codes in WriteFileEx.

	* include/file.h, scheduler/synchro.c, files/file.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Implement CancelIo properly.

	* dlls/user/comm16.c:
	Mike McCormack <mike_mccormack@start.com.au>
	- Don't use event flags with ReadFileEx and WriteFileEx.
	- Use overlapped structure with WriteFile, since FILE_FLAG_OVERLAPPED
	  is specified.
	- Cancel overlapped operations in CloseComm.

	* memory/selector.c, memory/virtual.c, scheduler/client.c,
	  scheduler/process.c, scheduler/synchro.c, scheduler/sysdeps.c,
	  include/thread.h, include/wine/exception.h:
	Added support for cleaning up the TEB from inside the exiting thread.

	* dlls/ntdll/debugtools.c, scheduler/thread.c:
	Allocate debug_info structure at the same time as the TEB.
	Removed the TEB cleanup service.

	* dlls/ntdll/signal_i386.c, dlls/ntdll/signal_sparc.c:
	Added SIGNAL_Reset function.

2002-01-06  Alexandre Julliard  <julliard@winehq.com>

	* tools/winedump/pe.c:
	Added support for dumping resources.

	* dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c:
	Mark G. Adams <mgadams@sympatico.ca>
	Fix UuidCreate() to not forget MAC address.
	Remove {}'s from UuidToStringA() output.
	Add UuidCreateSequential() function from Windows 2000.

	* configure.in:
	Bernhard Rosenkraenzer <bero@redhat.de>
	Added missing brackets in ncurses check.

	* dlls/ntdll/Makefile.in, Makefile.in, configure, configure.in:
	Removed obsolete dosmod.

	* dlls/kernel/nls/dea.nls, dlls/kernel/nls/del.nls,
	  dlls/kernel/nls/deu.nls, dlls/kernel/nls/eni.nls,
	  dlls/kernel/nls/esn.nls, dlls/kernel/nls/esp.nls,
	  dlls/kernel/nls/fin.nls, dlls/kernel/nls/fra.nls,
	  dlls/kernel/nls/frb.nls, dlls/kernel/nls/frl.nls,
	  dlls/kernel/nls/gae.nls, dlls/kernel/nls/grc.nls,
	  dlls/kernel/nls/ita.nls, dlls/kernel/nls/nlb.nls,
	  dlls/kernel/nls/nld.nls, dlls/kernel/nls/ptg.nls,
	  dlls/kernel/nls/wal.nls:
	Marcus Meissner <marcus@jet.franken.de>
	Change currency of the european Euro using countries to Euro.

	* LICENSE: Marcus Meissner <marcus@jet.franken.de>
	Fixed copyright date.

	* dlls/winedos/dosvm.c, dlls/winedos/dosvm.h, dlls/winedos/module.c:
	Ove Kaaven <ovek@arcticnet.no>
	DOS support restructure. The DOS virtual machine is now a set of
	threads running within Wine's own address space, obsoleting the old
	dosmod module.

2002-01-04  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/signal_i386.c, include/thread.h:
	Ove Kaaven <ovek@arcticnet.no>
	Fixed vm86_enter race conditions.

	* dlls/comctl32/comboex.c, dlls/comctl32/rebar.c,
	  dlls/comctl32/toolbar.c:
	Sander van Leeuwen <sandervl@xs4all.nl>
	Never delete the font object received by WM_SETFONT.

	* dlls/comctl32/tooltips.c:
	Sander van Leeuwen <sandervl@xs4all.nl>
	Fixed calls with wrong pointer: COMCTL32_Free(&lpttsi) should be
	COMCTL32_Free(lpttsi).

	* dlls/user/text.c:
	Sander van Leeuwen <sandervl@xs4all.nl>
	Fixed DC leak.

	* controls/button.c:
	Sander van Leeuwen <sandervl@xs4all.nl>
	Check, Radio & 3State buttons send WM_CTLCOLORSTATIC instead of
	WM_CTLCOLORBTN.

	* documentation/compiling.sgml,
	  documentation/installation-und-konfiguration.german,
	  documentation/porting.sgml, README:
	Removed references to xpm packages.

	* include/config.h.in, tools/wineinstall, configure, configure.in:
	We no longer need libXpm.

	* tsx11/Makefile.in, tsx11/X11_calls, tsx11/ts_xpm.c,
	  include/ts_xpm.h, tools/make_X11wrappers:
	We no longer need the xpm wrappers.

	* include/commctrl.h:
	Mike McCormack <mike_mccormack@start.com.au>
	Add define for undocumented status bar message SB_SETBORDERS.

	* include/imagehlp.h:
	Bill Medland <medbi01@accpac.com>
	Define LPSTACKFRAME too.

	* include/winuser.h, windows/spy.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add some new messages to the spy and winuser.h.

	* include/bitmaps/obm_close, include/bitmaps/obm_close_95,
	  include/bitmaps/obm_closed_95, include/bitmaps/obm_reduce,
	  include/bitmaps/obm_reduce_95, include/bitmaps/obm_reduced,
	  include/bitmaps/obm_reduced_95, include/bitmaps/obm_restore,
	  include/bitmaps/obm_restore_95, include/bitmaps/obm_restored,
	  include/bitmaps/obm_restored_95, include/bitmaps/obm_zoom,
	  include/bitmaps/obm_zoom_95, include/bitmaps/obm_zoomd,
	  include/bitmaps/obm_zoomd_95, include/gdi.h, include/user.h,
	  include/x11drv.h, dlls/x11drv/x11drv.spec,
	  graphics/x11drv/Makefile.in, graphics/x11drv/init.c,
	  graphics/x11drv/oembitmap.c, dlls/user/user_main.c,
	  dlls/ttydrv/ttydrv.spec, dlls/ttydrv/user.c:
	Removed LoadOEMResource from USER driver.

	* dlls/ntdll/file.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Print FIXME() for not implemented NtQueryVolumeInformationFile.

	* files/profile.c: Mehmet Yasar <myasar@free.fr>
	Do not save empty sections names.

	* dlls/commdlg/colordlg.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Remove a call to HEAP_strdupAtoW in the Color dialog.

	* graphics/x11drv/dib.c:
	Gavriel State <gav@transgaming.com>
	Speed up the GetImageBits case where we have an XShm image.

2002-01-03  Alexandre Julliard  <julliard@winehq.com>

	* windows/cursoricon.c, windows/mdi.c, windows/nonclient.c,
	  controls/menu.c, dlls/user/resources/user32_bitmaps.rc:
	Use DrawFrameControl instead of bitmaps in certain cases.
	Moved remaining OEM bitmaps to user32 resources.

	* dlls/ole32/ole2stubs.c, dlls/ole32/compobj.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented CoTreatAsClass, simplified OleSetAutoConvert.

	* dlls/shell32/shellord.c:
	Ove Kaaven <ovek@transgaming.com>
	Handle the lpDirectory field of the LPSHELLEXECUTEINFO.

2002-01-02  Alexandre Julliard  <julliard@winehq.com>

	* include/file.h, scheduler/synchro.c:
	Fixed check_async_list calling convention.

	* graphics/x11drv/oembitmap.c, include/bitmaps/obm_btncorners,
	  include/bitmaps/obm_btsize, include/bitmaps/obm_check,
	  include/bitmaps/obm_checkboxes, include/bitmaps/obm_combo,
	  include/bitmaps/obm_dnarrow, include/bitmaps/obm_dnarrowd,
	  include/bitmaps/obm_dnarrowi, include/bitmaps/obm_lfarrow,
	  include/bitmaps/obm_lfarrowd, include/bitmaps/obm_lfarrowi,
	  include/bitmaps/obm_mnarrow, include/bitmaps/obm_old_close,
	  include/bitmaps/obm_old_dnarrow, include/bitmaps/obm_old_lfarrow,
	  include/bitmaps/obm_old_reduce, include/bitmaps/obm_old_restore,
	  include/bitmaps/obm_old_rgarrow, include/bitmaps/obm_old_uparrow,
	  include/bitmaps/obm_old_zoom, include/bitmaps/obm_rgarrow,
	  include/bitmaps/obm_rgarrowd, include/bitmaps/obm_rgarrowi,
	  include/bitmaps/obm_size, include/bitmaps/obm_trtype,
	  include/bitmaps/obm_uparrow, include/bitmaps/obm_uparrowd,
	  include/bitmaps/obm_uparrowi, windows/cursoricon.c,
	  dlls/user/resources/user32.rc,
	  dlls/user/resources/user32_bitmaps.rc:
	Moved the OEM bitmaps that don't depend on the Wine look into the
	user32 resources.

	* dlls/dsound/dsound_main.c:
	Ove Kaaven <ovek@transgaming.com>
	Further unified HAL and HEL mixing, and added some more intelligence
	to prebuffering, with some basic prebuffer canceling support, to get
	rid of mixing delays in Half-Life. Used a very small waveout buffer
	queue in HEL mode, using a callback to queue additional buffers, to
	get rid of playback delays in Half-Life. Fixed a couple of bugs.

	* server/console.c, programs/wineconsole/dialog.c,
	  programs/wineconsole/registry.c, programs/wineconsole/user.c,
	  programs/wineconsole/wineconsole.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed color definition (bg and fg were swapped).
	Fixed some initialisation issues.
	Fixed exit condition when nothing was allocated.

	* dlls/oleaut32/safearray.c:
	Ove Kaaven <ovek@transgaming.com>
	If SafeArrayGetElement is called on a variant array, initialize
	destination variant before copying the array element to it, some badly
	behaved apps don't seem to do it themselves.

	* dlls/oleaut32/variant.c:
	Ove Kaaven <ovek@transgaming.com>
	Fixed a looks-like-nobody-ever-tested-this-function kind of bug in
	VariantCopyInd.

	* dlls/ntdll/exception.c:
	Ove Kaaven <ovek@transgaming.com>
	Made the output of --debugmsg +seh a bit more verbose.

	* dlls/comctl32/commctrl.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Make DrawStatusText Unicode ready. Get rid of a HEAP_strdup call.

	* dlls/opengl32/make_opengl, dlls/opengl32/opengl_ext.c,
	  dlls/opengl32/opengl_ext.h, dlls/opengl32/wgl.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- better support for extensions functions that do not have the same
	  name in windows and in Unix.
	- support the NV_vertex_array_range extension.

2002-01-01  Alexandre Julliard  <julliard@winehq.com>

	* console/xterm.c, dlls/winedos/Makefile.in, include/wine/port.h,
	  library/port.c, configure, configure.in:
	Link with libutil only where needed.

	* scheduler/synchro.c, files/file.c:
	Mike McCormack <mike_mccormack@start.com.au>R
	Set an overlapped's hEvent for ReadFile/WriteFile in an overlapped
	completion function, not in ReadFileEx or WriteFileEx.

	* windows/cursoricon.c, windows/mdi.c, windows/nonclient.c,
	  windows/user.c, windows/win.c, windows/winhelp.c,
	  objects/metafile.c, ole/ole2nls.c, win32/file.c, win32/newfns.c,
	  graphics/metafiledrv/init.c, loader/pe_resource.c, misc/registry.c,
	  files/change.c, graphics/enhmetafiledrv/init.c,
	  dlls/ole32/compobj.c, dlls/oleaut32/hash.c, dlls/oleaut32/olefont.c,
	  dlls/user/exticon.c, dlls/user/resource.c, dlls/ddraw/main.c,
	  dlls/mpr/wnet.c:
	Removed some of the calls to HEAP_strdup* functions.

	* programs/wineconsole/dialog.c, programs/wineconsole/user.c:
	James Juran <jamesjuran@alumni.psu.edu>
	Include <stdlib.h> to get prototype for abs() function.

	* dlls/ole32/stg_stream.c, dlls/ole32/storage32.c,
	  dlls/ole32/storage32.h:
	Jukka Heinonen <jhei@iki.fi>
	Name of the structured storage file root node is path of the file, not
	the name of the root node stored in the file.
	When reading streams stored into structured storage files, EOF is not
	supposed to cause an error if at least one byte can be returned.

2001-12-31  Alexandre Julliard  <julliard@winehq.com>

	* configure.in, library/Makefile.in, configure:
	Link with libdl only where needed.

	* server/protocol.def, server/trace.c, include/wine/server_protocol.h:
	Fixed string type in named pipe requests.

	* misc/cdrom.c:
	Chris Green <chris_e_green@yahoo.com>
	Get the correct label on iso9660 mixed-mode cds.

	* dlls/comctl32/imagelist.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Fixed memory leak.
	Removed redundant ImageList_DragShowNolock(FALSE) call.

	* programs/wineconsole/user.c:
	Marcus Meissner <marcus@jet.franken.de>
	Swap fg/bg color to be correct.

2001-12-26  Alexandre Julliard  <julliard@winehq.com>

	* include/version.h, ANNOUNCE, ChangeLog:
	Release 20011226.

----------------------------------------------------------------
2001-12-26  Alexandre Julliard  <julliard@winehq.com>

	* windows/sysparams.c, include/winuser.h:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Implemented basic handling of assessibility actions.

	* dlls/comctl32/animate.c:
	Michael Stefaniuc <mstefani@redhat.de>
	If the fccHandler is mmioFOURCC(0, 0, 0, 0) the AVI is also
	uncompressed.
	infoPtr->hWnd wasn't updated in ANIMATE_OpenA.

	* server/select.c:
	Save the registry before exiting on a SIGTERM.

	* objects/clipping.c:
	Make sure the DC visible region is updated in GetClipBox.

	* dlls/winedos/Makefile.in, include/config.h.in, msdos/int21.c,
	  configure.in, dlls/ttydrv/Makefile.in, configure:
	Link to the curses library only for the dlls that need it.

	* include/heap.h, dlls/oleaut32/ole2disp.h:
	Removed the SEGPTR_* macros.

	* tools/wrc/README.wrc, tools/wrc/parser.y, dlls/ddraw/dsurface/dib.c,
	  documentation/registry.sgml, README, configure, configure.in:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Documentation update.

	* memory/heap.c:
	Fixed bug in system heap creation when it already exists.

	* programs/control/control.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Updated to not rely on rundll32.exe any more.

	* windows/syscolor.c, controls/menu.c, dlls/shell32/control.c,
	  dlls/shell32/shell32.spec, dlls/user/user32.spec:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Fixed, added or implemented stubs:
	- DrawMenuBarTemp(): corrected parameter count.
	- CallCPLEntry16(): stub.
	- SetSysColorsTemp(): fully implemented (hopefully) this undocumented
	  function.

	* dlls/x11drv/mouse.c:
	Duane Clark <dclark@akamail.com>
	Added color cursor support.

	* windows/cursoricon.c:
	Duane Clark <dclark@akamail.com>
	Destroying cursor is not necessarily an error.

	* windows/winproc.c:
	Use MapLS/UnMapLS instead of SEGPTR_* macros.

	* include/winproc.h, windows/hook.c:
	Restructured hook mapping functions to avoid most memory
	allocations. Got rid of SEGPTR_* macros.

	* dlls/wininet/ftp.c, include/winbase.h, dlls/msvcrt/file.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix definition of BY_HANDLE_FILE_INFORMATION structure.

	* dlls/commdlg/cdlg_Sv.rc:
	Johan Dahlin <jdahlin@telia.com>
	Updated Swedish translation.

	* dlls/user/lstr.c, programs/wineconsole/wineconsole.c,
	  win32/console.c, dlls/kernel/format_msg.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Check the return value of *snprintf for C99 style overflow reporting.

	* include/user.h, dlls/user/comm16.c, dlls/user/msg16.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Use alertable waits in PeekMessage16 and GetMessage16 so we can
	process APCs for 16bit comms.

	* include/msdos.h:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Got rid of WINE_PACKED.

2001-12-24  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Implement/document ordinals 7-11.

	* dlls/gdi/freetype.c, dlls/wineps/truetype.c:
	Francois Gouget <fgouget@free.fr>
	Include ftsnames.h or ftnames.h, not both.

	* dlls/winsock/socket.c, dlls/user/comm16.c, dlls/winmm/driver.c,
	  dlls/winmm/lolvldrv.c, dlls/winmm/mci.c, dlls/winmm/mmio.c,
	  dlls/winmm/mmsystem.c, dlls/ole32/ifs.c, dlls/ole32/storage.c:
	Use MapLS/UnMapLS instead of SEGPTR_* macros.

	* dlls/comctl32/tab.c:
	Gerard Patel <gerard.patel@nerim.net>
	Forward tab notifications to the parent.

	* dlls/urlmon/umon.c, dlls/urlmon/urlmon.spec,
	  dlls/wininet/internet.c, dlls/wininet/wininet.spec,
	  dlls/shlwapi/string.c:
	Gerard Patel <gerard.patel@nerim.net>
	Trivial fixes for shlwapi and Internet routines.

	* debugger/winedbg.c:
	Bill Medland <medbi01@accpac.com>
	Fixed vsnprintf return value check.

2001-12-21  Alexandre Julliard  <julliard@winehq.com>

	* include/sysmetrics.h, windows/sysmetrics.c, windows/sysparams.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Implemented processing for actions SPI_SETMOUSEBUTTONSWAP,
	SPI_SETFASTTASKSWITCH, SPI_SETDRAGFULLWINDOWS, SPI_SETWORKAREA.

	* debugger/stabs.c, debugger/types.c, debugger/winedbg.c,
	  debugger/break.c, debugger/dbg.y, debugger/debugger.h,
	  debugger/expr.c, debugger/info.c, debugger/intvar.h,
	  debugger/memory.c, debugger/msc.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed stabs parsing for GCC 3.0 (default types).
	Added boolean type support.
	Simplified internal types handling.

	* win32/console.c, win32/editline.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed buffer length in history manipulation.
	Writing new chars must be done with default attribute (not cell
	current attribute).

	* dlls/winmm/wineoss/audio.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added full-duplex capability.
	Added missing init for wave-in.
	Fixed pause behavior in wave-out.
	Added message-ring deletion.
	Added experimental full-duplex capability.

	* dlls/winmm/mmio.c, dlls/winmm/winemm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed another bunch of bugs (mainly linked to operations where file
	pointer was past the end of file).

	* dlls/msvcrt/cpp.c, dlls/msvcrt/except.c, dlls/msvcrt/heap.c,
	  dlls/msvcrt/main.c, dlls/msvcrt/msvcrt.spec:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	François Gouget <fgouget@codeweavers.com>
	Add RTTI support.
	Fix what_exception prototype.
	Fix new_handler_func prototype.
	Add set_new_handler, _callnewh, _heapadd.
	Add stubs for __unDName and __unDNameEx.
	Added a semi-stub for __CxxFrameHandler.

	* include/msvcrt/setjmp.h, include/Makefile.in,
	  dlls/msvcrt/msvcrt.spec, dlls/msvcrt/except.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	François Gouget <fgouget@codeweavers.com>
	Alexandre Julliard <julliard@codeweavers.com>
	Implement setjmp/setjmp3 and longjmp.

	* graphics/x11drv/palette.c:
	François Gouget <fgouget@codeweavers.com>
	Handle more than 8 bits per color component.

	* graphics/x11drv/dib.c:
	François Gouget <fgouget@codeweavers.com>
	Merged the handling of 15 and 16 bits X server depths.
	Use the masks to distinguish between 15 and 16 bits.
	Check the masks better and call generic code if they are not
	supported directly.
	Changed the 'notsupported' traces from FIXMEs to WARNs.

	* server/serial.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Handle ReadIntervalTimeout=MAXDWORD special case a bit better.

	* files/file.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Don't return from overlapped ReadFile on EAGAIN and other non-fatal
	errors.

	* include/msvcrt/share.h:
	Bill Medland <medbi01@accpac.com>
	And in addition to Mingw32 we will want the _ versions.

2001-12-20  Alexandre Julliard  <julliard@winehq.com>

	* windows/class.c, windows/dialog.c, windows/mdi.c, loader/module.c,
	  objects/font.c, objects/gdiobj.c, scheduler/syslevel.c,
	  dlls/user/msg16.c, dlls/user/property.c, graphics/win16drv/brush.c,
	  graphics/win16drv/font.c, graphics/win16drv/init.c,
	  graphics/win16drv/pen.c, graphics/win16drv/prtdrv.c,
	  dlls/msvideo/msvideo_main.c, dlls/oleaut32/ole2disp.c:
	Use MapLS/UnMapLS instead of SEGPTR_* macros.

	* server/handle.c, server/mapping.c, server/mutex.c,
	  server/named_pipe.c, server/object.h, server/pipe.c,
	  server/process.c, server/protocol.def, server/queue.c,
	  server/registry.c, server/request.c, server/request.h,
	  server/semaphore.c, server/serial.c, server/snapshot.c,
	  server/sock.c, server/thread.c, server/timer.c, server/trace.c,
	  scheduler/synchro.c, server/async.c, server/async.h, server/atom.c,
	  server/change.c, server/console.c, server/debugger.c,
	  server/device.c, server/event.c, server/file.c, include/file.h,
	  include/wine/server_protocol.h, files/file.c, dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@start.com.au>
	- move async activation into the server
	- implement async queues

	* memory/global.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	GlobalReAlloc16: If heap has GlobalPageLock set, try only with
	HEAP_REALLOC_IN_PLACE_ONLY flag set.

2001-12-19  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/wowthunk.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Use GlobalPageLock for GetVDMPointer32W16 pointers.

	* relay32/relay386.c:
	Fixed stack offset in relay debugging of cdecl register functions.

	* memory/heap.c, memory/selector.c, graphics/win16drv/font.c,
	  include/heap.h, include/ntddk.h, include/winbase.h, include/winnt.h,
	  dlls/ole32/ifs.c, dlls/kernel/kernel32.spec, dlls/ntdll/Makefile.in,
	  dlls/ntdll/debugtools.c, dlls/ntdll/heap.c, dlls/ntdll/ntdll.spec,
	  dlls/ntdll/rtl.c:
	Moved heap functions to ntdll.
	Got rid of internal heap flags.
	Reimplemented MapLS to not depend on the segptr heap.

	* include/Makefile.in, include/msvcrt/share.h:
	Bill Medland <medbi01@accpac.com>
	Added share.h from Mingw32.

	* README: Bang Jun-Young <junyoung@mogua.com>
	Wine is now working on NetBSD, so add NetBSD to the supported OS'es
	list (and add some notes as well).

	* files/file.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Implemented timed-out non-overlapped ReadFile.

	* tools/wrc/ppl.l, tools/wrc/wrc.h:
	Michael Stefaniuc <mstefani@redhat.com>
	Replaced MAX with max and deleted definition of MAX.

	* dlls/comctl32/imagelist.c:
	Michael Stefaniuc <mstefani@redhat.com>
	Fixed/implemented the ImageList_*Drag* functions.

	* dlls/comctl32/propsheet.c:
	Lawson Whitney <lawson_whitney@juno.com>
	If there is no psInfo, it doesn't need to be cleaned up.

2001-12-17  Alexandre Julliard  <julliard@winehq.com>

	* if1632/.cvsignore, if1632/Makefile.in, if1632/thunk.c,
	  include/callback.h:
	Removed no longer used thunking and callout functions.

	* misc/system.c:
	Store the 16-bit callback in the timer structure instead of using a
	thunk.

	* windows/user.c, msdos/dpmi.c, objects/dib.c, scheduler/thread.c,
	  if1632/relay.c, loader/ne/resource.c, memory/local.c,
	  dlls/setupapi/virtcopy.c, dlls/winedos/dosaspi.c,
	  graphics/win16drv/prtdrv.c, dlls/kernel/utthunk.c,
	  dlls/kernel/wowthunk.c:
	Removed unnecessary includes.

	* scheduler/process.c:
	Call the 32-bit USER signal proc directly instead of using a callout.

	* dlls/x11drv/winpos.c:
	Paul Rupe <prupe@nc.rr.com>
	Prevent "window belongs to another process" errors when running
	multiple programs simultaneously.

	* dlls/kernel/kernel_main.c, dlls/kernel/thunk.c:
	Do not call THUNK_Init at startup, only do it when the app actually
	requires thunks.

	* include/cursoricon.h, loader/resource.c, windows/cursoricon.c,
	  dlls/user/user32.spec:
	Export DestroyIcon32 from user32 and use GetProcAddress to call it
	from FreeResource16.

	* windows/.cvsignore, windows/Makefile.in, windows/painting.c,
	  windows/win.c, dlls/user/.cvsignore, dlls/user/Makefile.in,
	  dlls/user/property.c, dlls/user/text.c, dlls/user/thunk.c,
	  dlls/user/user.spec, dlls/user/wnd16.c:
	Changed 16-bit USER Enum* functions to not use thunks, now that 16-bit
	Winelib is no longer supported.

	* windows/hook.c, windows/keyboard.c, dlls/user/mouse.c:
	Got rid of dynamic thunk allocation in mouse/keyboard event procs and
	window hooks.

	* dlls/shlwapi/reg.c, dlls/shlwapi/shlwapi.spec, include/shlwapi.h:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Implemented, documented or fixed SHDeleteOrphanKeyA/W, SHEnumKeyExA/W,
	SHEnumValueA/W, SHQueryInfoKeyA/W. SHRegGetPathA/W, SHRegSetPathA/W,
	SHGetValueA/W, SHSetValueA/W, SHQueryValueExA/W, SHDeleteKeyA/W,
	SHDeleteEmptyKeyA/W, SHDeleteValueA/W, ordinals 320-323.

	* memory/local.c: Rein Klazes <rklazes@xs4all.nl>
	Added error message in LOCAL_GetBlock().

	* windows/winpos.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	Altered the algorithm for selecting a new focus after a window is
	destroyed that currently has the focus.

	* dlls/gdi/.cvsignore, dlls/gdi/Makefile.in, dlls/gdi/gdi.spec,
	  dlls/gdi/thunk.c, objects/font.c, objects/gdiobj.c,
	  objects/linedda.c, objects/metafile.c:
	Changed 16-bit GDI Enum* functions to not use thunks, now that 16-bit
	Winelib is no longer supported.

	* objects/.cvsignore, objects/Makefile.in, objects/dc.c,
	  windows/dce.c, graphics/escape.c, include/gdi.h,
	  include/wine/wingdi16.h, dlls/gdi/gdi32.spec, dlls/gdi/printdrv.c:
	Changed DC hook and abort proc handling to avoid having to allocate
	thunks dynamically.

	* dlls/comctl32/tab.c: Nog <nog@sdf.lonestar.org>
	Pass on all unhandeled messages to the owner.

	* dlls/shlwapi/path.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	PathIsURL(A|W): Check for NULL strings.

	* dlls/wininet/http.c:
	Johan Dahlin <jdahlin@telia.com>
	Add a few extra fields to HTTP_GetStdHeaderIndex.

2001-12-14  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/user.spec, windows/winproc.c:
	Changed 16->32 window procedure thunks to use winebuild-generated
	entry code directly.

	* relay32/relay386.c, tools/winebuild/README, tools/winebuild/build.h,
	  tools/winebuild/import.c, tools/winebuild/parser.c,
	  tools/winebuild/spec16.c, tools/winebuild/spec32.c,
	  include/builtin16.h, dlls/ntdll/ntdll.spec, if1632/builtin.c,
	  if1632/relay.c, dlls/kernel/kernel32.spec, dlls/kernel/thunk.c,
	  dlls/kernel/win87em.spec, dlls/kernel/windebug.spec,
	  dlls/kernel/wprocs.spec, Make.rules.in, dlls/kernel/kernel.spec:
	Made register and interrupt flags instead of entry point types, so
	that we can have both stdcall and cdecl register functions.
	Changed 16-bit .spec.c file generation to avoid including builtin16.h.

	* dlls/winsock/socket.c, include/winsock.h:
	Paul Rupe <prupe@nc.rr.com>
	Very simple support for SO_OPENTYPE in getsockopt and setsockopt.

	* library/port.c:
	Bang Jun-Young <junyoung@mogua.com>
	Make use of solaris_try_mmap() for NetBSD. Rename it to
	try_mmap_fixed() since it's no longer Solaris-specific.

	* include/config.h.in, configure, configure.in:
	Bang Jun-Young <junyoung@mogua.com>
	Added check for stdint.h (needed on NetBSD).

	* dlls/wsock32/socket.c, dlls/wsock32/wscontrol.h:
	Bang Jun-Young <junyoung@mogua.com>
	Fix NetBSD compilation errors.

	* tools/wineshelllink:
	Simon Walton <simonw2@pacbell.net>
	Fixed a bashism.

	* dlls/winmm/wineoss/audio.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Thawed some freezes.
	Cleaned up time and notification handling.
	Typos fixes (Gerard).
	Added breakloop support.

2001-12-13  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/Makefile.in, dlls/user/painting.c, dlls/user/wnd16.c,
	  windows/painting.c:
	Started rewrite of painting functions for multiple processes. Moved
	BeginPaint to dlls/user. Fixed bug in paint count handling.

	* tools/wineshelllink:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed some places where whitespace was not handled correctly.
	Do not use `cmd`s within cat <<EOF since bash1 sometimes gets confused
	by it.

	* dlls/kernel/comm.c, dlls/user/comm16.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Only RTS_CONTROL_HANDSHAKE should set CRTSCTS.

	* dlls/ttydrv/ttydrv.spec, dlls/ttydrv/wnd.c:
	Eric Laforest <ecl@pet.dhs.org>
	Add the missing functionality in the tty driver.

2001-12-11  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/build.h, tools/winebuild/import.c,
	  tools/winebuild/main.c, tools/winebuild/relay.c,
	  tools/winebuild/spec32.c, include/winnt.h, relay32/relay386.c,
	  relay32/snoop.c, dlls/ntdll/.cvsignore, dlls/ntdll/Makefile.in,
	  dlls/ntdll/ntdll.spec, if1632/.cvsignore, if1632/Makefile.in:
	Exported CALL32_Regs from ntdll, renamed to __wine_call_from_32_regs
	to follow the naming convention for this type of functions.
	Split 16 and 32-bit relay functions into separate files, and moved the
	32-bit ones to dlls/ntdll.

	* dlls/shlwapi/shlwapi.spec:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Add new stub MLLoadLibrary.

	* dlls/wininet/http.c, dlls/wininet/internet.c, include/shlwapi.h,
	  dlls/shlwapi/ordinal.c, dlls/shlwapi/ordinal.h, dlls/shlwapi/path.c,
	  dlls/shlwapi/reg.c, dlls/shlwapi/shlwapi_main.c,
	  dlls/shlwapi/string.c, dlls/shlwapi/url.c, dlls/richedit/richedit.c,
	  dlls/shell32/clipboard.c, dlls/shell32/shellord.c,
	  dlls/shell32/shellpath.c, dlls/shell32/undocshell.h,
	  dlls/comctl32/commctrl.c, dlls/commdlg/filedlgbrowser.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Add exclusion defs & remaining funcs, remove internal types &
	obj_base.h (sync with win version), fixed a number of function
	prototypes.

	* scheduler/pthread.c:
	Jukka Heinonen <jhei@iki.fi>
	Implemented pthread_rwlock stubs.

	* controls/button.c:
	Bill Medland <medbi01@accpac.com>
	For a radio button even if the initial style includes WS_TABSTOP the
	first BM_SETCHECK 0 will clear it (even if the state was clear).

	* dlls/comctl32/treeview.c:
	Bill Medland <medbi01@accpac.com>
	A treeview item may be TVI_ROOT.

	* dlls/comctl32/toolbar.c:
	Dave Hawkes <daveh@cadlink.com>
	Fix for toolbar potentially using a NULL pointer.

2001-12-06  Alexandre Julliard  <julliard@winehq.com>

	* include/win.h, windows/win.c, windows/winpos.c:
	Added WIN_GetRectangles function.
	Fixed WindowFromPoint to work accross processes.

	* windows/message.c, include/sysmetrics.h, windows/sysmetrics.c,
	  windows/sysparams.c, dlls/user/user_main.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Implemented processing for actions: SPI_GET/SETGRIDGRANULARITY,
	SPI_GET/SETICONTITLEWRAP, SPI_GET/SETMENUDROPALIGNMENT,
	SPI_GET/SETDOUBLECLKWIDTH, SPI_GET/SETDOUBLECLKHEIGHT,
	SPI_GET/SETDOUBLECLICKTIME.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Change the message trace indentation to be consistent by thread.

	* debugger/msc.c, debugger/types.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	Fix for some types of C++ debug info that can cause winedbg to crash.

	* windows/dialog.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	DIALOG_CreateIndirect can incorrectly kill the current input focus.

2001-12-05  Alexandre Julliard  <julliard@winehq.com>

	* windows/winproc.c, dlls/kernel/thunk.c, dlls/kernel/utthunk.c:
	Removed calls to HEAP_GetSegptr.

	* dlls/winedos/module.c:
	Fixed compile for !MZ_SUPPORTED.

	* dlls/advapi32/registry.c, memory/registry.c:
	Use ntdll functions instead of MultiByteToWideChar/WideCharToMultiByte
	to avoid corrupting the last error code.

	* include/ntddk.h, memory/codepage.c, dlls/ntdll/misc.c,
	  dlls/ntdll/ntdll.spec, dlls/ntdll/ntdll_misc.h, dlls/ntdll/rtl.c,
	  dlls/ntdll/rtlstr.c, dlls/ntdll/sec.c, dlls/ntdll/wcstring.c:
	Removed ntdll dependency on MultiByteToWideChar/WideCharToMultiByte
	kernel32 functions, plus a few small cleanups.

	* include/Makefile.in, include/msvcrt/mbctype.h,
	  include/msvcrt/mbstring.h, include/msvcrt/string.h,
	  dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.spec:
	François Gouget <fgouget@codeweavers.com>
	Cleanup and improve the mbcs support.
	Add mbctype.h and mbstring.h.
	Implement putwc and putwchar.

	* dlls/comctl32/toolbar.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	The toolbar commands were not sent to the correct notification
	window.

	* include/wine/mmsystem16.h, include/wine/windef16.h,
	  include/wine/winnet16.h:
	Jukka Heinonen <jhei@iki.fi>
	Fixed incorrect packing.

	* dlls/msvcrt/environ.c:
	François Gouget <fgouget@codeweavers.com>
	getenv is case insensitive.

	* dlls/msvcrt/time.c:
	François Gouget <fgouget@codeweavers.com>
	mktime must normalize the struct tm fields.

2001-12-04  Alexandre Julliard  <julliard@winehq.com>

	* programs/wineconsole/Makefile.in, programs/wineconsole/dialog.c,
	  programs/wineconsole/registry.c, programs/wineconsole/user.c,
	  programs/wineconsole/winecon_private.h,
	  programs/wineconsole/winecon_user.h,
	  programs/wineconsole/wineconsole.c,
	  programs/wineconsole/wineconsole.spec,
	  programs/wineconsole/wineconsole_En.rc,
	  programs/wineconsole/wineconsole_Fr.rc,
	  programs/wineconsole/wineconsole_res.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- allow to save/restore some properties into the registry (like font,
	  cursor size...)
	- implement the two sets of properties (default & current)
	- fixed some bugs mainly in dialog
	- enhanced font selection mechanisms,
	- added and protected sub-menu for all operations (sysmenu is not
	  avail in managed mode)
	- better data separation for the backend(s)

	* server/console.h, server/debugger.c, server/process.c,
	  server/process.h, server/thread.c, server/console.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Let the console renderer be defined as a thread.

	* programs/winhelp/macro.h:
	James Juran <jamesjuran@alumni.psu.edu>
	Only include the necessary files to avoid conflicts in gethostname
	prototypes between winsock.h and unistd.h

	* objects/bitmap.c:
	Erik Inge Bolsø <knan@mo.himolde.no>
	CreateBitmap can take nHeight or nWidth = zero, and then returns a
	pointer to a 1x1 monochrome bitmap.

	* dlls/shlwapi/ordinal.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Correct implementation of _169 (call of Release). This fixes crashes
	  when actually attempting to call Release.
	- Correct some traces.

	* msdos/Makefile.in, msdos/devices.c, msdos/dosaspi.c, msdos/dosmem.c,
	  msdos/dpmi.c, msdos/int10.c, msdos/int16.c, msdos/int17.c,
	  msdos/int19.c, msdos/int20.c, msdos/int21.c, msdos/int29.c,
	  msdos/int2f.c, msdos/int33.c, msdos/interrupts.c, msdos/ioports.c,
	  msdos/vga.c, msdos/xms.c, include/callback.h, include/dosexe.h,
	  include/miscemu.h, include/vga.h, miscemu/main.c,
	  graphics/dispdib.c, dlls/ntdll/Makefile.in, dlls/ntdll/ntdll.spec,
	  dlls/winedos/Makefile.in, dlls/winedos/devices.c,
	  dlls/winedos/dosaspi.c, dlls/winedos/dosexe.h, dlls/winedos/dosvm.c,
	  dlls/winedos/int09.c, dlls/winedos/int10.c, dlls/winedos/int16.c,
	  dlls/winedos/int17.c, dlls/winedos/int19.c, dlls/winedos/int20.c,
	  dlls/winedos/int21.c, dlls/winedos/int29.c, dlls/winedos/int31.c,
	  dlls/winedos/int33.c, dlls/winedos/ioports.c, dlls/winedos/module.c,
	  dlls/winedos/vga.c, dlls/winedos/vga.h, dlls/winedos/winedos.spec,
	  dlls/winedos/xms.c, dlls/kernel/kernel_main.c,
	  dlls/kernel/wprocs.spec:
	Moved most of the real-mode stuff to dlls/winedos.

	* scheduler/process.c:
	Added SYNCHRONIZE access to stdio handles.

	* dlls/kernel/console.c:
	Marcus Meissner <marcus@jet.franken.de>
	Copy the correct number of bytes in WriteConsoleInputA.

	* dlls/winmm/mmio.c, include/mmsystem.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed bugs in output functions (write).
	Rewrote some parts for better DLL separation.
	Fixed some prototypes.
	Fixed mmioAdvance in write mode.

	* dlls/msacm/format.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed acmFormatChoose returned fields.

	* dlls/commdlg/filedlg95.c:
	Gerard Patel <gerard.patel@nerim.net>
	Initialize dialog data correctly in CreateTemplateDialog.

	* dlls/kernel/comm.c:
	Gerard Patel <gerard.patel@nerim.net>
	Misc fixes to DCB building from command line.

	* tools/wineconf:
	Gerard Patel <gerard.patel@nerim.net>
	Better handling of configuration with several Windows installations.

2001-12-01  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Undocumented feature of TB_{GET|SET}BUTTONINFO{A|W}: if mask has
	0x80000000 set then the command id is really the index.

	* dlls/shlwapi/path.c, dlls/shlwapi/reg.c, dlls/shlwapi/shlwapi.spec,
	  dlls/shlwapi/string.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Fixed PathIsURL{A|W}.
	- Implemented PathRenameExtension{A|W}, SHRegDuplicateHKey,
	  ChrCmpI{A|W}.
	- Added forwards to DrawTextW, CreateDialogParamA, CreateFontW,
	  TracePopupMenuEx.

	* include/shlwapi.h, dlls/shlwapi/ordinal.c, dlls/shlwapi/url.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Stub routines for _164, _208, _210, _211, _239, _356, _413, _437,
	  ColorRGBToHLS
	- Implement routines for _172, _174, _176, _199, _215, _219, _236, _377,
	  _378, UrlCompare{A|W}, UrlApplyScheme{A|W}.
	- Fix routines _217, _169, _240, _276, _342, _376.

2001-11-30  Alexandre Julliard  <julliard@winehq.com>

	* include/user.h, dlls/ttydrv/ttydrv.spec, dlls/ttydrv/user.c,
	  dlls/user/user_main.c, dlls/x11drv/x11drv.spec,
	  dlls/x11drv/x11drv_main.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Removed Get/SetScreenSaveTimeout user driver functions because they
	are not used.

	* dlls/comctl32/imagelist.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Implemented ImageList_GetDragImage.
	Fixed ImageList_SetDragCursorImage and ImageList_Merge.
	No need for StretchBlt in ImageList_BeginDrag.
	Added some traces.

	* dlls/x11drv/dga2.c:
	Glenn Schrader <geschrader@mediaone.net>
	Use gdi_display everywhere to avoid BadColor errors.

	* windows/nonclient.c, windows/painting.c:
	Gerard Patel <gerard.patel@nerim.net>
	Remove some possible interlocking problems with peb lock.

	* dlls/winsock/socket.c:
	Paul Rupe <prupe@nc.rr.com>
	Fixed WS_getpeername parameter in WS_accept.
	Changed order of event processing in WINSOCK_DoAsyncEvent.

	* memory/virtual.c:
	Andrew Lewycky <andrew@transgaming.com>
	map_image: map the PE header readonly.

	* loader/pe_image.c:
	Andrew Lewycky <andrew@transgaming.com>
	do_relocations: process relocation blocks with a VirtualAddress of 0,
	stop once SizeOfBlock == 0.

	* documentation/debugging.sgml:
	Michael Stefaniuc <mstefani@redhat.com>
	Rename debug.h to debugtools.h.

	* windows/winpos.c, windows/painting.c, windows/queue.c,
	  windows/timer.c, windows/win.c, windows/defwnd.c, windows/input.c,
	  windows/message.c, tools/make_requests, win32/console.c,
	  win32/device.c, win32/except.c, server/thread.h, server/timer.c,
	  server/trace.c, server/window.c, server/async.c, server/atom.c,
	  server/change.c, server/console.c, server/console.h,
	  server/context_i386.c, server/context_sparc.c, server/debugger.c,
	  server/device.c, server/event.c, server/file.c, server/handle.c,
	  server/mapping.c, server/mutex.c, server/named_pipe.c,
	  server/object.c, server/object.h, server/pipe.c, server/process.c,
	  server/protocol.def, server/queue.c, server/registry.c,
	  server/request.c, server/request.h, server/select.c,
	  server/semaphore.c, server/serial.c, server/snapshot.c,
	  server/sock.c, server/thread.c, msdos/vga.c,
	  programs/wineconsole/wineconsole.c, scheduler/client.c,
	  scheduler/handle.c, scheduler/pipe.c, scheduler/process.c,
	  scheduler/synchro.c, scheduler/thread.c, scheduler/timer.c,
	  memory/atom.c, memory/registry.c, memory/selector.c,
	  memory/virtual.c, misc/options.c, misc/registry.c,
	  include/wine/server.h, include/wine/server_protocol.h,
	  loader/module.c, loader/pe_image.c, include/thread.h,
	  include/winbase.h, include/wincon.h, dlls/user/message.c,
	  dlls/user/property.c, dlls/winsock/socket.c, files/change.c,
	  files/dos_fs.c, files/file.c, dlls/ntdll/exception.c,
	  dlls/ntdll/nt.c, dlls/ntdll/ntdll.spec, dlls/ntdll/om.c,
	  dlls/ntdll/reg.c, dlls/ntdll/sync.c, dlls/kernel/Makefile.in,
	  dlls/kernel/comm.c, dlls/kernel/console.c, dlls/kernel/debugger.c,
	  dlls/kernel/sync.c, dlls/kernel/toolhelp.c,
	  dlls/advapi32/registry.c:
	Redesign of the server communication protocol to allow arbitrary sized
	data to be exchanged.
	Split request and reply structures to make backwards compatibility
	easier.
	Moved many console functions to dlls/kernel, added code page support,
	changed a few requests to behave properly with the new protocol.

2001-11-25  Alexandre Julliard  <julliard@winehq.com>

	* tools/font_convert.sh, documentation/db2html-winehq,
	  documentation/make_winehq:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Avoid potential problems with filenames containing spaces.

	* win32/console.c, programs/wineconsole/wineconsole.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Now passing event with --use-event to let programs starting with
	digits being run.

	* miscemu/main.c:
	Joshua Thielen <thielen@netprince.net>
	mmsystem.dll should be automatically loaded for 16-bit apps.

	* debugger/debug.l:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed IO when not run with wineconsole.

2001-11-24  Alexandre Julliard  <julliard@winehq.com>

	* programs/winver/Makefile.in, programs/winetest/Makefile.in,
	  programs/winhelp/Makefile.in, programs/wineconsole/Makefile.in,
	  programs/winemine/Makefile.in, programs/uninstaller/Makefile.in,
	  programs/view/Makefile.in, programs/wcmd/Makefile.in,
	  programs/osversioncheck/Makefile.in, programs/progman/Makefile.in,
	  programs/regapi/Makefile.in, programs/regtest/Makefile.in,
	  programs/cmdlgtst/Makefile.in, programs/control/Makefile.in,
	  programs/notepad/Makefile.in, programs/avitools/Makefile.in,
	  programs/clock/Makefile.in, programs/Makeprog.rules.in:
	Compile all programs with -DSTRICT -DNONAMELESSUNION -DNONAMELESSSTRUCT.

	* server/window.c:
	Skip queue cleanups if queue has been destroyed already.

	* dlls/ntdll/reg.c, memory/registry.c, dlls/advapi32/registry.c:
	Fixed registry routines broken by the structure sizes fix.

2001-11-23  Alexandre Julliard  <julliard@winehq.com>

	* debugger/Makefile.in, debugger/debug.l, debugger/debugger.h,
	  debugger/editline.c, debugger/hash.c, debugger/source.c,
	  debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Revisited console support (got rid of old hacks and private editline
	since we now have a brand new console), removed private debug heap.

	* win32/Makefile.in, win32/console.c, win32/editline.c,
	  tools/make_requests, server/console.c, server/console.h,
	  server/debugger.c, server/file.c, server/handle.c, server/object.h,
	  server/process.c, server/process.h, server/protocol.def,
	  server/request.h, server/trace.c, scheduler/process.c,
	  programs/wineconsole/wineconsole.spec,
	  programs/wineconsole/wineconsole_En.rc,
	  programs/wineconsole/wineconsole_Fr.rc,
	  programs/wineconsole/wineconsole_res.h,
	  programs/wineconsole/wineconsole_res.rc,
	  programs/wineconsole/.cvsignore, programs/wineconsole/Makefile.in,
	  programs/wineconsole/dialog.c, programs/wineconsole/user.c,
	  programs/wineconsole/winecon_private.h,
	  programs/wineconsole/wineconsole.c, loader/module.c,
	  programs/Makefile.in, include/file.h, include/wincon.h,
	  include/wine/server_protocol.h, dlls/x11drv/x11drv_main.c,
	  documentation/running.sgml, documentation/wine.man.in, files/file.c,
	  configure.in, Makefile.in, configure:
	Eric Pouech <eric.pouech@wanadoo.fr>
	New console code based on Win32 windows.

	* msdos/vxd.c, loader/pe_image.c, memory/registry.c, dlls/ntdll/reg.c,
	  include/commctrl.h, include/dplay.h, include/dplobby.h,
	  include/mmsystem.h, include/nb30.h, include/ntddk.h,
	  include/ntdef.h, include/winbase.h, include/wingdi.h,
	  include/winnt.h, include/winuser.h, dlls/advapi32/registry.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed packing and layout of many system structures.

	* dlls/msvcrt/environ.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	MSVCRT_getenv: compare for the length of the key and return NULL in
	case of failure.

	* documentation/packaging.sgml:
	Michael Stefaniuc <mstefani@redhat.com>
	Add missing </para>.

	* dlls/user/comm16.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Check for completed overlappeds in ReadComm16 to solve problems with
	programs that loop on it but don't get data.

	* include/msvcrt/sys/types.h:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	_dev_t is an unsigned integer.

2001-11-20  Alexandre Julliard  <julliard@winehq.com>

	* windows/sysparams.c, dlls/x11drv/x11drv_main.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Implemented processing for actions SPI_GET/SETSCREENSAVETIMEOUT,
	SPI_GET/SETSCREENSAVEACTIVE, SPI_GET/SETSCREENSAVERRUNNING.

	* dlls/advapi32/advapi.c:
	James Juran <jamesjuran@alumni.psu.edu>
	GetUserName should include the terminating null character when
	returning the size of the buffer returned. Correctly handle the
	ERROR_MORE_DATA case.

	* memory/global.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Use exception handler for GlobalUnlock, GlobalFree.

	* dlls/winedos/int09.c, dlls/winedos/module.c, windows/cursoricon.c,
	  dlls/shell32/shellstring.c, dlls/shlwapi/ordinal.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation fixes.

	* dlls/x11drv/x11drv.spec, dlls/msrle32/msrle32.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/modules.dat,
	  tools/winapi_check/win16/winsock.api,
	  tools/winapi_check/win32/avicap32.api,
	  tools/winapi_check/win32/mapi32.api,
	  tools/winapi_check/win32/msimg32.api,
	  tools/winapi_check/win32/msrle32.api,
	  tools/winapi_check/win32/msvcrt.api,
	  tools/winapi_check/win32/msvfw32.api,
	  tools/winapi_check/win32/netapi32.api,
	  tools/winapi_check/win32/shlwapi.api,
	  tools/winapi_check/win32/sti.api,
	  tools/winapi_check/win32/ttydrv.api,
	  tools/winapi_check/win32/url.api,
	  tools/winapi_check/win32/urlmon.api,
	  tools/winapi_check/win32/winedos.api,
	  tools/winapi_check/win32/ws2_32.api,
	  tools/winapi_check/win32/x11drv.api,
	  tools/winapi_check/winapi_check:
	Patrik Stridvall <ps@leissner.se>
	Minor API files update.

	* dlls/comctl32/toolbar.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	TOOLBAR_GetRect did not correctly translate the command ID to the
	button index.

	* tools/wineshelllink:
	Dusan Lacko <dlacko@codeweavers.com>
	Add Debian/Mandrake menu system support.

	* windows/class.c:
	Bill Medland <Bill.Medland@accpac.com>
	It is legal to call UnregisterClass with an hInstance of zero.

	* server/context_i386.c, server/context_sparc.c:
	Francois Gouget <fgouget@free.fr>
	Only include 'sys/user.h' for Linux. Fixes a compilation error on
	FreeBSD 5.0.

	* include/winnt.h, dlls/advapi32/service.c, dlls/ntdll/nt.c:
	Francois Gouget <fgouget@free.fr>
	Fix LUID definition.

	* windows/spy.c, include/winuser.h:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Convert message spy to unicode.

	* windows/x11drv/keyboard.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	Fix lock up in GetKeyNameText due to an increment wrap when KeyCode is
	a char type and max_keycode is 255.

2001-11-19  Alexandre Julliard  <julliard@winehq.com>

	* win32/except.c, win32/time.c, programs/uninstaller/main.c,
	  programs/uninstaller/rsrc.rc, scheduler/pthread.c,
	  tools/wineinstall, msdos/int21.c, misc/cdrom.c, files/directory.c,
	  files/dos_fs.c, documentation/samples/config,
	  documentation/packaging.sgml, dlls/x11drv/dga2.c,
	  dlls/wineps/wps_De.rc, dlls/oleaut32/typelib.c,
	  dlls/ole32/compobj.c, controls/EDIT.TODO,
	  dlls/dplayx/dplayx_global.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- fix wrong hexadecimal GetLastError() output
	- misc fixes
	- changed my email address

	* dlls/kernel/debugger.c, server/process.c, tools/winebuild/spec32.c:
	James Juran <jamesjuran@alumni.psu.edu>
	Prevent warnings about labels at end of switch statements when
	compiling with gcc-3.x.

	* dlls/wsock32/protocol.c, dlls/wsock32/socket.c, server/trace.c:
	Francois Gouget <fgouget@codeweavers.com>
	Fix the Solaris and FreeBSD compilation errors introduced by the
	recent winsock update.

	* dlls/winmm/wineoss/audio.c:
	Simon Britnell <ughbash@yahoo.com>
	Fix a loop playing failure and a problem with choppy sound.

	* include/msvcrt/process.h, dlls/dinput/joystick/linux.c,
	  dlls/shlwapi/url.c:
	Francois Gouget <fgouget@free.fr>
	A few typos.

	* include/rpcndr.h:
	Francois Gouget <fgouget@free.fr>
	MIDL_STUB_MESSAGE needs a pack4 for the MaxCount field.

	* dlls/kernel/kernel32.spec:
	Francois Gouget <fgouget@free.fr>
	Better relaying for _lcreat.

	* dlls/avicap32/avicap32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Small typo in avicap32.spec fixed.

	* windows/win.c:
	Gerard Patel <gerard.patel@nerim.net>
	Fix exchanged lines in WIN_GetWindowLong.

2001-11-16  Alexandre Julliard  <julliard@winehq.com>

	* windows/defwnd.c:
	Truncate the window text if it is too large for the request buffer.

	* windows/class.c:
	Joshua Thielen <thielen@netprince.net>
	Local classes registered with USER instance handle now are now found
	in CLASS_FindClassByAtom.

	* include/richedit.h, dlls/richedit/richedit.c:
	Jussi Jumppanen <jussij@zeusedit.com>
	Added missing RichEdit defines.

2001-11-14  Alexandre Julliard  <julliard@winehq.com>

	* windows/win.c, dlls/user/message.c, include/win.h, server/queue.c,
	  server/user.h, server/window.c:
	Moved WIN_FindWinToRepaint functionality to the server.

	* server/sock.c, include/wine/winsock16.h, include/Makefile.in,
	  include/windows.h, include/winsock.h, include/winsock2.h,
	  include/ws2tcpip.h, include/wsipx.h, dlls/winsock/Makefile.in,
	  dlls/winsock/async.c, dlls/winsock/socket.c,
	  dlls/winsock/winsock.spec, dlls/winsock/ws2_32.spec,
	  dlls/wsock32/protocol.c, dlls/wsock32/socket.c,
	  dlls/wsock32/wsock32.spec:
	Francois Gouget <fgouget@free.fr>
	Make winsock.h and winsock2.h independent from the Unix headers.
	Make them compatible with both the Unix C headers and the MSVCRT
	headers.
	Ensure compatibility with the Unix headers via the USE_WS_PREFIX
	macro.
	Add WINE_NOWINSOCK: prevents winsock.h from being included from
	windows.h when defined.
	Add ws2tcpip.h, move definitions to the right header.

	* include/wingdi.h:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Structure NEWTEXTMETRIC uses packing 4.

	* include/mapidefs.h:
	Jussi Jumppanen <jussij@zeusedit.com>
	Added missing MAPI defines.

2001-11-13  Alexandre Julliard  <julliard@winehq.com>

	* windows/defwnd.c, windows/painting.c, windows/win.c,
	  include/wine/server_protocol.h, server/protocol.def, server/queue.c,
	  server/request.h, server/trace.c, server/unicode.h, server/user.h,
	  server/window.c:
	Store the window caption text in the server.
	Maintain a paint count separately for each window.

	* dlls/x11drv/winpos.c:
	Gerard Patel <gerard.patel@nerim.net>
	Fix the server paint count in SetWindowPos.

	* dlls/winmm/mmsystem.c, dlls/winmm/wavemap/wavemap.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed wave(In|Out)Open when called with WAVE_MAPPED flag; some minor
	16/32 API call ordering.

	* windows/input.c, windows/sysparams.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Implemented processing for SPI_GET/SETMOUSE, SPI_GET/SETKEYBOARDDELAY,
	SPI_GET/SETKEYBOARDSPEED actions. Implemented use of mouse
	acceleration/threshold for relative mouse movements.

	* controls/edit.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	EDIT_EM_LineLength called from within EDIT_EM_LineLength needs
	starting line char index, not line index (== line number).

	* include/shlwapi.h, dlls/shlwapi/ordinal.c, dlls/shlwapi/reg.c,
	  dlls/shlwapi/shlwapi.spec, dlls/shlwapi/url.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Implement ordinals 7, 8, 9, 13, 14, 19, 36.
	- Implement SHRegWriteUSValue{A|W}, UrlGetPart{A|W}, UrlIs...{A|W}

2001-11-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winmm/wineoss/audio.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed some race conditions in notification vs. operation
	synchronization using the same in process message ring in waveIn as in
	waveOut.

	* dlls/oleaut32/typelib.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Fixes stupid bug with typelib filenames.

	* dlls/user/wnd16.c:
	Lawson Whitney <lawson_whitney@juno.com>
	Cast id to unsigned in GetDlgItem16.

	* dlls/kernel/comm.c:
	Gerson Kurz <Gerson.Kurz@pergamon-software.de>
	Parity settings were not set properly in BuildCommDCBAndTimeouts()
	because of an off-by-one error.

	* dlls/commdlg/fontdlg.c:
	Gerard Patel <gerard.patel@nerim.net>
	Fixed handling of -1 itemid in WM_DRAWITEM.

	* dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.spec, dlls/msvcrt/time.c:
	Gerard Patel <gerard.patel@nerim.net>
	- implement mbscspn mostly as a stub
	- reimplement mktime

	* dlls/rasapi32/rasapi.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	- don't forget to initialize number of connections to 0
	- add "RAS doesn't work" warning

2001-11-09  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winmm/wineoss/audio.c:
	Simon Britnell <ughbash@yahoo.com>
	Cleaned up the wodPlayer functionality to make it easier to follow.
	Changed notification to be calculated from bytes played rather than
	time elapsed.

	* dlls/msacm/driver.c:
	Travis Michielsen <tjmichielsen@yahoo.com>
	Test bits with '&' instead of '&&'.

	* windows/sysmetrics.c, windows/sysparams.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Implemented SPI_ICONHORIZONTALSPACING, SPI_ICONVERTICALSPACING system
	parameters processing.

	* programs/regapi/regapi.c:
	François Gouget <fgouget@codeweavers.com>
	Correct handling of strings in setValue.
	Better handling of str(x) and hex(x) in setValue.
	Misc typos.

	* documentation/wine.man.in:
	Francois Gouget <fgouget@free.fr>o
	Document the new -winver versions.

	* dlls/user/wnd16.c:
	Joshua Thielen <thielen@netprince.net>
	Changed BM_ messages SETCHECK and GETCHECK to SETCHECK16 and
	GETCHECK16 in CheckDlgItem16 and IsDlgItemChecked16.
	Cast UINT16 value to UINT or INT depending on sign in SetDlgItemInt16.

	* relay32/builtin32.c:
	François Gouget <fgouget@codeweavers.com>
	Recognize the FreeBSD dlopen equivalent of "cannot open".

	* dlls/shlwapi/string.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Use proper unicode routine.

	* Make.rules.in:
	François Gouget <fgouget@codeweavers.com>
	Make out-of-source-tree builds work with Solaris make.

2001-11-08  Alexandre Julliard  <julliard@winehq.com>

	* include/version.h, ANNOUNCE, ChangeLog:
	Release 20011108.

----------------------------------------------------------------
2001-11-08  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/wcs.c, dlls/shlwapi/url.c, include/wine/unicode.h:
	Implemented inline version of the iswxxx functions.

	* msdos/int09.c, msdos/interrupts.c, msdos/ioports.c,
	  msdos/Makefile.in, dlls/winedos/Makefile.in, dlls/winedos/dosvm.c,
	  dlls/winedos/int09.c, dlls/winedos/winedos.spec:
	Ove Kaaven <ovek@arcticnet.no>
	Moved the int 9 (keyboard) handler to dlls/winedos.

	* dlls/user/comm16.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Find out how much data is available when calling ReadFileEx.

2001-11-07  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/winpos.c:
	Gerard Patel <gerard.patel@nerim.net>
	Repaired child window activation broken by previous change.

	* windows/win.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add dumping of window styles at the window creation time.

	* msdos/vga.c: Ove Kaaven <ovek@arcticnet.no>
	Added a few default palette entries for the VGA/MCGA 256-color mode.
	Made the VGA mode set go through RunInThread, so that the VGA graphics
	window gets owned by the right thread.

	* server/thread.c:
	Avoid ftruncate to work around broken UMSDOS file system.

	* windows/sysmetrics.c, windows/sysparams.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Created new infrastructure for SystemParametersInfo function. Used it
	to implement processing for SPI_GET/SETBEEP, SPI_GET/SETBORDER,
	SPI_GET/SETSHOWSOUNDS system parameters.

	* documentation/architecture.sgml:
	Bill Medland <medbi01@accpac.com>
	Minor grammatical corrections.

	* msdos/dpmi.c, dlls/winedos/module.c, dlls/winedos/winedos.spec,
	  include/callback.h, include/dosexe.h:
	Ove Kaaven <ovek@arcticnet.no>
	Added RunInThread callout to winedos.

	* server/protocol.def, server/trace.c, include/wine/server_protocol.h,
	  scheduler/synchro.c, server/named_pipe.c, dlls/kernel/sync.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Make ConnectNamedPipe work in overlapped mode.

	* dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Ignore DSR/DTR flow control in DCB. termios doesn't support it.

2001-11-06  Alexandre Julliard  <julliard@winehq.com>

	* include/shlwapi.h, dlls/shlwapi/path.c, dlls/shlwapi/shlwapi_main.c,
	  dlls/shlwapi/string.c, dlls/wininet/http.c, dlls/wininet/internet.c,
	  dlls/shell32/shlmenu.c, dlls/commdlg/filedlgbrowser.c,
	  dlls/richedit/richedit.c, dlls/shdocvw/shdocvw_main.c,
	  dlls/shell32/clipboard.c, dlls/shell32/iconcache.c,
	  dlls/shell32/pidl.c, dlls/shell32/shell.c,
	  dlls/shell32/shell32_main.c, dlls/shell32/shellstring.c,
	  dlls/shell32/shlfileop.c, dlls/shell32/shlfolder.c,
	  dlls/comctl32/commctrl.c:
	Guy Albertelli <galberte@neo.lrun.com>
	- Define rest of URL_ESCAPE... and other flags.
	- Define implemented interfaces for reg.c and url.c.

	* dlls/shlwapi/url.c:
	Guy Albertelli <galberte@neo.lrun.com>
	- Implement URL_ESCAPE_SEGEMENT_ONLY, URL_ESCAPE_PERCENT,
	  and URL_DONT_ESCAPE_EXTRA_INFO in the UrlEscape{A|W} routines.
	- Make UrlCanonicalizeA use UrlCanonicalizeW.
	- Implement full functionality in UrlCanonicalizeW.
	- Implement UrlCombine{A|W}.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/ordinal.h:
	Guy Albertelli <galberte@neo.lrun.com>
	- Implement SHLWAPI_1 (ASCII version of SHLWAPI_2).
	- Fix error in SHLWAPI_18
	- New file (ordinal.h) with documentation for _1, &_2.

	* windows/message.c, windows/winpos.c, dlls/x11drv/winpos.c,
	  include/winpos.h, dlls/ttydrv/wnd.c:
	Window activation cleanups.

	* scheduler/process.c:
	Return success in CreateProcess when we started a non-Winelib Unix
	process.

	* configure, configure.in:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add $X_LIBS path while searching for libfreetype.

	* dlls/dinput/device.c:
	<larstiq@larstiq.dyndns.org>
	Devices never need to be polled, so return DI_NOEFFECT in Poll.

	* server/select.c:
	Bill Medland <medbi01@accpac.com>
	Prevent danger of accessing freed memory (theoretical but unlikely
	bug).

	* programs/regapi/regapi.c:
	François Gouget <fgouget@codeweavers.com>
	strsep is not implemented on Solaris, replace it with our own portable
	implementation.

	* library/debug.c:
	Marcus Meissner <marcus@jet.franken.de>
	Renamed struct option to struct debug_option to avoid compile problems
	where struct option is already defined.

	* tools/wrc/writeres.c:
	Francois Gouget <fgouget@free.fr>
	Fix a buffer overflow in write_name_str, bug found by
	jonathan@corvu.com.au.

	* tools/winecheck: <ghutchis@cisco.com>
	Avoid parsing the whole tree to find libwine.so.

	* loader/module.c, windows/sysparams.c, dlls/user/exticon.c,
	  dlls/wsock32/socket.c, graphics/win16drv/init.c,
	  graphics/win16drv/prtdrv.c, dlls/shlwapi/reg.c,
	  dlls/shlwapi/string.c, dlls/shell32/iconcache.c,
	  dlls/shell32/pidl.c, dlls/shell32/shellord.c,
	  dlls/shell32/shlfolder.c, dlls/shell32/shlmenu.c,
	  dlls/shell32/shv_item_cmenu.c, dlls/oleaut32/variant.c,
	  dlls/shell32/changenotify.c, dlls/comctl32/comboex.c,
	  dlls/comctl32/tab.c, dlls/commdlg/filedlgbrowser.c,
	  dlls/kernel/toolhelp.c, dlls/ntdll/reg.c, controls/combo.c:
	Francois Gouget <fgouget@free.fr>
	Don't prefix %p with 0x.
	Various English fixes.

	* windows/x11drv/clipboard.c, windows/class.c, windows/dialog.c,
	  tools/wrc/parser.l, tools/wrc/ppl.l, win32/device.c,
	  server/request.c, tools/make_X11wrappers, tools/winebuild/build.h,
	  tools/winebuild/spec16.c, tools/winebuild/utils.c, msdos/dosmem.c,
	  msdos/dpmi.c, msdos/int10.c, scheduler/client.c,
	  scheduler/sysdeps.c, scheduler/thread.c, memory/global.c,
	  memory/virtual.c, misc/cpu.c, library/port.c, loader/elf.c,
	  loader/ne/module.c, loader/ne/resource.c, include/wine/port.h,
	  include/cdrom.h, include/config.h.in, include/console.h,
	  include/gdi.h, include/heap.h, include/thread.h, include/ts_shape.h,
	  include/ts_xf86dga.h, include/ts_xf86dga2.h, include/ts_xf86vmode.h,
	  include/ts_xlib.h, include/ts_xpm.h, include/ts_xrender.h,
	  include/ts_xresource.h, include/ts_xshm.h, include/ts_xutil.h,
	  include/ts_xvideo.h, include/wine_gl.h, include/x11drv.h,
	  dlls/x11drv/dga2.h, dlls/x11drv/x11ddraw.h, dlls/x11drv/xvidmode.h,
	  files/drive.c, dlls/winmm/wineoss/oss.h, dlls/winsock/async.c,
	  dlls/winsock/socket.c, dlls/ttydrv/bitmap.c, dlls/ttydrv/objects.c,
	  dlls/ttydrv/palette.c, dlls/ttydrv/ttydrv.h, dlls/ttydrv/user.c,
	  dlls/ntdll/misc.c, dlls/odbc32/proxyodbc.c, dlls/kernel/comm.c,
	  dlls/msvcrt/msvcrt.h, controls/menu.c, dlls/ddraw/mesa.c,
	  dlls/dplayx/dplay.c, configure.in, console/xterm.c, configure:
	François Gouget <fgouget@codeweavers.com>
	Fix the #include order for config.h.
	Add #include "config.h" directives where needed.

	* dlls/netapi32/netapi32.c, include/config.h.in, include/debugtools.h,
	  configure, configure.in:
	François Gouget <fgouget@codeweavers.com>
	Make debugtools.h independent from config.h.

	* server/window.c:
	Allow owner to be the desktop window.

	* programs/regapi/regapi.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	The 'dword' values should be stored as big endian values.

	* include/Makefile.in, include/nb30.h, configure.in, dlls/Makefile.in,
	  dlls/netapi32/.cvsignore, dlls/netapi32/Makefile.in,
	  dlls/netapi32/netapi32.c, dlls/netapi32/netapi32.spec, configure:
	Mike McCormack <mike_mccormack@start.com.au>
	Added netapi32.dll and the Netbios() call.

	* windows/caret.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	For drawing a caret, internally replaced the brush by a bitmap (this
	allows caret of size > 8x8),

	* misc/options.c, misc/version.c:
	Francois Gouget <fgouget@free.fr>
	Add versions for WinME and WinXP.
	Fix the 16bit version return for Win2000.
	More closely match the Win95/98 CSDVersion fields.
	Enhance documentation of Win95 version numbers.
	Confirm the existing data for Win2000.

	* dlls/shlwapi/reg.c:
	Francois Gouget <fgouget@free.fr>
	Fix incorrect use of a Unicode string literal.

	* graphics/x11drv/xfont.c, objects/font.c:
	François Gouget <fgouget@codeweavers.com>
	Add traces to help diagnose systematic cached-metrics regeneration
	problems.

	* dlls/shell32/iconcache.c:
	Francois Gouget <fgouget@free.fr>
	Rename SIC_CompareEntrys to SIC_CompareEntries, and make it static.

	* dlls/msrle32/.cvsignore, dlls/msrle32/Makefile.in,
	  dlls/msrle32/msrle32.c, dlls/msrle32/msrle32.spec, dlls/Makefile.in,
	  dlls/avicap32/.cvsignore, dlls/avicap32/Makefile.in,
	  dlls/avicap32/avicap32.spec, dlls/avicap32/avicap32_main.c,
	  configure, configure.in:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added stubs for msrle32.dll and implemented RLE8 decoder.
	Added stub for avicap32.

2001-11-05  Alexandre Julliard  <julliard@winehq.com>

	* objects/font.c, graphics/x11drv/xfont.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Convert GetCharWidth to Unicode.

	* dlls/user/message.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Move SPY_EnterMessage call after all possible exits so that there will
	be a matching SPY_ExitMessage.

	* dlls/shlwapi/shlwapi.spec, dlls/shlwapi/string.c,
	  dlls/shell32/shellstring.c:
	Guy Albertelli <galberte@neo.lrun.com>
	- Indicate that StrRetToStrN{A|W} and StrRetToBuf{A|W} are identical
	  code but duplicated deliberately.
	- Implement StrRChrI{A|W}.

	* windows/spy.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Add support for Wine internal messages.

	* tools/winedump/main.c, tools/winedump/msmangle.c,
	  tools/winedump/output.c, tools/winedump/pe.c,
	  tools/winedump/winedump.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed and globalized some path and module name handling.
	Tweaked the demangling of function pointers as function parameters.

	* dlls/winmm/wineoss/mixer.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed dst / src lines implementation.
	Added mux/mixer control for master rec.
	Added framework for multiple mixers.

	* dlls/winsock/socket.c:
	Gerard Patel <gerard.patel@nerim.net>
	Test for ws_timeout=NULL in winsock select().

	* configure.in, configure:
	François Gouget <fgouget@codeweavers.com>
	Tell Solaris users where to get XPM.

	* library/port.c:
	François Gouget <fgouget@codeweavers.com>
	FALSE is not defined on Solaris.

	* graphics/x11drv/dib.c:
	François Gouget <fgouget@codeweavers.com>
	Fix line length calculation in X11DRV_DIB_Convert_any_asis.
	Correctly initialize the color masks of 24bpp DIBs.

	* windows/class.c:
	Joshua Thielen <thielen@netprince.net>
	For global classes, GetClassInfo now returns a handle to USER.

	* msdos/interrupts.c, include/miscemu.h:
	Ove Kaaven <ovek@arcticnet.no>
	Implemented a dynamic table of DOS interrupt handlers.

2001-10-28  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winspool/info.c:
	Gerard Patel <gerard.patel@nerim.net>
	Fix RegSetValueEx calls and crash when DriverName="" in registry.

	* dlls/ntdll/signal_i386.c:
	Ove Kaaven <ovek@arcticnet.no>
	Protect against an interrupt-pending signal recursion.

	* dlls/quartz/Makefile.in, dlls/quartz/README, dlls/quartz/asyncsrc.c,
	  dlls/quartz/avidec.c, dlls/quartz/basepin.c, dlls/quartz/devenum.c,
	  dlls/quartz/devenum.h, dlls/quartz/devmon.c, dlls/quartz/devmon.h,
	  dlls/quartz/fgpass.c, dlls/quartz/fmap.c, dlls/quartz/ifgraph.c,
	  dlls/quartz/iunk.c, dlls/quartz/mtype.c, dlls/quartz/mtype.h,
	  dlls/quartz/parser.c, dlls/quartz/regsvr.c, dlls/quartz/regsvr.h,
	  dlls/quartz/seekpass.c, dlls/quartz/vidren.c,
	  dlls/quartz/wavparse.c, winedefault.reg:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixed some bugs.
	Implemented IPropertyBag.
	Implemented some FilterMapper2 methods.
	Implemented AddSourceFilter.
	Implemented Render partially.
	Implemented Connect partially.

	* include/strmif.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added definitions of MERITs.

	* dlls/msvideo/msvfw32.spec, dlls/msvideo/msvideo_main.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added stub for ICImageCompress.
	Implemented ICImageDecompress.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Added stubs for _18,_21,_22 which seem to be used only by native
	  shdocvw.dll
	- Implemented _26, _27, _28, _32, and _34 (more isw... functions).

	* dlls/shlwapi/url.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Stub UrlCombineA and initial implementation of UrlCombineW.

	* dlls/shlwapi/reg.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Implement SHRegGetBoolUSValue{A|W}.

	* dlls/user/resources/user32_icons.rc:
	Jeremy Newman <jnewman@codeweavers.com>
	Replaced Martini glass.

2001-10-25  Alexandre Julliard  <julliard@winehq.com>

	* loader/pe_image.c, scheduler/process.c, server/process.c:
	Don't keep main exe and dlls handles open when the file is on
	removable media.

	* dlls/shell32/shlview.c:
	Aric Stewart <aric@codeweavers.com>
	Add handling for LVN_GETDISPINFOW.

2001-10-24  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shlwapi/reg.c:
	Guy Albertelli <galberte@neo.lrun.com>
	- Correct implementation of HUSKEY internals, including functions:
	  SHRegOpenUSKey{A|W}, SHRegCloseUSKey, SHRegGetUSValue{A|W},
	  SHRegQueryInfoUSKey{A|W}
	- Implement SHRegQueryUSValue{A|W}

	* dlls/shlwapi/ordinal.c:
	Guy Albertelli <galberte@neo.lrun.com>
	-  Implement:
	      SHLWAPI_2  - Identify internet protocols.
	      SHLWAPI_25  -  iswalpha
	      SHLWAPI_33  -  iswdigit

	* windows/winpos.c:
	Joshua Thielen <thielen@netprince.net>
	Switch focus to activated window even if no window previously had the
	focus.

	* memory/virtual.c:
	Try to use read instead of mmap for files on removable media, so that
	we don't need to keep the mapping handle open.

	* server/file.c, server/mapping.c, server/object.h,
	  server/protocol.def, server/trace.c, files/dos_fs.c, files/file.c,
	  include/file.h, include/wine/server_protocol.h, misc/registry.c:
	Ove Kaaven <ovek@transgaming.com>
	Save a disk file's drive type in the server object.

2001-10-23  Alexandre Julliard  <julliard@winehq.com>

	* windows/win.c: Cosmetic fixes.

	* configure, configure.in, dlls/Makefile.in, dlls/devenum/.cvsignore,
	  dlls/devenum/Makefile.in, dlls/devenum/devenum.spec,
	  dlls/devenum/devenum_main.c, dlls/msdmo/.cvsignore,
	  dlls/msdmo/Makefile.in, dlls/msdmo/msdmo.spec,
	  dlls/msdmo/msdmo_main.c, dlls/qcap/.cvsignore,
	  dlls/qcap/Makefile.in, dlls/qcap/qcap.spec, dlls/qcap/qcap_main.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added stubs for msdmo.dll, qcap.dll and devenum.dll.

	* configure.in, dlls/gdi/freetype.c, include/config.h.in,
	  include/font.h, objects/font.c, configure:
	Huw D M Davies <hdavies@codeweavers.com>
	Implement GetFontData.

	* dlls/Makefile.in, dlls/oleaut32/Makefile.in,
	  dlls/oleaut32/oleaut32.spec, dlls/oleaut32/propertyframe.c,
	  dlls/oleaut32/stubs.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented OleCreatePropertyFrame and
	OleCreatePropertyFrameIndirect.

	* include/winbase.h, include/wincon.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Moved/added some console definitions.

	* misc/version.c:
	Marcus Meissner <marcus@jet.franken.de>
	Revert 16bit win95 version back to original value. Fixes InstallShield
	installer version check.

	* graphics/x11drv/codepage.c, graphics/x11drv/xfont.c,
	  include/x11font.h, objects/text.c:
	Huw D M Davies <hdavies@codeweavers.com>
	ExtTextOutW with symbol fonts works with chars in the ranges
	0x0000 -- 0x00ff and 0xf000 -- 0xf0ff and not, for example, with
	chars in the Unicode Greek range.

	* dlls/ole32/compobj.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Better failure messages for CoCreateInstance.

	* windows/dce.c:
	Fixed window handle check in GetDCEx.

	* windows/win.c: A couple of optimizations.

	* win32/except.c:
	Francois Gouget <fgouget@codeweavers.com>
	Expand environment variables in "Debugger" setting.
	Replace fixed-size buffers with dynamic ones.

	* dlls/shell32/classes.c, dlls/shell32/shell32_main.c:
	Aric Stewart <aric@codeweavers.com>
	Fixed the behavior for SHGetFileInfo when the SHGFI_USEFILEATTRIBUTES
	flag is set. Corrects the given type and icon.

2001-10-22  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ttydrv/wnd.c, dlls/user/message.c, dlls/user/user_main.c,
	  dlls/x11drv/window.c, dlls/x11drv/winpos.c, dlls/x11drv/x11drv.spec,
	  include/user.h, include/win.h, include/wine/server_protocol.h,
	  server/protocol.def, server/request.h, server/trace.c,
	  server/window.c, windows/defwnd.c, windows/win.c, windows/winpos.c,
	  controls/scroll.c:
	Store in the server all the window information accessible with
	Get/SetWindowLong.

	* dlls/winmm/wineoss/midi.c, files/file.c, dlls/advapi32/service.c,
	  dlls/ntdll/om.c, dlls/ole32/compositemoniker.c,
	  dlls/ole32/errorinfo.c, dlls/ole32/filemoniker.c,
	  dlls/ole32/hglobalstream.c, dlls/ole32/stg_stream.c,
	  dlls/wininet/ftp.c, dlls/wininet/internet.c,
	  dlls/winmm/mciwave/mciwave.c:
	Francois Gouget <fgouget@free.fr>
	Spelling, grammar and a bit of comment formatting fixes.

	* dlls/Makefile.in, dlls/quartz/Makefile.in, dlls/quartz/asyncsrc.c,
	  dlls/quartz/asyncsrc.h, dlls/quartz/audren.c, dlls/quartz/audren.h,
	  dlls/quartz/avidec.c, dlls/quartz/aviparse.c,
	  dlls/quartz/basefilt.c, dlls/quartz/basefilt.h,
	  dlls/quartz/basepin.c, dlls/quartz/csconv.c, dlls/quartz/fgpass.c,
	  dlls/quartz/imfilter.c, dlls/quartz/main.c, dlls/quartz/memalloc.c,
	  dlls/quartz/mtype.c, dlls/quartz/mtype.h, dlls/quartz/parser.c,
	  dlls/quartz/parser.h, dlls/quartz/quartz.spec, dlls/quartz/sample.c,
	  dlls/quartz/seekpass.c, dlls/quartz/seekpass.h,
	  dlls/quartz/videoblt.c, dlls/quartz/videoblt.h,
	  dlls/quartz/vidren.c, dlls/quartz/vidren.h, dlls/quartz/wavparse.c,
	  dlls/quartz/xform.c, dlls/quartz/xform.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixed some bugs.
	Implemented AVI Decompressor.
	Started implementing Color Space Converter.
	Started implementing seeking.

	* debugger/winedbg.c: Added "--auto" option.

	* dlls/wineps/init.c:
	Francois Gouget <fgouget@codeweavers.com>
	Add support for environment variables in the printer settings.
	Remove the fixed-size buffers.

	* include/msvcrt/sys/stat.h, include/msvcrt/sys/timeb.h,
	  include/msvcrt/sys/types.h, include/msvcrt/sys/utime.h,
	  include/msvcrt/conio.h, include/msvcrt/crtdbg.h,
	  include/msvcrt/ctype.h, include/msvcrt/direct.h,
	  include/msvcrt/dos.h, include/msvcrt/eh.h, include/msvcrt/fcntl.h,
	  include/msvcrt/io.h, include/msvcrt/locale.h,
	  include/msvcrt/malloc.h, include/msvcrt/process.h,
	  include/msvcrt/search.h, include/msvcrt/stddef.h,
	  include/msvcrt/stdio.h, include/msvcrt/stdlib.h,
	  include/msvcrt/string.h, include/msvcrt/time.h,
	  include/msvcrt/wchar.h, include/msvcrt/wctype.h:
	Francois Gouget <fgouget@free.fr>
	Added __WINE_USE_MSVCRT.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/wcstring.c:
	David Elliott <dfe@tgwbd.org>
	Implemented the wcstoul function.

2001-10-21  Alexandre Julliard  <julliard@winehq.com>

	* debugger/winedbg.c, dlls/oleaut32/ole2disp.c,
	  documentation/patches.sgml, documentation/samples/config,
	  files/dos_fs.c, files/profile.c, graphics/x11drv/oembitmap.c,
	  memory/instr.c, tools/winecheck, win32/except.c, windows/keyboard.c,
	  windows/win.c:
	Andreas Mohr <andi@rhlx01.fht-esslingen.de>
	Cosmetics.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Add stubs for _25, _33, _35
	- Add/correct code for: _15, _29, _30, _31, _151, _152, _153, _154,
	  _158.

	* dlls/shlwapi/reg.c, include/shlwapi.h:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Implement HUSKEY design.
	- Implement functions: SHRegOpenUSKey{A|W}, SHRegCloseUSKey,
	  SHRegGetUSValue{A|W}, SHRegQueryInfoUSKey{A|W}

	* dlls/shlwapi/url.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Implement UrlCanonicalizeW, UrlEscapeW, UrlUnescapeW.
	- Stub UrlGetLocation{A|W}.

	* dlls/ntdll/debugtools.c:
	Avoid crashing on non-initialized debug info.

	* include/wine/obj_property.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixed a typo.

	* objects/font.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Implemented GetCharacterPlacementW.

	* dlls/x11drv/xvidmode.c:
	Andrew Lewycky <andrew@transgaming.com>
	XFree86 4.1 gamma ramp support.

	* include/dsound.h:
	Ove Kaaven <ovek@transgaming.com>
	Fixed a typo.

	* dlls/kernel/comm.c, dlls/user/comm16.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Return TRUE on success in COMM_BuildOldCommDCB.
	DCB16.BaudRate > 57600 means 115200.
	OpenComm16 should use overlapped I/O.

2001-10-18  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ttydrv/ttydrv.h, dlls/ttydrv/ttydrv.spec, dlls/ttydrv/user.c,
	  dlls/user/mouse.c, dlls/user/mouse.spec, dlls/user/user_main.c,
	  dlls/x11drv/Makefile.in, dlls/x11drv/mouse.c, dlls/x11drv/window.c,
	  dlls/x11drv/x11drv.spec, include/mouse.h, include/user.h,
	  include/x11drv.h, windows/input.c, windows/x11drv/Makefile.in,
	  windows/x11drv/event.c, windows/x11drv/keyboard.c,
	  windows/x11drv/mouse.c:
	Changed X11 mouse driver to use SendInput, and removed WINE_MOUSEEVENT
	hack. Moved mouse.c to dlls/x11drv.
	Added KeymapNotify event handler, and fixed handling with multiple
	alt/shift/control keys.
	Removed dinput functions from USER driver.

	* include/winuser.h: Added a few XBUTTON defines.

	* windows/mdi.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Use WIN_ReleasePtr not WIN_ReleaseWndPtr with WIN_GetPtr.

	* dlls/dinput/Makefile.in:
	Make dinput a properly separated dll.

	* dlls/dinput/mouse/main.c:
	Use WH_MOUSE_LL hook instead of redirecting the mouse event handler.

	* dlls/dinput/keyboard/main.c:
	Fixed GetDeviceState and GetDeviceData to use only exported APIs.

2001-10-17  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/dib.c:
	Francois Gouget <fgouget@codeweavers.com>
	Fix tons of color conversion bugs.
	Reorganize things more rationally and so that more code is shared.

	* windows/input.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Fixed mouse_event bug - cursor was moved before new position was
	calculated.

	* dlls/ntdll/debugtools.c:
	Johan Gill <johane@lysator.liu.se>
	Relay tracing would crash if it came upon a function call with an
	invalid pointer as a parameter.

	* windows/input.c: Jukka Heinonen <jhei@iki.fi>
	Releasing a mouse button now clears an entry in table
	InputKeyStateTable instead of AsyncKeyStateTable.

	* windows/winpos.c:
	Bill Medland <medbi01@accpac.com>
	Only modify the ancestor if you find it.

	* windows/x11drv/event.c, windows/x11drv/keyboard.c,
	  include/wine/keyboard16.h, win32/console.c, windows/hook.c,
	  windows/input.c, windows/keyboard.c, windows/sysparams.c,
	  include/keyboard.h, include/queue.h, include/user.h,
	  include/winuser.h, include/x11drv.h, dlls/user/user_main.c,
	  dlls/user/keyboard.spec, dlls/user/lstr.c:
	Added support for low-level mouse and keyboard hooks.
	Misc keyboard handling cleanups.

	* windows/message.c, dlls/user/message.c, include/message.h,
	  server/main.c, server/queue.c, server/request.c, server/request.h:
	Make sure that GetMessagePos and GetMessageTime return sane values
	for all messages.

	* dlls/ddraw/dsurface/user.c:
	Jukka Heinonen <jhei@iki.fi>
	When a surface becomes primary surface, mark the whole surface damaged.

	* graphics/x11drv/palette.c:
	Francois Gouget <fgouget@codeweavers.com>
	Use the same color conversion algorithm as the DIB code (and Windows),
	i.e. shifts, not MulDivs.
	Fix the grayscale formula.

	* files/file.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Separate code to overlapped timeouts into FILE_GetTimeout.

2001-10-16  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/message.c, dlls/user/user_main.c, dlls/x11drv/window.c,
	  dlls/x11drv/winpos.c, include/queue.h, include/user.h,
	  include/win.h, include/winpos.h, windows/dce.c, windows/painting.c,
	  windows/queue.c, windows/win.c, windows/winpos.c,
	  windows/x11drv/event.c, controls/icontitle.c, dlls/ttydrv/wnd.c:
	Added internal Wine messages to perform SetWindowPos, ShowWindow and
	SetParent in the correct thread.
	Replace QUEUE_IsExitingQueue by USER_IsExitingThread.
	Store window rectangles in the server.
	Prevent DestroyWindow on windows not belonging to the current thread.

	* server/request.h, server/trace.c, server/window.c,
	  tools/make_requests, include/wine/server_protocol.h,
	  server/protocol.def:
	Added requests to store window rectangles in the server.

	* controls/menu.c, controls/scroll.c, dlls/user/controls.h,
	  include/nonclient.h, windows/defwnd.c, windows/nonclient.c:
	Moved scrollbar tracking code to scroll.c.
	Avoid unnecessary coordinates conversion in NC_HandleSysCommand.

	* README, documentation/bugs.sgml, documentation/cvs-regression.sgml:
	Gerard Patel <gerard.patel@nerim.net>
	Misc doc updates.

	* winedefault.reg:
	Ove Kaaven <ovek@transgaming.com>
	Registry entries for stdole32.tlb.

	* tools/winedump/main.c, tools/winedump/output.c, tools/winedump/pe.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- eliminate different segmentation faults.
	- when attempting to open a dll, append ".dll" to find it (was
	  stripped previously).
	- identify named exports so that the ordinal number is "@" in .spec
	  file.
	- setup output dll name prior to creating ordinal symbols.
	- don't overlay the named exports with the ordinal exports.
	- correct test for last symbol.
	- fix generated install script to match current make files.

2001-10-15  Alexandre Julliard  <julliard@winehq.com>

	* windows/mdi.c:
	Gerard Patel <gerard.patel@nerim.net>
	Fix the case where child=0 (last child) in MDI_ChildActivate.

	* controls/icontitle.c, controls/scroll.c, dlls/user/msg16.c,
	  dlls/x11drv/desktop.c, dlls/x11drv/scroll.c, dlls/x11drv/window.c,
	  dlls/x11drv/winpos.c, include/win.h, windows/class.c, windows/dce.c,
	  windows/defdlg.c, windows/defwnd.c, windows/dialog.c, windows/mdi.c,
	  windows/message.c, windows/nonclient.c, windows/painting.c,
	  windows/spy.c, windows/timer.c, windows/win.c:
	Renamed WIN_GetWndPtr into WIN_GetPtr and added corresponding
	WIN_ReleasePtr. Started using it instead of WIN_FindWndPtr where we
	don't need to access windows of other processes.

	* include/uuids.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some missing GUIDs.

	* dlls/msvcrt/file.c, include/msvcrt/stdio.h:
	Francois Gouget <fgouget@codeweavers.com>
	The _IOXXX macros conflict with system headers on Solaris. Prefix
	them.

	* dlls/shell32/shell.c:
	Kai Morich <mail@kai-morich.de>
	InternalExtractIcon16 forgot to close file handle.

	* include/winbase.h, memory/atom.c:
	Francois Gouget <fgouget@free.fr>
	Add INVALID_ATOM and MAXINTATOM to winbase.h.
	Replace MIN_STR_ATOM with MAXINTATOM.

2001-10-14  Alexandre Julliard  <julliard@winehq.com>

	* windows/class.c, windows/dialog.c, loader/elf.c, loader/ne/module.c,
	  loader/ne/resource.c, memory/global.c, memory/virtual.c, misc/cpu.c,
	  msdos/dosmem.c, msdos/dpmi.c, scheduler/client.c,
	  scheduler/sysdeps.c, scheduler/thread.c, server/request.c,
	  tools/winebuild/spec16.c, win32/device.c, controls/menu.c,
	  dlls/dplayx/dplay.c, dlls/kernel/comm.c, dlls/odbc32/proxyodbc.c,
	  dlls/winsock/async.c, dlls/winsock/socket.c, files/drive.c,
	  library/port.c:
	Francois Gouget <fgouget@codeweavers.com>
	When including 'wine/port.h', include it first.
	Remove redundant 'config.h' includes.

	* tools/winebuild/relay.c, tools/winebuild/spec32.c, tools/wmc/mcl.c,
	  tools/wmc/mcy.y, tools/wmc/wmc.c, windows/winproc.c,
	  windows/x11drv/wineclipsrv.c, dlls/user/exticon.c,
	  dlls/wineps/graphics.c, graphics/env.c, graphics/path.c,
	  loader/loadorder.c, loader/pe_resource.c, memory/heap.c,
	  memory/selector.c, msdos/int11.c, msdos/int16.c, relay32/relay386.c,
	  scheduler/critsection.c, server/mapping.c, server/trace.c,
	  tools/winebuild/import.c, tools/winebuild/main.c,
	  tools/winebuild/parser.c, console/generic.c, console/interface.c,
	  console/ncurses.c, console/tty.c, dlls/ddraw/d3ddevice/main.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dexecutebuffer.c,
	  dlls/ddraw/d3dtexture.c, dlls/ntdll/exception.c,
	  dlls/opengl32/wgl.c, dlls/shell32/systray.c:
	Francois Gouget <fgouget@codeweavers.com>
	When including config.h, include it first.

	* include/Makefile.in, include/rpcdce.h, include/rpcndr.h,
	  include/rpcproxy.h:
	Ove Kaaven <ovek@transgaming.com>
	Added some RPC definitions.

	* objects/font.c, windows/driver.c, dlls/shell32/shellord.c,
	  dlls/user/comm16.c, dlls/winmm/driver.c, dlls/winspool/info.c,
	  loader/module.c, dlls/shell32/pidl.c:
	Francois Gouget <fgouget@codeweavers.com>
	Don't print NULL strings (crashes on Solaris).
	Small code maintainability tweak in ShellExecuteExA.
	Two typo fixes in winmm.

	* include/amvideo.h, include/control.h, include/strmif.h,
	  dlls/quartz/Makefile.in, dlls/quartz/asyncsrc.c,
	  dlls/quartz/asyncsrc.h, dlls/quartz/audioutl.c,
	  dlls/quartz/audioutl.h, dlls/quartz/audren.c,
	  dlls/quartz/aviparse.c, dlls/quartz/basefilt.c,
	  dlls/quartz/basepin.c, dlls/quartz/complist.c,
	  dlls/quartz/complist.h, dlls/quartz/devenum.c, dlls/quartz/devmon.c,
	  dlls/quartz/enumunk.c, dlls/quartz/fgevent.c, dlls/quartz/fgidisp.c,
	  dlls/quartz/fgpass.c, dlls/quartz/fgraph.c, dlls/quartz/fgraph.h,
	  dlls/quartz/fmap.c, dlls/quartz/fmap.h, dlls/quartz/fmap2.c,
	  dlls/quartz/fmap2.h, dlls/quartz/ifgraph.c, dlls/quartz/igconfig.c,
	  dlls/quartz/igrver.c, dlls/quartz/imcntl.c, dlls/quartz/imfilter.c,
	  dlls/quartz/impos.c, dlls/quartz/imseek.c, dlls/quartz/main.c,
	  dlls/quartz/memalloc.c, dlls/quartz/mtype.c, dlls/quartz/mtype.h,
	  dlls/quartz/parser.c, dlls/quartz/parser.h,
	  dlls/quartz/quartz_private.h, dlls/quartz/regsvr.c,
	  dlls/quartz/sample.c, dlls/quartz/seekpass.c,
	  dlls/quartz/sysclock.c, dlls/quartz/vidren.c,
	  dlls/quartz/wavparse.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Started implementing AVI splitter.
	Implemented AsyncSource.
	Merged some C sources.
	Fixed some bugs.

	* include/mmreg.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added MPEG1WAVEFORMAT and MPEGLAYER3WAVEFORMAT.

	* files/dos_fs.c, files/file.c, include/file.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Pass security attributes for DOSFS creation.

	* dlls/oleaut32/typelib.c:
	Ove Kaaven <ovek@transgaming.com>
	Fixed bugs with propget methods with input arguments.
	Improved variant debug dumps.

	* dlls/oleaut32/safearray.c:
	Ove Kaaven <ovek@transgaming.com>
	Fixed bugs in safe arrays.
	- enlarging a safe array didn't clear the new entries
	- element access only validated the first dimension
	- the validation always failed when the array contained 1 element

	* dlls/oleaut32/olepicture.c:
	Ove Kaaven <ovek@arcticnet.no>
	Fix a UINT16 redefinition problem.

	* relay32/builtin32.c:
	Francois Gouget <fgouget@codeweavers.com>
	Recognize the Solaris dlopen equivalent of "cannot open".

	* tools/winemaker:
	Francois Gouget <fgouget@free.fr>
	Fix handling of empty lists in install and uninstall targets.
	Install the executables .so libraries in $bindir (not $libdir!).

2001-10-12  Alexandre Julliard  <julliard@winehq.com>

	* windows/Makefile.in, windows/property.c, windows/win.c,
	  dlls/user/Makefile.in, dlls/user/property.c, include/win.h,
	  include/wine/server_protocol.h, server/protocol.def,
	  server/request.h, server/trace.c, server/window.c:
	Store window properties in the server. Moved property.c to dlls/user.

	* memory/atom.c, server/atom.c, server/object.h, server/protocol.def,
	  server/trace.c, tools/make_requests, include/wine/server_protocol.h:
	Added atom_t type for atoms to make sure we use the same type
	everywhere. Handle MIN_STR_ATOM offset in the server.

	* dlls/user/controls.h, include/winbase.h, include/windef.h,
	  include/winuser.h:
	Moved MAKEINTATOM to winbase.h and added Unicode version.

	* windows/cursoricon.c:
	Marcus Meissner <marcus@jet.franken.de>
	Handle bad pointer arguments to LoadImageA() (and functions
	callingLoadImageA) with an exception handler.

	* windows/x11drv/clipboard.c:
	Dominik Strasser <dominik.strasser@t-online.de>
	Workaround X11 BadWindow error if no parent window is found.

	* tools/winemaker:
	Francois Gouget <fgouget@free.fr>
	Fix the Wine tools search path.
	Add /usr/local/lib to the default ntdll search path.

2001-10-11  Alexandre Julliard  <julliard@winehq.com>

	* include/queue.h, include/wine/server_protocol.h,
	  server/protocol.def, server/queue.c, server/request.h,
	  server/trace.c, windows/queue.c:
	Removed the cleanup_window_queue request.

	* dlls/ttydrv/wnd.c, dlls/x11drv/scroll.c, dlls/x11drv/winpos.c,
	  include/win.h, windows/property.c, windows/win.c, windows/winpos.c:
	Removed next and child fields in the window structure and use
	WIN_ListChildren instead.

	* include/uuids.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some missing GUIDs.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Fix the .spec.c rule.

2001-10-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ttydrv/wnd.c, dlls/x11drv/window.c, dlls/x11drv/winpos.c,
	  include/win.h, windows/win.c, windows/winpos.c:
	Store window parent as an HWND instead of a pointer.

	* files/file.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Do overlapped reads if and only if the file was opened with
	FILE_FLAG_OVERLAPPED.

	* dlls/shell32/shell32_main.c:
	Francois Gouget <fgouget@free.fr>
	Allocate the array and strings in one lump (bug found by Malte
	Starostik).
	Same thing for the lpCmdline="" case.
	There is no NULL pointer at the end of the argv list.

	* objects/text.c:
	Huw D M Davies <hdavies@codeweavers.com>
	GetTextCharsetInfo should return the charset that the driver is
	actually using, rather than that specified in the LOGFONT.

	* documentation/introduction.sgml:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Include information about XFree86 Windows server.

	* dlls/kernel/format_msg.c, dlls/msvcrt/locale.c,
	  dlls/oleaut32/typelib.c, include/winbase.h, include/winuser.h:
	Francois Gouget <fgouget@free.fr>
	Move the RT_XXX macros to winuser.h.
	winuser.h: Add support for NOGDI.
	winuser.h: Modify to allow compilation without wingdi.h.

	* include/shlobj.h, dlls/shell32/shellpath.c:
	Chris Green <chris_e_green@yahoo.com>
	Added names of the "missing" paths for SHGetSpecialFolderPathA.

2001-10-09  Alexandre Julliard  <julliard@winehq.com>

	* windows/class.c: Fixed locking of class list.
	Print ERR when accessing classes of other processes.

	* include/win.h, include/wine/server_protocol.h, server/protocol.def,
	  server/trace.c, server/window.c, windows/win.c:
	Store window class atom in the server.
	Keep unlinked windows on a separate list.
	Implemented inter-process FindWindow().

	* include/winbase.h, include/wine/winuser16.h:
	Francois Gouget <fgouget@free.fr>
	Remove non windows macros.

	* scheduler/pthread.c:
	Silence the pthread_kill_other_threads_np FIXME.

	* memory/virtual.c:
	Fix MapViewOfFile to always return a 64K-aligned address.
	Avoid converting pointers to UINT.

	* tools/winapi_check/modules.dat, tools/winapi_check/win16/kernel.api,
	  tools/winapi_check/win16/winsock.api,
	  tools/winapi_check/win32/advapi32.api,
	  tools/winapi_check/win32/kernel32.api,
	  tools/winapi_check/win32/mapi32.api,
	  tools/winapi_check/win32/msimg32.api,
	  tools/winapi_check/win32/quartz.api,
	  tools/winapi_check/win32/shell32.api,
	  tools/winapi_check/win32/sti.api, tools/winapi_check/win32/url.api,
	  tools/winapi_check/win32/ws2_32.api:
	Patrik Stridvall <ps@leissner.se>
	API files update.

	* dlls/advapi32/crypt.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed issue found by winapi_check.

	* dlls/winsock/async.c, include/Makefile.in, include/ws2spi.h:
	Patrik Stridvall <ps@leissner.se>
	Added new include file ws2spi.h for adding needed types.

	* dlls/setupapi/setupapi.spec:
	Stefan Leichter <Stefan.Leichter@camline.com>
	Fixed parameters of SetupOpenInfFileA.

2001-10-08  Alexandre Julliard  <julliard@winehq.com>

	* windows/painting.c:
	Moved MsgWaitForMultipleObjects call on RDW_UPDATENOW out of the
	RDW_Paint recursion.

	* include/winuser.h:
	Francois Gouget <fgouget@free.fr>
	Add support for NOCOLOR.

	* include/winbase.h, include/wine/winbase16.h, misc/version.c:
	Francois Gouget <fgouget@free.fr>
	Move WINDEBUGINFO from winbase.h to winbase16.h and rename to
	WINDEBUGINFO16.
	Move the related macros to version.c and ifdef them out (kept for
	documentation only, they are not used).

	* debugger/hash.c:
	Marcus Meissner <marcus@jet.franken.de>
	WINELIB applications (like reaktivate) might have very long (C++)
	symbols. Use a larger buffer.

	* files/drive.c:
	Gerard Patel <gerard.patel@nerim.net>
	GetDiskFreeSpaceEx should accept an input like "C:".

	* files/file.c, server/file.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- fixed copy&paste bug (GENERIC_WRITE instead of GENERIC_READ)
	- when getting the type of a handle, it has to be done even if no fd
	  is attached to it (console for example)

	* dlls/quartz/asyncsrc.c, dlls/quartz/asyncsrc.h,
	  dlls/quartz/audren.c, dlls/quartz/basefilt.c,
	  dlls/quartz/basefilt.h, dlls/quartz/basepin.c,
	  dlls/quartz/igconfig.c, dlls/quartz/main.c, dlls/quartz/memalloc.c,
	  dlls/quartz/mtype.c, dlls/quartz/mtype.h, dlls/quartz/parser.c,
	  dlls/quartz/parser.h, dlls/quartz/quartz.spec, dlls/quartz/sample.c,
	  dlls/quartz/sample.h, dlls/quartz/vidren.c, dlls/quartz/vidren.h,
	  dlls/quartz/wavparse.c, include/amvideo.h, dlls/quartz/Makefile.in,
	  winedefault.reg:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Started Implementing Video Renderer.
	Started Implementing WAVE/AU/AIFF Parser.
	Started Implementing file source.
	Fixed some bugs.

	* dlls/user/user32.spec, dlls/user/user_main.c:
	Renamed USER_Init into UserClientDllInitialize.

	* files/dos_fs.c, files/file.c, include/file.h,
	  include/wine/server_protocol.h, server/protocol.def,
	  server/serial.c, server/trace.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Make serial fd blocking mode depend on FILE_FLAG_OVERLAPPED.

	* objects/text.c, documentation/fonts.sgml, graphics/x11drv/xfont.c,
	  dlls/commdlg/printdlg.c:
	Francois Gouget <fgouget@free.fr>
	Small typo fixes/updates.

	* include/winbase.h, misc/error.c:
	Francois Gouget <fgouget@free.fr>
	Move the ERR_XXX macros from winbase.h to error.c.

	* dlls/winsock/socket.c, include/winsock.h, include/wsipx.h:
	Francois Gouget <fgouget@free.fr>
	Fix the SOCKADDR_IPX declaration.
	Centralize all sockaddr_xxx conversions in ws_sockaddr_ws2u and
	ws_sockaddr_u2ws.
	Remove ugly casts in TRACEs.

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Defer edit style correction until EDITSTATE is fully initialized.

	* dlls/msvcrt/thread.c:
	Francois Gouget <fgouget@codeweavers.com>
	_beginthread: Don't store the trampoline on the stack.

	* include/windef.h, include/wingdi.h:
	Francois Gouget <fgouget@free.fr>
	Move COLORREF from wingdi.h to windef.h.
	Add a prototype for GdiFlush.

	* tools/winemaker:
	Francois Gouget <fgouget@free.fr>
	Wrappers must always be compiled in STRICT mode.

	* debugger/debug.l:
	Provide help even when in the NOPROCESS state.

	* windows/x11drv/clipboard.c, windows/x11drv/wineclipsrv.c:
	Francois Gouget <fgouget@codeweavers.com>
	Fix infinite loop problem in wineclipsrv startup.
	LaunchServer: Don't give up on the first message.
	Added GetSelectionEvent: Limit CPU use and introduce timeout.

	* windows/message.c:
	Francois Gouget <fgouget@codeweavers.com>
	Better handling of the timeout in WaitForInputIdle.
	Use WAIT_FAILED rather than the corresponding literal.

	* dlls/urlmon/umon.c, include/urlmon.h:
	Malte Starostik <malte@kde.org>
	CreateURLMoniker takes a LPCWSTR, not a LPWSTR.

2001-10-05  Alexandre Julliard  <julliard@winehq.com>

	* windows/painting.c:
	Process pending events before sending WM_PAINT on RDW_UPDATENOW.

	* server/named_pipe.c, server/sock.c:
	Added get_file_info support to named pipes and sockets to avoid
	breaking the get_handle_fd request.

	* dlls/kernel/format_msg.c, include/winbase.h:
	Stefan Leichter <Stefan.Leichter@camline.com>
	Added defines for resource types RT_MESSAGETABLE, RT_VERSION.

	* dlls/user/message.c:
	Gerard Patel <gerard.patel@nerim.net>
	Fix sign extension problem in map_wparam_WtoA.

	* include/urlmon.h, include/wine/obj_property.h:
	Malte Starostik <malte@kde.org>
	Added IPersistPropertyBag2 and IPropertyBag2 definitions, added
	missing  BINDINFO member.

	* windows/cursoricon.c:
	Johan Gill <johane@lysator.liu.se>
	The LR_ defines do not reside in windows.h anymore.

	* dlls/oleaut32/typelib.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Remove some unnecessary AddRef's.

	* windows/x11drv/keyboard.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add XK_Mode_switch to the list of ignored keysyms.

	* tools/winelauncher.in:
	Daniel Sabo <danielsabo@hotmail.com>
	A 'fi' was needed in the last if statement.

2001-10-04  Alexandre Julliard  <julliard@winehq.com>

	* include/version.h, ANNOUNCE, ChangeLog:
	Release 20011004.

----------------------------------------------------------------
2001-10-04  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/dib.c:
	Ignore RLE data that goes past the line end (found by Uwe Bonnes).
	General cleanup of the RLE routines.

	* dlls/wininet/http.c, dlls/wininet/utility.c:
	Nikolas Zimmermann <wildfox@kde.org>
	Skip port number before calling gethostbyname.
	Fix non-absolute urls.

	* dlls/oleaut32/typelib.c:
	Ove Kaaven <ovek@transgaming.com>
	The DISPPARAMS parameter array is a reverse-order array.

	* files/file.c, include/wine/server_protocol.h, server/console.c,
	  server/device.c, server/file.c, server/mapping.c, server/object.c,
	  server/pipe.c, server/protocol.def, server/serial.c, server/trace.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Fetch a handle type in FILE_GetUnixHandle.

	* debugger/winedbg.c:
	Don't ignore first chance debug exceptions since it may be a
	breakpoint that we set ourselves.

	* documentation/fonts.sgml:
	Bill Medland <medbi01@accpac.com>
	A couple of minor points about converting Windows fonts.

	* dlls/oleaut32/variant.c:
	Ove Kaaven <ovek@transgaming.com>
	Implement coercion to VT_UNKNOWN from VT_DISPATCH.

	* dlls/oleaut32/typelib.c:
	Ove Kaaven <ovek@transgaming.com>
	ITypeInfo::Invoke should also search inherited interfaces for the
	method to invoke.
	ITypeInfo::GetIDsOfNames needs to do case-insensitive string
	compares.

2001-10-03  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/bitblt.c:
	Skip BitBlt DIB optimization if source and dest DCs have different
	depths.

	* windows/win.c, dlls/user/user_main.c, dlls/x11drv/winpos.c,
	  dlls/x11drv/x11drv.spec, include/user.h, windows/defwnd.c:
	Gerard Patel <gerard.patel@nerim.net>
	Map a window if it is shown by a direct style change.

	* dlls/oleaut32/typelib.c:
	Ove Kaaven <ovek@transgaming.com>
	Don't ignore DISPATCH_METHOD in ITypeInfo::Invoke.

	* dlls/shell32/shell32_main.c, dlls/shell32/shellord.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Fix SHAddToRecentDocs code to properly handle native Comctl32 and
	missing policies location.

	* dlls/oleaut32/typelib.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Looks like the SLTG_ImplInfo struct isn't a fixed size.

	* include/wine/obj_oleaut.h:
	Ove Kaaven <ovek@transgaming.com>
	Corrected INVOKEKIND enumeration values.

	* scheduler/process.c:
	Aric Stewart <aric@codeweavers.com>
	Make sure that newly allocated TLS indexes are cleared.

	* scheduler/thread.c:
	Andreas Mohr <a.mohr@mailto.de>
	Better fake implementation of SetThreadExecutionState.

2001-10-02  Alexandre Julliard  <julliard@winehq.com>

	* objects/dc.c, windows/dce.c:
	Free cache DCEs if the DC gets deleted.

	* windows/input.c: Fixed typo in previous change.

	* tools/winebuild/spec32.c:
	Avoid including winbase.h in generated .spec.c files.

	* dlls/odbc32/proxyodbc.c, dlls/odbc32/proxyodbc.h:
	Bill Medland <medbi01@accpac.com>
	Allow two connections by not releasing the wrapped library too early.
	Also heavily protected and added additional trace information.
	Make the Load functions static to reduce visiblity (enhance
	simplicity).

	* windows/input.c, windows/message.c, dlls/user/message.c,
	  include/input.h:
	Merged mouse buttons states into the key state array.
	Fixed confusion between queue state and async state.

	* dlls/dinput/keyboard/main.c, dlls/dinput/mouse/main.c:
	Removed unnecessary includes/definitions.

	* dlls/x11drv/window.c:
	Ilya Konstantinov <wine-patches@future.shiny.co.il>
	Added a _NET_WM_NAME(UTF8_STRING) property to every window.

	* include/sysmetrics.h, windows/sysmetrics.c, windows/sysparams.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Added SYSMETRICS_Set.
	Implemented SPI_SETSHOWSOUNDS action.

	* dlls/oleaut32/oleaut.c, dlls/oleaut32/variant.c:
	Andreas Mohr <a.mohr@mailto.de>
	Make OaBuildVersion() return the highest version value possible.
	Some cleanups.

	* tools/winelauncher.in, win32/device.c, configure, configure.in,
	  files/drive.c, files/profile.c, loader/module.c, loader/pe_image.c,
	  memory/environ.c:
	Andreas Mohr <a.mohr@mailto.de>
	Yet another documentation/message text patch.

	* documentation/documentation.sgml,
	  documentation/winelib-bindlls.sgml,
	  documentation/winelib-intro.sgml:
	Bill Medland <medbi01@accpac.com>
	Additions to how to use Docbook under RedHat (to help beginners like
	me).
	Added content to the bindlls section of Winelib (based on
	experience).

	* documentation/winemaker.man:
	Bill Medland <medbi01@accpac.com>
	Upgrade winemaker man page for the two options added at version
	0.5.8.

	* dlls/winsock/socket.c, dlls/winsock/ws2_32.spec, include/winsock2.h:
	Andreas Mohr <a.mohr@mailto.de>
	Added WSC*InstallProvider stubs.

	* documentation/winelib-mfc.sgml:
	Gracjan Polak <gracjan@acchsh.com>
	Added some MFC documentation (with the help of Francois Gouget).

	* files/file.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Check for NULL path argument in DeleteFile.

	* dlls/oleaut32/typelib.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Long nameless args in SLTG apparently get denoted by 0xfffe.

	* dlls/shell32/changenotify.c, dlls/shell32/shell32.spec,
	  dlls/shell32/shellord.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Implemented dummy stub for SHChangeNotifyUpdateEntryList and
	functional CIDLData_CreateFromIDArray.

	* library/port.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fix implicit type declarations. Add required cast.

	* windows/input.c, windows/x11drv/keyboard.c, include/winuser.h:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Remove a hack for keyboard group switching.
	Always save/restore correct keyboard group index.
	Explicitly ignore the keyboard group switching events.

2001-10-01  Alexandre Julliard  <julliard@winehq.com>

	* dlls/quartz/Makefile.in, dlls/quartz/audren.c, dlls/quartz/audren.h,
	  dlls/quartz/basefilt.c, dlls/quartz/basefilt.h,
	  dlls/quartz/basepin.c, dlls/quartz/fgevent.c, dlls/quartz/fgraph.h,
	  dlls/quartz/ifgraph.c, dlls/quartz/imfilter.c, dlls/quartz/main.c,
	  dlls/quartz/memalloc.c, dlls/quartz/quartz.spec,
	  dlls/quartz/sample.c, include/strmif.h, winedefault.reg:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented CLSID_AudioRender.

	* dlls/oleaut32/dispatch.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented DispGetParam.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	Andreas Mohr <a.mohr@mailto.de>
	Fix/document SHLWAPI ordinals 217 and 218.

	* misc/version.c: Andreas Mohr <a.mohr@mailto.de>
	Speed optimization.

	* dlls/winsock/async.c, dlls/winsock/ws2_32.spec:
	Andreas Mohr <a.mohr@mailto.de>
	Added stub for WSApSetPostRoutine.

	* files/file.c: Ove Kaaven <ovek@transgaming.com>
	Make MoveFileEx fail with ERROR_INVALID_PARAMETER (better than
	crashing) when the source file operand is NULL.

	* dlls/shell32/shellole.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Should initialize COM before calling it.

2001-09-26  Alexandre Julliard  <julliard@winehq.com>

	* memory/heap.c:
	Fixed size check in HEAP_FindFreeBlock to make sure we also find
	blocks that have the exact size needed.

	* documentation/winelib-intro.sgml:
	Andriy Palamarchuk <apa3a@yahoo.com>
	winemaker documentation fix.

	* dlls/ntdll/wcstring.c, dlls/oleaut32/typelib.c, include/ntddk.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Better handling of typelibs loaded with a trailing resource number.
	The logic for determining whether an SLTG typelib has a function param
	as a 'short' or 'long' type has been 'refined'.

	* scheduler/pthread.c:
	Bill Medland <medbi01@accpac.com>
	Prevent calling null functions.

	* dlls/msvcrt/file.c:
	Francois Gouget <fgouget@codeweavers.com>
	Renamed W_OK to MSVCRT_W_OK.

	* documentation/Makefile.in, documentation/configuring.sgml,
	  documentation/fonts.sgml, documentation/getting.sgml,
	  documentation/installing.sgml, documentation/introduction.sgml,
	  documentation/make_winehq, documentation/print.dsl,
	  documentation/running.sgml, documentation/winehq.dsl:
	Susan Farley <susan@codeweavers.com>
	Better formatting for PDF output.

2001-09-25  Alexandre Julliard  <julliard@winehq.com>

	* include/wine/obj_channel.h:
	Ove Kaaven <ovek@transgaming.com>
	Fixed a couple of typos.

	* include/wine/obj_base.h:
	Ove Kaaven <ovek@transgaming.com>
	Added ICOM_[C]THIS_MULTI macros to make it easier to implement objects
	that expose multiple interfaces. Added prototypes for CoGetPSClsid and
	IUnknown_*_Proxy.

	* include/winbase.h:
	Ove Kaaven <ovek@transgaming.com>
	Added some named pipe definitions.

	* include/ole2.h:
	Ove Kaaven <ovek@transgaming.com>
	Added prototype for GetHGlobalFromStream.

	* files/file.c: Ove Kaaven <ovek@transgaming.com>
	A failure to open a pipe should return INVALID_HANDLE_VALUE.

	* dlls/quartz/Makefile.in, dlls/quartz/README, dlls/quartz/amerror.c,
	  dlls/quartz/basefilt.c, dlls/quartz/basefilt.h,
	  dlls/quartz/basepin.c, dlls/quartz/devenum.c, dlls/quartz/devmon.c,
	  dlls/quartz/devmon.h, dlls/quartz/enumunk.c, dlls/quartz/fgclsid.c,
	  dlls/quartz/fgevent.c, dlls/quartz/fgpass.c, dlls/quartz/fgraph.c,
	  dlls/quartz/fgraph.h, dlls/quartz/fmap.c, dlls/quartz/fmap2.c,
	  dlls/quartz/ibasaud.c, dlls/quartz/ibasvid.c,
	  dlls/quartz/idevenum.c, dlls/quartz/ifgraph.c, dlls/quartz/ifmap.c,
	  dlls/quartz/ifmap3.c, dlls/quartz/igconfig.c, dlls/quartz/imem.c,
	  dlls/quartz/imesink.c, dlls/quartz/imevent.c,
	  dlls/quartz/imfilter.c, dlls/quartz/imseek.c, dlls/quartz/irclock.c,
	  dlls/quartz/iunk.c, dlls/quartz/ividwin.c, dlls/quartz/main.c,
	  dlls/quartz/memalloc.c, dlls/quartz/monprop.c,
	  dlls/quartz/monprop.h, dlls/quartz/mtype.c, dlls/quartz/mtype.h,
	  dlls/quartz/ptimpl.c, dlls/quartz/ptimpl.h, dlls/quartz/ptmpos.c,
	  dlls/quartz/ptmseek.c, dlls/quartz/quartz_private.h,
	  dlls/quartz/sample.c, dlls/quartz/seekpass.c,
	  dlls/quartz/seekpass.h, dlls/quartz/sysclock.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Merged some C sources.
	Fixed some bugs.
	Started implementing some pass-through interfaces.

2001-09-24  Alexandre Julliard  <julliard@winehq.com>

	* server/user.c, windows/message.c, windows/timer.c, windows/win.c,
	  windows/winpos.c, dlls/user/msg16.c, include/win.h,
	  include/wine/server_protocol.h, server/protocol.def, server/trace.c:
	A couple of optimizations to avoid some server calls in WIN_FindWndPtr
	and related functions.

	* server/window.c:
	Avoid list corruption when linking window with HWND_BOTTOM (thanks to
	Gerard Patel).

	* objects/font.c:
	Francois Gouget <fgouget@codeweavers.com>
	GetTextExtentExPointW: dump the string before modifying the pointer.

	* tools/winemaker:
	Bill Medland <medbi01@accpac.com>
	Add support for making a build environment without editing the source
	and spec files.

2001-09-21  Alexandre Julliard  <julliard@winehq.com>

	* controls/scroll.c:
	Guy Albertelli <galberte@neo.lrun.com>
	- Implement message loop on the client side of the scroll control.
	- Move the mouse capture to after the SetFocus so that it stays
	  captured.

	* dlls/winsock/socket.c:
	David Hammerton <crazney@crazney.net>
	Fixed typos.

	* dlls/shell32/shellord.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Implement initial version of SHAddToRecentDocs.

	* include/wine/server_protocol.h, include/winuser.h,
	  server/protocol.def, server/queue.c, server/request.h,
	  server/trace.c, server/user.c, server/user.h, server/window.c,
	  windows/win.c:
	Added proper support for storing window parents in the server.
	Added a few requests to query the window hierarchy.

	* dlls/x11drv/winpos.c:
	Ignore ConfigueNotify size changes while the window is iconic.

	* tools/winedump/debug.c, tools/winedump/main.c,
	  tools/winedump/msmangle.c, tools/winedump/pe.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Some dumb fixes.

	* include/winbase.h:
	Mike McCormack <mike_mccormack@start.com.au>
	Declare DeviceIoControl.

	* windows/sysparams.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Implemented SPI_GETSHOWSOUNDS.

	* dlls/oleaut32/safearray.c, dlls/oleaut32/variant.c:
	Ove Kaaven <ovek@transgaming.com>
	Variants and safe arrays is now able to copy BSTR swith embedded null
	characters. Safe arrays now handle BSTRs and variants.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/typelib.c:
	Ove Kaaven <ovek@transgaming.com>
	Register typelib marshaling for OLE Automation-compatible interfaces.

2001-09-20  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/except.c:
	Fixed a couple of bugs in _except_handler3.

	* dlls/gdi/gdi.spec, objects/gdiobj.c:
	Andreas Mohr <a.mohr@mailto.de>
	Added stub for GdiInit2().

	* dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Get more entry points from Comctl32 and save the addresses.

	* include/shlwapi.h:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Define the SHQueryValueEx{A|W} entry points.

	* dlls/user/wsprintf.c:
	Aric Stewart <aric@codeweavers.com>
	The behavior for wsprintfA is different that for wsprintf16 in how it
	handles NULLs being passed as character parameters.

	* memory/environ.c, scheduler/process.c, dlls/shell32/shell32_main.c:
	Francois Gouget <fgouget@free.fr>
	Fix the conversions of a command line to/from an argv array.

	* dlls/comctl32/comctl32undoc.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Implement most of the MRU related functions.

	* tools/examine-relay:
	Guy Albertelli <galberte@neo.lrun.com>
	Add support for the +snoop style output.

	* objects/text.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix mapping of DEFAULT_CHARSET.

2001-09-19  Alexandre Julliard  <julliard@winehq.com>

	* windows/input.c, windows/x11drv/event.c, windows/x11drv/mouse.c:
	Brad Campbell <brad@seme.com.au>
	Fixed mouse position processing for use with a touchscreen.

	* dlls/quartz/Makefile.in, dlls/quartz/ptimpl.c, dlls/quartz/ptimpl.h,
	  dlls/quartz/ptmpos.c, dlls/quartz/ptmseek.c, dlls/quartz/seekpass.c,
	  dlls/quartz/seekpass.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented ISeekingPassThru.

	* tools/winecheck, DEVELOPERS-HINTS, README,
	  documentation/architecture.sgml, documentation/configuring.sgml,
	  documentation/installation-und-konfiguration.german,
	  documentation/wine.conf.man.in, files/dos_fs.c, libtest/volinfo.c,
	  msdos/int25.c, msdos/int26.c, winedefault.reg:
	Andreas Mohr <a.mohr@mailto.de>
	Updates and error message improvements.

	* windows/mdi.c:
	Joshua Thielen <thielen@netprince.net>
	Changed MDICreateChild to support CW_USEDEFAULT for 16-bit MDI
	windows.

	* windows/win.c:
	Fixed a couple of bugs in WIN_SetWindowLong caused by previous
	change.

	* dlls/imm32/imekl.c, include/winbase.h, include/winnls.h,
	  ole/ole2nls.c:
	Francois Gouget <fgouget@free.fr>
	Fix the definition of structs NUMBERFMT* and CURRENCYFMT*.
	Add, fix and move prototypes from winbase.h to winnls.h.

	* dlls/shell32/shlfolder.c:
	Guy Albertelli <guy@codeweavers.com>
	Fix problem comparing pidls and return correct code.

	* windows/x11drv/keyboard.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Added russian layout with phantom key.

	* include/winuser.h, windows/spy.c:
	Francois Gouget <fgouget@free.fr>
	Remove macros that should not be there (cause conflicts in WineLib).
	Add corresponding comments in spy.c.

	* include/tchar.h:
	Francois Gouget <fgouget@free.fr>
	Remove duplicate definition of _tmain.
	Add definitions for __targv and _tenviron.

	* controls/scroll.c, dlls/user/Makefile.in, dlls/user/controls.h,
	  dlls/user/msg16.c, dlls/user/thunk.c, dlls/user/user.spec,
	  dlls/user/wnd16.c, dlls/x11drv/winpos.c, include/win.h,
	  include/winproc.h, include/winuser.h, windows/caret.c,
	  windows/class.c, windows/clipboard.c, windows/dce.c,
	  windows/defdlg.c, windows/defwnd.c, windows/dialog.c,
	  windows/focus.c, windows/hook.c, windows/input.c, windows/mdi.c,
	  windows/msgbox.c, windows/nonclient.c, windows/painting.c,
	  windows/property.c, windows/queue.c, windows/scroll.c,
	  windows/spy.c, windows/struct32.c, windows/timer.c, windows/win.c,
	  windows/winhelp.c, windows/winpos.c, windows/winproc.c,
	  controls/button.c, controls/combo.c, controls/icontitle.c,
	  controls/menu.c:
	Made all 16<->32 HWND conversions use explicit functions instead of
	implicit type casts.
	Moved a lot of 16-bit functions to the new wnd16.c file.
	Changed DIALOGINFO structure handling to support 32-bit handles.

	* windows/x11drv/clipboard.c, windows/x11drv/event.c,
	  dlls/setupapi/setupx_main.c, dlls/shell32/shell32_main.c,
	  dlls/shlwapi/ordinal.c:
	Fixed a couple of HWND type mismatches.

	* include/font.h, objects/font.c, objects/text.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Use the font charset to obtain a codepage for A->W conversion in the
	text functions.

	* dlls/wininet/utility.c:
	Andreas Mohr <a.mohr@mailto.de>
	Rename "SystemTime" to "t" (this is *not* SYSTEMTIME - avoid
	confusion).

	* configure, configure.in:
	Bernhard Rosenkraenzer <bero@redhat.de>
	Fixes for autoconf 2.52 or higher.

	* dlls/msvcrt/locale.c, dlls/msvcrt/main.c, include/Makefile.in,
	  include/msvcrt/locale.h, include/msvcrt/sys/stat.h,
	  include/msvcrt/wchar.h:
	Francois Gouget <fgouget@free.fr>
	Add msvcrt/locale.h.
	Add missing include directives in msvcrt/wchar.h.
	Fix prototype of _wstati64 in msvcrt/sys/stat.h.

2001-09-17  Alexandre Julliard  <julliard@winehq.com>

	* files/drive.c:
	Francois Gouget <fgouget@codeweavers.com>
	Make relative paths of [Drive] sections relative to WINEPREFIX.

	* dlls/rpcrt4/rpcrt4.spec:
	Ove Kaaven <ovek@transgaming.com>
	Lots of rpcrt4.dll stubs.

	* tools/winedump/main.c, tools/winedump/msmangle.c,
	  tools/winedump/pe.c, tools/winedump/symbol.c,
	  tools/winedump/winedump.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed demangling invocation.
	Be a bit more verbose on implemented features.

	* dlls/comctl32/header.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Ignore negative widths in HEADER_SetItemBounds.

	* documentation/samples/config:
	Francois Gouget <fgouget@free.fr>
	Cosmetic changes.

	* Make.rules.in, Makefile.in, configure, configure.in,
	  dlls/Makedll.rules.in, dlls/Makefile.in, dlls/make_dlls:
	Improved make_dlls script. Moved dll list out of
	Make.rules.in. Removed a few no longer used rules.

	* dlls/quartz/Makefile.in, dlls/quartz/complist.c,
	  dlls/quartz/devenum.c, dlls/quartz/enumunk.c, dlls/quartz/fgclsid.c,
	  dlls/quartz/fgidisp.c, dlls/quartz/fgraph.c, dlls/quartz/fmap.c,
	  dlls/quartz/fmap2.c, dlls/quartz/ibasaud.c, dlls/quartz/ibasvid.c,
	  dlls/quartz/ifgraph.c, dlls/quartz/ifmap.c, dlls/quartz/ifmap3.c,
	  dlls/quartz/igrver.c, dlls/quartz/imcntl.c, dlls/quartz/imem.c,
	  dlls/quartz/imesink.c, dlls/quartz/imevent.c,
	  dlls/quartz/imfilter.c, dlls/quartz/impos.c, dlls/quartz/imseek.c,
	  dlls/quartz/irclock.c, dlls/quartz/ividwin.c, dlls/quartz/main.c,
	  dlls/quartz/memalloc.c, dlls/quartz/memalloc.h,
	  dlls/quartz/sample.c, dlls/quartz/sample.h, dlls/quartz/seekpass.c,
	  dlls/quartz/sysclock.c, include/Makefile.in, include/dsound.h,
	  include/strmif.h, include/wine/obj_ksproperty.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented IMemAllocator.

	* documentation/status/internationalisation,
	  windows/x11drv/keyboard.c:
	Andriy Palamarchuk <apa3a@yahoo.com>
	Fixed references to old documentation location.

	* dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.spec:
	Francois Gouget <fgouget@codeweavers.com>
	Implemented _mbsupr.

	* controls/scroll.c:
	Bobby Bingham <uhmmmm@ameritech.net>
	When you hold the left mouse button inside the scrollbar, then move
	the mouse off so it stops scrolling, and return the mouse, it should
	continue scrolling.

2001-09-14  Alexandre Julliard  <julliard@winehq.com>

	* dlls/quartz/quartz.spec, dlls/sti/.cvsignore, dlls/sti/Makefile.in,
	  dlls/sti/sti.spec, dlls/sti/sti_main.c, dlls/url/.cvsignore,
	  dlls/url/Makefile.in, dlls/url/url.spec, dlls/url/url_main.c,
	  Make.rules.in, configure, configure.in, dlls/Makefile.in,
	  dlls/mapi32/.cvsignore, dlls/mapi32/Makefile.in,
	  dlls/mapi32/mapi32.spec, dlls/mapi32/mapi32_main.c,
	  dlls/msimg32/.cvsignore, dlls/msimg32/Makefile.in,
	  dlls/msimg32/msimg32.spec, dlls/msimg32/msimg32_main.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added stubs for mapi32, msimg32, sti and url.

	* windows/nonclient.c:
	Fixed HWND compare in NC_HandleSetCursor.

	* graphics/path.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Avoid calling RestoreDC with gdi lock.

	* tsx11/Makefile.in, tsx11/X11_calls, tsx11/ts_xrender.c, configure,
	  configure.in, include/config.h.in, include/ts_xrender.h,
	  tools/make_X11wrappers:
	Huw D M Davies <hdavies@codeweavers.com>
	Add config check and thread safe wrappers for the XRender library.

	* dlls/gdi/driver.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Do not hold the GDI lock while 16-bit ExtDeviceMode is called.

	* tools/winebuild/spec16.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add missing CALLBACK modifier.

	* dlls/wsock32/socket.c:
	Francois Gouget <fgouget@free.fr>
	Fix recv prototype for WSARecvEx.

	* files/dos_fs.c:
	Francois Gouget <fgouget@codeweavers.com>
	Fix the error returned by GetLongPathNameA.

	* dlls/user/comm16.c, dlls/user/dde/client.c, dlls/user/dde/misc.c,
	  dlls/user/dde/server.c, dlls/user/message.c, dlls/x11drv/scroll.c,
	  dlls/x11drv/window.c, dlls/x11drv/winpos.c, windows/caret.c,
	  windows/clipboard.c, windows/defwnd.c, windows/dialog.c,
	  windows/mdi.c, windows/timer.c, windows/win.c, windows/winpos.c,
	  controls/combo.c, controls/menu.c, controls/scroll.c:
	Make sure that HWND comparisons are always done with full 32-bit
	handles.

	* dlls/winsock/socket.c, include/winsock.h:
	Francois Gouget <fgouget@free.fr>
	Fix the WSAStartup prototype.
	Fix handling of timeout parameter in select.

	* tools/winedump/pe.c:
	Fixed dumping of dll export table.

	* dlls/ddraw/ddraw/hal.c:
	Marcus Meissner <marcus@jet.franken.de>
	Return the FOURCC codes set by the HAL driver.

	* graphics/enhmetafiledrv/init.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Release gdi lock before calling DeleteDC.

	* tools/winelauncher.in:
	Francois Gouget <fgouget@free.fr>
	Place the log in $TMP if set and /tmp otherwise.

	* include/wincon.h, win32/console.c:
	Francois Gouget <fgouget@free.fr>
	HANDLER_ROUTINE is in fact PHANDLER_ROUTINE.

	* dlls/x11drv/xvidmode.c:
	Francois Gouget <fgouget@codeweavers.com>
	Check for htotal=vtotal=0 (for xfree 4 vesa driver).

2001-09-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/gdi/Makefile.in, dlls/gdi/freetype.c, dlls/ttydrv/objects.c,
	  dlls/wineps/font.c, graphics/enhmetafiledrv/objects.c,
	  graphics/metafiledrv/objects.c, graphics/win16drv/font.c,
	  graphics/x11drv/xfont.c, include/config.h.in, include/font.h,
	  include/gdi.h, objects/dc.c, objects/font.c, objects/gdiobj.c,
	  configure, configure.in:
	Huw D M Davies <hdavies@codeweavers.com>
	Lay down the infrastructure for gdi font rendering.
	Partial implementation of GetGylphOutline and GetOutlineTextMetrics
	for gdi fonts.

	* windows/winpos.c, dlls/user/message.c, include/win.h,
	  windows/clipboard.c, windows/dce.c, windows/dialog.c,
	  windows/focus.c, windows/input.c, windows/win.c:
	Make sure that functions returning an HWND always return a full 32-bit
	handle.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/crypt.c:
	Travis Michielsen <tjmichielsen@yahoo.com>
	Created stubs for all cryptographic functions.

	* server/queue.c, server/user.c, server/user.h:
	Convert user handles received from client to full handles.

2001-09-11  Alexandre Julliard  <julliard@winehq.com>

	* include/Makefile.in, include/process.h:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Remove not used include/process.h.

	* objects/clipping.c, dlls/shell32/shpolicy.c,
	  dlls/winaspi/winaspi32.c, dlls/wininet/ftp.c, dlls/wininet/http.c,
	  dlls/wininet/internet.c, dlls/x11drv/dga2.c, dlls/x11drv/xvidmode.c,
	  graphics/painting.c, graphics/x11drv/bitblt.c,
	  graphics/x11drv/oembitmap.c, msdos/int10.c, dlls/comctl32/tab.c,
	  dlls/ddraw/ddraw/hal.c, dlls/imagehlp/modify.c,
	  dlls/msvcrt/locale.c, dlls/ntdll/exception.c, dlls/ole32/bindctx.c,
	  dlls/ole32/filemoniker.c, dlls/ole32/itemmoniker.c,
	  dlls/ole32/moniker.c, dlls/ole32/ole2.c, dlls/quartz/amerror.c,
	  dlls/setupapi/setupx_main.c:
	Patrik Stridvall <ps@leissner.se>
	Cleanup code that is strange or difficult to parse.

	* scheduler/client.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Better separate some system specific code.

	* include/dshow.h, include/strmif.h, dlls/quartz/Makefile.in,
	  dlls/quartz/amundoc.c, dlls/quartz/fgraph.c, dlls/quartz/fgraph.h,
	  dlls/quartz/ifmap.c, dlls/quartz/ifmap3.c, dlls/quartz/imcntl.c,
	  dlls/quartz/imem.c, dlls/quartz/imfilter.c, dlls/quartz/irclock.c,
	  dlls/quartz/iunk.c, dlls/quartz/iunk.h, dlls/quartz/main.c,
	  dlls/quartz/memalloc.h, dlls/quartz/seekpass.c,
	  dlls/quartz/seekpass.h, dlls/quartz/sysclock.h, winedefault.reg:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixed some broken macros.
	Added some stubs.
	Implemeted undocumented APIs.
	Implemented many methods in IMediaFilter, IMediaControl and
	IReferenceClock.
	Started Implementing IMemoryAllocator.

	* win32/newfns.c:
	Guy Albertelli <galberte@codeweavers.com>
	Quiet FlushInstructionCache for non-NT systems where it does nothing
	per MSDN.

	* dlls/ole32/compobj.c, dlls/ole32/ole32_main.c,
	  dlls/ole32/ole32_main.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Synchronize access to the s_COMLockCount, firstRegisteredClass,
	openDllList in compobj.

2001-09-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/winpos.c:
	Ignore size change on ConfigureNotify if window rect is empty and new
	size is 1x1.

	* windows/win.c:
	Make sure that returned window belongs to correct thread when checking
	siblings of transparent windows in WIN_FindWinToRepaint.

	* documentation/printing.sgml:
	Huw D M Davies <hdavies@codeweavers.com>
	The [windows] section is in win.ini not in ~/.wine/config.

	* dlls/msvideo/mciwnd.c, dlls/oleaut32/variant.c,
	  dlls/shell32/shellstring.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation fixes.

	* tools/winapi/c_parser.pm, tools/winapi/make_parser.pm,
	  tools/winapi/options.pm, tools/winapi/output.pm,
	  tools/winapi/winapi_fixup, tools/winapi/winapi_fixup_statements.pm,
	  tools/winapi/winapi_module_user.pm,
	  tools/winapi_check/win16/winsock.api,
	  tools/winapi_check/win32/quartz.api,
	  tools/winapi_check/win32/rpcrt4.api,
	  tools/winapi_check/winapi_check:
	Patrik Stridvall <ps@leissner.se>
	- FreeBSD now supported.
	- Much more work on the new C parser.
	- API files update.

	* windows/x11drv/keyboard.c:
	Andy Rysin <arysin@yahoo.com>
	Added Ukrainian keyboard layout.

	* dlls/ole32/stg_stream.c:
	Bill Medland <Bill.Medland@accpac.com>
	Basic implementation of IStream:Clone.

	* dlls/commdlg/printdlg.c:
	Bill Medland <Bill.Medland@accpac.com>
	More graceful exit on failure.

	* libtest/vartest.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Use V_* macros.

	* include/wine/obj_oleaut.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix typo.

	* dlls/oleaut32/typelib.c, dlls/oleaut32/typelib.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Load some useful TYPEATTR elements from v1 typelibs.

	* dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Marcus Meissner <marcus@jet.franken.de>
	More debug output for InternetGetCookie, added stub for InternetSetCookie.

	* dlls/ddraw/ddraw_private.h, dlls/ddraw/dsurface/dib.c,
	  dlls/ddraw/dsurface/hal.c, dlls/ddraw/dsurface/hal.h,
	  dlls/ddraw/dsurface/main.c, dlls/ddraw/dsurface/main.h,
	  dlls/ddraw/dsurface/thunks.c, dlls/ddraw/dsurface/user.c,
	  dlls/ddraw/dsurface/user.h, include/ddrawi.h:
	Marcus Meissner <marcus@jet.franken.de>
	Added dwFlags to lock_update private functions so we can pass
	WRITEONLY/READONLY.
	Added those flags to the internal Lock() calls.
	Only copy the surface from screen to surface if not writeonly.
	Restrict blitting between display window and surface to the
	locked/unlocked rectangle and the clipwindow section.
	Added defines for DDHAL_UNLOCKDATA/DDHAL_LOCKDATA, added calls to HAL
	implementation.

	* windows/win.c: Patrik Stridvall <ps@leissner.se>
	The message handler of WM_STYLECHANGING is supposed to be able to
	modify the proposed style if it wishes.

	* dlls/comctl32/imagelist.c, dlls/comctl32/status.c:
	Patrik Stridvall <ps@leissner.se>
	Use the min/max in windef.h instead.

	* dlls/kernel/time.c, include/winnls.h:
	Marcus Meissner <marcus@wine.lst.de>
	Enhanced GetCalendarInfo stub, added known CAL_* defines.

	* dlls/dsound/dsound_main.c, include/dsound.h:
	Ove Kaaven <ovek@transgaming.com>
	Fix buffering problems in HEL mode.

	* dlls/wininet/ftp.c, dlls/wininet/internet.h:
	Francois Gouget <fgouget@free.fr>
	Fix compilation errors on FreeBSD.

	* dlls/msvcrt/process.c:
	Francois Gouget <fgouget@free.fr>
	Rewrite msvcrt_{argvtos,valisttos} to be more efficient.
	Warn about the ' ' and '"' handling of the exec and spawn functions.
	Copy the command line in MSVCRT_system to make it writable.

	* tsx11/Makefile.in:
	Francois Gouget <fgouget@codeweavers.com>
	Link tsx11 with the X/GL libraries.

	* dlls/x11drv/x11drv_main.c, dlls/x11drv/xvidmode.c,
	  documentation/samples/config:
	Francois Gouget <fgouget@codeweavers.com>
	Added an option to disable XVidMode support.

	* tools/winelauncher.in:
	Eric Lammerts <eric@lammerts.org>
	Preserve wine return status.

2001-09-07  Alexandre Julliard  <julliard@winehq.com>

	* tools/wmc/write.c:
	Justin Santa Barbara <justinsb@hotmail.com>
	Fixed problem with check for special characters.

	* dlls/ntdll/string.c:
	Johann Messner <johann.messner@zid.uni-linz.ac.at>
	Fixed bug in _ultoa.

	* dlls/msvcrt/data.c:
	Francois Gouget <fgouget@free.fr>
	Initialize argc/argv/wargv by calling ntdll.__wine_get_{w}main_args.

	* graphics/x11drv/dib.c:
	Jukka Heinonen <jhei@iki.fi>
	Changing DIB color table now updates the DIB visible state.

	* dlls/quartz/Makefile.in, dlls/quartz/complist.c,
	  dlls/quartz/complist.h, dlls/quartz/devenum.c,
	  dlls/quartz/devenum.h, dlls/quartz/devmon.c, dlls/quartz/devmon.h,
	  dlls/quartz/enumunk.c, dlls/quartz/enumunk.h, dlls/quartz/fgclsid.c,
	  dlls/quartz/fgidisp.c, dlls/quartz/fgraph.c, dlls/quartz/fgraph.h,
	  dlls/quartz/fmap.c, dlls/quartz/fmap.h, dlls/quartz/fmap2.c,
	  dlls/quartz/fmap2.h, dlls/quartz/ibasaud.c, dlls/quartz/ibasvid.c,
	  dlls/quartz/idevenum.c, dlls/quartz/ifgraph.c, dlls/quartz/ifmap.c,
	  dlls/quartz/ifmap3.c, dlls/quartz/igrver.c, dlls/quartz/imcntl.c,
	  dlls/quartz/imem.c, dlls/quartz/imesink.c, dlls/quartz/imevent.c,
	  dlls/quartz/imfilter.c, dlls/quartz/impos.c, dlls/quartz/imseek.c,
	  dlls/quartz/irclock.c, dlls/quartz/iunk.h, dlls/quartz/ividwin.c,
	  dlls/quartz/main.c, dlls/quartz/memalloc.c, dlls/quartz/memalloc.h,
	  dlls/quartz/monprop.c, dlls/quartz/monprop.h,
	  dlls/quartz/quartz.spec, dlls/quartz/regsvr.c, dlls/quartz/regsvr.h,
	  dlls/quartz/sysclock.c, dlls/quartz/sysclock.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some stubs.
	Started implementing some interfaces in FilterGraph.

	* library/port.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Emulate the behaviour of Linux mmap() on Solaris. Based on ideas and
	sample code due to Erik Boasson <eboasson@signaal.nl> and John Wehle
	<john@feith.com>.

	* windows/spy.c, windows/winproc.c, controls/combo.c,
	  controls/listbox.c, dlls/user/message.c, include/spy.h,
	  windows/message.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Enhance SPY_GetMsgName to translate common control messages.

	* dlls/shell32/shell32.spec:
	Huw D M Davies <hdavies@codeweavers.com>
	Add SHGetSpecialFolderPathW to spec file.

	* dlls/shlwapi/path.c:
	Guy L. Albertelli <guy@codeweavers.com>
	- Finish PathParseIconLocation{A|W}.
	- Implement PathIsUNCServer{A|W|ShareA|ShareW}.

	* dlls/shlwapi/reg.c, dlls/shlwapi/shlwapi.spec:
	Guy L. Albertelli <guy@codeweavers.com>
	Implemented stubs for SHRegEnumUSKey{A|W} and return end-of-list error
	as result.

	* dlls/winspool/info.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Use a default DevMode if no DevMode information is available in
	registry.

	* dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented mbsnbcnt, added stubs for _Gettnames and __lc_collate_cp.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Handle CCS_NODIVIDER both when present and when not.
	- Handle some cases of CCS_TOP, CCS_BOTTOM, and CCS_NOPARENTALIGN.
	- Handle values returned from the RBN_CHILDSIZE notification.
	- Implement RBBS_CHILDEDGE.
	- Fix some logic errors in REBAR_AdjustBands, and problems with CCS_VERT.

	* configure.in, tools/Makefile.in, tools/winedump/.cvsignore,
	  tools/winedump/Makefile.in, tools/winedump/README,
	  tools/winedump/cvinclude.h, tools/winedump/debug.c,
	  tools/winedump/function_grep.pl, tools/winedump/main.c,
	  tools/winedump/misc.c, tools/winedump/msmangle.c,
	  tools/winedump/output.c, tools/winedump/pe.c, tools/winedump/pe.h,
	  tools/winedump/search.c, tools/winedump/symbol.c,
	  tools/winedump/winedump.h, configure:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added PE dump capabilities to specmaker and renamed specmaker into
	winedump.

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Fix positioning of text in buttons.
	- Fix nButtonHeight so that it is not zero in some cases
	- Support TBSTYLE_TRANSPARENT.
	- Fix handling in WM_ERASEBKGND so that the default erase occurs
	  between notifies.
	- Fix WM_NCCREATE processing to issue proper WM_STYLECHANGING (via
	  SetWindowLong) and document the issues.

	* objects/font.c:
	Travis Michielsen <tjmichielsen@yahoo.com>
	Fixed behavior of GetTextExtentExPointW.  It must always return the
	extents of the entire string in size.

	* graphics/x11drv/bitmap.c:
	Guy L. Albertelli <guy@codeweavers.com>
	Prevent bomb when GDI_ObjPtr returns null object.

	* include/winerror.h, include/wingdi.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Move GDI_ERROR definition to wingdi.h.
	Add HGDI_ERROR.

	* dlls/oleaut32/typelib.c, dlls/oleaut32/typelib.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Add reader for v1 (SLTG) typelibs.
	Fix a few problems with v2 (MSFT) typelibs.
	LoadTypeLibEx should do a SearchPath to locate typelib.

	* dlls/winspool/info.c:
	Huw D M Davies <hdavies@codeweavers.com>
	OpenPrinter should fail if pPrinterName is "".

	* include/wine/obj_oleaut.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Add FUNCFLAGS and change TYPEFLAGS_* to an enum.

	* dlls/winsock/socket.c:
	Francois Gouget <fgouget@free.fr>
	Convert the socket type (necessary on Solaris).

	* dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c,
	  include/rpcdce.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Stub implementation for UuidHash().

	* dlls/ntdll/ntdll.spec, dlls/msvcrt/msvcrt.spec:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Correct .spec file parameters for msvcrt._fullpath and ntdll._splitpath.

	* winedefault.reg:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added DirectShow filter categories.

	* include/uuids.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some missing GUIDs.

	* dlls/shell32/shellstring.c:
	Guy Albertelli <guy@codeweavers.com>
	Replace calls to StrRetToBuf{A|W} with duplicate code to eliminate
	problems between native and built-in DLLs.

2001-08-29  Alexandre Julliard  <julliard@winehq.com>

	* windows/winproc.c, include/win.h, windows/win.c:
	Make window handles 32-bit before calling window procedure.
	Don't clear window parent field when unlinking it.

2001-08-28  Alexandre Julliard  <julliard@winehq.com>

	* include/win.h, include/wine/server_protocol.h, server/Makefile.in,
	  server/protocol.def, server/queue.c, server/request.h,
	  server/thread.c, server/trace.c, server/user.c, server/user.h,
	  server/window.c, tools/make_requests, windows/queue.c,
	  windows/win.c, dlls/ttydrv/wnd.c, dlls/x11drv/desktop.c,
	  dlls/x11drv/window.c, dlls/x11drv/winpos.c:
	Added global management of user handles in the server.
	Very preliminary support for shared window handles.

	* ANNOUNCE:
	James Juran <jamesjuran@alumni.psu.edu>
	Use the new development page URL in the announcement.

	* files/profile.c:
	Francois Gouget <fgouget@free.fr>
	Reimplement PROFILE_GetSectionNames to match the NT & MSDN behavior.
	The 32A version is now the reference implementation (instead of the
	16bit version).

	* loader/task.c, dlls/icmp/icmp_main.c, dlls/wsock32/protocol.c:
	Francois Gouget <fgouget@free.fr>
	Only use winsock2.h in Wine.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Added WM_MOUSEHOVER and WM_MOUSELEAVE to formatting.

	* tools/winebuild/relay.c:
	Output correct assembly function headers for all functions.

	* dlls/quartz/Makefile.in, dlls/quartz/devenum.c,
	  dlls/quartz/devenum.h, dlls/quartz/fgraph.c, dlls/quartz/fgraph.h,
	  dlls/quartz/fmap.c, dlls/quartz/fmap.h, dlls/quartz/fmap2.c,
	  dlls/quartz/fmap2.h, dlls/quartz/ibasaud.c, dlls/quartz/ibasvid.c,
	  dlls/quartz/idevenum.c, dlls/quartz/ifgraph.c, dlls/quartz/ifmap.c,
	  dlls/quartz/ifmap3.c, dlls/quartz/imcntl.c, dlls/quartz/imevent.c,
	  dlls/quartz/impos.c, dlls/quartz/imseek.c, dlls/quartz/iunk.c,
	  dlls/quartz/iunk.h, dlls/quartz/ividwin.c, dlls/quartz/main.c,
	  dlls/quartz/quartz.spec, dlls/quartz/regsvr.c, dlls/quartz/regsvr.h,
	  winedefault.reg:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some stubs.

2001-08-27  Alexandre Julliard  <julliard@winehq.com>

	* objects/gdiobj.c:
	Check for valid object in GDI_GetObjPtr even for MAGIC_DONTCARE.

	* dlls/x11drv/x11ddraw.c:
	Jukka Heinonen <jhei@iki.fi>
	GrabPointer uses now SetWindowLong to change window procedure instead
	of accessing directly WND structure.

	* dlls/kernel/sync.c, include/wine/server_protocol.h,
	  server/named_pipe.c, server/protocol.def, server/request.h,
	  server/trace.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Implemented GetNamedPipeInfo.

	* include/strmif.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some missing interfaces.

	* include/wine/obj_base.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added ICOM_METHOD12-26, ICOM_VMETHOD12-26, ICOM_CALL12-26.

2001-08-24  Alexandre Julliard  <julliard@winehq.com>

	* include/version.h, ANNOUNCE, ChangeLog:
	Release 20010824.

----------------------------------------------------------------
2001-08-24  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winsock/socket.c, include/wine/winsock16.h:
	Francois Gouget <fgouget@free.fr>
	Added WSASTARTUP16 a 1 byte alignment version of WSASTARTUP for win16.

	* include/uuids.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some missing CLSIDs.

	* files/directory.c, include/file.h, include/module.h, loader/module.c,
	  loader/pe_image.c:
	Bill Medland <medbi01@accpac.com>
	Added LOAD_WITH_ALTERED_SEARCH_PATH support to LoadLibraryEx.

	* controls/icontitle.c, dlls/x11drv/window.c, dlls/x11drv/winpos.c,
	  include/win.h, windows/dialog.c, windows/mdi.c, windows/painting.c,
	  windows/user.c, windows/win.c, windows/winpos.c:
	Added WIN_ListParents function and renamed WIN_BuildWinArray into
	WIN_ListChildren. Made owner field in WND structure an HWND.

	* dlls/comctl32/rebar.c:
	Removed inclusion of win.h.

	* dlls/kernel/kernel32.spec, dlls/kernel/sync.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Add stubs for several named pipe functions.

	* dlls/winsock/socket.c, include/winsock.h, server/sock.c:
	Francois Gouget <fgouget@free.fr>
	Rename the regular WS_FD_XXX macros to FD_XXX.
	Rename the Wine specific WS_FD_XXX macros to FD_WINE_XXX.

	* dlls/wininet/ftp.c, dlls/wininet/http.c, dlls/wininet/internet.c,
	  dlls/wininet/internet.h, dlls/wininet/utility.c:
	Francois Gouget <fgouget@free.fr>
	Made independent from winsock.
	Include the needed headers directly in internet.h.

	* objects/font.c:
	Bill Medland <medbi01@accpac.com>
	Minor fixes involving handling NULL pointers.

	* windows/x11drv/clipboard.c, windows/x11drv/event.c,
	  dlls/user/user32.spec, dlls/x11drv/window.c, dlls/x11drv/winpos.c,
	  include/dce.h, include/win.h, include/winuser.h, include/x11drv.h,
	  windows/dce.c, windows/defwnd.c, windows/dialog.c, windows/focus.c,
	  windows/mdi.c, windows/message.c, windows/nonclient.c,
	  windows/painting.c, windows/win.c, windows/winpos.c:
	Implemented GetAncestor and removed WIN_GetTopParent.
	Removed a few more accesses to the WND structure.

2001-08-23  Alexandre Julliard  <julliard@winehq.com>

	* objects/enhmetafile.c, objects/metafile.c:
	Don't hold the GDI lock during accesses to the metafile data.

	* dlls/kernel/sync.c, include/wine/server_protocol.h,
	  server/named_pipe.c, server/protocol.def, server/request.h,
	  server/trace.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Implement WaitNamedPipe and DisconnectNamedPipe.
	Add a state for each pipe handle in the server.
	Create a socket on when the pipe is opened, not before.

	* dlls/winsock/socket.c, server/sock.c:
	Daniel Walker <diwalker@earthlink.net>
	- Fix for nonblocking sockets using WSAEventSelect() (patch from Ove
	  Kaaven).
	- Changed WSAEnumNetworkEvents() so it only returns events that the
	  application is looking for.
	- Changed sock_poll_event() to interpret a POLLIN event with zero
	  bytes waiting to be read as a POLLHUP.

2001-08-22  Alexandre Julliard  <julliard@winehq.com>

	* dlls/quartz/Makefile.in, dlls/quartz/amerror.c,
	  dlls/quartz/quartz.spec, include/Makefile.in, include/errors.h,
	  include/vfwmsgs.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added two missing headers.
	Implemented AMGetErrorText.

	* tools/winapi_check/win32/kernel32.api,
	  tools/winapi_check/win32/oleaut32.api,
	  tools/winapi_check/win32/quartz.api,
	  tools/winapi_check/win32/shell32.api,
	  tools/winapi_check/win32/ttydrv.api,
	  tools/winapi_check/win32/x11drv.api, tools/winapi/c_function.pm,
	  tools/winapi/c_parser.pm, tools/winapi/make_parser.pm,
	  tools/winapi/output.pm, tools/winapi/winapi_extract,
	  tools/winapi/winapi_fixup, tools/winapi/winapi_fixup_editor.pm,
	  tools/winapi/winapi_fixup_options.pm,
	  tools/winapi/winapi_fixup_statements.pm,
	  tools/winapi/winapi_module_user.pm, tools/winapi_check/modules.pm,
	  tools/winapi_check/nativeapi.pm, tools/winapi_check/winapi.pm,
	  tools/winapi_check/winapi_check:
	Patrik Stridvall <ps@leissner.se>
	- Continued on the new C parser.
	- More reorganizations and fixes.
	- API files update.

	* dlls/quartz/Makefile.in, dlls/quartz/complist.c,
	  dlls/quartz/complist.h, dlls/quartz/fgraph.c, dlls/quartz/fgraph.h,
	  dlls/quartz/ibasaud.c, dlls/quartz/ibasvid.c, dlls/quartz/ifgraph.c,
	  dlls/quartz/imcntl.c, dlls/quartz/imem.c, dlls/quartz/imevent.c,
	  dlls/quartz/impos.c, dlls/quartz/imseek.c, dlls/quartz/irclock.c,
	  dlls/quartz/iunk.c, dlls/quartz/iunk.h, dlls/quartz/ividwin.c,
	  dlls/quartz/main.c, dlls/quartz/memalloc.c, dlls/quartz/sysclock.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some stubs for CLSID_FilterGraph.

	* dlls/x11drv/window.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed an incorrect (harmless) memory allocation.

	* include/control.h, ole/uuid.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added missing IIDs.

	* dlls/user/comm16.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Replaced PROFILE_ functions by RegQueryValueExA.

	* include/winbase.h, dlls/kernel/kernel32.spec, files/file.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Added stub for CancelIo.

	* Make.rules.in: Francois Gouget <fgouget@free.fr>
	Fixed man and doc-html rules.

	* dlls/user/text.c:
	Eugene Mayevski <mayevski@eldos.org>
	Fixed DT_RTLREADING flag interpretation.

2001-08-21  Alexandre Julliard  <julliard@winehq.com>

	* windows/painting.c, windows/win.c, windows/winpos.c,
	  dlls/x11drv/winpos.c, include/win.h:
	Removed WIN_GetDesktop().

	* win32/console.c, windows/multimon.c, windows/x11drv/clipboard.c,
	  debugger/break.c, debugger/editline.c, debugger/msc.c,
	  dlls/msacm/msacm32_main.c, dlls/ole32/ole2.c, dlls/shell32/systray.c,
	  dlls/user/dde/server.c, dlls/winmm/driver.c, dlls/winmm/mci.c,
	  dlls/winmm/mmio.c, dlls/winmm/wineoss/mmaux.c,
	  documentation/debugger.sgml, msdos/int2f.c:
	Francois Gouget <fgouget@free.fr>
	Documentation updates (mainly thru vs. through).

	* dlls/comctl32/listview.c:
	Gerard Patel <gerard.patel@nerim.net>
	Rect returned by LISTVIEW_GetItemRect should be total size in report
	mode.

	* graphics/x11drv/bitmap.c:
	Gerard Patel <gerard.patel@nerim.net>
	Default bitmap is not subject to reference counting.

	* dlls/oleaut32/olepicture.c, dlls/oleaut32/typelib.c,
	  dlls/oleaut32/variant.c, include/oleauto.h, include/wine/obj_oleaut.h:
	Francois Gouget <fgouget@free.fr>
	Add the decVal field to VARIANT.
	Fix the VARIANT C layout, i.e. the union/struct names/nesting.
	Encapsulate all accesses to VARIANT types with the V_VT and V_UNION
	macros.

	* server/serial.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Unconditionally set O_NONBLOCK when opening.

2001-08-20  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/bitmap.c:
	Refuse to select a bitmap that is already selected in another DC.

	* objects/dc.c, objects/gdiobj.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added reference counting and delayed destruction of GDI objects.

	* include/winuser.h, windows/class.c, windows/nonclient.c:
	Fixed GetClassLong to return full 32 bits for all items.
	Removed GCW_* definitions that don't exist in Win32.

	* objects/dib.c:
	Create a color bitmap in CreateDIBitmap even with a black&white DC.

	* include/oleauto.h:
	Nikolas Zimmermann <wildfox@kde.org>
	Removed struct UDATE forward declaration.

	* dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Store the comm error value in the wineserver, not a global.

	* files/file.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Read data immediately in overlapped ReadFile if possible.

	* dlls/comctl32/treeview.c:
	Gerard Patel <gerard.patel@nerim.net>
	Do not keep the handle of a deleted item as the selectedItem..

	* dlls/oleaut32/olepicture.c:
	Marcus Meissner <marcus@jet.franken.de>
	Use GetDC(0) instead of CreateCompatibleDC(0).

	* dlls/oleaut32/olefont.c:
	Marcus Meissner <marcus@jet.franken.de>
	We need to make a copy of the fontname and the HFONT handle in
	IFont_Clone, otherwise we get memory corruption and bad GDI handles.

2001-08-18  Alexandre Julliard  <julliard@winehq.com>

	* controls/menu.c, windows/winproc.c:
	Added proper support for 32-bit WM_NEXTMENU.

	* dlls/ttydrv/user.c, dlls/user/msg16.c, dlls/x11drv/winpos.c,
	  include/user.h, include/win.h, windows/defdlg.c, windows/defwnd.c,
	  windows/mdi.c, windows/message.c, windows/painting.c, windows/user.c,
	  windows/win.c, windows/winpos.c, windows/x11drv/clipboard.c,
	  dlls/ttydrv/ttydrv.spec:
	Removed a number of direct accesses to the window structure.

	* dlls/Makefile.in, dlls/msvideo/Makefile.in, dlls/msvideo/mciwnd.c,
	  dlls/msvideo/msvfw32.spec, dlls/msvideo/msvideo_main.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Started implementing the MCIWnd* functions.

	* dlls/oleaut32/variant.c:
	Marcus Meissner <marcus@jet.franken.de>
	Do not pass the high level wFlags from VariantChangeType* down to low
	level Variant conversion functions.

	* dlls/user/dde/dde_private.h:
	Fixed internal inline function that was declared extern.

	* windows/defwnd.c:
	Explicitly check for CS_PARENTDC in WM_ERASEBKGND handling.

	* dlls/winmm/wineoss/audio.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Replaced memset by hand made equivalent to work around some buggy
	memset implementations.

	* dlls/Makefile.in, dlls/comctl32/animate.c,
	  dlls/comctl32/comctl32.spec:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Because of circular dependencies between comctl32 and msvfw32, replace
	in comctl32 delay loading of msvfw32 by manual loading.

	* objects/gdiobj.c:
	Gerard Patel <gerard.patel@nerim.net>
	Test for invalid large handles in GDI_GetObjPtr and GDI_FreeObject.

	* dlls/commdlg/filedlg95.c:
	Gerard Patel <gerard.patel@nerim.net>
	Fix FillRect calls in FILEDLG95_LOOKIN_DrawItem.

	* dlls/gdi/printdrv.c:
	Marcus Meissner <marcus@jet.franken.de>
	Do not hold the GDI lock when the ABORTDOC procedure is called.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/variant.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Implemented oleaut32.VarBstrCat.

2001-08-17  Alexandre Julliard  <julliard@winehq.com>

	* include/winbase.h, scheduler/critsection.c:
	Made the Interlocked*Pointer functions static inline since they aren't
	exported by the Windows API.

	* objects/dib.c:
	Use the passed hdc in CreateDIBitmap instead of creating a new one.

	* objects/dc.c, objects/gdiobj.c, windows/syscolor.c,
	  dlls/wineps/font.c, graphics/enhmetafiledrv/objects.c,
	  graphics/x11drv/xfont.c, include/gdi.h:
	Create GDI stock objects as normal objects instead of using magic
	handle values.

2001-08-16  Alexandre Julliard  <julliard@winehq.com>

	* dlls/wineps/font.c, graphics/x11drv/bitmap.c, graphics/x11drv/brush.c,
	  graphics/x11drv/objects.c, graphics/x11drv/pen.c,
	  graphics/x11drv/xfont.c, include/x11drv.h, objects/gdiobj.c:
	Specify sizes for stock fonts again; removed the FixStockFontSize
	hack. Ignore mapping modes when selecting stock fonts into a DC.
	Removed a few direct accesses to GDI structures from x11drv.

	* objects/dc.c:
	Release GDI lock before calling DeleteDC from RestoreDC.

	* dlls/shell32/clipboard.c, dlls/shell32/dataobject.c,
	  dlls/shell32/dialogs.c, dlls/shell32/enumidlist.c,
	  dlls/shell32/folders.c, dlls/shell32/iconcache.c, dlls/shell32/pidl.c,
	  dlls/shell32/shell.c, dlls/shell32/shell32_main.c,
	  dlls/shell32/shell32_main.h, dlls/shell32/shelllink.c,
	  dlls/shell32/shellole.c, dlls/shell32/shellord.c,
	  dlls/shell32/shellpath.c, dlls/shell32/shellreg.c,
	  dlls/shell32/shellstring.c, dlls/shell32/shlfileop.c,
	  dlls/shell32/shlfolder.c, dlls/shell32/shlmenu.c,
	  dlls/shell32/shlview.c, dlls/shell32/shpolicy.c,
	  dlls/shell32/shv_bg_cmenu.c, dlls/shell32/shv_item_cmenu.c,
	  dlls/shell32/undocshell.h, include/wine/shell16.h,
	  include/wine/undocshell.h, dlls/shell32/brsfolder.c,
	  dlls/shell32/changenotify.c:
	Moved undocshell.h to dlls/shell32. Removed shell16.h.

	* windows/dce.c, windows/user.c, windows/win.c, include/user.h,
	  include/win.h:
	Moved user lock to user.c. Added USER_CheckNotLock function.

	* graphics/x11drv/xfont.c, include/winbase.h, memory/virtual.c,
	  objects/gdiobj.c, scheduler/pthread.c, scheduler/syslevel.c,
	  windows/cursoricon.c, windows/timer.c, dlls/ntdll/critsection.c,
	  dlls/ntdll/rtl.c, dlls/shell32/changenotify.c,
	  dlls/shell32/iconcache.c, dlls/user/dde/misc.c,
	  dlls/winaspi/winaspi32.c, dlls/winsock/async.c,
	  dlls/x11drv/x11drv_main.c, files/profile.c:
	Added names to standard critical sections (suggested by Andreas
	Mohr).

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/variant.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Partially implement oleaut32.VarBstrCmp.

2001-08-15  Alexandre Julliard  <julliard@winehq.com>

	* include/gdi.h, objects/dc.c, objects/dib.c, objects/gdiobj.c:
	Make sure we don't hold the GDI lock when loading drivers.

	* include/winbase.h, scheduler/syslevel.c:
	Implemented _CheckNotSysLevel.

	* include/win16drv.h, dlls/gdi/driver.c, graphics/win16drv/init.c:
	Fixed win16drv initialisation.

	* dlls/shell32/shell32.spec, dlls/shell32/shellpath.c, include/wine/undocshell.h:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	PathGetExtensionAW has three arguments.

	* msdos/ioports.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Don't call Dosvm functions when Dosvm isn't initialized.

	* dlls/quartz/Makefile.in, dlls/quartz/fgraph.c, dlls/quartz/fgraph.h,
	  dlls/quartz/ifgraph.c, dlls/quartz/imem.c, dlls/quartz/irclock.c,
	  dlls/quartz/iunk.c, dlls/quartz/iunk.h, dlls/quartz/main.c,
	  dlls/quartz/memalloc.c, dlls/quartz/memalloc.h,
	  dlls/quartz/quartz.spec, dlls/quartz/quartz_private.h,
	  dlls/quartz/sysclock.c, dlls/quartz/sysclock.h, winedefault.reg:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some stubs for quartz dll.

	* graphics/x11drv/xfont.c:
	Jeremy White <jwhite@codeweavers.com>
	Normalize the display name used to build the cached metric filename so
	that ':0', ':0.0', and 'unix:0.0' all resolve to the same file.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/variant.c,
	  include/oleauto.h:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented VarParseNumFromStr, VarNumFromParseNum.

	* dlls/wineps/afm.c, dlls/wineps/afm2c.c,
	  dlls/wineps/data/AvantGarde_Book.c,
	  dlls/wineps/data/AvantGarde_BookOblique.c,
	  dlls/wineps/data/AvantGarde_Demi.c,
	  dlls/wineps/data/AvantGarde_DemiOblique.c,
	  dlls/wineps/data/Bookman_Demi.c,
	  dlls/wineps/data/Bookman_DemiItalic.c,
	  dlls/wineps/data/Bookman_Light.c,
	  dlls/wineps/data/Bookman_LightItalic.c, dlls/wineps/data/COPYRIGHTS,
	  dlls/wineps/data/Courier.c, dlls/wineps/data/Courier_Bold.c,
	  dlls/wineps/data/Courier_BoldOblique.c,
	  dlls/wineps/data/Courier_Oblique.c, dlls/wineps/data/Helvetica.c,
	  dlls/wineps/data/Helvetica_Bold.c,
	  dlls/wineps/data/Helvetica_BoldOblique.c,
	  dlls/wineps/data/Helvetica_Narrow.c,
	  dlls/wineps/data/Helvetica_Narrow_Bold.c,
	  dlls/wineps/data/Helvetica_Narrow_BoldOblique.c,
	  dlls/wineps/data/Helvetica_Narrow_Oblique.c,
	  dlls/wineps/data/Helvetica_Oblique.c,
	  dlls/wineps/data/NewCenturySchlbk_Bold.c,
	  dlls/wineps/data/NewCenturySchlbk_BoldItalic.c,
	  dlls/wineps/data/NewCenturySchlbk_Italic.c,
	  dlls/wineps/data/NewCenturySchlbk_Roman.c,
	  dlls/wineps/data/Palatino_Bold.c,
	  dlls/wineps/data/Palatino_BoldItalic.c,
	  dlls/wineps/data/Palatino_Italic.c, dlls/wineps/data/Palatino_Roman.c,
	  dlls/wineps/data/Symbol.c, dlls/wineps/data/Times_Bold.c,
	  dlls/wineps/data/Times_BoldItalic.c, dlls/wineps/data/Times_Italic.c,
	  dlls/wineps/data/Times_Roman.c,
	  dlls/wineps/data/ZapfChancery_MediumItalic.c,
	  dlls/wineps/data/ZapfDingbats.c, dlls/wineps/psdrv.h,
	  dlls/wineps/truetype.c, dlls/wineps/type1afm.c:
	Ian Pilcher <ian.pilcher@home.com>
	Eliminate glyph bounding boxes & other unused font metrics.

	* debugger/dbg.y, debugger/debug.l, debugger/debugger.h,
	  debugger/expr.c, debugger/hash.c, debugger/module.c,
	  debugger/winedbg.c, documentation/debugger.sgml:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed the parsing of id1.id2 which could be either access to field id2
	of struct id1, or the identifier id2 in dll id1.
	Enhanced some error reporting as well as 'info local' display layout.
	Minor cosmetic changes.

	* dlls/winmm/mci.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed error message and return value in case of bogus 'open all' mci
	string command. Minor 32/16 optimizations and cosmetic fixes.

	* dlls/oleaut32/variant.c:
	Marcus Meissner <marcus@jet.franken.de>
	DateTimeStringToTm and DateToTm must use dwFlags instead of lcid.

	* ole/uuid.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Include GUIDs in strmif.h and uuids.h.

	* include/Makefile.in, include/audevcod.h, include/dshow.h,
	  include/evcode.h, include/uuids.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some dshow headers.

	* include/strmif.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added IGraphBuilder, IFilterGraph2, IMediaSeeking interfaces.

	* win32/except.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Modified the debugger launching code so that only one instance of the
	debugger is created per process.

2001-08-13  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/message.c, include/winproc.h, windows/winproc.c:
	Added mappings for a few messages.
	Added unicode messages bit set to shortcut message mapping when
	possible.

	* windows/spy.c: Fixed some message names.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Implemented RB_MAXIMIZEBAND for the "ideal=TRUE" case.
	- Implemented NM_CUSTOMDRAW notifications for the ITEMPREPAINT and
	  ITEMPOSTPAINT only. (Used by IE4 - go figure.)
	- Invalidate window rectangles after certain RB_ messages like the
	  native. Fixed some painting problems.
	- Added UpdateWindow call in _MoveChildWindows to fix other painting
	  problems.
	- Set the Caption Font as the default font for all bands.

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Implement TBSTYLE_FLAT as "transparent" toolbar and buttons. (Skip
	  FillRect and BF_MIDDLE on _FLAT toolbars.)
	- Issue FIXMEs for unsupported styles.
	- If the "hidden" state has changed then recalc the buttons.
	- Support TBSTYLE_CUSTOMERASE (used by IE4) ans issue some of the
	  necessary NM_CUSTOMDRAW notifies.
	- Pass the WM_ERASEBKGND to parent if the toolbar is "transparent".
	- Invalidate the area 1 bigger than the button rect on a WM_MOUSELEAVE
	  so that the edge is "erased" by the parent.
	- Support the PGN_CALCSIZE notify since a toolbar can be a child of the
	  Pager control.

	* dlls/comctl32/treeview.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Add support to respond to the PGN_CALCSIZE version of the WM_NOTIFY
	message.

	* dlls/comctl32/pager.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Make all WM_NOTIFY messages go to the parent.
	- Allow WM_WINDOWPOSCHANGING when the control is size 0 to set initial
	  size.
	- Combine multiple SetWindowPos calls in same processing line and make
	  the flags like native.
	- Redo WM_NCCALCSIZE to match native.
	- Since Pager is a "transparent" control (except for its own buttons),
	  the WM_ERASEBKGND needs to be passed to the parent. Also do the window
	  offset like the native control does.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/variant.c,
	  include/oleauto.h:
	Daniel Walker <diwalker@earthlink.net>
	- implemented SystemTimetoVariantTime/VariantTimetoSystemTime
	    There was another implementation of SystemTimetoVariantTime
	    submitted that didn't work for dates prior to 1900.
	- implemented VarDateFromUDate/VarUdateFromDate
	- implemented VariantTimeToDosDateTime

	* dlls/msvcrt/math.c: Jukka Heinonen <jhei@iki.fi>
	Fixed _control87 return value, use of wrong assembler command to get
	fp control word and a bug that inverted _IC_AFFINE flag.
	Made _controlfp work as specified in MSDN.

2001-08-11  Alexandre Julliard  <julliard@winehq.com>

	* loader/ne/segment.c:
	Josh Thielen <thielen@netprince.net>
	Wrong handle was being closed.

	* dlls/wineps/data/AvantGarde_Book.c,
	  dlls/wineps/data/AvantGarde_BookOblique.c,
	  dlls/wineps/data/AvantGarde_Demi.c,
	  dlls/wineps/data/AvantGarde_DemiOblique.c,
	  dlls/wineps/data/Bookman_Demi.c,
	  dlls/wineps/data/Bookman_DemiItalic.c,
	  dlls/wineps/data/Bookman_Light.c,
	  dlls/wineps/data/Bookman_LightItalic.c, dlls/wineps/data/Courier.c,
	  dlls/wineps/data/Courier_Bold.c,
	  dlls/wineps/data/Courier_BoldOblique.c,
	  dlls/wineps/data/Courier_Oblique.c, dlls/wineps/data/Helvetica.c,
	  dlls/wineps/data/Helvetica_Bold.c,
	  dlls/wineps/data/Helvetica_BoldOblique.c,
	  dlls/wineps/data/Helvetica_Narrow.c,
	  dlls/wineps/data/Helvetica_Narrow_Bold.c,
	  dlls/wineps/data/Helvetica_Narrow_BoldOblique.c,
	  dlls/wineps/data/Helvetica_Narrow_Oblique.c,
	  dlls/wineps/data/Helvetica_Oblique.c,
	  dlls/wineps/data/NewCenturySchlbk_Bold.c,
	  dlls/wineps/data/NewCenturySchlbk_BoldItalic.c,
	  dlls/wineps/data/NewCenturySchlbk_Italic.c,
	  dlls/wineps/data/NewCenturySchlbk_Roman.c,
	  dlls/wineps/data/Palatino_Bold.c,
	  dlls/wineps/data/Palatino_BoldItalic.c,
	  dlls/wineps/data/Palatino_Italic.c, dlls/wineps/data/Palatino_Roman.c,
	  dlls/wineps/data/Symbol.c, dlls/wineps/data/Times_Bold.c,
	  dlls/wineps/data/Times_BoldItalic.c, dlls/wineps/data/Times_Italic.c,
	  dlls/wineps/data/Times_Roman.c,
	  dlls/wineps/data/ZapfChancery_MediumItalic.c,
	  dlls/wineps/data/ZapfDingbats.c, dlls/wineps/psdrv.h:
	Ian Pilcher <ian.pilcher@home.com>
	Remove unused character width array.

	* dlls/wineps/font.c:
	Ian Pilcher <ian.pilcher@home.com>
	Make EnumFonts and SelectObject use common font scaling.

2001-08-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/controls.h, dlls/x11drv/winpos.c, include/nonclient.h,
	  include/winpos.h, include/x11drv.h, windows/defwnd.c, windows/mdi.c,
	  windows/nonclient.c, windows/win.c, windows/winpos.c,
	  controls/button.c, controls/combo.c, controls/desktop.c,
	  controls/edit.c, controls/icontitle.c, controls/listbox.c,
	  controls/menu.c, controls/scroll.c, controls/static.c:
	Removed a number of direct accesses to the WND structure, replacing
	them by API calls.

	* graphics/dispdib.c, loader/ne/resource.c, dlls/comctl32/comboex.c,
	  dlls/ddraw/helper.c, dlls/ddraw/main.c, dlls/ntdll/sync.c:
	Jörg Mayer <jmayer@loplof.de>
	Fixed a few signed/unsigned and "unsigned < 0 always true" warnings.

	* dlls/wineps/font.c, dlls/wineps/ps.c, dlls/wineps/psdrv.h,
	  dlls/wineps/text.c:
	Ian Pilcher <ian.pilcher@home.com>
	Removed ANSI encoding stuff.

	* dlls/shell32/shelllink.c:
	Dusan Lacko <dlacko@codeweavers.com>
	Fix ExtractFromEXEDLL for nIndex != 0.
	Prefer 8bit icons.

	* include/config.h.in, loader/loadorder.c, configure, configure.in,
	  debugger/stabs.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixes for Solaris X86.

	* dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.spec:
	Mike McCormack <mike_mccormack@start.com.au>
	Implemented msvcrt._mbspbrk.

2001-08-09  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/Makefile.in, dlls/user/dde/.cvsignore,
	  dlls/user/dde/client.c, dlls/user/dde/dde_private.h,
	  dlls/user/dde/ddeml16.c, dlls/user/dde/misc.c, dlls/user/dde/server.c,
	  dlls/user/user32.spec, dlls/user/user_main.c, include/ddeml.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	- implemented correctly the HSZ as local atoms and added the needed
	  conversions to global atoms
	- enhanced internal handle <=> pointer conversions, as well as
	  validity of such objects (life time, destruction, mutual access...)
	- fixed a few ANSI/Unicode issues, stores most of the data as Unicode
	- started having both Ansi/Unicode DDE window procs for message A/W
	  transformation
	- fixed a few segmented pointer issues (mainly in DdeInitialize &
	  DdeGetData)
	- added most of the CBF_ flags handling
	- implemented the conversation announcement (XTYP_CONNECT_CONFIRM) on
	  server side
	- enhanced DdeQueryConfig and implemented DdeReconnect
	- implemented conversation termination (including XTYP_UNREGISTER)
	- several others code clean up
	- added transaction support on server side too

	* dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.spec:
	Mike McCormack <mike_mccormack@start.com.au>
	Implemented multibyte string reverse.

	* dlls/wineps/font.c, dlls/wineps/ps.c:
	Ian Pilcher <ian.pilcher@home.com>
	Remove previously disabled code.

	* dlls/wineps/escape.c, dlls/x11drv/xvidmode.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation fixes.

	* dlls/oleaut32/olepicture.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed issue found by winapi_check.

	* tools/winapi/c_parser.pm, tools/winapi/function.pm,
	  tools/winapi/make_filter, tools/winapi/make_parser.pm,
	  tools/winapi/winapi_fixup, tools/winapi/winapi_fixup_documentation.pm,
	  tools/winapi/winapi_fixup_editor.pm,
	  tools/winapi/winapi_fixup_options.pm,
	  tools/winapi/winapi_fixup_statements.pm,
	  tools/winapi_check/win32/shell32.api,
	  tools/winapi_check/win32/wineps.api,
	  tools/winapi_check/win32/x11drv.api,
	  tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Begun implementation of a C statements parser.
	- More reorganizations and fixes.

	* scheduler/client.c, server/request.c:
	Don't create the WINEPREFIX directory if it doesn't exist.

	* dlls/ddraw/dsurface/main.c, dlls/ntdll/critsection.c,
	  dlls/winsock/socket.c, dlls/x11drv/x11drv_main.c, include/winbase.h,
	  scheduler/critsection.c, scheduler/pthread.c:
	Added Interlocked*Pointer functions.
	Fixed InterlockedCompareExchange prototype.

	* dlls/advapi32/security.c, dlls/winmm/lolvldrv.c, dlls/winmm/mmio.c,
	  documentation/.cvsignore, documentation/wine.man.in,
	  loader/pe_image.c, misc/version.c, ole/ole2nls.c:
	Andreas Mohr <a.mohr@mailto.de>
	Spelling fixes.

	* tools/winecheck: Andreas Mohr <a.mohr@mailto.de>
	Small winecheck update (DGA check is bogus).

	* include/winnt.h: Andreas Mohr <a.mohr@mailto.de>
	Added more STATUS_ codes.

2001-08-08  Alexandre Julliard  <julliard@winehq.com>

	* include/nonclient.h, windows/clipboard.c, windows/defdlg.c,
	  windows/dialog.c, windows/mdi.c, windows/nonclient.c, windows/user.c,
	  windows/win.c, windows/winpos.c:
	Replace SendMessage16 by SendMessageW where possible.

	* dlls/user/thunk.c, dlls/user/user.spec, windows/painting.c:
	Fixed DrawState16 callback support.

	* dlls/shell32/shellpath.c:
	Fixed loop termination check in PathIsExeW.

	* graphics/escape.c:
	Fixed in_data/out_data mixup in Escape16 (thanks to Ladislav Sladecek).

	* dlls/wineps/Makefile.in, dlls/wineps/afm.c, dlls/wineps/psdrv.h,
	  dlls/wineps/truetype.c, dlls/wineps/type1afm.c:
	Ian Pilcher <ian.pilcher@home.com>
	Rewrite and separate AFM parsing code (no more [afmfiles]).

	* configure.in, configure:
	Marcus Meissner <marcus@jet.franken.de>
	Change libGLU check to look for gluLookAt instead of glBegin.

2001-08-07  Alexandre Julliard  <julliard@winehq.com>

	* debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Now tries to print the symbol name of a crst when it times out.

	* server/thread.c: Andreas Mohr <a.mohr@mailto.de>
	Don't crash if send_thread_wakeup() fails.

	* winedefault.reg:
	Ove Kaaven <ovek@transgaming.com>
	Added some registry entries related to COM interface marshaling.

	* windows/input.c, windows/message.c, windows/queue.c,
	  dlls/user/Makefile.in, dlls/user/message.c, dlls/user/msg16.c,
	  dlls/user/user.spec, include/message.h, include/queue.h,
	  include/wine/server_protocol.h, include/wine/winuser16.h,
	  server/protocol.def, server/queue.c, server/request.h, server/trace.c:
	Rewrote most of SendMessage/PeekMessage.
	Implemented inter-process messaging.
	Moved most message routines to dlls/user, and split off 16-bit
	routines to a separate file.

2001-08-06  Alexandre Julliard  <julliard@winehq.com>

	* include/config.h.in, include/olectl.h, include/wine/obj_picture.h,
	  configure, configure.in, dlls/oleaut32/Makefile.in,
	  dlls/oleaut32/olepicture.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented OleLoadPicture.
	Added support for loading JPEG, Bitmap and Icons from persistant
	streams.
	Implemented JPEG support using libjpeg, added necessary configure.in
	options.
	Added IConnectionPoint style notifications to the IPicture iface.
	Implemented several of the stubs already there, added some more.

	* dlls/x11drv/x11ddraw.c:
	Jukka Heinonen <jhei@iki.fi>
	XGrabPointer is now called from the correct thread context and it is
	made sure that we have keyboard focus when using DirectX.

	* dlls/x11drv/winpos.c, windows/dialog.c, windows/nonclient.c,
	  controls/menu.c:
	Replaced MSG_InternalGetMessage calls by equivalent exported APIs.

	* windows/winproc.c:
	Fixed return value for WM_NOTIFY and WM_ACTIVATEAPP mappings.

	* include/winuser.h: Added SMTO_* defines.

	* debugger/winedbg.c, documentation/debugger.sgml, debugger/dbg.y,
	  debugger/debugger.h, debugger/info.c, debugger/stack.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Extended bt command to display backtrace of another thread.
	Enhanced process & thread display with process name.

	* dlls/comctl32/propsheet.c:
	Andreas Mohr <a.mohr@mailto.de>
	Fixed tab control index handling.

	* dlls/kernel/comm.c, dlls/kernel/kernel32.spec, include/winbase.h:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	SetCommConfig has 3 arguments, not 2.

	* documentation/wine.conf.man.in, documentation/wine.man.in:
	Lawson Whitney <lawson_whitney@juno.com>
	Reconciled the wine man pages to the absence of wine.conf.

	* scheduler/process.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed image name value sent to server upon process creation.

	* dlls/oleaut32/typelib.c:
	Marcus Meissner <marcus@jet.franken.de>
	First (partial) implementation of ITypeInfo::Invoke.
	Fixed buffer len passing to snprintf().

2001-08-03  Alexandre Julliard  <julliard@winehq.com>

	* windows/painting.c:
	Marco Bizzarri <m.bizzarri@icube.it>
	GetControlBrush16: avoid potentially releasing the same pointer
	twice.

	* dlls/oleaut32/typelib.c:
	Malte Starostik <malte@kde.org>
	Implemented RegisterTypeLib.

	* library/ldt.c:
	Pierre Beyssac <pb@fasterix.freenix.org>
	Force DPL 3 when setting entries on BSD.

	* dlls/commdlg/filedlg95.c:
	Andreas Mohr <a.mohr@mailto.de>
	Only add "." separator in case a default file name extension does
	exist.

	* objects/dib.c: Andreas Mohr <a.mohr@mailto.de>
	DIB_GetBitmapInfo didn't recognize BITMAPV4/5HEADER.

	* debugger/msc.c:
	Marcus Meissner <marcus@jet.franken.de>
	Check for -1 as the undefined value for handles before CloseHandle.

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Add debugging dumps of bar and buttons, and trace entry for each
	  message.
	- Organize WM_NOTIFY processing in preparation for Unicode
	- Implement TBN_GETDISPINFO and I_IMAGECALLBACK for bitmaps.
	- Implement drawing of separator for TBSTYLE_DROPDOWN similar to native.
	- Change drawing of buttons to support TBSTYLE_LIST and make match
	  native pixel layout (with and without bitmaps).
	- Change TOOLBAR_MeasureString to measure with DrawText like native.
	  This eliminates extra space due to prefix char ("&").
	- Speed up TOOLBAR_CalcStrings by doing the HDC and FONT selection once.
	- Change calc of buttons to match drawing for TBSTYLE_LIST and
	  separators.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Add support to dump memory at lParam location on common control
	  messages.
	- Fixed remaining Toolbar and Pager notify dump amounts.
	- Separate memory dump code for easy use.

	* include/commctrl.h:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Add TBNF_* flags for the NMTBDISPINFO structure.

2001-07-31  Alexandre Julliard  <julliard@winehq.com>

	* include/version.h, ANNOUNCE, ChangeLog:
	Release 20010731.

----------------------------------------------------------------
2001-07-31  Alexandre Julliard  <julliard@winehq.com>

	* dlls/gdi/driver.c: Jukka Heinonen <jhei@iki.fi>
	Include device name in call to CreateIC.

	* dlls/x11drv/window.c:
	Fixed desktop window structure initialization.

	* dlls/ddraw/dsurface/user.c, windows/dce.c:
	Fixed a few problems with DCX_* flags handling.

	* dlls/comctl32/toolbar.c:
	Nog <nog@sdf.lonestar.org>
	Don't enable the 'hot' state of a toolbar button when it's not
	enabled.

	* dlls/opengl32/make_opengl, dlls/opengl32/opengl_ext.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- added support for the SGIS multitexture extension.
	- misc. other fixes

	* windows/defwnd.c:
	Erase only client area on WM_ERASEBKGND.

2001-07-30  Alexandre Julliard  <julliard@winehq.com>

	* tools/winapi/.cvsignore, tools/winapi/Makefile.in,
	  tools/winapi/trampoline, tools/winapi/winapi_check, configure,
	  configure.in:
	Patrik Stridvall <ps@leissner.se>
	Made it possible to install the winapi tools.

	* include/winnls.h, include/winuser.h:
	Force STRICT checking of callback function types when compiling Wine.

	* windows/property.c:
	Implement EnumProps on top of EnumPropsEx to avoid function pointer
	type mismatches.

	* loader/ne/module.c, loader/task.c, include/task.h:
	Fixed HTASK/HTASK16 handle mismatch.

	* include/mmsystem.h, include/msacm.h, include/windef.h:
	Moved some handle declarations to the right headers.

	* tools/winapi/config.pm, tools/winapi/make_parser.pm,
	  tools/winapi/options.pm, tools/winapi_check/modules.dat,
	  tools/winapi_check/modules.pm, tools/winapi_check/win32/ttydrv.api,
	  tools/winapi_check/win32/wineps.api,
	  tools/winapi_check/win32/x11drv.api, tools/winapi_check/winapi.pm,
	  tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_local.pm,
	  tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	A few bug fixes.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Fix handling of the '--with-wine-xxx' options: only look in the
	specified path.
	Libraries and wine dlls are separate notions that need separate paths
	-> add WINE_DLL_{ROOT,PATH}, --with-wine-dlls and a '-P' option.
	Small fixes to the search order.

2001-07-29  Alexandre Julliard  <julliard@winehq.com>

	* dlls/wineps/init.c, dlls/wineps/wineps.spec,
	  dlls/x11drv/x11ddraw.c, dlls/x11drv/x11drv.spec,
	  graphics/enhmetafiledrv/init.c, graphics/escape.c,
	  graphics/metafiledrv/init.c, graphics/win16drv/init.c,
	  graphics/x11drv/init.c, include/gdi.h, include/wine/wingdi16.h,
	  include/x11drv.h, dlls/gdi/driver.c, dlls/gdi/gdi.spec,
	  dlls/gdi/printdrv.c, dlls/wineps/escape.c:
	Rewrote Escape to avoid calling down to Escape16.
	Replaced Escape by ExtEscape in the DC function table.

	* Make.rules.in: Patrik Stridvall <ps@leissner.se>
	Added a filter rule for filtering make output with
	tools/winapi/make_filter.

	* dlls/ole32/clipboard.c, dlls/ole32/ole2.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* tools/winapi/config.pm, tools/winapi/make_filter,
	  tools/winapi/make_filter_options.pm, tools/winapi/make_parser.pm,
	  tools/winapi/options.pm, tools/winapi/setup.pm:
	Patrik Stridvall <ps@leissner.se>
	A few bug fixes.

	* include/dplay.h:
	Patrik Stridvall <ps@leissner.se>
	Cleanup/removal of unnessary things that would have made winapi_*
	parsing more complicated.

2001-07-28  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/init.c, graphics/x11drv/palette.c,
	  graphics/x11drv/xfont.c, include/gdi.h, include/win16drv.h,
	  include/x11drv.h, objects/dc.c, objects/palette.c,
	  graphics/win16drv/init.c, graphics/win16drv/text.c,
	  dlls/wineps/escape.c, dlls/wineps/font.c, dlls/wineps/init.c,
	  dlls/wineps/ps.c, dlls/wineps/psdrv.h, dlls/wineps/wineps.spec,
	  dlls/x11drv/x11drv.spec, graphics/enhmetafiledrv/init.c,
	  graphics/mapping.c, graphics/metafiledrv/init.c, dlls/gdi/driver.c,
	  dlls/ttydrv/dc.c, dlls/ttydrv/palette.c, dlls/ttydrv/ttydrv.h,
	  dlls/ttydrv/ttydrv.spec, dlls/ttydrv/ttydrv_main.c:
	Added GetDeviceCaps to the DC driver interface. Removed devCaps
	pointer in the generic DC structure.

	* dlls/ddraw/ddraw_private.h:
	Removed unused DC_FUNCS pointers.

2001-07-27  Alexandre Julliard  <julliard@winehq.com>

	* misc/version.c:
	Bob Goodwin <goodie1@pacbell.net>
	Fix the 16bit win95 version.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Put the per project paths before the wine paths.
	Remove unnecessary libraries from the wine link test.
	Move DLL_LINK from configure.in to the Make.rules file.

	* dlls/commdlg/printdlg.c:
	Andreas Mohr <a.mohr@mailto.de>
	Don't crash if DeviceCapabilities(DC_PAPERNAMES) fails.

	* dlls/Makefile.in, dlls/ddraw/Makefile.in, dlls/ddraw/ddraw.spec,
	  dlls/opengl32/Makefile.in, dlls/opengl32/opengl32.spec:
	Added missing ntdll imports.

	* dlls/wineps/init.c, dlls/wineps/wineps.spec,
	  dlls/x11drv/x11drv.spec, graphics/Makefile.in, graphics/driver.c,
	  graphics/win16drv/init.c, graphics/x11drv/bitmap.c,
	  graphics/x11drv/init.c, graphics/x11drv/oembitmap.c, include/gdi.h,
	  include/x11drv.h, objects/dc.c, dlls/gdi/Makefile.in,
	  dlls/gdi/driver.c, dlls/gdi/gdi_main.c, dlls/ttydrv/bitmap.c,
	  dlls/ttydrv/dc.c, dlls/ttydrv/ttydrv.spec:
	Build the DC function table by using GetProcAddress on the graphics
	driver module. Moved driver support to dlls/gdi.

2001-07-26  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makefile.in, dlls/ddraw/Makefile.in, dlls/ddraw/ddraw.spec:
	Removed import of x11drv from ddraw.

	* dlls/dinput/dinput_main.c, dlls/dsound/dsound_main.c,
	  loader/dos/dosmod.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* dlls/oleaut32/oleaut.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation fixes.

	* include/commctrl.h:
	Patrik Stridvall <ps@leissner.se>
	Cleanup/removal of unnessary things that would have made winapi_*
	parsing more complicated.

	* dlls/kernel/comm.c, include/winbase.h, include/winuser.h:
	Patrik Stridvall <ps@leissner.se>
	- Moved comm related protoypes to the correct .h file.
	- Cleaned up the include section.

	* include/wine/port.h:
	Patrik Stridvall <ps@leissner.se>
	Removed inclusion of winnt.h because the porting layer shouldn't
	include Windows specific stuff.

	* dlls/wineps/afm.c, dlls/wineps/init.c, dlls/wineps/ps.c,
	  dlls/wineps/psdrv.h, dlls/wineps/truetype.c:
	Ian Pilcher <ian.pilcher@home.com>
	Rewrite TrueType font metric parsing code.

	* tools/winapi_check/modules.dat, tools/winapi_check/modules.pm,
	  tools/winapi_check/nativeapi.pm, tools/winapi_check/winapi.pm,
	  tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_global.pm,
	  tools/winapi_check/winapi_parser.pm, tools/winapi/config.pm,
	  tools/winapi/make_filter, tools/winapi/make_filter_options.pm,
	  tools/winapi/make_parser.pm, tools/winapi/options.pm,
	  tools/winapi/output.pm, tools/winapi/type.pm,
	  tools/winapi/winapi_check_options.pm, tools/winapi/winapi_extract,
	  tools/winapi/winapi_extract_options.pm, tools/winapi/winapi_fixup:
	Patrik Stridvall <ps@leissner.se>
	- A few more bug fixes
	- Reorganization continues
	- New tool (make_filter) for filtering make output added

	* dlls/ntdll/misc.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix a typo.

	* graphics/x11drv/bitblt.c:
	Bill Medland <medbi01@accpac.com>
	Don't inline perfect_graphics().

	* include/callback.h, include/hook.h, loader/module.c, loader/task.c,
	  scheduler/process.c, dlls/user/user_main.c, if1632/thunk.c:
	Removed a few unnecessary Callouts.

	* include/queue.h, include/wine/winuser16.h, windows/clipboard.c,
	  windows/focus.c, windows/hook.c, windows/input.c,
	  windows/message.c, windows/queue.c, windows/timer.c,
	  windows/user.c, windows/win.c, windows/winpos.c,
	  dlls/x11drv/desktop.c:
	Avoid using GetFastQueue16 from USER.

	* dlls/user/text.c, include/winuser.h:
	Travis Michielsen <tjmichielsen@yahoo.com>
	Fully implement DrawTextEx* functions.

	* dlls/comctl32/propsheet.c:
	Marcus Meissner <marcus@jet.franken.de>
	Be a bit more graceful on NULL property sheet titles.

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- On TB_SETIMAGELIST retrieve new values of the bitmap width and
	  height (fixes overlap of image and text in IE4).
	- Handle return codes from TBN_DROPDOWN (allows a "dropdown" to be
	  treated like a regular button).
	- Implement TBN_BEGINDRAG and TBN_ENDDRAG in WM_LBUTTON{DOWN|UP} (not
	  necessary but done by native).
	- Implement NM_RELEASEDCAPTURE and NM_CLICK.

	* include/commctrl.h:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Add values to describe return values from WM_NOTIFY of TBN_DROPDOWN.

	* Make.rules.in:
	Mike McCormack <mike_mccormack@start.com.au>
	Correct man page spec directory.

2001-07-25  Alexandre Julliard  <julliard@winehq.com>

	* windows/winpos.c, windows/x11drv/event.c, loader/ne/module.c,
	  memory/global.c, memory/local.c, memory/registry.c,
	  msdos/dosaspi.c, objects/bitmap.c, objects/region.c,
	  objects/text.c, relay32/builtin32.c, scheduler/critsection.c,
	  scheduler/thread.c, win32/device.c, windows/driver.c,
	  windows/input.c, windows/keyboard.c, windows/painting.c,
	  graphics/enhmetafiledrv/graphics.c,
	  graphics/enhmetafiledrv/objects.c, graphics/metafiledrv/bitblt.c,
	  graphics/metafiledrv/graphics.c, graphics/metafiledrv/objects.c,
	  graphics/metafiledrv/text.c, graphics/win16drv/graphics.c,
	  graphics/x11drv/bitmap.c, graphics/x11drv/clipping.c,
	  graphics/x11drv/codepage.c, graphics/x11drv/oembitmap.c,
	  graphics/x11drv/text.c, if1632/builtin.c, if1632/relay.c,
	  if1632/thunk.c, dlls/winsock/async.c, dlls/wsock32/protocol.c,
	  graphics/painting.c, dlls/user/network.c, dlls/winaspi/winaspi16.c,
	  dlls/winaspi/winaspi32.c, dlls/wininet/ftp.c,
	  dlls/winmm/mciwave/mciwave.c, dlls/winmm/wineoss/audio.c,
	  dlls/winmm/wineoss/midi.c, dlls/msacm/driver.c, dlls/ntdll/rtl.c,
	  dlls/ntdll/rtlstr.c, dlls/ntdll/sec.c, dlls/ole32/bindctx.c,
	  dlls/ole32/errorinfo.c, dlls/ole32/moniker.c, dlls/ole32/ole2nls.c,
	  dlls/oleaut32/dispatch.c, dlls/oleaut32/oleaut.c,
	  dlls/oleaut32/stubs.c, dlls/richedit/richedit.c,
	  dlls/setupapi/devinst.c, dlls/setupapi/infparse.c,
	  dlls/setupapi/virtcopy.c, dlls/shell32/memorystream.c,
	  dlls/shell32/shellstring.c, dlls/shell32/systray.c,
	  dlls/shlwapi/regstream.c, dlls/ttydrv/graphics.c,
	  controls/desktop.c, controls/icontitle.c, controls/static.c,
	  dlls/comctl32/ipaddress.c, dlls/commdlg/filedlg95.c,
	  dlls/commdlg/filedlgbrowser.c, dlls/ddraw/d3ddevice/main.c,
	  dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dexecutebuffer.c,
	  dlls/ddraw/d3dlight.c, dlls/ddraw/d3dmaterial.c,
	  dlls/ddraw/d3dtexture.c, dlls/ddraw/d3dviewport.c,
	  dlls/ddraw/helper.c, dlls/dplayx/dplaysp.c,
	  dlls/dplayx/dplayx_global.c, dlls/kernel/toolhelp.c,
	  dlls/kernel/wowthunk.c, dlls/mpr/mpr_main.c, controls/combo.c:
	Removed unnecessary inclusion of heap.h.

2001-07-24  Alexandre Julliard  <julliard@winehq.com>

	* graphics/enhmetafiledrv/init.c, include/enhmetafile.h,
	  include/gdi.h, objects/enhmetafile.c:
	Removed enhmetafile.h. Simplified ENHMETAFILEOBJ structure a bit.

	* include/heap.h, include/module.h, loader/elf.c, loader/loadorder.c,
	  loader/module.c, msdos/int21.c, relay32/snoop.c,
	  windows/clipboard.c, dlls/user/lstr.c, dlls/wineps/afm.c,
	  dlls/wineps/escape.c, dlls/wineps/init.c, dlls/wineps/ppd.c,
	  dlls/wineps/truetype.c, dlls/winmm/mci.c, dlls/winmm/mmsystem.c,
	  files/dos_fs.c, files/drive.c, files/profile.c, graphics/driver.c,
	  graphics/env.c, graphics/win16drv/prtdrv.c,
	  graphics/x11drv/xfont.c, if1632/snoop.c, dlls/comctl32/propsheet.c,
	  dlls/gdi/printdrv.c, dlls/kernel/format_msg.c,
	  dlls/setupapi/setupx_main.c, dlls/shell32/iconcache.c,
	  dlls/shell32/shelllink.c:
	Removed HEAP_strdupA.

	* dlls/wineps/data/Palatino_BoldItalic.c,
	  dlls/wineps/data/Palatino_Italic.c,
	  dlls/wineps/data/Palatino_Roman.c, dlls/wineps/data/Symbol.c,
	  dlls/wineps/data/Times_Bold.c, dlls/wineps/data/Times_BoldItalic.c,
	  dlls/wineps/data/Times_Italic.c, dlls/wineps/data/Times_Roman.c,
	  dlls/wineps/data/ZapfChancery_MediumItalic.c,
	  dlls/wineps/data/ZapfDingbats.c, dlls/wineps/data/agl.c,
	  dlls/wineps/data/agl.h, dlls/wineps/data/AvantGarde_Book.c,
	  dlls/wineps/data/AvantGarde_BookOblique.c,
	  dlls/wineps/data/AvantGarde_Demi.c,
	  dlls/wineps/data/AvantGarde_DemiOblique.c,
	  dlls/wineps/data/Bookman_Demi.c,
	  dlls/wineps/data/Bookman_DemiItalic.c,
	  dlls/wineps/data/Bookman_Light.c,
	  dlls/wineps/data/Bookman_LightItalic.c, dlls/wineps/data/Courier.c,
	  dlls/wineps/data/Courier_Bold.c,
	  dlls/wineps/data/Courier_BoldOblique.c,
	  dlls/wineps/data/Courier_Oblique.c, dlls/wineps/data/Helvetica.c,
	  dlls/wineps/data/Helvetica_Bold.c,
	  dlls/wineps/data/Helvetica_BoldOblique.c,
	  dlls/wineps/data/Helvetica_Narrow.c,
	  dlls/wineps/data/Helvetica_Narrow_Bold.c,
	  dlls/wineps/data/Helvetica_Narrow_BoldOblique.c,
	  dlls/wineps/data/Helvetica_Narrow_Oblique.c,
	  dlls/wineps/data/Helvetica_Oblique.c,
	  dlls/wineps/data/NewCenturySchlbk_Bold.c,
	  dlls/wineps/data/NewCenturySchlbk_BoldItalic.c,
	  dlls/wineps/data/NewCenturySchlbk_Italic.c,
	  dlls/wineps/data/NewCenturySchlbk_Roman.c,
	  dlls/wineps/data/Palatino_Bold.c, dlls/wineps/mkagl.c,
	  dlls/wineps/psdrv.h:
	Ian Pilcher <ian.pilcher@home.com>
	Make built-in font data read-only.

	* objects/dcvalues.c:
	Got rid of all the ugly macros.

	* dlls/wineps/afm.c, dlls/wineps/font.c, dlls/wineps/glyphlist.c,
	  dlls/wineps/init.c, dlls/wineps/psdrv.h, dlls/wineps/truetype.c:
	Ian Pilcher <ian.pilcher@home.com>
	Modify init code to handle const data types.

	* dlls/kernel/comm.c, dlls/kernel/kernel_main.c,
	  dlls/user/Makefile.in, dlls/user/comm16.c, dlls/user/user_main.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Move 16-bit COMM code to USER dll.

	* controls/button.c, controls/combo.c, controls/edit.c,
	  controls/icontitle.c, controls/listbox.c, controls/scroll.c,
	  controls/static.c:
	Jukka Heinonen <jhei@iki.fi>
	WNDPROC handlers now check whether HWND argument is valid.

	* dlls/oleaut32/oleaut.c, dlls/oleaut32/oleaut32.spec,
	  dlls/oleaut32/olefont.c:
	Marcus Meissner <marcus@jet.franken.de>
	OLEAUT32.DllGetClassObject and support for the Ole StdFont added (just
	giving back a 8 point System font for now).

	* objects/dcvalues.c, scheduler/critsection.c, scheduler/sysdeps.c,
	  scheduler/thread.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation fixes.

2001-07-23  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/signal_i386.c, dlls/ole32/compobj.c, dlls/ole32/ifs.c,
	  dlls/ole32/ifs.h, dlls/ole32/ole2.c, dlls/oleaut32/ole2disp.c,
	  dlls/oleaut32/ole2disp.h, dlls/oleaut32/typelib.c,
	  dlls/olecli/olecli_main.c, dlls/olesvr/olesvr_main.c,
	  dlls/shell32/shlmenu.c, include/ole.h,
	  dlls/lzexpand/lzexpand_main.c, dlls/msvcrt/cpp.c,
	  dlls/msvcrt/exit.c, dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.h:
	Patrik Stridvall <ps@leissner.se>
	- Made sure that the files that contains the declarations
	  of the implementated functions are included.
	- Corrected mismatching prototypes.
	- Cleaned up the include section.

	* dlls/wineps/font.c:
	Ian Pilcher <ian.pilcher@home.com>
	Use Windows metrics for font scaling.

	* tools/winapi/config.pm, tools/winapi/options.pm,
	  tools/winapi/output.pm, tools/winapi/winapi_check_options.pm,
	  tools/winapi/winapi_extract,
	  tools/winapi/winapi_extract_options.pm, tools/winapi/winapi_fixup,
	  tools/winapi/winapi_fixup_options.pm,
	  tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_documentation.pm,
	  tools/winapi_check/winapi_function.pm,
	  tools/winapi_check/winapi_global.pm,
	  tools/winapi_check/winapi_local.pm,
	  tools/winapi_check/winapi_options.pm,
	  tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	Yet another major reorganization and a few new features.

	* files/file.c, server/file.c:
	Bernhard Rosenkraenzer <bero@redhat.de>
	Set executable permissions when creating .exe/.com files.

	* dlls/msvcrt/file.c:
	Marcus Meissner <marcus@jet.franken.de>
	Pass handle to GetFileType, not MSVCRT fd.

	* dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Rewrite BuildCommDCB16 to depend on BuildCommDCB, not vice-versa.

	* dlls/wineps/afm.c, dlls/wineps/data/agl.c, dlls/wineps/glyphlist.c, dlls/wineps/mkagl.c:
	Ian Pilcher <ian.pilcher@home.com>
	Only index glyph names when necessary.

	* include/loadorder.h, include/metafile.h, include/module.h,
	  include/options.h, loader/loadorder.c, loader/main.c,
	  loader/module.c, loader/ne/module.c, misc/options.c,
	  objects/font.c, objects/metafile.c, windows/class.c,
	  windows/user.c, windows/x11drv/event.c, windows/x11drv/keyboard.c,
	  dlls/ttydrv/ttydrv_main.c, dlls/winaspi/winaspi32.c,
	  dlls/wineps/bitmap.c, dlls/x11drv/x11drv_main.c,
	  graphics/win16drv/prtdrv.c, graphics/x11drv/bitblt.c,
	  graphics/x11drv/graphics.c, graphics/x11drv/oembitmap.c,
	  graphics/x11drv/palette.c, debugger/debugger.h, debugger/info.c,
	  debugger/memory.c, debugger/module.c, debugger/msc.c,
	  debugger/winedbg.c, dlls/ddraw/ddraw/hal.c,
	  dlls/ddraw/ddraw/main.c, dlls/ddraw/direct3d/main.c,
	  dlls/ddraw/direct3d/mesa.c, dlls/ddraw/helper.c,
	  dlls/gdi/printdrv.c, dlls/setupapi/virtcopy.c:
	Removed some unnecessary includes.

2001-07-22  Alexandre Julliard  <julliard@winehq.com>

	* dlls/wineps/afm.c, dlls/wineps/data/agl.c, dlls/wineps/data/agl.h,
	  dlls/wineps/mkagl.c, dlls/wineps/psdrv.h:
	Ian Pilcher <ian.pilcher@home.com>
	Eliminate UNICODEVECTOR data type.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa_private.h,
	  include/wine_gl.h:
	Commented out references to x11drv internals from MESA code.

	* graphics/enhmetafiledrv/objects.c, graphics/metafiledrv/objects.c,
	  graphics/win16drv/brush.c, graphics/win16drv/font.c,
	  graphics/win16drv/objects.c, graphics/win16drv/pen.c,
	  include/win16drv.h, dlls/ttydrv/objects.c, dlls/wineps/brush.c,
	  dlls/wineps/font.c, dlls/wineps/objects.c, dlls/wineps/pen.c,
	  dlls/wineps/psdrv.h:
	Removed some direct accesses to GDI internal pen/brush/font
	structures.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- If the class of the window is a known standard, then format the name
	  of the WM_USER+nnn messages if possible.
	- Fix case where the classname returned was truncated and not printed
	  at all.
	- Issue errors if either the Notify or common control messasge lists
	  are out of order.
	- Prepare to dump out control block structures pointed to by lparam
	  for messages.

	* dlls/ttydrv/bitmap.c, dlls/ttydrv/dc.c, dlls/ttydrv/ttydrv.h,
	  dlls/wineps/init.c, graphics/enhmetafiledrv/init.c,
	  graphics/metafiledrv/init.c, graphics/win16drv/init.c,
	  graphics/x11drv/dib.c, graphics/x11drv/init.c, include/bitmap.h,
	  include/gdi.h, include/x11drv.h, objects/bitmap.c, objects/dib.c,
	  dlls/gdi/wing.c:
	Moved the 16-bit pointer to the DIB bits out of the driver-specific
	structure and into the main bitmap structure. Removed
	CreateDIBSection16 from the driver interface.

	* controls/menu.c, dlls/shell32/shell32_main.c, include/heap.h, windows/mdi.c:
	Got rid of HEAP_strdupW.

	* dlls/wineps/data/AvantGarde_Book.c,
	  dlls/wineps/data/AvantGarde_BookOblique.c,
	  dlls/wineps/data/AvantGarde_Demi.c,
	  dlls/wineps/data/AvantGarde_DemiOblique.c,
	  dlls/wineps/data/Bookman_Demi.c,
	  dlls/wineps/data/Bookman_DemiItalic.c,
	  dlls/wineps/data/Bookman_Light.c,
	  dlls/wineps/data/Bookman_LightItalic.c, dlls/wineps/data/Courier.c,
	  dlls/wineps/data/Courier_Bold.c,
	  dlls/wineps/data/Courier_BoldOblique.c,
	  dlls/wineps/data/Courier_Oblique.c, dlls/wineps/data/Helvetica.c,
	  dlls/wineps/data/Helvetica_Bold.c,
	  dlls/wineps/data/Helvetica_BoldOblique.c,
	  dlls/wineps/data/Helvetica_Narrow.c,
	  dlls/wineps/data/Helvetica_Narrow_Bold.c,
	  dlls/wineps/data/Helvetica_Narrow_BoldOblique.c,
	  dlls/wineps/data/Helvetica_Narrow_Oblique.c,
	  dlls/wineps/data/Helvetica_Oblique.c,
	  dlls/wineps/data/NewCenturySchlbk_Bold.c,
	  dlls/wineps/data/NewCenturySchlbk_BoldItalic.c,
	  dlls/wineps/data/NewCenturySchlbk_Italic.c,
	  dlls/wineps/data/NewCenturySchlbk_Roman.c,
	  dlls/wineps/data/Palatino_Bold.c,
	  dlls/wineps/data/Palatino_BoldItalic.c,
	  dlls/wineps/data/Palatino_Italic.c,
	  dlls/wineps/data/Palatino_Roman.c, dlls/wineps/data/Symbol.c,
	  dlls/wineps/data/Times_Bold.c, dlls/wineps/data/Times_BoldItalic.c,
	  dlls/wineps/data/Times_Italic.c, dlls/wineps/data/Times_Roman.c,
	  dlls/wineps/data/ZapfChancery_MediumItalic.c,
	  dlls/wineps/data/ZapfDingbats.c, dlls/wineps/psdrv.h,
	  dlls/wineps/truetype.c, dlls/wineps/afm.c:
	Ian Pilcher <ian.pilcher@home.com>
	Remove redundant data structure from font metrics.

	* dlls/oleaut32/olefont.c:
	Marcus Meissner <marcus@jet.franken.de>
	OleFont::IDispatch::Invoke stub can just return S_OK.

2001-07-20  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/window.c:
	Use AdjustWindowRect to translate X to window rectangle instead of
	duplicating what's done in nonclient.c.

	* windows/nonclient.c:
	Bill Medland <medbi01@accpac.com>
	Corrections to the Win95 and later frame drawing code.

	* windows/win.c: Bill Medland <medbi01@accpac.com>
	Additional modifications to the window styles during window creation.

	* include/wine/shell16.h, memory/atom.c, dlls/winmm/winemm.h,
	  dlls/ntdll/signal_sparc.c, dlls/ole32/compobj_private.h,
	  dlls/ole32/errorinfo.c, dlls/ole32/filemoniker.c,
	  dlls/ole32/hglobalstream.c, dlls/ole32/memlockbytes.c,
	  dlls/ole32/ole2nls.c, dlls/oleaut32/dispatch.c,
	  dlls/shell32/shell.c, dlls/shell32/shell32_main.c,
	  dlls/shell32/shellole.c, dlls/shell32/shellreg.c,
	  dlls/shell32/shpolicy.c, dlls/kernel/sync.c, dlls/msvideo/vfw16.h:
	Patrik Stridvall <ps@leissner.se>
	- Made sure that the files that contains the declarations
	  of the implementated functions are included.
	- Corrected mismatching prototypes.
	- Cleaned up the include section.

	* include/Makefile.in:
	Added a few more files to the install list.

	* windows/winpos.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Trace rectangles returned by GetClientRect and GetWindowRect.

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Recalc the toolbar size on TB_SETBUTTONSIZE in certain conditions.
	- Add trace to show the paint rectangle prior to refreshing.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Fix handling of text color.
	- Correct implementation of WM_SETREDRAW to be closer to native.
	- Do more implementation of RBS_AUTOSIZE in the WM_SIZE processor.
	- Implement RBBS_VARIABLEHEIGHT. Used by IE4.
	- Do more testing in WM_SIZE to handle strange cases like native.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Display rectangle from WM_NCCALCSIZE on entry and exit.

	* dlls/comctl32/comboex.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Fix conversion of W structure to A structure during notify.

	* README:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Update information concerning FreeBSD.
	Refer to Wine instead of wine as the package name.

	* dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Replace service thread with ReadFileEx/WriteFileEx.

	* files/profile.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Fix 'undocumented' behaviour of GetPrivateProfileString.

2001-07-19  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/shpolicy.h:
	Patrik Stridvall <ps@leissner.se>
	Removed unused file.

	* tools/winapi_check/win32/shell32.api,
	  tools/winapi_check/win32/user32.api,
	  tools/winapi_check/winapi_check, tools/winapi/winapi_extract:
	Patrik Stridvall <ps@leissner.se>
	Minor reorganisation and a few bug fixes.

	* dlls/ddraw/dsurface/wndproc.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix out of the source tree build (again).

	* misc/registry.c, relay32/builtin32.c, scheduler/client.c,
	  scheduler/handle.c, scheduler/pipe.c, scheduler/process.c,
	  scheduler/synchro.c, scheduler/sysdeps.c, scheduler/thread.c,
	  scheduler/timer.c, win32/console.c, win32/device.c, win32/except.c,
	  windows/input.c, windows/message.c, windows/painting.c,
	  windows/queue.c, windows/timer.c, dlls/winsock/socket.c,
	  files/change.c, files/dos_fs.c, files/file.c, files/profile.c,
	  graphics/x11drv/xfont.c, include/server.h, include/wine/server.h,
	  include/wine/server_protocol.h, loader/main.c, loader/module.c,
	  loader/pe_image.c, loader/task.c, memory/atom.c, memory/registry.c,
	  memory/selector.c, memory/virtual.c, dlls/advapi32/registry.c,
	  dlls/kernel/comm.c, dlls/kernel/debugger.c, dlls/kernel/sync.c,
	  dlls/kernel/toolhelp.c, dlls/ntdll/exception.c, dlls/ntdll/nt.c,
	  dlls/ntdll/om.c, dlls/ntdll/reg.c, dlls/ntdll/sync.c:
	Moved server.h to include/wine.

	* server/Makefile.in, server/handle.h, server/object.h,
	  server/process.h, server/protocol.def, server/request.c,
	  server/request.h, server/thread.h, server/unicode.h,
	  tools/make_requests:
	Use the new protocol.def file to build the request structures.
	Define protocol structures in a separate server_protocol.h file.
	Removed __WINE_SERVER__ checks now that all includes are in the right
	directory.

	* dlls/wineps/afm.c, dlls/wineps/font.c, dlls/wineps/ps.c,
	  dlls/wineps/psdrv.h, dlls/wineps/truetype.c:
	Ian Pilcher <ian.pilcher@home.com>
	Read/calculate average character width for all fonts.
	Work directly with 16-bit WCHARs; don't convert to CP1252.

	* dlls/wineps/data/Helvetica_Narrow.c,
	  dlls/wineps/data/Helvetica_Narrow_Bold.c,
	  dlls/wineps/data/Helvetica_Narrow_BoldOblique.c,
	  dlls/wineps/data/Helvetica_Narrow_Oblique.c:
	Ian Pilcher <ian.pilcher@home.com>
	Make Helvetica Narrow a separate font family.

2001-07-18  Alexandre Julliard  <julliard@winehq.com>

	* memory/environ.c, misc/registry.c, msdos/dosconf.c, msdos/int29.c,
	  msdos/ppdev.c, objects/brush.c, objects/metafile.c, objects/pen.c,
	  win32/file.c, dlls/version/resource.c, dlls/winmm/joystick.c,
	  dlls/winmm/mci.c, dlls/winmm/mmio.c, dlls/winmm/mmsystem.c,
	  dlls/winmm/time.c, files/dos_fs.c, graphics/win16drv/objects.c,
	  graphics/x11drv/objects.c, include/msvcrt/string.h,
	  include/wine/winuser16.h, include/winuser.h, loader/task.c,
	  dlls/comctl32/comctl32undoc.c, dlls/ddraw/dclipper/main.c,
	  dlls/ddraw/direct3d/mesa.c, dlls/ddraw/dsurface/wndproc.c,
	  dlls/ddraw/helper.c, dlls/kernel/comm.c, dlls/kernel/kernel_main.c,
	  dlls/msacm/pcmconverter.c, dlls/msvcrt/errno.c, dlls/msvcrt/mbcs.c,
	  dlls/msvcrt/msvcrt.h, dlls/user/lstr.c, dlls/user/wsprintf.c:
	Patrik Stridvall <ps@leissner.se>
	- Made sure that the files that contains the declarations
	  of implementated functions are included.
	- Corrected mismatching prototypes.
	- Cleaned up the include section.

	* memory/atom.c: Patrik Stridvall <ps@leissner.se>
	Documentation fixes.

	* tools/winapi_check/win32/msvcrt.api,
	  tools/winapi_check/win32/ole32.api,
	  tools/winapi_check/win32/shell32.api,
	  tools/winapi_check/modules.pm, tools/winapi_check/output.pm,
	  tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_function.pm,
	  tools/winapi_check/winapi_global.pm,
	  tools/winapi_check/winapi_options.pm,
	  tools/winapi_check/winapi_parser.pm, tools/winapi/config.pm,
	  tools/winapi/output.pm, tools/winapi/setup.pm,
	  tools/winapi/winapi_extract:
	Patrik Stridvall <ps@leissner.se>
	Several additions and bug fixes.

	* windows/message.c, include/winuser.h:
	Reject pointer messages in SendNotifyMessage[AW] and
	SendMessageCallback[AW]. Fixed prototypes.

	* include/comcat.h, include/docobj.h, include/oaidl.h,
	  include/objidl.h, include/ocidl.h, include/oleidl.h, include/rpc.h,
	  include/servprov.h, include/strmif.h, include/unknwn.h,
	  include/urlmon.h:
	Francois Gouget <fgouget@free.fr>
	Include rpc*.h/windows.h/ole2.h just like windows.

	* dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Use GetCommState16 to save state in OpenComm16.
	Merge comm16 globals into one structure.

	* tools/fnt2bdf.c:
	Bill Medland <medbi01@accpac.com>
	Make the font name and size settings reflect the data in the font file
	rather than arbitrary values.

	* relay32/snoop.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	SNOOP_DoReturn: remove redundant printing of tid.

2001-07-17  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makefile.in: Updated dependencies.

	* dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Rewrite SetCommState16 to use SetCommState.

	* dlls/ntdll/debugtools.c:
	Andreas Mohr <a.mohr@mailto.de>
	More descriptive error on buffer overflow.

	* controls/listbox.c:
	Bill Medland <medbi01@accpac.com>
	As for the edit control, the style of the borders on the list control
	is modified in the dialog loading code, not in the control itself.

	* ole/ole2nls.c, dlls/user/text.c:
	Andreas Mohr <a.mohr@mailto.de>
	Fixed some more overflowing string traces.

	* controls/menu.c:
	Gerard Patel <gerard.patel@nerim.net>
	Draw MenuBar in proper place (some cases).

	* dlls/opengl32/opengl32.spec:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Make sure user32 is always loaded before x11drv.

	* tools/winelauncher.in:
	Francois Gouget <fgouget@free.fr>
	Handle spaces properly when restarting winelauncher for debug.

	* dlls/comctl32/datetime.c:
	Francois Gouget <fgouget@free.fr>
	Some 'calendar' typos...

	* dlls/shell32/shell32_main.c, include/shellapi.h:
	Francois Gouget <fgouget@free.fr>
	Added missing CommandLineToArgvW prototype.

	* dlls/comctl32/toolbar.c:
	Gerard Patel <gerard.patel@nerim.net>
	Refresh bitmap count to take in account imagelist changes after
	TB_SETIMAGELIST.

	* dlls/user/dde/misc.c:
	Gerard Patel <gerard.patel@nerim.net>
	Fixed unicode warning.

	* include/winnt.h, server/named_pipe.c:
	Ove Kaaven <ovek@transgaming.com>
	Added STATUS_* constant for named pipes. Return STATUS_PIPE_NOT_AVAILABLE
	when opening a named pipe if the pipe exists but no instances of it are
	currently waiting for a connection.

2001-07-14  Alexandre Julliard  <julliard@winehq.com>

	* server/debugger.c, server/file.c, server/process.c,
	  server/process.h, server/ptrace.c:
	Backed out the suspend_process_for_ptrace change.
	Fixed a couple of races in ptrace code.

	* configure, configure.in:
	Jeremy White <jwhite@codeweavers.com>
	Remove the -rpath option from the link command.

	* dlls/ntdll/ntdll.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed issue found by winapi_check.

	* tools/winapi_check/modules.dat, tools/winapi_check/modules.pm,
	  tools/winapi_check/nativeapi.pm, tools/winapi_check/output.pm,
	  tools/winapi_check/win32/msvcrt.api, tools/winapi_check/winapi.pm,
	  tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_documentation.pm,
	  tools/winapi_check/winapi_function.pm,
	  tools/winapi_check/winapi_global.pm,
	  tools/winapi_check/winapi_parser.pm, tools/winapi/output.pm,
	  tools/winapi/winapi_extract, tools/winapi/winapi_fixup:
	Patrik Stridvall <ps@leissner.se>
	Several additions and bug fixes.

	* windows/dce.c:
	Marcus Meissner <marcus@jet.franken.de>
	Better LockWindowUpdate debug.

	* dlls/ole32/ole32.spec, dlls/ole32/storage32.c,
	  dlls/oleaut32/olefont.c:
	Marcus Meissner <marcus@jet.franken.de>
	Made some FIXME()s print the respective strings passed.
	Changed StgSetTimes() to correct type.

	* dlls/commdlg/printdlg.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added Quality Box (readonly currently) for 16bit templated dialogs.
	Added [Printer] button support in 16bit templated dialogs.
	Try sending orientation icon to stc10 too.

	* dlls/commdlg/cdlg_De.rc, dlls/commdlg/cdlg_En.rc:
	Marcus Meissner <marcus@jet.franken.de>
	Replaced most of the numbers with the symbolic constants of the dialog
	items.

	* msdos/ppdev.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Don't claim the parport for exclusive access and release the port
	after every access.

	* dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Rewrite GetCommState16 using GetCommState.

	* relay32/snoop.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	SNOOP_GetProcAddress: don't touch already initialized fun-entries.

2001-07-12  Alexandre Julliard  <julliard@winehq.com>

	* server/thread.c, server/thread.h:
	Removed unused functions suspend/remove_all_threads.

	* dlls/winsock/socket.c, files/dos_fs.c, graphics/fontengine.c,
	  memory/string.c, objects/dc.c, objects/gdiobj.c, objects/pen.c,
	  objects/region.c, windows/input.c, windows/mdi.c,
	  windows/message.c, windows/syscolor.c, windows/winpos.c,
	  dlls/kernel/thunk.c, dlls/ole32/storage32.c,
	  dlls/rasapi32/rasapi.c, dlls/shell32/shellole.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation fixes.

	* files/file.c, include/file.h, scheduler/synchro.c,
	  dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Implement overlapped completion routines.
	Don't use lpOverlapped->OffsetHigh to store bytes to transfer.

	* dlls/x11drv/window.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Fix X crash when running in managed mode.

	* unicode/casemap.c, unicode/wctype.c, unicode/c_042.c,
	  unicode/c_10006.c, unicode/c_1253.c, unicode/c_28597.c,
	  unicode/c_437.c, unicode/c_737.c, unicode/c_860.c, unicode/c_861.c,
	  unicode/c_862.c, unicode/c_863.c, unicode/c_865.c, unicode/c_869.c,
	  unicode/c_875.c, unicode/c_932.c, unicode/c_936.c, unicode/c_949.c,
	  unicode/c_950.c:
	Regenerated codepage files with Unicode 3.1 data.

	* dlls/rpcrt4/rpcrt4_main.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/win32/rasapi32.api,
	  tools/winapi_check/win32/rpcrt4.api,
	  tools/winapi_check/win32/ws2_32.api, tools/winapi/winapi_fixup,
	  tools/winapi_check/modules.dat, tools/winapi_check/modules.pm,
	  tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_documentation.pm,
	  tools/winapi_check/winapi_function.pm,
	  tools/winapi_check/winapi_local.pm,
	  tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	Several additions and bug fixes.

	* tools/winemaker:
	Bill Medland <medbi01@accpac.com>
	Get winemaker to drop the trailing CtrlZ that is still to be found on
	quite a lot of DOS files.

	* dlls/x11drv/window.c, graphics/x11drv/bitblt.c,
	  graphics/x11drv/graphics.c:
	Fixed a few issues with tsx11 locking.
	Always map the client window when moving out of iconic state.

	* loader/pe_image.c:
	Don't call SNOOP_RegisterDLL on builtins.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/mesa_private.h,
	  include/config.h.in, configure, configure.in:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- removed unused OSMesa linking
	- removed OSMesa code

	* dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Implement COMM_MSRUpdate with GetCommModemStatus.

2001-07-11  Alexandre Julliard  <julliard@winehq.com>

	* dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c,
	  include/Makefile.in, include/rpc.h, include/rpcdce.h,
	  include/rpcnterr.h:
	Peter Hunnisett <hunnise@yahoo.com>
	Added a bunch of entry points.
	Added some stubs and header information.
	Fixed some return codes.

	* windows/sysmetrics.c:
	Bill Medland <medbi01@accpac.com>
	Modify some system metrics to agree with Win95 and reflect the desktop
	registry entries.

	* dlls/msvcrt/mbcs.c, dlls/msvcrt/msvcrt.spec:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Semistubs for _ismbcdigit,_ismbcspace,_mbslwr,_mbsnbcmp,_mbsspn.

	* windows/message.c, windows/syscolor.c, windows/winpos.c,
	  msdos/int21.c, msdos/int5c.c, objects/bitmap.c, objects/clipping.c,
	  objects/dc.c, objects/dib.c, objects/font.c, objects/gdiobj.c,
	  objects/palette.c, objects/pen.c, objects/region.c, objects/text.c,
	  ole/ole2nls.c, scheduler/handle.c, scheduler/process.c,
	  scheduler/thread.c, windows/cursoricon.c, windows/input.c,
	  windows/mdi.c, graphics/metafiledrv/init.c, loader/module.c,
	  loader/ne/convert.c, loader/ne/module.c, loader/ne/segment.c,
	  loader/resource.c, loader/task.c, memory/atom.c, memory/codepage.c,
	  memory/environ.c, memory/global.c, memory/heap.c,
	  memory/selector.c, memory/string.c, misc/main.c, misc/registry.c,
	  dlls/winmm/wineoss/audio.c, dlls/winmm/wineoss/midi.c,
	  dlls/winmm/wineoss/mixer.c, dlls/winmm/wineoss/mmaux.c,
	  dlls/winmm/wineoss/oss.c, dlls/winsock/socket.c,
	  dlls/wsock32/protocol.c, dlls/wsock32/socket.c, files/dos_fs.c,
	  files/profile.c, graphics/bitblt.c, dlls/winmm/driver.c,
	  dlls/winmm/joystick/joystick.c, dlls/winmm/mci.c,
	  dlls/winmm/mcianim/mcianim.c, dlls/winmm/mciavi/mciavi.c,
	  dlls/winmm/mcicda/mcicda.c, dlls/winmm/mciseq/mcimidi.c,
	  dlls/winmm/mciwave/mciwave.c, dlls/winmm/midimap/midimap.c,
	  dlls/winmm/mmio.c, dlls/winmm/mmsystem.c, dlls/winmm/time.c,
	  dlls/winmm/wavemap/wavemap.c, dlls/oledlg/oledlg_main.c,
	  dlls/opengl32/opengl_norm.c, dlls/richedit/richedit.c,
	  dlls/setupapi/setupx_main.c, dlls/shell32/brsfolder.c,
	  dlls/shell32/shellord.c, dlls/shell32/shellpath.c,
	  dlls/shell32/shellreg.c, dlls/shlwapi/regstream.c,
	  dlls/user/lstr.c, dlls/user/mouse.c, dlls/version/install.c,
	  dlls/win32s/w32sys.c, dlls/wineps/driver.c, dlls/kernel/debugger.c,
	  dlls/kernel/sync.c, dlls/kernel/thunk.c, dlls/kernel/wowthunk.c,
	  dlls/msacm/pcmconverter.c, dlls/msvcrt/main.c,
	  dlls/msvcrt/string.c, dlls/msvideo/msvideo_main.c,
	  dlls/ntdll/exception.c, dlls/ntdll/file.c, dlls/ntdll/nt.c,
	  dlls/ntdll/om.c, dlls/ntdll/reg.c, dlls/ntdll/rtlstr.c,
	  dlls/ntdll/sync.c, dlls/ntdll/time.c, dlls/ole32/compobj.c,
	  dlls/ole32/moniker.c, dlls/ole32/ole2.c, dlls/ole32/ole2impl.c,
	  dlls/ole32/storage32.c, dlls/oleaut32/ole2disp.c,
	  dlls/oleaut32/oleaut.c, dlls/dplayx/dplay.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation fixes.

	* debugger/db_disasm.c:
	Added disassembly for 0x0f 0x5x opcodes.

	* debugger/dbg.y, debugger/winedbg.c:
	Better error reporting on DebugActiveProcess failure.

	* server/context_i386.c, server/debugger.c, server/process.c,
	  server/process.h:
	Small fixes to the debugger support.

	* server/queue.c: Merge WM_MOUSEMOVE messages.

	* tools/winapi_check/win32/wow32.api, tools/winapi/config.pm,
	  tools/winapi/function.pm, tools/winapi/options.pm,
	  tools/winapi/util.pm, tools/winapi/winapi_extract,
	  tools/winapi/winapi_fixup, tools/winapi_check/winapi.pm,
	  tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_documentation.pm,
	  tools/winapi_check/winapi_function.pm,
	  tools/winapi_check/winapi_local.pm,
	  tools/winapi_check/winapi_options.pm,
	  tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	Major reorganization and cleanup.

	* dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Implement FlushComm16 with PurgeComm.

	* controls/edit.c, windows/dialog.c:
	Bill Medland <medbi01@accpac.com>
	Correct the location of the style patching for the edit control.

	* dlls/rasapi32/rasapi.c, dlls/rasapi32/rasapi32.spec:
	Mike McCormack <mike_mccormack@start.com.au>
	Stub some rasapi functions.

	* dlls/wininet/internet.c:
	Marcus Meissner <marcus@jet.franken.de>
	Have InternetGetConnectedState always return 'LAN connection'.

2001-07-10  Alexandre Julliard  <julliard@winehq.com>

	* server/Makefile.in, server/named_pipe.c, server/request.h,
	  server/trace.c, dlls/kernel/kernel32.spec, dlls/kernel/sync.c,
	  files/file.c, include/server.h, include/winbase.h:
	Mike McCormack <mike_mccormack@start.com.au>
	Start implementing named pipes.

	* include/shlwapi.h, dlls/shlwapi/shlwapi.spec:
	Peter Hunnisett <hunnise@yahoo.com>
	Add shlwapi.wvnsprintf[AW], header info and comments.

	* dlls/winsock/socket.c, dlls/winsock/ws2_32.spec,
	  include/winsock2.h:
	Peter Hunnisett <hunnise@yahoo.com>
	Implemented a stub for WSARecvFrom.

	* controls/menu.c:
	Mike McCormack <mike_mccormack@start.com.au>
	GetMenuItemID: return -1 for invalid menu items, not zero.

	* dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Rewrite EscapeCommFunction16 to use EscapeCommFunction.

	* dlls/msvcrt/file.c:
	Peter Hunnisett <hunnise@yahoo.com>
	CreateFile should be called with security attributes in _open.

	* dlls/ddraw/dclipper/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Make (G|S)etClipList not abort, but return DDERR_NOCLIPLIST.
	Do not scroll FIXME()s too much.

2001-07-08  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/ntdll.spec, dlls/ole32/compobj.spec,
	  dlls/oledlg/oledlg.spec, dlls/opengl32/make_opengl:
	Patrik Stridvall <ps@leissner.se>
	Fixed issues found by winapi_check.

	* dlls/oleaut32/parsedt.c:
	Patrik Stridvall <ps@leissner.se>
	- Added comment that code is broken.
	- Silenced annoying long term winapi_check message.

	* dlls/rpcrt4/rpcrt4_main.c, include/config.h.in, configure, configure.in:
	Patrik Stridvall <ps@leissner.se>
	Add proper check for existance of struct sockaddr member sa_len.

	* documentation/printing.sgml:
	Andreas Mohr <a.mohr@mailto.de>
	Updated printing documentation a bit.

	* tools/winapi/config.pm, tools/winapi/winapi_extract,
	  tools/winapi/winapi_fixup, tools/winapi_check/modules.dat,
	  tools/winapi_check/win16/gdi.api,
	  tools/winapi_check/win32/oledlg.api,
	  tools/winapi_check/win32/quartz.api,
	  tools/winapi_check/win32/winmm.api,
	  tools/winapi_check/win32/wsock32.api, tools/winapi_check/winapi.pm,
	  tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_documentation.pm,
	  tools/winapi_check/winapi_function.pm,
	  tools/winapi_check/winapi_local.pm,
	  tools/winapi_check/winapi_options.pm:
	Patrik Stridvall <ps@leissner.se>
	Several bug fixes and additions.

	* dlls/shlwapi/shlwapi.spec:
	Peter Hunnisett <hunnise@yahoo.com>
	Fix some ordinal forwarding.

	* controls/menu.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Add some argument validation to SetMenuItemInfoA, so QT5 does not
	corrupt its menus.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Move creation process to the WM_NCCREATE message like native and force
	  styles WS_VISIBLE and CCS_TOP.
	- Implement messages WM_NCHITTEST, WM_STYLECHANGED, RB_MOVEBAND,
	  RB_MINIMIZEBAND.
	- Improve preformance by removing calls to GetWindowLong for GWL_STYLE
	  (by saving state and handling WM_STYLECHANGED).
	- Cleanup and remove dead and test code.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Correct amount of info displayed for NM_NCHITTEST and all the LVN_*.

	* controls/uitools.c:
	Bill Medland <medbi01@accpac.com>
	Correct more colours so that DrawEdge works for more cases.

	* include/strmif.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added missing IIDs.

	* files/file.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Implement ReadFileEx and WriteFileEx (lpOverlappedCompletion routine
	is not supported yet...)

	* dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Use HANDLEs instead of unix fds.

	* programs/uninstaller/main.c:
	Jeremy White <jwhite@codeweavers.com>
	Add --list facility to list installed programs.
	Add --remove xxx facility to remove a specific program.

2001-07-02  Alexandre Julliard  <julliard@winehq.com>

	* windows/dialog.c, windows/input.c, windows/keyboard.c,
	  windows/message.c, windows/queue.c, memory/atom.c, memory/global.c,
	  memory/heap.c, memory/local.c, memory/selector.c, memory/string.c,
	  misc/error.c, misc/registry.c, misc/system.c, misc/version.c,
	  objects/bitmap.c, objects/dib.c, objects/font.c, objects/gdiobj.c,
	  objects/palette.c, objects/text.c, scheduler/synchro.c,
	  scheduler/syslevel.c, files/directory.c, files/dos_fs.c,
	  files/drive.c, files/file.c, files/profile.c, graphics/bitblt.c,
	  graphics/escape.c, graphics/fontengine.c, graphics/mapping.c,
	  graphics/painting.c, graphics/path.c, graphics/win16drv/prtdrv.c,
	  graphics/x11drv/oembitmap.c, loader/main.c, loader/module.c,
	  loader/ne/module.c, loader/ne/resource.c, loader/resource.c,
	  loader/task.c, dlls/winmm/midimap/midimap.c,
	  dlls/winmm/wavemap/wavemap.c, dlls/winmm/wineoss/oss.c,
	  dlls/winsock/async.c, dlls/winsock/socket.c, dlls/winspool/info.c,
	  dlls/wsock32/socket.c, dlls/x11drv/window.c, dlls/x11drv/winpos.c,
	  dlls/x11drv/x11drv_main.c, dlls/winmm/mcicda/mcicda.c,
	  dlls/version/resource.c, dlls/version/ver16.c,
	  dlls/win32s/w32skernel.c, dlls/win32s/w32sys.c,
	  dlls/win32s/win32s16.c, dlls/winaspi/winaspi16.c,
	  dlls/winedos/dosvm.c, dlls/winedos/module.c, dlls/wineps/driver.c,
	  dlls/wininet/wininet_main.c, dlls/winmm/driver.c,
	  dlls/winmm/joystick.c, dlls/winmm/joystick/joystick.c,
	  dlls/winmm/mci.c, dlls/winmm/mmio.c, dlls/winmm/mmsystem.c,
	  dlls/winmm/sound16.c, dlls/winmm/time.c, dlls/shell32/pidl.c,
	  dlls/shell32/shell.c, dlls/shell32/shell32_main.c,
	  dlls/shell32/shellole.c, dlls/shell32/shellord.c,
	  dlls/shell32/shellpath.c, dlls/shell32/shellreg.c,
	  dlls/shell32/shlmenu.c, dlls/shlwapi/ordinal.c, dlls/shlwapi/reg.c,
	  dlls/ttydrv/user.c, dlls/urlmon/urlmon_main.c, dlls/user/bidi16.c,
	  dlls/user/dde/ddeml16.c, dlls/user/display.c, dlls/user/lstr.c,
	  dlls/user/misc.c, dlls/user/mouse.c, dlls/user/network.c,
	  dlls/user/resource.c, dlls/user/text.c, dlls/user/thunk.c,
	  dlls/user/wsprintf.c, dlls/version/install.c, dlls/ntdll/rtl.c,
	  dlls/ntdll/sec.c, dlls/ntdll/wcstring.c, dlls/ole32/compobj.c,
	  dlls/ole32/filemoniker.c, dlls/ole32/moniker.c, dlls/ole32/ole2.c,
	  dlls/ole32/ole2nls.c, dlls/ole32/storage.c,
	  dlls/oleaut32/ole2disp.c, dlls/oleaut32/typelib.c,
	  dlls/oleaut32/variant.c, dlls/olecli/olecli_main.c,
	  dlls/olepro32/olepro32stubs.c, dlls/olesvr/olesvr_main.c,
	  dlls/serialui/confdlg.c, dlls/setupapi/infparse.c,
	  dlls/shell32/changenotify.c, dlls/shell32/iconcache.c,
	  dlls/commdlg/filedlg.c, dlls/commdlg/filetitle.c,
	  dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c,
	  dlls/commdlg/generic.c, dlls/commdlg/printdlg.c,
	  dlls/dplayx/dpclassfactory.c, dlls/gdi/bidi16.c,
	  dlls/gdi/printdrv.c, dlls/gdi/thunk.c, dlls/gdi/wing.c,
	  dlls/kernel/comm.c, dlls/kernel/debugger.c,
	  dlls/kernel/kernel_main.c, dlls/kernel/string.c,
	  dlls/kernel/sync.c, dlls/kernel/thunk.c, dlls/kernel/toolhelp.c,
	  dlls/kernel/utthunk.c, dlls/kernel/win87em.c,
	  dlls/kernel/wowthunk.c, dlls/lzexpand/lzexpand_main.c,
	  dlls/mpr/mpr_main.c, dlls/msacm/pcmconverter.c, dlls/msvcrt/cpp.c,
	  dlls/msvcrt/heap.c, controls/menu.c, dlls/avifil32/api.c,
	  dlls/comctl32/comctl32undoc.c, dlls/comctl32/imagelist.c,
	  dlls/commdlg/colordlg.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation fixes.

	* Make.rules.in, configure, configure.in, dlls/Makefile.in,
	  dlls/quartz/.cvsignore, dlls/quartz/Makefile.in,
	  dlls/quartz/main.c, dlls/quartz/quartz.spec:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added stubs for quartz.dll.

	* win32/file.c, dlls/kernel/kernel32.spec, files/file.c,
	  include/winbase.h:
	Mike McCormack <mike_mccormack@start.com.au>
	Declare stubs for ReadFileEx, WriteFileEx.

	* include/Makefile.in, include/amaudio.h, include/amvideo.h,
	  include/control.h, include/strmif.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some dshow headers.

	* dlls/wineps/wineps.spec, dlls/x11drv/x11drv.spec, dlls/Makefile.in:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix some inter dll dependencies.

	* dlls/wsock32/protocol.c, dlls/wsock32/wsock32.spec:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add stdcall->cdecl thunks for inet_network and getnetbyname.

	* dlls/wineps/afm.c, dlls/wineps/init.c, dlls/wineps/truetype.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Replace PROFILE_* functions by Reg*.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	RBBS_FIXEDSIZE should not affect _AdjustBands (found by Mike McCormack
	in WinZip).

	* dlls/comctl32/toolbar.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Fix button text placement for disabled buttons (see Winzip 8.0).

	* include/urlmon.h:
	Nikolas Zimmermann <wildfox@kde.org>
	Added IBindHost, IWinInetInfo, IWinInetHttpInfo class definitions,
	BINDF, BINDSTATUS structs.

	* dlls/gdi/dispdib.spec, dlls/gdi/wing.spec, dlls/kernel/stress.spec,
	  dlls/msvideo/msvideo.spec, dlls/ntdll/signal_i386.c,
	  dlls/ole32/compobj.spec, dlls/winmm/mmsystem.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi/winapi_extract, tools/winapi/winapi_fixup,
	  tools/winapi_check/modules.dat, tools/winapi_check/nativeapi.pm,
	  tools/winapi_check/win16/compobj.api, tools/winapi_check/winapi.pm,
	  tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	Several bug fixes and additions.

	* dlls/msvideo/msvideo_main.c, objects/clipping.c, objects/palette.c,
	  windows/clipboard.c, windows/mdi.c, controls/menu.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Replace some 16-bit calls by their 32-bit equivalents.

	* dlls/comctl32/listview.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Remember response from LVN_GETDISPINFO if user sets LVIF_DI_SETITEM.

	* dlls/win32s/win32s16.c, dlls/win32s/win32s16.spec:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Finish win32s separation.

2001-06-29  Alexandre Julliard  <julliard@winehq.com>

	* include/version.h, ANNOUNCE, ChangeLog:
	Release 20010629.

----------------------------------------------------------------
2001-06-29  Alexandre Julliard  <julliard@winehq.com>

	* configure.in, dlls/user/dde/client.c, dlls/user/dde/misc.c,
	dlls/user/dde/server.c, configure:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix 'make depend' for out of the source tree build.

	* dlls/msvcrt/except.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add missing config.h include.

	* dlls/x11drv/winpos.c:
	Removed unnecessary SetWindowPos call in SetWindowRgn.

	* README: Andreas Mohr <a.mohr@mailto.de>
	Documentation update.

	* windows/x11drv/Makefile.in, windows/x11drv/wnd.c,
	dlls/ttydrv/ttydrv.h, dlls/ttydrv/ttydrv_main.c,
	dlls/ttydrv/wnd.c, dlls/user/user_main.c, dlls/x11drv/winpos.c,
	dlls/x11drv/x11drv.spec, dlls/x11drv/x11drv_main.c,
	include/user.h, include/win.h, include/x11drv.h, windows/win.c,
	windows/winpos.c:
	Moved ForceWindowRaise to the USER driver and removed the WND driver.

	* windows/message.c:
	Travis Michielsen <tjmichielsen@yahoo.com>
	Fixed handling of WM_MOUSEWHEEL messages in non-client space.

2001-06-28  Alexandre Julliard  <julliard@winehq.com>

	* windows/dialog.c, windows/message.c, windows/win.c,
	  controls/menu.c, dlls/ntdll/debugtools.c, dlls/ntdll/nt.c,
	  dlls/ntdll/rtl.c, msdos/ioports.c, objects/bitmap.c,
	  objects/brush.c, objects/clipping.c, objects/dc.c,
	  objects/dcvalues.c, objects/dib.c, objects/font.c,
	  objects/gdiobj.c, objects/metafile.c, objects/palette.c,
	  objects/pen.c, objects/region.c, objects/text.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation name fixes.

	* configure, configure.in, include/config.h.in:
	Patrik Stridvall <ps@leissner.se>
	Fixed subtle configure bug concerning OpenGL.
	Found on FreeBSD (which has OpenGL in /usr/X11R6/lib).

	* dlls/winmm/mmsystem.c, dlls/winmm/mmsystem.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi/winapi_fixup, tools/winapi_check/modules.dat,
	  tools/winapi_check/win32/user32.api,
	  tools/winapi_check/win32/x11drv.api,
	  tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_documentation.pm,
	  tools/winapi_check/winapi_local.pm:
	Patrik Stridvall <ps@leissner.se>
	Several bug fixes and additions.

	* controls/edit.c:
	Bill Medland <medbi01@accpac.com>
	Improved handling of styles in the edit control, including detecting
	changes of style and correcting handling of inconsistant styles.

	* include/winnls.h, dlls/ole32/compobj.c, dlls/ole32/compobj.spec,
	  dlls/ole32/ole2nls.c, dlls/ole32/ole2nls.spec:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Finish ole32 separation.

	* include/queue.h, include/server.h, server/queue.c,
	  windows/input.c, windows/message.c, windows/queue.c:
	- Remove cooked hardware messages when they are dropped (reported by
	  Gerard Patel).
	- Convert all posted 32-bit messages to Unicode before storing them in
	  the queue.
	- Faster implementation of MSG_IsPointerMessage.
	- Moved a couple of functions from queue.c to message.c.

2001-06-27  Alexandre Julliard  <julliard@winehq.com>

	* include/acconfig.h, include/config.h.in, include/wine/port.h,
	  library/port.c, loader/elf.c, Makefile.in, configure,
	  configure.in:
	Put AC_DEFINE symbols definitions directly in the configure script so
	that we no longer need an acconfig.h. Cleaned up dlopen() tests a bit.

	* misc/cpu.c: Andreas Mohr <a.mohr@mailto.de>
	Fix misleading P4 warning message appearing even in case of match.

2001-06-26  Alexandre Julliard  <julliard@winehq.com>

	* dlls/opengl32/wgl.c, dlls/x11drv/window.c, include/x11drv.h:
	Added window properties to make some x11drv-specific information
	available to higher level code.

	* documentation/samples/config, include/config.h.in,
	  include/miscemu.h, msdos/Makefile.in, msdos/ioports.c,
	  msdos/ppdev.c, configure, configure.in:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added /dev/parport support for direct port access.

	* dlls/x11drv/winpos.c:
	Make the visible region empty for non-visible windows.

	* windows/x11drv/event.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Replace one more PROFILE_ function by RegQueryValueExA.

	* dlls/wineps/objects.c, graphics/metafiledrv/objects.c,
	  graphics/win16drv/objects.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Replace some 16-bit calls by their 32-bit equivalents.

2001-06-25  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/signal_i386.c:
	Don't compile vm86-specific code on platforms that don't support it.

	* dlls/commdlg/cdlg_Zh.rc, dlls/commdlg/rsrc.rc,
	  dlls/kernel/nls/cht.nls, dlls/shell32/shell32_Zh.rc,
	  dlls/shell32/shres.rc, dlls/user/resources/user32_Zh.rc,
	  graphics/x11drv/codepage.c, graphics/x11drv/xfont.c:
	Jau-Horng Chen <b6502002@ee.ntu.edu.tw>
	Added Traditional Chinese Support
	Fixed sublang font size error when not using fixed-size font.

	* graphics/x11drv/brush.c, graphics/x11drv/objects.c,
	  objects/clipping.c, objects/dc.c, windows/x11drv/event.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Replace some 16-bit calls by their 32-bit equivalents.

	* include/winuser.h, include/x11drv.h, windows/input.c,
	  windows/x11drv/event.c, windows/x11drv/mouse.c,
	  dlls/user/user.spec, dlls/user/user32.spec:
	Implemented SendInput().

	* graphics/x11drv/dib.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Better separate the XShm using code.

2001-06-24  Alexandre Julliard  <julliard@winehq.com>

	* tools/wrc/parser.y:
	Bang Jun-Young <bjy@mogua.org>
	Add a workaround for a bug in byacc (again).

	* tools/examine-relay:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed for new relay format. added thread knowledge.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Add support for WM_NOTIFYFORMAT and support both ANSI and UNICODE
	  notify formats.
	- Move the drawing of the band backgrounds and band separators to the
	  WM_ERASEBKGND processing just the way the native controls do.
	- Implement WM_SETREDRAW.

	* dlls/comctl32/comboex.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Fix memory leaks.
	- Add support for WM_NOTIFYFORMAT and support both ANSI and UNICODE
	  notify formats.
	- Fix some drawing issues with COMBOEX_DrawItem.

	* dlls/comctl32/toolbar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Fixed test so 0xffffffff is properly recognized.

2001-06-22  Alexandre Julliard  <julliard@winehq.com>

	* winedefault.reg:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Add RegisteredOwner and RegisteredOrganization.

	* include/winnt.h:
	Mike McCormack <mike_mccormack@start.com.au>
	Added some defines for process security tokens.

	* controls/scroll.c, dlls/comctl32/comctl32undoc.c, misc/registry.c:
	Andreas Mohr <a.mohr@mailto.de>
	Spelling fixes.

	* misc/cpu.c: Andreas Mohr <a.mohr@mailto.de>
	GetSystemInfo() Pentium 4 support.

	* server/file.c:
	Mike McCormack <mike_mccormack@start.com.au>
	Remove truncate debug message printed on successful truncates.

	* include/dde.h, include/ddeml.h, dlls/user/dde/client.c,
	  dlls/user/dde/dde_private.h, dlls/user/dde/ddeml16.c,
	  dlls/user/dde/misc.c, dlls/user/dde/server.c,
	  dlls/user/Makefile.in, dlls/user/ddeml.c, dlls/user/ddeml16.h,
	  dlls/user/user32.spec:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Merge from Corel tree. Contributors are:
	- Corel (Sean Langley, Michael Abd-El-Malek, Rick Mutzke, Bill Xing)
	- Macadamian on behalf of Corel (Louis-Philippe Gagnon, Jean-Claude Batista)
	Also added a few bits:
	- Complete window model for several instances and conversations.
	- Support for asynchronous transactions.
	- Fixed some code (WM_DDE_REQUEST, WM_DDE_ADVISE, WM_DDE_REQUEST) handling.
	- Support for wild connections.

	* windows/x11drv/event.c, dlls/x11drv/winpos.c:
	Don't rely on X to expose windows covered by a sibling, do it
	manually.

2001-06-21  Alexandre Julliard  <julliard@winehq.com>

	* include/user.h, windows/cursoricon.c, windows/input.c,
	  windows/x11drv/mouse.c, dlls/ttydrv/ttydrv.spec,
	  dlls/ttydrv/user.c, dlls/user/display.c, dlls/user/user_main.c,
	  dlls/x11drv/x11drv.spec:
	Ove Kaaven <ovek@transgaming.com>
	Make GetCursorPos call XQueryPointer.

	* dlls/ntdll/signal_i386.c, include/thread.h:
	Ove Kaaven <ovek@arcticnet.no>
	Extended __wine_enter_vm86 to handle pending interrupts.

2001-06-20  Alexandre Julliard  <julliard@winehq.com>

	* include/queue.h, include/winpos.h, windows/defwnd.c,
	  windows/input.c, windows/message.c, windows/queue.c,
	  windows/winpos.c, windows/winproc.c:
	Avoid returning an unlocked window pointer from WINPOS_WindowFromPoint.
	Removed a few no longer used routines.

	* msdos/dpmi.c, msdos/int10.c, msdos/int11.c, msdos/int12.c,
	  msdos/int13.c, msdos/int15.c, msdos/int1a.c, msdos/int20.c,
	  msdos/int25.c, msdos/int26.c, msdos/int2a.c, msdos/int2f.c,
	  msdos/int3d.c, msdos/int41.c, msdos/int4b.c, msdos/interrupts.c,
	  msdos/vxd.c, objects/font.c, objects/region.c,
	  scheduler/critsection.c, scheduler/thread.c,
	  dlls/winmm/mmsystem.c, dlls/winsock/socket.c,
	  dlls/winspool/info.c, files/directory.c, files/dos_fs.c,
	  files/file.c, files/profile.c, loader/module.c,
	  memory/codepage.c, memory/global.c, memory/selector.c,
	  misc/options.c, dlls/ole32/compobj.c, dlls/ole32/moniker.c,
	  dlls/ole32/ole2stubs.c, dlls/ole32/ole32_main.c,
	  dlls/oleaut32/typelib.c, dlls/rpcrt4/rpcrt4_main.c,
	  dlls/setupapi/virtcopy.c, dlls/shdocvw/shdocvw_main.c,
	  dlls/shell32/changenotify.c, dlls/shell32/pidl.c,
	  dlls/shell32/shell32_main.c, dlls/shell32/shellord.c,
	  dlls/shell32/shellreg.c, dlls/shlwapi/shlwapi_main.c,
	  dlls/shlwapi/string.c, dlls/shlwapi/url.c, dlls/wininet/http.c,
	  dlls/dsound/dsound_main.c, dlls/kernel/thunk.c,
	  dlls/msacm/msacm_main.c, dlls/msvideo/drawdib.c,
	  dlls/ntdll/file.c, dlls/ntdll/misc.c, dlls/ntdll/nt.c,
	  dlls/ntdll/om.c, dlls/ntdll/reg.c, dlls/ntdll/rtl.c,
	  dlls/ntdll/sec.c, dlls/ntdll/signal_i386.c,
	  dlls/ntdll/signal_sparc.c, dlls/ntdll/string.c,
	  dlls/ntdll/time.c, dlls/ntdll/wcstring.c, controls/menu.c,
	  dlls/comctl32/comctl32undoc.c, dlls/comctl32/commctrl.c,
	  dlls/ddraw/main.c, dlls/dplayx/dplayx_main.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation ordinal fixes.

	* windows/message.c, windows/painting.c, windows/queue.c,
	  windows/win.c, dlls/user/user_main.c, include/server.h,
	  include/win.h, server/queue.c, server/request.h, server/trace.c:
	Moved queue paint count to the server. Removed a few no longer used
	routines.

	* dlls/commdlg/comdlg32.spec, dlls/setupapi/setupx.spec,
	  dlls/user/user.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi/config.pm, tools/winapi/winapi_fixup,
	  tools/winapi_check/modules.pm,
	  tools/winapi_check/win16/setupx.api,
	  tools/winapi_check/win32/winmm.api,
	  tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_documentation.pm:
	Patrik Stridvall <ps@leissner.se>
	Several bug fixes and additions.

	* programs/wcmd/directory.c:
	Dave Pickles <davep@cyw.uklinux.net>
	- Fix uninitialised variable problem in DIR command.
	- Correct some comments.

	* dlls/x11drv/winpos.c:
	Clip parent client area when using the drawable from a higher level
	parent.

	* dlls/x11drv/scroll.c: Fixed region leak.

	* graphics/x11drv/clipping.c:
	Subtract DC origin from graphics exposure event coordinates.

2001-06-19  Alexandre Julliard  <julliard@winehq.com>

	* server/queue.c, server/trace.c, tools/make_requests,
	  windows/input.c, windows/message.c, windows/queue.c,
	  dlls/user/user_main.c, dlls/x11drv/window.c, include/queue.h,
	  include/server.h:
	Moved hardware message queue handling to the server.

	* server/request.c:
	Ignore EAGAIN errors in read_request.

	* dlls/version/info.c, dlls/version/install.c,
	  dlls/win32s/w32skernel.c, dlls/win32s/win32s16.c,
	  dlls/winaspi/winaspi32.c, dlls/wininet/ftp.c,
	  dlls/wininet/http.c, dlls/wininet/internet.c,
	  dlls/winmm/driver.c, dlls/winmm/joystick.c, dlls/winmm/mci.c,
	  dlls/winmm/mmsystem.c, dlls/winmm/sound16.c, dlls/winmm/time.c,
	  dlls/winsock/socket.c, dlls/winspool/info.c,
	  dlls/x11drv/window.c, dlls/x11drv/winpos.c,
	  dlls/x11drv/x11drv_main.c, dlls/setupapi/infparse.c,
	  dlls/setupapi/setupx_main.c, dlls/setupapi/stubs.c,
	  dlls/shdocvw/shdocvw_main.c, dlls/shell32/brsfolder.c,
	  dlls/shell32/changenotify.c, dlls/shell32/control.c,
	  dlls/shell32/pidl.c, dlls/shell32/shell.c,
	  dlls/shell32/shell32_main.c, dlls/shell32/shellole.c,
	  dlls/shell32/shellord.c, dlls/shell32/shellpath.c,
	  dlls/shell32/shlfileop.c, dlls/shell32/systray.c,
	  dlls/shlwapi/ordinal.c, dlls/shlwapi/path.c, dlls/ttydrv/user.c,
	  dlls/urlmon/umon.c, dlls/ntdll/om.c, dlls/ntdll/reg.c,
	  dlls/ntdll/rtl.c, dlls/ntdll/rtlstr.c, dlls/ntdll/sec.c,
	  dlls/ntdll/sync.c, dlls/ntdll/time.c, dlls/ole32/antimoniker.c,
	  dlls/ole32/bindctx.c, dlls/ole32/compobj.c,
	  dlls/ole32/compositemoniker.c, dlls/ole32/errorinfo.c,
	  dlls/ole32/filemoniker.c, dlls/ole32/itemmoniker.c,
	  dlls/ole32/ole2.c, dlls/ole32/ole2nls.c, dlls/ole32/ole2stubs.c,
	  dlls/ole32/storage32.c, dlls/oleaut32/hash.c,
	  dlls/oleaut32/oleaut.c, dlls/oleaut32/olepicture.c,
	  dlls/oleaut32/safearray.c, dlls/oleaut32/stubs.c,
	  dlls/oleaut32/variant.c, dlls/olepro32/olepro32stubs.c,
	  dlls/opengl32/wgl.c, dlls/rpcrt4/rpcrt4_main.c,
	  dlls/dplayx/dplay.c, dlls/dplayx/dplayx_main.c,
	  dlls/dsound/dsound_main.c, dlls/icmp/icmp_main.c,
	  dlls/kernel/sync.c, dlls/kernel/thunk.c,
	  dlls/lzexpand/lzexpand_main.c, dlls/mpr/auth.c,
	  dlls/mpr/multinet.c, dlls/mpr/nps.c, dlls/mpr/pwcache.c,
	  dlls/mpr/wnet.c, dlls/msacm/msacm_main.c, dlls/msvcrt/mbcs.c,
	  dlls/msvideo/drawdib.c, dlls/msvideo/msvideo_main.c,
	  dlls/ntdll/error.c, dlls/ntdll/exception.c, dlls/ntdll/file.c,
	  dlls/ntdll/nt.c, dlls/comctl32/comctl32undoc.c,
	  dlls/comctl32/commctrl.c, dlls/ddraw/main.c,
	  dlls/dinput/dinput_main.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation ordinal fixes.

	* dlls/winmm/midimap/midimap.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fails mapper opening when no midi out devices are present.

	* dlls/winmm/mmio.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed bugs in output functions (ascend, createChunk).
	Cleaned up trace messages.
	Fixed some mmioOpen file name parsing.

	* include/urlmon.h:
	Marcus Meissner <marcus@jet.franken.de>
	BSCF enum defines flags, not an enumeration.

	* msdos/vga.c:
	Marcus Meissner <marcus@jet.franken.de>
	Made DOS VGA display again with last months DDRAW updates.

	* graphics/x11drv/xfont.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add System font to the set of default sans serif fonts.

	* dlls/x11drv/winpos.c:
	Fixed one more bug in clip_children.

	* dlls/msvcrt/msvcrt.spec, dlls/msvcrt/thread.c,
	  include/msvcrt/process.h:
	Patrik Stridvall <ps@leissner.se>
	- Added, cleaned up and/or documentated _{begin,end}thread{,ex}.
	- _lfind and _ltow are implemented (not stubs).

	* dlls/msvcrt/wcs.c:
	Patrik Stridvall <ps@leissner.se>
	Removed implementation of _ultow since it is forwarded to NTDLL in the
	.spec file.

	* dlls/kernel/comm.c, dlls/kernel/kernel32.spec, include/winbase.h:
	Patrik Stridvall <ps@leissner.se>
	Fixed GetCommConfig number of arguments.

	* Makefile.in: Patrik Stridvall <ps@leissner.se>
	wine needs to be built before winedbg.

	* if1632/relay.c, dlls/avifil32/api.c,
	  dlls/avifil32/avifil32.spec, dlls/kernel/debugger.c,
	  dlls/kernel/kernel.spec, dlls/kernel/time.c,
	  dlls/user/user32.spec, dlls/wininet/internet.c,
	  dlls/winmm/mmsystem.c, dlls/winmm/mmsystem.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/modules.dat,
	  tools/winapi_check/nativeapi.dat,
	  tools/winapi_check/preprocessor.pm,
	  tools/winapi_check/win32/avifil32.api,
	  tools/winapi_check/win32/crtdll.api,
	  tools/winapi_check/win32/msvcrt.api,
	  tools/winapi_check/win32/ole32.api,
	  tools/winapi_check/win32/shell32.api,
	  tools/winapi_check/win32/w32skrnl.api,
	  tools/winapi_check/win32/wow32.api,
	  tools/winapi_check/win32/wsock32.api,
	  tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_documentation.pm,
	  tools/winapi_check/winapi_global.pm,
	  tools/winapi_check/winapi_local.pm,
	  tools/winapi_check/winapi_options.pm,
	  tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Slightly better handling of external/internal names.
	- Minor bug fixes.
	- Minor API files update.

	* tools/winapi/config.pm, tools/winapi/winapi_extract,
	  tools/winapi/winapi_fixup:
	Patrik Stridvall <ps@leissner.se>
	Several bug fixes and additions.

	* dlls/comctl32/comctl32undoc.c, dlls/comctl32/commctrl.c,
	  dlls/comctl32/draglist.c, dlls/comctl32/flatsb.c,
	  dlls/comctl32/imagelist.c, dlls/comctl32/propsheet.c,
	  dlls/commdlg/cdlg32.c, dlls/commdlg/colordlg.c,
	  dlls/commdlg/filedlg.c, dlls/commdlg/filetitle.c,
	  dlls/commdlg/finddlg32.c, dlls/commdlg/fontdlg.c,
	  dlls/commdlg/generic.c, dlls/commdlg/printdlg.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation ordinal fixes.

	* dlls/x11drv/window.c, graphics/x11drv/bitblt.c,
	  graphics/x11drv/palette.c, graphics/x11drv/xfont.c,
	  windows/x11drv/clipboard.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Replace PROFILE_ functions by RegQueryValueExA in x11drv.

	* server/file.c: Bill Medland <medbi01@accpac.com>
	SetFilePointer correction; return ERROR_NEGATIVE_SEEK (broken by the
	64 bit file access enhancement).

	* configure.in, tools/config.guess, tools/config.sub, configure:
	Patrik Stridvall <ps@leissner.se>
	Added support for autoconf 2.50.

2001-06-15  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/winpos.c:
	clip_children: don't crash if child is not in list (can happen on
	WM_NCCREATE).

	* scheduler/sysdeps.c:
	Bang Jun-Young <bjy@mogua.org>
	Use clone() if HAVE_CLONE is defined.

	* dlls/ntdll/exception.c, dlls/ntdll/signal_i386.c,
	  dlls/ntdll/signal_sparc.c:
	Ove Kaaven <ovek@arcticnet.no>
	Block SIGINT and SIGALRM in signal handlers.

2001-06-14  Alexandre Julliard  <julliard@winehq.com>

	* memory/virtual.c:
	Added direct system call for unaligned mmap support on Linux.
	Support 64-bit file offsets in MapViewOfFileEx.

	* ole/ole2nls.c, misc/lstr.c, misc/Makefile.in, dlls/user/lstr.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Move IsCharAlphaA and IsCharAlphaNumericA to user32.
	Better implement some of user32 *Char* functions regarding locale.
	Remove kernel32 dependency on user32.

	* dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Stub for InternetGetCookieA.

	* windows/nonclient.c, windows/spy.c, windows/sysmetrics.c,
	  windows/win.c, windows/winpos.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Replace more PROFILE_ functions by RegQueryValueExA.

	* objects/dib.c:
	Marcus Meissner <marcus@jet.franken.de>
	Multiple *ptr++ constructs in one expression have undefined behaviour,
	moved them out of the expression.

2001-06-13  Alexandre Julliard  <julliard@winehq.com>

	* win32/device.c, win32/kernel32.c, win32/newfns.c,
	  scheduler/critsection.c, scheduler/handle.c, scheduler/pipe.c,
	  scheduler/process.c, scheduler/synchro.c, scheduler/syslevel.c,
	  scheduler/thread.c, scheduler/timer.c, win32/console.c,
	  loader/ne/module.c, loader/ne/resource.c, memory/atom.c,
	  memory/environ.c, memory/global.c, memory/heap.c,
	  memory/local.c, memory/registry.c, memory/selector.c,
	  memory/string.c, memory/virtual.c, misc/cpu.c, misc/lstr.c,
	  misc/main.c, misc/registry.c, misc/version.c, ole/ole2nls.c,
	  dlls/user/ddeml.c, dlls/user/lstr.c, dlls/winspool/info.c,
	  files/change.c, files/directory.c, files/dos_fs.c,
	  files/drive.c, files/file.c, files/profile.c, files/tape.c,
	  loader/module.c, loader/pe_resource.c, loader/resource.c,
	  loader/task.c, dlls/gdi/wing.c, dlls/kernel/comm.c,
	  dlls/kernel/debugger.c, dlls/kernel/format_msg.c,
	  dlls/kernel/string.c, dlls/kernel/sync.c, dlls/kernel/thunk.c,
	  dlls/kernel/time.c, dlls/kernel/toolhelp.c,
	  dlls/kernel/utthunk.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation ordinal fixes (using winapi_fixup).

	* dlls/x11drv/winpos.c:
	Use the topmost parent that isn't clipping children as drawable,
	to make sure parent siblings are not clipped.

	* dlls/commdlg/fontdlg.c:
	Ian Pilcher <ian.pilcher@home.com>
	Make ChooseFontW use ChooseFontA.

	* windows/x11drv/event.c:
	Force invalidating of siblings children on expose event.

	* tools/winapi/config.pm, tools/winapi/options.pm,
	  tools/winapi/output.pm, tools/winapi/setup.pm,
	  tools/winapi/util.pm, tools/winapi/winapi_extract,
	  tools/winapi/winapi_fixup:
	Patrik Stridvall <ps@leissner.se>
	- New common code for the winapi tools.
	- New tool for extracting source code information.
	- New tool for automatically modifying (fixing) the source code.

	* dlls/gdi/printdrv.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Replace PROFILE_GetWineIniString by RegQueryValueExA.

	* dlls/dsound/dsound_main.c, include/dsound.h, include/winerror.h:
	Marcus Meissner <marcus@jet.franken.de>
	Added definitions for IKsPropertySet, small stub implementation for
	IDirectSound3DBuffer. Fixed one pointer reference.

	* dlls/msvcrt/msvcrt.spec:
	Marcus Meissner <marcus@jet.franken.de>
	_tzset just forwards to libc tzset().

	* dlls/msacm/driver.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Protect against a driver misconfiguration.

2001-06-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/window.c:
	Fixed handling of zero-sized client window.
	Create the X windows before sending WM_NCCREATE.

2001-06-11  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/bitblt.c, graphics/x11drv/clipping.c, include/x11drv.h:
	Added counter for operations generating graphics exposures to the DC
	struct, to avoid waiting for expose events when none were generated.

	* dlls/msvcrt/msvcrt.spec, dlls/msvideo/msvideo_main.c,
	  dlls/ole32/antimoniker.c, dlls/ole32/compobj.c,
	  dlls/ole32/compositemoniker.c, dlls/ole32/itemmoniker.c,
	  dlls/shlwapi/ordinal.c, dlls/shlwapi/path.c, dlls/shlwapi/reg.c,
	  dlls/wineps/afm.c, dlls/wineps/init.c, dlls/winmm/mmsystem.c,
	  graphics/driver.c, misc/cpu.c, dlls/gdi/printdrv.c,
	  dlls/glu32/glu.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* dlls/msacm/driver.c, dlls/msacm/filter.c, dlls/msacm/format.c,
	  dlls/msacm/msacm32_main.c, dlls/msacm/stream.c,
	  dlls/ddraw/dclipper/main.c, dlls/ddraw/main.c,
	  dlls/kernel/debugger.c, dlls/kernel/thunk.c,
	  dlls/kernel/wowthunk.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation ordinal fixes (using winapi_fixup).

	* scheduler/sysdeps.c: Warning fix.

	* tools/winapi_check/modules.dat,
	  tools/winapi_check/win16/avifile.api,
	  tools/winapi_check/win32/avifil32.api,
	  tools/winapi_check/win32/glu32.api,
	  tools/winapi_check/win32/kernel32.api,
	  tools/winapi_check/win32/midimap.api,
	  tools/winapi_check/win32/msvcrt.api,
	  tools/winapi_check/win32/shlwapi.api,
	  tools/winapi_check/win32/ttydrv.api,
	  tools/winapi_check/win32/urlmon.api,
	  tools/winapi_check/win32/wnaspi32.api,
	  tools/winapi_check/win32/x11drv.api,
	  tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Minor API files update.
	- Minor bug fixes.

	* dlls/winmm/mci.c:
	Marcus Meissner <marcus@jet.franken.de>
	Alias and Device Type are case insensitive.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- correct rebar window borders and handling of RBS_BORDERS, now
	  matches native.
	- major redesign of band layout, now comes a lot closer to native for
	  the test programs.
	- support RBS_VARHEIGHT for both on and off.
	- better debug info, and performance improvement

2001-06-08  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/relay.c:
	Bob Goodwin <goodie1@pacbell.net>
	Mask out garbage in the upper half of stack pointer.

	* dlls/ntdll/debugtools.c, dlls/user/text.c:
	Andreas Mohr <a.mohr@mailto.de>
	Limit output for certain text functions.

	* configure.in, include/acconfig.h, include/config.h.in, configure:
	Marcus Meissner <marcus@jet.franken.de>
	Added check for broken mmap64.

	* dlls/make_dlls:
	Added script to update dlls dependencies.

	* configure.in, dlls/Makefile.in, dlls/glu32/.cvsignore,
	  dlls/glu32/Makefile.in, dlls/glu32/glu.c, dlls/glu32/glu32.spec,
	  tools/winebuild/build.h, Make.rules.in, configure:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented glu32.dll as libGLU.so forwarder.

	* include/win.h, windows/dce.c, dlls/x11drv/window.c:
	Removed WIN_NATIVE flag.

	* programs/wcmd/directory.c:
	Francois Gouget <fgouget@free.fr>
	ULARGE_INTEGER may have a dummy struct name.

	* dlls/opengl32/opengl_ext.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Upgrade OpenGL thunks with latest informations from OpenGL spec file.

2001-06-07  Alexandre Julliard  <julliard@winehq.com>

	* loader/task.c, windows/clipboard.c, windows/dialog.c,
	  windows/nonclient.c, windows/timer.c, windows/user.c:
	Removed unneeded inclusion of queue.h.

	* scheduler/process.c, tools/winebuild/README,
	  tools/winebuild/build.h, tools/winebuild/main.c,
	  tools/winebuild/parser.c, tools/winebuild/spec32.c:
	Support for specifying stack size of Winelib apps.

	* dlls/avifil32/Makefile.in, dlls/avifil32/api.c,
	  dlls/avifil32/avifil32.spec, dlls/avifil32/avifile.c,
	  dlls/avifil32/avifile_private.h, dlls/avifil32/comentry.c,
	  dlls/avifil32/iafile.c, dlls/avifil32/iastream.c,
	  dlls/avifil32/igframe.c, dlls/avifil32/main.c,
	  dlls/avifil32/string.c, include/vfw.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented some part of AVIFIL32.

	* tools/wineconf:
	Donn Miller <dmmiller@cvzoom.net>
	Case insensitive search for win.ini.

	* dlls/kernel/kernel32.spec, win32/newfns.c:
	Marcus Meissner <marcus@jet.franken.de>
	Stub for GetQueuedCompletionStatus.

	* dlls/commdlg/cdlg_Fr.rc:
	Gerard Patel <gerard.patel@nerim.net>
	Fixes to French translation of common dialog messages.

2001-06-06  Alexandre Julliard  <julliard@winehq.com>

	* controls/uitools.c:
	Susan Farley <susan@codeweavers.com>
	Changed the outer color of a push button frame from gray to white,
	matching the Windows look; modified the paint routine for the
	close button of a tool window to improve scalability.

	* dlls/ttydrv/ttydrv.spec, dlls/ttydrv/wnd.c,
	  dlls/x11drv/window.c, dlls/x11drv/x11drv.spec, include/user.h,
	  windows/win.c:
	Gerard Patel <gerard.patel@nerim.net>
	Use a flag to test if create structure is unicode.

	* configure.in, configure:
	Bang Jun-Young <bjy@mogua.org>
	Replace "Linux dll" with "GNU style ELF dll".
	Remove support for NetBSD a.out dll.

	* BUGS, include/winnt.h, objects/region.c,
	  programs/regapi/regapi.c, win32/file.c:
	Andreas Mohr <a.mohr@mailto.de>
	Documentation updates.

	* dlls/version/info.c:
	Andreas Mohr <a.mohr@mailto.de>
	Remove unneeded WINAPI.

	* configure, configure.in, dlls/wineps/truetype.c, include/config.h.in:
	Ian Pilcher <ian.pilcher@home.com>
	Use autoconf checks to check for various FreeType headers.

	* tools/wrc/parser.y, tools/wrc/preproc.c, tools/wrc/parser.h,
	  tools/wrc/parser.l:
	Francois Gouget <fgouget@free.fr>
	Wrc no longer needs to parse C code. Remove c-junk handling code.

	* files/profile.c:
	Marcus Meissner <marcus@jet.franken.de>
	Check for enough buffer space in PROFILE_GetSection().

	* dlls/comctl32/propsheet.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented page skipping on PSN_SETACTIVE -1 return.

	* scheduler/process.c, include/module.h, loader/module.c,
	  loader/pe_resource.c:
	Set low-order bit of module handle for LOAD_LIBRARY_AS_DATAFILE.
	Cleaned up a few HMODULE/HMODULE16 mismatches.

	* dlls/wineps/Makefile.in, dlls/wineps/data/AvantGarde_Book.c,
	  dlls/wineps/data/AvantGarde_BookOblique.c,
	  dlls/wineps/data/AvantGarde_Demi.c,
	  dlls/wineps/data/AvantGarde_DemiOblique.c,
	  dlls/wineps/data/Bookman_Demi.c,
	  dlls/wineps/data/Bookman_DemiItalic.c,
	  dlls/wineps/data/Bookman_Light.c,
	  dlls/wineps/data/Bookman_LightItalic.c,
	  dlls/wineps/data/Courier.c, dlls/wineps/data/Courier_Bold.c,
	  dlls/wineps/data/Courier_BoldOblique.c,
	  dlls/wineps/data/Courier_Oblique.c,
	  dlls/wineps/data/Helvetica.c, dlls/wineps/data/Helvetica_Bold.c,
	  dlls/wineps/data/Helvetica_BoldOblique.c,
	  dlls/wineps/data/Helvetica_Condensed.c,
	  dlls/wineps/data/Helvetica_Condensed_Bold.c,
	  dlls/wineps/data/Helvetica_Condensed_BoldObl.c,
	  dlls/wineps/data/Helvetica_Condensed_Oblique.c,
	  dlls/wineps/data/Helvetica_Narrow.c,
	  dlls/wineps/data/Helvetica_Narrow_Bold.c,
	  dlls/wineps/data/Helvetica_Narrow_BoldOblique.c,
	  dlls/wineps/data/Helvetica_Narrow_Oblique.c,
	  dlls/wineps/data/Helvetica_Oblique.c,
	  dlls/wineps/data/NewCenturySchlbk_Bold.c,
	  dlls/wineps/data/NewCenturySchlbk_BoldItalic.c,
	  dlls/wineps/data/NewCenturySchlbk_Italic.c,
	  dlls/wineps/data/NewCenturySchlbk_Roman.c,
	  dlls/wineps/data/Palatino_Bold.c,
	  dlls/wineps/data/Palatino_BoldItalic.c,
	  dlls/wineps/data/Palatino_Italic.c,
	  dlls/wineps/data/Palatino_Roman.c, dlls/wineps/data/Symbol.c,
	  dlls/wineps/data/Times_Bold.c,
	  dlls/wineps/data/Times_BoldItalic.c,
	  dlls/wineps/data/Times_Italic.c, dlls/wineps/data/Times_Roman.c,
	  dlls/wineps/data/ZapfChancery_MediumItalic.c,
	  dlls/wineps/data/ZapfDingbats.c, dlls/wineps/data/agl.c:
	Ian Pilcher <ian.pilcher@home.com>
	Updated built-in metrics for core PostScript fonts.

	* include/gdi.h:
	Ian Pilcher <ian.pilcher@home.com>
	Fixed typo in INTERNAL_YWSTODS.

	* dlls/wineps/truetype.c:
	Ian Pilcher <ian.pilcher@home.com>
	Removed incorrect string length calculation.

	* dlls/user/user32.spec, include/winuser.h, windows/winpos.c:
	Bobby Bingham <uhmmmm@ameritech.net>
	Stub implementation of AnimateWindow().

	* include/wnaspi32.h, dlls/winaspi/winaspi32.c:
	Marcus Meissner <marcus@jet.franken.de>
	Some ASPI fixes, SC_GET_DISK_INFO stubbed, but returning sucess, ASPI
	buffer allocation/free implemented.

2001-06-04  Alexandre Julliard  <julliard@winehq.com>

	* windows/painting.c, windows/scroll.c, windows/win.c,
	  windows/winpos.c, windows/x11drv/clipboard.c,
	  windows/x11drv/event.c, windows/x11drv/keyboard.c,
	  windows/x11drv/mouse.c, windows/x11drv/wnd.c,
	  dlls/ttydrv/ttydrv.spec, dlls/ttydrv/wnd.c,
	  dlls/user/user_main.c, dlls/x11drv/Makefile.in,
	  dlls/x11drv/desktop.c, dlls/x11drv/scroll.c,
	  dlls/x11drv/window.c, dlls/x11drv/winpos.c,
	  dlls/x11drv/x11ddraw.c, dlls/x11drv/x11drv.spec,
	  graphics/x11drv/bitblt.c, graphics/x11drv/bitmap.c,
	  graphics/x11drv/clipping.c, include/user.h, include/win.h,
	  include/winpos.h, include/x11drv.h, windows/dce.c,
	  windows/defwnd.c, windows/nonclient.c:
	Create an X window for every window, including children.
	Fixed non-client rectangle calculations in managed mode.
	Added support for icon window in managed mode.

	* tools/wrc/ppl.l, tools/wrc/ppy.y:
	Maciek Kaliszewski <kenon@go2.pl>
	Added support for RCINCLUDE directive. Now wrc ignores everything
	except preprocessor directives from included *.h *.c files.

	* tools/wrc/ppy.y:
	Francois Gouget <fgouget@free.fr>
	Fix the conversion of MS style '#line' directives to gcc style.

	* programs/wcmd/ChangeLog, programs/wcmd/README,
	  programs/wcmd/builtins.c, programs/wcmd/directory.c,
	  programs/wcmd/wcmd.h, programs/wcmd/wcmdmain.c:
	Dave Pickles <davep@cyw.uklinux.net>
	- Report file and directory sizes using 64-bit arithmetic (like NT).
	- Handle pipes in commands.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	INSTALL_LIBRARY does not exist, use INSTALL_PROGRAM. Fix handling of
	the INSTALL* variables.
	Winelib applications don't need to link with X, i386, ossaudio, xpg4,
	mmap, util, dl or curses. Only wine does (normally).
	Remove YACC & LEX variables (Make.rules.in).
	Winemaker's makefiles don't use ldconfig.

	* windows/nonclient.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Remove optimization in NC_HandleNCActivate.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Display extra data for WM_NOTIFY that use NMCOMBOEX{A|W}.

2001-05-31  Alexandre Julliard  <julliard@winehq.com>

	* controls/combo.c:
	Susan Farley <susan@codeweavers.com>
	Disable the edit box when created with WS_DISABLED.

	* dlls/urlmon/umon.c, dlls/urlmon/urlmon.spec, include/urlmon.h:
	Malte Starostik <Malte.Starostik@t-online.de>
	Implemented some very basic functionality.

	* Make.rules.in, dlls/gdi/Makefile.in, dlls/kernel/Makefile.in,
	  dlls/user/Makefile.in:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	List 16-bit resources separately as RC_SRCS16.

	* configure, configure.in:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	If you have freetype1 and freetype2 coexisting, freetype-config should
	be freetype2-config.

	* dlls/wineps/afm.c:
	Ian Pilcher <ian.pilcher@home.com>
	Fixed font metric rounding error.

	* dlls/comctl32/toolbar.c:
	Francois Gouget <fgouget@free.fr>
	TOOLBAR_InsertButtonA: If iString==-1 then don't use it as a pointer.

	* dlls/msvcrt/file.c:
	Francois Gouget <fgouget@free.fr>
	fclose should return EOF (-1) if an error condition exists.

	* dlls/msvcrt/data.c:
	Francois Gouget <fgouget@free.fr>
	Call FreeEnvironmentStrings when msvcrt is unloaded.

	* dlls/msvcrt/cpp.c, dlls/msvcrt/msvcrt.spec, include/msvcrt/eh.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added msvcrt/eh.h.
	Implemented unexpected, terminate and set_unexpected/terminate.

	* dlls/oleaut32/variant.c, include/oleauto.h:
	Francois Gouget <fgouget@codeweavers.com>
	Fix the VarXxxFromCy conversions.
	Remove (commented-out) references to inexistent VarXxxFrom32 functions.
	Remove obsolete '32' suffixes.

	* dlls/ddraw/ddraw/main.c:
	Jason McMullan <jmcmullan@linuxcare.com>
	More accurate stub of DDRAW:GetFourCCCodes.

	* controls/scroll.c:
	Bobby Bingham <uhmmmm@ameritech.net>
	Fixed scrollbars return value to the SBM_SETRANGE and
	SBM_SETRANGEREDRAW messages.

2001-05-29  Alexandre Julliard  <julliard@winehq.com>

	* dlls/wineps/data/NewCenturySchlbk_Bold.c,
	  dlls/wineps/data/NewCenturySchlbk_BoldItalic.c,
	  dlls/wineps/data/NewCenturySchlbk_Italic.c,
	  dlls/wineps/data/NewCenturySchlbk_Roman.c,
	  dlls/wineps/data/Palatino_Bold.c,
	  dlls/wineps/data/Palatino_BoldItalic.c,
	  dlls/wineps/data/Palatino_Italic.c,
	  dlls/wineps/data/Palatino_Roman.c, dlls/wineps/data/Symbol.c,
	  dlls/wineps/data/Times_Bold.c,
	  dlls/wineps/data/Times_BoldItalic.c,
	  dlls/wineps/data/Times_Italic.c, dlls/wineps/data/Times_Roman.c,
	  dlls/wineps/data/ZapfChancery_MediumItalic.c,
	  dlls/wineps/data/ZapfDingbats.c, dlls/wineps/data/agl.c,
	  dlls/wineps/Makefile.in, dlls/wineps/afm.c, dlls/wineps/afm2c.c,
	  dlls/wineps/agl.c, dlls/wineps/data/AvantGarde_Book.c,
	  dlls/wineps/data/AvantGarde_BookOblique.c,
	  dlls/wineps/data/AvantGarde_Demi.c,
	  dlls/wineps/data/AvantGarde_DemiOblique.c,
	  dlls/wineps/data/Bookman_Demi.c,
	  dlls/wineps/data/Bookman_DemiItalic.c,
	  dlls/wineps/data/Bookman_Light.c,
	  dlls/wineps/data/Bookman_LightItalic.c,
	  dlls/wineps/data/Courier.c, dlls/wineps/data/Courier_Bold.c,
	  dlls/wineps/data/Courier_BoldOblique.c,
	  dlls/wineps/data/Courier_Oblique.c,
	  dlls/wineps/data/Helvetica.c, dlls/wineps/data/Helvetica_Bold.c,
	  dlls/wineps/data/Helvetica_BoldOblique.c,
	  dlls/wineps/data/Helvetica_Condensed.c,
	  dlls/wineps/data/Helvetica_Condensed_Bold.c,
	  dlls/wineps/data/Helvetica_Condensed_BoldObl.c,
	  dlls/wineps/data/Helvetica_Condensed_Oblique.c,
	  dlls/wineps/data/Helvetica_Narrow.c,
	  dlls/wineps/data/Helvetica_Narrow_Bold.c,
	  dlls/wineps/data/Helvetica_Narrow_BoldOblique.c,
	  dlls/wineps/data/Helvetica_Narrow_Oblique.c,
	  dlls/wineps/data/Helvetica_Oblique.c, dlls/wineps/mkagl.c,
	  dlls/wineps/psdrv.h, configure, configure.in:
	Ian Pilcher <ian.pilcher@home.com>
	Build AFM data for core PostScript fonts into WINEPS.

	* include/acconfig.h, include/config.h.in, include/wine/port.h,
	  library/port.c, server/file.c, win32/file.c, configure,
	  configure.in, files/file.c:
	Marcus Meissner <marcus@jet.franken.de>
	Drop any file64 functions, try to use system supplied 64-bit mode by
	using proper defines.

	* ole/ole2nls.c:
	Huw D M Davies <hdavies@codeweavers.com>
	When reading resources in NLS_LoadStringExW we should map
	SUBLANG_NEUTRAL to SUBLANG_DEFAULT.

	* dlls/winmm/wineoss/audio.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Attempt to write fragments and check whether we can notify the client
	after every message.

	* dlls/shlwapi/path.c, include/shlwapi.h:
	Marcus Meissner <marcus@jet.franken.de>
	First try at implementing PathGetCharType().

	* tools/wrc/ppy.y:
	Maciek Kaliszewski <kenon@go2.pl>
	Added better GCC-style #line directive handling.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	configure.in: Remove unnecessary AC_PROG_RANLIB check
	Make.rules.in: Add missing CXX variable
	Cosmetic changes

	* library/Makefile.in:
	Francois Gouget <fgouget@codeweavers.com>
	Link libwine.so with $(LIBS).

	* dlls/wineps/truetype.c:
	Ian Pilcher <ian.pilcher@home.com>
	Use macros for FreeType includes.

2001-05-25  Alexandre Julliard  <julliard@winehq.com>

	* files/dos_fs.c:
	Marcus Meissner <marcus@jet.franken.de>
	Don't just assume everything is a Dos Device, or mirc will not get any
	DCC sends.

	* dlls/comctl32/datetime.c:
	Gerard Patel <gerard.patel@asi.fr>
	Implemented DTM_GET/SETRANGE.

2001-05-24  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/Makefile.in, dlls/kernel/kernel32.spec,
	  dlls/kernel/kernel_main.c, dlls/kernel/string.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Remove kernel32 dependency on user32 by implementing family of k32
	functions as callouts to user32.

	* include/winerror.h:
	Andreas Mohr <a.mohr@mailto.de>
	Added an unknown VxD error code.

	* documentation/installation-und-konfiguration.german:
	Andreas Mohr <a.mohr@mailto.de>
	Updated German documentation.

	* dlls/dsound/dsound_main.c, dlls/winmm/joystick/joystick.c,
	  dlls/winmm/time.c, loader/task.c:
	Andreas Mohr <a.mohr@mailto.de>
	Spelling fixes.

	* dlls/user/user.spec, windows/message.c:
	Andreas Mohr <a.mohr@mailto.de>
	Get rid of GetCurrentTime16().

	* include/snoop.h, loader/elf.c, loader/pe_image.c, relay32/snoop.c:
	Andreas Mohr <a.mohr@mailto.de>
	Make snoop code take ordinal base into account.

	* dlls/kernel/comm.c, include/wine/winuser16.h:
	Andreas Mohr <a.mohr@mailto.de>
	- BuildCommDCB16() uses int instead of BOOL
	- OpenComm16() should return IE_BADID for *all* invalid strings

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/reg.c,
	  dlls/shlwapi/shlwapi.spec, dlls/shlwapi/string.c,
	  dlls/shlwapi/url.c:
	Andreas Mohr <a.mohr@mailto.de>
	- add stubs SHLWAPI_294, UrlApplySchemeW
	- correct SHLWAPI_151 parameters
	- implemented StrTrimA

	* dlls/setupapi/virtcopy.c:
	Andreas Mohr <a.mohr@mailto.de>
	VcpQueueDelete() does not have a LPEXPANDVTBL parameter.

	* win32/device.c: Andreas Mohr <a.mohr@mailto.de>
	- add handler for VCD VxD ("virtual comm device" ?)
	- SetLastError( ERROR_INVALID_FUNCTION ); for unimplemented functions
	- spelling fixes

	* dlls/wineps/psdrv.h:
	Ian Pilcher <ian.pilcher@home.com>
	Added AvgCharWidth member to font metrics.

	* dlls/wineps/agl.c:
	Ian Pilcher <ian.pilcher@home.com>
	Updated PostScript glyph name data.

	* misc/version.c:
	James Juran <jamesjuran@alumni.psu.edu>
	Only fail with ERROR_INSUFFICIENT_BUFFER if the structure size is
	actually too small.

2001-05-22  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/build.h, tools/winebuild/import.c,
	  tools/winebuild/main.c, tools/winebuild/parser.c,
	  tools/winebuild/spec16.c, tools/winebuild/spec32.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed some issues.

	* include/winpos.h, windows/message.c, windows/winpos.c:
	Make WIN_WindowFromPoint take a POINT instead of a POINT16.
	Small bug fix in scope window handling.
	Always check for message when QS_SENDMESSAGE is set.

	* documentation/configuring.sgml, documentation/multimedia.sgml,
	  documentation/status/multimedia, documentation/wine-doc.sgml:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Updated multimedia documentation.

	* dlls/msacm/driver.c, dlls/msacm/filter.c, dlls/msacm/format.c,
	  dlls/msacm/internal.c, dlls/msacm/msacm32_main.c,
	  dlls/msacm/pcmconverter.c, dlls/msacm/stream.c,
	  dlls/msacm/wineacm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Mimic more closely Windows' behavior (a MSACM driver is always opened
	twice: first time for info gathering, subsequent openings for
	conversions).
	Added format suggestion for PCM.
	Cleaned up internal structures.

	* dlls/winmm/midimap/midimap.c,
	  dlls/winmm/midimap/midimap.drv.spec, winedefault.reg:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Made midi mapper more robust.
	Added channel to device/channel mapping.
	Removed midiIn mapping (it doesn't exist on Windows).

	* dlls/winmm/lolvldrv.c, documentation/samples/config:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Now loading the default setting for low level drivers from registry.

	* misc/cdrom.c: Francois Gouget <fgouget@free.fr>
	Use memset rather than bzero.

	* dlls/msvcrt/msvcrt.spec, dlls/msvcrt/process.c:
	Mike Bond <mbond@cox.rr.com>
	Fixed spawnlp and added exec variants.

	* dlls/kernel/comm.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Small clean up.

	* graphics/win16drv/init.c, objects/gdiobj.c, objects/metafile.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed some dll separation issues.

	* dlls/msvcrt/data.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Correctly generate the environment global variables.

2001-05-21  Alexandre Julliard  <julliard@winehq.com>

	* server/queue.c:
	Gerard Patel <gerard.patel@asi.fr>
	Take message filters into account for WM_PAINT too.

	* debugger/break.c, debugger/debugger.h, debugger/info.c,
	  debugger/stabs.c, debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added the notion of delayed breakpoint (when a function is not loaded
	yet, the name will be tried again for each new loaded module).

	* dlls/commdlg/cdlg_Fr.rc:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Some French translations.

	* dlls/winmm/wavemap/wavemap.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed open requests in case of error (if the physical device failed to
	open, the ACM stream was left opened).
	Added mapping search for waveIn devices.

	* windows/sysparams.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added basic support for SPI_GETSCREENREADER.

2001-05-19  Alexandre Julliard  <julliard@winehq.com>

	* server/queue.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed reply_message when there is no received message.

	* windows/timer.c:
	Gerard Patel <gerard.patel@asi.fr>
	Fixed SetTimer for hwnd == 0.

	* debugger/hash.c:
	James Juran <jamesjuran@alumni.psu.edu>
	Accept responses from 1..n when choosing from multiple symbols to
	match the input labels.

2001-05-18  Alexandre Julliard  <julliard@winehq.com>

	* server/queue.c:
	Fixed typo in message filter check.

	* include/thread.h, loader/task.c, scheduler/thread.c:
	Removed THREAD_IsWin16.

	* controls/menu.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Fix menu behaviour when escape is pressed.

	* win32/file.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Do not return FALSE on SetFileAttributes() failure (in readonly
	directory setups).

	* server/queue.c, server/request.h, server/thread.c,
	  server/trace.c, windows/clipboard.c, windows/message.c,
	  windows/queue.c, windows/timer.c, windows/win.c,
	  windows/x11drv/event.c, dlls/user/user32.spec,
	  dlls/user/user_main.c, dlls/x11drv/x11drv.spec,
	  include/message.h, include/queue.h, include/server.h,
	  include/user.h, include/winuser.h:
	Moved the major part of message queue and window timer handling into
	the server.
	Implemented MsgWaitForMultipleObjectsEx.

	* windows/x11drv/clipboard.c, windows/defwnd.c,
	  documentation/winelib-porting.sgml, dlls/oleaut32/variant.c,
	  dlls/dplayx/dplaysp.c, dlls/comctl32/monthcal.c:
	Francois Gouget <fgouget@free.fr>
	Spelling typos.

	* dlls/x11drv/xvidmode.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed compile if we do not have the xf86vidmode extension.

	* dlls/shell32/shellpath.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	The shell special folder path creation did not mkdir the last
	component of the path if it did not end with \.

	* scheduler/thread.c, include/winnt.h:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Enhanced SetThreadExecutionState stub.

	* dlls/msvcrt/msvcrt.spec, dlls/msvcrt/process.c:
	Mike Bond <mbond@cox.rr.com>
	Implementation of spawnl and spawnlp.

	* dlls/winspool/info.c:
	Marcus Meissner <marcus@jet.franken.de>
	Use older cupsGetPrinters() API so we support CUPS 1.0.x too (as found
	in Debian Potato).
	Only set the default printer if there is no entry yet or it is not
	WINEPS driven.

	* windows/input.c: Jukka Heinonen <jhei@iki.fi>
	Keyboard events did not update AsyncKeyStateTable, now they do.

	* controls/edit.c, dlls/imm32/imm.c:
	James Juran <jamesjuran@alumni.psu.edu>
	Make sure we set dwOSVersionInfoSize before calling GetVersionInfo().

2001-05-16  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/dga2.c:
	Marcus Meissner <marcus@jet.franken.de>
	Adopted to new threaded displays.

	* dlls/wineps/Makefile.in, dlls/wineps/afm.c, dlls/wineps/psdrv.h,
	  dlls/wineps/truetype.c, include/acconfig.h, include/config.h.in,
	  configure, configure.in:
	Ian Pilcher <ian.pilcher@home.com>
	Read metrics from TrueType fonts.

	* windows/mdi.c: Bill Medland <medbi01@accpac.com>
	Only measure child rectangles of visible children when deciding about
	scroll bars.

	* dlls/winspool/info.c:
	Ian Pilcher <ian.pilcher@home.com>
	Disable /etc/printcap parsing if no PPD file specified.

	* dlls/wineps/afm.c, dlls/wineps/psdrv.h:
	Ian Pilcher <ian.pilcher@home.com>
	Guesstimate Windows font metrics for Type 1 fonts.

	* windows/x11drv/clipboard.c, windows/x11drv/event.c,
	  windows/x11drv/keyboard.c, windows/x11drv/mouse.c,
	  windows/x11drv/wnd.c, windows/message.c, windows/queue.c,
	  windows/user.c, windows/win.c, windows/winpos.c,
	  dlls/user/display.c, dlls/user/user_main.c,
	  dlls/x11drv/Makefile.in, dlls/x11drv/desktop.c,
	  dlls/x11drv/dga2.c, dlls/x11drv/window.c, dlls/x11drv/winpos.c,
	  dlls/x11drv/x11ddraw.c, dlls/x11drv/x11drv.spec,
	  dlls/x11drv/x11drv_main.c, include/thread.h, include/user.h,
	  include/x11drv.h, controls/desktop.c, dlls/ttydrv/ttydrv.spec,
	  dlls/ttydrv/user.c:
	Create an X connection for each thread, and process X events in the
	thread that created the corresponding X window.
	Spawn a separate thread to run the desktop message loop in desktop
	mode.

	* include/wine/port.h, library/port.c:
	Warnings fixes.

2001-05-14  Alexandre Julliard  <julliard@winehq.com>

	* library/port.c, loader/dos/dosmod.c, loader/ne/resource.c,
	  loader/ne/segment.c, msdos/int13.c, msdos/int21.c,
	  server/console.c, server/file.c, server/pipe.c, server/serial.c,
	  server/sock.c, win32/device.c, win32/file.c,
	  windows/clipboard.c, dlls/winaspi/aspi.c,
	  dlls/winaspi/winaspi16.c, dlls/winaspi/winaspi32.c,
	  dlls/winedos/dosvm.c, dlls/wineps/afm.c, dlls/wininet/ftp.c,
	  files/file.c, graphics/x11drv/xfont.c, include/acconfig.h,
	  include/config.h.in, include/wine/port.h, library/loader.c,
	  configure, configure.in, dlls/shell32/shelllink.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented 64bit file size handling.
	Removed several unneeded sys/stat.h includes.

	* windows/queue.c:
	Clear owner of system message queue to avoid freeing it when the first
	task exits.

	* documentation/printing.sgml:
	Ian Pilcher <ian.pilcher@home.com>
	Add closing tags.

	* include/winsock.h:
	Bang Jun-Young <bjy@mogua.org>
	Define HAVE_SYS_SOCKET_H on NetBSD and FreeBSD.

	* controls/menu.c:
	Gerard Patel <gerard.patel@asi.fr>
	Test if the menu is destroyed before displaying a menu item.

2001-05-11  Alexandre Julliard  <julliard@winehq.com>

	* controls/menu.c, dlls/user/controls.h, windows/user.c, windows/win.c:
	Create a new window for the top popup menu on every new menu tracking,
	so that the window belongs to the right thread.

	* dlls/wineps/font.c, files/drive.c,
	  graphics/enhmetafiledrv/init.c, graphics/win16drv/font.c,
	  graphics/x11drv/xfont.c, objects/font.c, controls/listbox.c,
	  dlls/avifil32/avifile.c, dlls/comctl32/status.c,
	  dlls/comctl32/tab.c, dlls/commdlg/filedlg.c, dlls/msvcrt/data.c,
	  dlls/msvcrt/dir.c, dlls/oleaut32/typelib.c,
	  dlls/shell32/shellord.c:
	Francois Gouget <fgouget@free.fr>
	Remove unnecessary single quoting of debugstr_xxx strings.

	* documentation/configuring.sgml, documentation/running.sgml:
	Francois Gouget <fgouget@free.fr>
	Add a warning saying that the x11drv section is getting outdated.
	Add templates for missing configuration options to the x11drv section.
	Remove obsolete command-line options.

	* include/imagehlp.h, include/winbase.h:
	Francois Gouget <fgouget@free.fr>
	Removed some more obsolete 32 suffixes.

	* dlls/wineps/afm.c:
	Ian Pilcher <ian.pilcher@home.com>
	Eliminate __compar_fn_t.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/opengl32/wgl.c,
	  dlls/x11drv/x11ddraw.c, dlls/x11drv/x11drv_main.c,
	  dlls/x11drv/xvidmode.c, graphics/x11drv/bitblt.c,
	  graphics/x11drv/bitmap.c, graphics/x11drv/brush.c,
	  graphics/x11drv/clipping.c, graphics/x11drv/dib.c,
	  graphics/x11drv/graphics.c, graphics/x11drv/init.c,
	  graphics/x11drv/oembitmap.c, graphics/x11drv/opengl.c,
	  graphics/x11drv/palette.c, graphics/x11drv/text.c,
	  graphics/x11drv/xfont.c, include/x11drv.h,
	  windows/x11drv/clipboard.c, windows/x11drv/wnd.c:
	Renamed display to gdi_display where it is used for GDI operations, to
	allow supporting multiple X connections.

2001-05-10  Alexandre Julliard  <julliard@winehq.com>

	* include/version.h, ANNOUNCE, ChangeLog:
	Release 20010510.

----------------------------------------------------------------
2001-05-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/window.c, windows/win.c:
	Fixed reparenting to desktop (found by Gerard Patel).

	* loader/module.c:
	Really free the memory on dll unload.

	* dlls/user/user_main.c, dlls/x11drv/window.c,
	  dlls/x11drv/x11drv.spec, include/user.h, include/win.h,
	  windows/scroll.c, windows/x11drv/wnd.c, dlls/ttydrv/wnd.c:
	Moved ScrollWindowEx implementation to the graphics driver.

	* tools/winelauncher.in:
	Francois Gouget <fgouget@codeweavers.com>
	Don't start applications in the background to avoid breaking console
	applications.

	* include/wine/obj_oleaut.h:
	Francois Gouget <fgouget@free.fr>
	The declaration of DECIMAL in VARIANT happens in the wrong place.
	Comment out for now.

	* documentation/printing.sgml:
	Marcus Meissner <marcus@jet.franken.de>
	Changed the printing documentation to include CUPS and LPR support,
	also give some hints on AFM files in system and generic.ppd.

	* documentation/samples/generic.ppd:
	Marcus Meissner <marcus@jet.franken.de>
	Added a generic level 3 color postscript PPD (for /etc/printcap based
	printers).

	* winedefault.reg:
	Ove Kaaven <ovek@transgaming.com>
	Added version entry for DirectX 7.0a.

2001-05-09  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/event.c:
	Removed XShmCompletion event support (no longer used).

	* programs/winetest/Makefile.PL, programs/winetest/Makefile.in,
	  programs/winetest/wine.xs:
	Got rid of MakeMaker so we can build outside the source tree.

	* scheduler/client.c:
	Allow WINESERVER to specify a relative path.

	* dlls/wsock32/socket.c:
	Bang Jun-Young <bjy@mogua.org>
	On NetBSD if_type is defined as a macro in /usr/include/net/if.h.
	Undefine it to avoid a conflict.

	* dlls/ntdll/signal_i386.c:
	Bang Jun-Young <bjy@mogua.org>
	Do not use internal exception codes defined by Wine with NetBSD,
	rather use native ones from /usr/include/i386/trap.h. Note that T_MCHK
	is not supported by NetBSD.

	* server/context_i386.c:
	Bang Jun-Young <bjy@mogua.org>
	Added support for NetBSD.

	* include/ddraw.h:
	Ove Kaaven <ovek@transgaming.com>
	Fixed the IDirectDrawSurface4 interface declaration to conform a bit
	more with the DirectX SDK headers' idea of what the interface looks
	like.

	* dlls/kernel/format_msg.c:
	Duane Clark <dclark@akamail.com>
	Add tests for the flag FORMAT_MESSAGE_IGNORE_INSERTS, and act
	accordingly.

	* windows/focus.c, windows/message.c, windows/win.c,
	  windows/winpos.c:
	Use 32-bit hook functions where possible. Cleaned up a couple of
	16-bit type uses.

	* windows/clipboard.c, windows/defwnd.c, windows/scroll.c,
	  windows/x11drv/event.c, windows/x11drv/keyboard.c,
	  windows/x11drv/wineclipsrv.c, memory/global.c, msdos/int10.c,
	  msdos/int21.c, msdos/ioports.c, objects/palette.c,
	  dlls/user/resource.c, dlls/version/install.c,
	  dlls/winaspi/aspi.c, dlls/wininet/internet.c,
	  dlls/winmm/driver.c, dlls/winmm/mci.c,
	  dlls/winmm/mciavi/mmoutput.c, dlls/winmm/mciavi/wnd.c,
	  dlls/winmm/mcicda/mcicda.c, dlls/winmm/wineoss/audio.c,
	  files/profile.c, graphics/win16drv/init.c,
	  graphics/x11drv/palette.c, dlls/odbc32/proxyodbc.c,
	  dlls/ole32/bindctx.c, dlls/ole32/compositemoniker.c,
	  dlls/ole32/filemoniker.c, dlls/oleaut32/safearray.c,
	  dlls/oleaut32/typelib.c, dlls/psapi/psapi_main.c,
	  dlls/rpcrt4/rpcrt4_main.c, dlls/shell32/shell32_main.c,
	  dlls/shell32/shlfileop.c, dlls/shell32/shlfolder.c,
	  dlls/shell32/shlview.c, dlls/shlwapi/shlwapi_main.c,
	  dlls/ttydrv/palette.c, dlls/comctl32/treeview.c,
	  dlls/commdlg/filedlg.c, dlls/ddraw/ddraw/main.c,
	  dlls/dinput/mouse/main.c, dlls/dsound/dsound_main.c,
	  dlls/imm32/imc.c, dlls/imm32/imewnd.c, dlls/imm32/imm.c,
	  dlls/imm32/memory.c, dlls/kernel/utthunk.c, dlls/msvcrt/file.c,
	  dlls/msvcrt/locale.c, dlls/msvcrt/math.c, controls/menu.c,
	  dlls/comctl32/commctrl.c, dlls/comctl32/listview.c:
	Francois Gouget <fgouget@free.fr>
	Add '\n' at the end of traces.

	* include/nonclient.h, include/user.h, include/win.h,
	  include/x11drv.h, windows/nonclient.c, windows/x11drv/wnd.c,
	  dlls/ttydrv/ttydrv.h, dlls/ttydrv/wnd.c, dlls/user/user_main.c,
	  dlls/x11drv/winpos.c, dlls/x11drv/x11drv.spec:
	Moved window move/resize syscommand handling to the graphics driver.

	* controls/combo.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Only draw the padding area of the combo box, don't erase the combo
	selection text.

	* tools/specmaker/msmangle.c:
	Francois Gouget <fgouget@free.fr>
	Renamed 'operator_compliment' to 'operator_complement'.

	* controls/edit.c:
	Ulrich Czekalla <ulrich.czekalla@utoronto.ca>
	Fixed a paint problem reported by Mike McCormack.

	* dlls/wineps/afm.c, dlls/wineps/agl.c, dlls/wineps/glyphlist.c,
	  dlls/wineps/psdrv.h:
	Ian Pilcher <ian.pilcher@home.com>
	Unicode encodings for PostScript fonts.

	* dlls/gdi/printdrv.c, dlls/wineps/init.c, dlls/winspool/info.c,
	  dlls/winspool/wspool.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented /etc/printcap based printing support.
	Changed 'CUPS:printername' to 'LPR:printername'.
	Some fixes in AddPrinterW().

	* misc/version.c:
	James Juran <jamesjuran@alumni.psu.edu>
	Add missing newline to WARN messages.

2001-05-08  Alexandre Julliard  <julliard@winehq.com>

	* loader/pe_image.c, relay32/relay386.c, relay32/snoop.c,
	  scheduler/process.c, scheduler/thread.c, windows/winproc.c,
	  dlls/ntdll/debugtools.c, dlls/ntdll/ntdll.spec, if1632/relay.c:
	Francois Gouget <fgouget@free.fr>
	Print the tid in the first column when +tid is specified.

	* dlls/wineps/escape.c, graphics/escape.c, include/wingdi.h:
	Marcus Meissner <marcus@jet.franken.de>
	PS passthrough was sending 2 bytes too many.
	Added GETSETPRINTORIENT stub.
	Implemented EPSPRINTING mode changer.

2001-05-07  Alexandre Julliard  <julliard@winehq.com>

	* dlls/wineps/escape.c:
	Ian Pilcher <ian.pilcher@home.com>
	Make PSDRV_Escape(GETPHYSPAGESIZE) return physical size.

	* dlls/wineps/init.c:
	Ian Pilcher <ian.pilcher@home.com>
	Fixed rounding error in page size calculation.

	* dlls/commdlg/printdlg.c:
	Duane Clark <dclark@akamail.com>
	Swap portrait/landscape icon when button clicked.

	* documentation/samples/config:
	Duane Clark <dclark@akamail.com>
	Added entry for printing to a file.

	* graphics/x11drv/codepage.c, include/Makefile.in,
	  include/minmax.h, include/windef.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added the minmax.h header (VC6).
	Added support for NOMINMAX.
	Remove __min/__max from windef.h, they belong to (msvcrt/)stdlib.h.

	* dlls/Makedll.rules.in:
	Marcus Meissner <marcus@jet.franken.de>
	Sanity check for Makedll.rules.in -> Makedll.rules on whether to rerun
	configure.

	* configure.in, configure:
	Bang Jun-Young <bjy@mogua.org>
	Add the NetBSD style errno location.
	Modify a message to give a bit more info when building Wine on NetBSD.

	* include/guiddef.h, include/objbase.h:
	Francois Gouget <fgouget@free.fr>
	Added missing include directives.

	* tools/winemaker:
	Francois Gouget <fgouget@free.fr>
	Remove the anonymous function parameter from generate_list calls when
	it is unnecessary.
	Modify the .spec.c rule to allow compilation out of $(TOPSRCDIR).

	* include/msvcrt/stdio.h, include/windows.h:
	Francois Gouget <fgouget@free.fr>
	RC_INVOKED (&NOWINRES) special cases.

	* tools/wrc/wrc.c:
	Francois Gouget <fgouget@free.fr>
	-l/-L were not renamed to -t/-T in the usage messages.

	* dlls/setupapi/virtcopy.c:
	Chris Morgan <cmorgan@wpi.edu>
	Fix duplicate directories being concatenated to buffer in
	VcpExplain16().  Added a few useful TRACE lines.  Enabled a ifdef'ed
	out call to CopyFile() inside of VCP_CopyFiles() so files are copied
	to a users directories during an install.

	* dlls/winmm/wineoss/oss.c:
	Bang Jun-Young <bjy@mogua.org>
	Call OSS_MidiInit() only if HAVE_OSS_MIDI is defined.

	* dlls/winmm/wineoss/mixer.c:
	Bang Jun-Young <bjy@mogua.org>
	Include missing errno.h.

	* dlls/commdlg/fontdlg.c:
	Marcus Meissner <marcus@jet.franken.de>
	Drop flags during font enumeration for font chooser if we get no
	matches.

	* dlls/gdi/gdi.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Changed some ptr into str.

	* include/wine/obj_base.h, include/wine/obj_oleaut.h,
	  include/wtypes.h, include/oleauto.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added support for the DECIMAL type.
	Names are no longer suffixed with 32! Removed it.

	* dlls/winsock/socket.c:
	Francois Gouget <fgouget@codeweavers.com>
	Fixed incorrect cast in WSOCK32_send and WSOCK32_recvfrom.

	* include/winerror.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added IS_ERROR.

	* dlls/wineps/init.c:
	Marcus Meissner <marcus@jet.franken.de>
	Report that we have 2^16 colors, so PowerPoint97 prints colored
	slides.

	* dlls/wineps/text.c:
	Marcus Meissner <marcus@jet.franken.de>
	For underlining and striking out text we need to send a 'newpath' or
	have the whole page filled with black.

	* dlls/wineps/rsrc.rc, dlls/wineps/wps_De.rc:
	Marcus Meissner <marcus@jet.franken.de>
	Paper dialog translated to German.

	* files/profile.c:
	Francois Gouget <fgouget@codeweavers.com>
	Potential buffer overflow in PROFILE_CopyEntry.

2001-05-05  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/keyboard.c, dlls/ttydrv/ttydrv.spec,
	  dlls/ttydrv/user.c, dlls/user/user_main.c,
	  dlls/x11drv/x11drv.spec, dlls/x11drv/x11drv_main.c,
	  include/keyboard.h, include/user.h, windows/keyboard.c,
	  windows/sysparams.c:
	Remove Get/SetBeepActive from USER driver and manage it locally inside
	SystemParametersInfo.

	* dlls/commdlg/printdlg.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed WM_COMMAND notification codes for 16 bit PrintDlg.

	* debugger/winedbg.c, debugger/winedbg.spec:
	Delay import of user32 to allow debugging crashes in user init code.

	* dlls/commdlg/cdlg_De.rc, dlls/commdlg/cdlg_En.rc,
	  dlls/commdlg/printdlg.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented large parts of PageSetupDlgA.

	* dlls/commdlg/fontdlg.c:
	Marcus Meissner <marcus@jet.franken.de>
	Debug output for flags, select first available height and weight when
	selecting a font.

2001-05-03  Alexandre Julliard  <julliard@winehq.com>

	* windows/dce.c:
	Make sure we recompute the visible region in DC hook.

	* dlls/wineps/afm.c, dlls/wineps/init.c, dlls/wineps/psdrv.h:
	Ian Pilcher <ian.pilcher@home.com>
	Misc. error checking in PostScript driver.

	* dlls/comctl32/pager.c:
	Susan Farley <susan@codeweavers.com>
	Implement autorepeat scrolling when button is held down.
	Improvements to size and appearance of buttons.

	* documentation/Makefile.in:
	Francois Gouget <fgouget@codeweavers.com>
	Clean should also delete the pdf, ps and .out(?) files.

	* documentation/make_winehq:
	Francois Gouget <fgouget@codeweavers.com>
	Fix the www.winehq.com directory handling.

	* debugger/break.c, debugger/dbg.y, debugger/debugger.h,
	  debugger/hash.c, debugger/module.c, debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Started handling of several symbols with the same name.
	Fixed trampoline identification.

	* documentation/debugger.sgml:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added a small section about expressions in winedbg.

2001-05-02  Alexandre Julliard  <julliard@winehq.com>

	* loader/module.c:
	Uncommented the VirtualFree call on dll unload.

	* configure, configure.in:
	Ove Kaaven <ovek@transgaming.com>
	Fixed the OSMesa configure check so that OSMesa won't be linked in if it's
	incompatible with the GLX implementation (e.g. nvidia).
	Removed the old "OSMesa not found" warning.

	* dlls/commdlg/printdlg.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed PrintDlg so the devnames struct contains the correct driver
	printer and port names.

	* documentation/debugging.sgml:
	Simeon Pilgrim <simeon.pilgrim@alliedtelesyn.co.nz>
	Typo in stub-reporting style description

	* dlls/msvcrt/msvcrt.spec:
	Francois Gouget <fgouget@free.fr>
	ntdll._iswctype should be ntdll.iswctype.

	* controls/combo.c:
	Marcus Meissner <marcus@jet.franken.de>
	Do not HeapFree() memory not allocated by us in COMBO_GetText.
	Convert return value from LB_GETTEXT into COMBO_GetText.

2001-04-30  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.in:
	Marcus Meissner <marcus@jet.franken.de>
	Added check for cups/cups.h header file and a warning if we find only
	runtime libraries, but no headers.

	* controls/combo.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Draw the padding area of a combo box.

	* dlls/wineps/init.c:
	Ian Pilcher <ian.pilcher@home.com>
	Check for errors in PSDRV_Init.

	* windows/x11drv/event.c:
	Marcus Meissner <marcus@jet.franken.de>
	Made checks in _get_common_ancestor a bit stricter to avoid XQueryTree
	XErrors.

	* dlls/comctl32/comctl32undoc.c, dlls/comctl32/comctl32.spec:
	Chris Morgan <cmorgan@wpi.edu>
	Implement COMCTL32_StrToIntW() using NTDLL's _wtoi.

2001-04-27  Alexandre Julliard  <julliard@winehq.com>

	* server/context_i386.c, server/context_sparc.c, server/ptrace.c,
	  server/thread.h:
	Ove Kaaven <ovek@transgaming.com>
	Preserve the TF (Trap Flag) when continuing from a ptraced suspend.

	* controls/desktop.c, controls/edit.c, controls/menu.c,
	  controls/scroll.c, controls/uitools.c, dlls/kernel/kernel.spec,
	  dlls/win32s/win32s16.spec, scheduler/process.c,
	  scheduler/syslevel.c, win32/file.c, windows/mdi.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation name fixes.

	* dlls/winedos/dosvm.c, dlls/winedos/module.c:
	Patrik Stridvall <ps@leissner.se>
	Added documentation.

	* include/acconfig.h, include/config.h.in, configure,
	  configure.in, dlls/commdlg/printdlg.c, dlls/gdi/printdrv.c,
	  dlls/wineps/Makefile.in, dlls/wineps/init.c,
	  dlls/winspool/Makefile.in, dlls/winspool/info.c,
	  dlls/winspool/wspool.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Added CUPS printing support.

	* dlls/ddraw/ddraw_private.h:
	Francois Gouget <fgouget@free.fr>
	DDRAW_{XF86DGA2,XVidMode}_Init was moved to dlls/x11drv.

	* dlls/x11drv/dga2.c, dlls/x11drv/x11ddraw.c,
	  dlls/x11drv/x11drv_main.c, dlls/x11drv/xvidmode.c:
	Ove Kaaven <ovek@transgaming.com>
	Reimplemented DXGrab with improvements; it no longer depends on
	XVidMode, and it releases the grab if the app exits full-screen
	DirectDraw.  Also made the UseDGA option available for AppDefaults
	configuration.

2001-04-25  Alexandre Julliard  <julliard@winehq.com>

	* windows/cursoricon.c, windows/syscolor.c,
	  dlls/msvcrt/msvcrt.spec, dlls/ole32/storage32.c,
	  dlls/setupapi/virtcopy.c, dlls/wintrust/wintrust_main.c,
	  dlls/x11drv/x11ddraw.c, dlls/x11drv/x11drv.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* windows/x11drv/wnd.c:
	Avoid crash on deleted windows.

	* tools/winapi_check/modules.dat,
	  tools/winapi_check/win16/compobj.api,
	  tools/winapi_check/win16/setupx.api,
	  tools/winapi_check/win16/user.api,
	  tools/winapi_check/win32/crtdll.api,
	  tools/winapi_check/win32/kernel32.api,
	  tools/winapi_check/win32/msvcrt.api,
	  tools/winapi_check/win32/ntdll.api,
	  tools/winapi_check/win32/ole32.api,
	  tools/winapi_check/win32/ttydrv.api,
	  tools/winapi_check/win32/user32.api,
	  tools/winapi_check/win32/version.api,
	  tools/winapi_check/win32/wintrust.api,
	  tools/winapi_check/win32/ws2_32.api,
	  tools/winapi_check/win32/x11drv.api,
	  tools/winapi_check/winapi_check,
	  tools/winapi_check/winapi_documentation.pm:
	Patrik Stridvall <ps@leissner.se>
	- Minor API files update
	- Minor bug fixes

	* dlls/shlwapi/reg.c, dlls/shlwapi/shlwapi.spec, dlls/shlwapi/string.c:
	Gael de Chalendar <Gael.de.Chalendar@limsi.fr>
	Corrected a typo in spec file and added some stubs.

	* dlls/winmm/mmsystem.c:
	James Hatheway <james@macadamian.com>
	PlaySoundA should return TRUE when it stops playing sound.

2001-04-24  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/event.c, windows/x11drv/keyboard.c,
	  windows/x11drv/wnd.c, dlls/ttydrv/dc.c, dlls/ttydrv/ttydrv.h,
	  dlls/ttydrv/ttydrv.spec, dlls/ttydrv/user.c, dlls/ttydrv/wnd.c,
	  dlls/user/user_main.c, dlls/x11drv/Makefile.in,
	  dlls/x11drv/window.c, dlls/x11drv/winpos.c,
	  dlls/x11drv/x11drv.spec, include/dce.h, include/message.h,
	  include/user.h, include/win.h, include/winpos.h,
	  include/x11drv.h, windows/Makefile.in, windows/dce.c,
	  windows/defwnd.c, windows/event.c, windows/focus.c,
	  windows/message.c, windows/painting.c, windows/scroll.c,
	  windows/win.c, windows/winpos.c:
	Moved most of the implementation of SetWindowPos and SetDrawable into
	the user driver, and the corresponding code into the dlls/x11drv
	directory. Moved a few functions out of the window driver into the
	user driver. Plus a few related cleanups.

	* dlls/ddraw/d3dviewport.c, dlls/dinput/keyboard/main.c,
	  dlls/opengl32/wgl.c:
	Small cleanups.

	* relay32/relay386.c:
	Marcus Meissner <marcus@jet.franken.de>
	Drop SYSLEVEL checks from relay debugging, since they break debugging
	builtin GDI dlls.

	* include/msvcrt/stdlib.h:
	Francois Gouget <fgouget@free.fr>
	Don't use Windows types like LONGLONG in msvcrt headers.

	* debugger/db_disasm.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added some more disassembly instructions (notably rdtsc, which is used
	by several programs) and more MMX.

2001-04-23  Alexandre Julliard  <julliard@winehq.com>

	* win32/except.c:
	Francois Gouget <fgouget@free.fr>
	Use snprintf to prevent buffer overflows in format_exception_msg.

	* include/tchar.h:
	Francois Gouget <fgouget@codeweavers.com>
	Prevent use by Wine's source.
	Added missing 'function' definitions (macros really).

	* dlls/msvcrt/time.c:
	Francois Gouget <fgouget@codeweavers.com>
	We must not free the pointer returned by localtime (especially not
	with MSVCRT_free!).
	We no longer need to include stdlib.h.

	* include/msvcrt/stddef.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added offsetof (for the MFC).

	* dlls/msvcrt/console.c, dlls/msvcrt/cpp.c, dlls/msvcrt/heap.c,
	  dlls/msvcrt/misc.c, dlls/msvcrt/string.c,
	  include/msvcrt/malloc.h, include/msvcrt/search.h,
	  include/msvcrt/stdlib.h:
	Francois Gouget <fgouget@codeweavers.com>
	Add msvcrt/malloc.h (for the MFC).
	Add msvcrt/search.h.
	Move duplicated definitions to the new headers.
	Use malloc.h instead of stdlib.h when sensible.

	* include/msvcrt/crtdbg.h:
	Francois Gouget <fgouget@codeweavers.com>
	Provide limited support for the msvcrt debug API.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Files with special characters may not have been renamed. Try to match
	both forms.

	* dlls/msacm/driver.c, dlls/msacm/filter.c, dlls/msacm/format.c,
	  dlls/msacm/internal.c, dlls/msacm/msacm32_main.c,
	  dlls/msacm/pcmconverter.c, dlls/msacm/stream.c,
	  dlls/msacm/wineacm.h:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added cache for drivers information.
	Fixed a few bugs (memory handling, version info...)
	Enhanced validity checks.

	* dlls/wineps/glyphlist.c, dlls/wineps/psdrv.h:
	Ian Pilcher <ian.pilcher@home.com>
	Use typecasts to suppress compiler warnings.

	* objects/font.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented GetCharABCWidths with GetCharWidth.

	* objects/region.c:
	Marcus Meissner <marcus@jet.franken.de>
	Extracted MEMCHECK into an extra function to avoid a gcc-2.95.2
	compiler bug.

	* debugger/db_disasm.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added some MMX disassembly to the debugger.

	* debugger/expr.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed getting a variable address.

	* debugger/types.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed float variables display.

2001-04-20  Alexandre Julliard  <julliard@winehq.com>

	* files/dos_fs.c:
	Dominik Strasser <dominik.strasser@mchp.siemens.de>
	Allow illegal handles in FindClose.

	* dlls/ole32/bindctx.c, dlls/ole32/compositemoniker.c,
	  dlls/ole32/filemoniker.c, dlls/ole32/itemmoniker.c,
	  files/drive.c, objects/dib.c, tools/wineconf,
	  debugger/ext_debugger.c, dlls/comctl32/animate.c,
	  dlls/ole32/antimoniker.c:
	Andreas Mohr <a.mohr@mailto.de>
	Spelling fixes.

	* windows/property.c:
	Andreas Mohr <a.mohr@mailto.de>
	- make sure that we really use the correct amount of parameters each
	  time for the callback function
	- always pass strings instead of atoms to Win32 enum proc
	- fix trace crash due to string format displaying of atom (LOWORD
	  only) handle

	* dlls/wineps/Makefile.in, dlls/wineps/afm.c, dlls/wineps/agl.c,
	  dlls/wineps/glyphlist.c, dlls/wineps/psdrv.h:
	Ian Pilcher <ian.pilcher@home.com>
	Store each glyph name only once in PostScript driver.

	* objects/brush.c: Andreas Mohr <a.mohr@mailto.de>
	Take a stab at implementing SetSolidBrush16.

	* dlls/comctl32/imagelist.c:
	Andreas Mohr <a.mohr@mailto.de>
	Fixed off by one error in ImageList_DrawIndirect().
	Fixed some missing NULL HIMAGELIST check (fixes Microsoft Works
	startup).

	* dlls/winmm/wineoss/mixer.c:
	James Hatheway <james@macadamian.com>
	Make sure to return our variable with the correct return value.

	* memory/virtual.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	VirtualProtect should return correct old protection flags.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Notify parent of child size changes when changes are from WM_SIZE
	  messages.
	- If more than one band exists, then first band may have a gripper.
	- Fix the band layout algorithm to handle some issues from WinARA.

	* dlls/comctl32/comboex.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Implement CB_{GET|SET}ITEMDATA for CombBoxEx.
	- Implement WM_NCCREATE to remove unwanted window styles (as native does).
	- Clean up some traces.

	* tools/winemaker:
	Francois Gouget <fgouget@free.fr>
	Fix file lossage in subdirectories of an 'include' directory (closes #163).
	When case fixing #includes, take into account that the file may have
	been renamed (closes #161).
	Better support of $(SRCDIR) in -I directives.
	RTF was not recognised in rc files because it was in the wrong place.
	Escape weird characters when putting the rc filename in the spec file.

	* documentation/wine.man.in:
	Lawson Whitney <lawson_whitney@juno.com>
	Added WINEPRELOAD to man wine.

	* dlls/kernel/comm.c:
	Dominik Strasser <dominik.strasser@t-online.de>
	Don't use RTSCTS if Str handshake is enabled.
	Use appropriate Unix timeout values in SetCommTimeouts.

2001-04-18  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, include/version.h:
	Release 20010418.

----------------------------------------------------------------
2001-04-18  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makefile.in: Fixed setupapi dependencies.

	* windows/input.c: Jukka Heinonen <jhei@iki.fi>
	GetAsyncKeyState now clears "has been pressed" information of only the
	requested key instead of all keys.

	* windows/dce.c, dlls/user/user_main.c:
	No need to preallocate DCEs since they are allocated on demand
	anyway.

	* include/wingdi.h, include/winuser.h, include/dce.h:
	Moved DCX_* constants to winuser.h.

	* dlls/ddraw/Makefile.in, dlls/ddraw/ddraw/dga2.c,
	  dlls/ddraw/ddraw/dga2.h, dlls/ddraw/ddraw/xvidmode.c,
	  dlls/ddraw/ddraw/xvidmode.h, dlls/ddraw/dsurface/dga2.c,
	  dlls/ddraw/dsurface/dga2.h:
	Removed a few obsolete files.

	* dlls/ddraw/dsurface/hal.c:
	Ove Kaaven <ovek@transgaming.com>
	Fix DGA so it works properly again.

	* dlls/msacm/msacm32_main.c:
	James Hatheway <james@macadamian.com>
	Add \n to FIXME call in acmGetVersion to prevent overflowing buffer in
	wine_dbg_vprintf.

	* dlls/comctl32/listview.c:
	James Hatheway <james@macadamian.com>
	Eliminate unitialized garbage being returned from LISTVIEW_GetItemA.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Enhanced the pragma pack handling.
	Enhanced the 'afxres.h' handling (the indentation).
	Start issuing winemaker's warnings in the source files themselves.

2001-04-17  Alexandre Julliard  <julliard@winehq.com>

	* controls/listbox.c, windows/message.c:
	Gerard Patel <gerard.patel@asi.fr>
	Do not send WM_MOUSEACTIVATE for children of desktop.

	* dlls/ddraw/Makefile.in, dlls/ddraw/ddraw/hal.c,
	  dlls/ddraw/ddraw/hal.h, dlls/ddraw/dpalette/hal.c,
	  dlls/ddraw/dpalette/hal.h, dlls/ddraw/dsurface/hal.c,
	  dlls/ddraw/dsurface/hal.h, dlls/ddraw/main.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented DirectDraw's Hardware Abstraction Layer (HAL) interface.
	Disabled DirectDraw's old XVidMode and DGA2 drivers, it now depends on the
	display driver (x11drv) HAL implementations of these features.

	* dlls/setupapi/.cvsignore, dlls/setupapi/Makefile.in,
	  dlls/setupapi/infparse.c, dlls/setupapi/setupapi.rc,
	  dlls/setupapi/setupapi.spec, dlls/setupapi/setupapi_private.h,
	  dlls/setupapi/setupx.spec, dlls/setupapi/setupx16.h,
	  dlls/setupapi/setupx_main.c, dlls/setupapi/setupx_private.h,
	  dlls/setupapi/virtcopy.c:
	Andreas Mohr <a.mohr@mailto.de>
	- implement some more virtcopy (VCP) stuff
	- add some setupx resources
	- implement VHSTR functionality
	- large parts of VCP callback handling
	- merge setupapi and setupx stuff, especially resource handling
	  gets rid of setupx debug channel; setupapi is the only one that remains

	* dlls/ddraw/Makefile.in, dlls/ddraw/dsurface/dibtexture.c,
	  dlls/ddraw/dsurface/dibtexture.h:
	Ove Kaaven <ovek@transgaming.com>
	Removed the obsolete DIBTexture surface class.

	* dlls/ddraw/dsurface/dib.c, dlls/ddraw/dsurface/dib.h,
	  dlls/ddraw/dsurface/main.c:
	Ove Kaaven <ovek@transgaming.com>
	Fill in some more HAL fields. Flip some of them when appropriate.
	Allow SetSurfaceDesc to change client memory surface address.
	Propagate DIB color table updates to backbuffers too (thanks to
	Stephen Clouse).

	* dlls/ddraw/dpalette/main.c, dlls/ddraw/dpalette/main.h:
	Ove Kaaven <ovek@transgaming.com>
	Fill in some DirectDrawPalette HAL fields.

	* dlls/ddraw/ddraw/dga2.c, dlls/ddraw/ddraw/dga2.h,
	  dlls/ddraw/ddraw/user.c, dlls/ddraw/ddraw/user.h,
	  dlls/ddraw/ddraw/xvidmode.c, dlls/ddraw/ddraw/xvidmode.h:
	Ove Kaaven <ovek@transgaming.com>
	Removed User_DirectDraw_GetCaps. Using Main_DirectDraw_GetCaps instead,
	and the User constructor filling in the main capability bits.

	* dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw/main.h:
	Ove Kaaven <ovek@transgaming.com>
	Fill in some of the ddraw HAL fields.
	Call the set_exclusive_mode callback when necessary.
	Added a Main_DirectDraw_GetCaps method.
	Removed references to obsolete DIBTexture surface class.

	* dlls/ddraw/dsurface/user.c, dlls/ddraw/dsurface/user.h:
	Ove Kaaven <ovek@transgaming.com>
	Implemented gamma control on the DirectDraw primary window.
	Ensured that the primary window is created before the constructor returns.
	Flag the primary window as transparent so mouse clicks pass through it.
	Put the primary window handle into a reserved field for x11drv HAL use.

	* dlls/Makefile.in:
	Francois Gouget <fgouget@free.fr>
	Fix typo so that wintrust is built.

	* documentation/configuring.sgml:
	Joerg Mayer <jmayer@loplof.de>
	Add a missing </sect3>.

	* dlls/wsock32/socket.c:
	Joerg Mayer <jmayer@loplof.de>
	Use of proper test gets rid of a signed/unsigned warning.

	* graphics/x11drv/init.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented the ddraw HAL access escape (DCICOMMAND) in x11drv.

	* controls/combo.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Remove redundant sending of WM_DRAWITEM message to ownerdrawn
	combobox.

2001-04-16  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/lstr.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fix some crash on bad parameter conditions.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/wcstring.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented _wtoi and _wtol.

	* dlls/x11drv/Makefile.in, dlls/x11drv/dga2.c, dlls/x11drv/dga2.h,
	  dlls/x11drv/x11ddraw.c, dlls/x11drv/x11ddraw.h,
	  dlls/x11drv/x11drv_main.c, dlls/x11drv/xvidmode.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented the XF86DGA2 driver for the ddraw HAL.
	Entered some basic HAL device capabilities data.
	Added a GetDriverInfo handler.

	* Make.rules.in, configure, configure.in, dlls/Makefile.in,
	  dlls/wintrust/.cvsignore, dlls/wintrust/Makefile.in,
	  dlls/wintrust/wintrust.spec, dlls/wintrust/wintrust_main.c:
	Rein Klazes <rklazes@xs4all.nl>
	Added new dll wintrust.dll with a stub for WinVerifyTrust().

	* dlls/ddraw/Makefile.in, dlls/ddraw/dsurface/gamma.c,
	  dlls/ddraw/dsurface/main.c, dlls/ddraw/dsurface/main.h:
	Ove Kaaven <ovek@transgaming.com>
	Implemented the IDirectDrawGammaControl interface.

	* dlls/wineps/init.c, dlls/wineps/ppd.c:
	Ian Pilcher <ian.pilcher@home.com>
	Make paper size and bin type handling more like Windows drivers.

	* objects/font.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add NULL check for lpnFit in GetTextExtentExPointW.

	* graphics/x11drv/palette.c, include/ts_xlib.h, tsx11/X11_calls,
	  tsx11/ts_xlib.c:
	Gavriel State <gav@transgaming.com>
	Copy the first 128 colors from the default colormap to Wine's private
	colormap when using 'shared' colors.

	* loader/module.c:
	Ove Kaaven <ovek@transgaming.com>
	Let LOAD_LIBRARY_AS_DATAFILE load the builtin dll if loading a native
	DLL failed, so that winesetuptk's fake-windows installation work.

	* controls/listbox.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Slightly improve keyboard tracking in combobox.

	* controls/edit.c:
	Dan Engel <dengel@sourceharvest.com>
	Set the backgound mode to opaque to paint highlighted text.

	* dlls/ddraw/ddraw_private.h, dlls/ddraw/dsurface/dga2.c,
	  dlls/ddraw/dsurface/dga2.h, dlls/ddraw/dsurface/dib.c,
	  dlls/ddraw/dsurface/dib.h, dlls/ddraw/dsurface/main.c,
	  dlls/ddraw/dsurface/main.h, dlls/ddraw/dsurface/thunks.c,
	  dlls/ddraw/dsurface/user.c, dlls/ddraw/dsurface/user.h:
	Ove Kaaven <ovek@transgaming.com>
	Added ddraw HAL and gamma ramp stuff to implementation structures.
	Added a parameter and return value to flip_data and flip_update.

	* graphics/x11drv/dib.c, include/x11drv.h:
	Ove Kaaven <ovek@transgaming.com>
	Fixed CoerceDIBSection's AuxMod handling. Added CoerceDIBSection2.

	* ole/uuid.c: Ove Kaaven <ovek@transgaming.com>
	Include the GUIDs in ddrawi.h in the libwine_uuid.a library.

	* include/ddrawi.h:
	Ove Kaaven <ovek@transgaming.com>
	Yet more stuff for ddrawi.h, including some GetDriverInfo GUIDs.

	* dlls/ddraw/.cvsignore, dlls/ddraw/Makefile.in,
	  dlls/ddraw/ddraw.spec, dlls/ddraw/version.rc:
	Ove Kaaven <ovek@transgaming.com>
	Add version resource to ddraw.dll, versioned to DirectX 7.0.

	* dlls/comctl32/listview.c:
	Francois Gouget <fgouget@free.fr>
	GetItemSpacing(true): Return the default item spacing if the view is
	LVS_ICON, and the current 'item size' otherwise.

	* relay32/snoop.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Display thread id instead of %fs in snoop trace.

	* dlls/dinput/keyboard/main.c:
	Ove Kaaven <ovek@transgaming.com>
	Don't restore the saved keyboard autorepeat config, since the config
	save code itself was disabled a while ago...

	* include/d3dtypes.h, include/d3dvec.inl, include/d3d.h:
	Ove Kaaven <ovek@transgaming.com>
	Direct3D header update.

	* include/d3dhal.h:
	Ove Kaaven <ovek@transgaming.com>
	New header d3dhal.h, the Direct3D HAL device driver interface.

	* dlls/msvcrt/wcs.c, dlls/ntdll/wcstring.c:
	Ove Kaaven <ovek@transgaming.com>
	Handle the %f case in wsprintf.

	* dlls/msvcrt/msvcrt.spec:
	Ove Kaaven <ovek@transgaming.com>
	Changed the spec definition of *s*printf from *str to ptr, since that
	parameter is a destination buffer that may only contain garbage on entry.

	* dlls/dplayx/Makefile.in, dlls/dplayx/dplayx.spec,
	  dlls/dplayx/version.rc, dlls/dplayx/.cvsignore:
	Ove Kaaven <ovek@transgaming.com>
	Add version resource to dplayx.dll, versioned to DirectX 7.0.

	* include/wine/wine_common_ver.rc:
	Ove Kaaven <ovek@transgaming.com>
	Generalize the Wine version resource template a bit.

	* dlls/shell32/shell32_Ca.rc, dlls/shell32/shell32_Cs.rc,
	  dlls/shell32/shell32_Da.rc, dlls/shell32/shell32_En.rc,
	  dlls/shell32/shell32_Eo.rc, dlls/shell32/shell32_Es.rc,
	  dlls/shell32/shell32_Fi.rc, dlls/shell32/shell32_Fr.rc,
	  dlls/shell32/shell32_Hu.rc, dlls/shell32/shell32_It.rc,
	  dlls/shell32/shell32_Ja.rc, dlls/shell32/shell32_Ko.rc,
	  dlls/shell32/shell32_Nl.rc, dlls/shell32/shell32_No.rc,
	  dlls/shell32/shell32_Pl.rc, dlls/shell32/shell32_Pt.rc,
	  dlls/shell32/shell32_Ru.rc, dlls/shell32/shell32_Sk.rc,
	  dlls/shell32/shell32_Sv.rc, dlls/shell32/shell32_Wa.rc:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Replace "System" font by "Helv" in shell32 "About" dialog.

	* dlls/ole32/ole2.c, dlls/ole32/ole2stubs.c, dlls/ole32/ole32.spec:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Implementation of OLE32.IsAccelerator.

	* dlls/ole32/storage32.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Return STG_E_FILEALREADYEXISTS in ole32.StgOpenStorage if the file is
	not a storage object.

	* objects/dc.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Move implementation of CreateDC16 to CreateDCA.

	* objects/gdiobj.c:
	Gavriel State <gav@transgaming.com>
	Allocate bitmap objects in the large heap area.

	* dlls/wineps/text.c:
	Andreas Mohr <a.mohr@mailto.de>
	Fixed 0 count handling in PSDRV_Text.

	* graphics/x11drv/xfont.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add MS Shell Dlg font to the set of default sans serif fonts.

	* dlls/msvcrt/time.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed MSVCRT_clock return type.

2001-04-13  Alexandre Julliard  <julliard@winehq.com>

	* documentation/printing.sgml:
	Added missing <listitem>.

	* server/file.c, server/mapping.c, server/object.h:
	Repaired shared PE data sections.

	* documentation/debugger.sgml:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Added note on using shell scripts as AeDebug setup, added
	BreakOnDllLoad variable.

	* dlls/msacm/pcmconverter.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	A few fixes.

	* dlls/msacm/driver.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed opening of some drivers.

	* dlls/winmm/wavemap/wavemap.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed callback parameters (bogus hWave); added acm conversion for
	waveIn.

	* dlls/winmm/mciwave/mciwave.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Allow MCI_SET to change waveFormat for recording.
	Fixed buffer handling on recording end.
	Fixed size of recorded data in mmio file.

	* dlls/winmm/wineoss/audio.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Fixed some buffers issue in recording.
	Zeroed unnecessary second parameter for WIM_DATA notification.

	* debugger/winedbg.c:
	Eric Pouech <eric.pouech@wanadoo.fr>
	Enhanced robustness at startup.

	* windows/msgbox.c:
	Andreas Mohr <a.mohr@mailto.de>
	Preliminary support for MB_*MODAL styles.

	* dlls/comctl32/status.c:
	Andreas Mohr <a.mohr@mailto.de>
	- *don't* MoveWindow() the status bar if CCS_NORESIZE is specified,
	  and use SetWindowPos instead for one of the MoveWindow()s
	- call STATUSBAR_GetInfoPtr *once* like Windows does, not twice (used to be
	  in every sub function, too)
	- remember hwndParent from create struct to use in at least WM_CREATE and
	  WM_SIZE instead of GetParent() like in Windows
	- added DefWindowProc call to WM_SIZE like in Windows
	- added InvalidateRect, UpdateWindow to WM_CREATE like in Windows
	- much more verbose +statusbar output
	- rename part_num to nPart for consistency
	- added nclm.cbSize to SystemParametersInfoA call
	- added FIXME to STATUSBAR_SetParts

	* dlls/commdlg/filedlg95.c:
	Gerard Patel <gerard.patel@asi.fr>
	Set the custom dialog box to the bottom of the Z-order.

2001-04-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dplayx/Makefile.in, dlls/dplayx/dpinit.h, dlls/dplayx/dplay.c,
	  dlls/dplayx/dplay_global.h, dlls/dplayx/dplaysp.c,
	  dlls/dplayx/dplayx_global.c, dlls/dplayx/dplayx_messages.c,
	  dlls/dplayx/dplayx_messages.h, dlls/dplayx/lobbysp.c,
	  dlls/dplayx/lobbysp.h, dlls/dplayx/name_server.c,
	  dlls/dplayx/name_server.h, include/dplay.h, include/objbase.h,
	  include/winerror.h, ole/uuid.c:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Provide lobby provider COM object header file and stub implementation
	- Break out dpl and dp service provider intialization
	- Add missing definition of E_PENDING
	- Resolve a few fixmes
	- Fix includes for dplay.h

	* controls/menu.c, include/message.h, windows/dialog.c, windows/message.c, windows/nonclient.c:
	Added first/last message filters to MSG_InternalGetMessage to avoid
	busy waits.

	* debugger/editline.c, dlls/kernel/kernel32.spec, include/wincon.h,
	  win32/console.c:
	Michael Stefaniuc <mstefani@redhat.de>
	- added stubs for three console functions
	- updated wincon.h

	* ole/ole2nls.c:
	James Hatheway <james@macadamian.com>
	Small typo fix.

	* windows/winpos.c:
	James Hatheway <james@macadamian.com>
	SetWindowRgn shouldn't activate the window.

2001-04-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/crtdll/crtdll_main.c:
	Francois Gouget <fgouget@free.fr>
	Fix the signature of __GetMainArgs and __getmainargs (from msvcrt).

	* dlls/msvcrt/Makefile.in, dlls/msvcrt/console.c, dlls/msvcrt/cpp.c,
	  dlls/msvcrt/ctype.c, dlls/msvcrt/data.c, dlls/msvcrt/dir.c,
	  dlls/msvcrt/environ.c, dlls/msvcrt/errno.c, dlls/msvcrt/exit.c,
	  dlls/msvcrt/file.c, dlls/msvcrt/heap.c, dlls/msvcrt/locale.c,
	  dlls/msvcrt/main.c, dlls/msvcrt/math.c, dlls/msvcrt/mbcs.c,
	  dlls/msvcrt/misc.c, dlls/msvcrt/msvcrt.h, dlls/msvcrt/msvcrt.spec,
	  dlls/msvcrt/process.c, dlls/msvcrt/string.c, dlls/msvcrt/thread.c,
	  dlls/msvcrt/time.c, dlls/msvcrt/wcs.c:
	Francois Gouget <fgouget@free.fr>
	Include the msvcrt headers, remove duplicate definitions.
	Fixed the signature of a few functions.
	Don't use wcs* functions, use *W (from unicode.h) instead.

	* include/tchar.h, include/windef.h, include/winnt.h:
	Francois Gouget <fgouget@free.fr>
	Prevent multiple definitions caused by MSVCRT headers.

	* dlls/Makedll.rules.in:
	Francois Gouget <fgouget@free.fr>
	Allow the Makefile.in to define EXTRADEFS and add it to DEFS.

	* include/msvcrt/sys/stat.h, include/msvcrt/sys/timeb.h,
	  include/msvcrt/sys/types.h, include/msvcrt/sys/utime.h,
	  include/Makefile.in, include/msvcrt/conio.h,
	  include/msvcrt/ctype.h, include/msvcrt/direct.h,
	  include/msvcrt/dos.h, include/msvcrt/fcntl.h, include/msvcrt/io.h,
	  include/msvcrt/process.h, include/msvcrt/stddef.h,
	  include/msvcrt/stdio.h, include/msvcrt/stdlib.h,
	  include/msvcrt/string.h, include/msvcrt/time.h,
	  include/msvcrt/wchar.h, include/msvcrt/wctype.h:
	Francois Gouget <fgouget@free.fr>
	Added headers for the msvcrt library.

	* controls/edit.c, windows/winproc.c:
	Added mappings for WM_CHARTOITEM and WM_MENUCHAR messages.
	Removed mapping of 16-bit edit messages in the generic routines.

	* programs/winemine/main.c:
	Pass the correct string length to RegSetValueExA.

	* dlls/advapi32/registry.c:
	RegSetValueExA/W: fixed REG_SZ string length handling for Win95.

	* dlls/winsock/socket.c, dlls/winsock/ws2_32.spec, include/winsock2.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	Added stub for WSASend.

	* dlls/ntdll/reg.c, server/registry.c:
	Fixed handling of \\Registry prefix.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/olepicture.c:
	Gerard Patel <gerard.patel@asi.fr>
	Stub for OleLoadPictureEx.

	* dlls/comctl32/comboex.c:
	Michael Stefaniuc <mstefani@redhat.de>
	Fix for small typo.

	* dlls/msvcrt/console.c, dlls/msvcrt/cpp.c, dlls/msvcrt/ctype.c,
	  dlls/msvcrt/data.c, dlls/msvcrt/dir.c, dlls/msvcrt/environ.c,
	  dlls/msvcrt/errno.c, dlls/msvcrt/except.c, dlls/msvcrt/exit.c,
	  dlls/msvcrt/file.c, dlls/msvcrt/heap.c, dlls/msvcrt/locale.c,
	  dlls/msvcrt/main.c, dlls/msvcrt/math.c, dlls/msvcrt/mbcs.c,
	  dlls/msvcrt/misc.c, dlls/msvcrt/msvcrt.h, dlls/msvcrt/msvcrt.spec,
	  dlls/msvcrt/process.c, dlls/msvcrt/string.c, dlls/msvcrt/thread.c,
	  dlls/msvcrt/time.c, dlls/msvcrt/wcs.c:
	Francois Gouget <fgouget@free.fr>
	Adjust the 'MSVCRT_' prefix to match the msvcrt headers
	Prefix internal methods with 'msvcrt_' instead of 'MSVCRT_', '__MSVCRT_', etc.
	Remove '_cdecl', it's unnecessary

2001-04-09  Alexandre Julliard  <julliard@winehq.com>

	* programs/winetest/test.pl, programs/winetest/wine.pm,
	  programs/winetest/wine.xs, programs/winetest/winetest.c:
	Store the function pointer in the %prototypes hash instead of the
	function name to avoid looking it up on every call.
	Fixed callback thunks to use stdcall calling convention.

	* relay32/relay386.c, scheduler/process.c, scheduler/thread.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Display thread id instead of %fs in relay trace.

	* dlls/kernel/time.c:
	James Hatheway <james@macadamian.com>
	Fill in StandardName field in struct returned from GetTimeZoneInformation.

	* dlls/kernel/kernel32.spec, dlls/ntdll/ntdll.spec,
	  dlls/user/user32.spec, dlls/advapi32/advapi32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Added some stubs for functions used by newer rpcrt4 dlls.

	* objects/dc.c: Francois Gouget <fgouget@free.fr>
	GetDeviceCaps: make sure the devCaps field is not NULL before
	dereferencing it.

	* dlls/ole32/compobj.c, include/wine/obj_base.h:
	Marcus Meissner <marcus@jet.franken.de>
	Arg 3 of CoGetClassObject is COSERVERINFO*, added some more debug.

	* dlls/comctl32/comctl_De.rc:
	Marcus Meissner <marcus@jet.franken.de>
	Translations for German language.

	* dlls/ole32/ole32.spec, dlls/ole32/storage32.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added GetConvertStg stub.

	* dlls/ddraw/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Actually print the guids in DllGetClassObject().

	* README, tools/wineinstall:
	Andreas Mohr <a.mohr@mailto.de>
	Added uninstall hints.

	* debugger/debugger.h, debugger/winedbg.c:
	James Hatheway <james@macadamian.com>
	Modify debugger to understand special undocumented "Name Thread"
	exception from MS VC6.

	* controls/combo.c, controls/listbox.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Really do not roll up if selection is being tracked by arrow keys in
	the dropdown listbox.

	* dlls/user/ddeml.c:
	Rein Klazes <rklazes@xs4all.nl>
	When calling CreateMutex() handle the case when the mutex is already
	created in another process.

	* dlls/comctl32/treeview.c:
	Gerard Patel <gerard.patel@asi.fr>
	After an item text changes, the rectangle width should be
	recalculated.

2001-04-04  Alexandre Julliard  <julliard@winehq.com>

	* windows/win.c:
	Don't use THREAD_IdToTEB in EnumThreadWindows.

	* unicode/wctomb.c:
	James Hatheway <james@macadamian.com>
	Make sure 'used' is set to 0 if no conversions take place.

	* dlls/comctl32/listview.c:
	Rein Klazes <rklazes@casema.net>
	Fixed scrolling of listview with a mouse wheel.

	* ole/ole2nls.c: Rein Klazes <rklazes@casema.net>
	Implement TIME_FORCE24HOURFORMAT and TIME_NOTIMEMARKER flags in
	OLE_GetFormatA.

	* windows/winproc.c, controls/menu.c, dlls/kernel/thunk.c,
	  dlls/winedos/module.c, files/drive.c, loader/ne/module.c,
	  msdos/int21.c, scheduler/thread.c:
	Added TASK_GetPtr/TASK_GetCurrent functions to get the TDB for a task
	handle.

	* include/task.h, loader/task.c, windows/message.c, windows/queue.c:
	Unified 16-bit and 32-bit scheduling a bit more.

	* msdos/dosconf.c:
	Don't call strtok twice if it failed the first time.

	* server/request.c:
	Make sure the process socket is non-blocking.
	Don't fail if nothing ready on recvmsg for a file descriptor.

	* include/wine/wingdi16.h, objects/font.c, include/wingdi.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix member names in NEWTEXTMETRICEX structs.

	* dlls/comctl32/treeview.c:
	Gerard Patel <gerard.patel@asi.fr>
	Erase the in-memory DC for treeview and fixes the rectangle calculation.

	* dlls/comctl32/header.c:
	Gerard Patel <gerard.patel@asi.fr>
	Set background mode to transparent before calling owner-drawn user
	handling.

2001-04-02  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makefile.in, dlls/wineps/Makefile.in, dlls/wineps/font.c,
	  dlls/wineps/init.c, dlls/wineps/psdrv.h, dlls/wineps/wineps.spec,
	  documentation/configuring.sgml, documentation/fonts.sgml,
	  documentation/printing.sgml, documentation/psdrv.reg,
	  documentation/wine-doc.sgml, documentation/wine-user.sgml:
	Ian Pilcher <ian.pilcher@home.com>
	Various registry-related PostScript driver enhancements.

	* controls/edit.c:
	Rein Klazes <rklazes@casema.net>
	Do not send the EN_CHANGE notification message until the selection
	start and end values are filled in.

	* windows/x11drv/keyboard.c:
	Gustavo Noronha Silva (KoV) <kov@debian.org>
	Added US international keyboard.

	* include/winuser.h, windows/sysparams.c:
	James Juran <jamesjuran@alumni.psu.edu>
	Add value 106 to SystemParametersInfo.

2001-03-31  Alexandre Julliard  <julliard@winehq.com>

	* programs/winetest/Makefile.PL, programs/winetest/Makefile.in,
	  programs/winetest/Makefile.win32, programs/winetest/wine.pm,
	  programs/winetest/wine.xs, programs/winetest/winetest.c:
	John F Sturtz <jsturtz@codeweavers.com>
	Added support for callback functions.

	* dlls/ole32/storage32.c:
	Gerard Patel <gerard.patel@asi.fr>
	Don't try to create file twice in the NULL filename case for
	StgCreateDocFile.

	* controls/edit.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Update format engine to reduce flicker.

2001-03-28  Alexandre Julliard  <julliard@winehq.com>

	* dlls/x11drv/x11drv_main.c:
	Added support for application-specific configuration for a few options
	(Desktop, Managed, ScreenDepth and Synchronous).

	* graphics/x11drv/dib.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed undefined C constructs (val assignment in expressions using it,
	postinc operators in macros).

	* loader/task.c, miscemu/main.c:
	Don't load user32 too early on for 16-bit apps, so that app-specific
	config can be available while loading it.

	* windows/win.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Get and print class name for right window in WIN_WalkWindows.

	* tools/winebuild/spec16.c, windows/user.c, dlls/user/user.spec,
	  if1632/builtin.c, include/builtin16.h:
	Always load the 32-bit dll containing a given 16-bit builtin.
	Check the module name in addition to the file name when loading a
	16-bit builtin dll.

	* dlls/x11drv/x11drv_main.c, graphics/x11drv/palette.c,
	  windows/x11drv/wnd.c, dlls/opengl32/wgl.c:
	Gavriel State <gav@transgaming.com>
	- Always use a double-buffered visual if one is available.
	- Ensure that all colormaps created use the double-buffered visual if
	  it exists. This prevents problems where DRI GL implementations fail
	  to work unless the colormap visual matches the window visual matches the
	  glX visual.
	- Get around similar visual issue with the default GL context created for
	  apps that don't create their own contexts before trying to use GL functions.

	* documentation/wine.man.in:
	Lawson Whitney <lawson_whitney@juno.com>
	Fixed command-line example.

2001-03-26  Alexandre Julliard  <julliard@winehq.com>

	* ChangeLog, include/version.h, ANNOUNCE:
	Release 20010326.

----------------------------------------------------------------
2001-03-26  Alexandre Julliard  <julliard@winehq.com>

	* documentation/samples/config:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added some additional defaults and samples to [fonts] section.

2001-03-23  Alexandre Julliard  <julliard@winehq.com>

	* misc/options.c, windows/dce.c, windows/win.c,
	  windows/x11drv/event.c, windows/x11drv/wnd.c,
	  dlls/x11drv/x11drv_main.c, documentation/samples/config,
	  documentation/wine.man.in, graphics/x11drv/xfont.c,
	  include/options.h, include/x11drv.h:
	Cleanup properly on x11drv unloading.
	Moved --synchronous option into config file.
	Removed --desktop, --display and --language command-line options.

	* dlls/winmm/mciwave/mciwave.c:
	James Hatheway <james@macadamian.com>
	- MCI_SAVE should overwrite its destination file.
	- widClose() is sometimes failing... MCI (in WAVE_mciRecordCallback)
	  shouldn't queue up buffers if it knows we are no longer recording.

	* dlls/user/user_main.c, files/profile.c, memory/local.c,
	  objects/gdiobj.c, objects/metafile.c, windows/user.c:
	Small dll separation fixes.

	* dlls/advapi32/registry.c:
	Use TEB static buffer for Unicode conversion.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Added handling of .hpp files (another extension for C++ headers).
	The wrapper code needs to import dlls too.
	All the generated wrapper files were identical, the 'variable'
	subsitution was done on the template itself. Oups!

	* dlls/version/info.c:
	Francois Gouget <fgouget@codeweavers.com>
	ConvertVersionInfo32To16: the end of the child list may also be marked
	by a 0-byte child.

2001-03-22  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/comm.c, files/file.c, include/file.h, include/server.h,
	  include/thread.h, scheduler/synchro.c, server/async.c,
	  server/object.h, server/request.h, server/serial.c, server/trace.c:
	Michael McCormack <mccormac@aals27.alcatel.com.au>
	Use poll() on the client-side during server waits to implement
	overlapped I/O.

	* include/server.h, scheduler/process.c, server/console.c,
	  server/trace.c, win32/console.c:
	Use the new send_fd mechanism for the set_console_fd server request.

	* dlls/shlwapi/reg.c, dlls/x11drv/x11ddraw.c, dlls/x11drv/xvidmode.c,
	  dlls/comctl32/comboex.c:
	Jeff Garzik <jgarzik@mandrakesoft.com>
	Added needed string.h includes.

2001-03-21  Alexandre Julliard  <julliard@winehq.com>

	* windows/dce.c, windows/dialog.c, windows/nonclient.c, windows/win.c,
	  windows/winpos.c, windows/x11drv/wnd.c:
	Cleaned up assumptions about WS_CHILD flag so that we can allow it to
	be changed in SetWindowLong.

	* dlls/ntdll/debugtools.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Increase debug buffer size up to 1024 bytes.

	* configure, configure.in, programs/Makefile.in,
	  programs/winetest/.cvsignore, programs/winetest/Makefile.PL,
	  programs/winetest/Makefile.in, programs/winetest/Makefile.win32,
	  programs/winetest/test.pl, programs/winetest/wine.pm,
	  programs/winetest/wine.xs, programs/winetest/winetest.c,
	  programs/winetest/winetest.spec:
	Added first version of the Perl regression testing framework.

	* documentation/samples/config, documentation/wine.conf.man.in,
	  loader/loadorder.c:
	Added "*" wildcard entry to DllOverrides to replace DllDefaults
	section; this way it can also be specified on a per-app basis.
	Removed compiled-in defaults for dlls mentioned in the sample config.
	Update man page.

	* dlls/ddraw/d3dtexture.c, dlls/winmm/mcicda/mcicda.c,
	  include/netspi.h, server/main.c, server/trace.c:
	Jeff Garzik <jgarzik@mandrakesoft.com>
	Warning fixes.

	* tools/winebuild/spec32.c, tools/wmc/mcl.c, scheduler/pthread.c,
	  scheduler/synchro.c, server/atom.c:
	Jeff Garzik <jgarzik@mandrakesoft.com>
	Added some inclusions of string.h where necessary.

	* loader/pe_image.c:
	Disable DONT_RESOLVE_DLL_REFERENCES for builtin dlls.

	* loader/module.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Allow loading of built-in dlls with LOAD_LIBRARY_AS_DATAFILE flag set.

	* dlls/winmm/wineoss/audio.c:
	Ove Kaaven <ovek@transgaming.com>
	Show an error if small enough fragment sizes couldn't be set.
	Force a complete close/reopen of the sound device if pause is
	requested in DirectSound mode (many drivers require this).

	* dlls/ddraw/ddraw/user.c:
	Ove Kaaven <ovek@transgaming.com>
	Remove obsolete and misleading FIXME.

	* dlls/gdi/gdi32.spec:
	Ove Kaaven <ovek@transgaming.com>
	Implemented Get/SetDeviceGammaRamp.

2001-03-20  Alexandre Julliard  <julliard@winehq.com>

	* documentation/samples/config, documentation/wine.man.in,
	  include/loadorder.h, include/options.h, loader/loadorder.c,
	  loader/main.c, loader/module.c, loader/ne/module.c, misc/options.c:
	- Added support for app-specific dll overrides using
	  AppDefaults\<appname>\DllOverrides configuration section.
	- Better support for multiple --dll options.
	- Added warning message to discourage putting multiple dlls in a
	  single override entry.

	* win32/except.c:
	Terminate process on unhandled ^C exception instead of launching the
	debugger.

	* dlls/ttydrv/dc.c, dlls/wineps/init.c,
	  graphics/enhmetafiledrv/init.c, graphics/metafiledrv/init.c,
	  graphics/win16drv/init.c, graphics/x11drv/init.c, include/gdi.h,
	  include/wingdi.h, objects/dc.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented Get/SetDeviceGammaRamp.

	* dlls/user/user32.spec, windows/win.c:
	Eric Kohl <ekohl@codeweavers.com>
	Added stubs for GetWindowsModuleFileName[A/W].

	* controls/combo.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Native version seems to always re-draw the selected text at the end of
	a rollup.

	* dlls/x11drv/x11ddraw.c, dlls/x11drv/x11ddraw.h,
	  dlls/x11drv/xvidmode.c, dlls/x11drv/xvidmode.h, include/x11drv.h:
	Ove Kaaven <ovek@transgaming.com>
	Added gamma ramp code to the XVidMode interface.

	* include/ddrawi.h:
	Ove Kaaven <ovek@transgaming.com>
	More DirectDraw HAL type declarations.

2001-03-19  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.in:
	Satsuki Fujishima <sf@freebsd.org>
	Fixed FreeBDS xpg4 check.

	* Make.rules.in, tools/Makefile.in, tools/specmaker/Makefile.in:
	Satsuki Fujishima <sf@freebsd.org>
	Use INSTALL_SCRIPT instead of INSTALL_PROGRAM for scripts.

	* include/wine/wine_common_ver.rc, dlls/oleaut32/.cvsignore,
	  dlls/oleaut32/Makefile.in, dlls/oleaut32/oleaut32.spec,
	  dlls/oleaut32/version.rc:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add version info for built-in oleaut32.dll.

	* controls/menu.c:
	Gerard Patel <gerard.patel@asi.fr>
	Fix system menu crash by ensuring that item->text is not null when
	MF_TEXT set.

	* include/ddraw.h:
	Ove Kaaven <ovek@transgaming.com>
	Added IDirectDrawGammaControl interface declaration.

	* dlls/version/info.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Truncate version data if provided buffer is not large enough.

	* dlls/dsound/dsound_main.c:
	Ove Kaaven <ovek@transgaming.com>
	Fixed sound disappearing after on-the-fly sample rate changes and
	after certain underrun conditions.
	Compilation fixes for when USE_DSOUND3D is defined.

	* windows/winpos.c: Ove Kaaven <ovek@arcticnet.no>
	Win2000: If both WS_EX_LAYERED and WS_EX_TRANSPARENT styles are set,
	mouse clicks should go straight through the window.

	* dlls/shell32/shellpath.c:
	Eric Kohl <ekohl@codeweavers.com>
	SHGetSpecialFolderPathA must be able to create a full path if it
	doesn't exist.

	* dlls/msvcrt/except.c, dlls/msvcrt/file.c, dlls/msvcrt/msvcrt.spec:
	Eric Kohl <ekohl@codeweavers.com>
	Added stub for _setjmp3().
	Implemented _sopen().

2001-03-16  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/comctl32.h, dlls/comctl32/commctrl.c,
	  dlls/comctl32/rsrc.rc:
	Gerard Patel <gerard.patel@asi.fr>
	Added version info.

	* graphics/x11drv/xfont.c, include/gdi.h, include/win16drv.h,
	  include/x11drv.h, objects/font.c, dlls/ttydrv/graphics.c,
	  dlls/ttydrv/ttydrv.h, dlls/wineps/font.c, dlls/wineps/psdrv.h,
	  graphics/win16drv/font.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Moved GetTextMetrics to unicode.

	* dlls/version/info.c, include/winver.h:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed prototype of GetFileVersionInfoA/W.

	* dlls/comctl32/comboex.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Documented things known to be unimplemented.
	- Implemented CBN_SELCHANGE, CBN_KILLFOCUS, and CBN_SELENDOK.
	- Corrected CBEN_ENDEDIT notifies to always have edit control text.
	- Locked "selected" state of icon to focus state of edit control (if
	  it exists) just like native.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Correct RBN_CHILDSIZE band rectangle to match native.
	- Correct flags in DeferWindowPos to SWP_NOZORDER to match native.
	- Make handling ComboBox and ComboBoxEx the same when moving child
	  windows.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Label the width and height correctly in the WINDOWPOS display.

	* include/winuser.h:
	Ove Kaaven <ovek@arcticnet.no>
	Added Win2000 WS_EX_LAYERED window style.

	* tools/wineshelllink:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Replaced one .kde with .kde2 in KDE2 menu code.

	* winedefault.reg: Ove Kaaven <ovek@arcticnet.no>
	Removed path from dplayx registry entry, so that the builtin dplayx
	can be loaded.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Set LD_LIBRARY_PATH if necessary before calling wrc & winebuild.

2001-03-14  Alexandre Julliard  <julliard@winehq.com>

	* dlls/version/info.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Return from GetFileVersionInfo(Size) if specified file found, but
	VS_VERSION_INFO resource not.

	* server/serial.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Removed broken support for EV_TXEMPTY because it causes busy loops.

	* server/async.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Add missing release object so server exits cleanly.

	* controls/menu.c:
	Gerard Patel <gerard.patel@asi.fr>
	Recalculate menu sizes if WM_INITMENU has recreated/changed something.

2001-03-13  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/nls/cht.nls:
	Hann-huei Chiou <koala@mana.ee.ntu.edu.tw>
	Updated.

	* dlls/kernel/kernel32.spec, include/winbase.h, include/winnt.h,
	  scheduler/thread.c:
	James Juran <jamesjuran@alumni.psu.edu>
	Added stub for SetThreadExecutionState (new function in Win98/2000).

	* windows/winproc.c:
	Rein Klazes <rklazes@casema.net>
	Fix Unicode/Ansi message translation for some listbox/combobox
	messages with a zero valued lparam. Output an error when the
	translation fails.

	* include/wingdi.h, objects/font.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix typo in OUTLINETEXTMETRIC definition.

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Yet another attempt on fixing notifications in the edit control.

	* documentation/samples/config:
	Marcus Meissner <marcus@jet.franken.de>
	Add some specific afmdirs as examples.

	* dlls/wineps/afm.c:
	Ian Pilcher <pilcher@concentric.net>
	Don't load AFM files from predefined directories; use [afmdirs]
	section in Wine config file instead.

2001-03-10  Alexandre Julliard  <julliard@winehq.com>

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed notifications of the edit control.

	* controls/static.c:
	Gerard Patel <gerard.patel@asi.fr>
	Call DefWindowProc for WM_CTLCOLORSTATIC message when the apps does
	not.

	* controls/combo.c, dlls/winmm/joystick/joystick.c, dlls/winmm/mmio.c,
	  loader/loadorder.c:
	Francois Gouget <fgouget@codeweavers.com>
	Fixed spelling/typos in comments.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Added missing extension for 'ole32.dll'.

	* include/winbase.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added CreateRemoteThread.

	* dlls/shell32/shell32_main.c:
	James Juran <jamesjuran@alumni.psu.edu>
	Implement SHGetFileInfoW by calling SHGetFileInfoA.

	* dlls/commdlg/filedlg95.c, dlls/shell32/shlfolder.c:
	Gerard Patel <gerard.patel@asi.fr>
	Handle empty strings and invalid values in lpstrInitialDir for 32 bits
	open file dialogs.

2001-03-08  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/Makefile.in:
	Added version16.rc in RC_SRCS list.

	* scheduler/client.c, scheduler/synchro.c, scheduler/thread.c,
	  server/request.c, server/request.h, server/thread.c, server/trace.c,
	  include/server.h, include/thread.h:
	Added support for nested server waits (to allow waiting in signal
	handlers).

	* README, tools/winecheck:
	Andreas Mohr <a.mohr@mailto.de>
	Added a perl script to check many aspects of Wine configuration.

	* dlls/commdlg/finddlg32.c:
	Gerard Patel <gerard.patel@asi.fr>
	LPARAM in find dialog wm_initdialog is the find/replace structure, not
	custdata.

	* dlls/kernel/nls/lvi.nls:
	Nerijus Baliunas <nerijus@users.sourceforge.net>
	Updated Latvian date format.

	* tools/wineshelllink:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Added SHELL linking of KDE2 desktop/menu entries.

2001-03-05  Alexandre Julliard  <julliard@winehq.com>

	* include/version.h, ANNOUNCE, ChangeLog:
	Release 20010305.

----------------------------------------------------------------
2001-03-05  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c:
	Francois Gouget <fgouget@codeweavers.com>
	Update nSelectionMark and nFocusedItem when inserting/deleting/sorting
	items.
	SortItems: If sorting less than 2 items, do nothing.

	* win32/file.c, scheduler/process.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Implemented SetFileApisToOEM, SetFileApisToANSI and AreFileApisANSI.

	* dlls/comctl32/pager.c:
	Susan Farley <susan@codeweavers.com>
	- Background of the child wnd should be erased with the same color as
	  the control.
	- Default scroll amount should be the minimum client area.

	* windows/dialog.c:
	Gerard Patel <gerard.patel@asi.fr>
	Unblock the dialog message loop with a WM_NULL message.

	* graphics/x11drv/dib.c:
	Vedran Rodic <vedran@renata.irb.hr>
	Made 8 bpp to 24 bit depth conversion in X11DRV_DIB_SetImageBits_8
	faster by using inline asm.

	* tools/specmaker/misc.c, server/debugger.c, server/registry.c, graphics/x11drv/xfont.c, programs/winhelp/hlpfile.c, files/dos_fs.c, files/drive.c, dlls/winmm/mmio.c:
	Changed isolated for loops to while loops (based on a patch by Andreas
	Mohr).

	* dlls/oleaut32/typelib.c:
	Andreas Mohr <a.mohr@mailto.de>
	The for loop in ITypeLib2_fnFindName was wrong (extra ';').

	* files/file.c: Andreas Mohr <a.mohr@mailto.de>
	GetFileInformationByHandle() fails for pipe handles according to
	MSDN, and also for serial handles (FILE_TYPE_CHAR in general ?).

	* dlls/gdi/gdi_main.c, graphics/driver.c:
	Ian Pilcher <pilcher@concentric.net>
	Don't load the WINEPS driver until it's needed.

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Make EDIT_UnlockBuffer cope with destroyed windows.

2001-03-04  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/kernel_main.c, memory/heap.c:
	We need to create the system heap at startup even though we don't use
	it, since some Win95 native dlls depend on that.

	* dlls/opengl32/make_opengl, dlls/opengl32/opengl32.spec, dlls/opengl32/opengl_ext.c, dlls/opengl32/opengl_norm.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	 - add tracing to OpenGL thunks
	 - update to latest gl.spec file

	* windows/winpos.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add DCX_CLIPSIBLINGS to flags for DCE_GetVisRgn only if window has
	WS_CLIPSIBLINGS bit set.

	* dlls/comctl32/listview.c:
	Francois Gouget <fgouget@codeweavers.com>
	In LISTVIEW_AddGroupSelection and LISTVIEW_SetGroupSelection, if no
	selection mark has been set, just select the current item.
	In LISTVIEW_SetGroupSelection we must also set the selection mark in
	that case (and only in that case).
	Removed a naughty ';' (spotted by Eric Pouech).

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	If a target has C++ sources, then use g++ to link it (fixes #162).
	Removed SONAME, it's not relevant for dlls and was unused anyway.

2001-03-03  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/client.c: Fixed file descriptor leak.

	* dlls/winmm/wineoss/midi.c, documentation/samples/config, files/directory.c, windows/x11drv/keyboard.c:
	Andreas Mohr <a.mohr@mailto.de>
	Some more message cleanups.

	* dlls/dsound/dsound_main.c: Chris Jacobson
	Small bug fix.

	* dlls/commdlg/filedlg.c:
	Gerard Patel <gerard.patel@asi.fr>
	Initialize the return error code to 0 for common dialog file
	functions.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Add files found in an 'include' directory, to the 'misc sources' list.

2001-03-01  Alexandre Julliard  <julliard@winehq.com>

	* server/file.c, server/process.c, server/request.c, server/request.h, server/thread.c, server/thread.h, server/trace.c, files/file.c, include/server.h, include/thread.h, scheduler/client.c, scheduler/process.c, scheduler/sysdeps.c, scheduler/thread.c:
	Create the server pipes on the client side and transfer them to the
	server on thread creation.
	Use a single per-process socket instead of one per thread for
	transferring file handles between client and server.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Reenable the wrapper support.

	* dlls/wineps/afm.c:
	Ian Pilcher <pilcher@concentric.net>
	Squash another AFM character metrics parsing bug.

2001-02-28  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/client.c, server/file.c, server/process.c, server/process.h, server/request.c, server/request.h, server/thread.c, server/thread.h, server/trace.c, files/file.c, include/server.h:
	New mechanism to transfer file descriptors from client to server.

	* windows/x11drv/keyboard.c:
	Johannes.Schindelin@gmx.de
	Some minor changes to the German keyboard layout.

	* windows/winpos.c:
	Dominik Strasser <dominik.strasser@mchp.siemens.de>
	Avoid crash at end of list.

	* dlls/wineps/afm.c:
	Ian Pilcher <pilcher@concentric.net>
	Fix bug in AFM character width parsing.

	* win32/device.c, windows/winpos.c, dlls/ole32/antimoniker.c, dlls/ole32/bindctx.c, dlls/ole32/clipboard.c, dlls/ole32/compositemoniker.c, dlls/ole32/filemoniker.c, dlls/ole32/itemmoniker.c, dlls/ole32/moniker.c, dlls/ole32/storage32.c, dlls/oleaut32/typelib.c, dlls/oleaut32/variant.c, dlls/shell32/shlfolder.c, dlls/user/ddeml.c, dlls/user/exticon.c, graphics/x11drv/graphics.c, include/ddraw.h, objects/metafile.c, programs/notepad/main.c, debugger/types.c, dlls/comctl32/listview.c, dlls/comctl32/pager.c, dlls/comctl32/toolbar.c, dlls/dplayx/dplay.c, dlls/msvcrt/process.c:
	Francois Gouget <fgouget@free.fr>
	Small 'typos in comments' fixes.

	* include/module.h, include/task.h, include/thread.h, loader/ne/module.c, loader/task.c, scheduler/process.c, scheduler/thread.c, dlls/kernel/kernel_main.c:
	Use the standard CreateThread routine to create 16-bit tasks instead
	of duplicating the code.

	* dlls/winspool/wspool.c, dlls/winspool/info.c:
	Removed dependency on comctl32.

	* include/winnt.h:
	François Gouget <fgouget@codeweavers.com>
	WINE_UNICODE_TEXT was incorrect.
	Dropped support for WINE_UNICODE_TEXT('c') in C.

	* dlls/wsock32/socket.c, dlls/wsock32/wscontrol.h:
	Michael Stefaniuc <mstefani@redhat.de>
	Implemented WsControl command with id 0x101.

	* dlls/kernel/nls/afk.nls, dlls/kernel/nls/bel.nls, dlls/kernel/nls/bgr.nls, dlls/kernel/nls/cat.nls, dlls/kernel/nls/cze.nls, dlls/kernel/nls/dea.nls, dlls/kernel/nls/dec.nls, dlls/kernel/nls/del.nls, dlls/kernel/nls/des.nls, dlls/kernel/nls/esm.nls, dlls/kernel/nls/esn.nls, dlls/kernel/nls/esp.nls, dlls/kernel/nls/euq.nls, dlls/kernel/nls/fin.nls, dlls/kernel/nls/fra.nls, dlls/kernel/nls/frb.nls, dlls/kernel/nls/frc.nls, dlls/kernel/nls/frl.nls, dlls/kernel/nls/frs.nls, dlls/kernel/nls/grc.nls, dlls/kernel/nls/hun.nls, dlls/kernel/nls/ind.nls, dlls/kernel/nls/isl.nls, dlls/kernel/nls/ita.nls, dlls/kernel/nls/its.nls, dlls/kernel/nls/jpn.nls, dlls/kernel/nls/nlb.nls, dlls/kernel/nls/nld.nls, dlls/kernel/nls/non.nls, dlls/kernel/nls/nor.nls, dlls/kernel/nls/plk.nls, dlls/kernel/nls/ptb.nls, dlls/kernel/nls/ptg.nls, dlls/kernel/nls/rom.nls, dlls/kernel/nls/sky.nls, dlls/kernel/nls/slv.nls, dlls/kernel/nls/sve.nls, dlls/kernel/nls/trk.nls:
	Przemyslaw Bruski <f66336pb@ask.eti.pg.gda.pl>
	Added LOCALE_IDEFAULTMACCODEPAGE definition in most nls files.

2001-02-27  Alexandre Julliard  <julliard@winehq.com>

	* windows/queue.c, scheduler/client.c, scheduler/handle.c, scheduler/pipe.c, scheduler/process.c, scheduler/synchro.c, scheduler/thread.c, scheduler/timer.c, server/request.c, server/thread.c, server/thread.h, tools/make_requests, win32/console.c, win32/device.c, win32/except.c, loader/module.c, loader/ne/module.c, loader/pe_image.c, memory/atom.c, memory/registry.c, memory/selector.c, memory/virtual.c, misc/registry.c, dlls/ntdll/exception.c, dlls/ntdll/nt.c, dlls/ntdll/ntdll.spec, dlls/ntdll/om.c, dlls/ntdll/reg.c, dlls/ntdll/sync.c, dlls/winsock/socket.c, files/change.c, files/dos_fs.c, files/file.c, include/server.h, include/thread.h, dlls/advapi32/registry.c, dlls/kernel/comm.c, dlls/kernel/debugger.c, dlls/kernel/sync.c, dlls/kernel/toolhelp.c:
	New set of macros for server calls; makes requests without variable
	part somewhat faster.

	* scheduler/pthread.c:
	Moved PTHREAD_init_done out of the #ifdef.

2001-02-26  Alexandre Julliard  <julliard@winehq.com>

	* controls/menu.c, dlls/kernel/kernel32.spec, dlls/kernel/time.c, dlls/user/user32.spec, windows/syscolor.c, windows/user.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added a few missing stubs to KERNEL32 and USER32.

	* tools/winelauncher.in:
	Ove Kaaven <ovek@arcticnet.no>
	Handle filenames with spaces.

	* dlls/commdlg/printdlg.c:
	Gerard Patel <gerard.patel@asi.fr>
	Map 32 bits resource for 16 bits print dialog.

	* controls/listbox.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Use GetSysColorBrush(COLOR_WINDOW) when there is no brush for drawing
	background in listbox.

	* dlls/shell32/shlfileop.c:
	David Grant <dave@reach.net>
	Added (partial) support for FO_COPY and FO_DELETE.

2001-02-23  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/resources/.cvsignore, dlls/user/resources/user32.rc, dlls/user/resources/version.rc, dlls/user/resources/version16.rc, dlls/version/info.c, include/wine/wine_common_ver.rc, dlls/kernel/.cvsignore, dlls/kernel/Makefile.in, dlls/kernel/kernel.rc, dlls/kernel/kernel.spec, dlls/kernel/kernel32.spec, dlls/kernel/version.rc, dlls/kernel/version16.rc, dlls/user/Makefile.in, dlls/user/user.spec, dlls/gdi/.cvsignore, dlls/gdi/Makefile.in, dlls/gdi/gdi.spec, dlls/gdi/gdi32.spec, dlls/gdi/version.rc, dlls/gdi/version16.rc:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add version information (16 and 32 bit) to core built-in dlls:
	krnl386.exe/kernel32.dll, user.exe/user32.dll, gdi.exe/gdi32.dll.
	Provide a way for reading version information using standard API:
	GetFileVersionInfoSize -> GetFileVersionInfo -> VerQueryValue.

	* include/heap.h, memory/heap.c, scheduler/process.c, scheduler/pthread.c:
	Only create the system heap when we actually need it.

	* files/dos_fs.c, memory/global.c:
	Allocations do not need to be on the system heap.

	* dlls/comctl32/pager.c:
	Susan Farley <susan@codeweavers.com>
	Horiz/Vert determination must be dynamic, as the style may not be set
	upon creation; improved positioning and scrolling.

	* include/commctrl.h:
	Susan Farley <susan@codeweavers.com>
	Avoid alignment problems with NMPGSCROLL struct.

	* windows/sysparams.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Replace fixme for SPI_GETWHEELSCROLLLINES with the default value of 3.

	* controls/button.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Prepare background while drawing radio buttons and checkboxes.

	* windows/x11drv/clipboard.c:
	Aric Stewart <aric@codeweavers.com>
	- We need to make sure we pay attention to if our call to
	  SetClipboardData from the X11DRV version of the function works. If not
	  we need to delete the global block we allocated. This is a sever memory
	  leak with large clipboard items.
	- If an X selection it too large then X may give it to us in chunks,
	  we were not handling this well.

	* dlls/kernel/nls/ukr.nls:
	Valery Kartel <kvn@igk.kiev.ua>
	Updated all fields with Ukrainian values.

	* controls/menu.c, controls/scroll.c, dlls/ttydrv/wnd.c, windows/cursoricon.c, windows/dce.c, windows/defwnd.c, windows/mdi.c, windows/message.c, windows/property.c, windows/queue.c, windows/winpos.c, windows/x11drv/wnd.c:
	Do not allocate any USER data on the system heap.

	* include/Makefile.in, include/cpl.h, include/winuser.h, dlls/shell32/Makefile.in, dlls/shell32/control.c, dlls/shell32/iconcache.c, dlls/shell32/shell32.spec, dlls/shell32/shell32_main.c, dlls/shell32/shellord.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	A first stab at implementing the RunDll features.

	* dlls/kernel/comm.c:
	Andreas Mohr <a.mohr@mailto.de>
	BuildCommDCB16 had a rather broken baud rate handling.

	* tools/winelauncher.in:
	Ove Kaaven <ovek@arcticnet.no>
	Made the winelauncher support winelib app invocations. Fixed a few
	file path issues.

2001-02-21  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/kernel.spec, include/server.h, include/thread.h, scheduler/client.c, scheduler/synchro.c, scheduler/thread.c, server/request.c, server/request.h, server/thread.c, server/thread.h, server/trace.c:
	Added separate server pipe to wait on blocking server calls.
	Send the complete request/reply through the request fifo instead of
	just a dummy byte.
	Convert error status to text in server reply tracing.

	* dlls/shell32/shlfileop.c, dlls/shell32/shlfolder.c, dlls/shell32/shres.rc, dlls/shell32/shresdef.h:
	Chris Morgan <cmorgan@codeweavers.com>
	Confirm file deletes.  Make delete confirmation messages more
	consistent. Improve trace messages on delete failure.

	* dlls/shell32/shell32_main.h, dlls/shell32/shlview.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Add shell support for deleting files using the Delete key.

	* dlls/winspool/info.c, dlls/winspool/winspool.drv.spec, include/winspool.h:
	Ian Pilcher <pilcher@concentric.net>
	Implement EnumPrinterDataEx{A|W}.

	* dlls/commdlg/comdlg32.spec, dlls/msacm/msacm32.spec, dlls/msnet32/msnet32.spec, dlls/msvideo/msvfw32.spec:
	Removed some unnecessary ordinals.

	* dlls/crtdll/crtdll_main.c, dlls/msvcrt/data.c, dlls/msvcrt/msvcrt.h:
	__getmainargs last argument is a pointer to new_mode.

2001-02-20  Alexandre Julliard  <julliard@winehq.com>

	* server/mapping.c, server/request.h, server/trace.c, include/server.h, memory/virtual.c, scheduler/client.c:
	Small server protocol cleanups.

	* dlls/olecli/olecli.spec, dlls/olecli/olecli32.spec, dlls/olecli/olecli_main.c:
	Gerard Patel <gerard.patel@asi.fr>
	Stub for OleSavedClientDoc.

	* dlls/comctl32/treeview.c:
	Aric Stewart <aric@codeweavers.com>
	Insert the item before calling a SetFirstVisible which can generate a
	WM_PAINT message.

	* library/port.c:
	Clear %ebp before entering the new thread.

	* dlls/winsock/socket.c:
	Got rid of the WSINFO structure. Fixed a couple of bugs.

	* dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c:
	Fixed __GetMainArgs.

	* ANNOUNCE, README, documentation/wine.man.in:
	Joerg Mayer <jmayer@loplof.de>
	Add information about prebuilt documentation packages in
	other-than-sgml form.

	* windows/clipboard.c:
	Aric Stewart <aric@codeweavers.com>
	We need to give room for the null termination when translating the
	clipboard text.

	* dlls/comctl32/comboex.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Implement CB_SETCURSEL, CBEM_DELETEITEM, CBEM_GETITEM,
	  CBEM_{GET|SET}UNICODEFORMAT, CB_FINDSTRINGEXACT, WM_COMMAND,
	  WM_DELETEITEM.
	- Implement extended style CBES_EX_NOEDITIMAGE, and warn others are
	  not yet implemented.
	- Restructure DrawItem code to do things more rationally.

	* controls/combo.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Restructure PaintText code to remove FillRect from owner-drawn path.
	- Change SetFocus to indicate focus set only after Notify is sent to owner.
	- Get more info in a trace.

	* files/dos_fs.c: Rein Klazes <rklazes@casema.net>
	Correct error message in case DOSFS_OpenDevice() fails on a COMx
	device.

	* miscemu/main.c, objects/palette.c, win32/except.c, dlls/winedos/dosvm.c, if1632/thunk.c, include/callback.h, loader/task.c:
	Removed a few Callout functions by doing a GetProcAddress at the time
	we actually need the function.

	* memory/virtual.c:
	Fixed MEM_SYSTEM handling to avoid unmapping areas that we didn't mmap.

	* dlls/msvcrt/data.c, dlls/msvcrt/msvcrt.spec:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix prototypes of MSVCRT___getmainargs and MSVCRT___wgetmainargs.
	Protect MSVCRT__acmdln global variable from corruption.

	* include/winnt.h:
	Josh DuBois <duboisj@codeweavers.com>
	Moved typedef of CRITICAL_SECTION out of #pragma pack(1) block.

	* dlls/comctl32/toolbar.c:
	Eric Kohl <ekohl@codeweavers.com>
	Fixed behaviour of dropdown buttons. When a dropdown button is
	clicked, it does not change into pressed state.

	* objects/enhmetafile.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Better implementation of EMF record EMR_EXTSELECTCLIPRGN.

	* dlls/commdlg/cdlg_De.rc:
	Marcus Meissner <marcus@jet.franken.de>
	Translated new common dialog resources into German.
	Resized file dialog a bit to make toolbar completely visible again.

	* dlls/shell32/shell32_De.rc:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed German translation, changed dialog font to Helvetica.

2001-02-16  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, include/version.h:
	Release 20010216.

----------------------------------------------------------------
2001-02-16  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/debugtools.c:
	Chris Morgan <cmorgan@wpi.edu>
	Assert on output buffer overflow.

	* dlls/comctl32/listview.c:
	James Hatheway <james@macadamian.com>
	Update selection after sorting (in LISTVIEW_SortItems) by making sure
	selection list matches states of individual items.

	* graphics/x11drv/graphics.c:
	François Gouget <fgouget@codeweavers.com>
	Added DIB/pixmap synchronization for {Get,Set}Pixel.

	* dlls/comctl32/toolbar.c:
	François Gouget <fgouget@codeweavers.com>
	TB_SETBUTTONSIZE messages must be taken into account even after
	buttons have been added.

	* include/server.h, scheduler/process.c, server/console.c, server/process.c, server/trace.c, win32/console.c:
	Pass the stdin/stdout handles on startup to use as console (based on a
	patch by Eric Pouech).

	* windows/x11drv/keyboard.c:
	Aric Stewart <aric@codeweavers.com>
	Correct the codepage for the Turkish keyboard.

	* dlls/comctl32/toolbar.c:
	Aric Stewart <aric@codeweavers.com>
	Setting the HotItem to -1 can be disastrous at times if it equals
	oldhit.

	* tools/specmaker/dll.c, tools/specmaker/main.c, tools/specmaker/msmangle.c, tools/specmaker/output.c, tools/specmaker/search.c, tools/specmaker/specmaker.h, tools/specmaker/symbol.c, tools/specmaker/README:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- Create entries for ordinal only exports, use ordinals if non-standard.
	- Improve C++ demangler, recognise data types, fix some bugs.

	* files/directory.c, files/dos_fs.c, files/file.c:
	Gerard Patel <gerard.patel@asi.fr>
	Gives back the ERROR_FILE_NOT_FOUND to GetFileAttributes.

2001-02-15  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/parser.c:
	Added support for backslash escaping of special characters.

	* dlls/version/info.c:
	Lawson Whitney <lawson_whitney@juno.com>
	If VerQueryValueA is called with a PE resource, translate the call to
	VerQueryValueW.

	* dlls/comctl32/toolbar.c:
	Aric Stewart <aric@codeweavers.com>
	Continued the implementation of Set Hot Item.

	* dlls/comctl32/listview.c:
	James Hatheway <james@macadamian.com>
	Send LVN_DELETEITEM notification first, to avoid crashes if the app
	requests LVIF_PARAM with LISTVIEW_GetItem() during its LVN_DELETEITEM
	message handler.

	* dlls/wininet/ftp.c, dlls/wininet/http.c, dlls/wininet/internet.h:
	Chris Morgan <cmorgan@codeweavers.com>
	Add includes for <time.h>.

	* dlls/wineps/afm.c:
	Morten Welinder <terra-wine@diku.dk>
	(PSDRV_AFMGetCharMetrics): Use unsigned chars (since isspace is used).
	(PSDRV_AFMParse): Don't crash on missing font name.  Use unsigned
	chars.  Fix peculiar inconsistent indentation.  Don't leak a FILE.
	Catch problematic files with no line feed in them.  Don't mix
	characters and integers.  Don't overrun the buffer.

	* windows/x11drv/keyboard.c:
	Aric Stewart <aric@codeweavers.com>
	Added a turkish keyboard layout.

2001-02-14  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/kernel32.spec:
	Removed ordinal from functions that don't need a specific value.

	* scheduler/sysdeps.c, scheduler/thread.c, win32/console.c, win32/device.c, win32/except.c, win32/file.c, win32/init.c, win32/newfns.c, win32/time.c, graphics/x11drv/oembitmap.c, if1632/builtin.c, if1632/relay.c, misc/registry.c, objects/bitmap.c, objects/brush.c, objects/clipping.c, objects/dc.c, objects/dcvalues.c, objects/dib.c, objects/enhmetafile.c, objects/linedda.c, objects/metafile.c, objects/palette.c, objects/pen.c, objects/region.c, objects/text.c, ole/ole2nls.c, scheduler/client.c, scheduler/handle.c, scheduler/process.c, dlls/avifil32/avifile.c, graphics/bitblt.c, graphics/enhmetafiledrv/init.c, graphics/env.c, graphics/escape.c, graphics/mapping.c, graphics/metafiledrv/init.c, graphics/painting.c, graphics/path.c, graphics/win16drv/prtdrv.c, dlls/advapi32/advapi.c, dlls/advapi32/crypt.c, dlls/advapi32/eventlog.c, dlls/advapi32/registry.c, dlls/advapi32/security.c, dlls/advapi32/service.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation ordinal fixes.

	* graphics/enhmetafiledrv/objects.c, graphics/metafiledrv/objects.c, graphics/win16drv/font.c, graphics/x11drv/xfont.c, include/font.h, include/gdi.h, include/win16drv.h, include/x11drv.h, objects/font.c, objects/gdiobj.c, dlls/wineps/font.c, dlls/wineps/psdrv.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Change FONTOBJ to use LOGFONTW rather than LOGFONT16.
	Updated parameters of DEVICEFONTENUMPROC.

	* windows/defwnd.c:
	Fixed WM_GETTEXTLENGTH handling.

	* dlls/Makefile.in, dlls/winmm/mciavi/.cvsignore, dlls/winmm/mciavi/Makefile.in, dlls/winmm/mciavi/info.c, dlls/winmm/mciavi/mciavi.c, dlls/winmm/mciavi/mciavi.drv.spec, dlls/winmm/mciavi/mciavi_res.rc, dlls/winmm/mciavi/mmoutput.c, dlls/winmm/mciavi/private_mciavi.h, dlls/winmm/mciavi/wnd.c, include/Makefile.in, include/mciavi.h, include/vfw.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Started the real implementation of mciavi.

	* dlls/advapi32/registry.c:
	Always return success instead of overflow if caller didn't specify a
	buffer.

	* tools/wineconf:
	Morten Welinder <terra-wine@diku.dk>
	Output the right number of backslashes in values.

	* windows/spy.c:
	François Gouget <fgouget@codeweavers.com>
	Be smarter about the ellipsis in SPY_GetWndName.

	* dlls/richedit/richedit.c, memory/heap.c, programs/regapi/regapi.c, windows/cursoricon.c:
	François Gouget <fgouget@codeweavers.com>
	Misc typos in comments.

	* dlls/comctl32/listview.c:
	François Gouget <fgouget@codeweavers.com>
	ListView_GetItemRect already sets rc.left.

	* controls/menu.c, dlls/comctl32/toolbar.c, ole/ole2nls.c:
	François Gouget <fgouget@codeweavers.com>
	debugstr_xxx already does the quoting.

	* dlls/comctl32/comctl32undoc.c:
	François Gouget <fgouget@codeweavers.com>
	Change the callback declarations to a safer format.

	* documentation/wine.man.in:
	Lawson Whitney <lawson_whitney@juno.com>
	Tune the doco to the code for relay/snoop specific.

	* dlls/winsock/socket.c, dlls/kernel/comm.c, dlls/shell32/shres.rc, dlls/winmm/mmsystem.c:
	Andreas Mohr <amohr@codeweavers.com>
	Cosmetics.

	* win32/device.c:
	Andreas Mohr <amohr@codeweavers.com>
	Give both --winver nt40 and win31 for VxD warning, as some programs
	work with win31.

	* dlls/ddraw/ddraw/thunks.c, dlls/ddraw/ddraw_private.h, dlls/ddraw/struct_convert.c:
	Andreas Mohr <amohr@codeweavers.com>
	- correct DDRAW_Convert_DDDEVICEIDENTIFIER_2_To_1 confusion
	- fix GetAvailableVidMem ddraw iface copy&paste bug (doh !)

	* dlls/x11drv/x11ddraw.c, dlls/x11drv/x11drv_main.c, dlls/x11drv/xvidmode.c, dlls/x11drv/xvidmode.h, dlls/x11drv/Makefile.in:
	Ove Kaaven <ovek@transgaming.com>
	Guts of a simple XVidMode-supporting DirectDraw HAL in x11drv.

	* files/file.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	SetLastError() for GetFileAttributesA.

	* windows/defwnd.c:
	Susan Farley <susan@codeweavers.com>
	Exception for allowing the parent to set the cursor for a child wnd is
	when the cursor is on the border of a resizable wnd.

	* controls/menu.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Convert menu item to seperator only when string is NULL.

2001-02-13  Alexandre Julliard  <julliard@winehq.com>

	* include/dciddi.h, include/ddrawi.h:
	Ove Kaaven <ovek@transgaming.com>
	Some important stuff from the DirectDraw DDK headers.

	* include/wine/library.h, library/loader.c, scheduler/process.c:
	Josh DuBois <duboisj@codeweavers.com>
	More verbose error messages when application load fails.

	* include/winnt.h, misc/cpu.c, win32/newfns.c:
	James Abbatiello <jabbey@codeweavers.com>
	Use the Pentium's rdtsc instruction (if available) to implement
	QueryPerformanceCounter.

	* tools/winapi_check/win16/winnls.api, tools/winapi_check/win32/dciman32.api, tools/winapi_check/modules.dat, tools/winapi_check/winapi_documentation.pm:
	Patrik Stridvall <ps@leissner.se>
	- Minor API files fixes
	- Minor bug fixes

	* dlls/winnls/winnls.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* dlls/wineps/afm.c:
	Peter H. Ganten <peter@ganten.org>
	- only parse AFM-files, which start with "BeginFontMetrics"
	- use fgetc instead of fgets to cope with AFM-Files with
	  Macintosh-Style line-breaks ('\r') in the parser.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/reg.c, dlls/shlwapi/shlwapi.spec, dlls/shlwapi/shlwapi_main.c, dlls/shlwapi/url.c, tools/winapi_check/win32/shlwapi.api:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Implement a bunch of shlwapi functions, add some new stubs.

	* graphics/x11drv/dib.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added RGB 565 => RGB 0888 conversion.

	* dlls/shell32/shlview.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Implement keyboard shortcut F2 to rename files and directories in the
	shellview (and in common dialogs).

	* tools/winebuild/build.h, tools/winebuild/import.c, tools/winebuild/parser.c, tools/winebuild/relay.c, tools/winebuild/spec16.c, tools/winebuild/spec32.c, tools/winebuild/utils.c:
	Josh DuBois <duboisj@codeweavers.com>
	More portable .align directive.
	Ignore -delay directive on ppc only.
	Added code to call the dll constructors.

	* include/winnt.h:
	Josh DuBois <duboisj@codeweavers.com>
	Defined architecture-specific macros for ppc.

	* controls/menu.c:
	Marcus Meissner <marcus@jet.franken.de>
	Don't crash on close from window manager.

	* windows/message.c:
	Marcus Meissner <marcus@jet.franken.de>
	PostMessageA/W ignores messages containing pointers and returns
	FALSE/LastError ERROR_INVALID_PAREMETER.

	* windows/cursoricon.c:
	François Gouget <fgouget@codeweavers.com>
	CreateIcon must perform color depth conversion if the provided bitmap
	is not of the same depth as the screen.
	Added some documentation.

2001-02-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/printdlg.c:
	Duane Clark <dclark@akamail.com>
	- make the Landscape/Portrait buttons do something.
	- fix these problems in the Paper Size and Source combo boxes:
	  1) Every time the printer setup dialog is opened, the settings
	  are set back to garbage settings.
	  2) If the paper size or source is changed, and then the printer is
	  changed, the new printer does not get the new size and source
	  settings even though it appears to from the dialog.

	* graphics/x11drv/dib.c, objects/dib.c:
	James Abbatiello <jabbey@codeweavers.com>
	In CreateDIBSection, the offset into the file mapping does not have to
	be a multiple of the memory allocation granularity.

	* include/commctrl.h:
	Francois Gouget <fgouget@free.fr>
	Add missing definitions required by the Control Spy examples.

	* objects/enhmetafile.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Implement playing of EMR_BITBLT, EMR_STRETCHBLT, EMR_MASKBLT,
	EMR_PLGBLT, EMR_SETDIBITSTODEVICE, EMR_POLYTEXTOUTA, EMR_POLYTEXTOUTW,
	EMR_FILLRGN, EMR_FRAMERGN, EMR_INVERTRGN, EMR_PAINTRGN enhanced
	metafile record types according to specs.

	* include/oleauto.h, dlls/oleaut32/Makefile.in, dlls/oleaut32/hash.c, dlls/oleaut32/stubs.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Implement LHashValOfNameSysA for 4 LCIDs, fix prototype.

	* dlls/shell32/shlview.c:
	Francois Gouget <fgouget@free.fr>
	Remove TOOLBAR_ID and WM_SETTINGCHANGE, they are not used.

	* include/richedit.h:
	Francois Gouget <fgouget@free.fr>
	Declare RICHEDIT_CLASS20W using a WCHAR array.

	* windows/clipboard.c:
	Aric Stewart <aric@codeweavers.com>
	If an application directly calls SetClipboardData with CF_TEXT and
	then later called GetClipboardData with CF_TEXT we gave them a NULL
	because we where not handling this case.

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix the behaviour of EM_GETLINE message.

	* windows/message.c:
	Andreas Mohr <amohr@codeweavers.com>
	Make sure that MSG_PeekMessage uses an internal variable to avoid
	corruption.

	* dlls/ntdll/reg.c, files/directory.c, programs/regapi/README, tools/wineinstall:
	Andreas Mohr <amohr@codeweavers.com>
	- TRACE opened registry handles
	- add proper quotes to wineinstall
	- spelling

	* graphics/x11drv/palette.c, windows/nonclient.c, windows/x11drv/wnd.c:
	Andreas Mohr <amohr@codeweavers.com>
	- move TSXGrabServer after a possible return FALSE;
	- move misplaced comment
	- optimize TSXGrabServer use

	* windows/mdi.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Remove redundant parameters from MDICreateChild and MDIDestroyChild.
	Make the parameter names slightly more descriptive.

	* dlls/commdlg/cdlg_En.rc, dlls/commdlg/printdlg.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Add an updown control to the copy count entry.
	Disable the collate button if no. of copies is 1.
	Add Landscape/Portrait icons.
	Get rid of the "Dummy Comment" line.
	Fix the English of some of the error messages.

	* objects/enhmetafile.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Remove unused outXform.

	* dlls/ddraw/ddraw/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Allow an application to re-ask for EXCLUSIVE DirectDraw access.

	* dlls/comctl32/propsheet.c:
	Andreas Mohr <amohr@codeweavers.com>
	Check PROPSHEETPAGEA.pfnCallback for NULL pointer if PSP_USECALLBACK
	is given.

	* dlls/comctl32/treeview.c:
	François Gouget <fgouget@codeweavers.com>
	Handle WM_CHARs and pass them to TREEVIEW_ProcessLetterKeys. See also
	LISTVIEW_ProcessLetterKeys in listview.c.

	* dlls/comctl32/listview.c:
	François Gouget <fgouget@codeweavers.com>
	Fix (rewrite), and add documentation to LISTVIEW_ProcessLetterKeys.
	Lowered the key repetition delay (Aric).

	* memory/virtual.c:
	James Abbatiello <jabbey@codeweavers.com>
	Don't require write access on the file handle to create a
	copy-on-write mapping.

	* dlls/winmm/mmsystem.c, dlls/winspool/info.c, dlls/winspool/wspool.c, libtest/hello5.c, programs/avitools/aviinfo.c, programs/avitools/aviplay.c, windows/defwnd.c, dlls/comctl32/smoothscroll.c, dlls/commdlg/cdlg.h, dlls/commdlg/cdlg32.c, dlls/dplayx/dplaysp.h, dlls/imm32/imm_private.h, dlls/kernel/utthunk.c, dlls/ole32/compobj.c, dlls/setupapi/setupx16.h, dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, dlls/shell32/shellole.c, dlls/shell32/shlview.c, dlls/wineps/driver.c:
	Francois Gouget <fgouget@free.fr>
	Change the callback declarations to a safer format.

	* dlls/oleaut32/dispatch.c, files/file.c, dlls/kernel/comm.c, dlls/kernel/debugger.c, dlls/kernel/time.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation argument fixes.

	* windows/message.c, windows/user.c, windows/x11drv/clipboard.c, windows/x11drv/keyboard.c, windows/x11drv/mouse.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation name fixes (always use external name).

	* dlls/dplayx/dplay.c, dlls/ole32/storage.c, dlls/shell32/shv_bg_cmenu.c, libtest/vartest.c:
	Francois Gouget <fgouget@free.fr>
	Fix typos in comments.

	* dlls/kernel/nls/msl.nls, misc/options.c, tools/wmc/lang.c, tools/wmc/language.c, tools/wrc/utils.c, dlls/kernel/locale_rc.rc:
	Rein Klazes <rklazes@casema.net>
	Added support for the Malayan language.

	* dlls/comctl32/listview.c, include/commctrl.h:
	Chris Morgan <cmorgan@codeweavers.com>
	Fix ListView_GetItemRect() macro.
	Fix use of ListView_GetItemRect() macro in listview control.
	Add some documentation to LISTVIEW_GetItemRect().

	* dlls/msacm/msacm_main.c, dlls/msvcrt/data.c, dlls/msvcrt/math.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/win16/msvideo.api, tools/winapi_check/win16/user.api, tools/winapi_check/winapi_check, tools/winapi_check/winapi_documentation.pm, tools/winapi_check/winapi_function.pm, tools/winapi_check/winapi_local.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Addded support for API:s implemented with __ASM_GLOBAL_FUNC
	- Reorganized documentation checking.
	- Minor API files fixes

	* dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw/thunks.c, dlls/ddraw/ddraw/user.c, dlls/ddraw/ddraw_private.h, dlls/ddraw/dsurface/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Handle differently sized structs by using their dwSize parameters.

	* dlls/dinput/joystick/linuxinput.c, include/callback.h, windows/winproc.c:
	James Abbatiello <jabbey@codeweavers.com>
	Fix a few compiler warnings.

	* dlls/comctl32/datetime.c, dlls/comctl32/flatsb.c, dlls/comctl32/nativefont.c, dlls/comctl32/pager.c, dlls/comctl32/toolbar.c:
	James Abbatiello <jabbey@codeweavers.com>
	Don't allow comctl32 controls to access their infoPtr before it has
	been  allocated or after it has been freed.

	* dlls/winmm/mmio.c:
	Andreas Mohr <amohr@codeweavers.com>
	Make MMIO_Open work with NULL filename again.

	* dlls/user/user32.spec, include/winuser.h, windows/mdi.c, windows/win.c, dlls/user/controls.h:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added unicode MDI client window proc.

	* windows/x11drv/event.c:
	Josh DuBois <duboisj@codeweavers.com>
	Fixed a char that should have been signed.

	* include/process.h:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Use extern "C" for Winelib C++ apps.

	* dlls/commdlg/printdlg.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Call LoadImage to load the non-standard sized collate icons.

	* dlls/wineps/font.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Map 'Courier New' to 'Courier'.

	* objects/enhmetafile.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix EMF positioning when rclFrame has a non-zero origin.

	* include/wine/undocshell.h, include/process.h, include/setupapi.h, include/shlwapi.h, include/vfw.h, include/winbase.h, include/winsock2.h, include/winsvc.h:
	Francois Gouget <fgouget@free.fr>
	Change the callback declarations to a safer format.

	* dlls/msacm/filter.c, dlls/msacm/format.c:
	James Hatheway <james@macadamian.com>
	acmDriverEnumW shouldn't return MMSYSERR_ERROR if
	acmDriverEnumCallback returns TRUE.

	* dlls/winspool/info.c, dlls/winspool/winspool.drv.spec, include/winspool.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Implement Set/GetPrinterData[Ex].
	Remove ordinals from winspool.drv.spec .

	* dlls/ole32/compobj.c, dlls/ole32/ole2stubs.c:
	Andreas Mohr <amohr@codeweavers.com>
	Take a stab at implementing OleSetAutoConvert.

	* dlls/wineps/afm.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed a NULL ptr problem.
	Added loading of .afm files from several common locations
	(ghostscript, a2ps, enscript, (teTeX), X11).

	* dlls/winmm/wineoss/audio.c:
	Andreas Mohr <amohr@codeweavers.com>
	Don't touch WAVEHDRs dwLoops variable.

	* dlls/wineps/ppd.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Spaces do not have to come after the ':' that ends a keyword.
	Map bin name ManualEnv to DMBIN_ENVMANUAL.

	* tools/winemaker:
	François Gouget <fgouget@codeweavers.com>
	Make sure all files are terminated with a '\n'.
	Remove obsolete comment about 'afxres.h' coming back after editing in VC.
	Added support for the RTF qualifier in RC files.

	* msdos/int21.c:
	Andreas Mohr <amohr@codeweavers.com>
	Implemented the int21 LFN rename file function.

	* dlls/ole32/ole2.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix ReleaseStgMedium for MetaFilePict types.

	* dlls/wineps/text.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix for rotated text when lpDx is specified.
	Better handling of cumulative rounding errors.

	* dlls/comctl32/pager.c:
	Susan Farley <susan@codeweavers.com>
	Handle the CCS_NORESIZE style.
	Change the scroll delta only when the app responds to the PGN_NOTIFY msg.

	* graphics/x11drv/dib.c:
	Ove Kaaven <ovek@transgaming.com>
	In CopyDIBSection, use source DIB colormap instead if no palette has
	been selected into the source DC, to work around some X11-imposed
	DIBsection implementation deficiencies.

	* dlls/ddraw/ddraw/dga2.c:
	Ove Kaaven <ovek@transgaming.com>
	Fix DGA2 mode setting to use the correct color depth.

	* tools/wineconf:
	Andreas Mohr <amohr@codeweavers.com>
	- fix wineconf to generate new config file format
	- fix some variable checks

	* objects/enhmetafile.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add support for EMR_EXTTEXTOUTA and EMR_CREATEMONOBRUSH enhanced
	metafile records. Better implementation of EMR_STRETCHDIBITS and
	EMR_EXTTEXTOUTW.

	* relay32/snoop.c:
	Lawson Whitney <lawson_whitney@juno.com>
	Make snoop specific case insensitive.

	* dlls/dciman32/dciman32.spec, dlls/dciman32/dciman_main.c:
	Andreas Mohr <amohr@codeweavers.com>
	Added DCICloseProvider stub.

	* dlls/shell32/shelllink.c:
	James Abbatiello <jabbey@codeweavers.com>
	Implement IShellLink<A|W>_fnGetWorkingDirectory,
	IShellLink<A|W>_fnGetArguments, IShellLink<A|W>_fnGetIconLocation.

	* controls/combo.c:
	James Abbatiello <jabbey@codeweavers.com>
	Ownerdrawn combo boxes should use ODS_COMBOBOXEDIT in the itemState.

	* include/commctrl.h:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Fix typo in previous change.
	- Add structures for CBEN_INSERTITEM notify message.

	* tools/wrc/utils.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Remove xmalloc/xrealloc limits for large binary resources.

	* graphics/x11drv/text.c:
	Eric Kohl <ekohl@codeweavers.com>
	Fixed text size calculation bug in GetTextExtentPoint() for window dc's.

	* documentation/documentation.sgml:
	John R. Sheets <jsheets@codeweavers.com>
	New section about writing docs in DocBook and dealing with the Wine
	SGML build system; half done, but a good start.

	* dlls/winnls/winnls.c, dlls/winnls/winnls.spec:
	Andreas Mohr <amohr@codeweavers.com>
	A couple of stubs for Terminal Server Client 16 bit.

2001-01-29  Alexandre Julliard  <julliard@winehq.com>

	* programs/avitools/Makefile.in:
	Matthew Clarke <Matthew_Clarke@mindlink.bc.ca>
	Don't assume .spec files are found in the current directory, as this
	is not the case when building outside the source tree.

	* include/queue.h, windows/message.c, windows/queue.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Synchronize access to MESSAGEQUEUE members.

	* dlls/msvideo/msvideo_main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added some more 16->32 mappings for ICM* messages.

	* dlls/ddraw/ddraw/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	dvideo.dll forgets to set the DDSD_CAPS flag, just assume it set.
	Output more debug info on failure.

	* objects/enhmetafile.c:
	Eric Kohl <ekohl@codeweavers.com>
	Disabled setting of window origin from an EMF.

2001-01-28  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makefile.in, dlls/msvideo/msvfw32.spec, dlls/msvideo/msvideo_main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented VideoCapDriverDescAndVer.

	* dlls/user/user.spec, windows/message.c, windows/user.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added a few missing exports.

	* dlls/dinput/keyboard/main.c:
	Ove Kaaven <ovek@transgaming.com>
	Don't disable keyboard autorepeat, since autorepeat is now detectable.

	* dlls/ddraw/dsurface/main.c, dlls/ddraw/ddraw/dga2.c, dlls/ddraw/ddraw/user.c, dlls/ddraw/ddraw/xvidmode.c, dlls/ddraw/ddraw_private.h:
	Marcus Meissner <marcus@jet.franken.de>
	- Siedler3 appears to have rather limited buffers for device/description
	  strings and crashes with those long strings. Shortened those strings.
	- Also driver needs to be "display" for display devices (some other
	  programs rely on that info I seem to remember).
	- Fixed DSurface::GetSurfaceDesc to not just blindly copy a
	  DDSURFACEDESC2 struct over a smaller DDSURFACEDESC one.

	* dlls/dinput/device_private.h, dlls/dinput/dinput_main.c, dlls/dinput/joystick/linux.c, dlls/dinput/joystick/linuxinput.c, dlls/dinput/mouse/main.c:
	Ove Kaaven <ovek@transgaming.com>
	Gavriel State <gav@transgaming.com>
	Implemented circular buffering for the dinput mouse device.
	Mapped the mouse warp on the center of the cooperative window, which
	should make windowed games work better in managed mode.

	* dlls/wineps/init.c, dlls/wineps/ps.c, dlls/wineps/psdrv.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Take into account unprintable margins in psdrv.

	* dlls/wineps/driver.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Dmitry Timoshkov <dmitry@codeweavers.com>
	psdrv's DeviceCapabilities should list DMBIN_AUTO as an available
	bin.

	* dlls/wineps/ppd.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add "OnlyOne" paper source, used by the Acrobat Distiller PPD.

	* dlls/msvcrt/math.c:
	Josh DuBois <duboisj@codeweavers.com>
	Fixed typo.

	* dlls/winmm/mci.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed some mci string parsing issues.
	Added more mappings 32ATo16.

	* dlls/winmm/mciseq/mcimidi.c, dlls/winmm/mciwave/mciwave.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Simplified memory allocation for asynchronous MCI message handling.

	* dlls/winmm/mcicda/mcicda.drv.spec, dlls/winmm/mciseq/mciseq.drv.spec, dlls/winmm/mciwave/mciwave.drv.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Delay importing user32 (only used for configuration).

	* dlls/msvideo/msvideo_main.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed a few oddities.

	* dlls/msvideo/drawdib.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added a bit more of flags handling in drawdib functions.

	* dlls/commdlg/filedlg95.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Put a '\n' at the end of the FIXME to prevent very odd and difficult
	to debug crashes due to overflowing of the debug info's output buffer.

	* tools/specmaker/README, tools/specmaker/main.c, tools/specmaker/msmangle.c, tools/specmaker/output.c, tools/specmaker/specmaker.h:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Improve name demangling, add 'demangle symbol' option.

2001-01-26  Alexandre Julliard  <julliard@winehq.com>

	* tools/winelauncher.in:
	Jeremy White <jwhite@codeweavers.com>
	Remove the keyword 'function', as requested by Robert Luberda.

	* misc/registry.c:
	Martin Pilka <mpilka@codeweavers.com>
	Fixed typo which caused the WritetoHomeRegistryFiles option to be
	ignored.

	* dlls/comctl32/comboex.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Rewrite WM_CREATE to match native (allocating own Edit control, etc).
	- Implement additional WNDPROCs for the Combo and Edit controls to
	  handle different functions.
	- Implement CBEM_SETCURSEL and CBEM_HASEDITCHANGED.

	* controls/combo.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- When painting the text, if the control is OWNERDRAWN the issue the
	  WM_DRAWITEM message.
	- Set the focused status at the end of the end of the Setfocus routine.
	- Flip the order of updating the list box and issuing the WM_NOTIFY
	  for CBN_EDITUPDATE to match native.

	* include/server.h, server/debugger.c, server/request.h, server/trace.c, win32/except.c, dlls/ntdll/exception.c:
	Made exception_event_request non-blocking, and added
	get_exception_status to retrieve the exception result returned by the
	debugger.

	* windows/sysparams.c, windows/user.c, windows/multimon.c, windows/painting.c, dlls/winmm/mciseq/mcimidi.c, dlls/winmm/midimap/midimap.c, dlls/winmm/wavemap/wavemap.c, dlls/wsock32/socket.c, graphics/x11drv/dib.c, include/heap.h, memory/codepage.c, msdos/dosaspi.c, msdos/int11.c, msdos/int2f.c, msdos/int33.c, objects/dib.c, dlls/oleaut32/connpt.c, dlls/oleaut32/olepicture.c, dlls/richedit/richedit.c, dlls/setupapi/infparse.c, dlls/shdocvw/classinfo.c, dlls/shdocvw/events.c, dlls/shdocvw/factory.c, dlls/shdocvw/oleobject.c, dlls/shdocvw/shdocvw_main.c, dlls/shlwapi/ordinal.c, dlls/shlwapi/url.c, dlls/ttydrv/bitmap.c, dlls/user/bidi16.c, dlls/winmm/mcianim/mcianim.c, dlls/winmm/mcicda/mcicda.c, dlls/dplayx/dpclassfactory.c, dlls/dplayx/dplay.c, dlls/dplayx/dplaysp.c, dlls/dplayx/dplayx_global.c, dlls/dplayx/dplayx_messages.c, dlls/dplayx/name_server.c, dlls/gdi/gdi_main.c, dlls/imagehlp/access.c, dlls/kernel/kernel_main.c, dlls/msacm/filter.c, dlls/msacm/format.c, dlls/msacm/pcmconverter.c, dlls/msacm/stream.c, dlls/msvideo/drawdib.c, dlls/ntdll/reg.c, dlls/ole32/antimoniker.c, dlls/ole32/clipboard.c, dlls/ole32/compositemoniker.c, dlls/ole32/datacache.c, dlls/ole32/defaulthandler.c, dlls/ole32/errorinfo.c, dlls/ole32/itemmoniker.c, dlls/ole32/moniker.c, dlls/ole32/ole2impl.c, dlls/comctl32/trackbar.c, dlls/commdlg/filedlgbrowser.c, dlls/commdlg/finddlg32.c, dlls/ddraw/convert.c, dlls/ddraw/dclipper/main.c, dlls/ddraw/ddraw/user.c, dlls/ddraw/dsurface/dib.c, dlls/ddraw/dsurface/user.c, dlls/ddraw/dsurface/wndproc.c, dlls/dinput/device.c, dlls/dinput/dinput_main.c, dlls/comctl32/comboex.c, dlls/comctl32/flatsb.c, dlls/comctl32/hotkey.c, dlls/comctl32/imagelist.c, dlls/comctl32/ipaddress.c, dlls/comctl32/monthcal.c, dlls/comctl32/nativefont.c, dlls/comctl32/pager.c, dlls/comctl32/progress.c, dlls/comctl32/status.c, dlls/advapi32/service.c, dlls/comctl32/animate.c:
	James Juran <jamesjuran@alumni.psu.edu>
	Add <string.h> to files that needed it.

	* files/file.c, memory/atom.c, programs/regapi/regapi.c, windows/dce.c, windows/winhelp.c, windows/winproc.c, dlls/commdlg/colordlg.c, dlls/ole32/filemoniker.c, dlls/shell32/shellpath.c, dlls/user/user.spec, dlls/winmm/mmsystem.c:
	Andreas Mohr <amohr@codeweavers.com>
	Some more cleanups.

	* dlls/dinput/joystick/linuxinput.c:
	Ove Kaaven <ovek@transgaming.com>
	Check that the linux 2.4 event interface is available before creating
	a dinput device based on it.

	* dlls/wineps/text.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Handle the lpDx array properly.

	* windows/winpos.c:
	Martin Pilka <mpilka@codeweavers.com>
	Fixed SW_RESTORE handling.

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Do not notify parent of the Edit control on WM_SETTEXT when Edit is
	part of the ComboBox.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- make hidden bands have valid (0 width) child window areas
	- when hiding a band, don't show the window, hide it.

	* dlls/kernel/debugger.c, include/server.h, scheduler/process.c, server/debugger.c, server/process.c, server/request.h, server/trace.c:
	Changed wait_process and wait_debug_event requests to never block;
	waiting is always done through WaitForSingleObject().

	* dlls/kernel/comm.c:
	Andreas Mohr <amohr@codeweavers.com>
	Don't open the comm handle with GENERIC_WRITE via FILE_GetUnixHandle.

	* windows/defwnd.c, include/win.h:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Replace 16-bit calls in DefWindowProc by 32-bit, preferring unicode
	API calls.

2001-01-25  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/wsprintf.c:
	Got rid of WPRINTF_ExtractVAPtr.

	* dlls/shdocvw/shdocvw.spec, dlls/win32s/win32s16.spec, dlls/winedos/dosvm.c, dlls/winmm/wineoss/oss.c, include/dosexe.h, tools/specmaker/output.c, dlls/ddraw/ddraw/dga2.c, dlls/ddraw/ddraw/thunks.c, dlls/ddraw/ddraw/user.c, dlls/ddraw/ddraw/xvidmode.c, dlls/ddraw/dsurface/fakezbuffer.c, dlls/ddraw/struct_convert.c, dlls/msvcrt/msvcrt.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/win32/msvcrt.api, tools/winapi_check/win32/oleaut32.api, tools/winapi_check/win32/winedos.api, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_local.pm:
	Patrik Stridvall <ps@leissner.se>
	Minor bugfixes.

	* windows/clipboard.c, windows/cursoricon.c, windows/dialog.c, windows/driver.c, windows/hook.c, windows/message.c, windows/queue.c, windows/scroll.c, windows/syscolor.c, windows/user.c, windows/win.c, windows/winpos.c, controls/desktop.c, controls/menu.c, controls/scroll.c, controls/uitools.c, dlls/kernel/comm.c, dlls/kernel/debugger.c, dlls/kernel/format_msg.c, dlls/kernel/kernel_main.c, dlls/kernel/stress.c, dlls/kernel/sync.c, dlls/kernel/thunk.c, dlls/kernel/time.c, dlls/kernel/toolhelp.c, dlls/kernel/utthunk.c, dlls/kernel/win87em.c, dlls/kernel/wowthunk.c, dlls/psapi/psapi_main.c, dlls/user/bidi16.c, dlls/user/ddeml.c, dlls/user/exticon.c, dlls/user/lstr.c, dlls/user/misc.c, dlls/user/resource.c, dlls/user/text.c, loader/task.c:
	Patrik Stridvall <ps@leissner.se>
	Documentation ordinal fixes.

	* misc/registry.c:
	Fixed typo in HKEY_USERS/.Default creation.

	* dlls/comctl32/tab.c:
	Gerard Patel <gerard.patel@asi.fr>
	Don't send notifications for the initial display of the first tab of
	the control.

	* windows/spy.c:
	Gerard Patel <gerard.patel@asi.fr>
	Added a few messages and notifications.

	* objects/enhmetafile.c:
	Eric Kohl <ekohl@codeweavers.com>
	Disabled setting of viewport origin from an EMF.

	* windows/winpos.c:
	Susan Farley <susan@codeweavers.com>
	Always restore the bit_gravity to BGForget after using BGNorthwest to
	copy bits during SetWindowPos.

	* winedefault.reg:
	John R. Sheets <jsheets@codeweavers.com>
	Added the necessary registry entries for the Mozilla ActiveX control.

2001-01-24  Alexandre Julliard  <julliard@winehq.com>

	* windows/defwnd.c:
	Andreas Mohr <amohr@codeweavers.com>
	Only set window text for WM_NCCREATE in DefWindowProc*() in case
	lpszName is a string (i.e. check HIWORD).

	* graphics/x11drv/oembitmap.c, include/bitmaps/obm_radiocheck, include/winuser.h:
	Removed non-standard OBM_RADIOCHECK bitmap.

	* controls/menu.c, controls/uitools.c, windows/nonclient.c, windows/sysmetrics.c:
	Use DrawFrameControl() instead of OEM bitmaps to paint caption buttons
	and menu check marks.

	* dlls/wineps/font.c, dlls/wineps/graphics.c, dlls/wineps/pen.c, dlls/wineps/text.c:
	Eric Kohl <ekohl@codeweavers.com>
	Partial implementation of world transform support.

	* objects/enhmetafile.c:
	Eric Kohl <ekohl@codeweavers.com>
	Several fixes for playing enhanced metafiles in a given rectangle.

	* graphics/x11drv/graphics.c, graphics/x11drv/pen.c, graphics/x11drv/text.c, graphics/x11drv/xfont.c, include/gdi.h:
	Eric Kohl <ekohl@codeweavers.com>
	Partial implementation of world transform support.

	* documentation/wine.man.in, objects/font.c, README, debugger/README:
	Andreas Mohr <amohr@codeweavers.com>
	Documentation updates.

	* documentation/Makefile.in, documentation/running.sgml, documentation/wine-doc.sgml, documentation/winelib-bindlls.sgml, documentation/winelib-intro.sgml, documentation/winelib-mfc.sgml, documentation/winelib-pkg.sgml, documentation/winelib-porting.sgml, documentation/winelib-toolkit.sgml, documentation/winelib-user.sgml:
	John R. Sheets <jsheets@codeweavers.com>
	- Split Winelib User Guide into smaller files for easier maintenance
	  and better integration with make_winehq.
	- Add some Winelib docs from Jon Griffiths.
	- Fix a <sect2> problem in running.sgml.

2001-01-22  Alexandre Julliard  <julliard@winehq.com>

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Protect read-only edit control from modification.

	* dlls/msvcrt/exit.c:
	Jon Griffiths <tntjpgriff@tsnxt.co.uk>
	Implemented __dllonexit.

	* dlls/comctl32/listview.c:
	Gerard Patel <gerard.patel@asi.fr>
	Misc fixes in LISTVIEW_SetImageList, LISTVIEW_SetItemCount,
	LISTVIEW_UpdateSize.

	* files/profile.c:
	Gerard Patel <gerard.patel@asi.fr>
	Display the config file location in the incorrect config file error
	message.

	* dlls/msvcrt/wcs.c, dlls/ntdll/wcstring.c:
	James Juran <jamesjuran@alumni.psu.edu>
	Use int instead of WCHAR in va_arg() (fixes gcc-current compilation
	problem).

	* include/commctrl.h:
	Francois Gouget <fgouget@free.fr>
	Added various definitions (mostly macros).
	Fixed typo in the HDN_{BEGIN,END}DRAG macros.
	Added a pointer type for IMAGEINFO.
	Fixed the return type of TreeView_{SetToolTips,GetToolTips}.
	Even macros must come in A/W and neutral form (see the ListView_ series).
	Fixed typo in MonthCal_SetColor.

	* include/richedit.h:
	Francois Gouget <fgouget@free.fr>
	Added CHARRANGE.

	* include/prsht.h:
	Francois Gouget <fgouget@free.fr>
	Added PSN_GETOBJECT.

	* dlls/ddraw/ddraw/xvidmode.c:
	Josh DuBois <duboisj@codeweavers.com>
	Include 'options.h' for a needed prototype.

	* dlls/oleaut32/variant.c, include/oleauto.h:
	Josh DuBois <duboisj@codeweavers.com>
	Changed VarCyFromI1 to take a signed char.

	* controls/combo.c, dlls/msvcrt/mbcs.c, objects/bitmap.c, tools/specmaker/output.c:
	Francois Gouget <fgouget@free.fr>
	Typo fixes in comments.

	* dlls/msvcrt/cpp.c, dlls/msvcrt/data.c, dlls/msvcrt/dir.c, dlls/msvcrt/environ.c, dlls/msvcrt/errno.c, dlls/msvcrt/file.c, dlls/msvcrt/heap.c, dlls/msvcrt/locale.c, dlls/msvcrt/math.c, dlls/msvcrt/misc.c, dlls/msvcrt/msvcrt.spec, dlls/msvcrt/process.c, dlls/msvcrt/thread.c, dlls/msvcrt/wcs.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- New msvcrt unicode functions, winapi_check/-Wall/-W clean.
	- Forward to ntdll where possible.
	- Fix some .spec entries with incorrect parameters.

	* include/wine/obj_contextmenu.h:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Fixed Unicode strings.

	* dlls/ntdll/critsection.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Made SpinCount FIXME into a TRACE.

	* debugger/stabs.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Increased debugger include limit to 512.

	* dlls/winaspi/aspi.c, dlls/wininet/http.c, dlls/wsock32/protocol.c, include/winnt.h, loader/pe_image.c, tools/winebuild/import.c, tools/winebuild/main.c, dlls/dplayx/dplobby.c, dlls/msvcrt/msvcrt.h, dlls/ntdll/ntdll.spec, dlls/ntdll/string.c, dlls/ntdll/wcstring.c, dlls/opengl32/wgl.c, dlls/setupapi/setupx_main.c, dlls/user/lstr.c, dlls/user/user_main.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- Remove <string.h> from winnt.h.
	- ntdll: complete crt functions, prevent libc imports, fix sscanf.

	* dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c, dlls/commdlg/filedlg95.c, dlls/commdlg/finddlg.c, dlls/commdlg/finddlg32.c, dlls/commdlg/fontdlg.c, dlls/commdlg/printdlg.c, include/commctrl.h, include/commdlg.h, include/msacm.h, include/prsht.h:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- Fix a typo in TBSAVEPARAMS A/W declaration.
	- Use 16 bit Unicode constants for wc strings.
	- Make some string constants available as Unicode.

2001-01-21  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/cdlg_xx.rc, dlls/commdlg/filedlg.c:
	Fixed the size of the file dialog icons.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Added NMCBEENDEDIT structure for NOTIFY dump.
	- Added dump of positioning structure for WM_WINDOWPOSCHANG{ED|ING}.

	* include/commctrl.h:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Added NMCBEENDEDIT{W|A} structures and flags.

	* loader/ne/module.c:
	Gerard Patel <gerard.patel@asi.fr>
	Fix the cmdline argument passed to NE_CreateThread to include string
	length.

	* include/winbase.h:
	Francois Gouget <fgouget@free.fr>
	Added missing pointer type declarations (usually Pxxx).

	* dlls/wininet/http.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Escape any spaces in lpszObjectName passed to HttpOpenRequest.

2001-01-20  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/event.c: Warning fix.

	* loader/pe_image.c:
	Display the importing dll in the 0xdeadbeef message.

	* dlls/shell32/shell32_main.c, dlls/user/resources/user32_cursors.rc, dlls/user/resources/user32_icons.rc, include/winuser.h, programs/clock/main.h, programs/notepad/lcc.h, programs/notepad/main.h, programs/progman/group.c, programs/progman/progman.h, programs/progman/program.c, windows/nonclient.c, windows/win.c, dlls/commdlg/cdlg_xx.rc, dlls/commdlg/filedlg.c:
	Fixed a number of incompatibilities in OEM icons/cursors handling.

	* dlls/user/text.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Prevent buffer overflow in TEXT_NextLineW.

	* tools/winapi_check/modules.dat, tools/winapi_check/win16/msacm.api, tools/winapi_check/win32/crtdll.api, tools/winapi_check/win32/msvcrt.api, tools/winapi_check/win32/oleaut32.api, tools/winapi_check/win32/rasapi32.api, tools/winapi_check/win32/setupapi.api, tools/winapi_check/win32/shdocvw.api, tools/winapi_check/win32/user32.api, tools/winapi_check/win32/winedos.api, tools/winapi_check/win32/wsock32.api, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_options.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Minor API files update.
	- Minor bug fixes.
	- Minor documentation check improvements.

2001-01-19  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dinput/joystick/linuxinput.c, include/acconfig.h, include/config.h.in, configure.in, configure:
	Marcus Meissner <marcus@jet.franken.de>
	Added configure check for old linux/input.h.

	* documentation/make_winehq, documentation/wine-devel.sgml, documentation/wine-pkg.sgml, documentation/wine-user.sgml:
	John R. Sheets <jsheets@codeweavers.com>
	Added convenience script for generating online docs for winehq.com.

	* controls/uitools.c:
	Josh DuBois <duboisj@codeweavers.com>
	Specified 'signed' on chars compared to -1.

	* documentation/packaging.sgml:
	John R. Sheets <jsheets@codeweavers.com>
	Make SGML ID attributes in packaging.sgml more unique to avoid
	conflicts when we bundle all four guides into a single set.

	* controls/edit.c, controls/scroll.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Solve remaining problems with scroll bars in the edit control.

2001-01-18  Alexandre Julliard  <julliard@winehq.com>

	* documentation/db2html-winehq:
	John R. Sheets <jsheets@codeweavers.com>
	Clean up db2html-winehq HTML generation script.  Works in Debian, and
	may actually work in Redhat now, too.

	* dlls/shell32/pidl.c, dlls/shell32/pidl.h, dlls/shell32/shell32.spec, dlls/shell32/shlfileop.c:
	Andreas Mohr <amohr@codeweavers.com>
	Implemented SHELL32.IsNetDrive and SHELL32.ILSaveToStream needed for
	IE 5.

	* documentation/configuring.sgml, documentation/fonts.sgml, documentation/installation-und-konfiguration.german, documentation/installing.sgml, documentation/opengl.sgml, documentation/printing.sgml, documentation/registry.sgml, documentation/running.sgml:
	Chris Morgan <cmorgan@codeweavers.com>
	Updated for change in config file name.  Removed references to
	obsolete global wine configuration file where appropriate.  Updated
	config option format to match the new syntax.  Misc cleanups.

	* dlls/user/resources/user32.rc, dlls/user/resources/user32_cursors.rc, dlls/user/resources/user32_icons.rc, graphics/x11drv/oembitmap.c, include/bitmaps/ocr_appstarting, include/bitmaps/ocr_bummer, include/bitmaps/ocr_cross, include/bitmaps/ocr_dragobject, include/bitmaps/ocr_hand, include/bitmaps/ocr_help, include/bitmaps/ocr_ibeam, include/bitmaps/ocr_icon, include/bitmaps/ocr_no, include/bitmaps/ocr_normal, include/bitmaps/ocr_size, include/bitmaps/ocr_sizenesw, include/bitmaps/ocr_sizens, include/bitmaps/ocr_sizenwse, include/bitmaps/ocr_sizewe, include/bitmaps/ocr_up, include/bitmaps/ocr_wait, include/bitmaps/oic_bang, include/bitmaps/oic_bang_95, include/bitmaps/oic_cdrom, include/bitmaps/oic_floppy, include/bitmaps/oic_folder, include/bitmaps/oic_folder2, include/bitmaps/oic_hand, include/bitmaps/oic_hand_95, include/bitmaps/oic_hdisk, include/bitmaps/oic_landscape, include/bitmaps/oic_network, include/bitmaps/oic_note, include/bitmaps/oic_note_95, include/bitmaps/oic_portrait, include/bitmaps/oic_ques, include/bitmaps/oic_ques_95, include/bitmaps/oic_sample, include/bitmaps/oic_wineicon, include/winuser.h, windows/cursoricon.c:
	Store USER icons and cursors as resources instead of xpm bitmaps.

	* dlls/winmm/wineoss/audio.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix off by one error in buffer length check.

	* tools/wineinstall:
	Chris Morgan <cmorgan@codeweavers.com>
	Switched from wine.config back to wine.conf, no need to use something
	not linux standard.  Removed use of obsolete "--config" option when
	calling regapi.  Lots of cleanup and reorganization.  Check to see if
	wine is installed when wineinstall is not run as root.

	* include/winbase.h:
	Francois Gouget <fgouget@free.fr>
	Added 3 missing FS_xxx macros.

2001-01-17  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/shell32_main.h, dlls/shell32/shlmenu.c, dlls/shell32/shell32_main.c, dlls/commdlg/filedlgbrowser.c, dlls/shell32/folders.c, dlls/shell32/iconcache.c, dlls/commdlg/cdlg.h, dlls/commdlg/cdlg32.c, dlls/commdlg/filedlg95.c:
	Replaced some GetProcAddress() imports by the standard dll import
	mechanism.

	* dlls/wineps/init.c, dlls/winmm/mmsystem.c, dlls/dplayx/dplayx_main.c, dlls/imm32/main.c, dlls/msacm/msacm32_main.c, dlls/ole32/compobj.c, dlls/ole32/ole32_main.c, dlls/opengl32/wgl.c, dlls/richedit/riched32.h, dlls/richedit/richedit.c, dlls/rpcrt4/rpcrt4_main.c, dlls/serialui/confdlg.c, dlls/shell32/shell.c, dlls/ttydrv/ttydrv_main.c, dlls/winaspi/winaspi32.c, dlls/comctl32/commctrl.c, dlls/commdlg/generic.c:
	Cleaned up dll startup routines now that we have separate address
	spaces.

	* configure, configure.in, dlls/advapi32/service.c, dlls/winmm/driver.c:
	Andreas Mohr <amohr@codeweavers.com>
	Cosmetics.

	* dlls/x11drv/x11drv_main.c, include/x11drv.h, windows/x11drv/event.c:
	Josh DuBois <duboisj@codeweavers.com>
	Make some noise in a few cases where the X11drv doesn't load, but used
	to fail silently.

	* scheduler/services.c:
	Josh DuBois <duboisj@codeweavers.com>
	SERVICE_CreateServiceTable still returned TRUE if CreateThread failed.

	* include/wine/library.h, library/Makefile.in, library/errno.c, scheduler/sysdeps.c, scheduler/thread.c, dlls/x11drv/x11drv_main.c, include/acconfig.h, include/config.h.in, include/x11drv.h, configure, configure.in:
	Cleaned up the various errno location tests in configure.
	Added (h_)errno_location pointers in the library that allow remapping
	the calls in higher level dlls.
	Moved X11DRV_CritSection out of sysdeps.c and into x11drv.dll.

	* dlls/winsock/socket.c, dlls/wsock32/socket.c:
	James Hatheway <james@macadamian.com>
	In WsControl, don't mix Linux and Wine socket calls. Always use Wine calls.
	Added hack for missing WINAPI in Unix socket() definition.

	* dlls/setupapi/setupapi.spec, dlls/setupapi/stubs.c, include/setupapi.h:
	James Juran <jamesjuran@alumni.psu.edu>
	Added some stubs needed for IE 5.5 setup.

	* tools/wineshelllink:
	Jeremy White <jwhite@codeweavers.com>
	Revised wineshelllink to wake up KDE 1.x so that applications that get
	installed show up without a manual KDE menu refresh required.
	Added a few usage checks to make manual invocation a little less
	painful.

	* tools/bin2res.c: Fixed tmpfile buffer size.

	* files/dos_fs.c:
	Fixed typo in wine_get_unix_file_name().

	* dlls/shell32/shelllink.c:
	Jeremy White <jwhite@codeweavers.com>
	Revised shell link process to treat empty (e.g. "") strings
	identically to NULL strings. Makes many more installers take useful
	action. Added many trace messages.

	* dlls/comctl32/listview.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Only adjust item rect by horizontal scrollbar offset in report view.

	* dlls/winsock/socket.c:
	Gerard Patel <gerard.patel@asi.fr>
	Change WSACleanup - wsinfo is a static structure now.

	* tools/winelauncher.in:
	Jeremy White <jwhite@codeweavers.com>
	Make winelauncher test for xmessage and warn the user if they don't
	have it.

2001-01-15  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/brush.c, include/wine_gl.h, windows/x11drv/clipboard.c, windows/x11drv/event.c:
	Replaced X11DRV_CritSection references by wine_tsx11_(un)lock.

	* graphics/x11drv/bitblt.c, graphics/x11drv/bitmap.c, graphics/x11drv/dib.c, graphics/x11drv/graphics.c, graphics/x11drv/oembitmap.c, include/callback.h, include/x11drv.h, scheduler/sysdeps.c, windows/x11drv/mouse.c, dlls/x11drv/x11drv_main.c:
	Removed CALL_LARGE_STACK support.

	* loader/ne/segment.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Don't call a NE DLL's DllEntryPoint twice during one single
	LoadModule() call.

	* memory/virtual.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	MapViewOfFileEx: make the returned error dependent on the Windows
	version used.

	* dlls/user/user32.spec, dlls/winedos/winedos.spec, dlls/x11drv/x11drv.spec, dlls/ntdll/ntdll.spec:
	Updated debug channels.

	* dlls/winmm/wineoss/mixer.c, windows/winproc.c, windows/x11drv/wnd.c, dlls/winmm/mciavi/mciavi.c:
	Removed unnecessary headers.

	* windows/mdi.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Initialize MENUITEMINFO structure before calling GetMenuItemInfo.

	* dlls/ddraw/ddraw/thunks.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed an interface cast in DD2->DD7 thunk.

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add one missing buffer size rounding in the edit control.
	Make rounding code slightly more readable.

	* loader/ne/module.c, loader/ne/resource.c, loader/task.c, if1632/builtin.c:
	Replaced GLOBAL_Alloc by GlobalAlloc16 where possible.

	* misc/Makefile.in, misc/tweak.c, objects/gdiobj.c, windows/defwnd.c, windows/mdi.c, windows/msgbox.c, windows/nonclient.c, windows/painting.c, windows/syscolor.c, windows/sysmetrics.c, windows/sysparams.c, controls/button.c, controls/combo.c, controls/edit.c, controls/listbox.c, controls/menu.c, controls/scroll.c, controls/static.c, controls/uitools.c, dlls/gdi/gdi_main.c, dlls/user/cache.c, dlls/user/text.c, dlls/user/user_main.c, graphics/x11drv/oembitmap.c, graphics/x11drv/xfont.c, include/cache.h, include/tweak.h, include/user.h:
	Moved tweak support to USER dll. Removed tweak.h and cache.h.

	* memory/local.c, msdos/int20.c, msdos/int2f.c, scheduler/process.c, win32/init.c, windows/clipboard.c, windows/cursoricon.c, windows/focus.c, windows/hook.c, windows/input.c, windows/message.c, windows/queue.c, windows/timer.c, windows/user.c, windows/win.c, windows/winpos.c, include/queue.h, include/task.h, include/wine/winbase16.h, loader/ne/segment.c, loader/pe_resource.c, loader/resource.c, debugger/dbg.y, debugger/expr.c, dlls/winsock/async.c, dlls/winsock/socket.c, files/file.c, if1632/relay.c:
	Removed some direct accesses to the 16-bit task structure.

	* dlls/crtdll/crtdll.spec, dlls/msvcrt/ctype.c, dlls/msvcrt/msvcrt.spec:
	Fixed toupper/_toupper mixup.

2001-01-12  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, include/version.h:
	Release 20010112.

----------------------------------------------------------------
2001-01-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ddraw/ddraw/xvidmode.c:
	Added missing WIN_ReleaseWndPtr.

	* dlls/winmm/Makefile.in, dlls/winmm/mmsystem.spec:
	winmm.dll can now be properly separated.

	* dlls/msvideo/msvideo_main.c:
	Francois Gouget <fgouget@free.fr>
	Warning fix.

	* dlls/dsound/dsound_main.c:
	Ove Kaaven <ovek@transgaming.com>
	Fixes for various underrun-related problems. Also added a mechanism
	for the sound driver to request that a Stop should close and reopen
	the device.

	* dlls/winmm/mmsystem.c, dlls/winmm/time.c, dlls/winmm/winemm.h:
	Ove Kaaven <ovek@transgaming.com>
	Remove multimedia timers from the service thread, use a separate thread
	instead.

	* dlls/comctl32/status.c:
	François Gouget <fgouget@codeweavers.com>
	In STATUSBAR_GetTipText{a,W, always put a terminating '\0' in the
	buffer.
	Pass a buffer of sufficient size to TTM_GETTEXTA.

	* dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw/thunks.c, dlls/ddraw/ddraw_private.h, dlls/ddraw/dga2_private.h, dlls/ddraw/dga_private.h, dlls/ddraw/dsurface/main.c, dlls/ddraw/dsurface/thunks.c, dlls/ddraw/dsurface/user.c, dlls/ddraw/dsurface/wndproc.c, dlls/ddraw/main.c:
	Gavriel State <gav@transgaming.com>
	Warning fixes.

	* dlls/wsock32/wsock32.spec, include/Makefile.in, include/nspapi.h, include/wshisotp.h, include/wsipx.h, dlls/Makefile.in, dlls/wsock32/Makefile.in, dlls/wsock32/protocol.c:
	Stefan Leichter <Stefan.Leichter@camline.com>
	Implemented EnumProtocolA/W.

	* configure.in, include/config.h.in, library/port.c, configure:
	Andreas Mohr <amohr@codeweavers.com>
	NetBSD 1.5 is lacking ecvt, fcvt, gcvt for crtdll.

	* server/file.c:
	Andreas Mohr <amohr@codeweavers.com>
	Workaround for SuSE 7 2.2.16 kernel bug.

	* controls/edit.c:
	James Hatheway <james@macadamian.com>
	Guard against incoming string of NULL in WM_SETTEXT.

	* dlls/Makefile.in, dlls/crtdll/Makefile.in, dlls/crtdll/console.c, dlls/crtdll/crtdll.h, dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/crtdll/dir.c, dlls/crtdll/exit.c, dlls/crtdll/file.c, dlls/crtdll/locale.c, dlls/crtdll/mbstring.c, dlls/crtdll/memory.c, dlls/crtdll/spawn.c, dlls/crtdll/string.c, dlls/crtdll/time.c, dlls/crtdll/wcstring.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Turn crtdll into forwards to msvcrt.

	* dlls/msvcrt/except.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Added some exception handling functions.

	* dlls/msvcrt/math.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed mistyped variable name in MSVCRT__fpclass().

	* memory/virtual.c:
	Added flag to differentiate file mappings and VirtualAlloc() blocks,
	and reject VirtualFree() calls on file mappings.

	* include/server.h, scheduler/client.c:
	Removed obsolete get_req_buffer() function.

	* files/file.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Swap lpOverlapped parameters in ReadFile and WriteFile.
	The InternalHigh member should contain the number of
	bytes transferred.

	* dlls/msvcrt/locale.c, dlls/msvcrt/math.c, dlls/msvcrt/mbcs.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Fixes as a result of testing builtin crtdll against builtin msvcrt.

	* files/directory.c, files/drive.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Updated messages with new config files in mind to keep from confusing
	users.

	* dlls/comctl32/pager.c:
	Susan Farley <susan@codeweavers.com>
	Implemented most functionality.  TODO lists whats left.

2001-01-11  Alexandre Julliard  <julliard@winehq.com>

	* Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/shdocvw/.cvsignore, dlls/shdocvw/Makefile.in, dlls/shdocvw/classinfo.c, dlls/shdocvw/events.c, dlls/shdocvw/factory.c, dlls/shdocvw/misc.c, dlls/shdocvw/oleobject.c, dlls/shdocvw/persist.c, dlls/shdocvw/shdocvw.h, dlls/shdocvw/shdocvw.spec, dlls/shdocvw/shdocvw_main.c, dlls/shdocvw/webbrowser.c, documentation/Makefile.in, include/wine/obj_webbrowser.h, winedefault.reg:
	John R. Sheets <dusk@ravendusk.org>
	Implemented stubs for IWebBrowser in shdocvw.dll.

	* tools/winebuild/main.c:
	Nathan Neulinger <nneul@umr.edu>
	Renamed struct option to avoid conflicts with getopt.h.

	* dlls/msvcrt/except.c, dlls/msvcrt/msvcrt.spec:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Added binary compatible __EH_prolog.

	* server/main.c:
	Josh DuBois <duboisj@codeweavers.com>
	Added a simple usage() function.

	* dlls/ddraw/dga.c, dlls/ddraw/dga2.c:
	No longer used.

	* include/wine/obj_cache.h, include/wine/obj_connection.h, include/wine/obj_oleobj.h, include/wine/obj_oleview.h:
	John R. Sheets <dusk@ravendusk.org>
	Correct some cut & paste typos.

	* tools/wineinstall:
	Chris Morgan <cmorgan@codeweavers.com>
	Update for the new config format and location of the default config
	file.  Add a conf_quesion to convert an old user config file, or use
	the default Wine config file.  Removed the setting of obsolete
	EXTRA_LD_LIBRARY_PATH.  Added a conf_question to give the user the
	option to install local config and registry files when the script is
	being run by root.

	* tools/winemaker:
	François Gouget <fgouget@codeweavers.com>
	Create the main_target in single-target mode.
	The defined(@array) construct is said to be deprecated, avoid it.
	Simplify the usage reporting.
	Add a word of caution to the usage message.

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix the return value of WM_GETTEXT in the edit control.

	* controls/combo.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Various combobox fixes.

	* files/Makefile.in:
	Chris Morgan <cmorgan@codeweavers.com>
	Removed some unnecessary defines after profile.c cleanup.

	* programs/avitools/aviplay.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Fixed unnamed union dummy names.

	* configure.in, include/acconfig.h, include/config.h.in, include/wine/port.h, include/winnt.h, configure:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Replaced architecture-dependent configure checks by hardcoded
	definitions in winnt.h (to avoid config.h dependency).

	* dlls/ntdll/exception.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Added missing prototypes to avoid compile warnings on Solaris.

	* include/winsock.h:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Work around problems on Solaris if config.h is not included.

	* windows/message.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Fixed byteorder problems caused by non-portable code.

2001-01-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msvcrt/cpp.c, dlls/msvcrt/ctype.c, dlls/msvcrt/data.c, dlls/msvcrt/dir.c, dlls/msvcrt/environ.c, dlls/msvcrt/errno.c, dlls/msvcrt/except.c, dlls/msvcrt/exit.c, dlls/msvcrt/file.c, dlls/msvcrt/heap.c, dlls/msvcrt/locale.c, dlls/msvcrt/main.c, dlls/msvcrt/math.c, dlls/msvcrt/mbcs.c, dlls/msvcrt/misc.c, dlls/msvcrt/ms_errno.h, dlls/msvcrt/msvcrt.h, dlls/msvcrt/msvcrt.spec, dlls/msvcrt/process.c, dlls/msvcrt/string.c, dlls/msvcrt/thread.c, dlls/msvcrt/time.c, dlls/msvcrt/wcs.c, documentation/samples/config, loader/loadorder.c, DEVELOPERS-HINTS, Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/msvcrt/.cvsignore, dlls/msvcrt/Makefile.in, dlls/msvcrt/console.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- Migrate CRTDLL to MSVCRT.
	- Many fixes and a load of new functions.

	* include/options.h, misc/options.c:
	Removed all traces of the --config option.

	* dlls/ddraw/ddraw/xvidmode.c:
	Gavriel State <gav@transgaming.com>
	Reenabled DXGrab option.

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Synchronize the sizes of the external and internal buffers at start
	and end of message processing in the edit control.

	* controls/listbox.c:
	Gerard Patel <gerard.patel@asi.fr>
	Fixed returned length for LB_GETTEXT.

	* dlls/kernel/Makefile.in:
	Added nls to EXTRASUBDIRS.

	* files/profile.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Removed use of outdated WINE_INI environment variable.  Removed
	obsolete --config option.  Removed loading of global wine config file.
	Cleaned up some messages.

	* controls/edit.c:
	James Hatheway <james@macadamian.com>
	es->buffer_size is not always the length of the text currently in the
	editbox, so use -1 instead.

	* loader/module.c, loader/ne/module.c, dlls/ntdll/ntdll.spec:
	Gerard Patel <gerard.patel@asi.fr>
	Added a specific debug channel for dll loading (builtin/native).

	* objects/dib.c, objects/enhmetafile.c, objects/metafile.c, objects/palette.c, objects/text.c:
	Joerg Mayer <jmayer@loplof.de>
	Fixed some signed/unsigned warnings.

	* files/file.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Implemented asynchronous ReadFile and WriteFile.

	* tools/winemaker:
	François Gouget <fgouget@codeweavers.com>
	Require that the user specify a work directory. This provides a
	safeguard against accidental invocations.

	* dlls/comctl32/propsheet.c:
	François Gouget <fgouget@codeweavers.com>
	Only copy the dwSize bytes really occupied by lpPropSheetPage.

	* include/windowsx.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	For the Global*Ptr* set of macros, replace the 16bit version with
	their 32 bit equiv.

	* dlls/comctl32/toolbar.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Only call TOOLBAR_CalcToolbar when parameters change.

2001-01-09  Alexandre Julliard  <julliard@winehq.com>

	* controls/combo.c, controls/listbox.c, dlls/user/controls.h:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added unicode window proc for the listbox control.
	Replaced all ansi calls by their unicode equivalents.
	Removed use of the custom local heap.

	* dlls/comctl32/listview.c:
	François Gouget <fgouget@codeweavers.com>
	Test for NULL and LPSTR_TEXTCALLBACK before using lpColumn->pszText.

	* dlls/ddraw/dsurface/main.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed some incorrect format strings.

	* debugger/dbgmain.c: Removed obsolete file.

	* include/windef.h, include/winuser.h, windows/user.c, dlls/user/misc.c:
	François Gouget <fgouget@codeweavers.com>
	Move HDWP to winuser.h.
	Convert HWINSTA to STRICT.

	* files/drive.c, misc/cdrom.c:
	Ryan Cumming <bodnar42@bodnar42.dhs.org>
	Make CDROM_GetLabel return 0 in the event of failure, and make the
	default label for drives a string of 11 spaces.

	* dlls/winaspi/aspi.c:
	David Elliott <dfe@infinite-internet.net>
	Fixed usage of RegEnumValueA.

	* dlls/winspool/info.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Handle the EnumPrinters() flag PRINTER_ENUM_DEFAULT in the same way
	that NT does - that is ignore it and return TRUE.

	* dlls/winmm/mcicda/mcicda.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Actually call CDROM_Audio_GetTracksInfo when retrieving
	MCI_CDA_STATUS_TRACK_TYPE.
	WINE_CDA_OPEN maps to MCIERR_HARDWARE.

	* scheduler/services.c:
	François Gouget <fgouget@codeweavers.com>
	SERVICE_AddObject check for NULL handles in addition to
	INVALID_HANDLE_VALUE.

	* files/file.c:
	François Gouget <fgouget@codeweavers.com>
	The last parameter of CreateFile should be 0 (aka NULL), not -1.
	CreateFile returns INVALID_HANDLE_VALUE when it fails, not
	HFILE_ERROR.
	Added comments.

	* win32/console.c:
	François Gouget <fgouget@codeweavers.com>
	pty_handle is a HANDLE, not an int.

	* tools/winemaker:
	François Gouget <fgouget@codeweavers.com>
	(configure) Look for the headers in $WINE_ROOT/include/wine and
	/opt/wine/include/wine.

	* dlls/comctl32/commctrl.c:
	Gerard Patel <gerard.patel@asi.fr>
	Send the creation notification to the true owner of the tooltip.

	* controls/combo.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Ensure there is an edit control when we reset contents.

	* dlls/comctl32/listview.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Adjust item rects by horizontal scrollbar offset.

	* dlls/comctl32/tab.c:
	Gerard Patel <gerard.patel@asi.fr>
	Fixed TCM_GetRowCount.

2001-01-07  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ttydrv/ttydrv.spec:
	Need to import user32 even though we don't use symbols from it yet.

	* tools/specmaker/Makefile.in:
	Leonard Norrgård <vinsci@nic.funet.fi>
	Reference $(SRCDIR) when installing the perl script (it doesn't exist
	in the build directory).

	* dlls/commdlg/finddlg32.c:
	Gerard Patel <gerard.patel@asi.fr>
	Changed string pointer calculation.

	* include/shlwapi.h, include/wine/undocshell.h, dlls/shlwapi/ordinal.c, dlls/shlwapi/path.c, dlls/shlwapi/reg.c, dlls/shell32/clipboard.c, dlls/shell32/enumidlist.c, dlls/shell32/pidl.c, dlls/shell32/shellpath.c, dlls/shell32/shlfileop.c, dlls/shell32/shlmenu.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Moved all the documented shlwapi functions out of undocshell.h into
	shlwapi.h.  Nothing but files in dlls/shell32 will now include
	undocshell.h.

	* dlls/ddraw/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Removed one &, now CoCreateInstance() of ddraw objects works again.

	* server/async.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Calculate the timeout time once when the async is created.

	* include/winbase.h:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Implemented HasOverlappedCompleted macro.

	* windows/winproc.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add missing mapping for LB_FINDSTRINGEXACT message (thanks to Gerard
	Patel for reporting the bug).

	* controls/combo.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Combobox should clear its current selection on response to
	CB_SETCURSEL(-1) message.

2001-01-06  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winedos/module.c, dlls/winedos/winedos.spec, include/callback.h, include/dosexe.h, loader/ne/module.c, miscemu/main.c, scheduler/process.c:
	Use the exe name and file handle we got from the server also when
	starting Win16 or DOS programs, to avoid depending on the contents of
	the command-line.

	* server/process.c, server/thread.c, server/thread.h, server/timer.c, server/trace.c, include/server.h, scheduler/synchro.c, scheduler/thread.c, server/async.c, server/debugger.c:
	Added separate queue for "system" APCs that get called even when the
	thread is not in an alertable state.
	Specify the select_request timeout as absolute value so that we can
	restart the request when interrupted.

	* wine.ini: Removed old format config file.

	* controls/menu.c:
	François Gouget <fgouget@codeweavers.com>
	Modify the look of bitmap menu items to match Win95 and Win98
	Fix the sunken edge/bitmap overlap in the Win98 look
	Introduce an IS_MAGIC_ITEM macro to test if the item is 'magic'

	* graphics/enhmetafiledrv/init.c, graphics/metafiledrv/init.c, loader/module.c, loader/ne/module.c, loader/pe_image.c, memory/registry.c, msdos/int21.c, objects/enhmetafile.c, objects/metafile.c, scheduler/process.c, dlls/advapi32/registry.c, dlls/crtdll/file.c, dlls/oleaut32/typelib.c, dlls/shell32/shell32_main.c, dlls/user/exticon.c, dlls/winedos/module.c:
	François Gouget <fgouget@codeweavers.com>
	Fixed some HFILE vs. HANDLE mismatches.
	If not used the last parameter of CreateFile must be 0, not -1.

	* dlls/msacm/msacm.spec, dlls/msacm/msacm_main.c, documentation/samples/config, loader/loadorder.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Forced loading of msacm32 when msacm is loaded.
	Added msacm DLL pair in config files.
	Added some dumb calls from 16 to 32.

	* dlls/Makefile.in, dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Huw D M Davies <hdavies@codeweavers.com>
	Implement InternetCanonicalizeUrl.

	* dlls/dsound/dsound_main.c:
	Johan Gill <johane@lysator.liu.se>
	Added a more truthful message about what really is wrong.

	* dlls/gdi/printdrv.c, include/wine/wingdi16.h:
	Marcus Meissner <marcus@jet.franken.de>
	Don't call QueryAbort16() in WriteSpool16(), since it might be called
	with locks held (and we do not need to call it here).

	* controls/listbox.c:
	Andreas Mohr <amohr@codeweavers.com>
	Took a stab at implementing LBS_NOSEL.

2001-01-05  Alexandre Julliard  <julliard@winehq.com>

	* include/server.h, scheduler/process.c, server/process.c, server/trace.c:
	Send the exe file handle in init_process_done request.

	* files/profile.c:
	Avoid crashing on invalid lines during config file conversion.

	* dlls/shlwapi/Makefile.in, dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec, dlls/shlwapi/url.c, include/shlwapi.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Implemented a few Url* functions.

	* controls/combo.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added unicode window proc for combobox control.
	Replaced ansi calls by their unicode equivalents.

	* controls/static.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added unicode window proc for the static control.
	Replaced ansi calls by their unicode equivalents.

	* dlls/wsock32/socket.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Returning success for unknown WSCNTL_TCPIP_QUERY_INFO code makes win98
	winipcfg work.

	* dlls/dinput/mouse/main.c:
	Andreas Mohr <amohr@codeweavers.com>
	Mouse events fix.

	* tools/make_requests, win32/console.c, win32/device.c, windows/queue.c, loader/ne/module.c, memory/virtual.c, misc/registry.c, relay32/builtin32.c, scheduler/client.c, scheduler/handle.c, scheduler/process.c, scheduler/thread.c, scheduler/timer.c, server/async.c, server/change.c, server/console.c, server/debugger.c, server/device.c, server/event.c, server/file.c, server/handle.c, server/handle.h, server/mapping.c, server/mutex.c, server/object.h, server/pipe.c, server/process.c, server/process.h, server/queue.c, server/registry.c, server/request.c, server/request.h, server/semaphore.c, server/serial.c, server/snapshot.c, server/sock.c, server/thread.c, server/thread.h, server/timer.c, server/trace.c, dlls/kernel/sync.c, dlls/kernel/toolhelp.c, dlls/ntdll/reg.c, dlls/ntdll/sync.c, dlls/winsock/socket.c, files/dos_fs.c, files/file.c, include/file.h, include/module.h, include/server.h, loader/elf.c, loader/module.c, loader/pe_image.c:
	Added handle_t type to server interface so that we can make handles
	pointers later on.
	Always use 0 to signal invalid handle in server requests.

	* include/commdlg.h, programs/cmdlgtst/cmdlgtst.c:
	François Gouget <fgouget@codeweavers.com>
	I triple checked but yes, CHOOSECOLOR.hInstance is an HWND...

	* dlls/winmm/driver.c, msdos/vga.c:
	François Gouget <fgouget@codeweavers.com>
	We must cast the return value of GetProcAddress.

	* programs/progman/dialog.c, programs/progman/group.c, programs/progman/main.c, programs/progman/program.c:
	François Gouget <fgouget@codeweavers.com>
	The WndProc function was missing the CALLBACK modifier.

	* programs/avitools/aviinfo.c, programs/avitools/aviplay.c, programs/avitools/icinfo.c:
	François Gouget <fgouget@codeweavers.com>
	The first 2 parameters of WinMain are HINSTANCEs, not HANDLEs.

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fixed some problems with scrolling in the edit control.

2001-01-04  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ole32/compobj.c, dlls/ole32/ifs.c, dlls/ole32/storage.c, include/wine/obj_base.h, include/wine/obj_control.h, include/wine/obj_inplace.h, include/wine/obj_moniker.h, dlls/ddraw/d3dmaterial.c, dlls/ddraw/d3dtexture.c, dlls/ddraw/direct3d/mesa.c, dlls/dinput/dinput_main.c, dlls/dinput/joystick/linux.c, dlls/dinput/joystick/linuxinput.c, dlls/dinput/keyboard/main.c, dlls/dinput/mouse/main.c, dlls/dplayx/dplay.c, dlls/dplayx/dplobby.c:
	Francois Gouget <fgouget@free.fr>
	Removed the 'fn' prefix (i.e. ICOM_FN).

	* include/acconfig.h, include/config.h.in, include/ddraw.h, msdos/vga.c, dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/dclipper/main.c, dlls/ddraw/dclipper/main.h, dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/dga2.c, dlls/ddraw/ddraw/dga2.h, dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw/main.h, dlls/ddraw/ddraw/thunks.c, dlls/ddraw/ddraw/user.c, dlls/ddraw/ddraw/user.h, dlls/ddraw/ddraw/x11.c, dlls/ddraw/ddraw/xvidmode.c, dlls/ddraw/ddraw/xvidmode.h, dlls/ddraw/direct3d/mesa.c, dlls/ddraw/dpalette/dga.c, dlls/ddraw/dpalette/main.c, dlls/ddraw/dpalette/main.h, dlls/ddraw/dpalette/x11.c, dlls/ddraw/dsurface/dga.c, dlls/ddraw/dsurface/dga2.c, dlls/ddraw/dsurface/dga2.h, dlls/ddraw/dsurface/dib.c, dlls/ddraw/dsurface/dib.h, dlls/ddraw/dsurface/dibtexture.c, dlls/ddraw/dsurface/dibtexture.h, dlls/ddraw/dsurface/fakezbuffer.c, dlls/ddraw/dsurface/fakezbuffer.h, dlls/ddraw/dsurface/main.c, dlls/ddraw/dsurface/main.h, dlls/ddraw/dsurface/thunks.c, dlls/ddraw/dsurface/thunks.h, dlls/ddraw/dsurface/user.c, dlls/ddraw/dsurface/user.h, dlls/ddraw/dsurface/wndproc.c, dlls/ddraw/dsurface/wndproc.h, dlls/ddraw/dsurface/x11.c, documentation/ddraw.txt, configure, configure.in, dlls/ddraw/Makefile.in, dlls/ddraw/convert.c, dlls/ddraw/d3d_private.h, dlls/ddraw/d3dtexture.c, dlls/ddraw/ddcomimpl.h, dlls/ddraw/ddraw.spec, dlls/ddraw/ddraw_private.h, dlls/ddraw/helper.c, dlls/ddraw/main.c, dlls/ddraw/mesa_private.h, dlls/ddraw/struct_convert.c, dlls/ddraw/x11.c, dlls/ddraw/x11_private.h:
	Andrew Lewycky <andrew@transgaming.com>
	Gavriel State <gav@transgaming.com>
	Ove Kaaven <ovek@transgaming.com>
	Major DirectDraw restructure/reimplementation, using an improved component
	object model hierarchy. The implementation currently supports:
	- DirectDraw over GDI/USER in a window (using DIBsections and
	  asynchronous updates)
	- XVidMode
	- XF86DGA2
	- All DirectDraw interfaces from versions 1 to 7 (at least in theory)
	- Hooks for Direct3D interfaces

	* dlls/msacm/wineacm.h, include/Makefile.in, include/mmsystem.h, include/msacm.h, include/msacmdlg.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added a few missing parts.

	* controls/menu.c:
	Francois Gouget <fgouget@free.fr>
	Fixed the alignment of the MF_RIGHTJUSTIFY menu items.

	* misc/main.c: Removed obsolete code.

	* dlls/Makefile.in: Fixed dll dependencies.

	* dlls/winmm/lolvldrv.c, dlls/winmm/wineoss/audio.c, include/mmddk.h, dlls/dsound/dsound_main.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Now using manifest constant instead of raw values for all the
	DRV_QUERY??? values.

	* dlls/kernel/thunk.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Added Ulrich Weigand's description of KERNEL32_99.

	* memory/global.c:
	Mike McCormack  <mike_mccormack@looksmart.com.au>
	Some borken memory monitoring programs divide by dwTotalPageFile,
	which probably isn't zero on windows.

	* configure.in, tools/Makefile.in, tools/specmaker/.cvsignore, tools/specmaker/Makefile.in, tools/specmaker/README, tools/specmaker/dll.c, tools/specmaker/function_grep.pl, tools/specmaker/main.c, tools/specmaker/misc.c, tools/specmaker/msmangle.c, tools/specmaker/output.c, tools/specmaker/search.c, tools/specmaker/specmaker.h, tools/specmaker/symbol.c, configure:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Added spec generation tool specmaker.

	* misc/options.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Reimplemented "relay=" and "snoop=" suboptions.

	* include/mmsystem.h, include/winbase.h, include/windef.h, include/winnls.h, include/winuser.h:
	François Gouget <fgouget@codeweavers.com>
	Moved the function pointer types to their rightful headers.
	The definition of the function pointer types must be based on STRICT.

	* graphics/x11drv/bitblt.c:
	Andreas Mohr <amohr@codeweavers.com>
	Starcraft was confused by a wrong FALSE BitBlt return.

	* dlls/winmm/wineoss/audio.c:
	Marcus Meissner <marcus@jet.franken.de>
	Set fragments for wave input to 7 x 1024 byte.

	* dlls/winmm/lolvldrv.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed loading of 16 bit drivers.
	Better support for native mappers.

	* controls/listbox.c:
	Aric Stewart <aric@codeweavers.com>
	Fixed a problem where when deleting an item using index -1 on an empty
	listbox we would pass through an illegal negative index and cause
	problems.

2001-01-03  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/process.c:
	Pass the application name also when starting a Unix app, and use it to
	load the main exe .so file.
	Fixed bug in directory handling in PROCESS_Create.

	* include/winbase.h:
	Jon Griffiths <tntjpgriff@tsnxt.co.uk>
	Added InitializeCriticalSectionAndSpinCount prototype.

	* include/windef.h, windows/user.c:
	François Gouget <fgouget@codeweavers.com>
	Convert HDESK to STRICT.

	* dlls/winmm/mciwave/mciwave.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed duplicate field in internal structure.
	Silenced warning for MCI_CONFIGURE message.

	* dlls/winmm/lolvldrv.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added support for the DRVM_MAPPER_STATUS message.

	* dlls/winmm/wavemap/msacm.drv.spec, dlls/winmm/wavemap/wavemap.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Replaced pointers to external functions by a DLL import.

	* dlls/msvideo/drawdib.c:
	Andreas Mohr <amohr@codeweavers.com>
	Fixed bitmap size handling.

2001-01-02  Alexandre Julliard  <julliard@winehq.com>

	* configure.in, include/acconfig.h, include/config.h.in, windows/x11drv/keyboard.c, configure:
	Ove Kaaven <ovek@transgaming.com>
	Turn on detectable autorepeat if the X Keyboard Extension is
	detected.

	* include/windef.h, include/wtypes.h:
	François Gouget <fgouget@codeweavers.com>
	Moved HMETAFILEPICT to wtypes.h. Note, HMETAFILEPICT is always a
	'void*' unlike regular handles.

	* dlls/kernel/kernel32.spec, dlls/commdlg/printdlg.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implement PrintDlg16 better (adding PrintDlgProc16 and several other
	16bit dependent functions)
	If we are using a template we might not have the default combobox for
	printers, use the default printer in those cases.
	More error messages and checks.
	Added GlobalFlags16 and GlobalReAlloc16 to kernel32.spec.

	* tools/winebuild/import.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Delayed import thunks for Sparc.

	* dlls/dplayx/dplayx_messages.c:
	François Gouget <fgouget@codeweavers.com>
	Removed an '#ifdef STRICT'.

	* dlls/dsound/dsound_main.c:
	Ove Kaaven <ovek@transgaming.com>
	Bugfix for sound dropping out, and workaround for Half-Life's
	braindead secondary sound buffer management.

	* dlls/shell32/shellole.c, include/shellapi.h, include/windef.h, windows/x11drv/event.c:
	François Gouget <fgouget@codeweavers.com>
	Moved HDROP to shellapi.h.

	* include/objbase.h:
	François Gouget <fgouget@codeweavers.com>
	Should include cguid.h.

	* include/ole2.h:
	François Gouget <fgouget@codeweavers.com>
	Added two error codes: E_DRAW and DATA_E_FORMATETC.

	* dlls/commdlg/filedlg.c:
	Andreas Mohr <amohr@codeweavers.com>
	Return 8.3 file names.
	Fixed sizeof(WCHAR) bugs.

	* tools/wrc/CHANGES, tools/wrc/genres.c, tools/wrc/newstruc.c, tools/wrc/parser.y, tools/wrc/wrc.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	- Fixed a byteorder conversion problem with message tables.
	- Carefully read and write (possibly) misaligned data elements
	  to avoid crashes on architectures where this is not allowed.

	* programs/view/view.c, programs/notepad/main.c:
	François Gouget <fgouget@codeweavers.com>
	Replaced calls to OpenFile with the equivalent call to
	CreateFile. Removes the need to cast the result to HANDLE.

	* programs/wcmd/batch.c, programs/wcmd/builtins.c, programs/wcmd/wcmdmain.c:
	François Gouget <fgouget@codeweavers.com>
	The last parameter of CreateFile is a HANDLE and should thus be NULL.

	* dlls/winsock/socket.c:
	Marcus Meissner <marcus@jet.franken.de>
	A socket becomes readable after connect in Linux 2.4 (even for
	connection refused).

	* dlls/winmm/wineoss/audio.c:
	Marcus Meissner <marcus@jet.franken.de>
	Read 4 bytes to wake up GETISPACE.

	* dlls/wineps/afm.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added one safety check to AFM parsing.

	* dlls/user/user.spec:
	Marcus Meissner <marcus@jet.franken.de>
	16bit user GetProp/SetProp get strings or atoms, so we can use 'str'.

	* dlls/advapi32/service.c:
	François Gouget <fgouget@codeweavers.com>
	Fixed some 0 vs. FALSE mismatches.
	Fixed a '%x' vs. '%lx' mismatch.
	Fixed some DWORD vs. SC_HANDLE mismatches.

	* include/winsvc.h:
	François Gouget <fgouget@codeweavers.com>
	SC_HANDLE is a HANDLE, not a 'DECLARE_HANDLE'
	SERVICE_STATUS_HANDLE is a DWORD

	* memory/local.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Align moveable blocks if the architecture requires it.

	* include/winerror.h:
	François Gouget <fgouget@codeweavers.com>
	Reordered the definitions according to their value.
	Inserted the *_S_* macros right before the corresponding *_E_* block
	Reindented the values.
	Removed the duplicate set of E_xxx macros since they are only used on
	non WIN32 platforms.
	Uncommented the CO_E_INIT_ set of macros.
	Removed some duplicate macro definitions and fixed various typos.
	Added the definitions needed by the MFC.

	* dlls/kernel/kernel.spec, dlls/kernel/kernel_main.c:
	Andreas Mohr <amohr@codeweavers.com>
	Added Reserved5 -> lstrcmp16.

	* dlls/version/install.c, dlls/version/resource.c:
	Andreas Mohr <amohr@codeweavers.com>
	Code was checking for 0 or HFILE_ERROR instead of negative error
	values.

2000-12-29  Alexandre Julliard  <julliard@winehq.com>

	* windows/input.c, windows/keyboard.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	"Implement" GetKBCodePage and GetKBCodePage16.

	* files/file.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Implemented GetOverlappedResult.

	* objects/font.c:
	Marcus Meissner <marcus@jet.franken.de>
	CreateFontIndirect() can get NULL pointers.

	* dlls/kernel/comm.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Improve async i/o compatability. lpOverlapped->Internal should hold
	the overlapped transfer status.

	* tools/winebuild/import.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Fixed builtin imports broken by latest change.

	* configure, configure.in:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Made unaligned access test effective.

	* include/wine/port.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed evilish cut and paste.

	* debugger/Makefile.in, debugger/dbg.y, debugger/info.c, debugger/module.c, debugger/msc.c, debugger/winedbg.c:
	François Gouget <fgouget@codeweavers.com>
	Compile the debugger with STRICT on.

	* dlls/wineps/font.c:
	Ian Pilcher <pilcher@concentric.net>
	Use a case-insensitive comparison to match PostScript font names.

	* include/wine/obj_base.h:
	François Gouget <fgouget@codeweavers.com>
	Added an ICOM_FN that generates either fn##xfn or sfn as appropriate.
	Use ICOM_FN to avoid duplicating the 'ICOM_V?METHOD.*' definitions.
	Remove the obsolete ICOM_CVMETHOD macros.
	Use the ICOM_VTBL macro to avoid duplicating the 'ICOM_CALL.*'
	definitions.

	* dlls/wininet/ftp.c, dlls/wininet/internet.h:
	Andreas Mohr <amohr@codeweavers.com>
	- implemented passive FTP transfers (PASV, needed for firewalls)
	- fixed lstnSocket closing

	* include/builtin16.h, include/winnt.h, tools/winebuild/import.c, tools/winebuild/relay.c, tools/winebuild/res16.c, tools/winebuild/spec16.c, tools/winebuild/spec32.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Fixed winebuild to work on non-Intel architectures.

	* loader/ne/module.c, loader/ne/resource.c, loader/module.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Prevent unaligned access to NE in-memory module data.

	* memory/codepage.c, unicode/Makefile.in, unicode/compose.c, unicode/cpmap.pl, unicode/mbtowc.c, unicode/wctomb.c:
	Added support for composite Unicode characters in MultiByteToWideChar
	and WideCharToMultiByte.

	* include/wingdi.h:
	François Gouget <fgouget@codeweavers.com>
	Added a prototype for GetLogColorSpace.

	* include/windef.h:
	François Gouget <fgouget@codeweavers.com>
	Convert HCOLORSPACE to STRICT mode.

	* documentation/HOWTO-winelib:
	Wilbur N. Dale <wilbur.dale@lumin.nl>
	Updated first example using latest winebuild dll/so procedure.

	* dlls/ntdll/signal_i386.c:
	Ove Kaaven <ovek@arcticnet.no>
	Fixed small race condition between vm86_enter() and signal handling.
	Made separate save_vm86_context and restore_vm86_context functions.

	* tools/winebuild/spec32.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Allow stubs for exports that are not legal C identifiers.

	* dlls/kernel/sync.c:
	Rein Klazes <rklazes@casema.net>
	Test pointer before it is dereferenced in CreateEventW().

2000-12-27  Alexandre Julliard  <julliard@winehq.com>

	* ole/Makefile.in, tools/winemaker, Make.rules.in, Makefile.in:
	Renamed libuuid.a to libwine_uuid.a

	* include/config.h.in, configure, configure.in, dlls/crtdll/crtdll_main.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Don't link with libw if libc already contains w* routines.
	Link every library with libnsl if required.
	Include ieeefp.h where necessary.

	* dlls/winmm/wineoss/oss.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Compile fix if HAVE_OSS is not defined.

	* if1632/relay.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Fixed broken prototypes.

	* if1632/snoop.c, relay32/snoop.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Silence silly error messages.

	* dlls/Makefile.in, dlls/dciman32/dciman32.spec, dlls/oledlg/oledlg.spec:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Import kernel32 (for SetLastError()).

	* dlls/version/resource.c, include/acconfig.h, include/config.h.in, include/windef.h, include/wine/port.h, loader/pe_resource.c, loader/task.c, memory/environ.c, memory/heap.c, windows/class.c, windows/dialog.c, configure, configure.in, dlls/dplayx/dplay.c, dlls/user/exticon.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Added check whether unaligned memory access is allowed.
	Added macros to access unaligned WORDs / DWORDs.

	* dlls/comctl32/tab.c, dlls/kernel/comm.c, dlls/winmm/lolvldrv.c, files/directory.c, files/drive.c, scheduler/client.c, scheduler/process.c, win32/console.c, win32/except.c, win32/file.c, README, console/generic.c, controls/menu.c, dlls/comctl32/commctrl.c, dlls/comctl32/propsheet.c:
	Andreas Mohr <amohr@codeweavers.com>
	- clarify many error messages
	- add data corruption warning to README file

	* windows/x11drv/keyboard.c:
	Ove Kaaven <ovek@arcticnet.no>
	Use the X state instead of the VK key state to check for eatable
	characters, since the VK key state isn't a fan of AltGr.

	* files/dos_fs.c:
	Lawson Whitney <lawson_whitney@juno.com>
	Allow an application to open a dos device ending with ':'.

	* dlls/winedos/module.c:
	Ove Kaaven <ovek@arcticnet.no>
	Release the Win16 lock before starting the DOS process, since it's not
	really a Win16 app.

	* dlls/winedos/dosvm.c:
	Ove Kaaven <ovek@arcticnet.no>
	Since DOSVM_Wait() blocks the normal event processing, it should
	dispatch pending events itself.

2000-12-26  Alexandre Julliard  <julliard@winehq.com>

	* debugger/stabs.c, debugger/expr.c, debugger/module.c, debugger/msc.c:
	Joerg Mayer <jmayer@loplof.de>
	Fix the trivial compiler warnings in debugger/ when compiling with -W
	- moved inline statements to front
	- fixed the trivial cases of signed/unsigned comparisons

	* dlls/comctl32/animate.c, dlls/comctl32/comctl32.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	No longer using function pointers to winmm and msvfw32, but delay
	loading instead.

	* tools/winebuild/README, tools/winebuild/build.h, tools/winebuild/import.c, tools/winebuild/parser.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added ability to delay loading of an imported DLL until it's needed
	(new -delay option for import directive in spec file).

	* server/process.c, server/thread.c:
	Fixed error recovery during thread creation.

	* dlls/winedos/Makefile.in, dlls/winedos/dosvm.c, dlls/winedos/module.c, dlls/winedos/winedos.spec, include/callback.h, include/dosexe.h, include/miscemu.h, loader/dos/Makefile.in, loader/dos/dosvm.c, loader/dos/module.c, miscemu/main.c, msdos/devices.c, msdos/dpmi.c, msdos/int09.c, msdos/int16.c, msdos/int20.c, msdos/int21.c, msdos/int33.c, msdos/ioports.c, Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/ntdll/Makefile.in, dlls/winedos/.cvsignore:
	Ove Kaaven <ovek@arcticnet.no>
	Separated the MZ loader and core DOS VM into dlls/winedos.

	* include/ddeml.h, include/vfw.h, include/windef.h, include/winnt.h, include/winsvc.h:
	François Gouget <fgouget@codeweavers.com>
	Declare all handles with DECLARE_OLD_HANDLE to ease conversion to
	STRICT.

	* dlls/gdi/gdi32.spec, include/wingdi.h:
	Francois Gouget <fgouget@free.fr>
	Added GetDCBrushColor and GetDCPenColor.

2000-12-25  Alexandre Julliard  <julliard@winehq.com>

	* documentation/wine.man.in:
	Lawson Whitney <lawson_whitney@juno.com>
	Removed --config from man wine.

	* documentation/samples/config:
	Lawson Whitney <lawson_whitney@juno.com>
	Removed trailing garbage after [serialports] device name.

2000-12-24  Alexandre Julliard  <julliard@winehq.com>

	* dlls/rasapi32/rasapi.c, include/ras.h, include/windef.h:
	François Gouget <fgouget@codeweavers.com>
	Moved HRASCONN from windef.h.
	Added missing Unicode type and function definitions.
	Added a few missing macro definitions.
	Enclose in an extern "C" for C++ Winelib applications.
	Added the structure packing specification.

	* files/change.c, graphics/enhmetafiledrv/objects.c, include/winuser.h, loader/pe_resource.c, loader/resource.c, scheduler/handle.c:
	François Gouget <fgouget@codeweavers.com>
	Fixed a few type clashes in preparation for the switch to STRICT.

	* graphics/x11drv/pen.c, windows/painting.c:
	Francois Gouget <fgouget@free.fr>
	Updated the look of dots and dashes to match the Win32 look.
	Issue a FIXME about PS_USERSTYLE.

	* files/directory.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Define environment variable TMP as an alias for TEMP.

	* programs/regapi/regapi.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	<malloc.h> is not ISO C, <stdlib.h> is.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Fixed loop test for negative value.

2000-12-22  Alexandre Julliard  <julliard@winehq.com>

	* include/version.h, ANNOUNCE, ChangeLog:
	Release 20001222.

----------------------------------------------------------------
2000-12-22  Alexandre Julliard  <julliard@winehq.com>

	* windows/clipboard.c, windows/x11drv/clipboard.c:
	Gerard Patel <gerard.patel@asi.fr>
	Cancel a few changes to get back basic text clipboard functionality.

	* dlls/winmm/mmsystem.c, include/wine/winbase16.h, windows/message.c, windows/queue.c, windows/winhelp.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Replaced calls to KERNEL.Yield16 by calls to KERNEL32.K32WOWYield from
	outside libkernel.so.

	* loader/module.c:
	No longer try to load builtin library when loadorder is 'so'.

	* Make.rules.in, configure, configure.in, dlls/Makedll.rules.in, library/Makefile.in, tsx11/Makefile.in, unicode/Makefile.in, unicode/wine_unicode.def:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Use dllwrap for building shared libraries in cygwin.

	* server/async.c, server/console.c, server/file.c, server/handle.c, server/mapping.c, server/pipe.c, server/registry.c, server/request.c, server/serial.c, server/sock.c, server/thread.c:
	Avoid dup'ing file descriptors when not necessary.
	Do not send fd to the client if ops->get_fd() fails.

	* scheduler/thread.c:
	Fixed copy/paste bug (thanks to Gerard Patel).

	* dlls/dsound/dsound_main.c:
	Ove Kaaven <ovek@transgaming.com>
	More intelligent DirectSound prebuffering. By tracking the
	last-written position of streaming buffers, it attempts to avoid
	prebuffering past this position unless necessary; this may avoid a
	number of sound problems in various situations. Merged HEL and HAL
	mixing code, which should reduce the HEL mode's CPU usage slightly.

	* windows/win.c: Joerg Mayer <jmayer@loplof.de>
	Warn when FindWindow needs to check other processes windows.

	* documentation/Makefile.in:
	Joerg Mayer <jmayer@loplof.de>
	Don't suppress error messages.

	* dlls/ntdll/critsection.c:
	Joerg Mayer <jmayer@loplof.de>
	Add %fs info to the critical section timeout message.

	* include/debugtools.h:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Remove redundant ';' at the end of line.

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Fix remaining signed/unsigned mismatches.

	* dlls/ntdll/om.c, files/file.c, include/server.h, include/thread.h, loader/ne/module.c, memory/virtual.c, scheduler/client.c, scheduler/handle.c, scheduler/thread.c, server/console.c, server/debugger.c, server/file.c, server/handle.c, server/handle.h, server/mapping.c, server/object.h, server/pipe.c, server/request.c, server/request.h, server/thread.c, server/thread.h, server/trace.c:
	Use a separate FIFO pair for server requests that don't need to pass a
	file descriptor.
	Associate file descriptors with handles on the server side so that we
	don't need to pass the fd every time the client wants to use it.

	* wine.ini:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Native IMM32.DLL crashes wine - use builtin DLL.

	* relay32/builtin32.c:
	Andreas Mohr <amohr@codeweavers.com>
	Print all problems as ERR() except for "could not open" library, which
	is WARN().

	* dlls/ddraw/dsurface/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	IDirectDrawSurface::Blt::SRCCOPY is the default ROP operation, do not
	throw error.

	* windows/x11drv/clipboard.c, windows/x11drv/event.c, windows/x11drv/keyboard.c, windows/x11drv/mouse.c, windows/dce.c, windows/defdlg.c, windows/defwnd.c, windows/dialog.c, windows/driver.c, windows/focus.c, windows/hook.c, windows/input.c, windows/keyboard.c, windows/mdi.c, windows/message.c, windows/msgbox.c, windows/multimon.c, windows/nonclient.c, windows/painting.c, windows/property.c, windows/queue.c, windows/rect.c, windows/scroll.c, windows/syscolor.c, windows/sysmetrics.c, windows/sysparams.c, windows/timer.c, windows/user.c, windows/win.c, windows/winhelp.c, windows/winpos.c, windows/winproc.c, windows/caret.c, windows/class.c, windows/clipboard.c, windows/cursoricon.c:
	Patrik Stridvall <ps@leissner.se>
	Various documentation fixes.

	* windows/winpos.c:
	Removed the dummy mouse event in SetWindowPos.

	* dlls/kernel/kernel32.spec, dlls/user/user32.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added some 16 bit entry points needed by multimedia DLLs.

	* windows/win.c, windows/x11drv/event.c, include/file.h, include/wine/winbase16.h, loader/resource.c, memory/global.c, memory/local.c, objects/metafile.c, controls/edit.c, dlls/kernel/wowthunk.c, dlls/winmm/mmio.c, files/file.c, graphics/win16drv/init.c:
	Replaced WIN16_GlobalLock16 by "official" function K32WOWGlobalLock16.

	* graphics/x11drv/bitblt.c, graphics/x11drv/dib.c, include/x11drv.h:
	Ove Kaaven <ovek@transgaming.com>
	Gavriel State <gav@transgaming.com>
	More DIB section copy-blitting improvements: Handle 8bpp DIBs, DC
	mapping modes, and clipping. Take advantage of the DIBsection's
	XShmImage mechanism to get a really fast blit to the display.

2000-12-21  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/user.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/win16/user.api, tools/winapi_check/win32/shlwapi.api, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_local.pm, tools/winapi_check/winapi_options.pm:
	Patrik Stridvall <ps@leissner.se>
	- Minor API file update.
	- Minor bug fixes.
	- Added new option on --documentation-ordinal (off by default).
	- Added new option on --documentation-pedantic (off by default).

	* dlls/winmm/wineoss/audio.c, dlls/dsound/dsound_main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Handle errors for IDsDriver_GetPosition.
	Report DSERR_UNINITIALIZED on non-opened WineOSS audio device.

	* dlls/winmm/Makefile.in, dlls/winmm/driver.c, windows/driver.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Cleaned up the code a bit.

	* dlls/winmm/wineoss/audio.c:
	Ove Kaaven <ovek@transgaming.com>
	Enable the DirectSound HAL for sound drivers that do not report
	DSP_CAP_REALTIME. Set precision of these to 256 bytes (about 3ms).

	* dlls/oleaut32/typelib.c:
	Francois Jacques <francoisj@macadamian.com>
	- TLB_DoFuncs: code cleanup and elemdescFunc read correctly from TLB.
	- TLB_LoadTypeLib: ref count problem.
	- ITypeLib::GetTypeInfoOfGuid: safer implementation (pointer testing).
	- ITypeInfo::GetRefTypeOfImplType: safer implementation (pointer testing).
	- ITypeInfo2::GetDocumentationL return errors if SysAllocString failed.
	- TLB loader functions now trace in "typelib" channel.
	- Improved traces in AddRef/Release and improved dump_* functions for
	  debugging.

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Don't write to buffer with zero length.
	Removed some unused function parameters.

	* dlls/crtdll/crtdll_main.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Do not free the not owned error string.

	* dlls/oleaut32/safearray.c:
	Francois Jacques <francoisj@macadamian.com>
	Updated SafeArrayGetUBound and SafeArrayGetLBound with more sanity
	checks: an array has at least one dimension.
	Updated validCoordinates, where SafeArrayGetLBound was called on
	dimension 0.

	* dlls/winmm/lolvldrv.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Rewrote the allocation of MM driver descriptors.

	* objects/enhmetafile.c:
	Eric Kohl <ekohl@codeweavers.com>
	Use handle to palette instead of index for EMR_SELECTPALETTE.
	Implemented simple case for EMR_EXTSELECTCLIPRGN.

2000-12-20  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/debugtools.c:
	Fixed debug routines to work before the process heap is created.

	* loader/module.c:
	Do not call thread attach/detach routines during process exit to avoid
	potential deadlocks.

	* graphics/x11drv/dib.c:
	Gerard Patel <gerard.patel@asi.fr>
	Set the color mask with BI_BITFIELD dibs, don't use the
	application-provided value.

	* memory/global.c, controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Make new edit control allocate its buffers with granularity 32 byte.
	Ensure that all copied strings are 0 terminated.

	* windows/spy.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- print out WM_NOTIFY message code if we know it.
	- print out memory past end of NMHDR structure for the size of
	  the normal NMxxxxx structure associated with the message code.
	- setup notify code table for common, REBAR, TOOLBAR, and COMBOEX (at
	  least partially).

2000-12-19  Alexandre Julliard  <julliard@winehq.com>

	* memory/global.c: Set last error in GlobalUnlock.

	* dlls/kernel/comm.c, dlls/kernel/debugger.c, dlls/kernel/time.c:
	Andrew Johnston <ajohnston@switch.com>
	Documentation update.

	* dlls/user/exticon.c, dlls/version/resource.c, include/winnt.h, library/loader.c, loader/pe_resource.c:
	François Gouget <fgouget@codeweavers.com>
	DUMMYSTRUCTNAME2 creates a conflict when using anonymous union names.

	* documentation/printing.sgml:
	Stefan Leichter <Stefan.Leichter@camline.com>
	Added description of printerports section of the win.ini file for wineps.drv.

	* include/wine/obj_connection.h:
	James Hatheway <james@macadamian.com>
	Fix IConnectionPointContainer interface macros.

	* dlls/oleaut32/Makefile.in, dlls/oleaut32/dispatch.c, dlls/oleaut32/oleaut32.spec:
	Francois Jacques <francoisj@macadamian.com>
	Implementation of Dispatch API.

	* dlls/crtdll/console.c, dlls/crtdll/crtdll.h, dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/crtdll/dir.c, dlls/crtdll/exit.c, dlls/crtdll/file.c, dlls/crtdll/locale.c, dlls/crtdll/mbstring.c, tools/winapi_check/win32/crtdll.api:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- Add several mbcs and CP 932 functions, fix some existing calls
	- Bug fixes, -W warnings and winapi_check updates.
	- Don't be so strict setting default locale, store codepage

	* library/port.c:
	Include stdlib.h instead of wchar.h.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	Marcus Meissner <marcus@jet.franken.de>
	shlwapi forwarders for SetWindowLongW and CallWindowProcW.

	* dlls/user/user32.spec:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	New unicode edit control.

	* files/profile.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Protect against NULL buffer in the profile functions.

	* controls/edit.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	New unicode edit control.

	* ole/ole2nls.c, tools/bin2res.c, tools/wrc/genres.c, tools/wrc/parser.y, windows/clipboard.c, windows/dialog.c, windows/hook.c, windows/input.c, windows/keyboard.c, windows/mdi.c, dlls/winmm/mcianim/mcianim.c, dlls/winmm/mciavi/mciavi.c, dlls/winmm/mcicda/mcicda.c, dlls/winmm/mciseq/mcimidi.c, dlls/winmm/mciwave/mciwave.c, dlls/winmm/midimap/midimap.c, dlls/winmm/wavemap/wavemap.c, dlls/winmm/wineoss/midi.c, dlls/winmm/wineoss/oss.c, include/win.h, include/winpos.h, misc/tweak.c, msdos/int09.c, msdos/int33.c, controls/icontitle.c, dlls/commdlg/filedlgbrowser.c, dlls/dsound/dsound_main.c, dlls/msvideo/drawdib.c, dlls/ole32/clipboard.c, dlls/ole32/ole2nls.c, dlls/oleaut32/ole2disp.c, dlls/oleaut32/oleaut.c, dlls/oleaut32/stubs.c, dlls/richedit/rtf.h, dlls/user/user_main.c, dlls/winmm/joystick/joystick.c, dlls/winmm/time.c:
	François Gouget <fgouget@codeweavers.com>
	winuser.h now requires that we include winbase.h first.

	* include/winuser.h:
	François Gouget <fgouget@codeweavers.com>
	Added CreateWindowStation.

	* include/windows.h:
	François Gouget <fgouget@codeweavers.com>
	Removed the 'extern "C" { ... }' statement. It is not supposed to be
	there.

	* include/windef.h:
	François Gouget <fgouget@codeweavers.com>
	Moved a misplaced 'extern "C" { ... }' statement.

	* library/port.c, include/tchar.h, include/winnt.h, include/wtypes.h:
	François Gouget <fgouget@codeweavers.com>
	Added better support for Unicode:
	Added support for 16-bit wchar_t
	Added support for rewriting 4-byte Unicode literals to 16bit Unicode

	* dlls/user/exticon.c, dlls/version/resource.c, include/acconfig.h, include/config.h.in, include/winnt.h, loader/pe_resource.c, configure, configure.in:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Fixed IMAGE_RESOURCE_DIRECTORY_ENTRY on big-endian machines.

	* dlls/ole32/ole2.c, dlls/ole32/ole32.spec:
	Gerard Patel <gerard.patel@asi.fr>
	Stub for DllDebugObjectRPCHook.

	* dlls/oleaut32/typelib.c:
	Gerard Patel <gerard.patel@asi.fr>
	Misc fixes for QueryPathOfRegTypeLib, TLB_ReadTypeLib,
	ITypeInfo_fnGetContainingTypeLib.

	* dlls/comctl32/tooltips.c:
	Gerard Patel <gerard.patel@asi.fr>
	Do not send a WM_NOTIFYFORMAT to a non-existent owner.

	* server/atom.c, server/change.c, server/console.c, server/debugger.c, server/device.c, server/event.c, server/file.c, server/handle.c, server/mapping.c, server/mutex.c, server/object.c, server/object.h, server/pipe.c, server/process.c, server/queue.c, server/registry.c, server/request.c, server/request.h, server/semaphore.c, server/serial.c, server/snapshot.c, server/sock.c, server/thread.c, server/timer.c, server/trace.c, files/file.c, include/server.h, scheduler/process.c, server/async.c:
	Merged the get_read_fd and get_write_fd requests.

	* dlls/dinput/mouse/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented DIGDD_PEEK for SysMouseA::GetDeviceData.

	* include/tchar.h:
	François Gouget <fgouget@codeweavers.com>
	_str{dec,inc}: Cast the parameters to the proper type first
	Added definitions for _tfinddata*

	* include/objbase.h, include/winnt.h:
	François Gouget <fgouget@codeweavers.com>
	Moved some of the STDMETHOD/STDAPI to winnt.h.
	Moved the EXTERN_C macro to winnt.h.
	Added a '#ifndef __WINE__' around the remaining macros.

	* include/wtypes.h:
	François Gouget <fgouget@codeweavers.com>
	Removed some of the SECURITY_xxx types.

	* include/winuser.h:
	François Gouget <fgouget@codeweavers.com>
	Added SetUserObjectSecurity.

	* include/commctrl.h:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Add notify structures NMMOUSE, NMOBJECTNOTIFY, NMKEY, and NMCHAR.

2000-12-18  Alexandre Julliard  <julliard@winehq.com>

	* dlls/imm32/Makefile.in, dlls/imm32/imc.c, dlls/imm32/imekl.c, dlls/imm32/imewnd.c, dlls/imm32/imm.c, dlls/imm32/imm32.spec, dlls/imm32/imm_private.h, dlls/imm32/main.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented keyboard layout and context  - far from complete.

	* library/port.c:
	Morten Welinder <terra-wine@diku.dk>
	(strcasecmp): Conform to ANSI specs for toupper.
	(strncasecmp): Ditto.  Also do not use side-effects in macro args.
	(wine_openpty): Plug descriptor leak.  Always set errno on failure.
	(wine_anon_mmap): Fix comment location.

	* misc/options.c:
	Morten Welinder <terra-wine@diku.dk>
	(parse_options): Allow GNU-like option arguments like
	"--desktop=800x600".  (Not perfect -- we don't allow shorthands.)

	* tools/winebuild/import.c, configure, configure.in:
	Patrik Stridvall <ps@leissner.se>
	Solaris fixes.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Implement drag for vertical rebars (drag up and down).
	- Better algorithims for inserting new bands - matches native version
	  closer.
	- Make drawing of rebar attempt to match native pixel by pixel (note
	  this does not fix the embedded controls in each band - they still are
	  as good or bad as before.)
	- Implement some of the notifications (RBN_HEIGHTCHANGE, _CHILDSIZE,
	  _DELETINGBAND, _DELETEDBAND).

	* dlls/comctl32/comboex.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Pass WM_COMMAND and WM_NOTIFY to parent as received.

	* dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c:
	Gerard Patel <gerard.patel@asi.fr>
	Change the current directory as the user browses the directory tree.

	* dlls/crtdll/file.c:
	David Elliott <dfe@infinite-internet.net>
	Changed typo va_list to valist.

	* windows/dialog.c:
	Gerard Patel <gerard.patel@asi.fr>
	Allow for the dialog font size to be set directly in pixels.

	* windows/winpos.c:
	Gerard Patel <gerard.patel@asi.fr>
	WM_GETMINMAXINFO track min size should be used in SetWindowPos also
	for 32 bits apps.

	* dlls/msvideo/msvideo_main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Mapping for ICM_SETSTATE (ptr in lParam1 to private data).

2000-12-16  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/shellpath.c, memory/environ.c, dlls/setupapi/devinst.c, dlls/setupapi/setupx_main.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/win16/setupx.api, tools/winapi_check/win32/crtdll.api, tools/winapi_check/win32/imm32.api, tools/winapi_check/win32/ntdll.api, tools/winapi_check/modules.dat, tools/winapi_check/win16/olecli.api, tools/winapi_check/winapi_check, tools/winapi_check/winapi_options.pm:
	Patrik Stridvall <ps@leissner.se>
	- Minor API file update.
	- Turned on --documentation-arguments by default.

	* dlls/crtdll/dir.c, dlls/crtdll/file.c, dlls/crtdll/locale.c, dlls/crtdll/spawn.c, dlls/crtdll/crtdll_main.c, dlls/crtdll/console.c, dlls/crtdll/crtdll.h, dlls/crtdll/crtdll.spec:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- Fix _fullpath & splitpath, winapi_check fixes
	- Add cprintf,cscanf,_fgetwchar,_fgetwc,_fputwchar,_fputwc,
	  _wtoi & _wtol (fwd),scanf,_timezone_dll

	* windows/x11drv/event.c, dlls/dinput/mouse/main.c, include/input.h, windows/cursoricon.c, windows/input.c, windows/winpos.c:
	Avoid a couple of dependencies on input.c internal variables.

	* dlls/crtdll/file.c:
	Fixed infinite loop in CRTDLL__fcloseall.

	* dlls/imm32/Makefile.in, dlls/imm32/imewnd.c, dlls/imm32/imm.c, dlls/imm32/imm_private.h, dlls/imm32/main.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented some APIs and IME class - far from complete.

	* dlls/ddraw/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Check for NULL before doing IsEqualGUID().

	* dlls/winmm/mci.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed loading of 16 bit MCI drivers (for command tables).
	Fixed alias handling in mciSendString.

	* dlls/setupapi/setupx.spec, dlls/setupapi/setupx_main.c:
	Andreas Mohr <amohr@codeweavers.com>
	- don't initialize with pFirstLDD if pFirstLDD isn't initialized yet either
	- corrected VcpClose .spec

2000-12-15  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/build.h, tools/winebuild/import.c, tools/winebuild/main.c, tools/winebuild/parser.c, tools/winebuild/spec16.c, tools/winebuild/spec32.c:
	Allocate entry points dynamically to allow for a larger number of
	ordinals.

	* dlls/Makefile.in, dlls/imm32/Makefile.in, dlls/imm32/imm.c, dlls/imm32/imm32.spec, dlls/imm32/imm_private.h, dlls/imm32/immddk.h, dlls/imm32/main.c, dlls/imm32/memory.c, dlls/imm32/string.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Implemented some DDK APIs - far from complete.

	* Makefile.in:
	Francois Gouget <fgouget@codeweavers.com>
	Create a symbolic link to ole/libuuid.a.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Always link with uuid.

	* controls/listbox.c:
	Ulrich Czekalla <ulrichc@codeweavers.com>
	Only capture mouse when an item is selected.

	* include/ntdef.h, include/windef.h, include/winnt.h:
	François Gouget <fgouget@codeweavers.com>
	Moved some macros like NULL, FALSE to winnt.h
	Moved the anonymous struct/unions to winnt.h
	Moved calling convention macros to winnt.h
	Moved some basic types like BOOL, INT, LONG, etc. to winnt.h
	Moved HANDLE and DECLARE_HANDLE to winnt.h
	Moved structure packing macros to winnt.h

	* include/ddraw.h, include/winbase.h, server/snapshot.c:
	François Gouget <fgouget@codeweavers.com>
	Needs to include windef.h.

	* include/ole2.h:
	François Gouget <fgouget@codeweavers.com>
	Added OleIsCurrentClipboard and OleSetClipboard.

	* include/objbase.h:
	François Gouget <fgouget@codeweavers.com>
	Fixed the prototype of GetClassFile.

	* windows/win.c:
	Gerard Patel <gerard.patel@asi.fr>
	Don't return last active popup if it is pointing to a deleted window.

	* documentation/wine.man.in, misc/options.c:
	Andreas Mohr <amohr@codeweavers.com>
	Improved usage message.

	* dlls/advapi32/registry.c, dlls/ntdll/reg.c, include/server.h, memory/registry.c, server/registry.c, server/request.c, server/request.h, server/trace.c:
	Converted enum_key_value request to the new request mechanism.

	* misc/cdrom.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Status of CDROM_AUDIO_INVALID seems to mean the disk is stopped.

	* dlls/comctl32/tab.c:
	Aric Stewart <aric@codeweavers.com>
	Fixed some difficulties with the font on vertical tabs. Also plugged a
	resource leak.

	* dlls/comctl32/header.c:
	Ulrich Czekalla <ulrichc@codeweavers.com>
	Mark width as valid when we send HDN_ENDTRACKA.

	* dlls/ole32/ole2.c:
	Huw D M Davies <hdavies@codeweavwers.com>
	Check to see whether any ancestor windows are drop targets.

	* files/dos_fs.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Spelling fix.

	* include/winnt.h, loader/pe_image.c:
	François Gouget <fgouget@codeweavers.com>
	Changed the type of Function to PDWORD as on Windows.

	* dlls/dplayx/dplaysp.h:
	François Gouget <fgouget@codeweavers.com>
	Removed the declspec specifier.

	* dlls/ntdll/ntdll.spec, misc/options.c, miscemu/main.c, miscemu/wine.spec, tools/winebuild/README, tools/winebuild/build.h, tools/winebuild/import.c, tools/winebuild/parser.c, tools/winebuild/spec32.c:
	Added support for Unicode applications in winebuild.
	Removed cuiexe_no_main hack.
	Avoid stdcall function declarations inside functions because of gcc bug.

	* misc/registry.c:
	Martin Pilka <mpilka@codeweavers.com>
	- registry loading speed up (reduced client <-> server communication)
	- make the code a bit more understandable

2000-12-14  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/build.h, tools/winebuild/import.c, tools/winebuild/parser.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	Added "ignore" directive for skipping individual symbol resolution.

	* dlls/commdlg/cdlg_Ru.rc:
	Vasily I. Volchenko <Vasily.Volchenko@mstu.edu.ru>
	Added more Russian support.

	* Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/imm32/Makefile.in, dlls/imm32/imm.spec, dlls/winnls/.cvsignore, dlls/winnls/Makefile.in, dlls/winnls/winnls.c, dlls/winnls/winnls.spec, dlls/winnls/winnls32.spec:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added a spec file for 16bit imm.
	Added spec files for winnls and winnls32.

	* include/wine/winbase16.h:
	Added inline definition for MapSL.

	* tools/wineshelllink:
	Andreas Mohr <amohr@codeweavers.com>
	Fixed an unquoted string.

	* files/directory.c, files/drive.c:
	Lawson Whitney <lawson_whitney@juno.com>
	Add strerror() to the "Could not stat" and "Invalid path" startup
	error messages.

	* scheduler/sysdeps.c:
	Commented out large stack init now that thread stacks are at least 1Mb.

	* dlls/ddraw/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	If DirectDrawCreate gets passed a IDirectDraw{2,4,7} interface, get
	this interface and do not use IDirectDraw.

	* dlls/comctl32/comctl32.spec, dlls/kernel/kernel32.spec, dlls/shell32/shell32.spec:
	Francois Gouget <fgouget@codeweavers.com>
	Removed the name of APIs exported by ordinal.

	* dlls/kernel/nls/hun.nls:
	Nemeth Peter <qgenpete@gold.uni-miskolc.hu>
	Some NLS updates.

2000-12-13  Alexandre Julliard  <julliard@winehq.com>

	* documentation/Makefile.in, documentation/architecture.sgml, documentation/authors.ent, documentation/bugs.sgml, documentation/build.sgml, documentation/compiling.sgml, documentation/configuring.sgml, documentation/consoles.sgml, documentation/cvs-regression.sgml, documentation/db2html-winehq, documentation/debugger.sgml, documentation/debugging.sgml, documentation/default.dsl, documentation/dlls.sgml, documentation/documentation.sgml, documentation/fonts.sgml, documentation/getting.sgml, documentation/i18n.sgml, documentation/implementation.sgml, documentation/installing.sgml, documentation/introduction.sgml, documentation/ole.sgml, documentation/opengl.sgml, documentation/packaging.sgml, documentation/patches.sgml, documentation/porting.sgml, documentation/printing.sgml, documentation/registry.sgml, documentation/running.sgml, documentation/tools.sgml, documentation/wine-doc.sgml, documentation/winehq.dsl, documentation/winelib-user.sgml:
	John R. Sheets <jsheets@codeweavers.com>
	Documentation update.

	* dlls/odbc32/proxyodbc.c, include/wine/library.h, include/wine/port.h, library/loader.c, library/port.c, loader/elf.c, loader/module.c, relay32/builtin32.c:
	James Abbatiello <jabbey@codeweavers.com>
	Work around glibc 2.1.x dlopen bug (again).

	* dlls/setupapi/Makefile.in, dlls/setupapi/devinst.c, dlls/setupapi/infparse.c, dlls/setupapi/setupx.spec, dlls/setupapi/setupx16.h, dlls/setupapi/setupx_main.c, dlls/setupapi/setupx_private.h:
	Andreas Mohr <amohr@codeweavers.com>
	- implemented proper LDD/LDID handling
	- implement Ctl*Ldd(), Ctl[GS]etLddPath, GenInstall (no real operations
	  yet, I want help), InstallHinfSection
	- Stubbed out DiGetClassDevs16 (needed for e.g. Monkey Island 3 ;)
	- many new .spec stubs

	* dlls/shell32/shellole.c, include/wine/obj_base.h:
	Andreas Mohr <amohr@codeweavers.com>
	SHGetMalloc must use MEMCTX_TASK, otherwise CoGetMalloc will
	badly fail with E_INVALIDARG in case native OLE32 is used.

	* include/Makefile.in, include/mapi.h, include/mapidefs.h:
	François Gouget <fgouget@codeweavers.com>
	Added mapi.h with the definitions needed by the MFC.

	* dlls/ntdll/nt.c, dlls/ntdll/ntdll.spec, dlls/ntdll/wcstring.c:
	Eric Kohl <ekohl@codeweavers.com>
	Implemented _ultow() and export [Nt/Zw]QueryVolumeInformationFile().

	* tools/makedep.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed path resolution for a/b.c source files.

	* controls/listbox.c:
	Louis Philippe Gagnon <louisphilippe@macadamian.com>
	Invalidate the focus rect when a listbox is resized.

	* scheduler/process.c, scheduler/syslevel.c, tools/winebuild/spec16.c, win32/except.c, windows/dce.c, windows/nonclient.c, graphics/enhmetafiledrv/init.c, graphics/metafiledrv/init.c, graphics/x11drv/bitmap.c, graphics/x11drv/brush.c, graphics/x11drv/clipping.c, graphics/x11drv/objects.c, graphics/x11drv/oembitmap.c, graphics/x11drv/xfont.c, include/gdi.h, include/ldt.h, include/miscemu.h, include/selectors.h, misc/lstr.c, msdos/dosaspi.c, msdos/int25.c, msdos/int26.c, objects/gdiobj.c, relay32/builtin32.c, relay32/relay386.c, relay32/snoop.c, debugger/dbgmain.c, dlls/commdlg/filedlg95.c, dlls/gdi/gdi_main.c, dlls/oleaut32/oleaut.c, dlls/user/resource.c, dlls/winaspi/winaspi32.c, dlls/winmm/wineoss/audio.c, dlls/winmm/wineoss/midi.c:
	Removed some unnecessary includes.
	Got rid of ldt.h.

	* include/global.h, memory/virtual.c, misc/cpu.c, msdos/xms.c, scheduler/sysdeps.c, win32/device.c:
	Use getpagesize() instead of VIRTUAL_GetPageSize().

	* windows/win.c, windows/winhelp.c, windows/winproc.c, msdos/dosmem.c, msdos/dpmi.c, msdos/int21.c, msdos/int2f.c, msdos/int33.c, msdos/int5c.c, msdos/vxd.c, objects/bitmap.c, objects/font.c, objects/metafile.c, scheduler/thread.c, windows/class.c, windows/cursoricon.c, windows/defwnd.c, windows/dialog.c, windows/hook.c, windows/mdi.c, windows/message.c, windows/msgbox.c, windows/painting.c, windows/scroll.c, misc/error.c, msdos/devices.c, include/wine/mmsystem16.h, include/wine/port.h, include/wine/winbase16.h, include/wine/windef16.h, include/wine/wingdi16.h, include/wine/winuser16.h, loader/dos/module.c, loader/module.c, loader/ne/module.c, loader/ne/resource.c, loader/ne/segment.c, loader/resource.c, loader/task.c, memory/atom.c, memory/environ.c, memory/global.c, memory/heap.c, memory/instr.c, memory/local.c, memory/selector.c, memory/string.c, dlls/winmm/mcianim/mcianim.c, dlls/winsock/async.c, files/file.c, graphics/escape.c, graphics/mapping.c, graphics/win16drv/init.c, graphics/win16drv/prtdrv.c, graphics/x11drv/dib.c, graphics/x11drv/init.c, if1632/builtin.c, if1632/relay.c, if1632/snoop.c, if1632/thunk.c, include/digitalv.h, include/mmddk.h, include/ole.h, include/stackframe.h, include/user.h, include/wingdi.h, include/winnt.h, dlls/user/lstr.c, dlls/user/text.c, dlls/user/wsprintf.c, dlls/version/ver16.c, dlls/win32s/win32s16.c, dlls/winaspi/winaspi16.c, dlls/wineps/escape.c, dlls/winmm/driver.c, dlls/winmm/lolvldrv.c, dlls/winmm/mci.c, dlls/winmm/mmio.c, dlls/winmm/mmsystem.c, dlls/winmm/winmm.spec, dlls/kernel/debugger.c, dlls/kernel/kernel.spec, dlls/kernel/kernel_main.c, dlls/kernel/thunk.c, dlls/kernel/utthunk.c, dlls/kernel/wowthunk.c, dlls/msvideo/msvideo_main.c, dlls/ole32/compobj.c, dlls/ole32/ifs.c, dlls/ole32/storage.c, dlls/oleaut32/ole2disp.c, dlls/olecli/olecli.spec, dlls/olecli/olecli_main.c, dlls/shell32/shell.c, dlls/shell32/shell32_main.c, dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c, dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c, dlls/commdlg/printdlg.c, dlls/gdi/gdi.spec, dlls/gdi/printdrv.c, dlls/gdi/wing.c, dlls/commdlg/cdlg.h, controls/edit.c, controls/listbox.c, controls/menu.c, controls/combo.c:
	Replaced PTR_SEG_TO_LIN macro by exported MapSL function.
	Fixed a few ptr/segptr mismatches.
	Moved CONV_RECT/POINT macros to wingdi16.h.

	* debugger/debug.l, dlls/comctl32/header.c, dlls/oleaut32/typelib.c, dlls/serialui/confdlg.c, dlls/winspool/info.c, objects/enhmetafile.c, windows/winpos.c:
	Fixed some warnings.

	* windows/driver.c, dlls/winmm/Makefile.in, dlls/winmm/driver.c, dlls/winmm/lolvldrv.c, dlls/winmm/mci.c, dlls/winmm/mmsystem.c, dlls/winmm/mmsystem.spec, dlls/winmm/winemm.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Split driver functions into USER (16 bit part) and WINMM (32 bit part).
	Fixed some bugs in 16 bit part as well.
	Now correctly parsing the system.ini extra parameters.

	* dlls/crtdll/crtdll.h, dlls/crtdll/file.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed crtdll compile problem regarding fpos_t in glibc2.2.

	* dlls/crtdll/Makefile.in, dlls/crtdll/console.c, dlls/crtdll/crtdll.h, dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/crtdll/dir.c, dlls/crtdll/exit.c, dlls/crtdll/file.c, dlls/crtdll/spawn.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- Implement console I/O
	- Support temporary files, add tmpfile, rmtmp
	- spawn* functions: fix args, add cwait, searchenv

	* programs/clock/main.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed a crash in program/clock.

	* dlls/comctl32/header.c:
	Eric Kohl <ekohl@rz-online.de>
	Fixed crash of WinZip 8.0 due to invalid image list handle.

	* include/windef.h:
	Francois Gouget <fgouget@codeweavers.com>
	Define NULL as in Win32.

	* dlls/msvideo/msvideo_main.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Return values from DRV_ENABLE should not be checked.

	* dlls/kernel/format_msg.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	FormatMessageA wasn't properly handling the %ls modifier.

	* dlls/comctl32/toolbar.c:
	Andreas Mohr <amohr@codeweavers.com>
	Invalid buttons are "hidden".

	* dlls/shell32/shellpath.c:
	Andreas Mohr <amohr@codeweavers.com>
	Move all values of SHGetSpecialFolderPathA into an array, add some
	other registry locations and improve the number of supported CSIDLs.

	* dlls/commdlg/filedlg95.c:
	Ian Pilcher <pilcher@concentric.net>
	Changed FILEDLG95_OnOpen to "double terminate" the returned string if
	OFN_ALLOWMULTISELECT is set.

2000-12-12  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/process.c, if1632/relay.c, include/main.h, loader/main.c, misc/main.c, misc/options.c, ole/ole2nls.c, relay32/builtin32.c, dlls/kernel/kernel_main.c:
	Got rid of main.h.

	* relay32/relay386.c, relay32/snoop.c:
	Use __ASM_GLOBAL_FUNC directly in i386-only code.

	* dlls/user/user.spec, loader/ne/resource.c, windows/cursoricon.c:
	Changed LoadImage16 to take an LPCSTR instead of a SEGPTR.

	* include/drive.h, include/winbase.h, misc/cdrom.c, msdos/int11.c, msdos/int13.c, msdos/int17.c, msdos/int21.c, msdos/int2f.c, controls/combo.c, controls/listbox.c, dlls/commdlg/filedlg.c, dlls/shell32/shell.c, dlls/user/network.c, files/drive.c:
	Use the DRIVE_* API constants instead of the DRIVETYPE enum.
	Changed DRIVE_CANNOTDETERMINE and DRIVE_DOESNOTEXIST to use the
	correct names.
	Cleaned up a few dependencies on internal drive.c functions.

	* configure, configure.in, dlls/dinput/Makefile.in, dlls/dinput/dinput_main.c, dlls/dinput/dinput_private.h, dlls/dinput/joystick/linux.c, dlls/dinput/joystick/linuxinput.c, dlls/dinput/keyboard/main.c, dlls/dinput/mouse/main.c, include/config.h.in, include/dinput.h:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Added preferences to dinput drivers (so we can have two joystick
	drivers). Implemented a joystick driver for the Linux 2.4
	dev/input/event API.

	* include/winnls.h, dlls/crtdll/Makefile.in, dlls/crtdll/crtdll.h, dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/crtdll/locale.c, dlls/crtdll/time.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- Implemented setlocale parsing and LC_TYPE behavior.
	- Implemented isleadbyte, snprintf.
	- Added NLS IsValidCodePage prototype, misc CRTDLL fixes.

	* include/shellapi.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added a prototype for SHAppBarMessage.

	* dlls/user/text.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Fixed indentation problems resulting from automatic renaming, other
	aesthetic fixes.

	* dlls/comctl32/tab.c:
	Gerard Patel <gerard.patel@asi.fr>
	Use DrawText to display text in horizontal tabs.

	* server/registry.c:
	Martin Pilka <mpilka@codeweavers.com>
	Changed the condition so it also works in case when sscanf returns EOF.

2000-12-11  Alexandre Julliard  <julliard@winehq.com>

	* windows/user.c, memory/environ.c, memory/selector.c, memory/virtual.c, misc/version.c, miscemu/main.c, msdos/dpmi.c, msdos/vxd.c, relay32/relay386.c, scheduler/client.c, scheduler/process.c, scheduler/thread.c, win32/console.c, win32/device.c, win32/except.c, win32/file.c, dlls/crtdll/exit.c, dlls/crtdll/spawn.c, dlls/crtdll/time.c, dlls/kernel/utthunk.c, include/Makefile.in, include/ldt.h, include/module.h, include/process.h, include/winbase.h, loader/dos/module.c, loader/elf.c, loader/module.c, loader/ne/module.c, loader/pe_image.c, loader/pe_resource.c, loader/resource.c, loader/task.c:
	Moved all Wine internal definitions out of process.h.

	* tools/winebuild/spec32.c:
	Output the exports table in assembly code to make it possible to
	export C++ mangled names.

	* dlls/ntdll/rtl.c:
	Implemented RtlAcquirePebLock and RtlReleasePebLock.

	* dlls/user/text.c:
	Gerard Patel <gerard.patel@asi.fr>
	Implemented DrawTextW as Unicode and DrawTextA as call to DrawTextW.

	* windows/x11drv/clipboard.c, windows/x11drv/event.c, include/clipboard.h, windows/clipboard.c, windows/queue.c, windows/user.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Add CF_UNICODETEXT as primary text clipboard format.
	Use [x11drv].TextCP for interchange with X.

2000-12-10  Alexandre Julliard  <julliard@winehq.com>

	* programs/Makeprog.rules.in:
	Dennis Bjorklund <db@zigo.dhs.org>
	Remove old link before creating the new one.

	* windows/x11drv/event.c, windows/x11drv/wnd.c, dlls/ttydrv/ttydrv.h, dlls/ttydrv/wnd.c, dlls/user/controls.h, dlls/user/resources/user32.rc, dlls/user/user_main.c, include/button.h, include/combo.h, include/desktop.h, include/dialog.h, include/mdi.h, include/menu.h, include/scroll.h, include/static.h, include/win.h, include/x11drv.h, windows/Makefile.in, windows/class.c, windows/defdlg.c, windows/dialog.c, windows/mdi.c, windows/message.c, windows/nonclient.c, windows/sysparams.c, windows/user.c, windows/win.c, windows/winpos.c, windows/winproc.c, Make.rules.in, controls/Makefile.in, controls/button.c, controls/combo.c, controls/desktop.c, controls/edit.c, controls/icontitle.c, controls/listbox.c, controls/menu.c, controls/scroll.c, controls/static.c, controls/widgets.c:
	Moved most builtin controls structures into their respective C file.
	Created new controls.h file private to user32.dll and moved remaining
	builtin controls definitions there.

2000-12-09  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/ntdll.spec, include/elfdll.h, loader/Makefile.in, loader/elf.c, loader/elfdll.c, loader/loadorder.c:
	Removed no longer used elfdll loader.

	* windows/class.c, windows/message.c, dlls/winmm/wineoss/mixer.c, include/queue.h, include/wnaspi32.h, misc/main.c, dlls/oleaut32/ole2disp.c, README:
	Andreas Mohr <amohr@codeweavers.com>
	- README update
	- add offsets to ASPI struct defines
	- spelling

	* dlls/oleaut32/safearray.c:
	Andreas Mohr <amohr@codeweavers.com>
	Don't fail on pointer address checking when foreign heap.

	* include/oleauto.h:
	Andreas Mohr <amohr@codeweavers.com>
	Removed duplicate defines.

	* dlls/shell32/dialogs.c, programs/notepad/dialog.c:
	Andreas Mohr <amohr@codeweavers.com>
	Fixed MessageBox() usage.

	* dlls/winaspi/winaspi32.c:
	Andreas Mohr <amohr@codeweavers.com>
	Print CDB area.

2000-12-07  Alexandre Julliard  <julliard@winehq.com>

	* windows/defwnd.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added handlers for some IME messages in DefWindowProc.

	* dlls/commdlg/filedlg95.c:
	Gerard Patel <gerard.patel@asi.fr>
	Fileokstring notification should be sent to the custom child dialog,
	not to the main dialog.

	* dlls/ntdll/ntdll.spec:
	Andrew Lewycky <andrew@transgaming.com>
	Ove Kaaven <ovek@transgaming.com>
	De-stub sin() and cos().
	Add noimport flag to sin(), cos(), and pow().

	* windows/x11drv/wnd.c, dlls/ttydrv/ttydrv.h, dlls/ttydrv/wnd.c, dlls/user/user.spec, include/button.h, include/class.h, include/win.h, include/wine/winuser16.h, include/x11drv.h, windows/class.c, windows/dce.c, windows/defwnd.c, windows/mdi.c, windows/user.c, windows/win.c, controls/button.c, controls/desktop.c, controls/widgets.c:
	Removed dependencies on the internals of the CLASS structure.
	Added support for having both ASCII and Unicode window procedures for
	builtin classes.

	* windows/defdlg.c, windows/winproc.c:
	Removed calls to WIDGETS_IsControl.

	* include/wininet.h:
	Francois Gouget <fgouget@codeweavers.com>
	Uncomment GOPHER_ATTRIBUTE_TYPE and GopherGetAttribute.
	Create A/W versions of GOPHER_ATTRIBUTE_TYPE and
	GOPHER_ATTRIBUTE_ENUMERATOR.

	* include/winsock.h, tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Added a prototype for closesocket.

	* dlls/commdlg/printdlg.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed handling of DialogBoxIndirectParamA return value.

2000-12-06  Alexandre Julliard  <julliard@winehq.com>

	* documentation/wine.conf.man.in, documentation/wine.man.in, files/profile.c, README, wine.ini:
	Added automatic translation of the config file to the new
	format. Updated documentation.

	* include/wine/port.h:
	Added define for S_ISLNK if missing.

	* tools/winebuild/spec16.c, tools/winebuild/spec32.c:
	Don't make the spec file constructors static so that they don't get
	optimized out.

	* include/bitmap.h, include/x11drv.h, dlls/ttydrv/bitmap.c, dlls/ttydrv/dc.c, dlls/ttydrv/ttydrv.h, graphics/x11drv/bitblt.c, graphics/x11drv/dib.c, graphics/x11drv/graphics.c, graphics/x11drv/init.c, graphics/x11drv/text.c:
	Ove Kaaven <ovek@transgaming.com>
	Andrew Lewycky <andrew@transgaming.com>
	Gavriel State <gav@transgaming.com>
	DIB section improvements; UpdateDIBSection has been replaced with
	LockDIBSection and UnlockDIBSection, for improved thread safety.
	DIB_Status_* is now driver-independent, and there's a new
	DIB_Status_AuxMod. Better handling of DIB surfaces with nonstandard
	pitch. Slight optimization of DIBsection->display BitBlt.

	* dlls/kernel/nls/heb.nls, misc/options.c, tools/wrc/utils.c, dlls/kernel/locale_rc.rc:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Add basic NLS information needed for Hebrew.

	* dlls/kernel/nls/cym.nls:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Welsh needs iso8859-14.

	* windows/x11drv/event.c:
	Ove Kaaven <ovek@arcticnet.no>
	Use SendNotifyMessage() for WM_SYNCPAINT.

	* dlls/ntdll/nt.c:
	James Juran <jamesjuran@alumni.psu.edu>
	Return a maximum registry size of 32 MB in NtQuerySystemInformation.

	* documentation/samples/config:
	Added sample config file in the new format.

	* configure, configure.in:
	Set -mpreferred-stack-boundary=2 flag if supported to avoid wasteful
	stack alignments.

	* tools/winebuild/import.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Now prints line number for 'x.dll imported but no symbols used' warning.

	* controls/combo.c:
	Louis Philippe Gagnon <louisphilippe@macadamian.com>
	Update internal controls on WM_WINDOWPOSCHANGED.

	* dlls/ntdll/ntdll.spec, misc/Makefile.in, misc/ext_debugger.c, Makefile.in, debugger/Makefile.in, debugger/ext_debugger.c, debugger/winedbg.c:
	Build the debugger as a .so.

	* dlls/shell32/Makefile.in, dlls/shell32/shellguid.c, dlls/shell32/shlfolder.c, dlls/shlwapi/Makefile.in, dlls/shlwapi/shlwapi_main.c, include/dplay.h, ole/Makefile.in, ole/uuid.c, dlls/avifil32/Makefile.in, dlls/avifil32/avifile.c, dlls/commdlg/Makefile.in, dlls/commdlg/filedlgbrowser.c, dlls/ddraw/Makefile.in, dlls/ddraw/main.c, dlls/dinput/Makefile.in, dlls/dinput/dinput_main.c, dlls/dplayx/Makefile.in, dlls/dplayx/dplayx_main.c, dlls/dsound/Makefile.in, dlls/dsound/dsound_main.c, dlls/ole32/Makefile.in, dlls/ole32/oleobj.c, dlls/oleaut32/Makefile.in, dlls/oleaut32/oleaut.c, Make.rules.in, Makefile.in:
	Created a small static library in ole/libuuid.a that contains all the
	UUID definitions (with the help of Francois Gouget).

	* tools/wmc/Makefile.in, tools/wrc/Makefile.in, dlls/crtdll/Makefile.in, dlls/lzexpand/Makefile.in, dlls/ntdll/Makefile.in, dlls/shell32/Makefile.in, dlls/shlwapi/Makefile.in, dlls/version/Makefile.in, if1632/Makefile.in, libtest/Makefile.in, programs/Makeprog.rules.in, programs/avitools/Makefile.in, server/Makefile.in, tools/winebuild/Makefile.in, dlls/Makedll.rules.in, dlls/comctl32/Makefile.in:
	Use libwine and libwine_unicode directly from their build directory
	instead of using symlinks.

	* dlls/x11drv/Makefile.in, dlls/x11drv/x11drv_main.c, include/ts_shape.h, include/ts_xf86dga.h, include/ts_xf86dga2.h, include/ts_xf86vmode.h, include/ts_xlib.h, include/ts_xpm.h, include/ts_xresource.h, include/ts_xshm.h, include/ts_xutil.h, include/ts_xvideo.h, tools/make_X11wrappers, tsx11/.cvsignore, tsx11/Makefile.in, tsx11/locking.c, tsx11/ts_shape.c, tsx11/ts_xf86dga.c, tsx11/ts_xf86dga2.c, tsx11/ts_xf86vmode.c, tsx11/ts_xlib.c, tsx11/ts_xpm.c, tsx11/ts_xresource.c, tsx11/ts_xshm.c, tsx11/ts_xutil.c, tsx11/ts_xvideo.c, Make.rules.in, Makefile.in, configure, configure.in:
	Build tsx11 layer as a separate shared library.

2000-12-05  Alexandre Julliard  <julliard@winehq.com>

	* dlls/odbc32/proxyodbc.c, if1632/builtin.c, library/loader.c, loader/elf.c, relay32/builtin32.c:
	Always pass lower-case filenames to wine_dll_load().
	Clear dlerror() before and after calls to dlopen/dlsym to work around
	a glibc bug (thanks to James Abbatiello for tracking the bug).

	* dlls/kernel/nls/srb.nls, tools/wrc/utils.c:
	Nerijus Baliunas <nerijus@users.sourceforge.net>
	Fixed Serbian language code page.

	* controls/combo.c:
	Aric Stewart <aric@codeweavers.com>
	Fixed a problem where the string in a combo box flickers if you
	rapidly reset the content and then replace the content.

	* loader/pe_image.c:
	Andreas Mohr <amohr@codeweavers.com>
	Better error message for forwards.

	* dlls/user/resources/user32.rc, dlls/user/resources/user32_Zh.rc:
	Aric Stewart <aric@codeweavers.com>
	Added Chinese resources.

	* include/imm.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some missing definitions.

	* dlls/rpcrt4/rpcrt4_main.c:
	Stefan Leichter <Stefan.Leichter@camline.com>
	Compile fix for gcc 2.7.2.3.

	* Make.rules.in, configure, configure.in:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Use the approriate command for combining .o files.

	* windows/winproc.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Removed the code duplication.

	* windows/winproc.c:
	Rein Klazes <rklazes@casema.net>
	Don't forget to map the message in WINPROC_MapMsg16To32W().

	* relay32/builtin32.c:
	Andreas Mohr <amohr@codeweavers.com>
	Fixed dlerror() check to use strstr().

	* dlls/Makefile.in:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Use @LIBEXT@ instead of .so for the inter-dlls dependencies.

	* tools/makedep.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	- overwrite (rather than append) the output file if we have no separator
	- avoid output if there is nothing to do

	* dlls/user/user32.spec, include/winuser.h, windows/input.c:
	Ken Coleman <ken_coleman@iname.com>
	Added a first-cut version of MapVirtualKeyExW() that has the same
	functionality (and limitations) as the ANSI version.

	* tools/wineinstall:
	Andreas Mohr <amohr@codeweavers.com>
	wineinstall didn't create the default no-windows directory /c
	when just pressing enter.

	* graphics/x11drv/dib.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- correct number of colormap entries looked at in GetDIBColorTable.
	- correct number of colormap entries processed in SetDIBColorTable.

	* dlls/kernel/nls/nlb.nls, dlls/kernel/nls/nld.nls:
	Rein Klazes <rklazes@casema.net>
	Somes fixes for Dutch locales.

	* dlls/imm32/imm32.spec:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added some stubs.

2000-12-02  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, include/version.h:
	Release 20001202.

----------------------------------------------------------------
2000-12-02  Alexandre Julliard  <julliard@winehq.com>

	* server/mapping.c:
	Andreas Mohr <amohr@codeweavers.com>
	Check the attributes of the *current* section, not only the attributes
	of the *first* section...

	* windows/winproc.c:
	Fixed WINPROC_GetPtr() to always pass the start of the block to
	HeapValidate().

	* scheduler/process.c:
	Display an error message if loading a Winelib app failed (suggested by
	Francois Gouget).

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dexecutebuffer.c, dlls/ddraw/d3dmaterial.c, dlls/dplayx/dplay.c, dlls/dplayx/dplayx_global.c, dlls/dplayx/dplobby.c, dlls/dplayx/name_server.c, include/d3dtypes.h, include/dplay.h, include/dplobby.h:
	Francois Gouget <fgouget@free.fr>
	Use the DUMMYUNIONNAME macros so that the headers can be used in
	Winelib.

	* if1632/builtin.c, include/file.h, loader/elf.c, loader/loadorder.c, loader/module.c, loader/ne/module.c, files/dos_fs.c, files/file.c:
	Aric Stewart <aric@codeweavers.com>
	Added ASCII-only version of toupper, tolower, strcasecmp and the like
	for file and module I/O.

	* dlls/wsock32/socket.c, dlls/wsock32/wsock32.spec, include/winsock2.h:
	Use ioctlsocket() instead of ioctl() so that we can import ws2_32.dll
	again (untested).

	* dlls/crtdll/crtdll_main.c, dlls/crtdll/file.c, dlls/msvideo/msvideo_main.c, dlls/ntdll/misc.c, loader/resource.c, win32/console.c:
	Patrik Stridvall <ps@leissner.se>
	Added/modified documentation for function arguments.

	* tools/winapi_check/modules.dat, tools/winapi_check/win16/kernel.api, tools/winapi_check/win16/winsock.api, tools/winapi_check/win16/wprocs.api, tools/winapi_check/win32/kernel32.api, tools/winapi_check/win32/user32.api:
	Patrik Stridvall <ps@leissner.se>
	Minor API files update.

	* dlls/commdlg/filedlg95.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	FileOpenDlgProc95: notify application of changed selection after
	filling template.

	* dlls/winmm/mcicda/mcicda.c, misc/cdrom.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed bugs when tray was open.

	* windows/winproc.c:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added several additional to/from unicode message mappings.

	* programs/Makeprog.rules.in, tools/winebuild/spec16.c, tools/winebuild/spec32.c, dlls/Makedll.rules.in:
	Always put the dll constructor in the .init section, and like the
	.spec.o file first to ensure correct calling order of the constructors.

	* msdos/int10.c, msdos/int15.c, objects/brush.c, win32/except.c, dlls/crtdll/crtdll.h, dlls/crtdll/file.c, dlls/ole32/clipboard.c, dlls/oleaut32/variant.c, memory/selector.c, misc/registry.c, wine.ini:
	Francois Gouget <fgouget@codeweavers.com>
	Fixed miscellaneous typos, syntactic and grammatical errors.

	* DEVELOPERS-HINTS, include/dplay.h, include/dplobby.h, include/prsht.h, include/wine/obj_base.h, include/winnls.h:
	Francois Gouget <fgouget@codeweavers.com>
	Fixed the case of "Winelib".

	* documentation/winemaker.man:
	Francois Gouget <fgouget@codeweavers.com>
	Fix the Winelib case.
	The linking aspects have been solved by the last winebuild update ->
	removed from the todo list.
	The configure script has been updated -> removed from the todo list.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	If there is a single target, it should also get the 'project_settings
	sources'.
	If a subdirectory is called 'include' then add it to the include path.

	* windows/winproc.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Include config.h.

	* include/winuser.h:
	Dmitry Timoshkov <dmitry@codeweavers.com>
	Added several clipboard formats.

	* Make.rules.in:
	Dennis Björklund <db@zigo.dhs.org>
	Compile fix for building wine outside the source tree.

	* dlls/wininet/internet.c:
	Andreas Mohr <amohr@codeweavers.com>
	InternetCloseHandle didn't return TRUE in all appropriate cases.

	* win32/device.c:
	Andreas Mohr <amohr@codeweavers.com>
	Added a --winver nt40 hint to VxD error message.

	* dlls/imm32/imm.c, dlls/imm32/imm32.spec:
	Hidenori Takeshima<hidenori@a2.ctktv.ne.jp>
	Added some stubs.

	* windows/defwnd.c:
	Louis Philippe Gagnon <louisphilippe@macadamian.com>
	- Take the mouse capture on a WM_NCRBUTTONDOWN on the caption bar,
	  release it on a WM_RBUTTONUP
	- Don't send WM_CONTEXTMENU on a WM_NCRBUTTONUP
	- Use parent-relative coordinates when calling NC_HandleNCHitTest

2000-12-01  Alexandre Julliard  <julliard@winehq.com>

	* objects/enhmetafile.c, objects/font.c, objects/metafile.c, objects/palette.c, objects/text.c, ole/ole2nls.c, scheduler/process.c, windows/class.c, windows/cursoricon.c, windows/dce.c, windows/hook.c, windows/keyboard.c, windows/message.c, windows/win.c, windows/winproc.c, graphics/metafiledrv/init.c, loader/task.c, memory/virtual.c, misc/system.c, msdos/int10.c, objects/brush.c, objects/dc.c, dlls/winaspi/winaspi32.c, dlls/winmm/mmsystem.c, dlls/winsock/socket.c, dlls/winspool/info.c, files/drive.c, graphics/dispdib.c, graphics/enhmetafiledrv/init.c, dlls/msacm/format.c, dlls/ntdll/reg.c, dlls/ole32/compobj.c, dlls/ole32/ole2.c, dlls/ole32/ole2nls.c, dlls/ole32/ole2stubs.c, dlls/oleaut32/typelib.c, dlls/rpcrt4/rpcrt4_main.c, dlls/shell32/shell.c, dlls/shell32/shell32_main.c, dlls/shell32/shellole.c, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shlmenu.c, dlls/shlwapi/ordinal.c, dlls/shlwapi/reg.c, dlls/user/exticon.c, dlls/user/lstr.c, controls/scroll.c, dlls/commdlg/filedlg.c, dlls/commdlg/printdlg.c, dlls/kernel/comm.c:
	Patrik Stridvall <ps@leissner.se>
	Added/modified documentation for function arguments.

	* dlls/kernel/kernel_main.c, dlls/kernel/thunk.c, dlls/msvideo/msvideo_main.c, dlls/setupapi/setupx_main.c, loader/ne/module.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed Win16 documentation not fixed because of a bug in winapi_check.

	* dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/crtdll/file.c, dlls/icmp/icmp_main.c, dlls/kernel/kernel.spec, dlls/wininet/ftp.c, include/config.h.in, loader/dos/dosmod.c, misc/registry.c, server/context_sparc.c, configure, configure.in:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/win32/gdi32.api, tools/winapi_check/win32/kernel32.api, tools/winapi_check/win32/ntdll.api, tools/winapi_check/win32/user32.api, tools/winapi_check/win16/compobj.api, tools/winapi_check/winapi_check, tools/winapi_check/winapi_options.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Fixed a bug concerning Win16 documentation.
	- Fixed some bugs concerning argument documentation
	- Minor API files update

	* scheduler/process.c, tools/cvdump/cvdump.h, tools/fnt2bdf.c, tools/winebuild/spec16.c, windows/dce.c, windows/driver.c, windows/input.c, windows/queue.c, windows/spy.c, windows/user.c, windows/winpos.c, graphics/win16drv/font.c, if1632/thunk.c, loader/dos/module.c, loader/elf.c, loader/elfdll.c, loader/module.c, loader/ne/resource.c, loader/pe_image.c, loader/pe_resource.c, loader/resource.c, loader/task.c, misc/version.c, msdos/dpmi.c, msdos/vxd.c, relay32/builtin32.c, relay32/snoop.c, dlls/commdlg/filedlg95.c, dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c, dlls/commdlg/printdlg.c, dlls/crtdll/time.c, dlls/ole32/ifs.c, dlls/ole32/ole2nls.c, dlls/ole32/storage.c, dlls/shell32/shellpath.c, dlls/user/exticon.c, dlls/user/mouse.c, dlls/version/resource.c, dlls/winmm/lolvldrv.c, dlls/winmm/mmsystem.c, debugger/msc.c, dlls/comctl32/animate.c, dlls/comctl32/rebar.c, dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c:
	Removed some unnecessary includes.

	* include/module.h, include/neexe.h, include/wine/winbase16.h:
	Moved useful NE format definitions to winbase16.h.

	* include/winnt.h, tools/winebuild/import.c, tools/winebuild/relay.c, tools/winebuild/spec32.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Modified winebuild to use the __ASM_FUNC macro for greater portability.

	* dlls/kernel/kernel.spec, dlls/kernel/kernel_main.c, dlls/kernel/utthunk.c, dlls/kernel/wprocs.spec, loader/ne/module.c, loader/ne/segment.c, msdos/int2f.c, msdos/interrupts.c:
	Moved the few remaining functions in wprocs.dll to kernel.dll.
	No longer load wprocs.dll unconditionally.
	Restored default interrupt handler behavior (reported by Andreas Mohr).

	* dlls/user/user32.spec, dlls/winsock/socket.c, dlls/winsock/winsock.spec, dlls/wsock32/Makefile.in, dlls/wsock32/socket.c, dlls/wsock32/wsock32.spec, files/dos_fs.c, include/winbase.h, dlls/kernel/kernel32.spec, dlls/shell32/Makefile.in, dlls/shell32/shell.c, dlls/shell32/shell.spec, dlls/shell32/shell32.spec, dlls/shell32/shell32_main.c, dlls/shell32/shelllink.c, dlls/shell32/shellreg.c:
	Finished separation of shell32 and wsock32.

	* library/port.c, configure, configure.in, include/config.h.in, include/wine/port.h:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Supply dummy getrlimit if absent.

	* dlls/kernel/kernel.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed segstr to str proto.

	* debugger/debugger.h, debugger/types.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Cleaned up internal types definition.

	* debugger/stabs.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Improved stabs loading (now using recursive parsing, required by stabs
	generated by latest gcc versions).

	* debugger/expr.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Work around for deref issues (least impact solution taken, even if issues remain).

	* dlls/kernel/nls/cht.nls, dlls/kernel/nls/cze.nls, dlls/kernel/nls/dan.nls, dlls/kernel/nls/fin.nls, dlls/kernel/nls/trk.nls, dlls/kernel/nls/zhi.nls:
	Aric Stewart <aric@codeweavers.com>
	A number of additions to the nls files. Also one correction, we had
	895 for the Czech default codepage but according to microsoft it
	should be 852.

	* tools/winelauncher.in:
	Jeremy White <jwhite@codeweavers.com>
	Make winelauncher work better for source tree builds.
	Make winelauncher detect the lack of a ~/.winerc file and prompt the
	user about it.
	Pass command line parameters a bit more graciously; improves
	interaction with gmc and kfm.

	* windows/x11drv/wnd.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added the KDE 2 beta and final method of specifying systray windows.

2000-11-30  Alexandre Julliard  <julliard@winehq.com>

	* controls/listbox.c:
	Louis Philippe Gagnon <louisphilippe@macadamian.com>
	Don't update scrollbars when processing WM_DESTROY.

	* windows/winproc.c:
	Check for NULL handle before calling HeapValidate.

	* documentation/winemaker.man:
	Francois Gouget <fgouget@codeweavers.com>
	Bring the man page in line with the latest version of winemaker.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	- In interactive mode, don't ignore invalid options, ask the user again
	- Uppercase extensions are not supported after all (hint: $(SRC:.c=.o))
	- Pass the global defines and include path to WRC
	- Base the cleanup on the OBJS variable so that it works even if the
	  sources are in a subdirectory

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	- Fix the handling of relative include/library paths
	- In interactive mode, print "./" for the top level directory rather
	  than an empty string
	- We don't need to force a space before assignments
	- Align TOPSRCDIR & co like all the other assignements
	- Compile Dlls first (dependencies would do it more or less anyway)
	- Wording change in the usage

	* dlls/shell32/Makefile.in, dlls/user/Makefile.in, dlls/winmm/mci.c, dlls/winmm/winmm.spec, misc/registry.c, debugger/Makefile.in, dlls/Makefile.in, dlls/advapi32/Makefile.in, dlls/advapi32/advapi32.spec, dlls/advapi32/registry.c, dlls/gdi/Makefile.in:
	Finished separation of advapi32.

	* dlls/ole32/Makefile.in, dlls/ole32/ifs.c, dlls/ddraw/Makefile.in, dlls/ddraw/ddraw.spec:
	Finished separation of ole32.

	* dlls/comctl32/comctl32undoc.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Implement better version of DPA_Merge.

	* dlls/wininet/ftp.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Add missing #include <netinet/in.h> to get struct in_addr on all platforms.

	* memory/heap.c:
	Andreas Mohr <amohr@codeweavers.com>
	Fixed crash in UnMapLS for pointers not belonging to the segptr heap.

	* dlls/winmm/mciwave/.cvsignore, dlls/winmm/midimap/.cvsignore, dlls/winmm/wavemap/.cvsignore, dlls/winmm/wineoss/.cvsignore, dlls/winsock/.cvsignore, dlls/winspool/.cvsignore, dlls/wow32/.cvsignore, dlls/wsock32/.cvsignore, dlls/x11drv/.cvsignore, dlls/user/.cvsignore, dlls/version/.cvsignore, dlls/win32s/.cvsignore, dlls/winaspi/.cvsignore, dlls/wineps/.cvsignore, dlls/wininet/.cvsignore, dlls/winmm/.cvsignore, dlls/winmm/joystick/.cvsignore, dlls/winmm/mcianim/.cvsignore, dlls/winmm/mciavi/.cvsignore, dlls/winmm/mcicda/.cvsignore, dlls/winmm/mciseq/.cvsignore, dlls/opengl32/.cvsignore, dlls/psapi/.cvsignore, dlls/rasapi32/.cvsignore, dlls/richedit/.cvsignore, dlls/rpcrt4/.cvsignore, dlls/serialui/.cvsignore, dlls/setupapi/.cvsignore, dlls/shell32/.cvsignore, dlls/shfolder/.cvsignore, dlls/shlwapi/.cvsignore, dlls/tapi32/.cvsignore, dlls/ttydrv/.cvsignore, dlls/urlmon/.cvsignore, dlls/mpr/.cvsignore, dlls/msacm/.cvsignore, dlls/msnet32/.cvsignore, dlls/msvideo/.cvsignore, dlls/ntdll/.cvsignore, dlls/odbc32/.cvsignore, dlls/ole32/.cvsignore, dlls/oleaut32/.cvsignore, dlls/olecli/.cvsignore, dlls/oledlg/.cvsignore, dlls/olepro32/.cvsignore, dlls/olesvr/.cvsignore, dlls/crtdll/.cvsignore, dlls/dciman32/.cvsignore, dlls/ddraw/.cvsignore, dlls/dinput/.cvsignore, dlls/dplay/.cvsignore, dlls/dplayx/.cvsignore, dlls/dsound/.cvsignore, dlls/gdi/.cvsignore, dlls/icmp/.cvsignore, dlls/imagehlp/.cvsignore, dlls/imm32/.cvsignore, dlls/kernel/.cvsignore, dlls/lzexpand/.cvsignore, dlls/advapi32/.cvsignore, dlls/avifil32/.cvsignore, dlls/comctl32/.cvsignore, dlls/commdlg/.cvsignore:
	David Elliott <dfe@infinite-internet.net>
	Remove libXXXX.so.1.0 lines from .cvsignore files.

	* dlls/comctl32/Makefile.in, dlls/comctl32/comctl32.spec, dlls/commdlg/Makefile.in, dlls/commdlg/colordlg.c, dlls/commdlg/comdlg32.spec, dlls/commdlg/filedlg.c, dlls/commdlg/fontdlg.c:
	Finished separation of comclt32 and comdlg32.

	* programs/progman/Makefile.in, programs/progman/grpfile.c, programs/progman/main.c:
	Fixed progman internal dependencies and build it like the other
	programs.

	* dlls/gdi/gdi32.spec, dlls/kernel/kernel32.spec, dlls/user/user32.spec:
	Export a few 16-bit functions needed by higher-level dlls.

	* dlls/ntdll/ntdll.spec, include/server.h, scheduler/client.c:
	Export the wine server functions from ntdll.

	* tools/winapi_check/win16/toolhelp.api, tools/winapi_check/win32/crtdll.api, tools/winapi_check/modules.dat, tools/winapi_check/nativeapi.dat, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_local.pm, tools/winapi_check/winapi_options.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Added new option --documentation-arguments
	- Minor API files update

	* dlls/richedit/charlist.c, dlls/richedit/reader.c, dlls/richedit/richedit.c, dlls/richedit/rtf.h, dlls/urlmon/umon.c, dlls/wininet/ftp.c, dlls/wininet/http.c, dlls/wininet/internet.c, dlls/wininet/utility.c, include/ocidl.h, include/rpc.h, include/unknwn.h, include/windows.h, msdos/int11.c, dlls/ole32/clipboard.c, dlls/ole32/filemoniker.c, dlls/oleaut32/connpt.c, dlls/oleaut32/ole2disp.c, dlls/oleaut32/oleaut.c, dlls/oleaut32/olefont.c, dlls/oleaut32/olepicture.c, dlls/oleaut32/stubs.c:
	Patrik Stridvall <ps@leissner.se>
	Don't include windows.h internally.

	* documentation/wine.man.in, misc/version.c:
	Andreas Mohr <amohr@codeweavers.com>
	Added alias capability to --winver.
	win2000 is the official value.

	* dlls/oleaut32/Makefile.in, graphics/win16drv/font.c, if1632/thunk.c, include/heap.h, include/winbase.h, memory/heap.c, memory/selector.c, scheduler/process.c, dlls/kernel/utthunk.c, dlls/msvideo/Makefile.in:
	Use the HEAP_WINE_SEGPTR flag to specify allocations on the segptr heap.
	Added a hack in MapLS to recognize such allocations and use the heap
	selector in this case.

	* dlls/winaspi/Makefile.in, dlls/winaspi/aspi.c, dlls/winaspi/winaspi16.c:
	Removed dependencies on Wine internal functions.

	* windows/winproc.c:
	Always initialize msg16 and wparam16 in WINPROC_MapMsg32WTo16.

	* documentation/wine.conf.man.in, documentation/wine.man.in, include/loadorder.h, loader/loadorder.c, loader/module.c, loader/ne/module.c, relay32/builtin32.c, wine.ini:
	Removed "elfdll" load order option and updated documentation.

2000-11-29  Alexandre Julliard  <julliard@winehq.com>

	* win32/device.c, configure, configure.in, dlls/ntdll/signal_i386.c, include/config.h.in, server/context_i386.c, server/ptrace.c, server/request.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Do not include sys/ptrace.h and sys/user.h unconditionally.
	Other portability fixes.

	* dlls/comctl32/imagelist.c, dlls/msvideo/msvideo_main.c, include/wingdi.h, objects/dc.c:
	Brian Teague <bteague@rice.edu>
	Add a stub for the CAPS1 capability in GetDeviceCaps.
	Define the CAPS1 bit flags in wingdi.h
	Make various calls to GetDeviceCaps in DLLS use #defined values.

	* tools/winebuild/spec16.c, windows/keyboard.c, windows/winproc.c, dlls/kernel/kernel32.spec, dlls/kernel/thunk.c, dlls/kernel/wowthunk.c, dlls/user/mouse.c, if1632/relay.c, include/builtin16.h, include/wine/winbase16.h, loader/ne/module.c, loader/ne/segment.c, misc/system.c, msdos/dpmi.c, scheduler/thread.c, tools/winebuild/relay.c:
	Renamed CallTo16* functions to wine_call_to_16* and export them from
	kernel32.spec.

	* dlls/commdlg/filedlg.c:
	Gerard Patel <gerard.patel@asi.fr>
	Fixed returned length of files.

	* configure.in, debugger/stabs.c, include/config.h.in, configure:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Do not use a.out.h.

	* dlls/commdlg/fontdlg.c, dlls/mpr/Makefile.in, dlls/mpr/wnet.c, dlls/winmm/mcianim/Makefile.in, dlls/winmm/mcianim/mcianim.c, dlls/winmm/mciavi/Makefile.in, dlls/winmm/mciavi/mciavi.c, dlls/winspool/Makefile.in, dlls/winspool/info.c, dlls/winspool/winspool.drv.spec, include/wingdi.h, dlls/comctl32/propsheet.c, dlls/commdlg/filedlg.c:
	Cleaned up some more dependencies on Wine internal functions.

	* files/file.c, include/config.h.in, include/wine/port.h, library/port.c, scheduler/client.c, configure, configure.in:
	Added implementation of lstat to port.c.

	* win32/device.c:
	Kees Schoenmakers <keess@milltronics.com>
	Added HASP device stub.

	* objects/gdiobj.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Fixed the size of the large_handles array.

	* dlls/comctl32/rebar.c, dlls/olecli/olecli32.spec, dlls/ttydrv/ttydrv.spec, dlls/winmm/joystick/joystick.drv.spec:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Fixed a few compilation warnings.

	* controls/combo.c, controls/static.c, windows/defwnd.c, windows/mdi.c:
	Andreas Mohr <amohr@codeweavers.com>
	WM_SETTEXT should return TRUE on success.

	* memory/virtual.c:
	Andreas Mohr <amohr@codeweavers.com>
	VirtualQuery should return 0 for all addresses >= 0xc0000000.

	* dlls/comctl32/listview.c:
	Aric Stewart <aric@codeweavers.com>
	Ownerdata listviews were not clearing previously selected items when a
	new item is set as selected using SetItem and the listview has
	LVIS_SINGLESEL.

2000-11-28  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/keyboard.c:
	Aric Stewart <aric@codeweavers.com>
	We were returning characters for various CTRL + Symbol keystrokes
	which should not return characters.

	* misc/cpu.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	linux-2.4.0-test10 now calls 'flags' as 'features'.

	* windows/win.c:
	Dmitry Timoshkov <dtimoshkov@codeweavers.com>
	Slightly rearrange WIN16/WIN32A/WIN32 window creation.

	* controls/button.c, controls/widgets.c:
	Dmitry Timoshkov <dtimoshkov@codeweavers.com>
	Made button control fully unicode aware.

	* dlls/setupapi/setupx16.h, dlls/setupapi/setupx_main.c:
	Andreas Mohr <amohr@codeweavers.com>
	- fix crash in SETUPX_TranslateLDID()
	- implement custom LDID lookup

	* misc/cdrom.c, misc/cpu.c, misc/version.c, objects/enhmetafile.c, objects/font.c, ole/ole2nls.c, win32/console.c, win32/init.c, windows/clipboard.c, windows/defwnd.c, windows/dialog.c, windows/input.c, windows/msgbox.c, windows/sysparams.c, windows/user.c, windows/winproc.c, files/directory.c, files/dos_fs.c, files/drive.c, files/file.c, files/profile.c, graphics/enhmetafiledrv/init.c, graphics/metafiledrv/text.c, graphics/win16drv/font.c, graphics/win16drv/text.c, if1632/builtin.c, include/wine/winestring.h, loader/module.c, loader/ne/convert.c, loader/pe_resource.c, memory/environ.c, memory/registry.c, memory/string.c, dlls/shell32/shelllink.c, dlls/shell32/shellpath.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, dlls/shell32/shv_item_cmenu.c, dlls/shell32/systray.c, dlls/shlwapi/path.c, dlls/shlwapi/string.c, dlls/ttydrv/graphics.c, dlls/version/info.c, dlls/winmm/joystick.c, dlls/winmm/mmsystem.c, dlls/kernel/format_msg.c, dlls/lzexpand/lzexpand_main.c, dlls/mpr/wnet.c, dlls/msacm/driver.c, dlls/msacm/filter.c, dlls/msacm/format.c, dlls/msacm/pcmconverter.c, dlls/msvideo/msvideo_main.c, dlls/ntdll/rtlstr.c, dlls/ntdll/sec.c, dlls/ole32/clipboard.c, dlls/ole32/compobj.c, dlls/ole32/filemoniker.c, dlls/ole32/itemmoniker.c, dlls/ole32/ole2.c, dlls/ole32/storage.c, dlls/ole32/storage32.c, dlls/shell32/pidl.c, controls/menu.c, dlls/advapi32/advapi.c, dlls/advapi32/registry.c, dlls/advapi32/security.c, dlls/advapi32/service.c, dlls/comctl32/comboex.c, dlls/comctl32/datetime.c, dlls/comctl32/header.c, dlls/comctl32/rebar.c, dlls/comctl32/status.c, dlls/comctl32/toolbar.c, dlls/comctl32/treeview.c, dlls/commdlg/filedlg.c, dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/commdlg/filetitle.c, dlls/commdlg/finddlg32.c, dlls/commdlg/fontdlg.c:
	Got rid of the Wine internal lstrcpy* functions and of winestring.h.

	* documentation/wine.man.in:
	Andreas Mohr <amohr@codeweavers.com>
	Updated man page.

	* memory/heap.c, include/heap.h:
	Made HEAP_strdup* functions inline (temporary).

	* dlls/winspool/info.c, win32/newfns.c:
	Moved EnumPortsA to dlls/winspool.

2000-11-27  Alexandre Julliard  <julliard@winehq.com>

	* */*.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Require {DECLARE,DEFAULT}_DEBUG_CHANNEL statements to end in a ;

	* relay32/relay386.c, tools/winebuild/main.c, tools/winebuild/spec32.c:
	Set debugging option based on NO_TRACE_MSGS define. Only output 32-bit
	relay stubs if debugging is on.

	* configure, configure.in, include/acconfig.h, include/config.h.in, include/winnt.h:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Test if we need to put the .type directive inside a .def directive.

	* dlls/ddraw/dsurface/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Truncate dest blit rectangle down to surface size.

	* dlls/winmm/wineoss/midi.c:
	Marcus Meissner <marcus@jet.franken.de>
	WARN() about missing /dev/sequencer, it's too confusing for newbies.

	* graphics/x11drv/oembitmap.c:
	Andreas Mohr <amohr@codeweavers.com>
	Also mention xpm-devel in the error msg.

	* misc/cpu.c: Andreas Mohr <amohr@codeweavers.com>
	Add FloatingPointProcessor empty entry to the registry.

	* controls/menu.c:
	Louis Philippe Gagnon <louisphilippe@macadamian.com>
	When processing mouse messages in MENU_TrackMenu, use the coordinates
	in lParam instead of those in MSG::pt.

	* loader/pe_image.c:
	Display the name of the function when import failed.

	* dlls/shlwapi/Makefile.in, dlls/shlwapi/string.c, dlls/user/network.c, dlls/win32s/Makefile.in, dlls/win32s/w32skernel.c, dlls/win32s/w32skrnl.spec, dlls/win32s/w32sys.c, windows/defwnd.c, windows/mdi.c, windows/msgbox.c, windows/nonclient.c, windows/syscolor.c, dlls/Makefile.in, dlls/commdlg/filedlg95.c, dlls/mpr/wnet.c, dlls/shell32/shell32_main.c, controls/desktop.c, controls/icontitle.c, controls/static.c:
	Fixed a few dependencies on 16-bit or internal functions. Fixed a few
	warnings.

	* dlls/winsock/socket.c, dlls/winmm/mmio.c:
	Fixed SEGPTR_GET usage.

	* dlls/user/user32.spec:
	Added entry for PrivateExtractIconsA.

	* loader/ne/segment.c, msdos/int21.c, msdos/vxd.c, dlls/kernel/kernel32.spec, dlls/kernel/thunk.c, dlls/kernel/utthunk.c, dlls/kernel/wowthunk.c, dlls/lzexpand/Makefile.in, dlls/lzexpand/lzexpand_main.c, dlls/ole32/compobj.c, files/file.c, include/file.h, include/winbase.h:
	Implemented DosFileHandleToWin32Handle, Win32HandleToDosFileHandle and
	DisposeLZ32Handle and use them to replace file.c internal functions.
	Renamed WOW* functions into K32WOW*.

	* dlls/kernel/toolhelp.spec:
	Added entry for TerminateApp16.

	* windows/cursoricon.c, windows/dialog.c, windows/driver.c, windows/win.c, dlls/winmm/lolvldrv.c, dlls/winmm/mmsystem.c, files/directory.c, graphics/win16drv/prtdrv.c, if1632/thunk.c, include/wine/winbase16.h, include/wine/winuser16.h, loader/module.c, loader/resource.c, controls/menu.c, dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c, dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c, dlls/kernel/kernel.spec, dlls/ole32/ifs.c, dlls/ole32/storage.c, dlls/shell32/shell.c, dlls/user/resource.c, dlls/user/user.spec:
	Changed GetProcAddress16 and 16-bit resource functions to take normal
	pointers instead of SEGPTRs.
	Removed WIN16_GetTempDrive.

	* documentation/wine.man.in, misc/options.c, misc/version.c, dlls/oleaut32/typelib.c:
	Andreas Mohr <amohr@codeweavers.com>
	- added winver settings nt2k, win30 and win20 (yes, some rare programs need this)
	  and *document* it (win98 was not documented previously)
	- OaBuildVersion: add value for NT4 SP6
	- spelling fixes

	* configure, configure.in, dlls/crtdll/crtdll.h, dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, include/config.h.in, tools/winapi_check/win32/crtdll.api, tools/winapi_check/win32/ntdll.api:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- configure tests for finite()/fpclass(), fixes BSD compile
	- winapi_check updates, fix errno in more math calls

	* win32/except.c, include/toolhelp.h, loader/task.c:
	Andreas Mohr <amohr@codeweavers.com>
	Implemented TerminateApp needed for DBase 5.0.
	Made FatalAppExit16 honor the SEM_NOGPFAULTERRORBOX error_mode flag.

	* controls/edit.c:
	Dmitry Timoshkov <dtimoshkov@codeweavers.com>
	General clean up of the edit control: removed transfer of unused
	variables, fixed signed/unsigned mismatches.

	* tools/winebuild/parser.c:
	Francois Gouget <fgouget@codeweavers.com>
	The init function can be called main.

	* memory/global.c:
	Dmitry Timoshkov <dtimoshkov@codeweavers.com>
	GlobalAlloc as GlobalAlloc16 should round size to 32.
	Call SetLastError in GlobalLock.

2000-11-26  Alexandre Julliard  <julliard@winehq.com>

	* dlls/win32s/win32s16.c, memory/selector.c:
	Moved UTSelectorOffsetToLinear and UTLinearToSelectorOffset to
	dlls/win32s.

	* dlls/setupapi/Makefile.in, dlls/setupapi/infparse.c, dlls/setupapi/setupx16.h:
	Removed dependency on 16-bit file I/O functions.

	* dlls/ntdll/ntdll.spec, dlls/user/Makefile.in, dlls/user/user.spec, dlls/user/user32.spec, dlls/user/wsprintf.c, dlls/winmm/mci.c, dlls/winspool/Makefile.in, dlls/winspool/winspool.drv.spec, include/wine/winuser16.h, include/winuser.h, misc/Makefile.in, misc/wsprintf.c, msdos/int11.c, ole/ole2nls.c, debugger/module.c, dlls/commdlg/filedlg95.c, dlls/crtdll/Makefile.in, dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/kernel/debugger.c:
	Moved wsprintf functions to dlls/user.

	* controls/scroll.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Don't draw scrollbars if their client rectangle is empty.

	* dlls/winsock/socket.c:
	Marcus Meissner <marcus@jet.franken.de>
	Ignore SOL_SOCKET/SO_DEBUG setsockopt() calls.

	* files/profile.c:
	Marcus Meissner <marcus@jet.franken.de>
	Removed strange checkj for !filename, so we don't get section NULL
	accesses later.

	* loader/pe_image.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Replaced u_char/u_short/u_long by BYTE/WORD/DWORD for increased portability.

	* dlls/comctl32/updown.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Corrected default values with help from Ulrich Czekalla.

	* dlls/crtdll/crtdll.spec, dlls/kernel/kernel.spec, dlls/kernel/kernel32.spec, dlls/ntdll/ntdll.spec, tools/winebuild/README, tools/winebuild/build.h, tools/winebuild/parser.c, tools/winebuild/spec16.c, tools/winebuild/spec32.c:
	Added entry point flags -noimport, -norelay, -ret64 and -i386.
	Replaced 'byte', 'word' and 'long' by 'variable' and made it work for
	Win32 too.
	Made parser more robust against truncated files.

	* include/cdrom.h, include/elfdll.h, windows/x11drv/wineclipsrv.c, dlls/ddraw/x11_private.h, dlls/winmm/wineoss/oss.h:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Make sure all files using config.h constants actually #include "config.h"

	* dlls/ole32/ole32_main.c, dlls/dciman32/dciman_main.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/modules.dat, tools/winapi_check/nativeapi.dat, tools/winapi_check/win16/avifile.api, tools/winapi_check/win32/dciman32.api:
	Patrik Stridvall <ps@leissner.se>
	Minor API files update.

	* tools/winebuild/import.c:
	Marcus Meissner <marcus@jet.franken.de>
	The __wine_call_from_16_ calls in the import table should use a valid
	segment for dereferencing their pointer (using CS).

	* configure, configure.in, dlls/icmp/icmp_main.c, dlls/wininet/utility.c, dlls/winsock/async.c, dlls/winsock/socket.c, include/config.h.in, include/winsock.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added checking for netdb.h.
	Don't include arpa/inet.h and sys/socket.h if system doesn't have these headers.

	* include/x11drv.h, graphics/x11drv/dib.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Do not compile code that makes use of the X Shm extension.

2000-11-25  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/debugger.c, dlls/ntdll/exception.c, include/winnt.h:
	Moved GET_IP out of winnt.h.

	* programs/progman/ChangeLog, programs/progman/Ru.rc, programs/progman/dialog.c, programs/progman/rsrc.rc:
	Vasily I. Volchenko <FoodTechnologist@pisem.net>
	Added Russian language support.
	Fixed bug of file browsing operation (filepath length corrected).

	* configure, configure.in, include/config.h.in, tools/bin2res.c, tools/winebuild/res16.c, tools/winebuild/res32.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added checking for mmap.

	* tools/wrc/utils.c:
	Added a few missing languages.

	* dlls/kernel/locale_rc.rc, dlls/kernel/nls/hkg.nls, dlls/kernel/nls/prc.nls, dlls/kernel/nls/sgp.nls:
	Nerijus Baliunas <nerijus@users.sourceforge.net>
	Added missing locales to locale_rc.rc.

	* graphics/x11drv/dib.c:
	Ove Kaaven <ovek@transgaming.com>
	Made X11DRV_DIB_GetImageBits_16 aware of 565 DIBs.

	* dlls/oleaut32/typelib.c, include/wine/obj_oleaut.h:
	Francois Jacques <francoisj@macadamian.com>
	- support for arguments with referenced types
	- imported type libraries
	- dispinterfaces
	- dual interfaces
	- ref count problems
	- memory leaks fixed

	* dlls/crtdll/crtdll_main.c:
	Marcus Meissner <marcus@jet.franken.de>
	glibc2.2 needs __USE_ISOC99 for FP_NAN and isfinite().

	* win32/console.c, include/wincon.h, dlls/kernel/kernel32.spec:
	Fixed GetLargestConsoleWindowSize return type for Winelib apps.

	* dlls/ole32/ole32.spec, dlls/shell32/shell32.spec, dlls/shlwapi/shlwapi.spec, dlls/shlwapi/string.c, dlls/win32s/w32skrnl.spec:
	Added a few forwards.

	* dlls/user/misc.c, dlls/user/user32.spec:
	Fixed typos.

	* include/bitmap.h, include/x11drv.h, objects/dib.c, dlls/ttydrv/bitmap.c, dlls/ttydrv/dc.c, dlls/ttydrv/ttydrv.h, graphics/x11drv/dib.c, graphics/x11drv/init.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented Get/SetDIBColorTable.

	* dlls/kernel/nls/lth.nls, dlls/kernel/nls/lvi.nls:
	Nerijus Baliunas <nerijus@users.sourceforge.net>
	Completed lvi.nls and lth.nls.

	* windows/message.c:
	Ove Kaaven <ovek@arcticnet.no>
	Check whether senderQ is NULL before trying to lock it.

	* dlls/crtdll/crtdll.h, dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/crtdll/file.c, dlls/crtdll/string.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- Fix ctype(), make is* functions binary compatible
	- Add 13 functions, set errno in math calls

	* dlls/wininet/ftp.c, if1632/relay.c, windows/user.c, dlls/dinput/joystick/linux.c, dlls/ntdll/debugtools.c, dlls/rpcrt4/rpcrt4_main.c, dlls/setupapi/setupapi.spec, dlls/shell32/shelllink.c, dlls/commdlg/fontdlg.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/modules.dat, tools/winapi_check/nativeapi.dat, tools/winapi_check/win32/crtdll.api, tools/winapi_check/win32/kernel32.api, tools/winapi_check/win32/ntdll.api, tools/winapi_check/win32/rpcrt4.api, tools/winapi_check/win32/setupapi.api, tools/winapi_check/win32/urlmon.api, tools/winapi_check/win32/user32.api, tools/winapi_check/winapi_check:
	Patrik Stridvall <ps@leissner.se>
	Minor API files update.

	* include/comcat.h, include/rpc.h:
	Francois Gouget <fgouget@codeweavers.com>
	Include the same headers as on Windows.

	* dlls/ole32/compobj.c, dlls/ole32/compobj_private.h, dlls/ole32/filemoniker.c, dlls/ole32/moniker.c, include/compobj.h:
	Francois Gouget <fgouget@codeweavers.com>
	compobj.h is a synonym for objbase.h
	Moved all the other contents to dlls/ole32/compobj_private.h

	* dlls/comctl32/header.c:
	Eric Kohl <ekohl@codeweavers.com>
	Added notification format handling.

	* controls/listbox.c, dlls/user/user.spec, dlls/user/user32.spec:
	Ove Kaaven <ovek@arcticnet.no>
	Implemented Win16 behaviour of DDL_DRIVES in DlgDirList.

	* windows/x11drv/keyboard.c:
	Dmitry Timoshkov <dtimoshkov@codeweavers.com>
	Fixed ToUnicode TRACE message.

	* dlls/crtdll/crtdll.h, dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/crtdll/file.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- Add math calls: scalb, fpclass, nextafter, logb, _CI*
	- Add futime, utime, purecall, getpid

	* dlls/ntdll/misc.c:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	NTDLL__CIpow returns double, not LONG.

	* dlls/winmm/wineoss/audio.c:
	Stephane Lussier <stephane@macadamian.com>
	- Read all the fragments available, not only one fragment before
	  going back to sleep.
	- Use SNDCTL_DSP_SETTRIGGER ioctl command to trigger the start the
	  recording. If this command is not supported by the device, read 4
	  bytes in the sound device instead.

	* windows/dialog.c:
	Dmitry Timoshkov <dtimoshkov@codeweavers.com>
	Add support for national characters as accelerators in dialogs.

	* windows/message.c:
	Dmitry Timoshkov <dtimoshkov@codeweavers.com>
	Always generate unicode CHAR messages.

	* dlls/ole32/hglobalstream.c, dlls/ole32/stg_bigblockfile.c:
	Fixed warnings.

	* scheduler/process.c, windows/cursoricon.c, windows/driver.c, debugger/winedbg.c, dlls/ole32/ifs.c, msdos/dosmem.c:
	Andreas Mohr <amohr@codeweavers.com>
	Cosmetics.

	* include/wine/wingdi16.h:
	Andreas Mohr <amohr@codeweavers.com>
	Added GdiSeeGdiDo16.

	* include/winnt.h:
	Andreas Mohr <amohr@codeweavers.com>
	Removed double ANYSIZE_ARRAY define.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	When autodetected the MFC were still generating wrappers.
	Fixed inconsistencies in the use of 'no' in the option names.
	Updated the MFC link-list (configure.in).
	Made the Makefile.in layout more readable.

	* dlls/comctl32/updown.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Update comments, cleanup warning messages.

	* dlls/winsock/socket.c, memory/selector.c, msdos/dpmi.c, msdos/int11.c, relay32/relay386.c, scheduler/critsection.c, server/trace.c, dlls/ntdll/exception.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Include config.h in files that test for constants defined in it.

	* dlls/kernel/comm.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Avoid using TIOCM_* constants if not available.

	* include/wine/obj_base.h:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Fixed typo in macro ICOM_METHOD11 parameter list.

	* dlls/imagehlp/modify.c:
	Eric Kohl <ekohl@codeweavers.com>
	Implemented PE file checksum calculation.

	* dlls/comctl32/comctl32.h, dlls/comctl32/commctrl.c, dlls/comctl32/tab.c, dlls/comctl32/toolbar.c:
	Eric Kohl <ekohl@codeweavers.com>
	Removed calls to internal (non-exported) wine functions.

	* dlls/kernel/locale_rc.rc:
	Aric Stewart <aric@codeweavers.com>
	Added the turkish locale.

	* windows/x11drv/clipboard.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Allow for zero-length string selections.

	* dlls/comctl32/header.c:
	Ulrich Czekalla <uczekalla@codeweavers.com>
	Send HDN_ITEMCHANGING and HDN_ITEMCHANGED when resizing.

	* ole/ole2nls.c:
	Andreas Mohr <amohr@codeweavers.com>
	CompareStringW returned wrong results sometimes.

	* ole/Makefile.in:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	We no longer have an ole/nls directory.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/reg.c, dlls/shlwapi/shlwapi.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Added some ordinal stubs, implemented SHDeleteValue*, SHSetValue*.

	* windows/message.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented SendNotifyMessage().

	* tools/wineinstall:
	Andreas Mohr <amohr@codeweavers.com>
	Made wineinstall a bit more verbose.

	* dlls/gdi/wing.c: Ove Kaaven <ovek@arcticnet.no>
	WinG was written for 8bpp DIBs, so some apps assume that, so always
	recommend 8bpp, regardless of the actual display depth.

	* graphics/painting.c:
	Marcus Meissner <marcus@jet.franken.de>
	GetPixel needs to return CLR_INVALID if not inside clipping region.

	* dlls/ole32/ole32.spec, dlls/ole32/ole32_main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added OLE32.DllRegisterServer stub.

	* dlls/avifil32/avifile.spec:
	Ove Kaaven <ovek@arcticnet.no>
	Routed a couple of 16-bit avifile.dll handlers to the 32-bit
	handlers... well, works for Civilization II.

	* dlls/ntdll/ntdll.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Added pow() forward.

	* relay32/snoop.c:
	Marcus Meissner <marcus@jet.franken.de>
	Don't test !HIWORD values for pointerness.

	* include/windef.h:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Fixed compilation warning on Cygwin.

	* dlls/comctl32/comctl32undoc.c:
	Marcus Meissner <marcus@jet.franken.de>
	MultiByteToWideChar() returns characters, not bytes.

	* dlls/oleaut32/variant.c:
	Francois Jacques <francoisj@macadamian.com>
	Implemented VT_EMPTY to VT_BSTR type coercion.

	* include/ole2.h, include/oleauto.h:
	Marcus Meissner <marcus@jet.franken.de>
	Added prototypes for Ole{G,S}etAutoConvert, LHashValOfNameSys{,A}.

	* dlls/kernel/format_msg.c:
	Marcus Meissner <marcus@jet.franken.de>
	Handle %ls same as %s.

	* dlls/dciman32/dciman_main.c, dlls/dciman32/dciman32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Added stub for DCIOpenProvider.

2000-11-16  Alexandre Julliard  <julliard@winehq.com>

	* dlls/imagehlp/Makefile.in, dlls/msacm/Makefile.in, dlls/msacm/msacm32.spec, dlls/oleaut32/oleaut32.spec, dlls/olecli/Makefile.in, dlls/olecli/olecli32.spec, dlls/olesvr/Makefile.in, dlls/olesvr/olesvr32.spec, dlls/rasapi32/Makefile.in, dlls/rasapi32/rasapi32.spec, dlls/version/Makefile.in, dlls/wininet/Makefile.in, dlls/winmm/mciseq/Makefile.in, dlls/Makefile.in, dlls/avifil32/Makefile.in, dlls/dplayx/Makefile.in:
	Avoid linking with ntdll where possible.

	* dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/crtdll/dir.c, dlls/crtdll/file.c, dlls/crtdll/spawn.c:
	Removed calls to Wine internal functions.

	* dlls/dplayx/dplay.c, dlls/dplayx/dplayx_global.c, dlls/dplayx/dplobby.c, dlls/dplayx/name_server.c, dlls/shlwapi/shlwapi.spec, dlls/shlwapi/string.c, dlls/version/info.c, dlls/version/install.c, dlls/version/resource.c, dlls/wininet/ftp.c, dlls/wininet/http.c, dlls/wininet/internet.c:
	Replaced HEAP_strdup* and lstrcpynAtoW calls by exported functions.

2000-11-15  Alexandre Julliard  <julliard@winehq.com>

	* objects/gdiobj.c, scheduler/process.c, scheduler/synchro.c, scheduler/syslevel.c, tools/winebuild/relay.c, windows/queue.c, windows/win.c, windows/winhelp.c, include/wine/winbase16.h, include/wine/windef16.h, loader/module.c, loader/ne/module.c, loader/task.c, dlls/kernel/kernel.spec, dlls/kernel/sync.c, dlls/kernel/thunk.c, dlls/kernel/wowthunk.c, dlls/ntdll/signal_i386.c, dlls/user/user_main.c, dlls/win32s/w32skernel.c, dlls/win32s/win32s16.c, dlls/winmm/mmsystem.c, dlls/winmm/time.c, files/dos_fs.c, include/heap.h, include/syslevel.h, include/win.h, include/winbase.h, include/windef.h, include/winsock.h:
	Moved standard syslevel APIs declaration to winbase.h.
	Use exported syslevel function wherever possible.
	Moved SEGPTR declaration to windef16.h.

	* include/winproc.h, windows/message.c, windows/winproc.c:
	Dmitry Timoshkov <dtimoshkov@codeweavers.com>
	Added mapping to/from unicode for WM_CHAR, WM_DEADCHAR, WM_SYSCHAR,
	WM_SYSDEADCHAR messages.

	* tools/winebuild/main.c:
	Francois Gouget <fgouget@free.fr>
	Allow the user to stick the option and its argument together.

	* dlls/crtdll/crtdll.h, dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/crtdll/file.c, dlls/crtdll/memory.c, dlls/crtdll/string.c, tools/winapi_check/win32/crtdll.api:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- Complete the implementation of heap functions
	- Forward j0,j1,jn,y0,y1,yn math calls to libc
	- Add strnextc, pass text flag in creat, winapi_check fixes

	* controls/widgets.c:
	Dmitry Timoshkov <dtimoshkov@codeweavers.com>
	Prepare switching to unicode of builtin widgets.

	* include/wine/obj_base.h:
	James Hatheway <james@macadamian.com>
	Increase number of parameters possible for ICOM_* macros to 11.

	* debugger/stabs.c:
	Dmitry Timoshkov <dtimoshkov@codeweavers.com>
	Skip directories when loading debug symbols.

	* debugger/debugger.h, debugger/hash.c, debugger/module.c, debugger/msc.c, debugger/stabs.c, debugger/winedbg.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Improved internal module handling (module now have a size, map of
	loaded module is clearer, better error reporting, seperated module
	loading code from symbol extraction).

	* dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c, dlls/commdlg/printdlg.c, dlls/comctl32/monthcal.c, dlls/comctl32/rebar.c, dlls/commdlg/colordlg.c:
	Dmitry Timoshkov <dtimoshkov@codeweavers.com>
	Remove redundant includes.
	Eliminate use of USER internal structures.

	* dlls/comctl32/tab.c:
	Eric Kohl <ekohl@codeweavers.com>
	Use internal unicode strings.
	Added unicode messages.

	* dlls/comctl32/comctl32.h, dlls/comctl32/comctl32undoc.c:
	Eric Kohl <ekohl@codeweavers.com>
	New unicode support functions.

	* tools/winebuild/spec16.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Include config.h.

	* dlls/ole32/compobj.c:
	Marcus Meissner <marcus@jet.franken.de>
	Simplified reg handling in CoGetClassObject, do not use RegQueryValueW.

	* misc/registry.c:
	Marcus Meissner <marcus@jet.franken.de>
	RegSetValueEx16 might get passed 0 as count of databytes, determine
	string length for ourselves in this case.

	* include/objbase.h, include/unknwn.h:
	Francois Gouget <fgouget@codeweavers.com>
	Match the Windows header dependencies.

	* windows/sysmetrics.c:
	Francois Gouget <fgouget@codeweavers.com>
	SM_ARRANGE is ARW_HIDE, i.e. 8

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Distinguish between IMPORTS and LIBRARIES.
	Renamed LIBRARIES to DLLS to avoid confusion with the above, renamed
	PROGRAMS to EXES to match.
	Added a '-i' option for importing a Winelib library. '-l' is still
	there but is only used for linking in the Unix sense.
	Disabled the 'wrapper' options. It will be removed as a separate
	patch.
	No longer link with all of Wine's libraries.
	Import the same default set of dlls as Visual Studio.
	Avoid duplicate imports when generating the .spec file.
	Updated the way winebuild is used.
	Link applications as libraries and create a symbolic link to wine.
	Detect where 'wine' is located in the configure script.
	Removed unused/no longer used variables: DLLFLAGS, XLIB, X_DLLS,
	XFILES, DLLS (configure.in)
	Updated LDSHARED AND LDDLLFLAGS detection (configure.in).
	Removed the rules pertaining to spec files from the Make.rules.
	Updated the clean command to remove the symbolic links.

	* dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added some rpcrt4 stubs.

	* dlls/x11drv/x11drv_main.c:
	Jeremy White <jwhite@codeweavers.com>
	Allow desktop=N in the [x11drv] section of .winerc, instead of
	defaulting to desktop=640x480.

2000-11-14  Alexandre Julliard  <julliard@winehq.com>

	* tools/winebuild/relay.c, tools/winebuild/spec16.c, loader/ne/module.c, loader/ne/resource.c, loader/ne/segment.c, memory/Makefile.in, memory/environ.c, memory/global.c, memory/heap.c, memory/instr.c, memory/ldt.c, memory/selector.c, msdos/dosmem.c, msdos/dpmi.c, msdos/vxd.c, objects/metafile.c, scheduler/process.c, scheduler/thread.c, server/process.c, server/thread.c, server/trace.c, dlls/kernel/kernel_main.c, dlls/kernel/thunk.c, dlls/winmm/mmsystem.c, graphics/x11drv/dib.c, if1632/builtin.c, if1632/relay.c, if1632/snoop.c, include/builtin16.h, include/global.h, include/ldt.h, include/selectors.h, include/server.h, include/wine/library.h, library/Makefile.in, library/ldt.c, loader/task.c:
	Moved LDT handling to libwine.so. Changed the interface to use the
	exported LDT_ENTRY structure.

2000-11-13  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/shell32.spec, dlls/comctl32/comctl32.spec, dlls/commdlg/comdlg32.spec:
	Temp hack: do not import dlls that we link with at the ELF level.

	* dlls/kernel/kernel32.spec:
	Fixed copy/paste typo spotted by Dimitrie O. Paun.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Implement dragging on gripper to expand and compress bands. Actual
	moving bands to different rows will be later.

	* dlls/kernel/comm.c, include/server.h, scheduler/synchro.c, server/Makefile.in, server/async.c, server/object.h, server/request.h, server/serial.c, server/trace.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	- created server object for handling async i/o
	- implemented WaitCommEvent with the EV_RXCHAR flag
	- implemented GetOverlappedResult

	* dlls/kernel/kernel32.spec, dlls/kernel/thunk.c, if1632/builtin.c, if1632/relay.c, if1632/snoop.c, include/builtin16.h, tools/winebuild/relay.c, tools/winebuild/spec16.c, windows/winproc.c:
	Export the CallFrom16xxx functions from kernel32. Renamed them
	__wine_call_from_16 to follow the naming convention.

	* tools/winebuild/build.h, tools/winebuild/import.c, tools/winebuild/main.c, tools/winebuild/spec32.c:
	Do not warn for unused imported dlls when forwards to the same dlls
	are present.

	* tools/winebuild/spec32.c:
	Don't include wine internal functions in the relay debugging table.

	* Make.rules.in:
	Do a strip --strip-unneeded on the .tmp.o file to reduce disk usage.

	* dlls/setupapi/infparse.c, dlls/winmm/mciseq/mcimidi.c, dlls/winspool/info.c, graphics/x11drv/dib.c, memory/global.c, scheduler/thread.c, dlls/avifil32/avifile.c, dlls/dplayx/dplay.c, dlls/imagehlp/access.c, dlls/msacm/internal.c:
	Replaced a few internal functions by exported ones.

	* scheduler/pthread.c:
	Ove Kaaven <ovek@arcticnet.no>
	Unix98 pthread_rwlock* stubs for glibc2.2 compatibility.

	* configure, configure.in:
	Marcus Meissner <marcus@jet.franken.de>
	Since we can no longer built .a files:
	- remove -disable/-enable-dll option
	- error and abort if no suitable shared library linking is possible

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Fixed the detection of the link flags for NetBSD/Cygwin (configure.in)
	Added AC_PATH_HEADER and AC_PATH_LIBRARY
	Better header/library detection. Now works if things are already in
	the include/library path
	Look for the wine/MFC headers and libraries in more places so that it
	works out of the box if Wine/MFC is installed in a standard place
	(although there is not really a standard place yet for the MFC)
	Renamed the '--with-xxx' options to have simpler more natural names
	Renamed the corresponding 'WINELIB_xxx' variables to 'WINE_xxx'

	* msdos/dpmi.c: Ove Kaaven <ovek@arcticnet.no>
	When a Win16 app sets a selector base to low DOS memory, make sure low
	DOS memory is mapped first.

	* msdos/interrupts.c:
	Ove Kaaven <ovek@arcticnet.no>
	Use the virtual real-mode interrupt table if low DOS memory isn't
	mapped.

	* include/miscemu.h, msdos/dosmem.c:
	Ove Kaaven <ovek@arcticnet.no>
	Reorganized DOS memory remapping slightly, so that the real-mode
	interrupt table can exist even when low DOS memory isn't mapped,
	and is copied down along with the BIOS area whenever it is mapped.
	Added DOSMEM_SystemBase() which returns a pointer to the virtual
	real-mode interrupt table and BIOS data segment.
	Allowed DOSMEM_Init(TRUE) to be called more than once.

2000-11-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/win32s/Makefile.in, dlls/winaspi/Makefile.in, dlls/wininet/Makefile.in, dlls/winmm/joystick/Makefile.in, dlls/winmm/mcicda/Makefile.in, dlls/winmm/mciseq/Makefile.in, dlls/winmm/mciwave/Makefile.in, dlls/winmm/midimap/Makefile.in, dlls/winmm/wavemap/Makefile.in, dlls/winmm/wineoss/Makefile.in, dlls/wow32/Makefile.in, dlls/shfolder/Makefile.in, dlls/shlwapi/Makefile.in, dlls/tapi32/Makefile.in, dlls/tapi32/tapi32.spec, dlls/ttydrv/Makefile.in, dlls/urlmon/Makefile.in, dlls/version/Makefile.in, dlls/shell32/shell32.spec, dlls/shell32/Makefile.in, dlls/setupapi/Makefile.in, dlls/olepro32/Makefile.in, dlls/olesvr/Makefile.in, dlls/psapi/Makefile.in, dlls/rasapi32/Makefile.in, dlls/richedit/Makefile.in, dlls/rpcrt4/Makefile.in, dlls/rpcrt4/rpcrt4.spec, dlls/serialui/Makefile.in, dlls/imm32/Makefile.in, dlls/lzexpand/Makefile.in, dlls/mpr/Makefile.in, dlls/msacm/Makefile.in, dlls/msnet32/Makefile.in, dlls/msvideo/Makefile.in, dlls/odbc32/Makefile.in, dlls/oleaut32/Makefile.in, dlls/olecli/Makefile.in, dlls/oledlg/Makefile.in, dlls/Makefile.in, dlls/avifil32/Makefile.in, dlls/comctl32/Makefile.in, dlls/commdlg/Makefile.in, dlls/commdlg/filedlgbrowser.c, dlls/crtdll/Makefile.in, dlls/dciman32/Makefile.in, dlls/dplay/Makefile.in, dlls/dplayx/Makefile.in, dlls/dsound/Makefile.in, dlls/icmp/Makefile.in, dlls/imagehlp/Makefile.in:
	Start using import tables for dlls that can already support it.

	* tools/winebuild/spec16.c, tools/winebuild/spec32.c, dlls/kernel/kernel.spec, dlls/ole32/compobj.spec, if1632/relay.c, loader/task.c, tools/winebuild/import.c, tools/winebuild/parser.c:
	Raise an exception for unimplemented 16-bit entry points too.
	Added check for duplicate names in 16-bit spec files.

	* win32/except.c, winedefault.reg:
	The debugger "Auto" registry value should be a string.

	* dlls/x11drv/x11drv_main.c, wine.ini:
	Andreas Mohr <amohr@codeweavers.com>
	Implemented the Desktop=XXXxYYY setting in the [x11drv] section of the
	config file.

	* debugger/msc.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Make use of Windows structure for COFF info.
	Fixed a few issues in COFF loading.
	Cleaned up the code.

	* tools/c2man.pl:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fix for APIs that don't have any ordinal (ordinal=@).

	* dlls/winspool/info.c:
	Stefan Leichter <Stefan.Leichter@camline.com>
	Made WINSPOOL_GetPrinterDriver work again.

2000-11-11  Alexandre Julliard  <julliard@winehq.com>

	* console/generic.c, controls/button.c, server/request.c, tools/bin2res.c, tools/makedep.c, tools/winebuild/parser.c, tools/winebuild/res16.c, tools/winebuild/res32.c, tools/winebuild/spec32.c, tools/wmc/lang.c, tools/wrc/dumpres.c, tools/wrc/newstruc.c, tools/wrc/newstruc.h, tools/wrc/parser.y, tools/wrc/readres.c, tools/wrc/utils.c, tools/wrc/wrctypes.h, tools/wrc/writeres.c:
	Joerg Mayer <jmayer@loplof.de>
	Get rid of some warnings about unused variables, signed/unsigned
	comparisons and incomplete initializations.

	* windows/x11drv/keyboard.c, graphics/x11drv/xfont.c, include/wingdi.h, unicode/Makefile.in, unicode/c_28592.c, unicode/c_28593.c, unicode/c_28594.c, unicode/c_28599.c, unicode/c_28600.c, unicode/c_28603.c, unicode/c_28604.c, unicode/c_28605.c, unicode/cpmap.pl, unicode/cptable.c:
	Nerijus Baliunas <nerijus@users.sourceforge.net>
	Add new encodings ISO 8859-10 (cp28600), 8859-13 (cp28603), 8859-14 (cp28604),
	8859-15 (cp28605). Add Lithuanian (Baltic) keyboard layout.

	* dlls/comctl32/animate.c:
	Andreas Mohr <amohr@codeweavers.com>
	Fixed WM_PAINT in ANIMATE_WindowProc; call DefWindowProcA for default handling.

	* configure, configure.in:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added another detection of strength-reduce bug in GCC.

2000-11-10  Alexandre Julliard  <julliard@winehq.com>

	* programs/cmdlgtst/Makefile.in, programs/control/Makefile.in, programs/notepad/Makefile.in, programs/osversioncheck/Makefile.in, programs/progman/Makefile.in, programs/regapi/Makefile.in, programs/regtest/Makefile.in, programs/uninstaller/Makefile.in, programs/view/Makefile.in, programs/wcmd/Makefile.in, programs/winemine/Makefile.in, programs/winhelp/Makefile.in, programs/winver/Makefile.in, programs/winver/winver.spec, programs/avitools/Makefile.in, programs/avitools/aviinfo.spec, programs/avitools/aviplay.spec, programs/avitools/icinfo.spec, programs/clock/Makefile.in:
	Build most programs as .so files.

	* configure, configure.in, programs/.cvsignore, programs/Makefile.in, programs/Makeprog.rules.in:
	Added Makeprog.rules.in containing rules for building Winelib
	programs.

	* dlls/ntdll/debugtools.c, dlls/ntdll/ntdll.spec, files/file.c, include/debugtools.h:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Use variable argument macros when compiling with gcc.

	* tools/winelauncher.in:
	Jeremy White <jwhite@codeweavers.com>
	Make winelauncher smarter about finding the Wine libraries and
	binaries.  Change the color scheme.  Handle launches with no
	arguments, correctly handle invocation as a mime-type handler from
	KDE.

	* memory/heap.c, dlls/user/exticon.c, dlls/version/resource.c, include/sqlext.h, include/winbase.h, include/winnt.h, library/loader.c, loader/pe_resource.c:
	Francois Gouget <fgouget@codeweavers.com>
	Use DUMMYxxxNAME for anonymous struct/unions.

	* include/wingdi.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added missing pointer types: Pxxx or LPxxx
	Fixed the definition of FONTENUMPROC
	Fixed typo: TA_RTLEADING is in fact TA_RTLREADING (right to left
	reading I believe)
	Added missing definitions: PC_TRAPEZOID
	Use DUMMYxxxNAME for anonymous struct/unions in DEVMODE

	* include/winuser.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added some STN_xxx macros.

	* include/windef.h:
	Francois Gouget <fgouget@codeweavers.com>
	HICON and HCURSOR should be interchangeable.

	* include/commctrl.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added LPUDACCEL and HDF_RTLREADING.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Convert include statements of not-found files to lower case by
	default
	Added --no-lower-include option to override the above
	Beautified the interactive mode output to make it easier to follow
	Interactive mode: support the --mfc and --wrap options for both
	projects and targets
	Fixed the mfc/wrap propagation between project and targets (goes both
	ways)
	Autodetect MFC based projects by looking for an 'stdafx.(cpp|h)' file
	Don't put the stdafx.cpp file in the list of files to compile (it's
	just there for pre-compiled headers, yuk)
	Fixed LD_LIBRARY_PATH when linking an application with a library from
	the same makefile
	Don't forget 'extra' sources when looking for a file for configure.in
	Renamed the '--no-makefile' option to '-no-generated-file'

	* documentation/winemaker.man:
	Francois Gouget <fgouget@codeweavers.com>
	Document the --lower-include options.
	Document the --no-generated-files options.

	* relay32/builtin32.c: Repaired relay debugging.

	* dlls/Makedll.rules.in:
	We do not need to set SOVERSION for dlls.

	* libtest/Makefile.in, libtest/expand.spec, libtest/hello.spec, libtest/hello2.spec, libtest/hello3.spec, libtest/hello4.c, libtest/hello4.spec, libtest/hello5.spec, libtest/new.spec, libtest/rolex.spec, libtest/vartest.c, libtest/vartest.spec, libtest/volinfo.spec:
	Build test programs as .so files. Added missing imports.

	* include/wine/library.h, library/loader.c, scheduler/process.c:
	Added support for loading a Winelib app linked as a .so from the wine
	launcher, based on the value of argv[0].

	* dlls/Makedll.rules.in, dlls/ntdll/Makefile.in, dlls/ttydrv/Makefile.in:
	Don't link libwine_unicode into all dlls.

	* programs/clock/language.c, programs/clock/language.h, programs/clock/license.c, programs/clock/license.h, programs/clock/main.c, programs/clock/main.h, programs/notepad/dialog.c, programs/notepad/language.c, programs/notepad/language.h, programs/notepad/license.c, programs/notepad/license.h, programs/notepad/main.c, programs/notepad/main.h, programs/winhelp/winhelp.c:
	Fixed language handling. Removed some dependencies on Wine internals.

	* wine.ini: Andreas Mohr <amohr@codeweavers.com>
	Added an explanation for the directory symlink stuff.

	* dlls/winspool/info.c:
	Stefan Leichter <Stefan.Leichter@camline.com>
	Corrected used registry key.

	* dlls/wininet/http.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Initialize nSocketFD to INVALID_SOCKET.

2000-11-09  Alexandre Julliard  <julliard@winehq.com>

	* programs/uninstaller/uninstaller.spec, programs/view/view.spec, programs/wcmd/wcmd.spec, programs/winemine/winemine.spec, programs/winhelp/winhelp.spec, programs/winver/winver.spec, debugger/winedbg.spec, programs/clock/clock.spec, programs/cmdlgtst/cmdlgtst.spec, programs/control/control.spec, programs/notepad/notepad.spec, programs/osversioncheck/osversioncheck.spec, programs/progman/progman.spec, programs/regapi/regapi.spec, programs/regtest/regtest.spec:
	Added some missing imports.

	* Make.rules.in, Makefile.in, tools/winebuild/build.h, tools/winebuild/import.c, tools/winebuild/main.c, tools/winebuild/spec32.c:
	Added support in winebuild for resolving function imports (-sym option).
	Added -L option for locating imported dlls.
	Changed generated exe init code to use __wine_get_main_args.

	* dlls/ntdll/ntdll.spec, misc/options.c:
	Added __wine_get_main_args to retrieve command-line arguments for the
	application.

	* loader/elfdll.c:
	Don't strip the library extension if it's not ".dll".

	* configure, configure.in:
	Fixed NetBSD dll check.
	Added check for -Bsymbolic.
	Fixed LDSHARED definition to support undefined SONAME.

	* dlls/comctl32/comctl32.h, dlls/comctl32/header.c, dlls/comctl32/rsrc.rc:
	Eric Kohl <ekohl@codeweavers.com>
	Added header control cursors and drag list arrow icon.

	* dlls/wineps/rsrc.rc, dlls/wineps/wps_En.rc, dlls/wineps/wps_Ru.rc, dlls/wineps/wps_Sk.rc:
	Dmitry Timoshkov <dtimoshkov@codeweavers.com>
	Added Russian resources to the Postscript driver.

	* dlls/comctl32/propsheet.c:
	Dmitry Timoshkov <dtimoshkov@codeweavers.com>
	Make a copy of the dialog resource before correcting styles.

2000-11-08  Alexandre Julliard  <julliard@winehq.com>

	* include/wine/library.h, library/loader.c, relay32/builtin32.c:
	Do builtin modules fixups in library/loader.c before calling the
	load_dll callback.

	* if1632/thunk.c, include/callback.h, include/task.h, loader/dos/dosvm.c, loader/module.c, loader/task.c, miscemu/main.c, objects/palette.c, scheduler/process.c, scheduler/thread.c, win32/except.c, dlls/gdi/printdrv.c, dlls/kernel/comm.c:
	Check all Callouts function pointers for NULL before using them.
	Don't load USER dll if not needed by the application.

	* dlls/crtdll/crtdll.h, dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/crtdll/dir.c, dlls/crtdll/exit.c, dlls/crtdll/file.c, dlls/crtdll/mbstring.c, dlls/crtdll/memory.c, dlls/crtdll/spawn.c, dlls/crtdll/string.c, dlls/crtdll/time.c, dlls/crtdll/wcstring.c, tools/winapi_check/win32/crtdll.api, dlls/crtdll/Makefile.in:
	Jon Griffiths <jon_p_griffiths@yahoo.com>
	- Implemented 73 CRT functions
	- Reimplemented file I/O using Win32 calls
	- Set errno/doserrno in most calls

	* dlls/wininet/ftp.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Add missing #include <netinet/in_systm.h> and #include <netinet/in.h>.

	* programs/winemine/main.c:
	Added middle mouse button handling.

	* dlls/user/.cvsignore: Removed .s files.

	* include/Makefile.in, include/comcat.h, include/rpc.h, include/rpcdce.h, include/rpcdcep.h, include/rpcndr.h, include/wtypes.h:
	Francois Gouget <fgouget@codeweavers.com>
	Moved things to the proper rpcxxx.h header.
	Added some type definitions used by the MFC.

	* dlls/commdlg/filedlgbrowser.c, dlls/ddraw/ddraw_private.h, dlls/dplayx/dpclassfactory.c, dlls/ole32/moniker.c, dlls/shell32/folders.c, dlls/shell32/shlview.c:
	Francois Gouget <fgouget@codeweavers.com>
	We must include windef.h before wtypes.h (directly or indirectly).

	* include/winuser.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added DM_REPOSITION.

	* include/winbase.h:
	Francois Gouget <fgouget@codeweavers.com>
	We must include stdarg.h.
	Added a few missing exception related types.

	* include/winnt.h:
	Francois Gouget <fgouget@codeweavers.com>
	We must include ctype.h so that applications get isalnum & co.

	* include/commdlg.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added CC_SOLIDCOLOR and CC_ANYCOLOR.

	* include/Makefile.in, include/dosexe.h, include/module.h, library/Makefile.in, library/debug.c, library/loader.c, loader/dos/module.c, loader/module.c, loader/pe_image.c, miscemu/main.c, relay32/builtin32.c, scheduler/process.c, tools/winebuild/spec32.c:
	Moved builtin dll registration to libwine.
	Changed process initialization to not load imported dlls too early.

	* dlls/comctl32/listview.c:
	Aric Stewart <aric@codeweavers.com>
	Implemented VK_PRIOR and VK_NEXT processing (merged from Corel tree).

	* windows/x11drv/keyboard.c:
	Aric Stewart <aric@codeweavers.com>
	ToUnicode: ignore CTRL+number keystrokes.

	* include/wine/library.h, include/wine/port.h, library/port.c, memory/virtual.c, misc/options.c:
	Added new library.h header for libwine definitions.
	Added getpagesize() and wine_anon_mmap() portability functions.

2000-11-07  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/pthread.c:
	pthread_atfork: don't call critical section functions before
	initialization is done.

	* memory/virtual.c:
	Fixed 0/-1 mixup for indicating no mapping handle.

	* controls/uitools.c, include/tchar.h:
	Francois Gouget <fgouget@free.fr>
	Fixed typos in comments.

	* dlls/comctl32/comctl32.h, dlls/comctl32/comctl_De.rc, dlls/comctl32/comctl_En.rc, dlls/comctl32/toolbar.c:
	Eric Kohl <ekohl@codeweavers.com>
	Implemented toolbar customization dialog.

	* dlls/comctl32/updown.c:
	Eric Kohl <ekohl@codeweavers.com>
	Implemented new messages.

	* debugger/msc.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	- Take OMAP records into account to correct symbol addresses.
	- Understand CodeView data embedded in the PE file itself.
	- Understand NB11 signature CodeView data.
	- No more bogus 'timestamp mismatch' errors.
	- General cleanup / removal of duplicate code.

	* include/winnt.h:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Added missing IMAGE_DEBUG_MISC definition.

	* dlls/wininet/ftp.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Send the local ip address with the PORT command and not that of the
	server.
	Fix handling of multi-line responses.
	Read a response after the STOR command.

	* dlls/comctl32/listview.c:
	Aric Stewart <aric@codeweavers.com>
	Implemented the RedrawItems message for a listview.

	* dlls/wineps/afm.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	New path for AFM documentation on the net.

	* tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	Fix the include path handling in get_real_include_name
	Modified get_real_include_name so that it can follow an include path
	starting with $(TOPSRCDIR)
	Indent the debug messages a bit more so that winemaker's is still
	readable when they are on
	The ATL_INCLUDE_ROOT variable was set wrong (configure.in)
	The MFC include path must contain the path to the ATL headers
	(configure.in)

	* dlls/comctl32/tab.c:
	Francois Gouget <fgouget@free.fr>
	Use DrawFocusRect to draw the focus rectangle.

	* dlls/winaspi/aspi.c:
	Andreas Mohr <amohr@codeweavers.com>
	- fortify ASPI /proc file parsing (SCSI_getprocentry()) against
	  CD-ROM drives that are doing mad things with spaces
	- add ERR()s in case of parsing problems

	* include/bitmaps/wine_small.xpm:
	Aric Stewart <aric@codeweavers.com>
	Added 16x16 wine logo.

2000-11-06  Alexandre Julliard  <julliard@winehq.com>

	* dlls/Makefile.in, dlls/winmm/Makefile.in, dlls/winmm/winmm.spec:
	Removed SUBDIRS in winmm Makefile.

	* dlls/setupapi/setupapi.spec, dlls/setupapi/stubs.c, include/Makefile.in, include/setupapi.h:
	James Hatheway <james@macadamian.com>
	Added stubs and setupapi.h.

	* dlls/comctl32/comboex.c:
	Marcus Meissner <marcus@jet.franken.de>
	CBEM_SETITEMW done by example from SETITEMA, converted SETITEMA to use
	it.

	* documentation/Makefile.in, documentation/winemaker.man:
	Francois Gouget <fgouget@codeweavers.com>
	Winemaker's man page initial release.

	* tools/wrc/Makefile.in, debugger/Makefile.in, programs/winhelp/Makefile.in, tools/makedep.c, tools/wmc/Makefile.in:
	Better error message when an include file is not found by makedep.
	Added support for .mc extension.
	Do not try to open *.tab.h and *.mc.rc include files.

	* dlls/user/Makefile.in:
	Added missing dependency for 16-bit resource files.

	* Make.rules.in, dlls/kernel/Makefile.in, dlls/kernel/kernel.rc, dlls/kernel/messages/.cvsignore:
	Use .mc.rc extension for rc files generated by the message compiler.

	* loader/elf.c:
	Andreas Mohr <amohr@codeweavers.com>
	Get ELF_LoadLibraryExA back into a working state.

	* dlls/winspool/info.c:
	Stefan Leichter <Stefan.Leichter@camline.com>
	Enable the functions AddPrinterW, WINSPOOL_GetPrinterDriver,
	AddPrinterDriverA, WINSPOOL_EnumPrinterDrivers to distinguish the
	registry entrys of Win9[58] and WinNT printer drivers.

	* controls/menu.c:
	Francois Gouget <fgouget@free.fr>
	Take into account the sunken border for Win98 look.
	Leave a 1 pixel gap to the left of menu bitmap items for symetry (and
	because Win9x does it).
	Leave a 1 pixel gap above menu bar items for symetry (and because
	Win9x does it).

2000-11-05  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dinput/Makefile.in, dlls/dinput/device.c, dlls/dinput/device_private.h, dlls/dinput/dinput_main.c, dlls/dinput/dinput_private.h, dlls/dinput/joystick/linux.c, dlls/dinput/keyboard/main.c, dlls/dinput/mouse/main.c, include/dinput.h, configure, configure.in:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- reorganized DInput DLL
	- added stubbing for DInput 7a
	- 'fixed' the mouse problem in Fallout

	* dlls/ole32/.cvsignore, dlls/ole32/Makefile.in, dlls/ole32/ole2.c, dlls/ole32/ole32.spec, dlls/ole32/ole32_main.c, dlls/ole32/ole32_main.h, dlls/ole32/ole32res.rc:
	Huw D M Davies <hdavies@codeweavers.com>
	Added DnD cursors as ole32 resources.

	* include/spy.h, windows/message.c, windows/spy.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Added the ability to see names of the virtual key codes.

	* Makefile.in, configure, configure.in, tools/.cvsignore, tools/Makefile.in, tools/winelauncher.in:
	Jeremy White <jwhite@codeweavers.com>
	Added a winelauncher shell script which makes the process of running
	Wine a little nicer for an end user.  The intent of winelauncher is to
	be used inside of a distribution package.

	* tools/Makefile.in, tools/winemaker:
	Francois Gouget <fgouget@codeweavers.com>
	New script for porting Windows source code to WineLib.

	* dlls/x11drv/x11drv.spec, dlls/winmm/mcianim/Makefile.in, dlls/winmm/mcianim/mcianim.drv.spec, dlls/winmm/mciavi/Makefile.in, dlls/winmm/mciavi/mciavi.drv.spec, dlls/winmm/mcicda/Makefile.in, dlls/winmm/mcicda/mcicda.drv.spec, dlls/winmm/mciseq/Makefile.in, dlls/winmm/mciseq/mciseq.drv.spec, dlls/winmm/mciwave/Makefile.in, dlls/winmm/mciwave/mciwave.drv.spec, dlls/winmm/midimap/Makefile.in, dlls/winmm/midimap/midimap.drv.spec, dlls/winmm/wavemap/Makefile.in, dlls/winmm/wavemap/msacm.drv.spec, dlls/winmm/wineoss/Makefile.in, dlls/winmm/wineoss/wineoss.drv.spec, dlls/winsock/ws2_32.spec, dlls/winspool/Makefile.in, dlls/winspool/winspool.drv.spec, dlls/wsock32/Makefile.in, dlls/wsock32/wsock32.spec, dlls/version/Makefile.in, dlls/version/version.spec, dlls/win32s/Makefile.in, dlls/win32s/w32skrnl.spec, dlls/winaspi/Makefile.in, dlls/winaspi/wnaspi32.spec, dlls/wineps/Makefile.in, dlls/wineps/wineps.spec, dlls/wininet/Makefile.in, dlls/wininet/wininet.spec, dlls/winmm/Makefile.in, dlls/winmm/joystick/Makefile.in, dlls/winmm/joystick/joystick.drv.spec, dlls/winmm/winmm.spec, dlls/shlwapi/shlwapi.spec, dlls/tapi32/tapi32.spec, dlls/ttydrv/Makefile.in, dlls/ttydrv/ttydrv.spec, dlls/urlmon/Makefile.in, dlls/urlmon/urlmon.spec, dlls/user/user32.spec, dlls/shell32/shell32.spec, dlls/shlwapi/Makefile.in, dlls/shell32/pidl.c, dlls/serialui/serialui.spec, dlls/setupapi/Makefile.in, dlls/setupapi/setupapi.spec, dlls/shell32/Makefile.in, dlls/olesvr/olesvr32.spec, dlls/opengl32/opengl32.spec, dlls/psapi/Makefile.in, dlls/psapi/psapi.spec, dlls/rasapi32/rasapi32.spec, dlls/richedit/Makefile.in, dlls/richedit/riched32.spec, dlls/rpcrt4/rpcrt4.spec, dlls/serialui/Makefile.in, dlls/lzexpand/Makefile.in, dlls/lzexpand/lz32.spec, dlls/mpr/Makefile.in, dlls/mpr/mpr.spec, dlls/msacm/Makefile.in, dlls/msacm/msacm32.spec, dlls/msvideo/Makefile.in, dlls/msvideo/msvfw32.spec, dlls/odbc32/odbc32.spec, dlls/ole32/ole32.spec, dlls/oleaut32/Makefile.in, dlls/oleaut32/oleaut32.spec, dlls/olecli/Makefile.in, dlls/olecli/olecli32.spec, dlls/oledlg/oledlg.spec, dlls/olepro32/Makefile.in, dlls/olepro32/olepro32.spec, dlls/commdlg/comdlg32.spec, dlls/crtdll/crtdll.spec, dlls/ddraw/ddraw.spec, dlls/dinput/Makefile.in, dlls/dinput/dinput.spec, dlls/dplayx/Makefile.in, dlls/dplayx/dplayx.spec, dlls/dsound/Makefile.in, dlls/dsound/dsound.spec, dlls/gdi/Makefile.in, dlls/gdi/gdi32.spec, dlls/icmp/Makefile.in, dlls/icmp/icmp.spec, dlls/imagehlp/Makefile.in, dlls/imagehlp/imagehlp.spec, dlls/imm32/Makefile.in, dlls/imm32/imm32.spec, dlls/kernel/kernel32.spec, dlls/Makedll.rules.in, dlls/Makefile.in, dlls/advapi32/advapi32.spec, dlls/avifil32/Makefile.in, dlls/avifil32/avifil32.spec, dlls/comctl32/Makefile.in, dlls/comctl32/comctl32.spec:
	Declare debug channels in all dlls that need them; added imports of
	ntdll where necessary.

	* dlls/ntdll/Makefile.in, dlls/ntdll/debugtools.c, dlls/ntdll/ntdll.spec, include/debugdefs.h, include/debugtools.h, include/main.h, library/Makefile.in, library/debug.c, misc/Makefile.in, misc/debugstr.c, misc/main.c, misc/options.c, relay32/builtin32.c, tools/find_debug_channels, tools/make_debug:
	New debug channel mechanism allowing decentralized channel
	declarations.

	* tools/winebuild/build.h, tools/winebuild/main.c, tools/winebuild/parser.c, tools/winebuild/spec32.c:
	Added debug_channels support.

	* graphics/win16drv/graphics.c, graphics/win16drv/init.c, graphics/x11drv/init.c, include/enhmetafiledrv.h, include/gdi.h, include/win16drv.h, dlls/ttydrv/dc.c, dlls/wineps/init.c, graphics/enhmetafiledrv/graphics.c, graphics/enhmetafiledrv/init.c, graphics/metafiledrv/graphics.c, graphics/metafiledrv/init.c, graphics/metafiledrv/metafiledrv.h, graphics/painting.c:
	Patrik Stridvall <ps@leissner.se>
	Optimized {,p}MoveTo{,Ex}{,16}.

	* windows/dce.c: Francois Gouget <fgouget@free.fr>
	Added comment explaining why we have an ERR rather than a WARN.

	* msdos/dosmem.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Added missing #include <sys/types.h>.

	* dlls/comctl32/comboex.c:
	Marcus Meissner <marcus@jet.franken.de>
	Forward CBEM_SETEXSTYLE to CBEM_SETEXTENDEDSTYLE, pass WM_SETTEXT and
	WM_GETTEXT down to combo box.

	* windows/sysparams.c:
	James Abbatiello <jabbey@codeweavers.com>
	Cleanup SystemParametersInfo<16|A|W>.

	* controls/menu.c:
	James Abbatiello <jabbey@codeweavers.com>
	Don't reset MF_POPUP flag in SetMenu().

	* windows/queue.c:
	James Abbatiello <jabbey@codeweavers.com>
	Fix test for pending message in QUEUE_ReceiveMessage().

	* windows/dce.c, windows/scroll.c, windows/x11drv/wnd.c, graphics/x11drv/bitmap.c, graphics/x11drv/brush.c, graphics/x11drv/clipping.c, graphics/x11drv/dib.c, graphics/x11drv/graphics.c, graphics/x11drv/init.c, graphics/x11drv/palette.c, graphics/x11drv/pen.c, graphics/x11drv/text.c, graphics/x11drv/xfont.c, include/dc.h, include/gdi.h, objects/bitmap.c, objects/brush.c, objects/clipping.c, objects/dc.c, objects/dcvalues.c, objects/dib.c, objects/font.c, objects/gdiobj.c, objects/palette.c, objects/region.c, objects/text.c, graphics/x11drv/bitblt.c, dlls/wineps/brush.c, dlls/wineps/clipping.c, dlls/wineps/color.c, dlls/wineps/escape.c, dlls/wineps/font.c, dlls/wineps/graphics.c, dlls/wineps/init.c, dlls/wineps/pen.c, dlls/wineps/ps.c, dlls/wineps/text.c, graphics/bitblt.c, graphics/enhmetafiledrv/graphics.c, graphics/enhmetafiledrv/init.c, graphics/enhmetafiledrv/objects.c, graphics/escape.c, graphics/mapping.c, graphics/metafiledrv/bitblt.c, graphics/metafiledrv/graphics.c, graphics/metafiledrv/init.c, graphics/metafiledrv/mapping.c, graphics/metafiledrv/objects.c, graphics/painting.c, graphics/path.c, graphics/win16drv/brush.c, graphics/win16drv/font.c, graphics/win16drv/graphics.c, graphics/win16drv/init.c, graphics/win16drv/pen.c, graphics/win16drv/text.c, dlls/gdi/printdrv.c, dlls/opengl32/wgl.c, dlls/ttydrv/bitmap.c, dlls/ttydrv/dc.c, dlls/ttydrv/graphics.c, dlls/ttydrv/objects.c, dlls/ttydrv/ttydrv.h, dlls/ttydrv/wnd.c:
	Allocate DC objects on the process heap, and removed WIN_DC_INFO
	structure (based on a patch by Ken Coleman).

2000-11-04  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/shelllink.c:
	Removed leftover debug output.

	* dlls/setupapi/infparse.c, dlls/setupapi/setupx16.h, dlls/setupapi/setupx_main.c:
	Andreas Mohr <amohr@codeweavers.com>
	- fix inf file open/close
	  - do NOT return handles based on list offset
	  - we might want to use HEAP_strdupA instead of assigning string pointers...
	- implement (more or less) GenFormStrWithoutPlaceholders

	* documentation/wine.man.in:
	Lawson Whitney <lawson_whitney@juno.com>
	Protect the backslashes we mean to have show from groff.

	* dlls/comctl32/comctl32undoc.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed off by one error in DPA handling, added some warnings.

	* files/file.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Use debugging API instead of outputing to stderr directly.

	* dlls/ddraw/dsurface/main.c:
	Andreas Mohr <amohr@codeweavers.com>
	Avoid division by zero.

	* dlls/comctl32/rebar.c:
	Marcus Meissner <marcus@jet.franken.de>
	Pass up WM_DRAWITEM messages to parent.

2000-11-02  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/shelllink.c, include/bitmaps/wine.xpm, tools/Makefile.in, tools/wineshelllink, wine.ini:
	Create Gnome/KDE desktop and menu entries from IShellLink
	interface. Based on the work of James Thomson and Dusan Lacko.

	* dlls/comctl32/treeview.c:
	Aric Stewart <aric@codeweavers.com>
	Treeview item sorting could mess up the visibleOrder of the items.

	* windows/win.c: Gerard Patel <g.patel@wanadoo.fr>
	Marcus Meissner <marcus@jet.franken.de>
	Move focus recalculation out of the window destroy recursion
	so we do not send WM_SETFOCUS to already destroyed windows.

	* controls/menu.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Do not invert "magic" bitmap menu items.

	* tools/find_debug_channels:
	Francois Gouget <fgouget@free.fr>
	Make sure to carefully quote file names.

	* dlls/comctl32/toolbar.c:
	Marcus Meissner <marcus@jet.franken.de>
	Swap CalcToolbar and paint rectangle computation to the correct order.

	* programs/wcmd/ChangeLog, programs/wcmd/Makefile.in, programs/wcmd/wcmdmain.c:
	Dave Pickles <davep@cyw.uklinux.net>
	Pause command interpreter while executing a console-mode app.

2000-11-01  Alexandre Julliard  <julliard@winehq.com>

	* files/directory.c:
	Fixed SearchPath to handle a ';'-separated path as first argument.

	* dlls/ntdll/nt.c:
	Andreas Mohr <amohr@codeweavers.com>
	Changed NtQueryInformationToken() to fill out a valid TOKEN_GROUP with
	admin privileges.

	* windows/cursoricon.c:
	Marcus Meissner <marcus@jet.franken.de>
	DrawIconEx: when flags=0 use flags=DI_NORMAL instead.

	* dlls/shell32/shell32.spec, dlls/shell32/shellord.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Export SHGetSettings by name. New stub for shell.68.

	* dlls/comctl32/rebar.c:
	Marcus Meissner <marcus@jet.franken.de>
	Have Internet Explorer 3 show its toolbars by passing RB_GETBANDINFO
	to RB_GETBANDINFOA.

	* objects/metafile.c:
	Andreas Mohr <amohr@codeweavers.com>
	Use GDISelectPalette16 instead of SelectPalette and
	GDIRealizePalette16 instead of RealizePalette in order to get rid of
	possible deadlocks.

	* relay32/snoop.c, scheduler/process.c, scheduler/timer.c, server/atom.c, server/mapping.c, server/request.c, server/thread.h, win32/console.c, windows/dialog.c, windows/x11drv/clipboard.c, dlls/kernel/time.c, dlls/kernel/win87em.c, dlls/msvideo/drawdib.c, dlls/oleaut32/variant.c, dlls/setupapi/setupx_main.c, dlls/shell32/shlmenu.c, dlls/shell32/shv_bg_cmenu.c, graphics/x11drv/xfont.c, loader/ne/segment.c, misc/cpu.c, misc/error.c, misc/options.c, misc/registry.c, msdos/devices.c, msdos/vga.c, msdos/vxd.c, objects/dib.c, controls/edit.c, dlls/comctl32/listview.c, dlls/comctl32/monthcal.c, dlls/comctl32/tab.c, dlls/comctl32/treeview.c, dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/x11.c, dlls/ddraw/x11_private.h:
	Andreas Mohr <amohr@codeweavers.com>
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Patrik Stridvall <ps@leissner.se>
	Various warning fixes.

	* graphics/painting.c, graphics/path.c, include/path.h:
	Mark Dufour <m.dufour@student.tudelft.nl>
	Make the functions Pie, Chord, RoundRect, AngleArc, PolyDraw and
	Ellipse work with an open path.

	* controls/menu.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Make bitmap menu items look like in windows when selected,
	i.e. inverted and hilited (in Win98 look).

	* controls/scroll.c:
	Francois Gouget <fgouget@free.fr>
	Check for SB_CTL before displaying a caret.

	* dlls/kernel/format_msg.c:
	Do not truncate high word of message id.

	* include/commdlg.h, include/wine/obj_serviceprovider.h, include/wine/obj_shellbrowser.h, dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/commdlg/filedlgbrowser.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	Better handling of custom templates and hooks.
	Bug fixes.

	* dlls/comctl32/toolbar.c:
	Marcus Meissner <marcus@jet.franken.de>
	Removed unnecessary calls of TOOLBAR_CalcToolbar() (which would be
	recalculated due to InvalidateRect()->WM_PAINT anyway).

	* dlls/user/user32.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed issue found by winapi_check.

	* tools/winapi_check/modules.dat, tools/winapi_check/win32/advapi32.api, tools/winapi_check/win32/rpcrt4.api, tools/winapi_check/win32/ttydrv.api, tools/winapi_check/win32/user32.api, tools/winapi_check/win32/wininet.api, tools/winapi_check/win32/x11drv.api:
	Patrik Stridvall <ps@leissner.se>
	Minor API files update.

	* windows/x11drv/keyboard.c:
	Gabriel Garcia <GarciaG@origenes.com.ar>
	Added Latin American layout.

	* dlls/urlmon/urlmon.spec, dlls/urlmon/urlmon_main.c, dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	Lawson Whitney <lawson_whitney@juno.com>
	Stubs for UrlMkSetSessionOption, SHLWAPI_132, SHGetInverseCMAP.
	Redirected forward of shlwapi.54 to gdi32.CreateICW.

2000-10-31  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c, dlls/comctl32/monthcal.c, dlls/comctl32/tab.c, dlls/comctl32/treeview.c:
	Francois Gouget <fgouget@free.fr>
	Use PS_ALTERNATE rather than PS_DOT.
	Use Rectangle to draw focus rectangles.

	* objects/pen.c: Francois Gouget <fgouget@free.fr>
	Allow pens with styles greater than PS_INSIDEFRAME to be created with
	CreatePenIndirect and ExtCreatePen.

	* graphics/x11drv/pen.c:
	Francois Gouget <fgouget@free.fr>
	Use sizeof for maintainability.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Ignore RBBS_BREAK style on first band.

	* graphics/x11drv/init.c:
	Francois Gouget <fgouget@free.fr>
	Fixed a few device caps values.

	* misc/registry.c:
	David Elliott <dfe@infinite-internet.net>
	_nt_parse_nk() should not close keys that it does not open.

	* objects/gdiobj.c:
	Francois Gouget <fgouget@free.fr>
	Set the thickness of stock pens to 0 so that they are not scaled.

	* dlls/comctl32/listview.c:
	Aric Stewart <aric@codeweavers.com>
	Fixed cancels editing of a listview label if the listview is
	scrolled.

	* windows/syscolor.c:
	Francois Gouget <fgouget@free.fr>
	Fixed the value of some system colors.

	* dlls/comctl32/rebar.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fix for avoiding subtraction from unsigned zero.

	* dlls/wineps/rsrc.rc, dlls/wineps/wps_Sk.rc, dlls/winmm/winmm_Sk.rc, dlls/winmm/winmm_res.rc, documentation/i18n.sgml, programs/clock/Sk.rc, programs/clock/rsrc.rc, programs/notepad/Sk.rc, programs/notepad/rsrc.rc, programs/progman/Sk.rc, programs/progman/rsrc.rc, programs/winhelp/Sk.rc, programs/winhelp/rsrc.rc, windows/x11drv/keyboard.c, dlls/commdlg/cdlg_Sk.rc, dlls/shell32/shell32_Sk.rc, dlls/user/resources/user32_Sk.rc:
	Peter Ivanyi <ivanyi@internet.sk>
	Added/upgraded Slovak messages, and Slovak and Czech keyboard layout.

	* controls/scroll.c:
	Francois Gouget <fgouget@free.fr>
	Hide the caret only on the first WM_KEYDOWN.

	* dlls/dinput/dinput_main.c:
	Andreas Mohr <amohr@codeweavers.com>
	Changed mouse UnAcquire to NOT unacquire it on multiple unacquires.
	Implemented DIPROP_AXISMODE for SysMouseAImpl_SetProperty.

	* dlls/comctl32/treeview.c:
	Susan Farley <susan@codeweavers.com>
	Under some conditions its necessary to explicitly show the
	scrollbars.

	* windows/dialog.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Display an ERR on errors while initializing USER.

	* dlls/kernel/time.c:
	Rein Klazes <rklazes@casema.net>
	Return TIME_ZONE_ID_STANDARD in GetTimeZoneInformation().

	* dlls/comctl32/comboex.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Handle special case where itemID = -1 (special focus rect draw).

	* dlls/shell32/shres.rc:
	Andreas Mohr <amohr@codeweavers.com>
	Fix insufficient rect width value in resource file.

	* win32/console.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Need to get any outstanding input prior to returning number.

	* tools/wineinstall:
	Ove Kaaven <ovek@arcticnet.no>
	Some bugfixes, another function for packaging, and some text
	reformatting from Eric Maryniak.

	* dlls/gdi/Makefile.in, dlls/x11drv/Makefile.in:
	Removed obsolete TOOLSUBDIRS dependency.

	* programs/winemine/Makefile.in, programs/winhelp/Makefile.in, programs/winver/Makefile.in, programs/avitools/Makefile.in, programs/clock/Makefile.in, programs/cmdlgtst/Makefile.in, programs/control/Makefile.in, programs/notepad/Makefile.in, programs/osversioncheck/Makefile.in, programs/progman/Makefile.in, programs/regapi/Makefile.in, programs/regtest/Makefile.in, programs/uninstaller/Makefile.in, programs/view/Makefile.in, programs/wcmd/Makefile.in, dlls/odbc32/Makefile.in, dlls/odbc32/odbc32.spec, dlls/ole32/Makefile.in, dlls/oledlg/Makefile.in, dlls/oledlg/oledlg.spec, dlls/olesvr/Makefile.in, dlls/olesvr/olesvr32.spec, dlls/rasapi32/Makefile.in, dlls/rasapi32/rasapi32.spec, dlls/rpcrt4/Makefile.in, dlls/rpcrt4/rpcrt4.spec, dlls/user/Makefile.in, dlls/winsock/Makefile.in, libtest/Makefile.in, miscemu/wine.spec, programs/Makefile.in, debugger/Makefile.in, dlls/advapi32/Makefile.in, dlls/commdlg/Makefile.in, dlls/crtdll/Makefile.in, dlls/dciman32/Makefile.in, dlls/dciman32/dciman32.spec, dlls/kernel/Makefile.in, dlls/msnet32/Makefile.in, dlls/msnet32/msnet32.spec:
	Added import of ntdll.

	* tools/winebuild/Makefile.in, tools/wmc/Makefile.in, tools/wrc/Makefile.in, unicode/Makefile.in, .cvsignore, Make.rules.in, Makefile.in, dlls/Makedll.rules.in, dlls/Makefile.in, dlls/ntdll/.cvsignore, dlls/ntdll/Makefile.in, library/.cvsignore, library/Makefile.in, library/port.c, library/winestub.c, misc/Makefile.in, misc/port.c:
	Build ntdll as a real dll, including everything that was previously in
	libwine.so. Created a new (mostly empty) libwine.so in library/ subdir.

2000-10-29  Alexandre Julliard  <julliard@winehq.com>

	* debugger/msc.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	DEBUG_ProcessDBGFile: use a stack variable for the extra_info.

	* relay32/snoop.c, dlls/msvideo/msvideo_main.c, dlls/richedit/charlist.h, dlls/winmm/wineoss/midi.c, if1632/snoop.c, if1632/thunk.c, loader/task.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Fixed a few compilation warnings

	* dlls/ntdll/signal_i386.c, dlls/oleaut32/safearray.c, dlls/winaspi/winescsi.h, server/handle.c:
	Joerg Mayer <jmayer@loplof.de>
	Move inline and static to the beginning of declarations.

	* dlls/comctl32/comboex.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	COMBOEX_DrawItem: check return value of SendMessageA(...,CB_GETITEMDATA,...)

	* tools/wineconf:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added a '-inifile' option to specify the location of the wine.ini file
	used in the building of the new wine.ini file.

	* debugger/msc.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	- enable loading of pdb files named in NB10 records of a dbg file
	- disable timestamp check for pdb files

	* win32/device.c:
	Marcus Meissner <marcus@jet.franken.de>
	Quieten VxDCall_VMM output.

	* tools/wineinstall:
	Ove Kaaven <ovek@arcticnet.no>
	wineinstall improvements, mostly for usage in package postinstall
	scripts.

	* if1632/builtin.c, if1632/relay.c, include/builtin16.h, tools/winebuild/build.h, tools/winebuild/main.c, tools/winebuild/relay.c, tools/winebuild/spec16.c:
	Patch flat cs of 16-bit entry points if current %cs is different from
	compiled value, and retrieve flat ds from a global variable. This
	should avoid problems with win4lin kernels.

	* scheduler/critsection.c, scheduler/thread.c, windows/clipboard.c, windows/winpos.c, dlls/advapi32/advapi32.spec, dlls/advapi32/registry.c, dlls/kernel/kernel32.spec, dlls/ntdll/critsection.c, dlls/ntdll/ntdll.spec, dlls/user/user32.spec, files/directory.c, include/ntddk.h, memory/registry.c:
	David Elliott <dfe@infinite-internet.net>
	Added basic working stubs of new Windows 2000 API functions.

	* include/local.h, memory/local.c:
	Removed unused LOCAL_LockSegptr.

	* graphics/x11drv/palette.c, objects/dc.c, objects/palette.c, windows/painting.c:
	Use GetStockObject() instead of the magic STOCK_* handles.

	* debugger/msc.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	DEBUG_ProcessDBGFile: allocate MSC_DBG_INFO before writing to members
	of that structure.

	* dlls/shell32/shell32_main.c:
	Dave Pickles <davep@cyw.uklinux.net>
	Implement SHGFI_EXETYPE function of SHGetFileInfo.

	* windows/winhelp.c:
	Marcus Meissner <marcus@jet.franken.de>
	Report errors on WinHelp() failures.

	* dlls/comctl32/comboex.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- improved trace information
	- implemented CB_SETITEMHEIGHT, WM_WINDOWPOSCHANGING,
	  WM_MEASUREITEM, WM_DRAWITEM
	- changed CBEM_INSERTITEMA, CBEM_SETIMAGELIST,
	  WM_CREATE, WM_DESTROY
	- above changes correct window rectangle, draws items, and creates
	  control correctly.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- correct processing of RBBS_BREAK style.
	- handle cases where cyChild was set to -1 by appl. - undocumented.
	- remove special code for Comboboxex problem (now solved).
	- fix some painting problems

2000-10-28  Alexandre Julliard  <julliard@winehq.com>

	* memory/global.c:
	Francois Gouget <fgouget@free.fr>
	Return the correct value for dwTotalVirtual.
	Return a more plausible value for dwAvailVirtual.

	* misc/cpu.c: Francois Gouget <fgouget@free.fr>
	Return a more plausible value for MinimumApplicationAddress.

	* tools/winebuild/main.c, server/context_i386.c:
	Federico Schwindt <fgsch@core-sdi.com>
	Fixes for OpenBSD.

	* dlls/ole32/itemmoniker.c:
	Marcus Meissner <marcus@jet.franken.de>
	CreateItemMoniker may get NULL as szDelim, some cleanups.

	* dlls/ole32/storage32.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed OleLoadFromStream: Dereference ppvObj and get IPersistStream
	instead of accessing IUnknown.

	* dlls/wininet/Makefile.in, dlls/wininet/http.c, dlls/wininet/wininet.spec:
	Huw D M Davies <hdavies@codeweavers.com>
	Stub for HttpSendRequestExA.

	* controls/combo.c, dlls/commdlg/filedlg95.c:
	Andreas Mohr <amohr@codeweavers.com>
	- set the item height not only for the listbox, but also for the text field
	- center text vertically
	- beautify comments

	* dlls/user/Makefile.in:
	Matthew Clarke <Matthew_Clarke@mindlink.bc.ca>
	Don't assume we are building in the source tree, but allow make to
	locate resources/display.rc and resources/mouse.rc via VPATH.

2000-10-26  Alexandre Julliard  <julliard@winehq.com>

	* debugger/winedbg.c, include/windef.h, include/wine/exception.h, relay32/builtin32.c, tools/winebuild/spec32.c, win32/except.c:
	Raise an exception when a stub entry point is called.

	* windows/keyboard.c, windows/struct32.c, windows/struct32.h:
	Removed unused STRUCT32_NCCALCSIZE functions.

	* windows/input.c, controls/menu.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Ask application to reinitialize its menu before processing an
	accelerator key.

	* dlls/shell32/shellpath.c:
	Martin Pilka <mpilka@codeweavers.com>
	"StartMenu" --> "Start Menu", "Startup" --> "StartUp".

	* dlls/ntdll/signal_i386.c:
	Fixed typo due to merge error.

	* dlls/oleaut32/typelib.c:
	Francois Jacques <francoisj@macadamian.com>
	Updated the load process so that all typelibs (and not just the first
	one, as it used to) stored in a DLL can be loaded.

	* graphics/painting.c:
	Mark Dufour <m.dufour@student.tudelft.nl>
	Implemented PolyDraw() and AngleArc().

2000-10-26  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, include/version.h:
	Release 20001026.

----------------------------------------------------------------
2000-10-26  Alexandre Julliard  <julliard@winehq.com>

	* debugger/winedbg.c, include/windef.h, include/wine/exception.h, relay32/builtin32.c, tools/winebuild/spec32.c, win32/except.c:
	Raise an exception when a stub entry point is called.

	* windows/keyboard.c, windows/struct32.c, windows/struct32.h:
	Removed unused STRUCT32_NCCALCSIZE functions.

	* windows/input.c, controls/menu.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Ask application to reinitialize its menu before processing an
	accelerator key.

	* dlls/shell32/shellpath.c:
	Martin Pilka <mpilka@codeweavers.com>
	"StartMenu" --> "Start Menu", "Startup" --> "StartUp".

	* dlls/ntdll/signal_i386.c:
	Fixed typo due to merge error.

	* dlls/oleaut32/typelib.c:
	Francois Jacques <francoisj@macadamian.com>
	Updated the load process so that all typelibs (and not just the first
	one, as it used to) stored in a DLL can be loaded.

	* graphics/painting.c:
	Mark Dufour <m.dufour@student.tudelft.nl>
	Implemented PolyDraw() and AngleArc().

2000-10-25  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/keyboard.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Added an another special case handling for Shift+[NumPad]DEL.

	* debugger/Makefile.in, server/Makefile.in, tools/winebuild/Makefile.in, tools/wmc/Makefile.in, tools/wrc/Makefile.in:
	Kristoffer Gleditsch <toffer@ping.uio.no>
	Added LDFLAGS to linking of wine-related binaries.

	* dlls/ttydrv/user.c, dlls/user/user_main.c, dlls/x11drv/x11drv.spec, include/user.h, include/x11drv.h, windows/input.c, windows/keyboard.c, windows/x11drv/keyboard.c, dlls/ttydrv/ttydrv.spec:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Replaced ToAscii by ToUnicode in the User driver interface.

	* dlls/ddraw/ddraw/x11.c:
	William Waghorn <wwaghorn@litany.demon.co.uk>
	xf86vmode_setdisplaymode() wasn't properly saving the 'private' field
	of the XF86VidModeModeLine structure.

	* controls/scroll.c:
	Francois Methot <francoism@macadamian.com>
	Added support of blinking thumb as found in Windows scrollbar.

	* dlls/oleaut32/typelib.c:
	Francois Jacques <francoisj@macadamian.com>
	Updated typelib loader. Typelib contents can be stored as multibyte
	strings. However, they are always returned to the application as BSTR,
	e.g. UNICODE strings. All strings are now stored as BSTR instead of
	ASCII strings.

	* include/module.h, loader/module.c, loader/pe_image.c:
	Andreas Mohr <amohr@codeweavers.com>
	Free the Win16 dummy module and wm->deps.

	* graphics/x11drv/graphics.c:
	Mark Dufour <m.dufour@student.tudelft.nl>
	X11DRV_DrawArc: swap the start and end points when drawing in
	clockwise direction.

	* objects/region.c:
	Aviad Pineles <paviad@netvision.net.il>
	Avoid infinite loop in CreateRoundRectRgn().

	* Make.rules.in, dlls/user/Makefile.in, dlls/user/display.spec, dlls/user/mouse.spec, dlls/user/resources/.cvsignore, dlls/user/resources/display.rc, dlls/user/resources/display.rc16, dlls/user/resources/mouse.rc, dlls/user/resources/mouse.rc16, if1632/builtin.c, tools/winebuild/Makefile.in, tools/winebuild/build.h, tools/winebuild/main.c, tools/winebuild/parser.c, tools/winebuild/res16.c, tools/winebuild/res32.c, tools/winebuild/spec16.c, tools/winebuild/utils.c:
	Added support for loading .res files for 16-bit resources.

	* relay32/builtin32.c:
	Removed no longer used structure definition.

	* tools/wrc/writeres.c:
	16-bit resource size must be scaled by alignment.

	* dlls/comctl32/tab.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Implement TCS_VERTICAL style.  Fix tab borders to have shading that
	matches Windows.  Center image and text in tabs.  Size tabs to
	completely fill each row with multiline style.  Fix positioning of
	tabs for TCS_BOTTOM style.  Fix various drawing issues.

	* dlls/comctl32/treeview.c:
	Susan Farley <susan@codeweavers.com>
	- When inserting an item, do not invalidate the area above the new
	  item.
	- The debug function that verifies the tree after each insertion
	  should be disabled by default.

	* dlls/dsound/dsound_main.c:
	Andreas Mohr <amohr@codeweavers.com>
	Reimplement patch by Marcus Meissner ('98) to "fix" problems with
	DSCAPS_EMULDRIVER flag for games like Quake 2 and Unreal Tournament.

	* dlls/winmm/wineoss/audio.c:
	Andreas Mohr <amohr@codeweavers.com>
	Transform device open error TRACE()s into WARN(); better error msgs.

	* windows/winpos.c:
	Rein Klazes <rklazes@casema.net>
	In SWP_DoNCCalcSize() when determining whether the client area has
	moved, use the client coordinates as they are: not relative to its
	window coordinates.

	* windows/sysparams.c:
	Andreas Mohr <amohr@codeweavers.com>
	Added SPI_GETWINDOWSEXTENSION.

	* scheduler/process.c:
	Jeremy White <jwhite@codeweavers.com>
	Added support for a WINELOADER environment variable which allows the
	specification of a different binary loader.

2000-10-24  Alexandre Julliard  <julliard@winehq.com>

	* include/module.h, loader/pe_resource.c:
	Removed GetResDirEntryA/W.

	* dlls/shell32/iconcache.c, dlls/shell32/shell.c:
	Implement InternalExtractIcon by calling PrivateExtractIcons instead
	of duplicating all the code.

	* tools/wrc/Makefile.in, tools/wrc/genres.c, tools/wrc/utils.c, tools/wrc/utils.h, tools/wrc/writeres.c:
	Added codepage translation based on the language id (based on a patch
	by Junichi Kuchinishi <jkuchi@mahoroba.ne.jp>).

	* controls/menu.c:
	Aric Stewart <aric@codeweavers.com>
	Converted menu string handling to Unicode.

	* dlls/winsock/ws2_32.spec:
	Aric Stewart <aric@codeweavers.com>
	Added forward for WSAResetEvent.

	* dlls/winsock/socket.c:
	Rein Klazes <rklazes@casema.net>
	Convert the value of level when setsockopt is called with
	WS_SO_DONTLINGER.

	* misc/options.c, server/request.c, dlls/dsound/dsound_main.c, dlls/odbc32/proxyodbc.c, dlls/wineps/init.c, if1632/thunk.c, loader/task.c:
	Patrik Stridvall <ps@leissner.se>
	Explicitly initialize structures.

	* objects/palette.c:
	Patrik Stridvall <ps@leissner.se>
	- Explicitly initialize structures.
	- Fixed strange code probably caused by a merge conflict.

	* dlls/winmm/wineoss/audio.c:
	Francois Jacques <francoisj@macadamian.com>
	- All audio device handles are initialized to -1 and set to -1 when closed.
	- WINE_WM_HEADER event should *NOT* make the recording thread start. The
	  thread should only start through waveInStart. The application calling
	  waveInAddBuffer might not be in a state to provide another buffer in
	  a period of time short enough to avoid buffer underrun in widRecorder
	  thread.
	- widRecorder - improved robustness of widRecorder to avoid some data
	  loss that occured when not reading one full fragment from the OSS
	  audio driver.

	* dlls/ddraw/ddraw/x11.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* include/cdrom.h:
	Patrik Stridvall <ps@leissner.se>
	Added some missing defines for non-Linux.

	* tools/winebuild/res32.c:
	David Elliott <dfe@infinite-internet.net>
	Fixed OFFSETOF macro definition for gcc 2.96.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/crypt.c:
	James Hatheway <james@macadamian.com>
	Added stubs for CryptGenRandom(), CryptReleaseContext().

	* controls/combo.c:
	Susan Farley <susan@codeweavers.com>
	Do not block CBN_EDITCHANGE for WM_PASTE or WM_CUT with the
	NOEDITNOTIFY flag, as these msgs can come directly from the app to the
	combo wndproc.

	* objects/enhmetafile.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Make EnumEnhMetaFile work.

	* dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Implemented RpcStringFreeA and UuidToStringA.

2000-10-23  Alexandre Julliard  <julliard@winehq.com>

	* programs/uninstaller/.cvsignore, programs/uninstaller/Makefile.in, programs/uninstaller/uninstaller.spec, programs/view/.cvsignore, programs/view/Makefile.in, programs/view/view.spec, programs/wcmd/.cvsignore, programs/wcmd/Makefile.in, programs/wcmd/wcmd.spec, programs/winemine/.cvsignore, programs/winemine/Makefile.in, programs/winemine/winemine.spec, programs/winhelp/.cvsignore, programs/winhelp/Makefile.in, programs/winhelp/winhelp.spec, relay32/builtin32.c, tools/makedep.c, dlls/user/resources/.cvsignore, dlls/wineps/.cvsignore, dlls/wineps/Makefile.in, dlls/wineps/wineps.spec, dlls/winmm/.cvsignore, dlls/winmm/Makefile.in, dlls/winmm/winmm.spec, if1632/Makefile.in, libtest/.cvsignore, libtest/Makefile.in, libtest/hello3.spec, programs/avitools/Makefile.in, programs/clock/.cvsignore, programs/clock/Makefile.in, programs/clock/clock.spec, programs/cmdlgtst/.cvsignore, programs/cmdlgtst/Makefile.in, programs/cmdlgtst/cmdlgtst.spec, programs/notepad/.cvsignore, programs/notepad/Makefile.in, programs/notepad/notepad.spec, programs/progman/.cvsignore, programs/progman/Makefile.in, programs/progman/progman.spec, Make.rules.in, dlls/comctl32/.cvsignore, dlls/comctl32/Makefile.in, dlls/comctl32/comctl32.spec, dlls/commdlg/.cvsignore, dlls/commdlg/Makefile.in, dlls/commdlg/comdlg32.spec, dlls/kernel/.cvsignore, dlls/kernel/Makefile.in, dlls/kernel/kernel32.spec, dlls/msacm/.cvsignore, dlls/msacm/msacm32.spec, dlls/serialui/.cvsignore, dlls/serialui/serialui.spec, dlls/shell32/.cvsignore, dlls/shell32/Makefile.in, dlls/shell32/shell32.spec, dlls/user/Makefile.in, dlls/user/display.spec, dlls/user/mouse.spec, dlls/user/user32.spec:
	Build Win32 resources as .res files and dump them into the .spec.c file.

	* tools/winebuild/Makefile.in, tools/winebuild/build.h, tools/winebuild/parser.c, tools/winebuild/res32.c, tools/winebuild/spec32.c, tools/winebuild/utils.c:
	Added support for loading Win32 .res files.

	* configure, configure.in, dlls/user/disp.rc, dlls/user/mouserc.rc, dlls/user/resources/TODO, dlls/user/resources/display.rc16, dlls/user/resources/mouse.rc16, dlls/user/resources/user32.rc, dlls/user/resources/user32_Ca.rc, dlls/user/resources/user32_Cs.rc, dlls/user/resources/user32_Da.rc, dlls/user/resources/user32_De.rc, dlls/user/resources/user32_En.rc, dlls/user/resources/user32_Eo.rc, dlls/user/resources/user32_Es.rc, dlls/user/resources/user32_Fi.rc, dlls/user/resources/user32_Fr.rc, dlls/user/resources/user32_Hu.rc, dlls/user/resources/user32_It.rc, dlls/user/resources/user32_Ja.rc, dlls/user/resources/user32_Ko.rc, dlls/user/resources/user32_Nl.rc, dlls/user/resources/user32_No.rc, dlls/user/resources/user32_Pl.rc, dlls/user/resources/user32_Pt.rc, dlls/user/resources/user32_Ru.rc, dlls/user/resources/user32_Sk.rc, dlls/user/resources/user32_Sv.rc, dlls/user/resources/user32_Wa.rc:
	Moved all USER resources to new dlls/user/resources directory.

	* include/wine/winuser16.h, include/winver.h, dlls/version/info.c, dlls/version/resource.c, dlls/version/ver.spec, dlls/version/ver16.c:
	Duplicate resource directory searching routines instead of calling
	pe_resource.c internal functions.
	Made GetFileResource16 and GetFileResourceSize16 callable directly
	instead of defining extra internal functions.

	* dlls/user/exticon.c:
	Duplicate resource directory searching routines instead of calling
	pe_resource.c internal functions.

	* tools/wrc/writeres.c:
	Fixed duplication of typename in 16-bit assembly output.

	* memory/heap.c:
	Fixed multibyte handling in HEAP_strdupAtoW.

	* dlls/winmm/mcicda/mcicda.c, include/cdrom.h, misc/cdrom.c, msdos/int2f.c:
	Andreas Mohr <amohr@codeweavers.com>
	Always open/close the CD-ROM device for every Windows API CD-ROM
	access.

	* controls/edit.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Do not send EN_UPDATE to multi-line edit controls.

	* controls/menu.c:
	Francois Gouget <fgouget@free.fr>
	Fixed the text color of higlighted menu bar item for the Win98 look.
	Clicking on a separator should not close the menu.
	Do not right align 'bitmap' items and the help menu for the Win9x look
	and feels.

	* files/dos_fs.c:
	Marcus Meissner <marcus@jet.franken.de>
	If we have a drive pointing to /, we must not remove the final / or we
	get the current directory doubled.

	* dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw/x11.c, dlls/ddraw/ddraw_private.h, dlls/ddraw/x11_private.h, include/ddraw.h:
	Marcus Meissner <marcus@jet.franken.de>
	Added some basic IDirectDraw7 interface support, fixed argument count
	of IDirectDraw{4,7}_SetDisplayMode defines.

	* windows/winpos.c:
	Louis Philippe Gagnon <louisphilippe@macadamian.com>
	- Calculate changes in the client area relative to the window
	  instead of its parent when using SWP_EX_PAINTSELF.
	- With SWP_EX_PAINTSELF, copy only if client area changed, since a
	  window can't move relative to itself.
	- In SWP_DoNCCalcSize, when determining if the client area
	  changed, use values relative to the window itself, not its parent.

	* objects/region.c, windows/painting.c, windows/scroll.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Fixed painting problems in non-MM_TEXT modes.

2000-10-22  Alexandre Julliard  <julliard@winehq.com>

	* files/dos_fs.c, msdos/dosconf.c, server/registry.c, tools/winebuild/main.c, tools/winebuild/spec32.c, windows/x11drv/keyboard.c:
	Joerg Mayer <jmayer@loplof.de>
	Reduce the number of warnings about missing initializers.

	* dlls/commdlg/cdlg32.c:
	Marcus Meissner <marcus@jet.franken.de>
	Got rid of misleading "No Tls Space" error message.

	* include/wingdi.h:
	Patrik Stridvall <ps@leissner.se>
	Fixed issue found by winapi_check.

	* dlls/dinput/dinput_main.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* include/process.h:
	Patrik Stridvall <ps@leissner.se>
	Use intermediate typedef.

	* tools/winapi_check/modules.dat, tools/winapi_check/win16/ole2disp.api, tools/winapi_check/win16/typelib.api, tools/winapi_check/win32/kernel32.api, tools/winapi_check/win32/msacm32.api, tools/winapi_check/win32/oleaut32.api, tools/winapi_check/win32/user32.api:
	Patrik Stridvall <ps@leissner.se>
	Minor API files update.

	* windows/defwnd.c, windows/message.c, windows/spy.c, include/spy.h:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Added wParam and lParam as parameters in SPY_ExitMessage
	Added dump for the STYLECHANG[ING|ED] messages.
	Dump structures on exit only if message allows changes.

	* win32/except.c:
	Andreas Mohr <amohr@codeweavers.com>
	- Print CS reg at crash MessageBox (needed for Win16 programs).
	- Add "hint" for debugger setup.

	* debugger/Makefile.in, debugger/winedbg.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added advapi32 to imported DLLs list.

	* dlls/msacm/pcmconverter.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added more conversion routines (rate conversion is implemented).
	Cleaned up the code.

	* debugger/msc.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	PDB symbol header format depends only on version code.

	* dlls/comctl32/listview.c:
	Marcus Meissner <marcus@jet.franken.de>
	Do not set the iSubItem part of the struct for LVM_HITTEST,
	applications only need to pass memory space up to iItem.

	* README: Andreas Mohr <amohr@codeweavers.com>
	Mention that you need the X11 devel files.

	* dlls/ddraw/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	DirectDrawCreateEx() should already return the interface for the
	passed refiid.

	* dlls/ddraw/ddraw/dga2.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Change the width / height parameter on a SetDisplayMode.

	* dlls/commdlg/filedlg.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Fixed bug when changing drives in 16 bit style dialog for a 32 bit app
	+ miscellaneous fixes.

	* dlls/user/exticon.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added two checks for out of range pointer accesses.

	* debugger/types.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed floating point data printing and made basic types reading more
	robust.

	* dlls/comctl32/imagelist.c:
	Jason Mawdsley <jason@macadamian.com>
	Fixed some flickering that was occurring in the image list control
	when it repainted.

	* dlls/winmm/wineoss/audio.c:
	Andreas Mohr <amohr@codeweavers.com>
	Added sleep time calculation for the wodPlayer thread.
	Changed the wodPlayer thread messaging to use its own fast 30 entries
	ring buffer list.

	* include/winbase.h:
	Andreas Mohr <amohr@codeweavers.com>
	Removed redundant thread priority defines.

2000-10-19  Alexandre Julliard  <julliard@winehq.com>

	* include/process.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	Added crt/msvcrt thread prototypes.

	* dlls/winmm/mciwave/mciwave.c:
	Francois Jacques <francoisj@macadamian.com>
	Added asynchronous recording in MCI layer.

	* include/winuser.h:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Added support for AZERTY keyboard layout.

	* dlls/winmm/wineoss/midi.c:
	Andreas Mohr <amohr@codeweavers.com>
	Sequencer error message fix.

	* dlls/comctl32/listview.c:
	James Hatheway <james@macadamian.com>
	Fix messages sent when right-clicking in a blank (non-item) area of a
	listview.

	* loader/pe_image.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Pass the correct hFile to PE_CreateModule.

	* dlls/comctl32/header.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Draw text and icons, implement ordering functions, allow reordering
	with mouse and fix the WM_NOTIFY target.

	* windows/x11drv/keyboard.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Added support for AZERTY keyboard layout.

	* programs/progman/group.c, programs/progman/grpfile.c, programs/progman/progman.h, programs/progman/program.c:
	<ewill@ncal.verio.com>
	Changed GROUP to PROGGROUP.

	* files/dos_fs.c, files/file.c, include/winnt.h:
	Andreas Mohr <amohr@codeweavers.com>
	Skip directory symlinks in DOSFS_FindNextEx.

	* dlls/wineps/escape.c: Brian Pirie
	Added support for PASSTHROUGH and POSTSCRIPT_PASSTHROUGH escapes.

	* include/wine/obj_base.h, include/objbase.h, include/oleauto.h, include/olectl.h, include/wininet.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added/fixed missing extern "C".

	* console/interface.c:
	Francois Gouget <fgouget@codeweavers.com>
	Fixed a char/NULL comparison.

	* include/winerror.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added the {HRESULT,SCODE}_SEVERITY macros.

	* dlls/user/exticon.c, dlls/version/resource.c, include/module.h, loader/pe_resource.c, dlls/shell32/shell.c:
	Use a binary search to find entries in resource directories.
	Fixed GetResDirEntryA/W prototypes.

	* dlls/shell32/iconcache.c, include/winuser.h:
	Call PrivateExtractIcon in user32 instead of duplicating the code.

	* dlls/winmm/wineoss/audio.c:
	Francois Jacques <francoisj@macadamian.com>
	Should test unixdev against -1 (see wodOpen/widOpen).
	widRecorder: bytesRead is now tested against (DWORD) -1.

	* loader/elfdll.c:
	Andreas Mohr <amohr@codeweavers.com>
	Back out my ELFDLL_dlopen patch and add a warning for future misguided
	hackers.

	* memory/global.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Allow freeing locked global memory handles.

	* windows/mdi.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Watch out for DefMDIChildProc calls on non-MDI-child windows.

	* graphics/x11drv/oembitmap.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Don't hold the X11 lock while calling GDI object routines.

	* dlls/x11drv/x11drv_main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Do not do any GLX calls on a display that does not support GLX.

	* dlls/comctl32/listview.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Recalculate nItemHeight when LVS_SETIMAGELIST is called.  Fixes icons
	being chopped off in the file dialog window.  Align items to top and
	refresh after sorting, as windows does.

	* dlls/oleaut32/ole2disp.c, dlls/oleaut32/ole2disp.spec, dlls/oleaut32/oleaut32.spec:
	Chris Morgan <cmorgan@codeweavers.com>
	Stub CreateDispTypeInfo, CreateStdDispatch16 and CreateStdDispatch.

	* dlls/dplayx/dpclassfactory.c, dlls/dplayx/dplay.c, dlls/dplayx/dplay_global.h, dlls/dplayx/dplaysp.c, dlls/dplayx/dplayx_messages.c, dlls/dplayx/dplayx_messages.h, dlls/dplayx/dplobby.c:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Add proper message reply mechanism and sp player data storage
	- More implementation and fixes

	* include/poppack.h, include/pshpack1.h, include/pshpack2.h, include/pshpack4.h, include/pshpack8.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added support for three levels of nesting of the 'pragma pack'
	directives.

2000-10-17  Alexandre Julliard  <julliard@winehq.com>

	* msdos/int20.c, msdos/int21.c, include/dosexe.h, include/task.h, loader/dos/module.c:
	Ove Kaaven <ovek@arcticnet.no>
	Implemented DOS INT21 AH=4B (EXEC).

	* windows/x11drv/keyboard.c, include/winuser.h:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Added support for keyboard input in various locales.

	* dlls/comctl32/listview.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Implement LVM_SETITEMPOSITION32.

	* dlls/comctl32/treeview.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Remember owner HWND when creating and use this hwnd for the WM_NOTIFY
	message target.

	* include/commctrl.h:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Added flag and notification definitions for ComboBoxEx.

	* dlls/kernel/kernel.spec, dlls/kernel/kernel_main.c:
	Andreas Mohr <amohr@codeweavers.com>
	Implemented old Win 2.x string functions.

	* dlls/ddraw/ddraw/x11.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Warning fix.

	* server/ptrace.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Add appropriate casts to caddr_t for the third parameter of ptrace().

2000-10-15  Alexandre Julliard  <julliard@winehq.com>

	* loader/dos/dosvm.c:
	Ove Kaaven <ovek@arcticnet.no>
	Fixed a couple of recent bugs, and added some more safeguards (could
	be handy for portability anyway) and trace statements.

	* server/process.c, server/registry.c, server/serial.c, server/trace.c, tools/make_requests, scheduler/process.c, misc/registry.c, memory/registry.c, include/server.h, dlls/kernel/comm.c, files/dos_fs.c, dlls/advapi32/registry.c:
	Converted a few more server requests to the new mechanism.

	* dlls/ntdll/misc.c, dlls/ntdll/ntdll_misc.h, dlls/ntdll/reg.c, include/ntddk.h:
	Fixed a few prototypes.

	* include/miscemu.h, msdos/dosmem.c, dlls/kernel/kernel_main.c:
	Set selector 0000H base to 0xf0000 until the first 64K are
	unprotected.

	* dlls/shell32/shellord.c, dlls/shell32/shlfileop.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed ShellMessageBox[AW] buffers usage (in some cases, wrong buffers
	were used ; destination buffer doesn't have a fixed size).
	Fixed FormatMessage parameter warnings (it's now a va_list*).

	* dlls/ddraw/ddraw/dga.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Remove unused variable orig_mode.

	* dlls/comctl32/updown.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Draw the scrollbar beside the buddy when neither UDS_ALIGN[RIGHT|LEFT]
	is given.

	* dlls/comctl32/datetime.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Localization and expect leapdays when looking for the length of a
	month.

	* dlls/comctl32/monthcal.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Localization and many changes to behaviour and outlook.

	* dlls/comctl32/comctl_De.rc, dlls/comctl32/comctl_En.rc, dlls/comctl32/rsrc.rc:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Split out resources that might be localized.
	Added German resources.

	* dlls/comctl32/comctl32.h:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added additional resource IDs.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/security.c:
	Marcus Meissner <marcus@jet.franken.de>
	Stubbed LookupAccountNameA.

	* dlls/ddraw/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Return "default" DirectDraw driver if we have at least one driver
	registered.

	* windows/nonclient.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Fixed behaviour of window's system buttons.

	* dlls/user/resource.c:
	Rein Klazes <rklazes@casema.net>
	LoadStringA inserts terminating null in the buffer when the string
	resource is an empty string or when it can not be found.

2000-10-13  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/oembitmap.c, include/bitmaps/ocr_hand, include/winuser.h:
	Chris Morgan <cmorgan@codeweavers.com>
	Implemented the IDC_HAND cursor.

	* dlls/kernel/format_msg.c, include/winbase.h:
	Francois Gouget <fgouget@codeweavers.com>
	Fixed the signature of the FormatMessage APIs.

	* include/Makefile.in, include/mcx.h, include/winbase.h:
	Francois Gouget <fgouget@codeweavers.com>
	The MODEM stuff has been spun off to its rightful place: mcx.h.

	* include/winnt.h, include/winsock.h, include/windows.h:
	Francois Gouget <fgouget@codeweavers.com>
	Completed/corrected the list of include files.
	Handle WIN32_LEAN_AND_MEAN and the NOxxx macros.

	* include/wingdi.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added a NOGDI protection.
	Replaced _MAX_PATH with MAX_PATH.
	#undef can be used directly on TRANSPARENT.

	* include/ole2.h:
	Francois Gouget <fgouget@codeweavers.com>
	Must include objbase.h.

	* dlls/odbc32/proxyodbc.c, include/windef.h, dlls/kernel/comm.c:
	Francois Gouget <fgouget@codeweavers.com>
	HFILE is an int, not a regular HANDLE.

	* include/winuser.h:
	Andreas Mohr <a.mohr@mailto.de>
	Added MSGF_DDEMGR.

	* dlls/ddraw/ddraw/x11.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed incorrect format string.

	* programs/winhelp/winhelp.c, programs/winhelp/winhelp.h:
	Chris Morgan <cmorgan@codeweavers.com>
	Added changing mouse cursor when over a help topic link.

	* dlls/dinput/dinput.spec, dlls/dinput/dinput_main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented DirectInputCreateEx.

	* dlls/comctl32/treeview.c:
	Louis Philippe Gagnon <louisphilippe@macadamian.com>
	Do not send a WM_CONTEXTMENU message when a TreeView receives a
	WM_RBUTTONUP.

	* if1632/findfunc, tools/findfunc:
	Lawson Whitney <lawson_whitney@juno.com>
	Make findfunc look for .spec files, and put it with the other tools.

	* memory/virtual.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Validate access even if wrap past address 0 for IsBadStringPtr[A|W]
	and IsBad[Read|Write]Ptr.

	* dlls/comctl32/commctrl.c, dlls/comctl32/imagelist.c, dlls/comctl32/listview.c, dlls/shell32/shell32_main.c, dlls/shell32/shlfolder.c, dlls/winmm/wineoss/audio.c, loader/loadorder.c, memory/registry.c:
	Andreas Mohr <amohr@codeweavers.com>
	- stupid spelling fixes
	- some more loadorder array work

	* dlls/ole32/stg_stream.c, files/drive.c, files/file.c, include/ntddk.h, dlls/kernel/time.c, dlls/ntdll/large_int.c, dlls/ntdll/nt.c, dlls/ntdll/ntdll.spec:
	Added a few more large integer functions.

	* dlls/gdi/gdi32.spec, objects/dc.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Stubbed GetDeviceGammaRamp.

	* msdos/int21.c:
	Peter Hawkins <peter@hawkins.emu.id.au>
	Added DOS int 21h function 4452h support (DR-DOS version check).

	* graphics/x11drv/dib.c:
	Ove Kaaven <ovek@arcticnet.no>
	Fill in the dsBmih.biSizeImage field of DIBSections with the
	calculated bitmap size.

	* dlls/winmm/wineoss/midi.c:
	Chris Morgan <cmorgan@wpi.edu>
	Indicate that the MIDI error message only affects programs that need MIDI.

	* memory/heap.c:
	Andreas Mohr <amohr@codeweavers.com>
	Get rid of shared heap fixme messages.
	Slightly corrected my heap commit patch (Xilinx).

	* loader/dos/dosvm.c:
	Ove Kaaven <ovek@arcticnet.no>
	Merged DOSVM_Int with DOSVM_SimulateInt, and made it handle apps that
	purposefully shuffle the interrupt vectors around.

	* dlls/comctl32/treeview.c:
	Susan Farley <sfarley@codeweavers.com>
	To improve custom-drawn items, add focus border to itemRects and do
	not overlap them.

	* dlls/kernel/Makefile.in, dlls/kernel/comm.c, dlls/kernel/kernel_main.c, files/dos_fs.c, include/comm.h, include/msdos.h, misc/Makefile.in, misc/comm.c, msdos/int11.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Moved comm.c into kernel32.

	* include/windef.h:
	Francois Gouget <fgouget@codeweavers.com>
	Claim that our headers conform to the version 5.0.

	* include/prsht.h:
	Francois Gouget <fgouget@codeweavers.com>
	The string fields in PROPSHEETPAGEA should be ANSI strings.

	* include/olectl.h:
	Francois Gouget <fgouget@codeweavers.com>
	Removed the DUMMY_UNION_NAME in favor of DUMMYUNIONNAME.

	* include/commctrl.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added the missing TVINSERTSTRUCT synonyms.
	Added missing CBEIF_xxx definitions.

	* dlls/oleaut32/ole2disp.c, include/oleauto.h:
	Francois Gouget <fgouget@codeweavers.com>
	Fixed the signature of SysAllocStringByteLen.

	* dlls/comctl32/status.c, include/win.h, include/winuser.h, windows/nonclient.c, windows/win.c, windows/winpos.c, windows/x11drv/event.c, windows/x11drv/wnd.c:
	Susan Farley <sfarley@codeweavers.com>
	Status bars on managed windows should not have SIZEGRIP style.

	* dlls/ntdll/reg.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Make reg the default output chanel.

	* dlls/winsock/socket.c:
	Rein Klazes <rklazes@casema.net>
	Ignore setsockopt calls that make the size of the receive buffer too
	small.

	* dlls/comctl32/listview.c:
	Stephane Lussier <stephane@macadamian.com>
	Subitems of listviews were not painted with the right background when:
	-LVS_EX_FULLROWSELECT style is defined
	-item is selected
	-Listview doesn't have the focus.

	* server/sock.c:
	Stephane Lussier <stephane@macadamian.com>
	After accept is called on the socket, the listening socket needs to be
	reselected.

	* memory/registry.c:
	Marcus Meissner <marcus@jet.franken.de>
	Check for buffer overflows on data returns from RegQueryValueExA.

	* include/wine/unicode.h: Konrad Rieck <kr@r0q.cx>
	Changed repne to repnz for Solaris assembler.

2000-10-12  Alexandre Julliard  <julliard@winehq.com>

	* include/winbase.h, include/windef.h, include/wine/winbase16.h, include/winnls.h, include/winnt.h:
	Francois Gouget <fgouget@codeweavers.com>
	Moved LCTYPE, GetLocaleInfo, NUMBERFMT, CURRENCYFMT and the related
	API to winnls.h.
	Moved LANG_xxx, SUBLANG_xxx, SORT_xxx and IS_TEXT_UNICODE_xxx to
	winnt.h.

	* dlls/user/resource.c, include/winuser.h, windows/cursoricon.c, windows/winhelp.c:
	Francois Gouget <fgouget@codeweavers.com>
	Added many missing *Pxxx types.
	Removed a few *LPxxx types that are not supposed to be there (in
	particular LPICONINFO).
	Added a few missing *LPCxxx types (MENUITEMINFO, SCROLLINFO,
	DLGITEMTEMPLATE).
	WINHELP and PE_ACCEL are internal types.
	MULTIKEYHELP and HELPWININFO both have an A and W variant.
	NUMBERFMT, CURRENCYFMT and the related API belong to winnls.h.
	Added missing ARW_xxx defines (for sysmetrics).

	* include/wtypes.h:
	Francois Gouget <fgouget@codeweavers.com>
	ROTFLAGS have their own ifdef protection, take them out of the
	_SECURITY_DEFINED ifdef block.

	* include/wingdi.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added a declaration for GetEnhMetaFileDescription.

	* winedefault.reg: Andreas Mohr <a.mohr@mailto.de>
	Added Fonts registry key.

	* win32/except.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed regression for debugger startup event creation.

	* dlls/comctl32/toolbar.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Fix depressed state with flat toolbars so pressing the buttons draws
	the button in a depressed state.  Fix bitmap offsets, fixes bitmap
	offset problems in file common dialog.

	* dlls/comctl32/treeview.c:
	Susan Farley <sfarley@codeweavers.com>
	On InsertItem with TVI_FIRST, the check for resetting firstVisible
	must be done *before* the parent's firstChild changes.

	* dlls/ddraw/dsurface/x11.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Support non-buffered overlays.

	* dlls/comctl32/rebar.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Rewrite to support rows of bands.
	Draw separators between bands in rows and between rows.
	Support text and background color and color propagation.
	Improve layout code.
	Make fMask in internal structure the indicator of valid information.
	Fix size of grippers.
	Add debugging traces for future.

	* dlls/comctl32/header.c:
	Serge Ivanov <sergei@corel.com>
	Simple NULL check.

	* dlls/comctl32/listview.c:
	Stephane Lussier <stephane@macadamian.com>
	- Background should not be drawn if the background color is CLR_NONE.
	- Don't change the size to 0 for the header control of listview with
	  LVS_NOCOLUMNHEADER style. In fact just setting HDS_HIDDEN to the
	  header control is enough.

	* dlls/ddraw/ddraw_private.h, dlls/ddraw/convert.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added 16 (565) -> 15 (555) bit depth converter.

	* graphics/x11drv/codepage.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added support for cp936.

	* relay32/relay386.c: Work-around for gcc bug.

	* dlls/ddraw/ddraw/x11.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Implememnted GetFourCCCodes.

	* dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/x11.c, dlls/ddraw/dga_private.h, dlls/ddraw/x11_private.h:
	Marcus Meissner <marcus@jet.franken.de>
	Enable XF86vmode switching possible for X11 too.

	* dlls/msacm/Makefile.in, dlls/msacm/driver.c, dlls/msacm/format.c, dlls/msacm/internal.c, dlls/msacm/msacm32.spec, dlls/msacm/pcmconverter.c, dlls/msacm/wineacm.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added PCM converter internal driver.
	A few driver handling fixes.

	* configure, configure.in:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Fixed the OpenGL detection code.

	* debugger/stabs.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Fixed loading of symbols from libraries.

	* win32/file.c: Rein Klazes <rklazes@casema.net>
	Prevent SetFileAttributeA from making directory read-only.

	* include/windef.h, include/wine/obj_base.h:
	Francois Gouget <fgouget@codeweavers.com>
	Enable anonymous struct/union support by default in both C and C++.
	Disable them for compilers known not to support them.
	Disable them for the WINE code.

	* include/dde.h, include/winuser.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added four DDElParam functions.
	Now needs an 'extern "C"' protection for C++.

	* dlls/user/ddeml.c:
	Francois Gouget <fgouget@codeweavers.com>
	Fix the parameter types and comments of the DDElParam functions.

	* include/winbase.h, include/wininet.h:
	Francois Gouget <fgouget@free.fr>
	Removed stray A/W from invocations of WINELIB_NAME_AW.

	* msdos/int11.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Removed dependency on globals LPT[] and COM{}.

	* dlls/oleaut32/oleaut32.spec, include/oleauto.h:
	Francois Gouget <fgouget@free.fr>
	Added some of the APIs introduced in Win98, mostly the VarXxx maths APIs.

	* msdos/vga.c: Andreas Mohr <a.mohr@mailto.de>
	Replace null bytes by spaces in WriteConsoleOutputA call.

	* dlls/winmm/mcicda/mcicda.c:
	Andreas Mohr <a.mohr@mailto.de>
	MCICDA didn't open/close the door when calling the command without
	valid parameter block (i.e. == NULL).

	* dlls/ole32/ole2.c, dlls/ole32/ole2stubs.c:
	Stephane Lussier <stephane@macadamian.com>
	Implementation of OleLockRunning function.

	* dlls/comctl32/listview.c:
	Aric Stewart <aric@codeweavers.com>
	Corrected some segvs that occur with ownerdata listviews.

	* objects/region.c:
	Marcus Meissner <marcus@jet.franken.de>
	Return values are reversed in failure/rgdata == NULL case in
	GetRegionData (was merge error by me).

	* win32/except.c, winedefault.reg:
	Andreas Mohr <a.mohr@mailto.de>
	Changed debugger launching to auto per default.

	* dlls/kernel/nls/dan.nls:
	Niels Kristian Bech Jensen <nkbj@image.dk>
	Define LOCALE_IDEFAULTMACCODEPAGE for Danish locale.

	* dlls/winmm/wineoss/audio.c:
	Marcus Meissner <marcus@jet.franken.de>
	Suppress junk noise at startup of DirectSound on SB Live! and ES 1371.

2000-10-03  Alexandre Julliard  <julliard@winehq.com>

	* include/drive.h, scheduler/process.c, files/drive.c:
	Use special environment variables to transmit the cwd of the various
	drives to child processes (based on a patch by Andreas Mohr).

	* include/msacm.h, include/tchar.h, include/wininet.h:
	Francois Gouget <fgouget@codeweavers.com>
	Removed the ';' ending on lines using the DECL_WINELIB_TYPE_AW and
	WINELIB_NAME_AW macros.

	* include/oleauto.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added some missing 'SysAllocString' prototypes.
	Added some missing 'TypeLib' prototypes.

	* dlls/oleaut32/typelib.c:
	Francois Gouget <fgouget@codeweavers.com>
	Fixed some prototypes.

	* include/bitmaps/ocr_ibeam:
	Aric Stewart <aric@codeweavers.com>
	Added a white border around the I-beam cursor.

2000-10-02  Alexandre Julliard  <julliard@winehq.com>

	* memory/global.c:
	Lawson Whitney <lawson_whitney@juno.com>
	Protect GlobalHandle() against bad parameters.

	* debugger/stack.c:
	Fixed backtrace for apps that never called down to 16-bit code.
n
	* loader/task.c: Andreas Mohr <a.mohr@mailto.de>
	Make sure that we skip tasks with missing hInstance.

	* memory/global.c: Andreas Mohr <a.mohr@mailto.de>
	Introduced a new arena flag called GA_DOSMEM to distinguish between
	DOSMEM and normal "windows" global mem.

	* dlls/winmm/mmio.c:
	Francois Jacques <francoisj@macadamian.com>
	Bug fixes in mmio, related to buffering in record mode.

2000-10-02  Alexandre Julliard  <julliard@winehq.com>

	* ChangeLog, include/version.h, ANNOUNCE:
	Release 20001002.

----------------------------------------------------------------
2000-10-02  Alexandre Julliard  <julliard@winehq.com>

	* memory/global.c:
	Lawson Whitney <lawson_whitney@juno.com>
	Protect GlobalHandle() against bad parameters.

	* debugger/stack.c:
	Fixed backtrace for apps that never called down to 16-bit code.

	* loader/task.c: Andreas Mohr <a.mohr@mailto.de>
	Make sure that we skip tasks with missing hInstance.

	* memory/global.c: Andreas Mohr <a.mohr@mailto.de>
	Introduced a new arena flag called GA_DOSMEM to distinguish between
	DOSMEM and normal "windows" global mem.

	* dlls/winmm/mmio.c:
	Francois Jacques <francoisj@macadamian.com>
	Bug fixes in mmio, related to buffering in record mode.

	* server/registry.c, server/request.h, server/trace.c, memory/registry.c, include/ntddk.h, include/server.h, dlls/ntdll/reg.c, dlls/advapi32/registry.c:
	Convert NtQueryKey and NtEnumerateKey to the new request mechanism.
	Fixed a few bugs.

	* dlls/kernel/kernel32.spec:
	Forward all large integer functions to ntdll.

	* ole/ole2nls.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	GetDateFormatA: Check range and recalculate wDayOfWeek.
	OLE_GetFormatA|W: Fix transformation of wDayOfWeek to
	LOCALE_S(ABBREV)DAYNAMEx.

	* include/wnaspi32.h, dlls/kernel/time.c, dlls/winaspi/winaspi32.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/win32/kernel32.api, tools/winapi_check/win32/ntdll.api, tools/winapi_check/win32/shell32.api, tools/winapi_check/win32/shlwapi.api, tools/winapi_check/win32/wnaspi32.api, tools/winapi_check/win16/mmsystem.api, tools/winapi_check/win16/setupx.api, tools/winapi_check/win16/user.api, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_local.pm, tools/winapi_check/modules.dat:
	Patrik Stridvall <ps@leissner.se>
	- Support for stdcall64
	- Minor API updates.

	* loader/loadorder.c:
	Andreas Mohr <a.mohr@mailto.de>
	Beautified the loadorder array (group DLLs according to functionality,
	add group header comments, ...), added builtin x11drv and winaspi.

	* dlls/msacm/internal.c:
	James Hatheway <james@macadamian.com>
	Silence unneeded exception to allow easier ACM debugging.

2000-10-01  Alexandre Julliard  <julliard@winehq.com>

	* include/server.h, memory/registry.c, server/registry.c, server/request.h, server/trace.c, tools/make_requests, dlls/advapi32/registry.c, dlls/ntdll/reg.c:
	Converted some of the registry server requests to the new request
	mechanism.

	* win32/time.c, dlls/ntdll/Makefile.in, dlls/ntdll/large_int.c, dlls/ntdll/ntdll.spec, dlls/ntdll/rtl.c, dlls/ntdll/time.c, include/ntddk.h, include/winnt.h, scheduler/timer.c, dlls/kernel/time.c:
	Implemented a bunch of large integer functions in ntdll.

	* tools/winebuild/build.h, tools/winebuild/parser.c, tools/winebuild/spec32.c, relay32/relay386.c:
	Added stdcall64 entry point type to allow correct relay debugging
	support for functions that return 64-bit values.

2000-09-29  Alexandre Julliard  <julliard@winehq.com>

	* memory/heap.c: Andreas Mohr <a.mohr@mailto.de>
	Make sure we commit enough memory in a new subheap.

	* dlls/winspool/winspool.drv.spec, dlls/winspool/info.c:
	Stefan Leichter <Stefan.Leichter@camline.com>
	- moved some code from WINSPOOL_GetPrinterDriver into new function
	  WINSPOOL_GetDriverInfoFromReg
	- bug fix in function GetPrinterDirectoryW: free local variable not
	  the one from function interface
	- implemented EnumPrinterDriversA|W

	* files/profile.c: Andreas Mohr <a.mohr@mailto.de>
	Fixed the default value handling (trailing spaces of the default value
	are clipped).
	section == NULL, key_name == NULL undoc. feature is only valid in Win32.

	* dlls/ntdll/sync.c, include/ntddk.h, loader/task.c, scheduler/Makefile.in, scheduler/critsection.c, scheduler/debugger.c, scheduler/event.c, scheduler/mutex.c, scheduler/semaphore.c, scheduler/syslevel.c, win32/Makefile.in, win32/except.c, win32/kernel32.c, win32/newfns.c, win32/process.c, win32/time.c, dlls/kernel/Makefile.in, dlls/kernel/debugger.c, dlls/kernel/sync.c, dlls/kernel/time.c:
	Moved a bunch of routines to kernel32.dll (with the help of
	Dimitrie O. Paun).

	* objects/palette.c:
	Andreas Mohr <a.mohr@mailto.de>
	GDISelectPalette16 checked GetObjectType() return value for
	PALETTE_MAGIC instead of OBJ_PAL.

	* dlls/richedit/richedit.c, dlls/shlwapi/shlwapi_main.c, include/shlwapi.h, include/winbase.h, dlls/comctl32/commctrl.c:
	Francois Gouget <fgouget@codeweavers.com>
	Moved DLLVERSIONINFO to shlwapi.h.

	* dlls/shell32/shell.c:
	Andreas Mohr <a.mohr@mailto.de>
	Let InternalExtractIcon16 load icons from builtin DLLs.

	* dlls/comctl32/toolbar.c:
	Francois Gouget <fgouget@codeweavers.com>
	Modified the bitmap centering algorithm to take the button's border
	into account.

	* windows/timer.c, include/message.h, windows/message.c:
	Stephane Lussier <stephane@macadamian.com>
	Before calling the timer window proc, make sure it is valid.

	* dlls/ntdll/nt.c, dlls/ntdll/rtl.c, dlls/ntdll/sec.c:
	Removed a few dependencies on kernel32 functions.

	* dlls/ntdll/ntdll.spec, include/ntddk.h, include/winbase.h, scheduler/critsection.c, dlls/kernel/kernel32.spec, dlls/ntdll/Makefile.in, dlls/ntdll/critsection.c:
	Moved critical section implementation to ntdll.

	* windows/x11drv/Makefile.in, win32/Makefile.in, windows/Makefile.in, scheduler/Makefile.in, tsx11/Makefile.in, relay32/Makefile.in, resources/Makefile.in, objects/Makefile.in, ole/Makefile.in, misc/Makefile.in, miscemu/Makefile.in, msdos/Makefile.in, loader/ne/Makefile.in, memory/Makefile.in, loader/Makefile.in, loader/dos/Makefile.in, graphics/x11drv/Makefile.in, if1632/Makefile.in, graphics/win16drv/Makefile.in, graphics/enhmetafiledrv/Makefile.in, graphics/metafiledrv/Makefile.in, files/Makefile.in, graphics/Makefile.in, console/Makefile.in, controls/Makefile.in, Make.rules.in:
	Moved $(MODULE).o rule out of Make.rules into the individual
	Makefiles.

	* dlls/shlwapi/shlwapi.spec, include/shlwapi.h, dlls/shlwapi/reg.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Implemented SHDeleteEmptyKeyA, SHDeleteKeyA.

	* objects/region.c:
	Sergei Ivanov <sergei@corel.com>
	Fixed return values of GetRegionData.

	* dlls/comctl32/toolbar.c:
	Susan Farley <sfarley@codeweavers.com>
	Call ReleaseCapture (which triggers WM_CAPTURECHANGED) after the
	WM_COMMAND for the button has been sent, rather than before.

	* dlls/winmm/winmm_res.rc:
	Francois Jacques <francoisj@macadamian.com>
	Use waveaudio, not waveform.

	* dlls/ole32/compobj.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix a couple of TRACE messages.

	* debugger/stabs.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Added missing cast.

	* include/wine/mmsystem16.h, dlls/winmm/mmsystem.c:
	Francois Gouget <fgouget@codeweavers.com>
	Fix the return type of mixerMessage16.

	* include/winver.h:
	Francois Gouget <fgouget@codeweavers.com>
	Renamed VS_USER_INFO to VS_USER_DEFINED.

2000-09-27  Alexandre Julliard  <julliard@winehq.com>

	* include/builtin32.h, miscemu/.cvsignore, miscemu/Makefile.in, miscemu/main.c, miscemu/wine.spec, relay32/builtin32.c, tools/winebuild/Makefile.in, tools/winebuild/build.h, tools/winebuild/import.c, tools/winebuild/main.c, tools/winebuild/parser.c, tools/winebuild/spec32.c, tools/winebuild/utils.c, Make.rules.in:
	Changed the Win32 dll descriptor to be in IMAGE_NT_HEADERS format.
	Generate the import table directly in PE format.
	Added gui/cuiexe_no_main modes in EXE spec files, and use this for the
	main wine binary.

	* dlls/msacm/Makefile.in, dlls/msacm/msacm32.spec, dlls/ole32/ole32.spec, dlls/oleaut32/Makefile.in, dlls/oleaut32/oleaut32.spec, dlls/shell32/shell32.spec, dlls/user/Makefile.in, dlls/user/user32.spec, dlls/winaspi/Makefile.in, dlls/winaspi/wnaspi32.spec, dlls/winsock/ws2_32.spec, dlls/Makefile.in, dlls/comctl32/Makefile.in, dlls/comctl32/comctl32.spec, dlls/dplayx/Makefile.in, dlls/dplayx/dplayx.spec, dlls/gdi/Makefile.in, dlls/gdi/gdi32.spec:
	Added a few missing imports.

	* include/commctrl.h, include/commdlg.h, include/oleauto.h, include/winbase.h, include/winerror.h, include/wtypes.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added various type and macro definitions that are needed to compile
	the latest MFC.

	* dlls/winmm/wineoss/midi.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Store a copy of MIDIOPENDESC information instead of pointer.

	* dlls/winmm/mmsystem.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Unlock win16 crst while thunking up to 32 bit dll.

	* dlls/wininet/internet.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Include <unistd.h> for prototype of select().

	* server/sock.c:
	Stephane Lussier <stephane@macadamian.com>
	Socket returned by accept function of Microsoft API should keep the
	properties of the listening socket. This is also true for non-blocking
	property.

	* windows/winpos.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	If window was not resized and not moved, repaint only itself excluding
	parent.

	* tools/winebuild/spec32.c, if1632/builtin.c, include/builtin32.h, relay32/relay386.c, relay32/snoop.c:
	Generate Win32 dll descriptor structure in the .spec.c file so that we
	don't need to depend on builtin32.h.

	* include/Makefile.in, include/mouse.h, include/zmouse.h:
	Jeremy White <jwhite@codeweavers.com>
	Created zmouse.h, moved wheel code from mouse.h into it.

	* dlls/winmm/mcicda/mcicda.c:
	James Abbatiello <abbeyj@wpi.edu>
	MCI_STATUS_LENGTH on Windows returns one frame less than the total
	track length for the last track on a CD.  This also affects queries
	for the total length of the CD.

	* msdos/dosaspi.c, include/wine/winaspi.h, include/mmsystem.h, include/wnaspi32.h, dlls/winmm/mmsystem.c, dlls/winaspi/winaspi32.c:
	Fixed a few non portable zero-size array declarations.

	* files/drive.c:
	Marcus Meissner <marcus@jet.franken.de>
	Have the UNIX cwd follow the current directory on the current drive.

	* windows/x11drv/event.c:
	Stephane Lussier <stephane@macadamian.com>
	On reception of a FocusOut event, don't deactivate the application if the
	next window to get the focus is a Wine window.

2000-09-26  Alexandre Julliard  <julliard@winehq.com>

	* documentation/status/directplay, dlls/dplayx/dplay.c, dlls/dplayx/dplaysp.c, dlls/dplayx/dplaysp.h, dlls/dplayx/dplayx.spec, dlls/dplayx/dplayx_messages.c, dlls/dplayx/dplayx_messages.h, dlls/dplayx/dplayx_queue.h, dlls/dplayx/dplobby.c, dlls/dplayx/name_server.c, dlls/Makefile.in, dlls/dplayx/Makefile.in:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Remove winmm hack in dplay code
	- Fix up some missing holes in the code
	- More message implementation
	- Status documentation update

	* Make.rules.in, Makefile.in:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Migrate $LDFLAGS from configure to Makefile and into main wine
	executable.

	* relay32/builtin32.c:
	Andreas Mohr <a.mohr@mailto.de>
	Display an ERR() in case of undefined symbols.

	* dlls/setupapi/Makefile.in, dlls/setupapi/infparse.c, dlls/setupapi/setupx.spec, dlls/setupapi/setupx16.h, dlls/setupapi/setupx_main.c:
	Andreas Mohr <a.mohr@mailto.de>
	Started some basic work on the more or less undocumented SETUPX
	functions.

	* dlls/comctl32/toolbar.c:
	Susan Farley <sfarley@codeweavers.com>
	Support for TBSTYLE_EX_DRAWDDARROWS style; reset capture and button
	pressed flags on WM_CAPTURECHANGED.

	* objects/dc.c:
	Marcus Meissner <marcus@jet.franken.de>
	WORD is unsigned, so we need to transalte 0xffff into -1.

	* windows/x11drv/event.c, win32/console.c, windows/dce.c, windows/defwnd.c, windows/mdi.c, windows/nonclient.c, windows/win.c, include/wine/winuser16.h, msdos/dosaspi.c, msdos/xms.c, ole/ole2nls.c, include/wine/exception.h, include/wine/keyboard16.h, include/wine/mmsystem16.h, include/wine/obj_base.h, include/wine/winaspi.h, include/wine/winbase16.h, include/wine/windef16.h, include/wine/wingdi16.h, include/wine/winnet16.h, include/wine/winsock16.h, include/winbase.h, include/wincon.h, include/windef.h, include/wingdi.h, include/winnls.h, include/winproc.h, include/winsock.h, include/winsock2.h, include/winuser.h, include/winver.h, include/wnaspi32.h, include/wownt32.h, include/wtypes.h, include/neexe.h, include/nonclient.h, include/ntsecapi.h, include/ole.h, include/ole2.h, include/oleauto.h, include/shellapi.h, include/task.h, include/thread.h, include/toolhelp.h, include/vfw.h, include/win.h, include/winaspi.h, include/aspi.h, include/basetsd.h, include/builtin16.h, include/cdrom.h, include/clipboard.h, include/commdlg.h, include/dce.h, include/ddeml.h, include/dinput.h, include/file.h, include/global.h, include/local.h, include/lzexpand.h, include/message.h, include/miscemu.h, include/mmddk.h, include/mmsystem.h, include/module.h, include/msacm.h, include/Makefile.in, if1632/snoop.c, dlls/winspool/info.c, files/file.c, dlls/winsock/socket.c, dlls/winmm/mmsystem.c, dlls/winmm/sound16.c, dlls/winmm/winemm.h, dlls/winaspi/aspi.h, dlls/winaspi/winaspi16.c, dlls/win32s/w32sys.c, dlls/version/ver16.c, dlls/user/ddeml.c, dlls/user/ddeml16.h, dlls/user/bidi16.c, dlls/shell32/pidl.h, dlls/shell32/shell.c, dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, dlls/setupapi/setupx_main.c, dlls/shell32/pidl.c, dlls/rpcrt4/rpcrt4_main.c, dlls/olecli/olecli_main.c, dlls/olesvr/olesvr_main.c, dlls/oleaut32/ole2disp.c, dlls/oleaut32/typelib.c, dlls/oleaut32/typelib.h, dlls/ole32/compobj.c, dlls/ole32/ifs.c, dlls/ole32/ole2nls.c, dlls/msvideo/msvideo_main.c, dlls/msvideo/vfw16.h, dlls/msvideo/drawdib.c, dlls/msacm/msacm_main.c, dlls/msacm/msacmdrv.h, dlls/msacm/wineacm.h, dlls/kernel/utthunk.c, dlls/kernel/wowthunk.c, dlls/lzexpand/lzexpand_main.c, dlls/gdi/bidi16.c, dlls/gdi/printdrv.c, dlls/kernel/stress.c, dlls/dsound/dsound_main.c, dlls/commdlg/cdlg.h, dlls/commdlg/colordlg.c, dlls/comctl32/updown.c, dlls/comctl32/status.c, dlls/comctl32/treeview.c, dlls/comctl32/progress.c, controls/listbox.c, controls/menu.c, controls/scroll.c:
	Moved all Win16 definitions out of the standard Windows headers.

	* loader/pe_resource.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Avoid crashes if 16-bit module handle was passed to the 32-bit
	resource enumerator.

	* dlls/ddraw/ddraw/x11.c, dlls/ddraw/dsurface/x11.c, include/ddraw.h, dlls/ddraw/ddraw_private.h, dlls/ddraw/helper.c, dlls/ddraw/x11.c, dlls/ddraw/x11_private.h, wine.ini:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added support for DirectDraw overlays using the XVideo extension.

	* graphics/x11drv/codepage.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Code cleanup.
	Add checking for invalid DBCS trailer bytes.

	* include/commctrl.h:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed some commctl header issues reported in newsgroup.

	* dlls/win32s/w32skernel.c, include/Makefile.in, include/wine/w32skrnl.h, include/wine/winestring.h, resources/sysres_Wa.rc:
	A few includes cleanup.

	* programs/regapi/regapi.c, programs/winhelp/macro.c, programs/notepad/dialog.c, loader/main.c, include/wine/obj_oleundo.h, include/wine/obj_oleview.h, include/wine/obj_picture.h, include/wine/obj_property.h, include/wine/obj_propertystorage.h, include/wine/obj_queryassociations.h, include/wine/obj_shellbrowser.h, include/wine/obj_shellextinit.h, include/wine/obj_shellfolder.h, include/wine/obj_shelllink.h, include/wine/obj_shellview.h, include/wine/obj_storage.h, include/wine/undocshell.h, include/wine/obj_cache.h, include/wine/obj_channel.h, include/wine/obj_clientserver.h, include/wine/obj_commdlgbrowser.h, include/wine/obj_connection.h, include/wine/obj_contextmenu.h, include/wine/obj_control.h, include/wine/obj_dataobject.h, include/wine/obj_dockingwindowframe.h, include/wine/obj_dragdrop.h, include/wine/obj_enumidlist.h, include/wine/obj_errorinfo.h, include/wine/obj_extracticon.h, include/wine/obj_inplace.h, include/wine/obj_marshal.h, include/wine/obj_misc.h, include/wine/obj_moniker.h, include/wine/obj_oleaut.h, include/wine/obj_olefont.h, include/wine/obj_oleobj.h, dlls/shlwapi/shlwapi_main.c, dlls/shlwapi/string.c, include/dlgs.h, include/main.h, include/ocidl.h, include/ole2.h, include/oleauto.h, include/oleidl.h, include/shell.h, include/shlobj.h, include/shlwapi.h, include/windows.h, dlls/shlwapi/regstream.c, dlls/oleaut32/olefont.c, dlls/olepro32/olepro32stubs.c, dlls/shell32/classes.c, dlls/shell32/enumidlist.c, dlls/shell32/memorystream.c, dlls/shell32/pidl.c, dlls/shell32/shell32_main.h, dlls/shell32/shellfolder.h, dlls/shell32/shellguid.c, dlls/shell32/shelllink.c, dlls/shell32/shellstring.c, dlls/shell32/shlfileop.c, dlls/shell32/shlfolder.c, dlls/shell32/shlmenu.c, dlls/shell32/shlview.c, dlls/shell32/shv_bg_cmenu.c, dlls/shell32/systray.c, dlls/ole32/ole2impl.c, dlls/ole32/ole2stubs.c, dlls/ole32/stg_bigblockfile.c, dlls/ole32/stg_stream.c, dlls/ole32/storage32.h, dlls/oleaut32/connpt.c, dlls/comctl32/imagelist.c, dlls/commdlg/cdlg.h, dlls/ole32/antimoniker.c, dlls/ole32/bindctx.c, dlls/ole32/compositemoniker.c, dlls/ole32/datacache.c, dlls/ole32/errorinfo.c, dlls/ole32/itemmoniker.c, dlls/ole32/moniker.c:
	Removed shell.h. Cleaned up the nested includes mess in wine/obj_*.h.

2000-09-25  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/clipboard.c, dlls/shell32/shell.c, dlls/shell32/shellole.c, windows/x11drv/event.c:
	Use documented DROPFILES structure instead of internal DROPFILESTRUCT.

	* relay32/relay386.c, relay32/snoop.c, win32/device.c, windows/keyboard.c, windows/winproc.c, msdos/dpmi.c, msdos/int10.c, msdos/int13.c, msdos/int15.c, msdos/int21.c, msdos/int25.c, msdos/int26.c, msdos/int2f.c, msdos/int33.c, msdos/int5c.c, msdos/vxd.c, msdos/xms.c, loader/ne/module.c, loader/ne/segment.c, memory/instr.c, memory/selector.c, misc/error.c, misc/system.c, msdos/devices.c, msdos/dosaspi.c, include/miscemu.h, include/winnt.h, loader/dos/dosvm.c, loader/task.c, dlls/kernel/thunk.c, dlls/kernel/win87em.c, dlls/ntdll/rtl.c, dlls/user/mouse.c, if1632/relay.c, if1632/snoop.c, debugger/registers.c:
	Removed some of the XXX_reg macros now that we are using the standard
	CONTEXT86 structure everywhere.

	* windows/clipboard.c, windows/defwnd.c, windows/dialog.c, windows/input.c, windows/msgbox.c, windows/sysparams.c, windows/user.c, scheduler/mutex.c, scheduler/semaphore.c, scheduler/timer.c, win32/console.c, misc/comm.c, misc/cpu.c, misc/main.c, misc/version.c, ole/ole2nls.c, scheduler/event.c, loader/module.c, loader/ne/convert.c, loader/ne/resource.c, memory/atom.c, memory/environ.c, memory/registry.c, memory/virtual.c, misc/cdrom.c, files/dos_fs.c, files/profile.c, graphics/metafiledrv/text.c, graphics/win16drv/font.c, graphics/win16drv/text.c, include/winbase.h, dlls/shlwapi/path.c, dlls/ttydrv/graphics.c, dlls/version/info.c, dlls/winmm/joystick.c, dlls/winmm/mmsystem.c, dlls/ole32/storage32.c, dlls/oleaut32/typelib.c, dlls/shell32/shellpath.c, dlls/shell32/shv_item_cmenu.c, dlls/ole32/clipboard.c, dlls/ole32/compobj.c, dlls/ole32/filemoniker.c, dlls/ole32/ole2.c, dlls/kernel/format_msg.c, dlls/mpr/wnet.c, dlls/msacm/driver.c, dlls/msacm/filter.c, dlls/msacm/format.c, dlls/msacm/internal.c, dlls/msvideo/msvideo_main.c, dlls/commdlg/filedlg.c, dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/commdlg/finddlg32.c, dlls/commdlg/fontdlg.c, dlls/crtdll/mbstring.c, dlls/advapi32/registry.c, dlls/advapi32/security.c, dlls/advapi32/service.c, dlls/comctl32/datetime.c, dlls/comctl32/header.c, dlls/comctl32/rebar.c, dlls/comctl32/status.c, dlls/comctl32/toolbar.c, dlls/comctl32/treeview.c, controls/listbox.c, controls/menu.c:
	Removed inclusion of wine/winestring.h from winbase.h and added it to
	the C files that need it.

2000-09-24  Alexandre Julliard  <julliard@winehq.com>

	* msdos/devices.c, msdos/dosmem.c, msdos/dpmi.c, msdos/int09.c, msdos/int2f.c, msdos/int33.c, memory/instr.c, loader/dos/dosvm.c, loader/dos/module.c, loader/task.c, include/ldt.h, include/miscemu.h, include/winnt.h, include/dosexe.h:
	Moved most global data out of the LPDOSTASK structure.
	Allocate DPMI real-mode segments globally at startup.
	Try to allocate DOS memory at address 0.

	* windows/win.c, windows/message.c, include/wine/winuser16.h, dlls/user/user.spec:
	Call WH_GETMESSAGE hook in PeekMessage too (based on a patch by Rob
	Farnum).

	* memory/virtual.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Locks the virtual views linked list.

	* include/acconfig.h, include/config.h.in, dlls/winsock/async.c, dlls/winsock/socket.c, configure.in, configure:
	Rein Klazes <rklazes@casema.net>
	Make calls to gethostbyname, gethostbyaddr, getservbyname,
	getservbyport, getprotobyname and getprotobynumber thread-safe.

	* graphics/x11drv/xfont.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Use appropriate charset if facenames of font is known.
	Use CP_ACP if DEFAULT_CHARSET is requested.

	* controls/listbox.c:
	Gerard Patel <g.patel@wanadoo.fr>
	In WM_DRAWITEM, always calls the app with a valid current focus_item.

	* debugger/winedbg.c, debugger/stack.c, debugger/info.c, debugger/memory.c, debugger/registers.c, debugger/dbg.y, debugger/debug.l, debugger/debugger.h, debugger/expr.c, debugger/db_disasm.c, debugger/break.c:
	Improved support for vm86 mode.

	* include/wine/exception.h, dlls/ntdll/signal_i386.c, dlls/ntdll/signal_sparc.c:
	Added support for exception handling while in vm86 mode.
	Fixed a couple of bugs in vm86 support.

	* windows/dialog.c, objects/font.c, graphics/win16drv/font.c, dlls/ole32/defaulthandler.c, dlls/comctl32/rebar.c, dlls/comctl32/tooltips.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed format strings.

	* dlls/comctl32/commctrl.c:
	Francois Gouget <fgouget@free.fr>
	Added set WS_CHILD and CCS_TOP to the toolbar's style.
	TOOLBAR_CalcToolbar(): if the bitmap size is 0, use the builtin
	defaults.

	* dlls/comctl32/toolbar.c:
	Francois Gouget <fgouget@free.fr>
	The size of the comctl32 internal bitmaps is 24x24 not 26x26.
	Fixed minor typos.

	* tools/wrc/parser.l, tools/wrc/README.wrc:
	Francois Gouget <fgouget@free.fr>
	Filenames may contain '/' and '\'.
	Small typo fixes.

2000-09-22  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Paint background before drawing item and subitems.  Paint any area of
	the control not occupied by items.  Early out of LISTVIEW_RefreshXXX
	if no items exist. InvalidateRect() on LBUTTONDOWN only if the control
	has items to draw.

	* windows/x11drv/event.c, windows/x11drv/keyboard.c, server/main.c, server/object.h, server/process.c, server/trace.c, scheduler/process.c, misc/main.c, include/options.h, include/server.h, include/x11drv.h, dlls/x11drv/x11drv_main.c:
	Andreas Mohr <a.mohr@mailto.de>
	Make GetTickCount not use the whole Unix epoch (since 1970) any more,
	since that crashed several games or caused problems with them as they
	aren't used to a high Windows uptime of more than 24.9 days.

	* scheduler/client.c:
	Roberto Augusto Pungartnik <pung@karina.etcom.ufrgs.br>
	Added S_ISFIFO check for Solaris.

	* include/windef.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added a macro for _declspec (backward compatibility synonym of
	__declspec).
	Removed the dllimport and dllexport macros.

	* include/objbase.h:
	Francois Gouget <fgouget@codeweavers.com>
	Must include 'stdlib.h'.

	* include/commctrl.h:
	Francois Gouget <fgouget@codeweavers.com>
	Added HANDLE_WM_NOTIFY and FORWARD_WM_NOTIFY.

	* dlls/wineps/Makefile.in, dlls/wineps/driver.c, dlls/wineps/psdlg.h, dlls/wineps/psdrv.h, dlls/wineps/rsrc.rc, dlls/wineps/wineps.spec, dlls/wineps/wps_En.rc, dlls/wineps/wps_xx.rc, dlls/wineps/.cvsignore, dlls/Makefile.in:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Paper size and orientation prop sheet for wineps.

	* dlls/user/text.c:
	Susan Farley <sfarley@codeweavers.com>
	Added support DT_PATH_ELLIPSIS, DT_END_ELLIPSIS, and DT_WORD_ELLIPSIS
	flags in DrawText.

	* loader/module.c: Andreas Mohr <a.mohr@mailto.de>
	Fixed WinExec16 to handle quoted filenames correctly.

	* include/wine/obj_errorinfo.h, dlls/ole32/errorinfo.c:
	Damyan Ognyanoff <Damyan@rocketmail.com>
	IErrorInfo is now derived from IUnknown.

	* dlls/comctl32/listview.c:
	Aric Stewart <aric@codeweavers.com>
	Correct some situations with listview selections. Specifically fixed
	situations where in an OWNERDATA listview the selection ranges become
	invalid if the number of items is changed. Additional fixes a few
	problems resulting in loops in RemoveAllSelections.

	* include/mmsystem.h, include/wingdi.h, include/winuser.h:
	Francois Gouget <fgouget@free.fr>
	Added a few missing macros, types and prototypes.

	* include/winres.h:
	Francois Gouget <fgouget@free.fr>
	New file. All RC files generated by VC6 include afxres.h which in turn
	includes this file.

	* windows/queue.c, windows/message.c, windows/nonclient.c:
	Andreas Mohr <a.mohr@mailto.de>
	Spelling, trace fixes.

	* memory/environ.c:
	Andreas Mohr <a.mohr@mailto.de>
	Added SetLastError() in GetEnvironmentVariableA.

	* graphics/x11drv/text.c:
	Damyan Ognyanoff <Damyan@rocketmail.com>
	Added error correction when using symbol offsets.

	* dlls/winmm/mciseq/mcimidi.c:
	Eric Pouech <eric.pouech@voila.fr>
	Fixed reentrancy issues in play/stop operations.

	* dlls/commdlg/cdlg_xx.rc:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix PrintDlg collate icons.  Add orientation icons.

	* dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Stubs for shlwapi.151 and shlwapi.153.

	* dlls/ole32/ole2stubs.c, dlls/ole32/ole32.spec:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Stub for CoIsOle1Class.

	* dlls/winmm/wineoss/audio.c, dlls/winmm/wineoss/midi.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Set close on exec() flag at times when we leave /dev/dsp and
	/dev/sequencer open.

	* dlls/comctl32/tab.c:
	Susan Farley <sfarley@codeweavers.com>
	Added support for FLATBUTTON style tabs.
	Made width of BUTTON style tabs no less than 2x their height.
	Expanded focus rect to be just inside the border.

	* dlls/kernel/toolhelp.c:
	Andreas Mohr <a.mohr@mailto.de>
	Add FIXMEs for all these nice completely unimplemented TOOLHELP
	functions.

	* misc/registry.c: Andreas Mohr <a.mohr@mailto.de>
	fixed the win95 registry loader to have somewhat stricter checking.

	* dlls/comctl32/toolbar.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Fixed button image to be offset to the center of the button horizontally,
	visible with WinZip and CuteFTP 4.0.  Fixed compile warnings from format type
	specifiers in two TRACE's.  Removed TRACE in TOOLBAR_GetItemRect().  Added
	button width to TRACE in TOOLBAR_CalcToolbar().

	* dlls/comctl32/datetime.c, dlls/comctl32/monthcal.c, dlls/comctl32/status.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Changed RedrawWindow()'s to InvalidateRect()'s.  RedrawWindow() was
	being called with RDW_UPDATENOW, forcing immediate painting.  Added
	redrawing logic to STATUSBAR_SetTextW().

	* dlls/comctl32/treeview.c:
	Chris Morgan <cmorgan@codeweavers.com>
	Fix behavior of TVS_SINGLEEXPAND style broken in Corel merge.  Optimize
	redrawing in TREEVIEW_SetItemA() to redraw only if the item changes.

	* relay32/builtin32.c:
	Francois Gouget <fgouget@free.fr>
	Raised MAX_DLLS to 100.

2000-09-19  Alexandre Julliard  <julliard@winehq.com>

	* include/commctrl.h, include/oleauto.h, include/prsht.h, include/shellapi.h, include/winbase.h, include/windef.h, include/winnt.h, include/winsock2.h, include/winsvc.h, include/wtypes.h, dlls/comctl32/propsheet.c, dlls/shell32/shell32.spec, dlls/shell32/systray.c, dlls/advapi32/service.c:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Added some missing WINELIB_NAME_AW definitions, types and messages
	- Small prototype fixes

	* relay32/snoop.c:
	Rein Klazes <rklazes@casema.net>
	Catch EXCEPTION_PRIV_INSTRUCTION exception too.

	* dlls/comctl32/listview.c:
	Stephane Lussier <stephane@macadamian.com>
	Notification NM_CLICK, NM_RCLICK and NM_DBLCLK sent by the listview
	should set lParam to a NMLISTVIEW instead of a NMHDR. According to
	MSDN doc, it is like that since version 4.71, Wine is returning 5.0 as
	the DLL version.

	* controls/menu.c: Andreas Mohr <a.mohr@mailto.de>
	Fixed window lock problem in SetMenu().

	* objects/metafile.c: Henning Hoffmann
	Avoid deadlocks in EnumMetaFile.

	* dlls/oleaut32/typelib.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Avoid infinite loop if QueryPathOfRegTypeLib is called with lcid=0.

2000-09-18  Alexandre Julliard  <julliard@winehq.com>

	* msdos/interrupts.c, debugger/dbgmain.c, debugger/module.c, memory/instr.c:
	Misc cleanups.

	* dlls/ntdll/signal_i386.c, include/wine/exception.h:
	Added preliminary support for switching to vm86 mode with proper
	exception handling.

	* files/file.c, include/file.h, include/global.h, memory/virtual.c, relay32/builtin32.c:
	Moved FILE_dommap() to memory/virtual.c (and renamed it VIRTUAL_mmap).

	* dlls/comctl32/toolbar.c:
	Chris Morgan <cmorgan@wpi.edu>
	Change FIXME("Button size set after button in toolbar\n") in
	SetButtonSize() to WARN as quite a few applications are doing this
	after adding each button to the toolbar and there is no way we can
	stop them.

	* dlls/ddraw/dsurface/dga.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Remove unused local variable in DGA_IDirectDrawSurface4Impl_SetPalette().

	* misc/comm.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	- removed redundant functions COMM_Get(Read/Write)Fd
	- corrected the name of 16bit functions in comments
	- removed unused static variable

	* README: Andreas Mohr <a.mohr@mailto.de>
	- prefer wineinstall
	- mention debugger setup (temporary)

	* dlls/shell32/shell32.spec, dlls/shell32/shellord.c, include/shlobj.h:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Fixed incorrect arg count in SHGetSettings that causes winzip32.exe to
	report an error.

	* dlls/comctl32/listview.c:
	Stephane Lussier <stephane@macadamian.com>
	Sorting items in a listview using LVW_SORTITEMS is only sorting the items
	and not the subitems. This patch fix this issue. I've remove the temporary
	Sortlist, it was not necessary to create another list, and it was buggy.

2000-09-16  Alexandre Julliard  <julliard@winehq.com>

	* include/callback.h, windows/x11drv/event.c, if1632/thunk.c:
	Removed a couple of unused functions in the Callout structure.

	* dlls/user/user32.spec, dlls/user/user_main.c, objects/palette.c, windows/painting.c:
	Moved Select/RealizePalette implementation to USER and use
	pfnSelect/RealizePalette function pointers in GDI.
	Make sure the palette handle is valid in GDISelectPalette16 (thanks to
	Uwe Bonnes).

	* server/request.h, server/serial.c, server/trace.c, include/server.h, misc/comm.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Implemented SetCommMask, SetCommTimeouts, GetCommMask, GetCommTimeouts.

	* dlls/wineps/objects.c, graphics/enhmetafiledrv/objects.c, graphics/metafiledrv/objects.c, graphics/win16drv/objects.c, graphics/x11drv/objects.c, include/gdi.h, objects/dc.c, objects/gdiobj.c, windows/syscolor.c, dlls/ttydrv/objects.c:
	Andreas Mohr <a.mohr@mailto.de>
	Added support for non-deletable system brushes and pens created by
	USER.

	* dlls/winsock/socket.c:
	John Gilmore <gnu@toad.com>
	Cleaned it up so that code paths which have unsupported WS_SO values
	never actually pass them to Unix system calls.

	* dlls/kernel/kernel32.spec, memory/virtual.c:
	Andreas Mohr <a.mohr@mailto.de>
	Added VirtualAllocEx.

	* include/winbase.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added GetTimeZoneInformation and TIME_ZONE_ID_INVALID.

	* dlls/comctl32/tab.c:
	Andreas Mohr <a.mohr@mailto.de>
	Fixed tab control to use HTTRANSPARENT when mouse hits client area,
	but not tab control buttons.

	* misc/cdrom.c: Andreas Mohr <a.mohr@mailto.de>
	Silence some bogus error message.

	* include/winsock.h:
	Jeremy White <jwhite@codeweavers.com>
	Adjusted to allow MFC compilation; prevent definition of struct fd_set
	which conflicts with the fd_set typedef.

	* include/winuser.h:
	Jeremy White <jwhite@codeweavers.com>
	Added PWNDCLASS definition.

	* dlls/comctl32/listview.c:
	Stephane Lussier <stephane@macadamian.com>
	Allow having a transparent background text color for the listview.

	* ole/ole2nls.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Use the system local time if lpTime=NULL.

2000-09-13  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/thunk.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Update ESP correctly on return from flat thunk routines.

	* windows/winproc.c, include/builtin16.h, loader/ne/module.c, tools/winebuild/relay.c, if1632/relay.c:
	Ulrich Weigand <weigand@immd1.informatik.uni-erlangen.de>
	Modified CallTo16Register routines to update register context after
	call returns. Callers adapted.

	* dlls/shell32/shellstring.c, dlls/shlwapi/string.c, include/shlwapi.h, include/wine/undocshell.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Add some Str* prototypes to shlwapi.h.

	* dlls/comctl32/comctl32.h, dlls/comctl32/commctrl.c, dlls/comctl32/treeview.c:
	Chris Morgan <cmorgan@wpi.edu>
	Merged main Wine changes into Corel's treeview control rewritten by
	Serge Ivanov and Andrew Lewycky.  Fixed item focus behavior to match
	Windows.  Fixed item selection when un/expanding items.  Implemented
	WM_SETREDRAW.  Added Corel's COMCTL32_CreateToolTip() helper function
	to commctrl.c.

	* windows/painting.c, controls/button.c:
	Serge Ivanov <sergei@corel.ca>
	(Merged by Marcus Meissner <marcus@jet.franken.de>)
	Fixed problem with origin for DST_COMPLEX style.
	Fixed handling of DSS_DISABLED and DSS_DEFAULT styles.

	Added handling of BS_MULTILINE style, label alignment
	styles (BS_RIGHT, etc.) and some exotic styles BS_FLAT (only
	pushbuttons for now), and BS_PUSHLIKE.

	Modified label drawing procedure: now all kinds of buttons
	use common BUTTON_DrawLabel function. Actual label drawing is
	performed by DrawStateW function.

	GroupBox must use WM_CTLCOLORSTATIC instead of WM_CTLCOLORBTN message.

	* dlls/ddraw/ddraw/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Upgrade also 15bpp to 16bpp surfaces.

2000-09-12  Alexandre Julliard  <julliard@winehq.com>

	* windows/winpos.c:
	James Hatheway <james@macadamian.com>
	KDE 1.x has problems with using XShapeCombineMask when there was no
	previous region.

	* controls/scroll.c:
	Gerard Patel <g.patel@wanadoo.fr>
	SetScrollInfo : don't show/hide scrollbar if no parameter (minval,
	maxval) change.

	* include/wine/unicode.h:
	Added missing __volatile__.

	* dlls/ddraw/ddraw/x11.c, dlls/gdi/gdi.spec, files/file.c, misc/main.c, scheduler/process.c, windows/message.c, controls/button.c, debugger/break.c, debugger/winedbg.c, dlls/comctl32/commctrl.c, dlls/comctl32/tab.c:
	Andreas Mohr <a.mohr@mailto.de>
	- fixes debugger output
	- get rid of wrong comments
	- fix comments
	- .spec spelling fix
	- improve warning message

	* dlls/kernel/kernel32.spec, win32/time.c:
	Andreas Mohr <a.mohr@mailto.de>
	"implemented" GetSystemTimeAdjustment.

	* windows/class.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Don't try to delete a wndclass background brush if it's a COLOR_*
	constant.

	* windows/nonclient.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Make sure NC_HandleNCCalcSize returns a valid rectangle.
	Painting fails if the rectangle is invalid.

	* dlls/comctl32/listview.c:
	Chris Morgan <cmorgan@wpi.edu>
	Hide the vertical scrollbar when listview style is LVS_LIST.

	* include/winuser.h:
	Jeremy White <jwhite@codeweavers.com>
	Add WM_USERCHANGED.

	* debugger/info.c, dlls/kernel/toolhelp.c, include/tlhelp32.h:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Use tpXXX instead of tbXXX in tagTHREADENTRY32.

	* dlls/ddraw/dpalette/dga.c, dlls/ddraw/dsurface/dga.c, dlls/ddraw/dsurface/dga2.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Fixed DGA / DGA 2 palette creation.

	* graphics/x11drv/text.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Fix a memory leak in X11DRV_GetTextExtentPoint.

----------------------------------------------------------------
2000-09-10  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/client.c:
	Added WINESERVER environment variable to allow overriding the normal
	server search sequence.

	* files/directory.c:
	Removed chdir("/") until we have proper Unix cwd management.

	* dlls/ntdll/ntdll.spec, scheduler/critsection.c:
	Implemented RtlpWaitForCriticalSection and RtlpUnWaitCriticalSection.

	* loader/ne/module.c:
	Andreas Mohr <a.mohr@mailto.de>
	Fixed NE_LoadExeHeader error handling.

	* loader/module.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed loader - broken search for already loaded modules.

	* objects/dib.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed fallback code for StretchBlt on RLE DIBs with gaps.

2000-09-09  Alexandre Julliard  <julliard@winehq.com>

	* documentation/fonts.sgml:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed bdftopcf command.

	* dlls/msacm/filter.c, dlls/msacm/format.c, dlls/msacm/stream.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added *Filter* functions.
	Misc bug fixes.

	* dlls/comctl32/tab.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented TCM_GETROWCOUNT.

	* programs/control/Makefile.in, programs/notepad/Makefile.in, programs/view/Makefile.in, programs/winhelp/Makefile.in, programs/winver/Makefile.in, libtest/Makefile.in, programs/clock/Makefile.in, programs/cmdlgtst/Makefile.in:
	Francois Gouget <fgouget@codeweavers.com>
	Added the missing library dependencies.

	* include/Makefile.in, include/cguid.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	Added cguid.h.

	* dlls/ddraw/dga.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Do not support DGA when DirectVideo not present.

	* windows/defwnd.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Unify WM_SETTEXT handling among DefWindowProc16/DefWindowProcA/DefWindowProcW.

	* controls/listbox.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Avoid divide by zero when listbox set to zero height.

	* windows/mdi.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Simplify a bit MDI child window creation.

	* controls/menu.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	GetMenu might be used to get child window id.

2000-09-07  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/keyboard.c:
	Giovanni Pancotti <giovanni.pancotti@cedecra.it>
	Italian keyboard fixes.

	* files/dos_fs.c: Andreas Mohr <a.mohr@mailto.de>
	DOSFS_MatchLong ignored several things about file mask matching for
	long file names.

	* include/wine/unicode.h:
	Erik Hofman <erik.hofman@a1.nl>
	Added missing const to external tables definitions.

	* files/dos_fs.c, include/comm.h, include/server.h, misc/comm.c, server/Makefile.in, server/request.h, server/serial.c, server/trace.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Added serial port object to the server.

	* dlls/comctl32/tooltips.c:
	Francois Jacques <francoisj@macadamian.com>
	- Make sure tooltips are hidden before deleting them.
	- Glitch happened while moving from a tooltip to another (fixed).

	* objects/dc.c: Gerard Patel <g.patel@wanadoo.fr>
	Make GetDeviceCaps16 (hdc, NUMCOLORS) not return -1 for 16 bits programs.

	* graphics/x11drv/codepage.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added support for cp949.

2000-09-06  Alexandre Julliard  <julliard@winehq.com>

	* memory/atom.c: Fixed cut&paste typo.

	* tsx11/Makefile.in, tsx11/X11_calls, tsx11/ts_xvideo.c, configure, configure.in, include/acconfig.h, include/config.h.in, include/ts_xvideo.h, tools/make_X11wrappers:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added possibility to use XVideo.

	* dlls/comctl32/listview.c, include/commctrl.h:
	Aric Stewart <aric@codeweavers.com>
	Implemented both customdraw message sending and handling (based off
	the treeview method) as well as LVS_OWNERDRAWFIXED.

	* dlls/comctl32/comctl32undoc.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Fixed a bug (incorrect size in memmove) that I introduced with an
	earlier patch. Tested with wordview.

	* tools/wineinstall:
	Phil Cole <ukpgc@p.cole.easynet.co.uk>
	Added two directories to default non-windows install.

	* dlls/winaspi/aspi.c, dlls/winaspi/winaspi32.c, dlls/winaspi/wnaspi32.spec:
	Andreas Mohr <a.mohr@mailto.de>
	Added newer (ASPI 3.0 ?) function stubs to WNASPI32.
	Better error messages.

	* dlls/shell32/systray.c:
	James Hatheway <james@macadamian.com>
	Systray should keep a copy of its icons.

	* server/sock.c: Ove Kaaven <ovek@arcticnet.no>
	Adapted Winsock to Linux 2.4 TCP socket poll() behaviour
	(thanks to Berend Ozceri for finding the problem).

	* windows/mdi.c: Serge Ivanov
	Delay destroying menu entry until all messages are sent.

2000-09-04  Alexandre Julliard  <julliard@winehq.com>

	* memory/atom.c:
	Fixed Unicode conversion in GetAtomNameA (thanks to Gerard Patel).

	* dlls/dplayx/name_server.c, dlls/ntdll/rtlstr.c, loader/pe_image.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/win32/ntdll.api, tools/winapi_check/win32/ttydrv.api, tools/winapi_check/win32/x11drv.api, tools/winapi_check/modules.dat, tools/winapi_check/nativeapi.pm, tools/winapi_check/win16/compobj.api, tools/winapi_check/winapi_check, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	Minor API files update.

	* graphics/x11drv/xfont.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Add jisx0212 encoding.
	Remove FIXMEs for implemented DBCS handling.

	* windows/x11drv/keyboard.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Added missing comma.

	* dlls/comctl32/comctl32undoc.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Rewrote quicksort to solve infinite recursions Win98 explorer.exe.

2000-09-02  Alexandre Julliard  <julliard@winehq.com>

	* win32/console.c:
	Marcus Meissner <marcus@jet.franken.de>
	Change xterm mouse tracking mode to BTN_EVENT_MOUSE (track if pressed).

	* scheduler/process.c:
	Andreas Mohr <a.mohr@mailto.de>
	Avoid crash on empty command-line.

	* debugger/stabs.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Added two missing casts.

	* dlls/comctl32/animate.c:
	Jean-Claude Batista <jcb@macadamian.com>
	Use SetDIBits instead of StretchDIBits (in ANIMATE_PaintFrame).

2000-09-01  Alexandre Julliard  <julliard@winehq.com>

	* if1632/builtin.c, relay32/builtin32.c:
	Avoid buffer overflows in builtin dll loading (with the help of Dmitry
	Timoshkov).

	* windows/mdi.c: Henning Hoffmann
	Augment menu when a mdi window starts maximized.

	* windows/mdi.c: Francis Beaudet
	MDI Patch which fixes problems in PR, QP, WP and Paradox.

	* dlls/dsound/dsound_main.c:
	James Abbatiello <abbeyj@wpi.edu>
	Don't use copies of critical sections made by memcpy()
	Added missing WINAPIs

	* debugger/break.c, debugger/debugger.h, debugger/winedbg.c:
	James Abbatiello <abbeyj@wpi.edu>
	Fix for debugger disassembly being off by one byte after using nexti
	on a "call" instruction.

	* dlls/winsock/socket.c:
	Stephane Lussier <stephane@macadamian.com>
	When checking the socket return by the server request, we should do a
	"signed" check.

	* dlls/ole32/compobj.c, dlls/ole32/ole32.spec:
	James Hatheway <james@macadamian.com>
	Implemented CoGetPSClsid().

2000-08-31  Alexandre Julliard  <julliard@winehq.com>

	* tools/wineconf:
	Phil Cole <ukpgc@p.cole.easynet.co.uk>
	The Path variable in the created .winerc must be in dos format.

	* tools/wineinstall:
	Phil Cole <ukpgc@p.cole.easynet.co.uk>
	Small fix.

	* dlls/commdlg/filedlg95.c:
	Andreas Mohr <a.mohr@mailto.de>
	Fixed a string buffer overflow.

	* dlls/comctl32/animate.c:
	Jean-Claude Batista <jcb@macadamian.com>
	- improved ACS_TRANSPARENT and ACS_CENTER support
	- added RLE8 incremental decompression
	- each animation is now controlled by its own Windows thread
	- added use of Critical Sections in the WM_PAINT handler.

	* win32/console.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Replaced USER32.DLL use by hardcoded tables for VkKeyScanA and
	MapVirtualKeyA.

	* scheduler/thread.c, server/console.c, server/context_i386.c, server/context_sparc.c, server/debugger.c, server/file.c, server/process.c, server/sock.c, server/trace.c, tools/make_requests, win32/console.c, win32/except.c, dlls/ntdll/exception.c, dlls/winsock/socket.c, files/dos_fs.c, files/file.c, include/file.h, include/server.h, loader/dos/module.c, memory/virtual.c, misc/comm.c, scheduler/client.c, scheduler/process.c:
	Converted a lot of server requests to the new exception handling
	mechanism.

2000-08-30  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ddraw/dsurface/x11.c:
	Fixed non-OpenGL compile.

	* files/change.c, files/file.c, include/ntddk.h, include/server.h, loader/module.c, loader/ne/module.c, loader/pe_image.c, memory/atom.c, memory/selector.c, memory/virtual.c, misc/registry.c, scheduler/debugger.c, scheduler/event.c, scheduler/handle.c, scheduler/mutex.c, scheduler/pipe.c, scheduler/process.c, scheduler/semaphore.c, scheduler/synchro.c, scheduler/thread.c, scheduler/timer.c, server/atom.c, server/debugger.c, server/event.c, server/mapping.c, server/mutex.c, server/object.c, server/request.h, server/semaphore.c, server/thread.c, server/timer.c, server/trace.c, tools/make_requests, win32/console.c, win32/device.c, windows/queue.c, dlls/kernel/toolhelp.c, dlls/ntdll/exception.c, dlls/ntdll/nt.c, dlls/ntdll/om.c, dlls/ntdll/sync.c:
	Added exception handling wrapper to a number of server requests.
	Changed a few requests to use the new vararg mechanism.

2000-08-29  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winmm/mcicda/mcicda.c, misc/cdrom.c:
	Andreas Mohr <a.mohr@mailto.de>
	Fixed verbose CD-ROM serial number warnings and some spelling errors.

	* dlls/ddraw/ddraw/x11.c, dlls/ddraw/dsurface/x11.c:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	Newbie friendly error message for 3D creation failure.

	* dlls/dplayx/dplay.c, dlls/dplayx/dplay_global.h, dlls/dplayx/dplaysp.c, dlls/dplayx/dplaysp.h, dlls/dplayx/dplayx_messages.c, dlls/dplayx/dplayx_messages.h, dlls/dplayx/name_server.c:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- More implementation
	- Should be able to enumerate sessions anywhere with at least tcp/ip

	* include/server.h, include/thread.h, scheduler/client.c, scheduler/thread.c, server/request.c, server/request.h, server/thread.c, server/thread.h, server/trace.c, tools/make_requests:
	Added the data structures and macros that will be needed to support
	reentrant server requests.

	* windows/message.c, windows/queue.c, windows/input.c:
	Andreas Mohr <a.mohr@mailto.de>
	- fix one locking ignorant return 0; in MSG_SendMessageInterThread()
	- fix a crash in QUEUE_RemoveSMSG()
	- convert some queue WARN() to ERR()
	- spaileng fikses

	* controls/listbox.c, dlls/comctl32/listview.c:
	Andreas Mohr <a.mohr@mailto.de>
	Always call LISTVIEW_SetSelection() for an item, even if that item
	has been selected before, in order to let other items get erased.

	* graphics/x11drv/text.c:
	Albert den Haan <albertd@corel.com>
	Convert the Unicode Character id to a glyph id in
	X11DRV_GetTextExtentPoint.

	* graphics/x11drv/xfont.c:
	Albert den Haan <albertd@corel.com>
	- enhanced reporting of unsupported X font encodings
	- added -cp-*- data to font encoding lookup structures

2000-08-28  Alexandre Julliard  <julliard@winehq.com>

	* relay32/builtin32.c, documentation/wine.man.in, include/loadorder.h, loader/elf.c, loader/loadorder.c, loader/module.c, loader/ne/module.c, loader/pe_image.c, misc/options.c:
	Peter Ganten <peter@ganten.org>
	- Always store the full path name of 32bit modules in WINE_MODREF
	- Add the possibility to use path names with the --dll command line
	  option
	- Add the possibility to use the --dll command line option several
	  times.
	- Note: The colon-sign is now exchanged with the plus-sign, as it is
	  part of dos path names.

	* tools/wineinstall:
	Andreas Mohr <a.mohr@mailto.de>
	Added a wine rpm uninstall section to wineinstall.

	* windows/nonclient.c:
	Francois Methot <francoism@macadamian.com>
	Do not check for system menu if the window has style WS_EX_TOOL_WINDOW.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c, dlls/ddraw/dsurface/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- added ARGB 1555 format
	- fixed refcount problem for Add/DeleteAttachedSurface

	* server/registry.c:
	Albert den Haan <albertd@corel.com>
	Fixed typo in HKEY_CURRENT_CONFIG name.

	* dlls/kernel/messages/winerr_enu.mc:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Add missing message to winerr_enu.mc.

	* dlls/kernel/wowthunk.c:
	James Abbatiello <abbeyj@wpi.edu>
	Increase number of supported args for WOW_CallProc32W16 from 11 to 13
	(for CreateService).

	* dlls/kernel/wprocs.spec, msdos/vxd.c:
	James Abbatiello <abbeyj@wpi.edu>
	Stub support for int2f/ax=1684/bx=0027 (VXDLDR).

2000-08-26  Alexandre Julliard  <julliard@winehq.com>

	* win32/except.c, debugger/winedbg.c, dlls/dinput/dinput_main.c, dlls/dplayx/dplobby.c, loader/task.c:
	Removed calls to ConvertToGlobalHandle and MakeCriticalSectionGlobal.

	* dlls/ntdll/reg.c, include/ntddk.h:
	Simplified root key handling now that the server supports a real root
	key. Fixed a few prototypes. Implemented NtDeleteKey/NtDeleteValueKey.

	* dlls/ntdll/misc.c, dlls/ntdll/ntdll_misc.h:
	Fixed debugstr_as/us prototypes.

	* dlls/wininet/http.c, dlls/winmm/joystick/joystick.c, dlls/winmm/wineoss/midi.c, loader/main.c, loader/module.c, loader/ne/segment.c, loader/pe_image.c, misc/comm.c, misc/ext_debugger.c, windows/x11drv/clipboard.c, console/xterm.c, dlls/commdlg/colordlg.c, dlls/dsound/dsound_main.c, dlls/gdi/printdrv.c, dlls/ntdll/signal_sparc.c, dlls/oleaut32/parsedt.c, dlls/wininet/ftp.c:
	Andreas Mohr <a.mohr@mailto.de>
	- made the MIDI sequencer error message much better for confused users
	  to be found on #WineHQ
	- use strerror instead of errno at important places
	- got rid of HAVE_STRERROR macro
	- removed some #include:s (hopefully I didn't break anything)

	* dlls/comctl32/imagelist.c:
	Andreas Mohr <a.mohr@mailto.de>
	Replaced cCurImage by cMaxImage.

	* dlls/comctl32/propsheet.c:
	Andreas Mohr <a.mohr@mailto.de>
	"Fixed" horribly misaligned pages in property sheets of apparently
	newer InstallShields.

	* dlls/wineps/init.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Register Wine Postscript Driver as "WINEPS", "WINEPS.DLL" and
	"WINEPS.DRV" to allow an easy configuring for users.

	* graphics/x11drv/codepage.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	  implements DrawText for cp932.

	* dlls/user/ddeml.c:
	Andreas Mohr <a.mohr@mailto.de>
	Don't make DDEML mutexes global any more.

	* files/profile.c, server/main.c, server/object.c, server/object.h, server/registry.c, server/request.c, server/request.h, server/thread.h:
	Added a real root key and simplified creation of the HKEY_* special root keys.
	Do not prefix all keys with the name of the top key when saving to a file.
	Try to load $WINEPREFIX/config into the Wine config branch at startup.

	* dlls/msacm/.cvsignore, dlls/msacm/Makefile.in, dlls/msacm/driver.c, dlls/msacm/filter.c, dlls/msacm/format.c, dlls/msacm/internal.c, dlls/msacm/msacm.rc, dlls/msacm/msacm32.spec, dlls/msacm/msacm32_main.c, dlls/msacm/stream.c, dlls/msacm/wineacm.h, include/msacm.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Implemented most of '*Format*' API.
	Improved internal object and messages handling.
	Started some '*Filter*' functions.
	Fixed standard headers for Winelib.
	Fixed acmMetrics.

2000-08-25  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/ntdll.spec, dlls/ntdll/rtlstr.c, include/ntddk.h:
	Fixed Rtl* string functions for proper MBCS/codepage support. Added a
	few more functions.

	* dlls/kernel/kernel_main.c, scheduler/process.c:
	Moved TASK_Create call to KERNEL initialisation routine.
	Clear last error code before calling main entry point (reported by
	James Juran).

	* dlls/kernel/kernel.spec, dlls/user/lstr.c, dlls/user/user.spec, memory/string.c:
	Fixed a couple of WINAPI issues with 16-bit spec files (thanks to
	Marcus Meissner).

	* dlls/dplayx/dplay_global.h, dlls/dplayx/dplaysp.c, dlls/dplayx/dplaysp.h, dlls/dplayx/dplayx_global.c, dlls/dplayx/dplayx_global.h, dlls/dplayx/dplayx_main.c, dlls/dplayx/dplayx_messages.c, dlls/dplayx/dplayx_messages.h, dlls/dplayx/dplayx_queue.h, dlls/dplayx/dplobby.c, dlls/dplayx/name_server.c, dlls/dplayx/name_server.h, include/dplay.h, ole/Makefile.in, ole/guid.c, dlls/dplayx/Makefile.in, dlls/dplayx/dpclassfactory.c, dlls/dplayx/dpinit.h, dlls/dplayx/dplay.c:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Implemented loading and initialization of service providers
	- Created service provider COM object
	- Lots of dplay/dplobby implementation/fixes
	- Clean up of ole/guid.c

	* objects/dc.c: Backed out font codepage change.

	* include/miscemu.h, misc/comm.c, misc/version.c, msdos/int2f.c, dlls/comctl32/treeview.c, graphics/x11drv/dib.c:
	Andreas Mohr <a.mohr@mailto.de>
	Minor cosmetic changes.

	* misc/tweak.c: Andreas Mohr <a.mohr@mailto.de>
	Cleanup and speedup of init code.

	* objects/gdiobj.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Restored the hPseudoBitmap hack for programs deleting the 1x1 bitmap
	in memory DCs.

	* graphics/x11drv/xfont.c, include/gdi.h, objects/font.c, objects/text.c:
	Backed out font codepage change.

	* dlls/ddraw/helper.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Fixed the displaying of the FOURCC codes in _dump_pixelformat.

	* dlls/winmm/wineoss/audio.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed recording format settings (16 bit was broken) and reentrancy
	issues.

	* dlls/shell32/brsfolder.c, dlls/shell32/shres.rc, dlls/shell32/shresdef.h, include/shlobj.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Improved a bit the folder browsing implementation.

	* include/winbase.h:
	Matthew Lake <MasterR_L@yahoo.com>
	Added LHND.

	* tools/wrc/.cvsignore, tools/wrc/CHANGES, tools/wrc/README.wrc, tools/wrc/parser.y, tools/wrc/wrc.h, tools/wrc/wrc.man:
	Bertho Stultiens <bertho@akhphd.au.dk>
	Fixed a LALR(2) problem while scanning usertype resources which had
	identifiers for both name and type.

	* misc/wsprintf.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Use int instead of CHAR/WCHAR in va_arg() (fixes gcc-current compile
	problem).

	* dlls/ddraw/ddraw/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Change pixel format for 24 BPP surfaces when the DDraw BPP is 32.

	* objects/gdiobj.c:
	Andreas Mohr <a.mohr@mailto.de>
	GetObjectA: unlock the object again even in case of failure.

2000-08-23  Alexandre Julliard  <julliard@winehq.com>

	* include/wine/exception.h:
	Fixed finally handler name.

	* windows/class.c:
	Fixed RegisterClass last error code on atom creation failure.

	* graphics/x11drv/xfont.c:
	Cleaned up major ugliness in __lfCheckSum.

	* dlls/comctl32/listview.c:
	Susan Farley <sfarley@codeweavers.com>
	Large caption icons should end in '...' when they are abbreviated.

	* dlls/comctl32/animate.c:
	Francois Methot <francoism@macadamian.com>
	For the transparency issue, implemented a switch-case for the bitcount
	(bit per pixel) of the animation files.

	* dlls/comctl32/trackbar.c:
	Aric Stewart <aric@codeweavers.com>
	Wine was not drawing trackbars with minimum ranges of more than 0
	correctly.

2000-08-22  Alexandre Julliard  <julliard@winehq.com>

	* dlls/oleaut32/typelib.c:
	Francois Jacques <francoisj@macadamian.com>
	- removed unnecessary recursion
	- upon query failure on main primary lcid and secondary lcid,
	  attempts a query on system lcid (0)

	* dlls/wininet/internet.c, if1632/snoop.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed some warnings.

	* msdos/ioports.c:
	James Abbatiello <abbeyj@wpi.edu>
	Fixes for reading latched values with ports 0x40-0x43.

	* dlls/ddraw/dsurface/main.c:
	James Abbatiello <abbeyj@wpi.edu>
	Don't crash when calling DirectDrawSurface::EnumAttachedSurfaces on a
	surface with no attached surfaces.

	* dlls/kernel/format_msg.c:
	James Abbatiello <abbeyj@wpi.edu>
	Allow FormatMessage to load Unicode string resources.

	* include/server.h, include/winnt.h, scheduler/synchro.c, server/request.h, server/thread.c, server/thread.h, server/timer.c, server/trace.c:
	Added APC support in waitable timers.

	* graphics/bitblt.c, graphics/x11drv/bitblt.c:
	Removed unnecessary calls to CLIPPING_UpdateGCRegion. Fixed PatBlt to
	use DC_GetDCUpdate.

2000-08-21  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, include/version.h:
	Release 20000821.

----------------------------------------------------------------
2000-08-21  Alexandre Julliard  <julliard@winehq.com>

	* include/winbase.h, scheduler/process.c:
	Andreas Mohr <a.mohr@mailto.de>
	- don't return FALSE for system process changes
	- SHUTDOWN_NORETRY is 1 and has to be in winbase.h

	* dlls/comctl32/listview.c:
	Aric Stewart <aric@codeweavers.com>
	Beginning of some simple optimization of the listview
	drawing. Specifically it reduces flicker when selection changes.

	* loader/task.c: Andreas Mohr <a.mohr@mailto.de>
	Transform every ERR() to WARN() in MakeProcInstance.

	* dlls/kernel/kernel_main.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Call WriteOutProfiles16 to make sure that last profile gets written.

	* dlls/comctl32/propsheet.c, include/dialog.h, windows/dialog.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Disable the owner of a modal dialog box just before creating the
	dialog window.

	* files/file.c:
	Marcus Meissner <marcus@jet.franken.de>
	(from IBM TopPage patch) return correct error for already existing
	file.

	* windows/winproc.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Handle the LB_GETTEXT and CB_GETLBTEXT cases for 32W to 16 mapping.

	* windows/winpos.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Enables showing of hidden windows when the app ask *only* to maximize it.

2000-08-20  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/xfont.c, include/gdi.h, objects/dc.c, objects/font.c, objects/text.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Handle the codepage of fonts if supported by the graphics driver.

	* graphics/x11drv/codepage.c, graphics/x11drv/xfont.c, include/x11font.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added internal charsets for supporting DBCS charsets.

	* objects/dc.c:
	Fixed GDI locking in GetDeviceCaps.

	* dlls/shell32/systray.c:
	Kai Morich <mail@kai-morich.de>
	Fixed bug in repeatedly iconisation, code cleanup.

	* graphics/x11drv/init.c:
	Marcus Meissner <marcus@jet.franken.de>
	Set X11DRV_DeviceCaps.numColors according to doc (fixes Cubase VST24
	startup problem).

	* dlls/shell32/shell32.spec, dlls/shell32/shell32_main.c:
	Chris Morgan <cmorgan@wpi.edu>
	Implemented DuplicateIcon().

	* msdos/int15.c: Chris Morgan <cmorgan@wpi.edu>
	Stubbed INT 15 function 84h.

	* include/win.h, windows/win.c, windows/x11drv/event.c:
	Louis Philippe Gagnon <louisphilippe@macadamian.com>
	- Separate application calls to ShowOwnedPopups from Wine calls (in
	  EVENT_MapNotify) by introducing an internal function.
	- Fix ShowOwnedPopups so it sends messages with the same parameters as
	  in Windows.

	* dlls/comctl32/treeview.c:
	Chris Morgan <cmorgan@wpi.edu>
	Removed direct calls to TREEVIEW_Refresh().

	* objects/enhmetafile.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Implemented playback of EMR_POLYBEZIER{TO}16, EMR_POLYLINE16 and
	EMR_POLYPOLYLINE.

	* include/main.h, misc/main.c, ole/ole2nls.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Added new language detection scheme that uses NLS data base instead of
	hard coded values.

	* loader/pe_resource.c:
	Dusan Lacko <dlacko@codeweavers.com>
	Pass the type/name as a C string instead of an
	IMAGE_RESOURCE_DIR_STRING_U structure to the callback function.

2000-08-19  Alexandre Julliard  <julliard@winehq.com>

	* include/global.h, include/path.h, include/win.h, include/win16drv.h, include/wine/winbase16.h, include/x11drv.h, memory/local.c, objects/bitmap.c, objects/brush.c, objects/clipping.c, objects/dc.c, objects/dcvalues.c, objects/dib.c, objects/enhmetafile.c, objects/font.c, objects/gdiobj.c, objects/metafile.c, objects/palette.c, objects/pen.c, objects/region.c, objects/text.c, windows/cursoricon.c, windows/dce.c, windows/scroll.c, windows/user.c, windows/x11drv/wnd.c, dlls/ddraw/dsurface/dga.c, dlls/ddraw/dsurface/x11.c, dlls/gdi/gdi_main.c, dlls/gdi/printdrv.c, dlls/gdi/wing.c, dlls/opengl32/wgl.c, dlls/ttydrv/bitmap.c, dlls/ttydrv/dc.c, dlls/ttydrv/objects.c, dlls/ttydrv/wnd.c, dlls/wineps/brush.c, dlls/wineps/font.c, dlls/wineps/objects.c, dlls/wineps/psdrv.h, graphics/bitblt.c, graphics/enhmetafiledrv/init.c, graphics/enhmetafiledrv/objects.c, graphics/escape.c, graphics/mapping.c, graphics/metafiledrv/init.c, graphics/metafiledrv/objects.c, graphics/painting.c, graphics/path.c, graphics/win16drv/font.c, graphics/win16drv/objects.c, graphics/x11drv/bitmap.c, graphics/x11drv/brush.c, graphics/x11drv/clipping.c, graphics/x11drv/dib.c, graphics/x11drv/graphics.c, graphics/x11drv/init.c, graphics/x11drv/objects.c, graphics/x11drv/oembitmap.c, graphics/x11drv/palette.c, graphics/x11drv/xfont.c, include/dc.h, include/gdi.h:
	Alexandre Julliard <julliard@codeweavers.com> (for Corel)
	Albert den Haan <albertd@corel.com>
	Added syslevel locking for GDI operations.
	Propagate the changes through the graphics code.

	* misc/cdrom.c:
	Ed Snow <ed_snow@ttmengineering.com>
	Corrected serial number generation for CD's with 1 or 2 tracks.

2000-08-18  Alexandre Julliard  <julliard@winehq.com>

	* misc/cdrom.c, files/dos_fs.c:
	Stefan Leichter <Stefan.Leichter@camline.com>
	Fixed return value of CDROM_GetLabel if CDROM_Open failed (e.g. no
	Device entry for drive in wine.conf).

	* include/x11font.h, graphics/x11drv/codepage.c, graphics/x11drv/xfont.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Separate GetTextMetrics and implement it for SBCS/Unicode/cp932.

	* dlls/comctl32/status.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Fixed STATUS_GetTextW in regard to NULL pointers.

	* graphics/win16drv/prtdrv.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Append .DRV to name only if no extension present.

	* debugger/stabs.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Do not crash if path is NULL in DEBUG_ProcessElfFileFromPath.

	* dlls/winmm/wineoss/mixer.c:
	Ed Snow <ed_snow@ttmengineering.com>
	Clean out the hack on BASS/TREBLE and suppress them in the mask as was
	recommended oh so long ago.

	* dlls/comctl32/toolbar.c:
	Chris Morgan <cmorgan@wpi.edu>
	- Added a helper function TOOLBAR_GetText() and macro TOOLBAR_HasText() to
	  determine whether we need to call InvalidateRect() with bErase of TRUE or
	  FALSE.  Reduces background erases in non-text toolbars by 80-85%.
	- Fixed button state not being updated properly when LBUTTONDOWN and cursor
	  leaves the toolbar.
	- Removed FIXME() in TOOLBAR_DrawString for btnPtr->iString == -1, replaced
	  with a source code comment.
	- Removed unecessary call to TOOLBAR_CalcToolbar() in
	  TOOLBAR_GetItemRect().  Optimized TOOLBAR_CalcStrings(). Fixes very
	  slow responding toolbars in Ultraedit due to processing TB_GETITEMRECT
	  messages.
	- Optimized TOOLBAR_SetIntent(), SetRows() and SetStyle().

	* scheduler/synchro.c:
	Mike McCormack  <mike_mccormack@looksmart.com.au>
	Save GET_APCS data before calling any asynchronous procedure calls, in
	case the server is called during the APC.

	* dlls/commdlg/finddlg.c, include/dialog.h, windows/dialog.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Turns the handling to pure 16 bits, remove references to dialog.h.

	* dlls/winspool/info.c:
	Albert den Haan <albertd@corel.com>
	Remove unused critical section global variable PRINT32_RegistryBlocker.

	* dlls/commdlg/filedlg.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Avoids changing 2 levels when clicking .. in the directory list.

	* dlls/kernel/kernel32.spec, win32/console.c:
	Chris Morgan <cmorgan@wpi.edu>
	Stubbed SetConsoleInputExeNameA/W.

	* dlls/comctl32/status.c:
	Gerard Patel <g.patel@wanadoo.fr>
	WM_GETFONT should return a real font handle instead of NULL.

2000-08-16  Alexandre Julliard  <julliard@winehq.com>

	* loader/pe_image.c:
	Niclas Karlsson MATE <nkarlsso@ra.abo.fi>
	WATCOM compiled programs leave VirtualSize to zero which triggers the
	virus check. Use SizeOfRawData instead.

	* dlls/comctl32/animate.c:
	Niclas Karlsson MATE <nkarlsso@ra.abo.fi>
	Implemented ACS_CENTER for animation controls.

	* loader/pe_image.c:
	Avoid going past the end of the relocation section. Skip sanity checks
	for empty relocation blocks.

	* dlls/comctl32/animate.c:
	Francois Methot <francoism@macadamian.com>
	Implemented background transparency on animation control for avi
	composed of 8 bpp(or less) image. I added support for 8 bpp or more,
	but it has not been tested.

	* dlls/ole32/ole2.c:
	Louis Philippe Gagnon <louisphilippe@macadamian.com>
	While dragging, catch keyboard messages between WM_KEYFIRST and
	WM_KEYLAST, not just WM_KEYFIRST.

	* dlls/kernel/wowthunk.c:
	Peter Ganten <peter@ganten.org>
	If a module cannot be found in LoadLibraryEx32W16, call LoadLibraryEx
	anyway, since it might be a builtin module.

	* dlls/shell32/shell32_main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Missed the first character of every argument in CommandLineToArgv.

	* dlls/winspool/info.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Add an error message if devmode structure in registry is invalid;
	attempt to provide plausible values.

2000-08-15  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/codepage.c, graphics/x11drv/xfont.c, include/ts_xlib.h, include/x11font.h, tsx11/X11_calls, tsx11/ts_xlib.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixed for DBCS(cp932/cp949) codepage conversion.
	Implemented cp932 handling partly(but still incomplete).
	Added supporting multiple fonts for DBCS handling.

	* debugger/debugger.h, debugger/stabs.c, documentation/debugger.sgml:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Enhanced ELF files lookup for symbolic info.

	* debugger/break.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed regression in break command.

2000-08-14  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/filedlg.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Fix return value to 16 bits for 16 bit hook; remove leading space for
	file specification.

	* windows/message.c:
	Peter Ganten <peter@ganten.org>
	Threads without active or focus window should not receive keyboard
	messages.

	* server/mapping.c, server/trace.c, include/server.h, loader/pe_image.c, memory/virtual.c:
	Implemented SEC_IMAGE mappings and shared PE sections (with the help
	of Peter Ganten).

	* include/ntddk.h, loader/ne/module.c, misc/lstr.c, misc/main.c, msdos/int21.c, dlls/Makefile.in, dlls/commdlg/filedlg95.c, dlls/user/lstr.c, dlls/wininet/Makefile.in, dlls/wininet/wininet.spec, files/dos_fs.c, files/profile.c:
	Moved CharUpper* and CharLower* functions to dlls/user.

	* graphics/x11drv/Makefile.in, graphics/x11drv/codepage.c, graphics/x11drv/text.c, graphics/x11drv/xfont.c, include/x11font.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added support for special treatments (use 2 or more fonts, codepage
	conversion, etc...) for DBCS text.

	* windows/nonclient.c, windows/sysparams.c, winedefault.reg:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Add "FullWindowDrag" feature for not managed windows.

	* controls/combo.c:
	Susan Farley <sfarley@codeweavers.com>
	Update the edit box before rolling up the listbox, so the
	selection isn't lost.

	* libtest/Makefile.in:
	Marcus Meissner <marcus@jet.franken.de>
	Added missing referenced dlls for libtest.

	* dlls/comctl32/listview.c:
	Niclas Karlsson MATE <nkarlsso@ra.abo.fi>
	LPSTR_TEXTCALLBACK wouldn't work if the application supplied the item
	text in its own buffer.

	* win32/Makefile.in, win32/error.c, win32/file.c, dlls/commdlg/comdlg32.spec, dlls/crtdll/crtdll_main.c, dlls/crtdll/wcstring.c, dlls/imm32/Makefile.in, dlls/imm32/imm32.spec, dlls/kernel/wowthunk.c, dlls/ole32/compobj.c, dlls/opengl32/Makefile.in, dlls/opengl32/opengl32.spec, dlls/setupapi/Makefile.in, dlls/setupapi/setupapi.spec, dlls/shlwapi/Makefile.in, dlls/shlwapi/shlwapi.spec, dlls/shlwapi/string.c, files/dos_fs.c, files/file.c, dlls/Makefile.in, dlls/advapi32/advapi.c, dlls/avifil32/avifile.c:
	Cleaned up a few inter-dll dependencies. Added a few imports.

	* ole/ole2nls.c, windows/class.c, windows/defwnd.c, windows/dialog.c, windows/mdi.c, windows/multimon.c, windows/painting.c, windows/spy.c, dlls/version/info.c, dlls/winspool/info.c, graphics/escape.c, graphics/x11drv/xfont.c, include/shlwapi.h, include/wine/undocshell.h, include/wine/unicode.h, loader/ne/convert.c, memory/atom.c, memory/heap.c, memory/registry.c, objects/palette.c, dlls/msacm/internal.c, dlls/msvideo/msvideo_main.c, dlls/ntdll/wcstring.c, dlls/ole32/antimoniker.c, dlls/ole32/bindctx.c, dlls/ole32/compositemoniker.c, dlls/ole32/defaulthandler.c, dlls/ole32/filemoniker.c, dlls/ole32/itemmoniker.c, dlls/ole32/storage.c, dlls/ole32/storage32.c, dlls/oleaut32/olefont.c, dlls/shell32/clipboard.c, dlls/shell32/shell.c, dlls/shell32/shpolicy.c, dlls/shlwapi/ordinal.c, dlls/shlwapi/path.c, dlls/advapi32/registry.c, dlls/advapi32/service.c, dlls/comctl32/comctl32undoc.c, dlls/comctl32/header.c, dlls/comctl32/monthcal.c, dlls/comctl32/rebar.c, dlls/comctl32/status.c, dlls/comctl32/tab.c, dlls/comctl32/toolbar.c, dlls/comctl32/tooltips.c, dlls/comctl32/treeview.c, dlls/commdlg/filedlg.c, dlls/commdlg/filedlg95.c, dlls/commdlg/finddlg32.c, dlls/commdlg/fontdlg.c, dlls/dplayx/dplayx_global.c, dlls/kernel/format_msg.c, controls/icontitle.c, controls/listbox.c:
	Replaced all lstr* calls from inside Wine code by their str* equivalent.

	* msdos/dpmi.c:
	Replaced global Callbacks structure by appropriate glue code
	generation. Removed a few unused entries in the Callout structure.

	* dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, dlls/shell32/shellole.c, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shellreg.c, dlls/shell32/shellstring.c, dlls/shell32/shlfileop.c, dlls/shell32/shlmenu.c, include/winversion.h, misc/version.c, win32/device.c, windows/winhelp.c, dlls/advapi32/security.c, dlls/imm32/imm.c, dlls/msacm/msacm32_main.c, dlls/oleaut32/oleaut.c, dlls/oleaut32/typelib.c, dlls/shell32/changenotify.c, dlls/shell32/iconcache.c, dlls/shell32/pidl.c:
	Replaced VERSION_* calls by exported API equivalents.

	* include/callback.h, loader/ne/.cvsignore, loader/ne/Makefile.in, loader/ne/module.c, loader/ne/resource.c, loader/ne/segment.c, memory/.cvsignore, memory/Makefile.in, memory/local.c, misc/comm.c, tools/winebuild/spec16.c, controls/.cvsignore, controls/Makefile.in, controls/edit.c, dlls/kernel/.cvsignore, dlls/kernel/Makefile.in, dlls/kernel/thunk.c, dlls/kernel/utthunk.c, dlls/winaspi/.cvsignore, dlls/winaspi/Makefile.in, dlls/winaspi/winaspi16.c, dlls/winaspi/winaspi32.c, dlls/winmm/mmsystem.c, if1632/thunk.c, include/builtin16.h:
	Replaced global Callbacks structure by appropriate glue code
	generation. Removed a few unused entries in the Callout structure.

	* winedefault.reg:
	Gerard Patel <g.patel@wanadoo.fr>
	Added load address for the shared memory of BDE (Borland database
	manager).

	* scheduler/client.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix for starting server from the current directory.

	* graphics/x11drv/xfont.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added checking for broken font cache.
	Added supporting for iso10646 encoding.

2000-08-11  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/client.c, server/request.c:
	Made server startup more robust against races caused by a previous
	server terminating at the same time.

	* configure, configure.in, tools/c2man.pl:
	Mike_McCormack@looksmart.com.au
	Created default c2man compatible perl script for generating
	documentation, in case c2man isn't installed.

	* dlls/comctl32/listview.c:
	Aric Stewart <aric@codeweavers.com>
	Fixed sending of LVN_ITEMCHANGING and LVN_ITEMCHANGED messages,
	cleaned up some of the drawing, implemented the iIndent for LVS_REPORT
	and fixed a problem where sub items where not being properly
	associated with their item for virtual list views.

	* memory/codepage.c, misc/lstr.c, ole/ole2nls.c, unicode/Makefile.in, unicode/cpmap.pl, unicode/wctype.c, configure, configure.in, dlls/crtdll/mbstring.c, dlls/crtdll/wcstring.c, dlls/ntdll/wcstring.c, dlls/user/lstr.c, include/config.h.in, include/winbase.h, include/wine/unicode.h:
	Added Unicode ctype support.

	* dlls/comctl32/updown.c, include/commctrl.h:
	Moved NM_UPDOWN definition to commctrl.h.

	* relay32/relay386.c:
	Peter Ganten <peter@ganten.org>
	The user driver functions might be called with the window lock held.

	* include/module.h, loader/pe_resource.c, loader/resource.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Make FindResource and FindResourceEx fully windows compatible.

	* include/tchar.h:
	Damyan Ognyanoff <Damyan@rocketmail.com>
	Remove some obsolete #define's - strlwr and strupr are in NTDLL now.

	* include/wine/unicode.h, memory/codepage.c, unicode/Makefile.in, unicode/utf8.c:
	Added UTF-8 conversion support.

	* windows/x11drv/wnd.c:
	Stephane Lussier <stephane@macadamian.com>
	Instead of not doing the Z ordering when the application asks to place
	the window under a zero-sized window, now the window above the
	zero-sized window, is used to do the Z ordering.

	* dlls/commdlg/filedlg95.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Initialize lpstrInitialDir to really bogus value to restore original
	value later.

	* include/windef.h:
	Ove Kaaven <ovek@transgaming.com>
	Added a few more anonymous union definitions.

	* include/guiddef.h:
	Ove Kaaven <ovek@transgaming.com>
	Fixed C++ operators return value.

	* dlls/crtdll/crtdll_main.c:
	Ove Kaaven <ovek@arcticnet.no>
	Implemented fopen() append mode, and a really cheesy fscanf()
	implementation...

	* dlls/shell32/shlfileop.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	1. Make buffer for message large enough to hold very long file names.
	2. Pass FORMAT_MESSAGE_ARGUMENT_ARRAY for FormatMessageA to not assume
	   implementation specific behaviour.
	3. Show actual message to user, not non-formatted one.

2000-08-10  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/event.c, windows/x11drv/init.c, windows/x11drv/keyboard.c, windows/x11drv/mouse.c, windows/x11drv/wnd.c, dlls/x11drv/x11drv_main.c, include/clipboard.h, include/ttydrv.h, include/user.h, include/x11drv.h, misc/main.c, windows/clipboard.c, windows/cursoricon.c, windows/dce.c, windows/event.c, windows/keyboard.c, windows/sysparams.c, windows/win.c, windows/x11drv/Makefile.in, windows/x11drv/clipboard.c, configure, configure.in, controls/desktop.c, dlls/dinput/dinput_main.c, dlls/ttydrv/Makefile.in, dlls/ttydrv/bitmap.c, dlls/ttydrv/dc.c, dlls/ttydrv/graphics.c, dlls/ttydrv/objects.c, dlls/ttydrv/palette.c, dlls/ttydrv/ttydrv.h, dlls/ttydrv/ttydrv.spec, dlls/ttydrv/ttydrv_main.c, dlls/ttydrv/user.c, dlls/ttydrv/wnd.c, dlls/user/display.c, dlls/user/mouse.c, dlls/user/user_main.c, dlls/x11drv/x11drv.spec:
	Merged clipboard driver into USER driver.
	Moved all ttydrv source files to dlls/ttydrv.
	Load functions pointer for the USER driver from the graphics driver
	dll with GetProcAddress.

2000-08-09  Alexandre Julliard  <julliard@winehq.com>

	* objects/bitmap.c, programs/notepad/search.c, scheduler/synchro.c, windows/caret.c, windows/cursoricon.c, windows/queue.c, windows/x11drv/wnd.c, dlls/winsock/async.c, dlls/winsock/socket.c, files/change.c, files/dos_fs.c, graphics/painting.c, include/msacmdrv.h, include/ntddk.h, include/ole.h, include/wine/obj_base.h, misc/comm.c, misc/main.c, msdos/int09.c, dlls/ddraw/direct3d/main.c, dlls/ddraw/direct3d/mesa.c, dlls/dinput/dinput_main.c, dlls/msacm/msacmdrv.h, dlls/ole32/compobj.c, dlls/ole32/storage.c, dlls/serialui/confdlg.c, dlls/shell32/brsfolder.c, dlls/user/ddeml.c, dlls/wininet/http.c, dlls/wininet/internet.c, controls/icontitle.c, controls/widgets.c, dlls/comctl32/tab.c, dlls/crtdll/crtdll_main.c, dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw/x11.c, dlls/ddraw/dga.c, dlls/ddraw/dga2.c, dlls/ddraw/helper.c, dlls/ddraw/main.c:
	Removed some unnecessary #includes and dll dependencies.

	* memory/environ.c, scheduler/process.c, scheduler/thread.c, win32/init.c, include/process.h, loader/pe_image.c, loader/task.c:
	Make PDB, ENVDB and STARTUPINFO global variables.
	Added 'module' field in PDB, and removed Wine-specific fields.

	* misc/version.c, scheduler/services.c:
	Removed winver and service_table from the PDB and made them static
	variables.

	* include/file.h, loader/dos/dosvm.c, files/file.c:
	Removed the DOS handles table from the PDB and made it a static
	variable.

	* dlls/kernel/kernel_main.c, if1632/builtin.c, include/global.h, memory/global.c, msdos/dosmem.c, objects/metafile.c:
	Removed obsolete SHMDATA parameter in GLOBAL_CreateBlock.

	* dlls/oleaut32/typelib.c:
	Francois Jacques <francoisj@macadamian.com>
	- Avoid null-pointer exceptions by testing listnodes validity before doing
	  any work with those.
	- TLB_ReadTypeLib now retrieves the length of the TLB and passes it to
	  the TLB constructor which initializes TLBContext::length to that
	  value.
	- For non-standard pointed types, td[3] is always 0. I observed that
	  the type is stored at td[2]/8 and not td[3]/8.
	- Null-pointer exception occurs when GetRefTypeOfImplType is called on a
	  type with no inherited interfaces. If the implemented types linked list
	  is empty, set pRefType as 0 and return S_OK.

	* include/wine/obj_oleaut.h:
	James Hatheway <james@macadamian.com>
	Fixed typo in the IDispatch_GetTypeInfo macro.

	* dlls/comctl32/tooltips.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Fix some remaining problems with tooltips.

	* configure.in, configure:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed OpenGL configure: move HAVE_OPENGL define to where it belongs,
	fixed glext.h presence in configure check for PFNGLCOLORTABLEEXTPROC.

	* include/authors.h, include/crtdll.h, include/device.h, include/file.h, include/metafiledrv.h, include/w32sys.h, tools/make_authors, win32/file.c, dlls/ole32/ole2.c, dlls/shell32/authors.h, dlls/shell32/brsfolder.c, dlls/shell32/shellord.c, dlls/shell32/shlview.c, dlls/win32s/w32sys.c, files/file.c, graphics/metafiledrv/metafiledrv.h, debugger/winedbg.c, dlls/crtdll/crtdll.h, dlls/ddraw/dga.c, dlls/ddraw/dga2.c, dlls/ddraw/helper.c, dlls/kernel/toolhelp.c, dlls/ntdll/exception.c:
	Moved a few non-standard headers into their respective dlls.

	* include/Makefile.in:
	Install all standard Windows includes, plus some from the wine subdir.

	* dlls/comctl32/datetime.c, dlls/comctl32/flatsb.c, dlls/comctl32/header.c, dlls/comctl32/hotkey.c, dlls/comctl32/imagelist.c, dlls/comctl32/imagelist.h, dlls/comctl32/ipaddress.c, dlls/comctl32/listview.c, dlls/comctl32/monthcal.c, dlls/comctl32/nativefont.c, dlls/comctl32/pager.c, dlls/comctl32/progress.c, dlls/comctl32/rebar.c, dlls/comctl32/status.c, dlls/comctl32/tab.c, dlls/comctl32/toolbar.c, dlls/comctl32/tooltips.c, dlls/comctl32/trackbar.c, dlls/comctl32/treeview.c, dlls/comctl32/updown.c, dlls/shell32/shell.c, dlls/shell32/shell32_main.h, include/animate.h, include/comboex.h, include/commctrl.h, include/datetime.h, include/flatsb.h, include/header.h, include/hotkey.h, include/imagelist.h, include/ipaddress.h, include/listview.h, include/monthcal.h, include/nativefont.h, include/pager.h, include/progress.h, include/rebar.h, include/status.h, include/tab.h, include/toolbar.h, include/tooltips.h, include/trackbar.h, include/treeview.h, include/updown.h, dlls/comctl32/animate.c, dlls/comctl32/comboex.c, dlls/comctl32/commctrl.c:
	Removed all non-standard common control headers from the include
	directory.

	* windows/Makefile.in, windows/struct32.c, windows/struct32.h, graphics/x11drv/graphics.c, include/struct32.h, win32/Makefile.in, win32/struct32.c:
	Moved struct32.c to windows directory.

2000-08-08  Alexandre Julliard  <julliard@winehq.com>

	* relay32/builtin32.c:
	Make sure builtin dlls are never freed since we don't support dlclose
	properly yet.

	* dlls/psapi/Makefile.in, dlls/psapi/psapi.spec, dlls/richedit/reader.c, dlls/serialui/confdlg.c, dlls/shell32/shell32.spec, dlls/shell32/shellstring.c, dlls/tapi32/Makefile.in, dlls/tapi32/line.c, dlls/tapi32/tapi32.spec, dlls/winmm/mmsystem.c, dlls/winmm/mmsystem.spec, include/wine/winbase16.h, dlls/Makefile.in, dlls/commdlg/fontdlg.c, dlls/commdlg/printdlg.c, dlls/kernel/Makefile.in, dlls/kernel/kernel.spec, dlls/lzexpand/lzexpand_main.c, dlls/msacm/driver.c, dlls/ole32/ole2.c, dlls/oleaut32/typelib.c:
	Small dll interfaces cleanups.

	* configure, configure.in, include/wine_gl.h:
	Marcus Meissner <marcus@jet.franken.de>
	Eased restrictions on OpenGL/MESA usage a bit. It compiles just fine
	using mesa-3.2 even without glext.h.

	* dlls/comctl32/listview.c, include/listview.h:
	Aric Stewart <aric@codeweavers.com>
	Reworked how selections are kept track of in the list view. Selections
	are now listed as a sorted range of paired integers.

	* dlls/comctl32/tooltips.c:
	Louis Philippe Gagnon <louisphilippe@macadamian.com>
	When unsubclassing tools, use toolPtr->hwnd instead of toolPtr->uId if
	toolPtr->flags does not contain TTF_IDISHWND (meaning uId is not a
	valid window handle).

	* documentation/HOWTO-winelib:
	Wilbur N. Dale <wilbur.dale@lumin.nl>
	Added description of using DLLs with WineLib.

	* documentation/*:
	John R. Sheets <jsheets@codeweavers.com>
	Converted Wine documentation to SGML format.

2000-08-07  Alexandre Julliard  <julliard@winehq.com>

	* controls/icontitle.c:
	Marcus Meissner <marcus@jet.franken.de>
	Initialize 'str' in ICONTITLE_GetTitlePos.

	* include/module.h, loader/ne/resource.c, loader/pe_resource.c, loader/resource.c:
	Fixed resource functions to work with 32-bit modules that don't have a
	16-bit counterpart (necessary for LOAD_LIBRARY_AS_DATAFILE support).

	* programs/uninstaller/main.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Add an edit control showing the command line of the currently selected
	deinstall item.

	* windows/winpos.c:
	Huw D M Davies <hdavies@codeweavers.com>
	WINPOS_WindowFromPoint should respect hrgnWnd.

	* loader/pe_image.c:
	Peter Ganten <peter@ganten.org>
	Set up exe_modref before loading implicitly linked dlls.

	* dlls/kernel/format_msg.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Prevent endless looping in linebreak handling.

	* dlls/ddraw/ddraw/x11.c:
	Marcus Meissner <marcus@jet.franken.de>
	If we are looking for an existing pixmap format, we do not need the
	same bitsperpixel (fixes depth 15/bitspixel 16 mode).

	* include/dinput.h:
	Ove Kaaven <ovek@transgaming.com>
	Added a few DirectInput 7 definitions and C++ fixes.

	* dlls/kernel/wowthunk.c:
	Peter Ganten <peter@ganten.org>
	LoadLibraryEx32W16 should use the search algorithm of 16-bit libraries.

	* windows/cursoricon.c, windows/input.c, windows/msgbox.c, windows/winpos.c:
	Marcus Meissner <marcus@jet.franken.de>
	Removed local variable shadows warnings.

	* win32/process.c, include/elfdll.h, include/module.h, include/pe_image.h, loader/elf.c, loader/elfdll.c, loader/module.c, loader/ne/module.c, loader/pe_image.c, loader/pe_resource.c, loader/resource.c, loader/task.c, misc/version.c, relay32/builtin32.c, scheduler/process.c, debugger/dbgmain.c, debugger/msc.c, debugger/types.c:
	- Fixed resource functions to work directly from the HMODULE instead of
	  requiring a modref.
	- Attempted to get LOAD_LIBRARY_AS_DATAFILE right (based on patches by
	  Eric Pouech and Dusan Lacko).
	- Simplified modref structure and handling.

	* include/wine/obj_base.h:
	Ove Kaaven <ovek@transgaming.com>
	Protect the prototypes in here from C++ name mangling...

	* dlls/version/install.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	VIF_OUTOFSPACE and VIF_OUTOFMEM were reversed.

	* include/vfw.h:
	Marcus Meissner <marcus@jet.franken.de>
	inline must be first attribute in function definition.

	* dlls/user/lstr.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed CharNextW.

	* graphics/x11drv/dib.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	X11DRV_DIB_SetImageBits_RLE8: break image lines.

2000-08-06  Alexandre Julliard  <julliard@winehq.com>

	* dlls/wininet/Makefile.in, dlls/wininet/wininet.spec, dlls/winmm/Makefile.in, dlls/winmm/winmm.spec, dlls/winsock/Makefile.in, dlls/winsock/ws2_32.spec, dlls/winspool/Makefile.in, dlls/winspool/winspool.drv.spec, dlls/icmp/Makefile.in, dlls/icmp/icmp.spec, dlls/imagehlp/Makefile.in, dlls/imagehlp/imagehlp.spec, dlls/lzexpand/Makefile.in, dlls/lzexpand/lz32.spec, dlls/mpr/Makefile.in, dlls/mpr/mpr.spec, dlls/msacm/Makefile.in, dlls/msacm/msacm32.spec, dlls/richedit/Makefile.in, dlls/richedit/riched32.spec, dlls/serialui/Makefile.in, dlls/serialui/serialui.spec, dlls/setupapi/Makefile.in, dlls/setupapi/setupapi.spec, dlls/winaspi/Makefile.in, dlls/winaspi/wnaspi32.spec, dlls/wineps/Makefile.in, dlls/wineps/wineps.spec, dlls/Makefile.in, dlls/advapi32/Makefile.in, dlls/advapi32/advapi32.spec, dlls/comctl32/Makefile.in, dlls/comctl32/comctl32.spec:
	Added imports of kernel32.dll where necessary.

	* Makefile.in, dlls/user/Makefile.in:
	Link USER resources into libuser.so.

	* ole/ole2nls.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fix for calling ctype functions with Unicode characters.

	* dlls/comctl32/toolbar.c:
	Chris Morgan <cmorgan@wpi.edu>
	Converted all calls to RedrawWindow to InvalidateRect.  Previously
	RedrawWindow was being used for the RDW_UPDATENOW flag which forced an
	immediate WM_PAINT message.  Moving to InvalidateRect should let
	WM_PAINTs occur normally.

	* controls/listbox.c:
	Susan Farley <sfarley@codeweavers.com>
	Avoid resetting the background color when clearing out blank areas, as
	it may have been set to something other than COLOR_WINDOW by the
	application.

	* windows/x11drv/wnd.c:
	Stephane Lussier <stephane@macadamian.com>
	Top level windows with 0 width or height are created with a size of 1x1 in
	the X11 driver. I've added some code to make sure those windows are never
	mapped while the size <= 0.

	* misc/lstr.c, misc/main.c, relay32/snoop.c, win32/except.c, dlls/shlwapi/shlwapi.spec, dlls/shlwapi/string.c, dlls/user/lstr.c, dlls/user/misc.c, dlls/user/user.spec, dlls/user/user32.spec, if1632/Makefile.in, if1632/dummy.c, include/wine/exception.h, include/wine/winestring.h, include/wine/winuser16.h, include/winuser.h, memory/string.c, console/interface.c, dlls/comctl32/comctl32undoc.c, dlls/gdi/gdi_main.c, dlls/kernel/kernel.spec, dlls/kernel/kernel_main.c, dlls/ntdll/exception.c, dlls/ntdll/ntdll.spec, dlls/shell32/shell32.spec:
	Moved most USER string functions to dlls/user.
	Cleaned up a few more inter-dll dependencies.

	* ole/ole2nls.c, relay32/relay386.c, win32/device.c, win32/init.c, windows/driver.c, windows/painting.c, windows/win.c, files/dos_fs.c, files/drive.c, files/file.c, graphics/win16drv/init.c, graphics/x11drv/xfont.c, loader/loadorder.c, loader/ne/convert.c, loader/ne/module.c, loader/ne/resource.c, misc/registry.c, objects/enhmetafile.c, controls/edit.c, controls/menu.c, dlls/shlwapi/path.c, dlls/user/text.c:
	Replaced lstrlen/lstrcmp by libc equivalents everywhere we don't need
	to trap exceptions.

2000-08-04  Alexandre Julliard  <julliard@winehq.com>

	* tools/winapi_check/modules.dat, tools/winapi_check/modules.pm, tools/winapi_check/nativeapi.dat, tools/winapi_check/nativeapi.pm, tools/winapi_check/win32/comctl32.api, tools/winapi_check/win32/oleaut32.api, tools/winapi_check/win32/ws2_32.api, tools/winapi_check/win32/wsock32.api, tools/winapi_check/winapi_check:
	Patrik Stridvall <ps@leissner.se>
	- Warn about directories specified in modules.dat that are not used.
	- Eliminated the warnings caused by the change above.
	- Minor API files update.
	- Minor bug fixes.

	* include/acconfig.h, include/config.h.in, dlls/wininet/internet.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed issues found by winapi_check.

	* debugger/stack.c, dlls/comctl32/listview.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* programs/regapi/Makefile.in, programs/regtest/Makefile.in, programs/uninstaller/Makefile.in, programs/view/Makefile.in, programs/wcmd/Makefile.in, programs/winemine/Makefile.in, programs/winhelp/Makefile.in, programs/winver/Makefile.in, debugger/Makefile.in, programs/avitools/Makefile.in, programs/clock/Makefile.in, programs/cmdlgtst/Makefile.in, programs/control/Makefile.in, programs/notepad/Makefile.in, programs/progman/Makefile.in:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added a few missing imports.

	* objects/palette.c, objects/text.c, scheduler/thread.c, win32/Makefile.in, win32/newfns.c, win32/ordinals.c, windows/queue.c, windows/scroll.c, dlls/user/Makefile.in, dlls/user/cache.c, dlls/user/lstr.c, dlls/user/misc.c, dlls/user/resource.c, dlls/user/text.c, graphics/Makefile.in, graphics/cache.c, loader/resource.c, misc/lstr.c, dlls/kernel/kernel32.spec:
	Moved a bunch of functions out of libwine/kernel/gdi into USER.

	* windows/x11drv/wnd.c, graphics/metafiledrv/init.c, graphics/win16drv/init.c, graphics/x11drv/init.c, include/gdi.h, include/ttydrv.h, include/user.h, include/win.h, include/x11drv.h, objects/metafile.c, windows/caret.c, windows/clipboard.c, windows/cursoricon.c, windows/dce.c, windows/dialog.c, windows/nonclient.c, windows/painting.c, windows/winpos.c, controls/combo.c, controls/menu.c, dlls/ttydrv/ttydrv_main.c, dlls/wineps/init.c, dlls/x11drv/x11drv_main.c, graphics/enhmetafiledrv/init.c:
	Removed a few dependencies on GDI internals from USER dll.

	* dlls/Makefile.in, dlls/gdi/Makefile.in, dlls/gdi/gdi32.spec, dlls/user/user32.spec, programs/uninstaller/Makefile.in, programs/wcmd/Makefile.in, programs/winemine/Makefile.in, debugger/Makefile.in, debugger/winedbg.spec:
	Added a few missing imports.

2000-08-03  Alexandre Julliard  <julliard@winehq.com>

	* win32/console.c, Makefile.in, dlls/gdi/.cvsignore, dlls/gdi/Makefile.in, dlls/gdi/printdrv.c, dlls/kernel/toolhelp.spec, dlls/user/Makefile.in, misc/Makefile.in, misc/printdrv.c, msdos/int09.c, msdos/int16.c, scheduler/thread.c:
	Make USER and GDI separate dlls.

	* dlls/winsock/async.c, dlls/winsock/socket.c, include/wine/winsock16.h, include/winsock.h, include/winsock2.h:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Fixed the Win16/Win32 structure size/alignment differences of
	ws_hostent, ws_protoent, ws_servent, ws_netent.

	* dlls/comctl32/tooltips.c, include/tooltips.h:
	Huw D M Davies <h.davies@codeweavers.com>
	Redo the show/hide logic and add a comment to explain what's going on.
	Fix TTM_{S|G}ETDELAYTIME to use the double click time as default.
	Fix handling of TTDT_AUTOMATIC.
	Relayed mouse messages should extract the position from lParam not
	msg.pt
	SubclassProc now unified with TTM_RELAYEVENT.
	Change all lstrcpyxtox to use win32 APIs.

	* dlls/wineps/afm.c, dlls/wineps/psdrv.h:
	Alexandre Julliard <julliard@codeweavers.com> (for Corel)
	Changed the AFM metrics structure to use an array instead of a linked
	list. This avoids doing two heap allocations for every character, and
	reduces the metrics parsing time by approx 25%.

	* dlls/wininet/http.c:
	John R. Sheets <jsheets@codeweavers.com>
	Added "Mime-Version" to standard MIME headers parsed in
	HTTP_GetStdHeaderIndex().

	* dlls/ole32/errorinfo.c, include/oleauto.h, include/oleidl.h, include/thread.h, include/wine/obj_errorinfo.h, include/wine/obj_oleaut.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	Implemented the ErrorInfo interfaces.

	* dlls/kernel/Makefile.in:
	Added explicit dependency on message files for people who don't run
	make depend.

	* dlls/shell32/shellguid.c, dlls/shlwapi/shlwapi_main.c, ole/guid.c, dlls/avifil32/avifile.c, dlls/ddraw/main.c, dlls/dinput/dinput_main.c, dlls/dplayx/dplayx_main.c, dlls/dsound/dsound_main.c, dlls/ole32/oleobj.c, dlls/oleaut32/oleaut.c:
	Moved GUID definitions to their respective dll.

	* dlls/shell32/shelllink.c, include/wine/obj_shelllink.h:
	Fixed IShellLinkA/W definitions.

	* dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/shell32/brsfolder.c, dlls/shell32/folders.c, dlls/shell32/iconcache.c, dlls/shell32/shellord.c, dlls/shell32/shlmenu.c, dlls/shell32/shlview.c, dlls/shell32/shv_bg_cmenu.c, dlls/shell32/shv_item_cmenu.c, include/guiddef.h, include/initguid.h, include/rpc.h, include/shlguid.h, include/vfw.h, include/wine/obj_base.h, include/wine/obj_commdlgbrowser.h, include/wine/obj_contextmenu.h, include/wine/obj_enumidlist.h, include/wine/obj_extracticon.h, include/wine/obj_shellbrowser.h, include/wine/obj_shellextinit.h, include/wine/obj_shellfolder.h, include/wine/obj_shellview.h, include/wtypes.h:
	Added guiddef.h and moved a few GUID definitions to the correct file.

	* dlls/ole32/compobj.c, dlls/ole32/ole32.spec:
	Fixed IsEqualGUID definition.

	* include/winnls.h, ole/ole2nls.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	LOCALE_NOUSEROVERRIDE means: do not get user redefined settings from
	the registry. Instead, use system default values.

	* dlls/comctl32/listview.c:
	Aric Stewart <aric@codeweavers.com>
	- Fixed bug where InitSubItem was doing a ZeroMemory on the item.
	- Cleaned up a sit of extra blue at the end of a FULLROWSELECT list view
	  if there is only one column.
	- Corrected a bug I introduced with an earlier patch which caused
	  problems with multiple selections.

	* dlls/ddraw/convert.c:
	Marcus Meissner <marcus@jet.franken.de>
	One of the 24/32 convert color masks was wrong.

	* dlls/user/user32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	GetPropA/W have string args.

	* if1632/thunk.c, scheduler/process.c, dlls/*/Makefile.in, dlls/*/*.spec:
	Added imports of user32/gdi32/kernel32 wherever necessary.

2000-08-01  Alexandre Julliard  <julliard@winehq.com>

	* include/version.h, ANNOUNCE, ChangeLog:
	Release 20000801.

----------------------------------------------------------------
2000-08-01  Alexandre Julliard  <julliard@winehq.com>

	* include/windef.h, include/winnt.h, include/winuser.h, include/wtypes.h:
	Jeremy White <jwhite@codeweavers.com>
	Added WM_TCARD and DWORDLONG.

	* dlls/kernel/format_msg.c, tools/wmc/write.c:
	Marcus Meissner <marcus@jet.franken.de>
	PE_MESSAGE_HEADER.Length contains the header itself too.

	* memory/virtual.c: Peter Ganten <peter@ganten.org>
	Committing a page of a shared mapping in one process lets it appear
	committed in other processes, too. To fake this, we commit them as
	soon as they are mapped.

	* include/winnt.h, memory/heap.c:
	Peter Ganten <peter@ganten.org>
	Moved Wine private heap creation flags to other values.
	Return system heap when a shared heap is requested.

	* files/directory.c:
	Only set COMSPEC if not defined already.

	* dlls/commdlg/filedlg.c, include/wine/unicode.h:
	Gerard Patel <g.patel@wanadoo.fr>
	Changed the win31 style file dialog to 32 bits structures and
	messages.

	* dlls/comctl32/treeview.c: Serge Ivanov
	Andrew Lewycky
	Improved drawing of item text, added SHOWSELALWAYS capability.

	* dlls/comctl32/listview.c:
	Matthew Lake <MasterR_L@yahoo.com>
	Fixed a segfault problem using the standard file open dialog box.

	* files/dos_fs.c, graphics/Makefile.in, graphics/vga.c, msdos/Makefile.in, msdos/vga.c, objects/gdiobj.c:
	Moved MulDiv() and VGA routines out of GDI.

	* programs/wcmd/ChangeLog, programs/wcmd/README, programs/wcmd/batch.c, programs/wcmd/builtins.c, programs/wcmd/directory.c, programs/wcmd/wcmdmain.c, programs/wcmd/wcmdrc.rc:
	Dave Pickles <davep@cyw.uklinux.net>
	Added support for ERRORLEVEL.
	Most errors reported via FormatMessage().
	COPY command now works correctly if output specifier is a directory.

	* dlls/comctl32/treeview.c:
	Susan Farley <sfarley@codeweavers.com>
	More consistent calculation of line height, scrolls a full item on
	line up/down.

	* dlls/comctl32/listview.c, include/listview.h:
	Aric Stewart <aric@codeweavers.com>
	Fixed a few bugs including one with setting extended styles and
	editing labels.
	Implemented the LVS_EX_FULLROWSELECT extended style.
	Begin an implementation of virtual list views (LVS_OWNERDATA style
	set).

	* include/ddraw.h:
	Marcus Meissner <marcus@jet.franken.de>
	Removed unnecessary X11 includes from ddraw.h.

	* loader/module.c: Peter Ganten <peter@ganten.org>
	WinExec16 should not split quoted filenames with spaces.

	* dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Aric Stewart <aric@codeweavers.com>
	Implemented InternetCheckConnectionA.

	* loader/dos/module.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed another non-Linux build failure.

	* dlls/crtdll/crtdll.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed 2 forward entries.

	* dlls/comctl32/status.c:
	Marcus Meissner <marcus@jet.franken.de>
	Removed some flicker by detecting if we set the same value again.

	* controls/listbox.c: Gerard Patel <g.patel@wanadoo.fr>
	Change logic of listbox resizing for 16 bits apps for lists without
	LBS_NOINTEGRALHEIGHT style.

	* objects/dc.c: Phillip Ezolt <ezolt@perf.zko.dec.com>
	Fixed CreateDC to work properly when it is called with a device.

	* programs/wcmd/batch.c, programs/wcmd/builtins.c, programs/wcmd/wcmd.h, programs/wcmd/wcmdmain.c:
	Jason Edmeades <jason@the-edmeades.fsnet.co.uk>
	- Support whitespace around commands better, and support the @
	  prefix better
	- Enhance the set support to unset, display value error correctly
	- Enhance the command line support for parms, and env var expansion
	- Enhance the echo command to not loose whitespace, and display
	  output with % signs better

	* configure, configure.in, include/regstr.h, programs/Makefile.in, programs/uninstaller/.cvsignore, programs/uninstaller/Makefile.in, programs/uninstaller/README, programs/uninstaller/main.c, programs/uninstaller/main.h, programs/uninstaller/rsrc.rc, programs/uninstaller/uninstaller.spec:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added an uninstaller for InstallShield, WISE etc.

	* windows/x11drv/wnd.c:
	Jean-Claude Batista <jcb@macadamian.com>
	Provide position hints for window managers.

2000-07-31  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/init.c, include/monitor.h, include/sysmetrics.h, include/ttydrv.h, include/x11drv.h, misc/main.c, windows/multimon.c, windows/sysmetrics.c, windows/ttydrv/init.c, windows/user.c, windows/win.c, windows/x11drv/init.c, windows/x11drv/mouse.c, dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/dga2.c, dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw/x11.c, dlls/ddraw/direct3d/main.c, dlls/ddraw/direct3d/mesa.c, dlls/dinput/dinput_main.c, dlls/gdi/wing.c, dlls/shell32/brsfolder.c, dlls/shell32/shell32_main.c, dlls/ttydrv/ttydrv_main.c, dlls/x11drv/x11drv_main.c, graphics/painting.c, graphics/ttydrv/dc.c, dlls/ddraw/dga.c, dlls/ddraw/dga2.c, dlls/ddraw/helper.c, dlls/ddraw/main.c, dlls/ddraw/x11.c:
	Cleaned up some more USER dependencies.

	* include/wingdi.h, include/winuser.h:
	Moved system metrics definitions to winuser.h.

	* debugger/stack.c: Ove Kaaven <ovek@arcticnet.no>
	Tidyed up stack backtrace code a bit, and added a simple special
	case for backtracing from a null EIP.

	* files/file.c, server/file.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fix for 64-bit negative seek value.

	* include/module.h, msdos/int2f.c:
	Ove Kaaven <ovek@arcticnet.no>
	Removed DOS task fields from the NE_MODULE structure.

	* loader/task.c:
	Skip quoted program name when building command line.

	* scheduler/process.c: Ove Kaaven <ovek@arcticnet.no>
	DOS binary support has been restored.

	* debugger/Makefile.in, dlls/kernel/Makefile.in, dlls/kernel/toolhelp.c, misc/Makefile.in, misc/toolhelp.c, windows/user.c:
	Moved toolhelp implementation into kernel32 dll.

	* include/pe_image.h, loader/pe_resource.c, loader/resource.c:
	Backed out FindResource language patch.

	* loader/dos/dosvm.c, msdos/int09.c:
	Ove Kaaven <ovek@arcticnet.no>
	Fixed a few problems.

	* dlls/kernel/messages/winerr_enu.mc:
	Dave Pickles <davep@cyw.uklinux.net>
	Added text for all messages included in win95 and winNT.

	* dlls/kernel/format_msg.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added { } around stuff in ADD_TO_T macros.

	* include/dosexe.h, loader/dos/module.c:
	Ove Kaaven <ovek@arcticnet.no>
	Convert DOS (MZ) binary loader to the new DOS process model.

	* msdos/dpmi.c: Ove Kaaven <ovek@arcticnet.no>
	Use MZ_Current() instead of pModule->lpDosTask. Cleaned up the RMCB32
	assembly code a bit, and wrapped it in #ifdef __i386__.

2000-07-30  Alexandre Julliard  <julliard@winehq.com>

	* if1632/thunk.c, include/callback.h, include/keyboard.h, loader/dos/dosvm.c, misc/main.c, objects/bitmap.c, objects/dib.c, objects/palette.c, windows/keyboard.c:
	Cleaned up a few USER dependencies.

	* include/dosexe.h, loader/dos/module.c, msdos/dpmi.c:
	Ove Kaaven <ovek@arcticnet.no>
	Removed hModule parameter from MZ_AllocDPMITask(), and renamed
	MZ_KillModule() to MZ_KillTask().

	* configure, configure.in:
	Create dll/kernel/messages directory.

	* include/miscemu.h, msdos/dosmem.c:
	Ove Kaaven <ovek@arcticnet.no>
	Made DOSMEM_Init() take a BOOL parameter instead of a HMODULE16, and
	initialize DOS memory properly in the new process model. Made
	DOSMEM_MemoryBase() use MZ_Current()->img instead of pModule->dos_image.

	* loader/task.c: Ove Kaaven <ovek@arcticnet.no>
	Removed usage of obsolete pModule->lpDosTask.

2000-07-29  Alexandre Julliard  <julliard@winehq.com>

	* include/winbase.h, include/winuser.h, loader/resource.c, memory/atom.c, memory/environ.c, misc/comm.c, misc/lstr.c, objects/gdiobj.c, objects/region.c, objects/text.c, relay32/builtin32.c, relay32/snoop.c, win32/device.c, win32/except.c, debugger/winedbg.c, dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, graphics/painting.c, graphics/x11drv/xfont.c, if1632/snoop.c:
	Removed some unnecessary inclusions of wingdi.h and winuser.h

	* dlls/ntdll/exception.c, dlls/ntdll/nt.c, dlls/ntdll/ntdll.spec, dlls/ntdll/om.c, dlls/ntdll/reg.c, dlls/ntdll/rtl.c, dlls/ntdll/rtlstr.c, dlls/ntdll/sec.c, dlls/ntdll/sync.c, dlls/ntdll/time.c, include/ntddk.h, loader/module.c:
	Removed a few external dependencies from ntdll.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/stubs.c, dlls/oleaut32/typelib.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added CreateTypeLib,LHashValOfNameSys stubs.
	Check for correct struct magic before reading out of it.

	* dlls/comctl32/Makefile.in, dlls/comctl32/comctl32.spec, dlls/comctl32/smoothscroll.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented SmoothScrollWindow.

	* msdos/dosmem.c: Ove Kaaven <ovek@arcticnet.no>
	Fill BIOS segments using pointers from DOSMEM_Bios* functions, instead
	of pointers from global heap functions.

	* dlls/kernel/format_msg.c:
	Marcus Meissner <marcus@jet.franken.de>
	Get rid of USER32 functions in KERNEL32.

	* include/dosexe.h, loader/dos/dosvm.c:
	Ove Kaaven <ovek@arcticnet.no>
	Added support for the Win32 Console interface to the main DOSVM event
	loop. Cleaned up event dispatching code a bit.

	* msdos/int21.c: Ove Kaaven <ovek@arcticnet.no>
	Make direct console input routines go through int16, rather than
	reading directly from the console driver.

	* programs/notepad/Makefile.in, programs/osversioncheck/Makefile.in, programs/progman/Makefile.in, programs/wcmd/Makefile.in, programs/winhelp/Makefile.in, programs/winver/Makefile.in, libtest/Makefile.in, programs/clock/Makefile.in, programs/control/Makefile.in:
	Francois Gouget <fgouget@psn.net>
	ole32 now requires linking with kernel32
	shell32 now requires linking with kernel32 and shlwapi

	* dlls/winaspi/winaspi16.c, dlls/winsock/socket.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	We always have strerror, so no need to ifdef HAVE_STRERROR.

	* windows/win.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Initialize hrgnWnd.

	* configure, configure.in:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Fix the GLEXT function prototype typedefs detection.

	* loader/dos/dosvm.c, msdos/int09.c, msdos/ioports.c, include/miscemu.h:
	Ove Kaaven <ovek@arcticnet.no>
	Let Int09 routines remember a keystroke's ASCII code, if available.

	* msdos/int33.c: Ove Kaaven <ovek@arcticnet.no>
	Added some int33 function stubs.

	* msdos/int10.c: Ove Kaaven <ovek@arcticnet.no>
	Changed a few core int10 routines to use the BIOS data segment cursor
	positions and the VGA routines, instead of directly accessing the
	console driver.

	* dlls/ole32/compobj.c, dlls/ole32/ole32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented OleGetAutoConvert.

	* include/pe_image.h, loader/pe_resource.c, loader/resource.c, misc/main.c, ole/ole2nls.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	FindResourceExA/W should search for the specified language resource only.
	FindResourceA/W should search for any language resource.

	* include/ts_xlib.h, tsx11/X11_calls, tsx11/ts_xlib.c, dlls/ddraw/dsurface/x11.c:
	Marcus Meissner <marcus@jet.franken.de>
	No longer crash when running with DirectDraw with a DDClipper in
	-desktop mode.

	* windows/nonclient.c:
	Francois Boisvert <francois@macadamian.com>
	NC_DoNCHitTest now returns HTNOWHERE like Windows is doing when
	clicking on a window having a customize non client area.

2000-07-28  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/dib.c, include/x11drv.h:
	Ove Kaaven <ovek@transgaming.com>
	Add X11DRV_DIB_UpdateDIBSection2 that takes a HBITMAP parameter.

	* memory/codepage.c:
	Wolfgang Schwotzer <woschwot@gmx.net>
	Added NULL pointer checks.

	* include/acconfig.h, include/config.h.in, include/ts_shape.h, include/ttydrv.h, include/win.h, include/x11drv.h, tools/make_X11wrappers, tsx11/Makefile.in, tsx11/X11_calls, tsx11/ts_shape.c, windows/ttydrv/init.c, windows/ttydrv/wnd.c, windows/winpos.c, windows/x11drv/init.c, windows/x11drv/wnd.c, configure, configure.in, dlls/x11drv/x11drv_main.c:
	Francois Jacques <francoisj@macadamian.com>
	- implementation of SetWindowsRgn and GetWindowRgn
	- X11DRV and TTYDRV updated with new API SetWindowRgn

	* include/miscemu.h, include/winnt.h, loader/dos/module.c, memory/global.c, msdos/dosmem.c, msdos/dpmi.c, msdos/int21.c, msdos/interrupts.c:
	Ove Kaaven <ovek@arcticnet.no>
	Removed the hModule parameter from various DOSMEM routines, the DOSMEM
	routines now always use the current memory space.

	* include/shlwapi.h: Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* tools/winapi_check/modules.dat, tools/winapi_check/win32/shlwapi.api:
	Patrik Stridvall <ps@leissner.se>
	Minor API files update.

	* tools/wmc/mcy.y: Patrik Stridvall <ps@leissner.se>
	Solaris specific fixes.

	* windows/x11drv/event.c, windows/defwnd.c:
	Stephane Lussier <stephane@macadamian.com>
	Now the service thread is no more in charge of erasing the background
	of the Window. Service thread is doing the invalidation part, and the
	application thread is doing the erasing part. All this has been
	implemented using WM_SYNCPAINT message.

	* dlls/ole32/ole2stubs.c, dlls/ole32/ole32.spec:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Added stub for OLE32.OleSetAutoConvert needed by Adobe Photoshop 4.0.

	* windows/x11drv/event.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Do not crash if window was not found.

	* windows/dialog.c, windows/painting.c:
	Stephane Lussier <stephane@macadamian.com>
	- UpdateWindow should refresh all children that have an update region.
	- In DIALOG_CreateIndirect UpdateWindow shouldn't be called. Wine will generate
	  a WM_PAINT eventually for the dialog, no need to force a paint right away.
	(based on a patch from James Hatheway in the Corel tree)

	* msdos/int21.c, msdos/int2f.c:
	Ove Kaaven <ovek@arcticnet.no>
	Just get DOS task structure from MZ_Current(), instead of (clumsily)
	trying to find and read from the current task's module structures.

	* msdos/dpmi.c: Ove Kaaven <ovek@arcticnet.no>
	Make a global asm helper function to handle 32-bit RMCB calls, so we
	don't need those complex constraints either.

	* windows/message.c: Ove Kaaven <ovek@arcticnet.no>
	Always get a hardware message from the system queue in PeekMessage,
	even if no such wake bits are set, because in a PeekMessage loop,
	there's no sleeping, so the necessary wake bits are never set...

	* dlls/oleaut32/olefont.c, include/olectl.h:
	Huw D M Davies <hdavies@codeweavers.com>
	Add Connection Point support to OLE font objects.
	Add some more TRACE()s.

	* dlls/*/*.spec:
	Added 'owner' field to 16-bit spec files to specify the name of the
	32-bit dll that contains it.

2000-07-26  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winmm/Makefile.in, dlls/winmm/sound.spec, dlls/winmm/sound16.c, include/stress.h, include/wine/winesound.h, Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/kernel/Makefile.in, dlls/kernel/stress.c, dlls/kernel/stress.spec, dlls/setupapi/.cvsignore, dlls/setupapi/Makefile.in, dlls/setupapi/setupx.spec, dlls/setupapi/setupx_main.c:
	Merged setupx.dll into setupapi.dll.
	Merged sound.dll into winmm.dll.
	Merged stress.dll into kernel32.dll.

	* dlls/dciman32/Makefile.in, dlls/dciman32/dciman_main.c, dlls/dplay/Makefile.in, dlls/dplay/dplay_main.c, dlls/msnet32/Makefile.in, dlls/msnet32/msnet_main.c, dlls/shfolder/Makefile.in, dlls/shfolder/shfolder.spec, dlls/shfolder/shfolder_main.c, dlls/wow32/Makefile.in, dlls/wow32/wow_main.c:
	Added a few empty source files so that each dll has at least one C
	file.

	* dlls/winmm/mciseq/mcimidi.c, dlls/winmm/mciwave/mciwave.c, dlls/winmm/midimap/midimap.c, dlls/winmm/wavemap/wavemap.c, dlls/winmm/wineoss/audio.c, dlls/winmm/wineoss/midi.c, dlls/winmm/wineoss/mixer.c, dlls/winmm/wineoss/mmaux.c, dlls/winmm/wineoss/oss.c, include/driver.h, include/mmsystem.h, include/msacm.h, include/vfw.h, programs/avitools/icinfo.c, windows/driver.c, dlls/comctl32/animate.c, dlls/msacm/driver.c, dlls/msacm/internal.c, dlls/msvideo/drawdib.c, dlls/msvideo/msvideo_main.c, dlls/winmm/joystick.c, dlls/winmm/joystick/joystick.c, dlls/winmm/lolvldrv.c, dlls/winmm/mci.c, dlls/winmm/mcianim/mcianim.c, dlls/winmm/mciavi/mciavi.c, dlls/winmm/mcicda/mcicda.c, dlls/winmm/mmsystem.c, dlls/avifil32/avifile.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	- removed (now obsolete) driver.h file (it's content is now in mmsystem.h)
	- upgraded vfw.h content

	* msdos/dpmi.c: Avoid clobbering %ebx.

	* loader/ne/module.c:
	Return the proper error code when a 16-bit task failed to start
	(thanks to Peter Ganten).

	* documentation/HOWTO-winelib:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Adapted to the recent winebuild rename.

	* loader/module.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added detection code for very old Windows (1.1, 2.0, ...) binaries to
	MODULE_GetBinaryType().

	* dlls/shell32/shellreg.c, dlls/shell32/shellstring.c, dlls/shlwapi/Makefile.in, dlls/shlwapi/ordinal.c, dlls/shlwapi/path.c, dlls/shlwapi/reg.c, dlls/shlwapi/regstream.c, dlls/shlwapi/shlwapi.spec, dlls/shlwapi/shlwapi_main.c, dlls/shlwapi/string.c, dlls/Makefile.in, dlls/shell32/Makefile.in, dlls/shell32/regstream.c, dlls/shell32/shell32.spec, dlls/shell32/shell32_main.c, dlls/shell32/shellord.c, dlls/shell32/shellpath.c:
	Moved shlwapi routines from shell32.dll to shlwapi.dll.

2000-07-25  Alexandre Julliard  <julliard@winehq.com>

	* Make.rules.in, Makefile.in, configure, configure.in, dlls/Makedll.rules.in, server/Makefile.in, server/atom.c, server/registry.c, server/unicode.c, server/unicode.h, tools/wmc/Makefile.in, unicode/.cvsignore, unicode/Makefile.in:
	Make unicode.o into a separate ELF library so that we can use it from
	the wineserver too.

	* files/drive.c, include/cdrom.h, misc/cdrom.c, msdos/int2f.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	- fixed a gross bug in SetCurrentDirectoryA (where changing to a new
	  non-existent directory would leave the new drive enabled upon aborting
	  (fixes CuteFTP install and should fix MANY apps)
	  This has probably been caused by myself. *brownpaperbag*
	- added GetVolumeInformation serial number bug-for-bug compatibility
	- corrected Unicode labels (better CD-ROM handling in general)
	- moved CD-ROM label detection code to misc/cdrom.c
	- possible to use loopback mounted ISO9660 files
	- init some uninitialised drive fields
	- remove some unnecessary header includes

	* windows/winpos.c:
	Susan Farley <sfarley@codeweavers.com>
	Don't destroy the caret on SWP_HIDEWINDOW.

	* dlls/kernel/.cvsignore, dlls/kernel/Makefile.in, dlls/kernel/format_msg.c, dlls/kernel/kernel.rc, dlls/kernel/kernel32.spec, dlls/kernel/messages/.cvsignore, dlls/kernel/messages/winerr_enu.mc, loader/resource.c, misc/lstr.c:
	Dave Pickles <davep@cyw.uklinux.net>
	Improved FormatMessage:
	- Added full support for FORMAT_MESSAGE_FROM_SYSTEM
	- Implemented language search as documented
	- Illegal combinations of options trapped.
	- Message table for system messages added.

	* include/winbase.h, include/winuser.h:
	Moved FORMAT_MESSAGE flags definition to winbase.h.

	* Make.rules.in:
	Added rules for message compiler .mc files.

	* dlls/winsock/socket.c, dlls/wsock32/socket.c, dlls/wsock32/wscontrol.h:
	James Hatheway <james@macadamian.com>
	Portability fixes.

	* dlls/rpcrt4/rpcrt4_main.c, dlls/serialui/serialui.spec, misc/comm.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed issues found by winapi_check.

	* tools/winapi_check/win32/rasapi32.api, tools/winapi_check/win32/rpcrt4.api, tools/winapi_check/win32/serialui.api, tools/winapi_check/win32/ws2_32.api, tools/winapi_check/modules.dat, tools/winapi_check/win16/setupx.api:
	Patrik Stridvall <ps@leissner.se>
	Minor API files update.

	* tools/wrc/CHANGES, tools/wrc/Makefile.in, tools/wrc/README.wrc, tools/wrc/parser.y, tools/wrc/utils.c, tools/wrc/wrc.h, tools/wrc/wrc.man:
	Bertho Stultiens <bertho@akhphd.au.dk>
	- Implemented a bug-work-around for Berkeley yacc (byacc) which
	  does not generate proper default transition rules for non-terminals.
	  See comments in parser.y how the fix works.
	- Changed the error-line/char position to make emacs happy parsing
	  the position of the error.
	- Added comments in the documentation in which order the line-numer
	  and character-position of the error is written.

	* msdos/dpmi.c: Ove Kaaven <ovek@arcticnet.no>
	Use lcall opcodes, so all gas-es understand it...

	* dlls/win32s/Makefile.in, dlls/win32s/w32skrnl.spec, if1632/relay.c, if1632/thunk.c, include/flatthunk.h, misc/Makefile.in, misc/w32scomb.c, relay32/Makefile.in, relay32/utthunk.c, relay32/wowthunk.c, win32/kernel32.c, win32/ordinals.c, dlls/Makefile.in, dlls/kernel/Makefile.in, dlls/kernel/flatthunk.h, dlls/kernel/kernel_main.c, dlls/kernel/thunk.c, dlls/kernel/utthunk.c, dlls/kernel/wowthunk.c, dlls/ole32/Makefile.in, dlls/ole32/ole32.spec:
	Moved thunking functions off to kernel32.dll.

	* Make.rules.in, Makefile.in, dlls/Makefile.in, dlls/advapi32/.cvsignore, dlls/advapi32/Makefile.in, dlls/ntdll/sec.c, memory/Makefile.in, memory/registry.c:
	Temporarily moved advapi32 registry support back into libwine.so, and
	made advapi32 a separate dll.

	* debugger/break.c, debugger/debugger.h, debugger/expr.c, debugger/memory.c, debugger/source.c, debugger/stabs.c, debugger/winedbg.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	fixed a number of long standing bugs:
	    - segmented expressions didn't display correctly
	    - using dynamic size array for nested types parsing
	    - correct display of source code after a crash
	factorized some code

	* dlls/gdi/wing.c, dlls/gdi/wing.spec, Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/gdi/Makefile.in:
	Merged wing.dll into gdi32.dll.

	* dlls/comctl32/listview.c:
	Aric Stewart <aric@codeweavers.com>
	Prevent the attempt to draw invalid image indexes.
	Provide the two pixel buffer between the image and the label.

	* dlls/oleaut32/Makefile.in, dlls/oleaut32/connpt.c, dlls/oleaut32/connpt.h:
	Huw D M Davies <hdavies@codeweavers.com>
	A generic implemention of IConnectionPoint/IEnumConnections.

	* tools/fnt2bdf.c, tools/fnt2bdf.h, include/wine/wingdi16.h:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Make fnt2bdf produce correct fonts.

	* msdos/int16.c: Ove Kaaven <ovek@arcticnet.no>
	Make int16 read from the BIOS keyboard buffer, not directly from the
	console driver.

	* msdos/dpmi.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed broken assembler. Removed support for old protected-mode hack
	for running real-mode code on platforms that don't support vm86; the
	current CallRM->RMCB shortcut code should take care of all
	Wine-supplied RM APIs (such as DOSASPI) anyway.

	* files/directory.c, include/task.h, loader/ne/module.c, loader/task.c:
	Perform NE_InitProcess in the context of the new task.

2000-07-24  Alexandre Julliard  <julliard@winehq.com>

	* dlls/msacm/.cvsignore, dlls/msacm/Makefile.in, dlls/msacm/driver.c, dlls/msacm/filter.c, dlls/msacm/format.c, dlls/msacm/internal.c, dlls/msacm/msacm32.spec, dlls/msacm/msacm32_main.c, dlls/msacm/stream.c, dlls/msacm/wineacm.h, Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/kernel/.cvsignore, dlls/kernel/Makefile.in, dlls/kernel/win87em.c, dlls/kernel/win87em.spec, dlls/kernel/windebug.c, dlls/kernel/windebug.spec:
	Merged msacm and msacm32 dlls.
	Merged win87em and windebug into kernel32.dll.

2000-07-23  Alexandre Julliard  <julliard@winehq.com>

	* programs/progman/group.c, programs/progman/grpfile.c, programs/progman/program.c, programs/regapi/regapi.c, programs/winhelp/hlp2sgml.c, programs/winhelp/winhelp.c:
	Francois Gouget <fgouget@psn.net>
	Fixed int/HANDLE mismatches revealed by -DSTRICT.
	Replaced the Win16 hmemcpy16 (obsolete) with memcpy.

	* programs/progman/main.c:
	Francois Gouget <fgouget@psn.net>
	Fixed WinMain's signature.
	Replaced the Win16 hmemcpy16 (obsolete) with memcpy.
	Removed obsolete references to the Languages array.

	* programs/clock/language.c, programs/notepad/language.c, programs/progman/string.c:
	Francois Gouget <fgouget@psn.net>
	Removed obsolete references to the Languages array.

	* programs/clock/main.c:
	Francois Gouget <fgouget@psn.net>
	Fixed WinMain's signature.
	Fixed parameter order for the call to CreateWindow.

	* libtest/hello.c, libtest/hello2.c, libtest/hello3.c, libtest/hello4.c, libtest/hello5.c, libtest/new.c, libtest/rolex.c, libtest/vartest.c, programs/notepad/main.c, programs/winver/winver.c:
	Francois Gouget <fgouget@psn.net>
	Fixed WinMain's signature.

	* programs/wcmd/Makefile.in, programs/winemine/Makefile.in, programs/winhelp/Makefile.in, programs/winver/Makefile.in, programs/clock/Makefile.in, programs/cmdlgtst/Makefile.in, programs/control/Makefile.in, programs/notepad/Makefile.in, programs/osversioncheck/Makefile.in, programs/progman/Makefile.in, programs/regapi/Makefile.in, programs/regtest/Makefile.in, programs/view/Makefile.in, libtest/Makefile.in:
	Francois Gouget <fgouget@psn.net>
	Added -DSTRICT.
	Added missing libraries comctl32 and rpcrt4.

	* dlls/winsock/socket.c, dlls/winsock/ws2_32.spec, dlls/wsock32/socket.c, dlls/wsock32/wscontrol.h:
	James Hatheway <james@macadamian.com>
	Adds an initial WSAIoctl function with support for only the
	SIO_GET_INTERFACE_LIST command.  Adds initial code to WsControl
	function to support the WSCNTL_TCPIP_QUERY_INFO command.

	* dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dtexture.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Compilation fixes for OpenGL.

	* Make.rules.in: Mike_McCormack@looksmart.com.au
	Corrected c2man flags. It still crashes anyhow :-/

	* configure, configure.in, dlls/ddraw/d3ddevice/mesa.c, include/acconfig.h, include/config.h.in:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Detect broken glext.h headers.

	* programs/notepad/dialog.c, programs/notepad/main.c, programs/notepad/main.h:
	Mike_McCormack@looksmart.com.au
	Added some basic text display and editing capabilities, cursor
	positioning, a bit of scrolling and a text file loader.

	* include/tapi.h: Mike_McCormack@looksmart.com.au
	Implemented lineGetCountry. (works with HyperTrm.exe)

	* dlls/commdlg/cdlg_Ca.rc, dlls/commdlg/cdlg_Cs.rc, dlls/commdlg/cdlg_Da.rc, dlls/commdlg/cdlg_De.rc, dlls/commdlg/cdlg_En.rc, dlls/commdlg/cdlg_Eo.rc, dlls/commdlg/cdlg_Es.rc, dlls/commdlg/cdlg_Fi.rc, dlls/commdlg/cdlg_Fr.rc, dlls/commdlg/cdlg_Hu.rc, dlls/commdlg/cdlg_It.rc, dlls/commdlg/cdlg_Ja.rc, dlls/commdlg/cdlg_Ko.rc, dlls/commdlg/cdlg_Nl.rc, dlls/commdlg/cdlg_No.rc, dlls/commdlg/cdlg_Pl.rc, dlls/commdlg/cdlg_Pt.rc, dlls/commdlg/cdlg_Ru.rc, dlls/commdlg/cdlg_Sk.rc, dlls/commdlg/cdlg_Sv.rc, dlls/commdlg/cdlg_Wa.rc, dlls/commdlg/colordlg.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Focus handling, visual changes + misc fixes.

	* dlls/tapi32/line.c: Mike_McCormack@looksmart.com.au
	Implemented lineGetCountry. (works with HyperTrm.exe)

	* include/winbase.h: Francois Gouget <fgouget@psn.net>
	Removed duplicate declaration of AddAccessAllowedAce.

	* dlls/comctl32/listview.c:
	Aric Stewart <aric@codeweavers.com>
	Handle the case where the function SetItem is called to select an item
	or set its focus.

	* dlls/ddraw/d3dlight.c, dlls/ddraw/mesa_private.h, dlls/dsound/dsound_main.c, include/d3dtypes.h, include/d3dvec.inl:
	Ove Kaaven <ovek@transgaming.com>
	Added a few C++ operators to Direct3D structures, and made some unions
	'nameless'.

	* dlls/winsock/async.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Insured that all parameters of async functions are copied before
	returnig from request.

	* controls/scroll.c, documentation/distributors, documentation/x11drv, tools/wineconf:
	Ove Kaaven <ovek@arcticnet.no>
	Fix a few typos and such.

	* include/d3d.h, include/ddraw.h:
	Ove Kaaven <ovek@transgaming.com>
	Added some DirectDraw7-related definitions.

	* configure, configure.in, include/config.h.in:
	Marcus Meissner <marcus@jet.franken.de>
	Make non-existence of (f)lex an error.

	* dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/dga2.c, dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw/x11.c, dlls/ddraw/dpalette/dga.c, dlls/ddraw/dpalette/main.c, dlls/ddraw/dpalette/x11.c, dlls/ddraw/dsurface/dga.c, dlls/ddraw/dsurface/dga2.c, dlls/ddraw/dsurface/x11.c, dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/ddraw_private.h, dlls/ddraw/dga.c, dlls/ddraw/dga2.c, dlls/ddraw/main.c, dlls/ddraw/x11.c:
	Marcus Meissner <marcus@jet.franken.de>
	IDirectDraw,IDirectDraw2,IDirectDraw4 fixed up in regard to COM usage.

	* include/winuser.h: Ove Kaaven <ovek@arcticnet.no>
	Added a few Win32 definitions.

	* include/winspool.h: Ove Kaaven <ovek@arcticnet.no>
	Reduce scope of "Status" #ifdef hack.

	* if1632/relay.c, relay32/builtin32.c:
	Ove Kaaven <ovek@arcticnet.no>
	Say that "No handler" messages as fatal.

	* winedefault.reg: Fixed SharedDir location.

	* loader/dos/dosvm.c, msdos/dpmi.c, dlls/ntdll/signal_i386.c, include/winnt.h:
	Ove Kaaven <ovek@arcticnet.no>
	Change the V86BASE macro to call DOSMEM_MemoryBase() instead of using
	the ugly Dr7 hack.

	* dlls/winmm/mmio.c, dlls/winmm/wineoss/audio.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed first seek on MEM mmio files.

	* dlls/commdlg/fontdlg.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Remove calls to DIALOG_DoDialogBox and DIALOG_CreateIndirect.

	* dlls/wininet/http.c:
	John R. Sheets <jsheets@codeweavers.com>
	Add a few more fields to HTTP_GetStdHeaderIndex() and fix some typos.

	* dlls/wininet/internet.c:
	John R. Sheets <jsheets@codeweavers.com>
	Put the URL parameter list in with the URL path if the ExtraInfo
	buffer isn't specified.

	* controls/icontitle.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Fixed calculation of buffer length after switch of window text to
	unicode.

	* debugger/memory.c: Ove Kaaven <ovek@arcticnet.no>
	Comment out a nonfunctional DOS part of debugger.

	* dlls/rasapi32/rasapi.c, dlls/rasapi32/rasapi32.spec:
	Ove Kaaven <ovek@arcticnet.no>
	Added stub for RasHangUpA().

	* windows/defwnd.c: Ove Kaaven <ovek@arcticnet.no>
	DefWindowProc should pass unhandled WM_MOUSEWHEEL to parent, according
	to documentation.

	* tools/wineinstall: Ove Kaaven <ovek@arcticnet.no>
	Fixed a few problems.

	* dlls/comctl32/toolbar.c:
	David Elliott <dfe@infinite-internet.net>
	- Changed the temporary buffer for loading resources from 256 to 512
	- Define MAX_RESOURCE_STRING_LENGTH instead of using it magically throughout
	  the function
	- Use lstrcpynW instead of lstrcpyW

2000-07-16  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, include/version.h:
	Release 20000716.

----------------------------------------------------------------
2000-07-16  Alexandre Julliard  <julliard@winehq.com>

	* windows/winproc.c:
	Added assembly wrapper for calling window procedures.

	* include/main.h, include/options.h, include/process.h, loader/dos/module.c, loader/main.c, misc/options.c, scheduler/client.c, scheduler/process.c:
	Get full path of argv[0] before we change directories.
	Make sure process names are long path names.
	Cleaned up initialisation a bit.

	* server/sock.c:
	Stephane Lussier <stephane@macadamian.com>
	In set_socket_event, the event should be signaled if there's a pending
	network event corresponding to the events the application wanted to be
	notified.

	* dlls/winspool/info.c, files/file.c, graphics/x11drv/xfont.c, loader/task.c, windows/class.c, dlls/odbc32/proxyodbc.c, dlls/ole32/datacache.c, dlls/oleaut32/olefont.c, dlls/oleaut32/olepicture.c, dlls/richedit/richedit.c, dlls/rpcrt4/rpcrt4_main.c, dlls/serialui/confdlg.c, dlls/wininet/internet.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Spelling fixes.

	* loader/elfdll.c, loader/ne/module.c, tools/wineinstall, documentation/wine.man.in, include/winuser.h:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Doc and trace updates.

	* include/process.h, loader/module.c, scheduler/process.c:
	Marcus Meissner <marcus@jet.franken.de>
	Transmit current directory settings to newly created processes.

	* documentation/installation-und-konfiguration.german:
	Peter Ganten <peter@ganten.org>
	Added German installation and configuration manual.

	* windows/x11drv/keyboard.c:
	Raul Fernandes <rgf@ieg.com.br>
	Added Brazilian keyboard.

	* controls/listbox.c: Gerard Patel <g.patel@wanadoo.fr>
	Set clipping region to client window before owner-drawn painting.

	* winedefault.reg:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added the "SharedDir" registry key.

	* include/acconfig.h, include/config.h.in, configure, configure.in, dlls/ddraw/d3d_private.h, dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3dmaterial.c, dlls/ddraw/d3dtexture.c, dlls/ddraw/ddraw_private.h, dlls/ddraw/dga.c, dlls/ddraw/direct3d/mesa.c, dlls/ddraw/dsurface/x11.c, dlls/ddraw/mesa.c, dlls/ddraw/mesa_private.h, dlls/ddraw/x11_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- fix Direct3D support and a lot of warnings
	- add support for DDraw in a window (not optimized yet)
	- cleans up OpenGL extensions handling for D3D

	* controls/static.c: Gerard Patel <g.patel@wanadoo.fr>
	Background of SS_SIMPLE static control is not filled (unless it has
	SS_NOPREFIX too).

	* files/directory.c:
	Marcus Meissner <marcus@jet.franken.de>
	Drop UNIX cwd to / after calculating WINE current directory (to allow
	CD unmounts).

2000-07-15  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/dib.c:
	Stephane Lussier <stephane@macadamian.com>
	New version of the patch from Francois Jacques with a modification of
	my own that makes everybody happy :-)

	* misc/comm.c, dlls/kernel/kernel32.spec:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Hook serialui dll into existing comm functions.

	* Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/serialui/.cvsignore, dlls/serialui/Makefile.in, dlls/serialui/confdlg.c, dlls/serialui/serialui.h, dlls/serialui/serialui.spec, dlls/serialui/serialui_rc.rc:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	Implemented serialui dll containing CommConfigDialog,
	GetDefaultCommConfig and SetDefaultCommConfig.

	* dlls/shell32/shell.c, dlls/winaspi/aspi.c, dlls/winmm/wineoss/audio.c, dlls/dsound/dsound_main.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* tools/winapi_check/modules.dat, tools/winapi_check/win32/crtdll.api, tools/winapi_check/win32/kernel32.api, tools/winapi_check/win32/ntdll.api, tools/winapi_check/win32/oleaut32.api, tools/winapi_check/win32/setupapi.api, tools/winapi_check/win32/shlwapi.api, tools/winapi_check/win32/user32.api, tools/winapi_check/win32/ws2_32.api, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_local.pm, tools/winapi_check/winapi_options.pm:
	Patrik Stridvall <ps@leissner.se>
	- Minor API files fixes.
	- Minor bug fixes and additions.

	* dlls/crtdll/crtdll_main.c, dlls/shell32/shellpath.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* controls/button.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	All standard window controls should have CS_PARENTDC, but should still
	clip to the control window.

	* windows/message.c:
	John R . Sheets <jsheets@codeweavers.com>
	We also have to validate the frame to avoid an infinite loop when the
	app doesn't call BeginPaint.

	* scheduler/handle.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Extend the WSOCK32 warning in certain functions to mention WS2_32 too.

	* dlls/winmm/wineoss/mixer.c:
	Ed Snow <ed_snow@ttmengineering.com>
	Fixes unmuting when unmuted.
	Unifies scale reported with scale used for volume control.
	Hack for Bass/Treble until better fix is complete.

	* graphics/x11drv/xfont.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added DBCS/unicode encoding templates.

	* controls/combo.c:
	Susan Farley <sfarley@codeweavers.com>
	Don't clear selection when initial entry is not in the list.

	* include/main.h, include/ntddk.h, include/options.h, misc/main.c, misc/options.c, ole/ole2nls.c:
	Made --language behave the same as setting the LANGUAGE environment
	variable.

	* Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/ole32/Makefile.in, dlls/ole32/compobj.c, dlls/ole32/ole2stubs.c, dlls/ole32/ole32.spec, dlls/rpcrt4/.cvsignore, dlls/rpcrt4/Makefile.in, dlls/rpcrt4/rpcrt4.spec, dlls/rpcrt4/rpcrt4_main.c, include/rpc.h, include/wtypes.h, loader/loadorder.c:
	Huw D M Davies <hdavies@codeweavers.com>
	Create rpcrt4.dll.
	Implement UuidCreate (using existing code from CoCreateGuid).
	CoCreateGuid calls UuidCreate.

	* memory/heap.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fix for supporting DBCS.

	* dlls/comctl32/toolbar.c:
	Rob Farnum <rfarnum@mindspring.com>
	Ignore iBitmap width when drawing flat toolbar.

	* loader/pe_image.c: Peter Ganten <peter@ganten.org>
	Fixed a file descriptor leak in the PE loader.

	* windows/winpos.c:
	Jean-Claude Batista <jcb@macadamian.com>
	Ensure the validity of hOldFocus before calling WIN_GetTopParent.

	* graphics/x11drv/xfont.c:
	Drew Ronneberg <drew@codon.princeton.edu>
	Ignore broken fonts when building cache file.

	* windows/win.c: Gerard Patel <g.patel@wanadoo.fr>
	Allow SetWindowLong(... GWL_STYLE) to change visible bit.

	* documentation/registry:
	Ove Kaaven <ovek@arcticnet.no>D
	Text of WWN article "The Registry".

	* dlls/winaspi/aspi.c, dlls/winaspi/winaspi32.c, dlls/winaspi/winescsi.h:
	David Elliott <dfe@infinite-internet.net>
	- New function in aspi.c SCSI_Fix_CMD_LEN which determines if Linux is
	  guessing the command length correctly, and if not, tell's it what's up.
	- Changed strcat to strcpy in SendASPI32Command to avoid requiring the
	  caller to clear the fields.
	- Added a new field to HA_Unique content to fix some applications.  Will
	  fix this for good at a later date.
	- Added TRACE to GetASPI32DLLVersion (and FIXME when not running under
	  Linux)
	- Added some constants to winescsi.h
	(with the help of Bernd Bernie Meyer <bmeyer@cs.monash.edu.au>)

	* dlls/user/user32.spec, windows/user.c:
	Peter Ganten <peter@ganten.org>
	Stubs for CreateDesktopA and EnumDesktopWindows.

	* loader/loadorder.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added ws2_32 loadorder.

	* tools/winebuild/main.c:
	Peter Ganten <peter@ganten.org>
	Try to unlink output file before opening it.

	* controls/edit.c:
	Marcus Meissner <marcus@jet.franken.de>
	Replaced %s by %p in EDIT_WM_SetText.

	* dlls/winsock/ws2_32.spec:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added WSAWaitForMultipleEvents (alias to WaitForMultipleObjectsEx).

	* loader/pe_image.c: Gerard Patel <g.patel@wanadoo.fr>
	Add a warning when the normal load address for a win32 program is not
	available.

	* dlls/oleaut32/Makefile.in, dlls/oleaut32/olepicture.c, dlls/oleaut32/stubs.c:
	Huw D M Davies <hdavies@codeweavers.com>
	OLE picture object implementation.

	* misc/comm.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed an incorrect format string.

	* loader/loadorder.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added loadorder entry for the Linux glide3x library.

	* winedefault.reg:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added "CommonFilesDir"="C:\Program Files\Common Files".

	* debugger/db_disasm.c:
	Ian Schmidt <ischmidt@cfl.rr.com>
	Added Pentium Pro/2/3/4 conditional move instructions.

2000-07-11  Alexandre Julliard  <julliard@winehq.com>

	* dlls/kernel/kernel_main.c, memory/codepage.c:
	Set ansi/oem/mac code pages from current locale.

	* scheduler/client.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Better error message for really clueless newbies.

	* dlls/msacm32/msacm32_main.c:
	James Hatheway <james@macadamian.com>
	Stub for the ACM_METRIC_MAX_SIZE_FORMAT command of acmMetrics.

	* dlls/ddraw/dsurface/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Check for NULL flipchain and just return the current surface if it
	happens.

	* dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented _vsnprintf by calling wvsnprintfA.

	* objects/dib.c:
	Stephane Lussier <stephane@macadamian.com>
	In CreateDIBSection function, if hdc is NULL it now uses the desktop DC
	instead of failing.

	* dlls/comctl32/toolbar.c:
	Chris Morgan <cmorgan@wpi.edu>
	Fixed TOOLBAR_DrawString() to offset button text if infoPtr->himlDef
	is non-zero.  Better fix than my previous patch.

2000-07-10  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/thread.c:
	Lazy initialisation of thread locale.

	* dlls/dplayx/Makefile.in, dlls/dplayx/dplay.c, dlls/dplayx/dplayx_global.c, dlls/dplayx/dplayx_global.h, dlls/dplayx/dplayx_main.c, dlls/dplayx/dplayx_messages.c, dlls/dplayx/dplayx_messages.h, dlls/dplayx/dplayx_queue.h, dlls/dplayx/dplobby.c, documentation/status/directplay, include/dplobby.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Make ref counting a little more efficient
	- Correct suspended process resumption
	- Don't use sys/queue.h anymore
	- Properly initialize the global semaphore across processes
	- Create a mapped file for shared data structures
	- Change some trace messages
	- Allocate dynamic shared data from the mapped file
	- Rework setting and retrieving lobby settings from shared memory
	- Add infrastructure for syncronization after app launch
	- Small documentation update
	- Include some stuff missing from header
	- Start on dp and dpl message infrastructure
	- Unicode versions of player/group commands added
	- Combined Connect/ConnectEx and Open/SecureOpen
	- More implementation

	* dlls/kernel/nls/*, dlls/kernel/.cvsignore, dlls/kernel/Makefile.in, dlls/kernel/kernel32.spec, dlls/kernel/locale_rc.rc:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Moved all NLS dependent data to the KERNEL resources.

	* scheduler/thread.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Moved setting the locale value to the right position.

	* misc/lstr.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed FormatMessage[A|16] against some buffer overflow cases.

	* debugger/info.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed extraneous trace message.

	* debugger/winedbg.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Unconditionnally print messages on DLL load breakpoint.

	* debugger/break.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Fixed winedbg watchpoints.

	* dlls/oleaut32/ole2disp.c:
	Francois Jacques <francoisj@macadamian.com>
	Prevent SysAllocString and SysAllocString16 to perform any processing
	on NULL strings.

	* tools/fnt2bdf.c:
	Stas Sergeev <stas.orel@mailcity.com>
	Make it possible to change the encoding of fonts from the command
	line, even if autodetected.

	* windows/spy.c, windows/ttydrv/wnd.c, windows/win.c, windows/x11drv/wnd.c, controls/button.c, controls/icontitle.c, controls/static.c, include/mdi.h, include/ttydrv.h, include/win.h, include/x11drv.h, windows/defwnd.c, windows/dialog.c, windows/mdi.c, wine.ini:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Convert WND.text field to Unicode.
	Add new key to wine.ini in the section [x11drv] - TextCP, which means
	code page used for texts passed to X.
	Accordingly fix handlers of WM_SETTEXT/WM_GETTEXT.

	* graphics/x11drv/dib.c: Backed out previous patch.

	* dlls/user/user32.spec, include/winuser.h, windows/user.c:
	Marcus Meissner <marcus@jet.franken.de>
	Stub for RegisterDeviceNotificationA.

	* dlls/winsock/socket.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Fakes a negotiation of the winsock version.

	* dlls/oleaut32/typelib.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	- better loading of *.tlb files
	- seperated code for loading tlb resource into memory from code for
	  parsing the tlb resource.

	* dlls/ole32/ole2stubs.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Implemented OleCreate.

2000-07-09  Alexandre Julliard  <julliard@winehq.com>

	* windows/class.c: Noomen Hamza <noomen@macadamian.com>
	GetClassInfo should return global classes even if the hInstance
	parameter is different from the one passed to the RegisterClass
	function.

	* misc/comm.c: Stefan Leichter <sle@camline.com>
	Fixes the BuildCommDCBA function.

	* configure, configure.in, include/config.h.in, misc/port.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added configure check for libutil.h.

	* controls/listbox.c: Gerard Patel <g.patel@wanadoo.fr>
	Make the focus follow the last selected item for multiselect listboxes.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/typelib.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Stub implementation of LHashValOfNameSysA.
	Don't crash if we encounter a BSTR with length <= 0.
	Fix typos in ITypeLib::GetDocumentation.

	* dlls/shell32/shell.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	With some apps a fault was possible in ExtractAssociatedIcon.

	* windows/cursoricon.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	GetIconInfo did no correctly identify icons from cursors.

	* windows/msgbox.c:
	Haithem Hmida <haithem@macadamian.com>
	Under Windows 95/98/NT, message boxes do not have a default icon.

	* misc/registry.c:
	Fixed lstrcpynAtoW usage (reported by Stas Sergeev).
	Small cleanups.

	* dlls/wsock32/.cvsignore, dlls/wsock32/Makefile.in, dlls/wsock32/socket.c, dlls/wsock32/wsock32.spec, dlls/dplay/.cvsignore, dlls/dplay/Makefile.in, dlls/dplay/dplay.spec, dlls/dplayx/Makefile.in, dlls/dplayx/dplay.spec, dlls/kernel/.cvsignore, dlls/kernel/Makefile.in, dlls/kernel/wow32.spec, dlls/shell32/Makefile.in, dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, dlls/shell32/shellord.c, dlls/shell32/shfolder.spec, dlls/shell32/shlwapi.spec, dlls/shfolder/.cvsignore, dlls/shfolder/Makefile.in, dlls/shfolder/shfolder.spec, dlls/shlwapi/.cvsignore, dlls/shlwapi/Makefile.in, dlls/shlwapi/ordinal.c, dlls/shlwapi/shlwapi.spec, dlls/shlwapi/shlwapi_main.c, dlls/winsock/.cvsignore, dlls/winsock/Makefile.in, dlls/winsock/socket.c, dlls/winsock/ws2_32.spec, dlls/winsock/wsock32.spec, dlls/wow32/.cvsignore, dlls/wow32/Makefile.in, dlls/wow32/wow32.spec, Make.rules.in, configure, configure.in, dlls/Makefile.in:
	Created separate libraries for dplay, shfolder, shlwapi, wow32 and
	wsock32 so that we have at most one Win32 dll in each .so library.

2000-07-08  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/dib.c:
	Francois Jacques <francoisj@macadamian.com>
	Updated X11DRV_DIB_GetDIBits to properly handle bottom-up DIBs
	manipulation.
	Corrected XGetSubImage arguments order.

	* include/commctrl.h, include/winbase.h, include/wingdi.h, include/winuser.h:
	Matthew Lake <MLake@sunbelt-plb.com>
	Added some missing definitions.

	* dlls/oleaut32/oleaut32.spec, dlls/oleaut32/safearray.c, include/wine/obj_oleaut.h:
	Francois Jacques <francoisj@macadamian.com>
	Implemented SafeArrayGetVarType.
	Added a VT_RECORD variant type definition.

	* dlls/kernel/kernel32.spec, misc/comm.c:
	Stefan Leichter <sle@camline.com>
	Started implementation of the functions GetDefaultCommConfigA/W.

	* dlls/ddraw/convert.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Corrected 24->32 conversion. Still only correct for little endian.

	* windows/winpos.c:
	Susan Farley <sfarley@codeweavers.com>
	Check for WS_DISABLED parent in WindowFromPoint for un-managed windows.

	* loader/module.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Rename MODULE_InitDll to MODULE_InitDLL for the sake of consistency.

	* dlls/comctl32/toolbar.c:
	Chris Morgan <cmorgan@wpi.edu>
	Fixed TOOLBAR_DrawString() to offset button text if the himl parameter
	is non-zero or the default himl, himlDef, is non-zero.  Fixes a bug in
	WinZip 8.0 where text is not shifted down by the height of the button
	image.

	* windows/dialog.c: Slava Monich <Slava_Monich@cnt.com>
	Check the value returned by DIALOG_GetCharSize.

	* Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/setupapi/.cvsignore, dlls/setupapi/Makefile.in, dlls/setupapi/setupapi.spec, dlls/setupapi/stubs.c, include/debugdefs.h:
	Francois Jacques <francoisj@macadamian.com>
	Added setupapi shared library and SetupIterateCabinet stub.

	* dlls/msvideo/.cvsignore, dlls/msvideo/Makefile.in, dlls/msvideo/drawdib.c, dlls/msvideo/msvfw32.spec, dlls/msvideo/msvideo.spec, dlls/msvideo/msvideo_main.c, include/vfw.h, tools/winapi_check/win16/msvideo.api, tools/winapi_check/win32/msvfw32.api, windows/driver.c:
	Bradley Baetz <bbaetz@student.usyd.edu.au>
	Implemented a large number of the msvideo dll routines.

	* dlls/comctl32/imagelist.c, dlls/comctl32/toolbar.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Allow the size of bitmaps to be changed after toolbar buttons have
	been added.

	* dlls/comctl32/propsheet.c:
	Slava Monich <Slava_Monich@cnt.com>
	On Windows property sheet has DWL_USER dword pointing to a structure
	that starts with HWND and PROPSHEETHEADER fields.

	* dlls/kernel/kernel32.spec, include/winbase.h, scheduler/thread.c:
	Slava Monich <Slava_Monich@cnt.com>
	Implementation of Get/SetThreadPriorityBoost.

	* documentation/psdriver:
	Stefan Leichter <sle@camline.com>
	Added documentation on how to setup wine's Buildin Postscript Driver
	working with ghostscript (afmfiles, ppdfile).

	* debugger/debugger.h, debugger/expr.c, debugger/types.c:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Explicit init of rtn.cookie in DEBUG_EvalExpr to bad value to
	  expose further bad code
	- Print of pointer used as array now works

	* dlls/comctl32/listview.c:
	James Hatheway <james@macadamian.com>
	Only use the column headers to calculate the width of a
	LDS_REPORT-type listbox if it actually has column headers.
	(ie. LVS_NOCOLUMNHEADER bit is not set.)

	* windows/winpos.c: Slava Monich <Slava_Monich@cnt.com>
	BeginDeferWindowPos should allow zero count.

	* dlls/shell32/shell32.spec, dlls/shell32/shell32_main.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added semi-stub.

	* dlls/winmm/mci.c:
	Bradley Baetz <bbaetz@student.usyd.edu.au>
	Handle mciSendString("open <mcitype>",...)

	* tools/wrc/CHANGES, tools/wrc/README.wrc, tools/wrc/genres.c, tools/wrc/parser.l, tools/wrc/parser.y, tools/wrc/ppl.l, tools/wrc/wrc.c, tools/wrc/wrc.h, tools/wrc/wrc.man:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	- Bugfix: Macro expansion of strings would assert an internal error
	  or a segfault due to a lacking '\0' in the expansion.
	- Bugfix: Prevent buffer overflow in reallocation of macro expansion
	  buffers.
	- Bugfix: Wrc's version information was not passed as numerical to the
	  preprocessor due to an error in the definition of the macro.
	- Relaxed the newline constraint in global LANGUAGE statements, which
	  was introduced in version 1.1.3, so that some fancy preprocessor
	  constructs can work.
	- Removed the gcc-style #line handling from the resource-parser to the
	  resource-scanner so that it is possible to include files at any stage
	  of the source, independent of the parser-state.
	- Bugfix: Stringtables were not correctly searched for duplicates
	  because the language comparison disregarded the sublanguage.
	- Eliminated a repetitive warning when writing stringtables with zero
	  length string entries. These are perfectly valid (but make no sense:-).
	  Warnings are now only generated during parse in pedantic mode.

	* dlls/oleaut32/ole2disp.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix SysStringByteLen to really return the length in bytes.

	* dlls/comctl32/rsrc.rc:
	Slava Monich <Slava_Monich@cnt.com>
	Changed the size of property sheet template to be the same as the
	original one (was 292x159, now 220x140).

	* dlls/ole32/compobj.c, dlls/ole32/oleobj.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Implement IDataAdviseHolder.

	* dlls/oleaut32/typelib.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix typo in ITypeLib::IsName.

	* dlls/ole32/hglobalstream.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	CreateStreamOnHGlobal should alloc a shared memory block if supplied
	handle is 0.

	* dlls/commdlg/filedlg95.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Do not crash if there was no files selected and OK button was pressed.

	* dlls/dsound/dsound_main.c:
	Ove Kaaven <ovek@transgaming.com>
	Fix a couple of problems with underruns and stopping/restarting.

	* misc/main.c:
	Joerg Mayer <jmayer@telesun2.telemation.de>
	Fixed the debugmsg help.

	* dlls/winaspi/aspi.c, dlls/winaspi/winescsi.h:
	David Elliott <dfe@infinite-internet.net>
	Map each channel on every host to an ASPI controller number.
	Store map in HKEY_DYN_DATA.

	* dlls/comctl32/comctl32undoc.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	DSA_InsertItem returns nIndex, not nItemCount.

	* dlls/comctl32/monthcal.c:
	Chris Morgan <cmorgan@wpi.edu>
	Fixed background redrawing when control is covered.  Fixed a really
	dumb mistake I made with border drawing many patches ago.  Fixed
	offset by 1 alignment issues.

	* dlls/ddraw/dsurface/main.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Removed another bad assert and two no longer needed ones.

2000-06-25  Alexandre Julliard  <julliard@winehq.com>

	* win32/except.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed bad exception handler chain termination.

	* windows/x11drv/wnd.c, windows/win.c:
	Lawson Whitney <lawson_whitney@juno.com>
	Moved zero-sized window hack to x11drv.

	* dlls/ntdll/nt.c:
	Marcus Meissner <marcus@jet.franken.de>
	Return "no debugger attached" in NtQueryInformationProcess to satisfy
	some copy protection mechanisms.

	* dlls/commdlg/colordlg.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed crash when lpTemplateName is gotten from MAKEINTRESOURCE.

	* dlls/ddraw/dsurface/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed two asserts in Blt().

	* dlls/ddraw/helper.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Properly cast arguments to printf to match the intended output.

	* dlls/winmm/mmio.c, dlls/winmm/winemm.h, include/mmsystem.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Several fixes spotted by Corel (Jean-Claude Batista & Sean Langley).
	Seeking from SEEK_END was wrong.
	Seeking on empty buffer was wrong.
	Some installed ioProcs had uninitialized fields.
	A few more bits for rename functions.

	* debugger/dbg.y, debugger/intvar.h, debugger/winedbg.c, documentation/winedbg:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added BreakOnDllLoad internal var, cleaned up register validation on
	exception.

	* dlls/comctl32/toolbar.c:
	Mike McCormack <Mike_McCormack@looksmart.com.au>
	Add workarounds for null strings in TOOLBAR_InsertButtonA and calling
	TOOLBAR_SetButtonSize after button added to the toolbar (latter for
	WINZIP32.EXE)

	* controls/combo.c: Gerard Patel <g.patel@wanadoo.fr>
	Set the minimum dropped height to the combo list height if any in
	CBDropDown.

	* files/dos_fs.c: Dave Hawkes <daveh-wine@cadlink.com>
	If whitespace or dots are appended to the end of any component in a
	path then it should be ignored.

2000-06-24  Alexandre Julliard  <julliard@winehq.com>

	* loader/module.c, scheduler/process.c, include/process.h:
	Make sure the cmdline passed to CreateProcessA is writeable (thanks to
	Peter Ganten <peter@ganten.org>).

	* dlls/winmm/wineoss/audio.c, dlls/winmm/wineoss/midi.c, dlls/winmm/wineoss/oss.c, dlls/winmm/wineoss/oss.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Cleaned up loading/init code in OSS.
	Cleaned up getDevCaps in midi part.
	Implemented asynchronous waveIn recording using a thread.

	* dlls/kernel/kernel32.spec, win32/console.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	A few missing console stubs.

	* dlls/comctl32/animate.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed animation loading for RLE encoding.

	* dlls/oleaut32/typelib.h, include/wine/obj_oleaut.h, dlls/oleaut32/oleaut32.spec, dlls/oleaut32/typelib.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	- removed hack to find the right resource
	- updated to use the ICOM macros
	- cleaned up use typelib and typelib2 (was mixed up)

	* dlls/commdlg/cdlg.h, dlls/commdlg/cdlg32.c, dlls/commdlg/cdlg_En.rc, dlls/commdlg/cdlg_xx.rc, dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	- fixed reported bugs
	- fixed default extensions
	- implemented "browse to desktop" button

	* memory/environ.c, tools/winebuild/spec32.c, include/winbase.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	GetCommandLine should return non-const strings.

	* dlls/kernel/kernel.spec:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	CallProcEx32W should be named _CallProcEx32W.

	* files/change.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added some stuff saying that this is NOT supported.

	* relay32/snoop.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Avoid calling the exception handler in some cases.

	* dlls/shell32/classes.c, dlls/shell32/shellpath.c, dlls/shell32/shlwapi.spec, include/shlwapi.h, include/wine/obj_shellview.h, include/wine/undocshell.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	- many new Path* stubs
	- many bugfixes
	- class functions expanding environments variables now

	* dlls/winmm/lolvldrv.c, dlls/winmm/mmsystem.c, dlls/winmm/wineoss/audio.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented the DirectSound HAL in winmm's wineoss (Open Sound System)
	driver, and winmm's interface for DirectSound to access it. It
	requires the ability to mmap /dev/dsp, to trigger playback, and
	sample-accurate position readouts. (If the soundcard's device driver
	does not report these capabilities, wineoss will report the HAL as
	unavailable and force DirectSound to use its HEL instead.)

	* include/mmsystem.h, dlls/dsound/dsound_main.c:
	Ove Kaaven <ovek@transgaming.com>
	Implemented the DirectSound HAL mode for DMA primary buffers, with a
	10ms latency (not noticeable), and about 300ms of prebuffering. Fixed
	a few bugs. Added a Wine-only WINMM flag for waveOutOpen for
	DirectSound to use (so drivers like wineoss have some way of knowing
	what to prepare itself for).

	* dlls/user/user.spec, include/wine/winuser16.h, windows/cursoricon.c, windows/sysparams.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Implemented/stubbed IconSize() and ControlPanelInfo() needed for Win
	2.0 control.exe and paint.exe.

	* include/winuser.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added IDI_WINLOGO.

	* debugger/winedbg.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Don't block endlessly after last debugged process has exited.

	* memory/string.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added (back) correct behavior for NULL ptrs in CharToOem funcs.

	* memory/global.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed some OOM conditions in GlobalAlloc.

	* dlls/ntdll/misc.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Added missing #include <math.h>.

	* include/winresrc.h: Removed MIME garbage.

	* dlls/ddraw/ddraw/x11.c:
	Marcus Meissner <marcus@jet.franken.de>
	Create xlib ddsurfaces with correct reference counts.

	* dlls/gdi/Makefile.in, dlls/gdi/bidi16.c, dlls/user/Makefile.in, dlls/user/bidi16.c, dlls/user/network.c, misc/Makefile.in, misc/bidi16.c, misc/network.c:
	Split bidi16.c and network.c out of misc/ into their respective dlls.

2000-06-23  Alexandre Julliard  <julliard@winehq.com>

	* tools/.cvsignore, tools/Makefile.in, tools/build-spec.txt, tools/build.c, tools/winebuild/.cvsignore, tools/winebuild/Makefile.in, tools/winebuild/README, tools/winebuild/build.h, tools/winebuild/main.c, tools/winebuild/parser.c, tools/winebuild/relay.c, tools/winebuild/spec16.c, tools/winebuild/spec32.c, tools/winebuild/utils.c, Make.rules.in, configure, configure.in, if1632/.cvsignore, if1632/Makefile.in, relay32/.cvsignore, relay32/Makefile.in:
	Split the build program in several files.
	Renamed it 'winebuild' to avoid possible conflicts.
	Cleaned up command-line parsing.
	Make it understand -fPIC instead of -pic.
	Merged call16.s and call32.s generated files.

	* dlls/gdi/gdi.spec, dlls/kernel/kernel.spec, dlls/kernel/system.spec, dlls/sound/sound.spec, dlls/user/user.spec:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added more ordinals to KERNEL, GDI, USER and system drivers
	(Windows 1.1, 2.0).

	* dlls/ddraw/ddraw/dga.c:
	Peter Ganten <peter@ganten.org>
	_common_depth_to_pixelformat() returns -1 and not zero, if a mode is
	supported.

	* dlls/comctl32/toolbar.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	Avoid gratuitously changing the ZORDER.

	* dlls/ddraw/ddraw/x11.c, dlls/ddraw/ddraw_private.h, dlls/ddraw/dsurface/x11.c:
	Marcus Meissner <marcus@jet.franken.de>
	Use correct bpp for the X side of the surface XImages.
	Cleaned up Xlib_Surface_Release so it is a bit more readable.
	use VirtualAlloc for conversion-programside buffer to simplify
	handling.

	* loader/resource.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	GlobalFree16 returns NULL on success, but DestroyAcceleratorTable
	should return TRUE on success.

	* dlls/ddraw/dsurface/main.c, dlls/ddraw/helper.c, dlls/ddraw/x11.c:
	Marcus Meissner <marcus@jet.franken.de>
	Dump FourCC correctly, print conversion messages, add reference to
	ddraw in DDSurface::GetDDInterface.

	* dlls/x11drv/x11drv_main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Restrict nTimeout to 0-32767, since it is a 16bit value in X.

	* dlls/ntdll/signal_i386.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	Exception handling for SIGFPE must always clear the FPU interrupt
	status.

	* dlls/commdlg/filedlg95.c, dlls/crtdll/.cvsignore, dlls/crtdll/Makefile.in, dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/crtdll/mbstring.c, dlls/crtdll/wcstring.c, dlls/ntdll/Makefile.in, dlls/ntdll/misc.c, dlls/ntdll/ntdll.spec, dlls/ntdll/rtlstr.c, dlls/ntdll/string.c, dlls/ntdll/wcstring.c, include/crtdll.h, Make.rules.in, Makefile.in, dlls/Makefile.in:
	Moved shared crtdll/ntdll functions into ntdll.
	Made crtdll a separate dll.

	* dlls/olecli/olecli_main.c, dlls/shell32/classes.c, dlls/shell32/folders.c, dlls/shell32/pidl.c, dlls/shell32/shellole.c, dlls/shell32/shellord.c, include/wine/obj_base.h, misc/lstr.c, dlls/ole32/compobj.c, dlls/ole32/datacache.c, dlls/ole32/ole2.c, dlls/oleaut32/typelib.c:
	Cleaned up a few inter-dll dependencies.

	* dlls/shell32/shellpath.c, dlls/winsock/socket.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* dlls/ddraw/d3ddevice/main.c, dlls/wininet/http.c, dlls/wininet/internet.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* tools/winapi_check/win32/ole32.api, tools/winapi_check/win32/oleaut32.api, tools/winapi_check/win32/olecli32.api, tools/winapi_check/win32/opengl32.api, tools/winapi_check/win32/shlwapi.api, tools/winapi_check/win32/user32.api, tools/winapi_check/win32/wininet.api, tools/winapi_check/win32/ws2_32.api, tools/winapi_check/modules.dat, tools/winapi_check/win32/crtdll.api, tools/winapi_check/win32/kernel32.api, tools/winapi_check/win32/msvfw32.api, tools/winapi_check/winapi_local.pm:
	Patrik Stridvall <ps@leissner.se>
	- Minor API files fixes.
	- Minor bug fixes and additions.

	* include/dsdriver.h, dlls/dsound/Makefile.in, dlls/dsound/dsound.spec, dlls/dsound/dsound_main.c:
	Ove Kaaven <ovek@transgaming.com>
	Restructure DirectSound. Remove dsound thread, use MM timers
	instead. Implemented the DirectSound HEL, with the ability to
	prebuffer 300ms of sound, while maintaining play latency of 40ms, and
	the exact playposition (Starcraft cinematics are lip-synched).  Some
	initial HAL support.

	* relay32/builtin32.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Replaced the BUILTIN32_dlopen() ERR() by a WARN().

	* include/winresrc.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added include/winresrc.h for porting with winelib.

	* dlls/winspool/info.c, dlls/winspool/winspool.drv.spec:
	Francois Gouget <fgouget@psn.net>
	Merged DeviceCapabilities and DeviceCapabilitiesA.

	* dlls/msvideo/msvfw32.spec, dlls/msvideo/msvideo_main.c, include/vfw.h:
	Francois Gouget <fgouget@psn.net>
	Merged MCIWndCreate and MCIWndCreateA.

	* dlls/ole32/compobj.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	CLSIDFromString apparently also accepts ProgIDs as an input string.

	* include/winuser.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added SC_ICON/SC_ZOOM (obsolete macros).

	* include/wininet.h:
	Marcus Meissner <marcus@jet.franken.de>
	Added prototypes for new InternetCheckConnection*.

2000-06-20  Alexandre Julliard  <julliard@winehq.com>

	* dlls/olecli/olecli32.spec, dlls/olecli/olecli_main.c, dlls/olesvr/olesvr_main.c, dlls/oleaut32/oleaut32.spec:
	Cleaned up a few inter-dll dependencies.

	* tools/wmc/Makefile.in, tools/wrc/Makefile.in:
	Alexander V. Lukyanov <lav@long.yar.ru>
	Fixed problems with compilation/install out of source tree.

	* include/winerror.h, dlls/ole32/compobj.c, dlls/ole32/storage32.c:
	Noomen Hamza <noomen@macadamian.com>
	OleConvertOLESTREAMToIStorage fails (returns REGDB_E_CLASSNOTREG) when
	the CLSID of the OLE object is not found in the registry. Fixed.

	* files/profile.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Make WritePrivateProfileSectionA care for "" and NULL as the
	string argument. New function PROFILE_DeleteAllKeys.

	* dlls/winmm/wineoss/midi.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed format strings.

	* programs/winhelp/hlpfile.c, programs/winhelp/macro.c, programs/winhelp/macro.lex.l, programs/winhelp/winhelp.c:
	Rein Klazes <rklazes@casema.net>
	Fix a crash in winhelp caused by hmemcpy16 without prototype.
	Fix some compiler warnings.

	* dlls/*/Makefile.in:
	For dlls, derive SPEC_SRCS from MODULE and ALTNAMES.

	* dlls/winmm/wineoss/audio.c:
	Ove Kaaven <ovek@transgaming.com>
	Fixed WHDR_DONE race condition.

	* dlls/shell32/shellstring.c, dlls/shell32/shlwapi.spec:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Implemented StrCatBuff.

	* include/shlobj.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added typedef of DROPFILES.

	* include/winerror.h:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added ResultFromScode/GetScode (obsolete macros).

	* graphics/painting.c:
	Dave Hawkes <daveh-wine@cadlink.com>
	MoveToEx: return TRUE even if there is no driver implementation.

	* dlls/comctl32/status.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Protect against programs creating parts with negative width.

2000-06-18  Alexandre Julliard  <julliard@winehq.com>

	* loader/resource.c, msdos/int21.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Use GetSystemDefaultLangID() instead of WINE_LanguageId.

	* documentation/winedbg, debugger/break.c, debugger/dbg.y, debugger/debug.l, debugger/debugger.h, debugger/intvar.h, debugger/memory.c, debugger/module.c, debugger/registers.c, debugger/stack.c, debugger/types.c, debugger/winedbg.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	- cleaned-up break handling
	- better integration of debugger inner loops (parser & events)
	- added attach command
	- improved parser so that it can be entered without any process loaded
	- added BreakOnFirstChance internal variable
	- disabled NE module symbol module (which is broken with ASS)
	- misc portability cleanups

	* dlls/oleaut32/safearray.c, include/wine/obj_oleaut.h:
	Stephane Lussier <stephane@macadamian.com>
	- Fixed a memory corruption in safe arrays when using SafeArrayCopy()
	  function with a SafeArray created with FADF_FIXEDSIZE.
	- Added more FADF flags in the .h file.
	- FADF flags were defined twice, corrected the situation.

	* graphics/x11drv/text.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Do not assume that double byte font == unicode font.

	* dlls/msvideo/msvideo_main.c, include/ddeml.h, include/vfw.h, include/winbase.h, include/winuser.h, tools/winapi_check/win32/msvfw32.api, tools/winapi_check/win32/user32.api, windows/user.c:
	Francois Gouget <fgouget@psn.net>
	Added some missing prototypes.
	Define the HDRAWDIB handle type.

	* include/windowsx.h: Francois Gouget <fgouget@psn.net>
	hmemcpy16 is a Win16 API, the macro is hmemcpy.

	* dlls/Makefile.in, dlls/winsock/Makefile.in, dlls/winsock/socket.c, dlls/winsock/ws2_32.spec, include/winsock2.h:
	James Hatheway <james@macadamian.com>
	Created an initial Winsock 2 (ws2_32) DLL. Makes use of the Winsock 1
	functions already implemented.

	* dlls/winmm/mciseq/mcimidi.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed port status query.

	* include/dsdriver.h: Ove Kaaven <ovek@transgaming.com>
	Added DirectSound device driver header file.

	* loader/pe_image.c: Ove Kaaven <ovek@arcticnet.no>
	Make the base relocation message a WARN, not a FIXME.

	* tools/Makefile.in:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Distinguish between SUBDIRS and INSTALLSUBDIRS.

	* controls/combo.c: Gerard Patel <g.patel@wanadoo.fr>
	CB_SETCURSEL should not generate another listbox event after updating
	the edit box.

	* dlls/comctl32/treeview.c:
	Noomen Hamza <noomen@macadamian.com>
	WM_PAINT should be processed only by the TREEVIEW_Paint function, so
	we don't need to call DefWindowProcA function within TREEVIEW_Paint.

	* windows/class.c:
	James Hatheway <james@macadamian.com>
	We must return the atom of the class in GetClassInfoEx instead of just
	TRUE.

	* dlls/ole32/compobj.c, dlls/ole32/ole32.spec:
	James Hatheway <james@macadamian.com>
	Added a stub for CoCreateFreeThreadedMarshaler().

	* memory/string.c: Dmitry Timoshkov <dmitry@sloboda.ru>
	Reimplement CharToOemA/W, CharToOemBuffA/W, OemToCharA/W,
	OemToCharBuffA/W using MultiByteToWideChar/WideCharToMultiByte.

	* controls/menu.c:
	Francois Jacques <francoisj@macadamian.com>
	GetSystemMenu called with bRevert argument set to TRUE now returns
	NULL as specified in Platform SDK.

	* graphics/x11drv/dib.c:
	Stephane Lussier <stephane@macadamian.com>
	Fixed memory access outside of the range for source bits in 24-bit bitmaps.

2000-06-16  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ole32/ole32.spec:
	Francois Jacques <francoisj@macadamian.com>
	Make IIDFromString point to CLSIDFromString.

	* dlls/commdlg/cdlg.h, dlls/commdlg/cdlg32.c, dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	- better error check when importing functions via GetProcAdress
	- replaced SHGetSpecialFolderPath (not aviable in all shell32 versions)
	- changed call order when browsing to different folder (crash with native shell)
	- removed Move call since IShellview_CreateViewWindow creates it already in
	  the right rect

	* dlls/shell32/shlwapi.spec, dlls/shell32/pidl.c, dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, dlls/shell32/shellord.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	- fixed null-pidl from _ILCreateControl
	- some more no-name functions in shlwapi

	* dlls/shell32/systray.c:
	Francois Jacques <francoisj@macadamian.com>
	Keep an internal copy of the icon.

	* include/objbase.h: Francois Gouget <fgouget@psn.net>
	Reorder the __attribute__ directive in the legacy macros for
	compatibility with old g++ compilers.

	* graphics/x11drv/dib.c:
	Ken Coleman <ken_coleman@iname.com>
	Fixes to CreateDIBSection and other areas where biSizeImage is
	incorrectly assumed to be correct if it non-zero.  This fixes a
	crashing problem in Sid Meier's Alpha Centauri.

----------------------------------------------------------------
2000-06-15  Alexandre Julliard  <julliard@winehq.com>

	* windows/mdi.c, include/mdi.h, resources/sysres_En.rc, resources/user32.rc:
	David Lassonde <davidl@macadamian.com>
	Implemented the More Windows... menu item for MDI.

	* windows/dialog.c:
	Sheri Steeves <sheri@macadamian.com>
	Check again for GetNextDlgTabItem after return from WM_INITDIALOG
	message in dialog creation.

	* controls/listbox.c: Gerard Patel <g.patel@wanadoo.fr>
	Set clipping region to client window in LISTBOX_Paint.

	* server/main.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	More verbose error message.

	* unicode/mbtowc.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	cp_mbstowcs: check functions return zero on success.

	* files/dos_fs.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	GetFullPathName: get "drive" value too for absolute paths.

	* misc/printdrv.c:
	Frederic Boulanger <frederic@macadamian.com>
	CreateSpoolFile is called with a dos name, we have to make sure that
	when we create the spoolfile we use the unix name associated to the
	dos file name.

	* include/winbase.h, misc/comm.c:
	Mike McCormack <mike_mccormack@looksmart.com.au>
	- add prototypes for serial API functions
	- correct existing serial API prototypes incorrectly using DWORD
	  instead of HANDLE
	- define more structures and values in serial API

	* windows/dce.c: Noomen Hamza <noomen@macadamian.com>
	Added a NULL pointer check within DCE_AddClipRects function.

	* loader/resource.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Optimized implementation of LoadStringA.

	* documentation/x11drv: Ove Kaaven <ovek@arcticnet.no>
	Text of WWN article "The X11 driver".

	* documentation/HOWTO-winelib:
	Wilbur N. Dale <wilbur.dale@lumin.nl>
	WineLib does not support Win16. Removed references to Win16 and Win
	3.x in the introduction. Standardized capitalization of Wine and
	WineLib. Added documentation for compiling a simple "Hello World"
	WineLib program.

	* windows/message.c:
	Sheri Steeves <sheri@macadamian.com>
	Added setting of cursor postition to MSG_PostToQueue.

	* controls/listbox.c: Gerard Patel <g.patel@wanadoo.fr>
	WM_SETREDRAW should repaint the listbox when set to on if something
	has been changed.

2000-06-14  Alexandre Julliard  <julliard@winehq.com>

	* configure.in, debugger/Makefile.in, server/Makefile.in, tools/Makefile.in, tools/cvdump/Makefile.in, tools/wmc/Makefile.in, tools/wrc/Makefile.in, Make.rules.in, Makefile.in, configure:
	Removed @PROGEXT@ (it was broken anyway).
	Improved 'make install'.
	Cleaned up the main Makefile.

	* scheduler/handle.c:
	Alexandre Julliard <julliard@codeweavers.com> (for Corel)
	ConvertToGlobalHandle: fixed handle leak.

	* include/options.h:
	Fixed options structure definition.

	* windows/winpos.c:
	Noomen Hamza <noomen@macadamian.com>
	Made SetWindowPos handle the case when inserting a window after itself
	(don't need to change the Zorder).

	* documentation/opengl:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Updated OpenGL documentation.

	* dlls/olepro32/olepro32.spec:
	Gerard Patel <g.patel@wanadoo.fr>
	Set the base for the ordinals of olepro32 to 248.

	* include/commctrl.h:
	Matthew J. Francis <mfrancis@plus.net.uk>
	Alias NMUPDOWN to be NM_UPDOWN, rather than overwrite NM_UPDOWN with
	NMUPDOWN.

	* dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c:
	jimregan@litsu.ie
	Added difftime function.

2000-06-13  Alexandre Julliard  <julliard@winehq.com>

	* tools/Makefile.in, tools/wmc/.cvsignore, tools/wmc/CHANGES, tools/wmc/Makefile.in, tools/wmc/lang.c, tools/wmc/lang.h, tools/wmc/language.c, tools/wmc/mcl.c, tools/wmc/mcy.y, tools/wmc/utils.c, tools/wmc/utils.h, tools/wmc/wmc.c, tools/wmc/wmc.h, tools/wmc/wmc.man, tools/wmc/wmctypes.h, tools/wmc/write.c, tools/wmc/write.h, unicode/wctomb.c, Make.rules.in, configure, configure.in:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Initial release of the message compiler.

	* loader/loadorder.c, dlls/Makefile.in, dlls/shell32/Makefile.in, dlls/shell32/shell32.spec, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shellstring.c, dlls/shell32/shfolder.spec, dlls/shell32/shlwapi.spec, include/shell.h, include/shlobj.h, include/shlwapi.h, include/wine/undocshell.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	- new dll shfolder.dll
	- small fixes

	* dlls/user/Makefile.in, tools/wrc/CHANGES, tools/wrc/README.wrc, tools/wrc/dumpres.c, tools/wrc/genres.c, tools/wrc/newstruc.c, tools/wrc/parser.l, tools/wrc/parser.y, tools/wrc/ppl.l, tools/wrc/ppy.y, tools/wrc/wrc.c, tools/wrc/wrc.h, tools/wrc/wrc.man:
	Bertho Stultiens <bertho@akhphd.au.dk>
	- Bugfix: Corrected "off by one" error in the linenumber while parsing
	  resource.
	- Bugfix: A segfault would occur if messagetables were parsed without
	  memory options attached. Also added buffer-overflow safeguard while
	  converting between byteorders.
	- Finished remapping usertype resources onto standars types by tricking
	  the parser into accepting a different token. The remapping can be
	  disabled with a new commandline option '-m'.
	- Resolved some warning about chars used as index on SGI O2 machine
	  (the ctype isXXX() routines are macros there).

	* ole/ole2nls.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Commented out IsBadWritePtr check. Makes winhlp32.exe happy in
	extended search.

	* documentation/opengl:
	Lionel Ulmer <lionel.ulmer@free.fr>
	OpenGL documentation.

	* files/drive.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	DRIVE_GetFreeSpace() is supposed to *always* return 0 for "avail"
	on CD-ROMs, even if CD-ROM is *not* mounted and thus the mount point
	normally returns the "avail" of the corresponding partition.
	Cleaned up GetDiskFreeSpaceA.

	* windows/x11drv/wnd.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Do not change the WS_CHILD style in SetParent.

	* loader/pe_resource.c, ole/ole2nls.c, dlls/comctl32/comctl32undoc.c, dlls/ntdll/reg.c, dlls/ole32/datacache.c, dlls/ole32/ole2nls.c, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shellreg.c, dlls/shell32/shellstring.c, dlls/version/info.c:
	Use the Unicode string functions from wine/unicode.h instead of the
	crtdll ones.

	* include/wine/unicode.h, unicode/Makefile.in, unicode/string.c:
	Added a couple of Unicode string routines.

	* dlls/ddraw/convert.c, dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/x11.c, dlls/ddraw/ddraw_private.h, dlls/ddraw/dga.c, dlls/ddraw/helper.c, dlls/ddraw/x11.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added 24->32 packed pixel mapping support to convert.
	Slightly rewrote the conversion initialisation.

	* files/profile.c:
	Marcus Meissner <marcus@jet.franken.de>
	Strip whitespace from front of profile values.

2000-06-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/user/Makefile.in, dlls/user/exticon.c, win32/ordinals.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Implementation for PrivateExtractIcons, PrivateExtractIconEx.

	* scheduler/thread.c, dlls/ole32/errorinfo.c, include/thread.h, scheduler/process.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	- implemented Get/SetThreadLocale
	- added comment about OleErrorInfo field in TEB

	* include/ddraw.h:
	Marcus Meissner <marcus@jet.franken.de>
	Added struct offsets so understanding game disassembly is easier.

	* dlls/wineps/brush.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	If printer only supports level 1 PostScript then complain rather than
	trying to use a pattern color space.  Thanks to David Goodenough.

	* include/wine/obj_base.h:
	Marcus Meissner <marcus@jet.franken.de>
	Corrected IsEqualGUID prototype.

	* dlls/ddraw/dga2.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	replaced a DPRINTF by a TRACE

	* dlls/opengl32/make_opengl, dlls/opengl32/opengl32.spec, dlls/opengl32/wgl.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- moved the 'constructor' into a real DLL init function
	- make OpenGL32 dependant on the X11 driver

	* objects/dc.c: Gerard Patel <g.patel@wanadoo.fr>
	hookThunk was not initialized in GetDcState.

	* graphics/x11drv/text.c:
	Use the font default char for undefined characters when mapping from
	Unicode.

	* dlls/opengl32/make_opengl, dlls/opengl32/make_opengl_ext, dlls/opengl32/make_opengl_norm, dlls/opengl32/make_opengl_spec, dlls/opengl32/opengl32.spec, dlls/opengl32/opengl_ext.c, dlls/opengl32/opengl_norm.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	New OpenGL thunk generation script.

	* dlls/ddraw/dsurface/x11.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Removed the Release in case of error as we do not AddRef anymore.

	* misc/version.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Made the DLL version clash error message more verbose.

	* unicode/c_932.c, unicode/c_936.c, unicode/c_949.c, unicode/c_950.c, unicode/casemap.c, unicode/cpmap.pl, unicode/mbtowc.c, unicode/wctomb.c, unicode/c_042.c, unicode/c_10000.c, unicode/c_10006.c, unicode/c_10007.c, unicode/c_10029.c, unicode/c_1006.c, unicode/c_10079.c, unicode/c_10081.c, unicode/c_1026.c, unicode/c_1250.c, unicode/c_1251.c, unicode/c_1252.c, unicode/c_1253.c, unicode/c_1254.c, unicode/c_1255.c, unicode/c_1256.c, unicode/c_1257.c, unicode/c_1258.c, unicode/c_20866.c, unicode/c_28591.c, unicode/c_28592.c, unicode/c_28593.c, unicode/c_28594.c, unicode/c_28595.c, unicode/c_28596.c, unicode/c_28597.c, unicode/c_28598.c, unicode/c_28599.c, unicode/c_424.c, unicode/c_437.c, unicode/c_500.c, unicode/c_737.c, unicode/c_775.c, unicode/c_850.c, unicode/c_852.c, unicode/c_855.c, unicode/c_856.c, unicode/c_857.c, unicode/c_860.c, unicode/c_861.c, unicode/c_862.c, unicode/c_863.c, unicode/c_864.c, unicode/c_865.c, unicode/c_866.c, unicode/c_869.c, unicode/c_874.c, unicode/c_875.c, unicode/c_878.c, dlls/ntdll/rtlstr.c, include/casemap.h, include/wine/unicode.h, memory/string.c, unicode/Makefile.in, unicode/c_037.c:
	Reimplemented Unicode case mapping in a slightly more efficient way.
	Moved case mapping support to the unicode directory.
	Some cleanups in cpmap.pl, use WCHAR instead of unsigned short.

2000-06-11  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/header.c:
	Aric Stewart <aric@codeweavers.com>
	We were not properly masking the item that was sent with the message
	and also we where not sending the notification at the proper times.

	* controls/listbox.c:
	Jason Mawdsley <jason@macadamian.com>
	Take focus before setting the caret position and selections.

	* relay32/snoop.c: James Abbatiello <abbeyj@wpi.edu>
	Fix for compiler warning (due to setjmp/longjmp being used for
	exception handling).

	* controls/button.c:
	Sheri Steeves <sheri@macadamian.com>
	Added save and reset of SetBKMode values in WM_PAINT.
	Added handling of lParam value in BM_SETSTYLE.

	* include/wine/exception.h, include/wine/obj_base.h, include/wine/obj_channel.h, include/wine/obj_misc.h, include/wine/obj_oleaut.h, include/wine/obj_oleview.h, include/wine/undocshell.h, include/wine/windef16.h, include/wine/wingdi16.h, include/wine/winuser16.h, include/ddraw.h, include/dinput.h, include/dplay.h, include/dplobby.h, include/dsound.h, include/gdi.h, include/imagehlp.h, include/imm.h, include/keyboard.h, include/mmddk.h, include/mmsystem.h, include/msacm.h, include/netspi.h, include/ntddk.h, include/ole.h, include/ole2.h, include/oleauto.h, include/oledlg.h, include/pe_image.h, include/process.h, include/prsht.h, include/richedit.h, include/server.h, include/shlobj.h, include/tapi.h, include/task.h, include/user.h, include/winbase.h, include/wingdi.h, include/wininet.h, include/winnetwk.h, include/winnls.h, include/winnt.h, include/winsvc.h, include/winuser.h, include/animate.h, include/callback.h, include/commctrl.h, include/commdlg.h, include/crtdll.h, include/d3d.h, include/d3dcaps.h, include/d3dtypes.h, include/ddeml.h:
	Francois Gouget <fgouget@psn.net>
	Reordered the CALLBACK and WINAPI directives so that it compiles with
	old g++ versions.

	* include/vfw.h, include/windef.h:
	Francois Gouget <fgouget@psn.net>
	- Define HIC in this header rather than in windef.h (this is the
	  correct thing to do although it is unrelated to the C++ issues).
	- WINE_HIC is an internal structure and it won't compile in C++ because
	  it contains a field called 'private'. Enclosed in a __WINE__ ifdef.
	- Reordered the CALLBACK and WINAPI directives so that it compiles with
	  old g++ versions.

	* include/winspool.h: Francois Gouget <fgouget@psn.net>
	Fixed a typo in the name of FreePrinterNotifyInfo.

	* dlls/wininet/Makefile.in, dlls/wininet/ftp.c, dlls/wininet/http.c, dlls/wininet/internet.c, dlls/wininet/internet.h, dlls/wininet/utility.c, dlls/wininet/wininet.spec:
	Ulrich Czekalla <ulrichc@corel.ca>
	HTTP protocol now supported, InternetCrackUrl fixed, lots of other
	fixes.

	* dlls/comctl32/toolbar.c, dlls/shell32/shellpath.c, tools/build.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* dlls/oleaut32/oleaut32.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/modules.dat, tools/winapi_check/output.pm, tools/winapi_check/win32/oleaut32.api, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_local.pm, tools/winapi_check/winapi_options.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Minor API files fixes
	- Use output prefix instead of high order functions that, for some
	  reason, leaks memory. The memory usage of winapi_check is now greatly
	  reduced. :-)
	- Turned on argument kind checking of doubles by default

	* dlls/commdlg/comdlg32.spec:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Remove second import of winspool.drv.

	* controls/static.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Add support for icons set by STM_SETIMAGE.

	* dlls/wineps/bitmap.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Terminate image data with a '>' [The PSLRM is rather vague about this].
	Thanks to Bernd Herd.

	* graphics/x11drv/xfont.c:
	John Elliot <jce@seasip.demon.co.uk>
	Some fonts may have no characters at all for some reason, avoid crashes.

	* dlls/dsound/dsound_main.c:
	James Abbatiello <abbeyj@wpi.edu>
	Add a few more flags to those recognized when doing trace+dsound.

	* objects/text.c: James Abbatiello <abbeyj@wpi.edu>
	Don't print uiLengthDrawn in the FIXME in DrawTextExA.  Its an output
	variable, not an input variable.

	* graphics/x11drv/dib.c:
	James Abbatiello <abbeyj@wpi.edu>
	Use XCreateImage/XGetSubImage instead of XGetImage for
	X11DRV_DIB_GetImageBits.

2000-06-10  Alexandre Julliard  <julliard@winehq.com>

	* unicode/c_950.c, unicode/cpmap.pl, unicode/cptable.c, unicode/Makefile.in, unicode/c_042.c, unicode/c_10000.c, unicode/c_10006.c, unicode/c_10079.c, unicode/c_10081.c, unicode/c_1253.c, unicode/c_1255.c, unicode/c_1257.c, unicode/c_28593.c, unicode/c_28596.c, unicode/c_28597.c, unicode/c_28598.c, unicode/c_424.c, unicode/c_856.c, unicode/c_857.c, unicode/c_864.c, unicode/c_874.c, unicode/c_932.c, unicode/c_936.c, unicode/c_949.c, memory/codepage.c:
	Added support for symbol codepage.
	Improved handling of undefined codepage characters.

	* loader/ne/module.c:
	Make sure GetModuleFileName16 does not return garbage even if the path
	is not valid (thanks to Andreas Mohr).

	* graphics/x11drv/text.c, graphics/x11drv/xfont.c, include/x11font.h:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Assign codepage for every X11 font suffix, and use it for converting
	text to display.

	* win32/Makefile.in, win32/code_page.c, dlls/kernel/kernel.spec, memory/Makefile.in, memory/codepage.c, memory/string.c:
	Rewrote codepage support to use the new codepage tables.

	* unicode/cpmap.pl, unicode/mbtowc.c, unicode/wctomb.c, unicode/c_857.c, unicode/c_860.c, unicode/c_861.c, unicode/c_862.c, unicode/c_863.c, unicode/c_864.c, unicode/c_865.c, unicode/c_866.c, unicode/c_869.c, unicode/c_874.c, unicode/c_875.c, unicode/c_878.c, unicode/c_932.c, unicode/c_936.c, unicode/c_949.c, unicode/c_950.c, include/wine/unicode.h, include/winnls.h, unicode/c_037.c, unicode/c_10000.c, unicode/c_10006.c, unicode/c_10007.c, unicode/c_10029.c, unicode/c_1006.c, unicode/c_10079.c, unicode/c_10081.c, unicode/c_1026.c, unicode/c_1250.c, unicode/c_1251.c, unicode/c_1252.c, unicode/c_1253.c, unicode/c_1254.c, unicode/c_1255.c, unicode/c_1256.c, unicode/c_1257.c, unicode/c_1258.c, unicode/c_20866.c, unicode/c_28591.c, unicode/c_28592.c, unicode/c_28593.c, unicode/c_28594.c, unicode/c_28595.c, unicode/c_28596.c, unicode/c_28597.c, unicode/c_28598.c, unicode/c_28599.c, unicode/c_424.c, unicode/c_437.c, unicode/c_500.c, unicode/c_737.c, unicode/c_775.c, unicode/c_850.c, unicode/c_852.c, unicode/c_855.c, unicode/c_856.c:
	Added support for WC_NO_BEST_FIT_CHAR and default char parameters in
	cp_wcstombs.
	Minor cosmetic fixes.

	* dlls/ddraw/dpalette/dga.c, dlls/ddraw/dsurface/dga.c:
	Ove Kaaven <ovek@transgaming.com>
	Call TSXFlush after setting DGA palette, so it updates immediately.

2000-06-09  Alexandre Julliard  <julliard@winehq.com>

	* unicode/c_28591.c, unicode/c_28592.c, unicode/c_28593.c, unicode/c_28594.c, unicode/c_28595.c, unicode/c_28596.c, unicode/c_28597.c, unicode/c_28598.c, unicode/c_28599.c, unicode/c_424.c, unicode/c_437.c, unicode/c_500.c, unicode/c_737.c, unicode/c_775.c, unicode/c_850.c, unicode/c_852.c, unicode/c_855.c, unicode/c_856.c, unicode/c_857.c, unicode/c_860.c, unicode/c_861.c, unicode/c_862.c, unicode/c_863.c, unicode/c_864.c, unicode/c_865.c, unicode/c_866.c, unicode/c_869.c, unicode/c_874.c, unicode/c_875.c, unicode/c_878.c, unicode/c_932.c, unicode/c_936.c, unicode/c_949.c, unicode/c_950.c, unicode/cpmap.pl, unicode/cptable.c, unicode/defaults, unicode/mbtowc.c, unicode/wctomb.c, Makefile.in, configure, configure.in, include/wine/unicode.h, unicode/.cvsignore, unicode/Makefile.in, unicode/c_037.c, unicode/c_10000.c, unicode/c_10006.c, unicode/c_10007.c, unicode/c_10029.c, unicode/c_1006.c, unicode/c_10079.c, unicode/c_10081.c, unicode/c_1026.c, unicode/c_1250.c, unicode/c_1251.c, unicode/c_1252.c, unicode/c_1253.c, unicode/c_1254.c, unicode/c_1255.c, unicode/c_1256.c, unicode/c_1257.c, unicode/c_1258.c, unicode/c_20866.c:
	Added a bunch of code page tables for multibyte<->wide char
	conversions (with the help of Dmitry Timoshkov).

2000-06-08  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/ntdll.spec, dlls/ntdll/rtlstr.c, dlls/shell32/shellpath.c, include/ntddk.h, include/winnls.h, memory/string.c, misc/lstr.c, dlls/crtdll/crtdll.spec, dlls/crtdll/wcstring.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Implement NTDLL.towupper and NTDLL.towlower using already existing
	case conversion tables. Replace all direct calls to towupper/towlower
	either to NTDLL for core or to CRTDLL if latter already used in the
	non core dll.

	* graphics/x11drv/bitblt.c: Shi Quan He (of Corel)
	The implementation of StretchBlt in WINE does not use the foreground and
	background color when a bitmap is copied from mono to mono.  This is
	not the case in the actual implementation under Windows but MSDN did
	not document it.

	* dlls/comctl32/status.c:
	Aric Stewart <aric@codeweavers.com>
	Windows must update the right edge (-1) of the last panel upon drawing
	instead of relying on WM_SIZE.

	* dlls/comctl32/treeview.c:
	Aric Stewart <aric@codeweavers.com>
	Properly handle InsertItem with an invalid HTREEITEM. Windows handles
	these like a TVI_LAST.

	* windows/x11drv/event.c:
	Turchanov Sergei <turchanov@otvprim.ru>
	DGA compile fix.

	* dlls/Makefile.in: Added missing dependency.

	* debugger/msc.c, debugger/winedbg.c, relay32/builtin32.c:
	Removed the .xcnlnk section hack, and replaced it by another hack in
	the debugger CREATE_PROCESS event handling.

	* dlls/Makefile.in: Merged mouse dll into USER.

	* programs/winhelp/macro.c: Compile fix.

	* if1632/builtin.c, if1632/thunk.c, loader/task.c, memory/atom.c, scheduler/thread.c, win32/kernel32.c:
	Removed a few unnecessary includes.

	* dlls/ttydrv/ttydrv_main.c, dlls/user/.cvsignore, dlls/user/Makefile.in, dlls/user/display.c, dlls/user/display.spec, dlls/user/mouse.c, dlls/user/mouse.spec, dlls/user/mouserc.rc, dlls/user/user_main.c, dlls/x11drv/x11drv_main.c, include/mouse.h, include/ttydrv.h, include/user.h, include/x11drv.h, windows/ttydrv/mouse.c, windows/x11drv/event.c, windows/x11drv/mouse.c, Makefile.in, configure, configure.in, dlls/dinput/Makefile.in, dlls/dinput/dinput.spec:
	Merged mouse dll into USER.

	* debugger/Makefile.in, dlls/richedit/Makefile.in, dlls/shell32/Makefile.in, dlls/shell32/shell32.spec, dlls/urlmon/Makefile.in, dlls/winmm/Makefile.in, dlls/winmm/winmm.spec, libtest/Makefile.in, programs/avitools/Makefile.in, resources/Makefile.in, Make.rules.in:
	Simplified wrc flags handling.

	* windows/win.c:
	Yet another attempt at fixing CW_USEDEFAULT handling.

	* loader/module.c:
	Use FILE_SHARE_READ to open the file in GetBinaryTypeA.

	* debugger/module.c:
	Strip path name from dll when adding symbols.

	* loader/pe_image.c:
	Send full path name and debug information in load_dll event.

	* include/server.h, relay32/builtin32.c, scheduler/process.c, server/debugger.c, server/process.c, server/trace.c, include/module.h:
	Pass the main exe name in the CREATE_PROCESS debug event.

	* scheduler/sysdeps.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Make a better guess to find the top of the initial stack.
	Fixed FreeBSD compile problem (thanks to Gerald Pfeiffer).

	* windows/cursoricon.c:
	Louis-Philippe Gagnon (of Macadamian for Corel)
	Search for already loaded CursorIcon was done with the wrong handle,
	so it was leaking icons. Fixed.

	* tools/wrc/README.wrc, tools/wrc/dumpres.c, tools/wrc/genres.c, tools/wrc/newstruc.c, tools/wrc/newstruc.h, tools/wrc/parser.l, tools/wrc/parser.y, tools/wrc/ppl.l, tools/wrc/wrc.h, tools/wrc/wrc.man, tools/wrc/wrctypes.h, tools/wrc/writeres.c, tools/wrc/CHANGES:
	Bertho Stultiens <bertho@akhphd.au.dk>
	- Implemented MESSAGETABLE resource type.
	- Usertype resources that cause a type-clash with defined resources
	  are now detected and a warning is generated. Some types should be
	  rerouted through other code so that they will be (re-)interpreted.
	- Bugfix: Line-continuation in strings in resources include a newline.
	  This `feature' got deleted with the builtin preprocessor, but has been
	  put back into place (see last changes comment from version 1.1.0).
	- Bugfix: The preprocessor now correctly will see "\\\r\n" as a line-
	  continuation.
	- Bugfix: Assemblers on some platforms do not use 16bit quantities
	  for `.word'. This directive is now changed into `.short'.
	- All types that accept inline data definitions (a la RCDATA) now
	  also accept a file specification. This unifies the structure a bit.

2000-06-07  Alexandre Julliard  <julliard@winehq.com>

	* documentation/dll-overrides:
	Ove Kaaven <ovek@arcticnet.no>
	Text of WWN article "DLL overrides".

	* documentation/HOWTO-winelib:
	Wilbur N. Dale <wilbur.dale@lumin.nl>
	Added to project. Currently incomplete but will update weekly.

	* scheduler/client.c, scheduler/process.c, dlls/ntdll/signal_i386.c:
	Setup signal handling and exceptions only after REQ_INIT_PROCESS_DONE
	has been sent, to avoid deadlocking the debugger.

	* controls/combo.c, include/combo.h:
	Serge Ivanov <sergei@corel.ca>
	- ComboLBox is always created as child of ComboBox. If ComboBox has style
	  other than CBS_SIMPLE, parent of listbox is set to desktop.
	- In CBDropDown. ComboBox uses only first item to calculate height of
	  dropped listbox. Also if listbox is empty its height is unmodified
	  (previously it was set to 0).
	- Added correct handling of WM_GETDLGCODE and WM_(SYS)KEYDOWN messages.
	- General clean-up. Message order is now more precise (at least
	  notifications to client); listbox - combobox interaction has slight
	  differences comparing to Windows.

	* controls/edit.c: Serge Ivanov <sergei@corel.ca>
	- Removed dependency of edit control from combobox implementation.
	- Edit control uses undocumented window style 0x0200 to detect is it a part
	  of combobox. If so it calls GetDlgItem(hwndCombo, 1000) to get ComboLBox
	  window handle (see comments for combo.c below).
	- EDIT_CheckCombo - modified for correct handling of keyboard messages.
	- Processing of WM_GETDLGCODE and WM_CHAR for VK_RETURN and VK_ESCAPE
	  depends on whether listbox is dropped down. This prevents closing of dialog
	  if listbox is dropped down and allows combobox to process these keyboard
	  messages properly.

	* controls/listbox.c: Serge Ivanov <sergei@corel.ca>
	- We can use wnd->wIDmenu for ComboLBox (it is not reset anymore in SetParent)
	- When user clicks outside of dropped listbox, original selection must be
	  restored.
	- ComboLBox has caret_on = FALSE on creation, that's why combobox sends
	  LB_CARETON message before dropping listbox down (but only for
	  CBS_DROPDOWNLIST - I don't now why).

	* windows/x11drv/wnd.c: Serge Ivanov <sergei@corel.ca>
	Well, SetParent doesn't work properly at all, but at least it must preserve
	window ID.  In fact it also must preserve window styles, destroy X
	counterpart if parent of popup or overlapped window is set to someting
	different from Desktop, and lot of other stuff that it must and mustn't do.
	But preserving ID is good enough for now.

	* include/winuser.h: Serge Ivanov <sergei@corel.ca>
	Added undocumented window style.

	* dlls/dplayx/dplay.c, dlls/dplayx/dplayx_main.c, dlls/dplayx/dplayx_queue.h, documentation/status/directplay:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Small update to documentation
	- More player/group interface implementation (not tested)

	* win32/except.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Don't call MessageBoxA before USER is initialized.

	* controls/listbox.c: Stephane Lussier
	Sheri Steeves
	Haithem Hmida
	- Height of the listbox should be adjust when LBS_OWNERDRAWFIXED is set
	  and not if LBS_OWNERDRAWVARIABLE is set, previously it was not adjusting
	  the size in both cases.
	- When the caret index change, items repainting need tp be in this
	  order
	  a) Paint old caret item without the focus
	  b) Paint old caret item without the selection
	  c) Paint new caret item with the selection
	  d) Paint new caret item with the focus.
	- When repainting the listbox, we should paint all items regarding if
	  they are slected or not and then paint after the focus item. So focus
	  item will end out being painted twice. (That's what Windows does).

	* files/file.c: Stas Sergeev <stas.orel@mailcity.com>
	mmap() fails with ENODEV on NTFS under Linux.

	* dlls/commdlg/filedlg95.c, dlls/shell32/shellpath.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	PathFindNextComponent: return pointer to NULL and not NULL.

	* dlls/comctl32/toolbar.c:
	Aric Stewart <aric@codeweavers.com>
	Added handling of TBSTYLE_AUTOSIZE.

	* dlls/comctl32/datetime.c, dlls/comctl32/treeview.c, dlls/commdlg/filedlg95.c, dlls/x11drv/x11drv_main.c, include/crtdll.h, msdos/ioports.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* dlls/urlmon/umon.c, include/urlmon.h, scheduler/critsection.c, dlls/odbc32/proxyodbc.c, dlls/ole32/moniker.c, dlls/shell32/shellstring.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed issues found by winapi_check.

	* tools/winapi_check/win32/comdlg32.api, tools/winapi_check/win32/odbc32.api, tools/winapi_check/winapi_local.pm, tools/winapi_check/winapi_options.pm, tools/winapi_check/modules.dat, tools/winapi_check/winapi_check:
	Patrik Stridvall <ps@leissner.se>
	- Minor API files update.
	- Turned on calling convention checking for Win32 functions by
	  default.

	* dlls/comctl32/toolbar.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	TOOLBAR_DrawString: catch index== -1 (but not yet handled).

	* misc/options.c:
	Fixed off-by-one error in string allocation.

	* windows/win.c:
	Alexandre Julliard <julliard@codeweavers.com> for Corel
	The window dimensions have to be initialized before sending the
	WM_GETMINMAXINFO message.

	* include/miscemu.h, msdos/devices.c, msdos/dosmem.c, msdos/dpmi.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed mis-aligned accesses during BIOS/DOS data initialization.

	* tools/build.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed size of pe_header on machines with non-4K pages.

	* if1632/snoop.c, relay32/snoop.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Use "CALL" and "RET" in capital letters for distinction.

	* dlls/comctl32/propsheet.c:
	Noomen Hamza <noomen@macadamian.com>
	The active page should be unchanged when removing an active first page
	from a property sheets.

2000-06-04  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/signal_sparc.c, memory/selector.c, scheduler/critsection.c, server/Makefile.in, server/context_sparc.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Updated support for Solaris/Sparc architecture.

	* dlls/comctl32/toolbar.c:
	Michael Cardenas <michael_cardenas@deneba.com>
	Corrected a potential crash.

	* scheduler/process.c, scheduler/sysdeps.c, tools/build.c, include/callback.h, loader/task.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Moved stack switch handling (large stack) to sysdeps.c
	Enable exception dispatch while on large stack.

	* dlls/comctl32/listview.c:
	Chris Morgan <cmorgan@wpi.edu>
	Finished the implementation of LISTVIEW_SetColumnWidth.  Tested
	against windows thoroughly.  Fixed bug resulting in unsigned values
	being passed into LISTVIEW_SetColumnWidth from the listview window
	procedure.  Fixed LISTVIEW_GetItemHeight to disregard the height of
	icons if no icons exist.

	* include/commctrl.h: Chris Morgan <cmorgan@wpi.edu>
	Added defines for LVSCW_AUTOSIZE/_USEHEADER.

	* dlls/comctl32/header.c:
	Chris Morgan <cmorgan@wpi.edu>
	Replaced calls to HEADER_Refresh with InvalidateRect.

	* dlls/comctl32/toolbar.c:
	Eric Kohl <ekohl@rz-online.de>
	Started support for menubar-like toolbars.

	* debugger/break.c, debugger/debugger.h, debugger/hash.c, debugger/memory.c, debugger/source.c, debugger/stack.c, debugger/winedbg.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Compile fixes for non-i386 archs.

	* controls/button.c, controls/uitools.c:
	Susan Farley <sfarley@codeweavers.com>
	Attempt to paint the checkbox and radio buttons better.

2000-06-03  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ttydrv/ttydrv_main.c: Fixed warning.

	* dlls/comctl32/comctl32.spec, dlls/comctl32/comctl32undoc.c, dlls/comctl32/commctrl.c, include/commctrl.h:
	Eric Kohl <ekohl@rz-online.de>
	Updated to dll version 5.81 (IE 5.01).

	* dlls/comctl32/treeview.c:
	Eric Kohl <ekohl@rz-online.de>
	Implemented TVM_GETITEMW.

	* dlls/comctl32/listview.c, include/listview.h:
	Jason Mawdsley <jason@macadamian.com>
	Added support for typing the filename in the listview control and
	having the control select it.

	* windows/message.c, windows/x11drv/event.c, windows/x11drv/keyboard.c, include/message.h, misc/main.c:
	Removed MSG_WineStartTicks (does not work for multiple address spaces
	anyway).

	* graphics/enhmetafiledrv/init.c:
	Replaced GetDC by CreateDC.

	* include/bitmap.h, objects/dib.c, windows/cursoricon.c:
	Moved DIB_FixColorsToLoadflags to cursoricon.c.

	* documentation/wine.man.in:
	Peter Ganten <peter@ganten.org>
	Documented the new wine command line and the environment variable
	WINEPREFIX.

	* msdos/dpmi.c, dlls/dsound/dsound_main.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* tools/winapi_check/win16/wineps16.api, tools/winapi_check/win32/comdlg32.api, tools/winapi_check/win32/dsound.api, tools/winapi_check/win32/kernel32.api, tools/winapi_check/win32/shlwapi.api, tools/winapi_check/modules.dat, tools/winapi_check/win16/wineps.api:
	Patrik Stridvall <ps@leissner.se>
	API files update.

	* memory/instr.c, msdos/interrupts.c, dlls/kernel/wprocs.spec, if1632/builtin.c, include/builtin16.h:
	Delay loading of interrupt table functions until they are needed.

	* include/miscemu.h, msdos/ioports.c:
	Delay initialization of I/O permissions until they are first used.

	* loader/main.c, dlls/kernel/Makefile.in, dlls/kernel/kernel_main.c, dlls/ttydrv/ttydrv_main.c, dlls/x11drv/x11drv_main.c, if1632/relay.c, scheduler/process.c:
	Moved kernel initialization to kernel_main.c

	* windows/x11drv/wnd.c, configure.in, dlls/Makefile.in, dlls/dinput/dinput_main.c, dlls/user/.cvsignore, dlls/user/Makefile.in, dlls/user/disp.rc, dlls/user/display.c, dlls/user/display.spec, dlls/user/user_main.c, include/display.h, loader/main.c, windows/cursoricon.c, Makefile.in, configure:
	Merged display.dll into USER.

	* misc/wsprintf.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Fixed crash.

	* relay32/.cvsignore, relay32/Makefile.in, relay32/kernel32.spec, relay32/wow32.spec, configure, configure.in, dlls/Makefile.in, dlls/kernel/.cvsignore, dlls/kernel/Makefile.in, dlls/kernel/comm.spec, dlls/kernel/kernel.spec, dlls/kernel/kernel32.spec, dlls/kernel/system.spec, dlls/kernel/toolhelp.spec, dlls/kernel/wow32.spec, dlls/kernel/wprocs.spec, if1632/.cvsignore, if1632/Makefile.in, if1632/comm.spec, if1632/kernel.spec, if1632/system.spec, if1632/toolhelp.spec, if1632/wprocs.spec, Make.rules.in, Makefile.in:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Start to separate KERNEL out of libwine.

2000-06-02  Alexandre Julliard  <julliard@winehq.com>

	* include/ts_xutil.h, tsx11/X11_calls, tsx11/ts_xutil.c, windows/x11drv/wnd.c:
	Susan Farley <sfarley@codeweavers.com>
	Preserve WM hints that were set during window creation by calling
	XGetWMHints prior to XSetWMHints.

	* include/commdlg.h:
	Michael Cardenas <michael_cardenas@deneba.com>
	Added a few message crackers.

	* tools/wineconf: Ove Kaaven <ovek@arcticnet.no>
	Add "Unix drives" /tmp and ${HOME}, and Device and Filesystem
	statements, to autogenerated wine.conf.

	* dlls/commdlg/cdlg.h, dlls/commdlg/cdlg32.c, dlls/commdlg/cdlg_En.rc, dlls/commdlg/comdlg32.spec, dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/commdlg/filedlgbrowser.h, dlls/commdlg/printdlg.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	- Rewrite of the shell related parts of the dialog to use the already
	  in shell32implemented functions (ShellFolder/Path*). Eliminated direct
	  file access.
	- Replaced LoadLibraryA with GetModuleHandleA since comdlg32 is imports
	  some dlls per *.spec file
	- Most OpenFile Flags (OFN_*) should work properly now
	- The edit box should work right with all stuff entered in it like
	  ..\temp\file.txt or just c: to change a drive
	- Optimized DataObject handling
	- Some bugs fixed, should work with native shell32 again.
	- Stubs for PrintDlgEx

2000-06-01  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dplayx/dplay.c, dlls/winmm/wineoss/audio.c, dlls/winmm/wineoss/midi.c, documentation/config, documentation/distributors, documentation/fonts, documentation/no-windows, misc/registry.c, win32/kernel32.c, windows/driver.c, windows/message.c, controls/menu.c, dlls/ddraw/ddraw/x11.c, dlls/ddraw/ddraw_private.h, dlls/ddraw/mesa_private.h:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Lots of spelling fixes that accumulated in my tree again, made several
	error msgs more verbose, doc updates.

	* documentation/shell32, include/shlwapi.h, dlls/shell32/Makefile.in, dlls/shell32/pidl.c, dlls/shell32/regstream.c, dlls/shell32/shell32.spec, dlls/shell32/shell32_main.c, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shellreg.c, dlls/shell32/shellstring.c, dlls/shell32/shlfolder.c, dlls/shell32/shlmenu.c, dlls/shell32/shlwapi.spec:
	Juergen Schmied <juergen.schmied@debitel.net>
	- New (some stubs): SHGetFolderLocation, PathAddExtension,
	  PathIsUNCServer, PathIsUNCServerShare, PathMakePretty,
	  SHCreateShellPalette, SHOpenRegStream, SHOpenRegStream2
	- Many string functions implemented
	- Some stubs for exports by ordinal

	* loader/pe_image.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Give a error message if a forwarded export is not resolved.

	* files/dos_fs.c, include/winbase.h, relay32/kernel32.spec:
	Juergen Schmied <juergen.schmied@debitel.net>
	Implemented FindFirstFileEx, cleaned old implementation up.

	* controls/widgets.c:
	Louis-Philippe Gagnon (of Macadamian for Corel)
	Static controls weren't receiving WM_LBUTTONDBLCLK messages because the
	Static window class was registered without the CS_DBLCLKS style (which it
	has in Windows).

	* scheduler/process.c:
	Make sure main_exe_name is a DOS filename (thanks to Uwe Bonnes).

	* include/dsound.h, dlls/dsound/dsound_main.c, include/dplay.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Added DirectSoundCapture and DirectSoundCaptureBuffer interfaces
	- Added some SoundCapture stubs
	- Changed REFIID to LPCGUID in a few places as per MS header file

	* dlls/ntdll/ntdll.spec, dlls/ntdll/sec.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Stub for RtlConvertSidToUnicodeString.

	* controls/static.c: Serge Ivanov <sergei@corel.ca>
	MSDN: "WM_NCHITTEST - Returns HTCLIENT if the control style is
	SS_NOTIFY; otherwise, returns HTTRANSPARENT. "

	* dlls/winsock/socket.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed warning.

2000-05-31  Alexandre Julliard  <julliard@winehq.com>

	* windows/win.c: Gerard Patel <g.patel@wanadoo.fr>
	Set a default size for windows when CW_USEDEFAULT is used.

2000-05-30  Alexandre Julliard  <julliard@winehq.com>

	* ole/nls/hrv.nls, windows/x11drv/keyboard.c, documentation/languages, documentation/wine.man.in, include/options.h, misc/main.c, ole/ole2nls.c:
	Zoran Dzelajlija <jelly@srk.fer.hr>
	Basic Croatian language support.

	* controls/edit.c: Serge Ivanov
	Returning DLGC_WANTALLKEYS for multiline edit control was not good because
	it breaks navigation in dialogs.

	* dlls/dsound/dsound_main.c:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Fixed some initialization/destruction and reference counting
	- Added a little more debugging information

	* tools/font_convert.sh:
	Peter Ganten <peter@ganten.org>
	Added a shell-script for easier font-installation.

	* dlls/wineps/bitmap.c, dlls/wineps/brush.c, dlls/wineps/clipping.c, dlls/wineps/color.c, dlls/wineps/driver.c, dlls/wineps/escape.c, dlls/wineps/font.c, dlls/wineps/graphics.c, dlls/wineps/init.c, dlls/wineps/objects.c, dlls/wineps/pen.c, dlls/wineps/ppd.c, dlls/wineps/ps.c, dlls/wineps/psdrv.h, dlls/wineps/text.c, dlls/wineps/wineps.spec, dlls/wineps/wineps16.spec, if1632/.cvsignore, if1632/Makefile.in, if1632/wineps.spec, include/psdrv.h, loader/main.c, Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/gdi/gdi_main.c, dlls/wineps/.cvsignore, dlls/wineps/Makefile.in, dlls/wineps/afm.c, dlls/wineps/bitblt.c, Make.rules.in:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Separate wineps out of Wine's core.

	* dlls/dplayx/dplayx_main.c, dlls/dplayx/dplayx_queue.h, dlls/dplayx/dplobby.c, dlls/dplayx/dplay.c:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Added a little more dll level debugging and small changes
	- Start on group and player interfaces

	* dlls/dsound/dsound.spec, dlls/dsound/dsound_main.c, include/dsound.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Add another way to create a 3d listener interface.
	- Fix up some reference counting bugs and interface creation bugs
	- Add DirectSoundEnumerateW stub
	- Add DirectSoundCaptureEnumerate{A,W} stubs

	* dlls/comctl32/datetime.c, include/datetime.h:
	Chris Morgan <cmorgan@wpi.edu>
	Added 3D border around control.  Fixed monthcal control popup.  Added
	WM_SIZE support.  Optimized drawing.  Added WM_LBUTTONUP handling.
	Handle DTS_RIGHTALIGN style.  Fixed handling of formatting styles,
	date is now displayed properly for DTS_SHORTDATEFORMAT.

	* dlls/comctl32/monthcal.c:
	Chris Morgan <cmorgan@wpi.edu>
	Removed all direct calls to MONTHCAL_Refresh() and replaced with
	either RedrawWindow or InvalidateRect. Optimized drawing using
	RedraWindow and update regions.  Fixed "Today" date bug where year was
	only one digit.  Fixed drawing of circle drawn next to "Today".  Fixed
	moving to previous or next month by clicking on days belonging to
	previous or next months.

	* relay32/kernel32.spec, win32/console.c:
	Ulrich Czekalla <ulrichc@corel.com>
	Add stub for SetConsoleOutputCP.

	* tools/wrc/ppy.y:
	Marcus Meissner <marcus@jet.franken.de>
	Add a ; needed by some YACCs.

	* dlls/ddraw/dsurface/x11.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Install the colormap only if it was created.

	* msdos/int21.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Implemented int 0x21 long file name function 0x71a0: Get Volume Info.

	* dlls/opengl32/wgl.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Implemented wglShareLists and wglGetCurrentDC.

	* windows/message.c, windows/queue.c, windows/user.c, include/process.h, include/queue.h, include/server.h, scheduler/process.c, server/Makefile.in, server/object.h, server/process.c, server/process.h, server/queue.c, server/request.h, server/thread.c, server/thread.h, server/trace.c:
	Moved idle event handling to the server.

	* windows/win.c:
	Use GetStartupInfoA() instead of accessing process structure
	directly.

	* loader/task.c:
	Make sure initial task is not marked as 32-bit.

	* misc/options.c:
	Make child processes inherit command-line options through the
	WINEOPTIONS environment variable.

	* windows/win.c: Serge Ivanov
	SetParent: call SetWindowPos with SWP_NOACTIVATE flag set.

	* dlls/Makefile.in, dlls/gdi/Makefile.in, dlls/gdi/dispdib.spec, if1632/Makefile.in, if1632/dispdib.spec:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Moved DISPDIB out of the kernel into GDI.

	* controls/combo.c, include/combo.h:
	David Grant <davidgra@corel.ca>
	- Creating combobox with CBS_SIMPLE style shall set internal flag CBF_EDIT.
	- Edit text must be selected only if CB is in focus.
	- If CB has edit control we have to call CBUpdateEdit to update its
	  contents. Invalidating textRect will not force updating of child
	  edit control, obviously.
	- We have to protect ourselves from changing selection in listbox when
	  we receive listbox notification. So LBN_SELCHANGE -> CBUpdateEdit ->
	  EN_CHANGE will not reselect item in the lisbox.

	* dlls/gdi/gdi_main.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Add include for LoadLibrary.

	* include/server.h, memory/atom.c, relay32/kernel32.spec, server/atom.c, server/process.c, server/process.h, server/request.h, server/trace.c:
	Turchanov Sergei <turchanov@otvprim.ru>
	Implemented local atoms in the server.

	* if1632/builtin.c: Do not load wineps on startup.

	* misc/comm.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed warning.

	* controls/combo.c: Owen Wang
	When you click on an icon to open a combo box, you would expect it to
	be enabled so you can choose something in it. In Wine this was not
	guaranteed since your default flags could get lost in the process-heap
	of the application.

2000-05-29  Alexandre Julliard  <julliard@winehq.com>

	* msdos/int21.c, scheduler/client.c, scheduler/process.c, scheduler/thread.c, win32/except.c, windows/nonclient.c, windows/queue.c, windows/user.c, loader/dos/module.c, loader/ne/module.c, loader/pe_image.c, loader/task.c, memory/environ.c, misc/main.c, misc/options.c, miscemu/main.c, msdos/int20.c, dlls/shell32/shell.c, include/main.h, include/module.h, include/options.h, include/pe_image.h, include/process.h, include/task.h, include/thread.h, loader/main.c, loader/module.c:
	Exec a separate wine binary for every win32 process so that they run
	in separate address spaces.
	Run 16-bit tasks as Win32 threads, not processes.

2000-05-26  Alexandre Julliard  <julliard@winehq.com>

	* include/version.h, ANNOUNCE, ChangeLog:
	Release 20000526.

	* controls/listbox.c: Serge Ivanov
	- Added handling of WM_MOUSEACTIVATE message
	- Added in_focus field to internal listbox's structure. This flag is set on
	  receiving WM_SETFOCUS message and is reseted on WM_KILLFOCUS. All calls to
	  GetFocus function were replaced with checks of this flag.
	- In LISTBOX_HandleLButtonDown: focus is set only if 'in_focus' flag is
	  clear

	* dlls/dplayx/dplay.c, dlls/dplayx/dplayx_global.c, dlls/dplayx/dplayx_global.h, dlls/dplayx/name_server.c, dlls/dplayx/name_server.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	Started local name server framework.

	* dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c, dlls/commdlg/printdlg.c, include/commdlg.h, dlls/commdlg/cdlg.h, dlls/commdlg/cdlg_En.rc, dlls/commdlg/comdlg32.spec, dlls/commdlg/filedlg.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Add PrintSetup dialog and support for hooks and templates.
	Move 16 bit api definitions out of commdlg.h to cdlg.h

----------------------------------------------------------------
2000-05-26  Alexandre Julliard  <julliard@winehq.com>

	* controls/listbox.c: Serge Ivanov
	- Added handling of WM_MOUSEACTIVATE message
	- Added in_focus field to internal listbox's structure. This flag is set on
	  receiving WM_SETFOCUS message and is reseted on WM_KILLFOCUS. All calls to
	  GetFocus function were replaced with checks of this flag.
	- In LISTBOX_HandleLButtonDown: focus is set only if 'in_focus' flag is
	  clear

	* dlls/dplayx/dplay.c, dlls/dplayx/dplayx_global.c, dlls/dplayx/dplayx_global.h, dlls/dplayx/name_server.c, dlls/dplayx/name_server.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	Started local name server framework.

	* dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c, dlls/commdlg/printdlg.c, include/commdlg.h, dlls/commdlg/cdlg.h, dlls/commdlg/cdlg_En.rc, dlls/commdlg/comdlg32.spec, dlls/commdlg/filedlg.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Add PrintSetup dialog and support for hooks and templates.
	Move 16 bit api definitions out of commdlg.h to cdlg.h

	* controls/edit.c: Henning Hoffmann
	Don't send EN_CHANGE after painting the edit.
	Send it wherever text is changed.

	* controls/edit.c: Ulrich Czekalla <ulrichc@corel.com>
	Moved the EN_UPDATE notification out of the paint handler. Instead,
	the notification is sent when an InvalidateRect is made after
	modifying the text.

	* dlls/comctl32/tooltips.c:
	Francois Methot (Macadamian)
	Fixed the blank color palette tooltip bug by triggering a refresh of
	the tooltip with UpdateWindow function instead of calling directly the
	refresh function.

	* debugger/Makefile.in, debugger/external.c, misc/Makefile.in, misc/ext_debugger.c:
	James Juran <juran@cse.psu.edu>
	DEBUG_ExternalDebugger() needs to be a part of wine, not winedbg.

2000-05-25  Alexandre Julliard  <julliard@winehq.com>

	* Make.rules.in:
	Do not clear suffixes list (breaks BSD make).

	* dlls/winspool/info.c, include/winspool.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Move winspool to unicode.
	Minor bug fixes.

	* dlls/comctl32/trackbar.c:
	Aric Stewart <aric@codeweavers.com>
	Reworked the thumb drawing code, thumb calculation code, channel
	calculation code, and corrected some bugs in how tics are drawn and
	how clicks are handled.

	* controls/edit.c:
	Louis-Philippe Gagnon (of Macadamian Technologies for Corel)
	Added event handler for WM_MBUTTONDOWN (sends WM_PASTE message).

	* dlls/comctl32/toolbar.c:
	Chris Morgan <cmorgan@wpi.edu>
	Use clipping regions to reduce the amount of processing performed when the
	toolbar is repainting.  Reduces processing by approximately 85-95% in most
	cases.

	* dlls/comctl32/treeview.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Fixes crash when calling Treeview_EndEditLabelNow and no node is
	currently edited.

2000-05-24  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/flatsb.c:
	Susan Farley <sfarley@codeweavers.com>
	Defer to standard scrolling APIs for non-flatSB specific functions so
	that flatSBs show up and behave properly, just not with flat properties.

	* graphics/x11drv/dib.c:
	Rob Farnum <robf@codeweavers.com>
	Separate out the 32bit case from the 24bit case, and copy 3bytes of
	source for every 4bytes of input, into the destination for the 24bit
	case.

	* include/winbase.h, include/winnt.h, win32/file.c:
	Francois Gouget <fgouget@psn.net>
	Sorted out a few misplaced definitions.
	Added some missing definitions related to file handling and virtual
	memory manipulation.
	Added IsTextUnicode.

	* dlls/comctl32/treeview.c:
	Aric Stewart <aric@codeweavers.com>
	Added handling for TVS_SINGLEEXPAND.

	* dlls/comctl32/tab.c:
	Aric Stewart <aric@codeweavers.com>
	Corrected the problem where a tab control marked multiline but has
	only one tab was being justified to fill the whole tab space.

	* msdos/dpmi.c: Marcus Meissner <marcus@jet.franken.de>
	Commented out broken __asm__, added comments where it is broken.

	* dlls/comctl32/listview.c:
	Martin Fuchs <martin-fuchs@gmx.net>
	Inserted a missing call to SetWindowPos(). With this change the header
	control is visible again in list views with report style.

	* Make.rules.in, tools/wrc/Makefile.in:
	Revived the GEN_C_SRCS variable to support wrc lex/yacc sources.

2000-05-23  Alexandre Julliard  <julliard@winehq.com>

	* windows/message.c:
	Alexandre Julliard <julliard@codeweavers.com> (for Corel)
	Send a normal mouse message code in WM_PARENTNOTIFY, even if the
	actual message was a non-client one.

	* server/registry.c, dlls/ddraw/main.c, dlls/opengl32/wgl.c, dlls/x11drv/x11drv_main.c, include/x11drv.h:
	Patrik Stridvall <ps@leissner.se>
	Fixed issues found by winapi_check.

	* tools/winapi_check/modules.dat, tools/winapi_check/modules.pm, tools/winapi_check/nativeapi.dat, tools/winapi_check/win32/opengl32.api, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_function.pm, tools/winapi_check/winapi_local.pm, tools/winapi_check/winapi_options.pm:
	Patrik Stridvall <ps@leissner.se>
	- Updated API files
	- Better headers and prototype checking
	- Prototype checking now called --prototype instead of --headers
	- New options --headers-{duplicated,misplaced} for
	  duplicated/misplaced functions checking of the headers.
	- Minor bug fixes.

	* Make.rules.in, configure, configure.in:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	If system doesn't have OpenGL, don't refer to libopengl32.so.

	* dlls/ole32/datacache.c, dlls/ole32/defaulthandler.c:
	Abey George (of Macadamian/Corel)
	When you open files with Embedded objects, they were not getting drawn
	correctly.  When you paste OLE objects with presentation data, they
	were not getting drawn correctly.

	* controls/menu.c: Rob Farnum <robf@codeweavers.com>
	Post a WM_CANCELMODE message to wake up the internal menu handling
	code. This fixes the problem of a menu being orphaned when the parent
	window disappears, or if the parent loses focus.

	* dlls/winsock/socket.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fix a mismatch between format string and parameter.

	* dlls/comctl32/updown.c:
	Susan Farley <sfarley@codeweavers.com>
	SetBuddy no longer overwrites its superclass' WndProc property when
	the buddy has already been subclassed, eliminating the infinite loop
	that resulted.

	* configure, configure.in:
	John R. Sheets <jsheets@codeweavers.com>
	Cleaned up X11 extension tests.

	* controls/edit.c: Ulrich Czekalla <ulrichc@corel.com>
	Capture ^V,^X,^C and translate it to the corresponding message for
	paste, cut, copy.

	* dlls/opengl32/make_opengl_spec, dlls/opengl32/opengl32.spec, dlls/opengl32/wgl.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- fixed the OpenGL32 spec file (and the make_opengl_spec tool)
	- prevent HalfLife from crashing when it frees three times the same
	  rendering context

	* graphics/vga.c, include/vga.h:
	Ove Kaaven <ovek@arcticnet.no>
	Improved DirectDrawPalette handling (set it on init, not every time it
	changes). Added VGA_WriteChars() function.

	* msdos/int33.c: Ove Kaaven <ovek@arcticnet.no>
	Scale mouse coordinates to default width 640.

	* dlls/ddraw/ddraw/main.c:
	Ove Kaaven <ovek@arcticnet.no>
	Made WINE_DirectDraw a decorationless popup window. Fixes mouse
	coordinates previously offset by the invisible decorations.

	* include/winnt.h:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	#undef DELETE before (re)defining it.

	* dlls/comctl32/tooltips.c:
	Chris Morgan <cmorgan@wpi.edu>
	Fixed tooltips.

	* dlls/comctl32/toolbar.c:
	Chris Morgan <cmorgan@wpi.edu>
	Reduce toolbar redrawing and flicker by calling RedrawWindow() in
	TOOLBAR_MouseMove() only if hot effect applies to the current hot
	button.  Restore bHot flag of hot button in TOOLBAR_LButtonUp() to
	restore hot effect properly.

	* controls/listbox.c: Serge Ivanov
	Fixed WM_LBUTTONDBLCLK handling.

	* include/win.h, include/x11drv.h, windows/defwnd.c, windows/nonclient.c, windows/x11drv/wnd.c:
	Susan Farley <sfarley@codeweavers.com>
	Set and retrieve the window icon that is drawn under managed mode
	(based on the work of Andrew Lewycky for Corel).

	* dlls/comctl32/toolbar.c:
	Aric Stewart <aric@codeweavers.com>
	Corrected a problem of when oldHit is negative and we try to use it as
	an index into the buttons array.

	* include/windows.h: Francois Gouget <fgouget@psn.net>
	Should include commdlg.h.

	* include/windef.h: Francois Gouget <fgouget@psn.net>
	Define the _X86_ macro on Intel processors.

	* controls/edit.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Some part of EDIT_EM_LineLength code was commented (broken). Restored
	the capability to calculate the remaining non-selected chars of a
	selection area.

	* dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/x11.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Remove the PRIMARYSURFACE attribute from back buffers.

	* dlls/comctl32/listview.c:
	Aric Stewart <aric@codeweavers.com>
	If a listview is created with LVS_NOCOLUMNEHEADER then wine creates the
	header like normal but just sets it not visible. This fix lays out
	those supposedly nonexistent headers to size 0,0. So that even if they
	become visible they are not drawn.

	* dlls/commdlg/colordlg.c, include/wine/winuser16.h:
	Gerard Patel <g.patel@wanadoo.fr>
	Remove the direct call into core (DIALOG_DoDialogBox).

	* dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/dga2.c, dlls/ddraw/dga_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Initialize the back-buffer with the correct VTable.

	* dlls/opengl32/opengl32.spec, dlls/opengl32/wgl.c, dlls/x11drv/x11drv_main.c, dlls/opengl32/make_opengl_spec, wine.ini:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- added option to get double-buffered desktop
	- implemented wglUseFontBitmapsA and wglDeleteContext

	* tools/wrc/CHANGES, tools/wrc/README.wrc, tools/wrc/dumpres.c, tools/wrc/dumpres.h, tools/wrc/genres.c, tools/wrc/newstruc.c, tools/wrc/newstruc.h, tools/wrc/parser.h, tools/wrc/parser.l, tools/wrc/parser.y, tools/wrc/utils.c, tools/wrc/utils.h, tools/wrc/wrc.h, tools/wrc/wrc.man, tools/wrc/wrctypes.h, tools/wrc/writeres.c:
	Bertho Stultiens <bertho@akhphd.au.dk>
	- Implemented animated cursors and icons resource types.
	- Added partial support for font resources (user supplied fontdir is
	  required).
	- All resources with inline data (a la RCDATA) now support language,
	  version and characteristics data.
	- Implemented resource name duplicate checks. It is now an error if
	  two resources of the same type have the same name.
	- Bugfix: Language propagation was not correct when .res files were
	  generated.
	- Bugfix: VERSIONINFO now handles memory options.
	- Bugfix: resource names and the resource type may be equal (e.g. MENU
	  MENU {...}). This support was mistakingly deleted in the upgrade to
	  the builtin preprocessor.
	  The standalone LANGUAGE setting became context sensitive as a consequence
	  of this. Now it *must* end with a newline *after* both expressions and
	  no newlines are allowed within the line (the statement must fit on one
	  line). This is no practical problem though.

	* tools/winapi_check/output.pm:
	Francois Gouget <fgouget@psn.net>
	Send regular messages to stdout so that they are separate from
	progress messages.

	* documentation/bugreports:
	Gerard Patel <g.patel@wanadoo.fr>
	Regression testing using CVS.

	* dlls/dplayx/dplay.c, dlls/dplayx/dplayx_global.c, documentation/status/directplay:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Small fixes/updates
	- Add support for the DPCONNECTION_DIRECTPLAYLOBBY flag

	* documentation/winedbg:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	A bit of documentation on new debugging features.

	* files/directory.c: James Juran <juran@cse.psu.edu>
	SearchPathA needs to set the last error to ERROR_FILE_NOT_FOUND when
	it does not find the file.

	* scheduler/debugger.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Use WARN() instead of TRACE() in DebugOutputA().

	* memory/heap.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	HeapFree on a NULL ptr should return TRUE.

2000-05-19  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c:
	Chris Morgan <cmorgan@wpi.edu>
	Update nItemWidth in LISTVIEW_SetItem() if LVS_LIST or LVS_SMALLICON
	mode and item text is wider than the current nItemWidth.

	* loader/task.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>U
	Fixed initialization of INSTANCEDATA in InitTask().

	* dlls/ole32/storage.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	StgOpenStorage16: correct arguments to the CreateFile call.

	* files/dos_fs.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	DOSFS_DoGetFullPathName: terminate string weh called like .\\file

	* dlls/icmp/icmp_main.c:
	Francois Gouget <fgouget@psn.net>
	Replace the calls to malloc by calls to HeapAlloc and friends.

	* dlls/comctl32/toolbar.c:
	Aric Stewart <aric@codeweavers.com>
	Fixes the line of garbage at the bottom of images and the fact that
	the buttons in the open dialog box where too tall.

	* dlls/ole32/Makefile.in, dlls/ole32/ole2conv.spec, dlls/ole32/ole2prox.spec, dlls/ole32/ole2thk.spec, if1632/.cvsignore, if1632/Makefile.in, if1632/ole2conv.spec, if1632/ole2prox.spec, if1632/ole2thk.spec, dlls/Makefile.in:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Moved if1632/ole2{conv,prox,thk}.spec into dlls/ole32.

2000-05-18  Alexandre Julliard  <julliard@winehq.com>

	* include/d3d.h, include/d3dcaps.h, include/d3dtypes.h, include/dsound.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Added remaining DirectX 3D3 6&7 3D interfaces.
	- Added d3dcaps.h, d3dtypes.h and rearranged contents according to
	  DirectX 7 headers.
	- Fixed dsound.h include list (d3d.h->d3dtypes.h).

	* programs/regapi/README:
	Juergen Lock <nox@jelal.kn-bremen.de>
	Minor update.

	* misc/printdrv.c: Patrik Stridvall <ps@leissner.se>
	Fixed issues found by winapi_test.

	* dlls/gdi/gdi32.spec, include/wingdi.h, objects/dc.c, objects/dcvalues.c:
	Patrik Stridvall <ps@leissner.se>
	GetRelAbs for some reason takes 2 parameters, even though the second
	one is ignored at least on Windows NT 3.51 according to Marcus Meissner.

	* controls/edit.c: Sheri Steeves
	The edit is now detected correctly if the parent is a combo box. It
	wasn't working when the combobox was superclassed.

	* windows/nonclient.c: Francois Boisvert
	System icons in the small caption bars are displayed with the right size.

	* dlls/opengl32/make_opengl_norm, dlls/opengl32/opengl_norm.c, dlls/opengl32/wgl.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed issues found by winapi_check.

	* tools/winapi_check/modules.dat, tools/winapi_check/win32/opengl32.api, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_options.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	Minor bug fixes.

	* dlls/comctl32/tab.c:
	Francois Gouget <fgouget@psn.net>
	Convert C++ comments to regular C comments.

	* dlls/ddraw/dga_private.h, dlls/ddraw/dsurface/dga.c, dlls/ddraw/dsurface/dga2.c, dlls/ddraw/dsurface/x11.c, dlls/ddraw/x11_private.h:
	Ove Kaaven <ovek@arcticnet.no>
	Made IDirectDrawSurface::SetPalette set the surface's DIBSection color
	map to point to the IDirectDrawPalette's own depth conversion color map.

	* dlls/ddraw/ddraw/main.c, dlls/ddraw/main.c:
	Ove Kaaven <ovek@arcticnet.no>
	Initialize an identity mapping in CreatePalette if no depth conversion
	is necessary. Also fixed a warning.

	* graphics/x11drv/dib.c: Ove Kaaven <ovek@arcticnet.no>
	Made X11DRV_DIB_MapColor map back to the original color index if the
	XImage pixel's physical color is still the same.

2000-05-15  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/xfont.c:
	Use the correct display for cached metrics file name.
	Store metrics in specified config dir.

	* dlls/x11drv/x11drv_main.c, include/options.h, wine.ini:
	Make sure all Wine processes share the same X display.
	Inherit --managed option across processes.
	Add support for specifying display and managed mode in config file.

	* dlls/ddraw/convert.c: Ove Kaaven <ovek@arcticnet.no>
	Use unsigned int instead of unsigned short in DirectDraw
	depth-conversion color map.

	* controls/listbox.c:
	Susan Farley <sfarley@codeweavers.com>
	Avoid calls to SetFocus when they are unnecessary.

2000-05-14  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/treeview.c:
	David Black <dblack@btinternet.com>
	Implemented TVM_EDITLABELA, plus some improvements to EndLabelEditNow.

	* dlls/winmm/wineoss/midi.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	More verbose errors.

	* windows/nonclient.c: Chris Morgan <cmorgan@wpi.edu>
	Fixed borders of windows while dragging or sizing to match
	TWEAK_WineLook setting.

	* relay32/builtin32.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	#include <sys/types.h> before <sys/mman.h>.

	* misc/Makefile.in, misc/ddeml.c, dlls/Makefile.in, dlls/user/Makefile.in, dlls/user/ddeml.c, dlls/user/ddeml.spec, if1632/.cvsignore, if1632/Makefile.in, if1632/ddeml.spec, if1632/ole2nls.spec:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Moved DDEML into dlls/user.

	* dlls/advapi32/registry.c, include/server.h, misc/registry.c, server/registry.c, server/trace.c:
	Added support for registry values larger than the server buffer.
	When loading a registry file, automatically determine overlap between
	key name and file contents based on the first key name.
	Removed v1 saving code.
	Save USER\.Default separately into ~/.wine/userdef.reg.

	* dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/dga2.c, dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw/x11.c, dlls/ddraw/dga.c, dlls/ddraw/dga2.c, dlls/ddraw/dga_private.h, dlls/ddraw/dsurface/dga.c, dlls/ddraw/dsurface/dga2.c, dlls/ddraw/dsurface/main.c, dlls/ddraw/dsurface/x11.c:
	Ove Kaaven <ovek@arcticnet.no>
	Improved DIBSection support for IDirectDrawSurface::GetDC.

	* graphics/x11drv/opengl.c, dlls/opengl32/wgl.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- set debug messages after a TRACE_ON test
	- prevent crash when making the NULL context current

	* controls/menu.c: Gerard Patel <g.patel@wanadoo.fr>
	When new menu Id is not found or index > nitems, insert the new menu
	at end of current menu.

2000-05-13  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ddraw/d3d_private.h, dlls/ddraw/ddraw.spec, dlls/ddraw/ddraw/x11.c, dlls/ddraw/direct3d/mesa.c, dlls/ddraw/main.c, dlls/ddraw/mesa_private.h, include/ddraw.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Added ability to create 3D3 interfaces for Xlib
	- Changed DD_OK to D3D_OK in some places for consistency
	- Cleaned up some compiler warnings present without DGA2
	- Changed order for DirectDrawEnumerateExA to enumerate at least
	  what abilities are known rather than bailing on unsupported flags
	- Added DirectDrawCreateEx stub

2000-05-12  Alexandre Julliard  <julliard@winehq.com>

	* controls/menu.c:
	Susan Farley <sfarley@codeweavers.com>
	Distinguish RADIOCHECK style menu items from standard checkmark menu
	items.

	* controls/button.c:
	Susan Farley <sfarley@codeweavers.com>
	Like the AUTORADIOBUTTON, the parent of a RADIOBUTTON style button
	should be sent a BN_CLICKED when it receives the focus.

	* files/dos_fs.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	GetFullPathname: add missing termination to the string.

	* tools/wrc/genres.c, tools/wrc/newstruc.c, tools/wrc/parser.y, tools/wrc/wrc.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed byte order on Solaris and FreeBSD.

	* graphics/metafiledrv/init.c, graphics/psdrv/init.c, graphics/ttydrv/init.c, graphics/win16drv/init.c, graphics/x11drv/Makefile.in, graphics/x11drv/init.c, graphics/x11drv/opengl.c, include/acconfig.h, include/config.h.in, include/debugdefs.h, include/gdi.h, include/wine_gl.h, include/x11drv.h, loader/loadorder.c, dlls/Makefile.in, dlls/ddraw/d3dviewport.c, dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/x11.c, dlls/ddraw/dsurface/x11.c, dlls/ddraw/mesa_private.h, dlls/opengl32/.cvsignore, dlls/opengl32/Makefile.in, dlls/opengl32/make_opengl_ext, dlls/opengl32/make_opengl_norm, dlls/opengl32/make_opengl_spec, dlls/opengl32/opengl32.spec, dlls/opengl32/opengl_ext.c, dlls/opengl32/opengl_ext.h, dlls/opengl32/opengl_norm.c, dlls/opengl32/wgl.c, dlls/opengl32/wgl.h, graphics/enhmetafiledrv/init.c, graphics/painting.c, Make.rules.in, configure, configure.in:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added support for OpenGL.

	* dlls/shell32/shlfolder.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed absolute path to pidl generation.

2000-05-11  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/shlfolder.c:
	Alexandre Julliard <julliard@codeweavers.com> (for Corel)
	Fixed buffer overflow.

	* dlls/imagehlp/access.c, dlls/imagehlp/integrity.c, dlls/imagehlp/symbol.c, dlls/shell32/brsfolder.c, dlls/shell32/shellord.c, dlls/tapi32/line.c, dlls/tapi32/phone.c, windows/driver.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some debug messages.

	* dlls/richedit/richedit.c, include/richedit.h, dlls/comctl32/listview.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed issues found by winapi_check.

	* tools/winapi_check/modules.dat, tools/winapi_check/win16/ole2disp.api, tools/winapi_check/win32/advapi32.api, tools/winapi_check/win32/crtdll.api, tools/winapi_check/win32/imagehlp.api, tools/winapi_check/win32/kernel32.api, tools/winapi_check/win32/ntdll.api, tools/winapi_check/win32/oleaut32.api, tools/winapi_check/win32/riched32.api, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_function.pm, tools/winapi_check/winapi_local.pm, tools/winapi_check/winapi_options.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Check for missing modules in modules.dat.
	- New options --debug-messages for debug message checking (turned off
	  by default)
	- Do not discard the argument name (use in debug message checking)
	- Improved parsing
	- Minor bug fixes

	* graphics/x11drv/dib.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Fixed asm() constraints.

	* debugger/dbg.y, debugger/debugger.h, debugger/info.c, debugger/intvar.h, debugger/stabs.c, debugger/stack.c, debugger/types.c, debugger/winedbg.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed %p in printf (now using wsprintf which doesn't support it).
	Added ThreadId and ProcessId internal vars.
	Allow at startup to pick up a process to debug.

	* dlls/winmm/wineoss/audio.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed division by zero.

	* dlls/comctl32/trackbar.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed some quirks (range is 32 bit, page up/dn mismatch on HZ trackbars).

	* windows/scroll.c: Ove Kaaven <ovek@arcticnet.no>
	Scroll off-screen controls when scroll rectangle is NULL.

	* dlls/comctl32/tab.c, include/tab.h:
	Ken Thomases <ken@codeweavers.com>
	Implemented tab control style TCS_HOTTRACK (tabs are highlighted on
	mouse-over).

	* dlls/comctl32/imagelist.c:
	Aric Stewart <aric@codeweavers.com>
	Remove the background from the new image when it is being replaced
	with a ReplaceImage.

	* loader/ne/module.c, loader/ne/segment.c, loader/task.c:
	Bernd Herd <info@herdsoft.com>
	Make sure hInstance is a proper global handle and not a selector
	value.

	* dlls/commdlg/printdlg.c: Jean-Claude Batista
	PrintDialog now creates a DC when receiving a PD_RETURNDC flag.

	* dlls/comctl32/treeview.c:
	Aric Stewart <aric@codeweavers.com>
	Clean up the drawing code after a label update. There were problems if
	the new label is shorter that the old label fragments of the old label
	were left drawn.

	* windows/win.c: Guy Albertelli <galberte@neo.lrun.com>
	Clear menu handle after destroying menu.

	* controls/menu.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Revalidate menu handle in mt.hTopMenu after DispatchMessage.

	* windows/dialog.c: Bernd Herd <info@herdsoft.com>
	Pass CTLDATA as SEGPTR for 16-bit programs.

	* dlls/version/ver16.c:
	Alexander Frink <Alexander.Frink@Uni-Mainz.DE>
	Prevent possible NULL pointer access.

2000-05-10  Alexandre Julliard  <julliard@winehq.com>

	* controls/menu.c: Aric Stewart <aric@codeweavers.com>
	- Wine was passing the wrong hwnd as the owner when processing owner
	  drawn menubars.
	- When doing MENU_CalcItemSize for the menu bar we were not properly
	  padding the returned rect.

	* dlls/comctl32/treeview.c:
	Aric Stewart <aric@codeweavers.com>
	Allow the user to cancel label editing with esc and confirm with return.

	* dlls/comctl32/tab.c:
	Ken Thomases <ken@codeweavers.com>
	Restore accidentally undone changes.

	* dlls/comctl32/treeview.c:
	Aric Stewart <aric@codeweavers.com>
	- Wine was not properly reporting back the edited label to the
	  application in a treeview when the label is a callback.
	- Because windows applications assume they get a new edit control
	  every time they often subclass that edit box willy-nilly and do not
	  clean up. So it is necessary to actually give them a new edit control
	  each time.

	* dlls/comctl32/toolbar.c:
	Aric Stewart <aric@codeweavers.com>
	- Cleaned up some of the drawing code, specifically dealing with
	  avoiding trying to draw invalid bitmaps.
	- Avoid directly calling drawing functions instead invalidating rects
	  and relying on WM_PAINT.
	- For the dropdown event check the button style as opposed to the
	  toolbar style.

	* dlls/dsound/dsound_main.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Make internal buffers size multiple of 4.

	* windows/mdi.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	Verify the menu handle is non-zero prior to use.

	* controls/menu.c: Ken Thomases <ken@codeweavers.com>
	Fixed to display popup-menu arrow on owner-drawn popup menus.
	Fixed positioning of submenus relative to parent menus.

	* windows/x11drv/event.c, dlls/comctl32/animate.c, dlls/winmm/time.c, graphics/vga.c, misc/system.c, scheduler/services.c, windows/timer.c:
	Specify the service thread timers in ms instead of us.

	* relay32/builtin32.c, relay32/relay386.c, tools/build.c, include/builtin32.h, include/winnt.h, misc/main.c:
	Reserve space for the PE header at the start of the .so file.
	Store the export table inside the data section so that sections can be
	properly aligned.
	Build the relay function table directly in the .spec.c file.
	Moved relay debugging functions to relay386.c.

	* dlls/comctl32/pager.c, dlls/comctl32/progress.c, dlls/comctl32/rebar.c, dlls/comctl32/status.c, dlls/comctl32/tab.c, dlls/comctl32/tooltips.c, dlls/comctl32/trackbar.c, dlls/comctl32/updown.c, dlls/comctl32/animate.c, dlls/comctl32/comboex.c, dlls/comctl32/header.c, dlls/comctl32/hotkey.c, dlls/comctl32/ipaddress.c, dlls/comctl32/listview.c, dlls/comctl32/monthcal.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Protect against use of comctl32 private control memory after it has
	been freed.

	* dlls/comctl32/status.c:
	Aric Stewart <aric@codeweavers.com>
	Some programs switch their status bar back and forth from simple mode
	while running. This fix corrects drawing and text setting problems that
	result from this behavior.

2000-05-09  Alexandre Julliard  <julliard@winehq.com>

	* memory/heap.c:
	Alexandre Julliard <julliard@codeweavers.com> (for Corel)
	Fixed HeapAlloc(HEAP_ZERO_MEMORY) to clear the whole allocated block.
	Various optimizations.

	* dlls/winmm/wineoss/audio.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Changed WAVEHDR notification heuristic.
	Added preliminary support for loops in WAVEHDRs.
	Fixed issues when mixing open and getCaps calls.

	* tools/wrc/CHANGES, tools/wrc/Makefile.in, tools/wrc/README.wrc, tools/wrc/dumpres.c, tools/wrc/genres.c, tools/wrc/newstruc.c, tools/wrc/parser.h, tools/wrc/parser.l, tools/wrc/parser.y, tools/wrc/readres.c, tools/wrc/wrc.c, tools/wrc/wrc.h, tools/wrc/wrc.man, tools/wrc/wrctypes.h, tools/wrc/writeres.c:
	Bertho Stultiens <bertho@akhphd.au.dk>
	- Bugfix: Corrected a SEGV in the rawdata handling. Mistakingly took the
	  address of a pointer instead of its value. This probably slipped in
	  during the merge of my tree into the winetree.
	  Lesson learned: always double check.
	- Verified most resources so that win16 compile also generates correct
	  output for reversed endian.
	- Implemented byte-ordering for resources. All resources can be forced
	  to be little-, big- or native endian with command-line option -B.
	- Reading resources from .res-files are only accepted in native byte-
	  ordering so that no additional semantic analysis is required.
	- Resource directory is still written in native-only format, including
	  the strings.
	- Wrc is now installed through the makefile with 'make install' and also
	  uninstalled with 'make uninstall'.
	- Wrote a man-page for better reference. The manpage also gets installed
	  and uninstalled.
	- Cleaned up the namespace a bit by more agressive use of static.

	* dlls/comctl32/tab.c, include/tab.h:
	Aric Stewart <aric@codeweavers.com>
	Added the ability to use multiline tab controls to wine.

	* dlls/ddraw/dsurface/main.c, dlls/ddraw/dsurface/x11.c:
	Marcus Meissner <marcus@jet.franken.de>
	Number of surface Lock/Unlocks must NOT match, so do NOT use it for
	reference counting.

	* tools/wineinstall: Ove Kaaven <ovek@arcticnet.no>
	Update for new Wine features; use ttydrv instead of x11drv when
	running regapi, and set correct winedbg path in the registry.

	* scheduler/pthread.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed jump_alias for non-PIC, and disabled it for PIC, since it
	doesn't work for PIC right now. This fixes current crashing sigaction
	calls.

	* debugger/memory.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed x /s command.

	* dlls/advapi32/registry.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added some reg temp file clutter check (more than 100 temp files in
	~/.wine).

2000-05-07  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/dib.c:
	Marcus Meissner <marcus@jet.franken.de>
	SetImageBits_8: added ->15 conversion in optimized assembler.

	* dlls/richedit/Makefile.in, dlls/richedit/ansi_gen.h, dlls/richedit/ansi_sym.h, dlls/richedit/charlist.c, dlls/richedit/charlist.h, dlls/richedit/reader.c, dlls/richedit/riched32.h, dlls/richedit/riched32.spec, dlls/richedit/riched32_main.c, dlls/richedit/richedit.c, dlls/richedit/rtf.h, dlls/richedit/rtf2text.h, dlls/richedit/stdcharnames.h, dlls/richedit/text-writer.c, dlls/richedit/text_map.h, include/richedit.h:
	Jean-Claude Batista
	Wraps some RichEdit control functionality on an Edit control. It uses
	a free implementation of an RTF parser written by Paul DuBois
	http://www.primate.wisc.edu/software/RTF/ which I modified a bit to
	work with the control.

	* windows/winproc.c:
	Do not send WM_SIZING to 16-bit windows.

	* dlls/gdi/gdi_main.c, dlls/user/user_main.c:
	Cleaned up local heap initialisation.

	* dlls/commdlg/cdlg32.c, dlls/ole32/ole2.c, include/winbase.h, include/wine/winbase16.h, loader/pe_image.c, relay32/builtin32.c, windows/driver.c:
	Moved Load/FreeLibrary16 definition to winbase16.h.

	* dlls/Makefile.in, dlls/ole32/Makefile.in, dlls/ole32/ole2nls.c, dlls/ole32/ole2nls.spec, if1632/Makefile.in, ole/ole2nls.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Separate OLE2NLS out of KERNEL.

	* tools/winapi_check/modules.dat, tools/winapi_check/modules.pm, tools/winapi_check/winapi_check:
	Patrik Stridvall <ps@leissner.se>
	- Check for missing modules in modules.dat.
	- Minor bug fixes

	* graphics/x11drv/dib.c:
	Jean-Claude Batista (Macadamian/Corel)
	Top-down images have a negative biHeight, the scanlines of theses
	images were inverted in X11DRV_DIB_GetImageBits_xx. To prevent this I
	simply changed the sign of lines, the scanlines were correctly handled
	afterwards

	* debugger/stabs.c:
	Marcus Meissner <marcus@jet.franken.de>
	Old versions of glibc might not have STN_UNDEF defined.

	* files/file.c: Gerard Patel <g.patel@wanadoo.fr>
	Revert the test for Virtual_HandleFault in ReadFile/WriteFile.

	* dlls/comctl32/status.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Set the itemID member of the DRAWITEMSTRUCT to the number of the
	status part painted.

	* windows/mdi.c: Gerard Patel <g.patel@wanadoo.fr>
	Always calls SetMenu in MDISetMenu.

	* dlls/tapi32/line.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Small debug channel cleanup.

	* controls/listbox.c: Chris Morgan <cmorgan@wpi.edu>
	Fixed scrolling bug.

	* dlls/comctl32/listview.c, include/listview.h:
	Chris Morgan <cmorgan@wpi.edu>
	Implemented ListView_SetHoverTime(), ListView_GetHoverTime(), initial
	support for the LVS_EX_TRACKSELECT flag.  Added code to delete items
	in LISTVIEW_SetItemCount().

2000-05-05  Alexandre Julliard  <julliard@winehq.com>

	* include/winuser.h, windows/nonclient.c:
	Aric Stewart <aric@codeweavers.com>
	Added WM_SIZING message support.

	* graphics/path.c: Rob Farnum <robf@twinux.com>
	Removed warnings from freeing path in DeleteDC.

	* dlls/comctl32/header.c:
	Aric Stewart <aric@codeweavers.com>
	Fixed a bug with the processing of HitTest.

	* controls/edit.c: Susan Farley <susan@codeweavers.com>
	Handle ^C, ^V and ^X in an edit control properly.

	* misc/registry.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Strip the $$$PROTO.HIV bit from win2k SYSTEM and SOFTWARE hives.

	* dlls/comctl32/treeview.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fixed DC leak.

	* loader/pe_resource.c:
	Stephane Lussier <stephane@macadamian.com>
	If we do not find a resource for both (primary lang|sub lang), we try
	just (primary lang) before using the default.

	* dlls/comctl32/tooltips.c:
	Sheri Steeves <sheri@macadamian.com>
	Worked around some tooltips hide problems by checking the current tooltip.

	* documentation/distributors:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Added a configuration hint for the CD-ROM "unhide" option.

	* ole/ole2nls.c:
	Henning Hoffmann (of Macadamian for Corel)
	Implemented SetLocaleInfo(). It required a change to GetLocaleInfo()
	as well, because GetLocaleInfo() has to get any values saved by
	SetLocaleInfo() in the registry.

	* debugger/break.c, debugger/dbg.y, debugger/debugger.h, debugger/intvar.h, debugger/module.c, debugger/stabs.c, debugger/winedbg.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed some buffer overflows.
	Made stab parsing more robust (now ignores C++ stabs).
	Display correct backtrace at first when invoked on unhandled exception.
	Loads stabs from .so files when those are loaded.

2000-05-03  Alexandre Julliard  <julliard@winehq.com>

	* include/debugdefs.h: Generated again.

	* include/pe_image.h, loader/pe_image.c:
	PE_LoadImage: removed version parameter, set last error correctly.

	* scheduler/process.c, server/process.c, server/trace.c, include/process.h, include/server.h:
	Store process file name in startup info.
	Fixed exe_file handling.

	* dlls/Makefile.in: Fixed typo.

	* Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/richedit/.cvsignore, dlls/richedit/Makefile.in, dlls/richedit/riched32.spec, dlls/richedit/riched32_main.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added stubs for riched32.dll.

	* dlls/x11drv/x11drv_main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Call XOpenIM on the large stack.

	* include/winsock.h:
	Bang Jun-Young <bangjy@dreamwiz.com>
	FreeBSD 3.4 compile fix.

	* debugger/editline.c, debugger/winedbg.c, graphics/vga.c, include/winbase.h, include/wincon.h, relay32/kernel32.spec, server/console.c, win32/console.c:
	Fixed COORD structure definition.
	Fixed GetLargestConsoleWindowSize to not return a structure when
	called from the Window binary.

	* server/object.c: Small optimization.

	* scheduler/thread.c: Fixed default thread stack size.

	* objects/text.c: Fixed DrawTextW length handling.

	* dlls/ddraw/dsurface/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Remove the assertion when there is no source surface.

	* include/oleauto.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Add DosDateTimeToVariantTime prototype.

	* dlls/shell32/shlwapi.spec:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Map StrChrA to strchr.  Fix StrChrW arg list.

	* include/winuser.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Added HWND_MESSAGE.

	* dlls/ole32/stg_stream.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Allow ISequentialStream_Write to work if access mode is STGM_READWRITE.

	* misc/registry.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Mmap does not fail on zero-length files.

2000-05-01  Alexandre Julliard  <julliard@winehq.com>

	* include/global.h, memory/virtual.c:
	Use exception handling to implement the IsBad* functions.
	Removed /proc/self/maps parsing as it is not very useful with .so libs.

	* include/process.h, include/thread.h, miscemu/main.c, scheduler/process.c, scheduler/thread.c:
	Setup the initial thread %fs from a constructor.

	* dlls/ddraw/dga.c, dlls/ddraw/dga2.c, dlls/ddraw/x11.c, include/winnt.h:
	Added DECL_GLOBAL_CONSTRUCTOR macro.

	* resources/user32.rc, tools/Makefile.in, tools/wrc/.cvsignore, tools/wrc/CHANGES, tools/wrc/Makefile.in, tools/wrc/README.wrc, tools/wrc/newstruc.c, tools/wrc/parser.h, tools/wrc/parser.l, tools/wrc/parser.y, tools/wrc/ppl.l, tools/wrc/ppy.y, tools/wrc/preproc.c, tools/wrc/preproc.h, tools/wrc/utils.c, tools/wrc/utils.h, tools/wrc/wrc.c, tools/wrc/wrc.h, tools/wrc/writeres.c, dlls/commdlg/rsrc.rc, dlls/display/disp.rc, dlls/shell32/shres.rc, programs/clock/Makefile.in, programs/notepad/Makefile.in, programs/progman/Makefile.in, programs/winemine/Makefile.in, programs/winhelp/Makefile.in, dlls/comctl32/rsrc.rc:
	Bertho Stultiens <bertho@akhphd.au.dk>
	- Implemented a new preprocessor that is (nearly) ANSI-C compliant. The
	  old parser has been stripped from the old preprocessor-code which
	  cleaned up both resource-scanner and -parser.
	- Standard defines have been introduced (see README.wrc)
	- Both preprocessor- and resource-scanner have been optimized slightly
	  so that no backing up is required (one char lookahead is enough).
	- Filename-scanning has been cleaned up, though not perfect yet.
	- User-type resources are compatible now.
	- Line-continuation in strings is corrected so that it does not
	  introduce a newline in the output.

	* scheduler/thread.c, server/process.c, server/process.h, server/request.c, server/request.h, server/thread.c, server/thread.h, server/trace.c, windows/queue.c, loader/module.c, memory/environ.c, miscemu/main.c, scheduler/process.c, include/process.h, include/server.h, include/thread.h, loader/main.c:
	Rewrote Unix process launching to allow passing startup information to
	Winelib apps. Improved handling of execve() failures.

	* files/file.c: Added ENOEXEC error code.

	* scheduler/pthread.c: Added atfork support.

	* configure.in, dlls/ddraw/Makefile.in, dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/dga2.c, dlls/ddraw/dga.c, dlls/ddraw/dga2.c, dlls/ddraw/dga2_private.h, dlls/ddraw/dga_private.h, dlls/ddraw/dpalette/dga.c, dlls/ddraw/dsurface/dga.c, dlls/ddraw/dsurface/dga2.c, configure:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added DGA2 driver to DirectDraw.

	* dlls/commdlg/cdlg32.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	COMDLG32_DllEntryPoint,COMDLG32_SetCommDlgExtendedError: delay
	allocation of Tls for CommDlgExtendedError until it is needed.

	* debugger/winedbg.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed segv when debugger registry key doesn't exist.

	* dlls/icmp/icmp_main.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Use <stdlib.h> instead of the deprecated and non-portable <malloc.h>.

2000-04-30  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, include/version.h:
	Release 20000430.

	* windows/x11drv/wnd.c:
	Gerard Patel <g.patel@wanadoo.fr>
	X11DRV_SetFocus: really don't mess with focus for managed windows.

	* graphics/win16drv/graphics.c, graphics/x11drv/oembitmap.c, graphics/x11drv/text.c, include/heap.h, memory/heap.c, objects/text.c, windows/clipboard.c, windows/input.c, windows/winproc.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Removed HEAP_xalloc.

	* debugger/break.c, debugger/db_disasm.c, debugger/dbg.y, debugger/debug.l, debugger/debugger.h, debugger/display.c, debugger/editline.c, debugger/expr.c, debugger/hash.c, debugger/info.c, debugger/intvar.h, debugger/memory.c, debugger/registers.c, debugger/source.c, debugger/stabs.c, debugger/stack.c, debugger/types.c, debugger/winedbg.c, debugger/winedbg.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	- Enhanced internal variables framework (including read/save to
	  registry and typing)
	- Finalized use of Windows' Console I/O interface (instead of Unix std
	  streams)
	- Now handling registers as internal variables (they are no longer
	  seen as a specific type)

	* win32/except.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Insure we always try to launch a debugger.

	* relay32/wowthunk.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Use Thread pseudo handle and not Thread Id as argument for the call to
	GetThreadSelectorEntry.

----------------------------------------------------------------
2000-04-30  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/wnd.c:
	Gerard Patel <g.patel@wanadoo.fr>
	X11DRV_SetFocus: really don't mess with focus for managed windows.

	* graphics/win16drv/graphics.c, graphics/x11drv/oembitmap.c, graphics/x11drv/text.c, include/heap.h, memory/heap.c, objects/text.c, windows/clipboard.c, windows/input.c, windows/winproc.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Removed HEAP_xalloc.

	* debugger/break.c, debugger/db_disasm.c, debugger/dbg.y, debugger/debug.l, debugger/debugger.h, debugger/display.c, debugger/editline.c, debugger/expr.c, debugger/hash.c, debugger/info.c, debugger/intvar.h, debugger/memory.c, debugger/registers.c, debugger/source.c, debugger/stabs.c, debugger/stack.c, debugger/types.c, debugger/winedbg.c, debugger/winedbg.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	- Enhanced internal variables framework (including read/save to
	  registry and typing)
	- Finalized use of Windows' Console I/O interface (instead of Unix std
	  streams)
	- Now handling registers as internal variables (they are no longer
	  seen as a specific type)

	* win32/except.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Insure we always try to launch a debugger.

	* relay32/wowthunk.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Use Thread pseudo handle and not Thread Id as argument for the call to
	GetThreadSelectorEntry.

2000-04-29  Alexandre Julliard  <julliard@winehq.com>

	* loader/pe_image.c:
	Clear the remainder of the page when mapping a section whose size on
	disk is not a full page multiple.
	Temporarily commented out the VirtualFree call in PE_UnloadLibrary.

	* dlls/ddraw/ddraw/x11.c, include/ts_xlib.h, tsx11/X11_calls, tsx11/ts_xlib.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- added thread-safety protection to XListPixmapFormats
	- moved pixmap / image format matching ERRs to WARNs

	* win32/console.c, include/winbase.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed GetLargestConsoleWindowSize prototype.

	* dlls/wininet/ftp.c:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	FreeBSD compile fix.

	* graphics/x11drv/dib.c, include/bitmap.h, include/gdi.h, include/x11drv.h, objects/dib.c:
	Ove Kaaven <ovek@arcticnet.no>
	Added DIB_CreateDIBSection with extra parameter ovr_pitch, added
	ovr_pitch to pCreateDIBSection in DC_FUNCS. If ovr_pitch is nonzero,
	it is a pitch override (specifies bytes per line), and tells to treat
	the offset parameter as an already-mapped virtual memory address (if
	the section parameter is zero). Fixed a DIB status init bug in
	creating DIB sections from file mappings (if created from mapping, the
	DIB is *not* really InSync).

	* include/winbase.h, memory/virtual.c:
	Ove Kaaven <ovek@arcticnet.no>
	Add Wine-internal allocation type MEM_SYSTEM for VirtualAlloc to
	register external mappings (like video frame buffers).

	* configure.in, include/config.h.in, scheduler/pthread.c, configure:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Enhanced libc's pthread configuration detection.

	* dlls/x11drv/x11drv_main.c, graphics/x11drv/bitmap.c, msdos/dosaspi.c, windows/multimon.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed a few compilation warnings.

	* dlls/commdlg/colordlg.c, dlls/shell32/shellord.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* dlls/dplayx/dpclassfactory.c, dlls/shell32/shell32.spec, dlls/urlmon/urlmon.spec, dlls/urlmon/urlmon_main.c, misc/comm.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed issues reported by winapi_check.

	* tools/winapi_check/win32/shell32.api, tools/winapi_check/win32/shlwapi.api, tools/winapi_check/winapi_check, tools/winapi_check/winapi_local.pm, tools/winapi_check/winapi_options.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- API files update
	- Minor bug fixes.
	- Added new option --cross-call-unicode-ascii for checking illegal
	  Unicode to ASCII calls.

	* configure, configure.in, include/config.h.in:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added '--enable-opengl' flag to bypass the thread-safety check.

	* files/dos_fs.c, files/profile.c, graphics/painting.c, windows/x11drv/event.c, dlls/lzexpand/lzexpand_main.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Removed some HEAP_xalloc calls.

	* dlls/winmm/mci.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed bug when file doesn't exist in MCI_OPEN handling.
	Reduced time spent with crit sect locked.

	* tools/build.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed argv handling for cuiexe winelib programs.

	* scheduler/pthread.c: Ove Kaaven <ovek@arcticnet.no>
	Made pthread_kill_other_threads_np and pthread_atfork fixmes less
	obtrusive.

	* windows/winhelp.c: Rein Klazes <rklazes@casema.net>
	WinHelp must accept a NULL pointer to the help key string.

2000-04-28  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/finddlg32.c:
	Guy L. Albertelli <galberte@neo.lrun.com>
	- Correct check for minimum buffer length.
	- Correct cases where ShowWindow is done/not done.

	* dlls/comctl32/commctrl.c:
	Chris Morgan <cmorgan@wpi.edu>, James Abbatiello <abbeyj@wpi.edu>
	Implemented TME_QUERY and TME_HOVER flags in _TrackMouseEvent and
	TrackMouseEventProc.  Added code to allow addition/cancelation of
	tracking flags on existing entries rather than create extra entries.
	Fixed timer.  Added check to _TrackMouseEvent to stop timer if the
	tracking list is empty.  Fixed TME_CANCEL.  Fixed TME_LEAVE/TME_HOVER
	when hwndTrack isn't the current hwnd.

	* files/dos_fs.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	DOSFS_DoGetFullPathName: rewrite to return results like OSR2.

	* include/module.h, loader/module.c, loader/pe_image.c, memory/virtual.c:
	Gavriel State <gavriels@corel.com>, Ulrich Czekalla <ulrichc@corel.com>
	Added support for memory mapping of 4k aligned PE binaries.  This can
	speed up load times significantly for some applications.

	* dlls/shell32/brsfolder.c, dlls/shell32/shellguid.c, dlls/shell32/shellpath.c, dlls/shell32/shlfileop.c, dlls/shell32/shlfolder.c, dlls/shell32/shlmenu.c, dlls/shell32/shlwapi.spec, dlls/shell32/shres.rc, dlls/shell32/shresdef.h, dlls/shell32/shv_bg_cmenu.c, include/shell.h, include/shlobj.h, include/shlwapi.h, include/wine/obj_shellbrowser.h, include/wine/undocshell.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	Complete cleanup, bugfixes.
	New: PathStripPath, PathMakeUniqueName, PathStripToRoot,
	PathGetShortPath, PathParseIconLocation, PathRemoveExtension,
	PathRemoveArgs, PathAppend, PathBuildRoot, PathCanonicalize,
	PathFindNextComponent, PathRemoveFileSpec.

	* dlls/shell32/classes.c, include/wine/obj_queryassociations.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	Stubs for IQueryAssociations.

	* dlls/shell32/Makefile.in, dlls/shell32/dialogs.c, dlls/shell32/shellord.c, dlls/shell32/shpolicy.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Moved policy related functions to shpolicy.c
	Moved dialog related functions to dialogs.c

	* dlls/shell32/shell32.spec:
	Juergen Schmied <juergen.schmied@debitel.net>
	Explicit import user32.dll.
	Many corrections, exported some functions by name.

	* dlls/shell32/shell.c, dlls/shell32/shellole.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Separated 32 bit functions to shellole.c.

	* dlls/shell32/pidl.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Small fixes.

	* dlls/shell32/iconcache.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Fixed: extract the icon by resource id.

	* dlls/shell32/shlview.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Small fixes.

	* dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	Fixes.
	Use GetModuleHandleA instead of LoadLibrary for dlls imported by
	the spec file.

	* wine.ini: Dmitry Timoshkov <dmitry@sloboda.ru>
	Make WineLook=Win95 the default setting.

	* dlls/dinput/dinput_main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added leaving of critical section on all return cases.

	* scheduler/pthread.c: Ove Kaaven <ovek@arcticnet.no>
	Removed init_sect. Use Interlocked* functions instead.

	* misc/registry.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Small fixes, removed asserts.

	* libtest/Makefile.in, programs/clock/Makefile.in, programs/cmdlgtst/Makefile.in, programs/notepad/Makefile.in, programs/progman/Makefile.in, programs/view/Makefile.in, programs/winhelp/Makefile.in:
	Changed imports of winspool to winspool.drv.

	* dlls/Makefile.in, dlls/user/Makefile.in:
	Added libkeyboard.so creation.

	* dlls/comctl32/header.c, include/header.h:
	Martin Fuchs <martin-fuchs@gmx.net>
	- Return modified rectangle after layouting header control
	- Output text in header control when no other Flag specified
	- Delay bounding rectangle calculation for header control items

	* dlls/comctl32/toolbar.c:
	Chris Morgan <cmorgan@wpi.edu>
	Implemented TOOLBAR_MouseLeave to handle WM_MOUSELEAVE messages.
	Added TrackMouseEvent calls to TOOLBAR_MouseMove.  Hot buttons now
	look/behave almost exactly the same as native windows.

	* windows/sysparams.c: Chris Morgan <cmorgan@wpi.edu>
	Added default values for SPI_GETMOUSEHOVERHEIGHT, SPI_GETMOUSEHOVERWIDTH and
	SPI_GETMOUSEHOVERTIME to SystemParametersInfo16().

	* misc/comm.c: Rein Klazes <rklazes@casema.net>
	Implement mark and space parity generation. Accept one-and- a-half
	stopbits: the most common uarts will generate this automatically when
	there are 5 databits.

	* scheduler/pthread.c: Ove Kaaven <ovek@arcticnet.no>
	Override fork().

	* debugger/debugger.h, include/heap.h, memory/heap.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Get rid of HEAP_xrealloc.

2000-04-25  Alexandre Julliard  <julliard@winehq.com>

	* Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/ddraw/Makefile.in:
	Patrik Stridvall <ps@leissner.se>
	Compile fix for --without-x.

	* loader/main.c, wine.ini:
	Patrik Stridvall <ps@leissner.se>
	Added new configuration file option for selecting graphics driver.

	* dlls/ttydrv/Makefile.in:
	Patrik Stridvall <ps@leissner.se>
	Link the TTY driver with the standard libs.

	* Make.rules.in, dlls/Makefile.in, dlls/commdlg/Makefile.in, dlls/winspool/.cvsignore, dlls/winspool/Makefile.in:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed winspool(.drv) loading.

	* windows/x11drv/clipboard.c, windows/x11drv/event.c, windows/x11drv/init.c, windows/x11drv/keyboard.c, windows/x11drv/mouse.c, windows/x11drv/wnd.c, graphics/x11drv/bitblt.c, graphics/x11drv/bitmap.c, graphics/x11drv/brush.c, graphics/x11drv/clipping.c, graphics/x11drv/dib.c, graphics/x11drv/graphics.c, graphics/x11drv/init.c, graphics/x11drv/objects.c, graphics/x11drv/oembitmap.c, graphics/x11drv/palette.c, graphics/x11drv/pen.c, graphics/x11drv/text.c, graphics/x11drv/xfont.c, include/ts_xf86dga.h, include/ts_xf86dga2.h, include/ts_xf86vmode.h, include/ts_xlib.h, include/ts_xpm.h, include/ts_xresource.h, include/ts_xshm.h, include/ts_xutil.h, include/x11drv.h, tools/make_X11wrappers, tsx11/ts_xf86dga.c, tsx11/ts_xf86dga2.c, tsx11/ts_xf86vmode.c, tsx11/ts_xlib.c, tsx11/ts_xpm.c, tsx11/ts_xresource.c, tsx11/ts_xshm.c, tsx11/ts_xutil.c:
	Patrik Stridvall <ps@leissner.se>
	Removed X_DISPLAY_MISSING.

	* debugger/types.c, debugger/msc.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Improved CodeView type information loader.

	* dlls/commdlg/colordlg.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Don't use the template member unless the corresponding flag is set.

2000-04-24  Alexandre Julliard  <julliard@winehq.com>

	* LICENSE, WARRANTY:
	Switched to the X11 license.

	* server/registry.c, if1632/relay.c, misc/ddeml.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* dlls/wininet/Makefile.in, dlls/wininet/wininet.spec, dlls/wininet/wininet_main.c, dlls/comctl32/comctl32.spec, dlls/comctl32/commctrl.c, dlls/dinput/dinput.spec, dlls/dinput/dinput_main.c, dlls/dplayx/dpclassfactory.c, dlls/dplayx/dplayx.spec, dlls/shell32/shell32.spec, dlls/shell32/shell32_main.c, dlls/urlmon/Makefile.in, dlls/urlmon/urlmon.spec, dlls/urlmon/urlmon_main.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed issues found by winapi_check.

	* tools/winapi_check/win16/wprocs.api, tools/winapi_check/win32/dinput.api, tools/winapi_check/win32/kernel32.api, tools/winapi_check/win32/urlmon.api, tools/winapi_check/win32/wininet.api, tools/winapi_check/winapi_function.pm, tools/winapi_check/winapi_local.pm, tools/winapi_check/winapi_options.pm, tools/winapi_check/modules.dat, tools/winapi_check/modules.pm, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check:
	Patrik Stridvall <ps@leissner.se>
	- Updated API files.
	- Improved misplaced function checking.
	- Fixed minor bugs.

	* include/winnt.h: Francois Gouget <fgouget@psn.net>
	Include string.h to make winnt.h self-sufficient.

	* dlls/comctl32/tooltips.c: Patrick Yang (Corel)
	infoPtr sometimes can be NULL.

	* dlls/commdlg/cdlg_Ca.rc, dlls/commdlg/cdlg_Cs.rc, dlls/commdlg/cdlg_Da.rc, dlls/commdlg/cdlg_De.rc, dlls/commdlg/cdlg_En.rc, dlls/commdlg/cdlg_Eo.rc, dlls/commdlg/cdlg_Es.rc, dlls/commdlg/cdlg_Fi.rc, dlls/commdlg/cdlg_Fr.rc, dlls/commdlg/cdlg_Hu.rc, dlls/commdlg/cdlg_It.rc, dlls/commdlg/cdlg_Ja.rc, dlls/commdlg/cdlg_Ko.rc, dlls/commdlg/cdlg_Nl.rc, dlls/commdlg/cdlg_No.rc, dlls/commdlg/cdlg_Pl.rc, dlls/commdlg/cdlg_Pt.rc, dlls/commdlg/cdlg_Ru.rc, dlls/commdlg/cdlg_Sk.rc, dlls/commdlg/cdlg_Sv.rc, dlls/commdlg/cdlg_Wa.rc, dlls/commdlg/colordlg.c, include/commdlg.h:
	Gerard Patel <g.patel@wanadoo.fr>
	32 bits message processing for color dialog.

	* dlls/comctl32/toolbar.c, dlls/comctl32/commctrl.c:
	Martin Fuchs <martin-fuchs@gmx.net>
	Fixed toolbar bitmap size handling.

	* configure.in, configure:
	Rein Klazes <rklazes@casema.net>
	Correct test for linux 2.2 joystick API, which returned true in every
	case.

	* dlls/version/install.c, graphics/x11drv/bitmap.c, include/xmalloc.h, misc/Makefile.in, misc/xmalloc.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Removed the last xmalloc calls.

	* programs/winver/Makefile.in, relay32/builtin32.c, programs/cmdlgtst/Makefile.in, programs/control/Makefile.in, programs/notepad/Makefile.in, programs/osversioncheck/Makefile.in, programs/progman/Makefile.in, programs/regapi/Makefile.in, programs/regtest/Makefile.in, programs/view/Makefile.in, programs/wcmd/Makefile.in, programs/winemine/Makefile.in, programs/winhelp/Makefile.in, dlls/commdlg/comdlg32.spec, dlls/shell32/shellord.c, dlls/x11drv/Makefile.in, if1632/builtin.c, include/module.h, libtest/Makefile.in, libtest/hello3res.rc, programs/avitools/Makefile.in, programs/clock/Makefile.in, configure.in, debugger/Makefile.in, dlls/Makedll.rules.in, dlls/Makefile.in, wine.ini, .cvsignore, Make.rules.in, Makefile.in, configure:
	Implemented on-demand loading of builtin dlls using dlopen().

2000-04-23  Alexandre Julliard  <julliard@winehq.com>

	* Makefile.in, dlls/x11drv/Makefile.in:
	Build wineclipsrv as part of the x11drv dll.

	* dlls/commdlg/Makefile.in, dlls/commdlg/cdlg.h, dlls/commdlg/cdlg32.c, dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/commdlg/printdlg.c, dlls/shell32/Makefile.in, dlls/shell32/shlview.c:
	Removed a few inter-dll dependencies.

	* windows/painting.c: Rein Klazes <rklazes@casema.net>
	Make RDW_ValidateParent() modify the update region of all parents, not
	just the direct parent.

	* relay32/snoop.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	SNOOP_PrintArg: replaced IsBad* functions by exception handler.

	* configure, configure.in:
	Patrik Stridvall <ps@leissner.se>
	Added --without-curses compile option.

	* scheduler/pthread.c: Ove Kaaven <ovek@arcticnet.no>
	Added some more pthread overrides.

	* winedefault.reg: Ove Kaaven <ovek@arcticnet.no>
	Fixed debugger registry key location.

	* include/ddeml.h: Francois Gouget <fgouget@psn.net>
	Use DECLARE_HANDLE to declare handles.

	* include/windef.h: Francois Gouget <fgouget@psn.net>
	DECLARE_HANDLE should not be undef'ed after use.

	* controls/edit.c: Ove Kaaven <ovek@arcticnet.no>
	Fix edit control's WM_GETTEXT behaviour.

	* misc/comm.c: Gerard Patel <g.patel@wanadoo.fr>
	Do not initialize dcb in BuildCommDCB[AndTimeouts].

	* include/casemap.h, tools/unimap.pl:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Adapted unimap.pl script and generated by it casemap.h to the Unicode
	Standard, Version 3.0.

	* windows/dialog.c: Gerard Patel <g.patel@wanadoo.fr>
	Check if dialog is visible before setting the focus.

	* windows/defwnd.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Removed the longstanding hack in response to WM_ACTIVATE message.

	* include/winuser.h:
	Martin Fuchs <martin-fuchs@gmx.net>
	Fixed GetNumberFormat declaration.

	* dlls/comctl32/toolbar.c:
	Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Redraw toolbar button inside TOOLBAR_EnableButton() only if the state
	of the button changes.  Stops flickering in toolbars caused by
	excessive redrawing.

	* dlls/wininet/internet.c, dlls/wininet/wininet.spec:
	Gerard Patel <g.patel@wanadoo.fr>
	Stub for InternetGetConnectedState.

	* include/winbase.h: Francois Gouget <fgouget@psn.net>
	Fixed GetProcessHeap() for the STRICT mode.

	* dlls/ddraw/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Also check for empty GUID in DirectDrawCreate.

2000-04-19  Alexandre Julliard  <julliard@winehq.com>

	* dlls/version/version.spec, dlls/winmm/joystick/joystick.spec, dlls/winmm/mcianim/mcianim.spec, dlls/winmm/mciavi/mciavi.spec, dlls/winmm/mcicda/mcicda.spec, dlls/winmm/mciseq/mciseq.spec, dlls/winmm/mciwave/mciwave.spec, dlls/winmm/midimap/midimap.spec, dlls/winmm/wavemap/msacm.spec, dlls/winmm/wineoss/wineoss.spec, dlls/avifil32/avifil32.spec, dlls/commdlg/comdlg32.spec, dlls/ddraw/ddraw.spec, dlls/dplayx/dplayx.spec, dlls/msvideo/msvfw32.spec, dlls/oleaut32/oleaut32.spec, dlls/olecli/olecli32.spec, dlls/shell32/shell32.spec, dlls/urlmon/urlmon.spec:
	Added some missing import directives.

	* dlls/oleaut32/Makefile.in, dlls/shell32/Makefile.in, dlls/comctl32/Makefile.in, dlls/commdlg/Makefile.in:
	Removed winmm from import list.

	* dlls/comctl32/animate.c, include/animate.h:
	Use GetProcAddress for mmio* functions to avoid importing winmm.dll.

	* programs/wcmd/builtins.c, programs/wcmd/wcmd.spec:
	Fixed resource loading.

	* tools/cvdump/cvcrunch.c, tools/cvdump/cvdump.c, tools/cvdump/cvinclude.h, tools/cvdump/cvload.c:
	John R. Sheets <jsheets@codeweavers.com>
	Minor cleanups, plus fixed a couple bugs in .DBG parsing code.
	Added dump for MISC section.

	* winedefault.reg:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added DirectPlay registry keys to winedefault.reg.

	* dlls/comctl32/treeview.c:
	Stephane Lussier <stephane@macadamian.com>
	Mousewheel support.

2000-04-18  Alexandre Julliard  <julliard@winehq.com>

	* tools/cvdump/cvcrunch.c, tools/cvdump/cvdump.h, tools/fnt2bdf.c, include/imagehlp.h, include/neexe.h, include/pe_image.h, include/peexe.h, include/winnt.h, loader/dos/module.c, loader/elf.c, loader/module.c, loader/ne/module.c, loader/pe_image.c, loader/task.c, relay32/builtin32.c, relay32/snoop.c, debugger/dbgmain.c, debugger/module.c, debugger/msc.c, debugger/types.c, dlls/shell32/iconcache.c, dlls/shell32/shell.c, dlls/version/resource.c:
	Moved PE header definitions to winnt.h where they belong.

	* windows/x11drv/event.c, controls/combo.c, controls/edit.c, controls/listbox.c, dlls/comctl32/listview.c, include/mouse.h, include/winuser.h, windows/input.c, windows/spy.c:
	Stephane Lussier <stephane@macadamian.com>
	Implemented Mousewheel support.

	* dlls/winsock/async.c:
	Rein Klazes <rklazes@casema.net>
	Convert service and protocol names to lowercase before calling
	getservby{name|port} and getprotoby{name|port}.

	* objects/region.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix return value for OffsetRgn if x and y are 0.

	* graphics/path.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Implement StrokeAndFillPath.
	Call DeleteObject when finished with hrgn in PATH_FillPath.

	* include/wininet.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fixed typo.

	* graphics/enhmetafiledrv/objects.c:
	Sheri Steeves <sheri@macadamian.com>
	EMR_SELECTOBJECT records stock objects with their id as the object
	handle and the high bit set.

	* objects/enhmetafile.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Tidy up of PlayEnhMetaFileRecord - fixes PolyPoly* functions.

2000-04-16  Alexandre Julliard  <julliard@winehq.com>

	* server/registry.c:
	Removed permission checks in create_key and delete_key. It seems
	Windows doesn't check anything.

	* loader/resource.c:
	Richard Cohen <richard@jubjub.demon.co.uk>
	Wrap an exception handler around FindResource.

	* programs/regtest/regtest.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Corrected WinMain.
	Added test case for RegCreateKeyEx showing win95 behaviour.

	* debugger/dbg.y, debugger/debug.l, debugger/debugger.h, debugger/info.c:
	Implemented 'walk process' and 'walk threads' commands using toolhelp
	snapshots.

	* include/server.h, include/tlhelp32.h, include/toolhelp.h, misc/toolhelp.c, server/process.c, server/process.h, server/request.h, server/snapshot.c, server/thread.c, server/thread.h, server/trace.c:
	Implemented thread and (partial) module snapshots, based on the work
	of Andreas Mohr <amohr@student.ei.uni-stuttgart.de>.

	* server/main.c, server/registry.c, server/request.h, server/trace.c, documentation/wine.conf.man.in, include/server.h, include/shell.h, loader/main.c, misc/registry.c, wine.ini:
	Save the registry on server exit without client intervention.
	Removed "alt" registry files since we now have symlinks and
	WINEPREFIX to replace them.

	* include/ts_xlib.h, tsx11/X11_calls, tsx11/ts_xlib.c, windows/x11drv/event.c:
	Stephane Lussier <stephane@macadamian.com>
	Support switching the keyboard layout with WINE running.

	* dlls/crtdll/crtdll_main.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	fgets: Don't swallow \n, treat EOF
	feof: Crude implementation
	signal: Return error

	* winedefault.reg:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Add missing backslash in the debugger definition.

	* win32/time.c: Rein Klazes <rklazes@casema.net>
	SetLocalTime() and SetSystemTime() bugfixes. Added a maximum clock
	adjustment of 2 minutes just in case...

	* dlls/dsound/dsound_main.c:
	Marcus Meissner <marcus@jet.franken.de>
	DSOUND_MixerNorm: do not compare unrelated pointers.

2000-04-15  Alexandre Julliard  <julliard@winehq.com>

	* loader/module.c:
	Rewrote command-line parsing of CreateProcessA to be more compatible.

	* programs/winhelp/Makefile.in, programs/winver/Makefile.in, relay32/builtin32.c, scheduler/process.c, scheduler/thread.c, tools/build.c, programs/cmdlgtst/Makefile.in, programs/control/Makefile.in, programs/notepad/Makefile.in, programs/osversioncheck/Makefile.in, programs/osversioncheck/osversioncheck.c, programs/osversioncheck/osversioncheck.spec, programs/progman/Makefile.in, programs/regapi/Makefile.in, programs/regtest/Makefile.in, programs/view/Makefile.in, programs/wcmd/Makefile.in, programs/wcmd/wcmd.spec, programs/wcmd/wcmdmain.c, programs/winemine/Makefile.in, debugger/Makefile.in, include/callback.h, include/main.h, include/module.h, include/thread.h, libtest/Makefile.in, loader/main.c, loader/module.c, loader/pe_image.c, misc/options.c, programs/avitools/Makefile.in, programs/clock/Makefile.in, Make.rules.in:
	Improved Winelib apps initialisation code. No longer need to link
	winestub.o with Winelib apps.

	* include/wine/winbase16.h, relay32/utthunk.c, dlls/dinput/dinput_main.c, dlls/dplayx/dplayx.spec, dlls/icmp/icmp_main.c, dlls/ntdll/om.c, dlls/shell32/shlwapi.spec, dlls/win87em/emulate.c, dlls/wininet/ftp.c, dlls/wininet/internet.c, dlls/winmm/mcianim/mcianim.c, graphics/ttydrv/palette.c, dlls/ddraw/main.c, dlls/ddraw/x11.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues reported by winapi_check.

	* tools/winapi_check/*:
	Patrik Stridvall <ps@leissner.se>
	- API files update.
	- Add new options --all and --none that enable/disables all check
	  respectively.
	- Fixed and improved stub statistics.
	- Fixed bug that prevented checking of the first function in the .spec files.
	- Partial implementation of a more advanced misplaced function checking.
	- Minor fixes.

	* dlls/comctl32/toolbar.c:
	Martin Fuchs <martin-fuchs@gmx.net>
	Implement CCS_NOMOVEY for tool bars.

	* tools/wineinstall: Ove Kaaven <ovek@arcticnet.no>
	Symlink root's registry to global registry. Minor cleanups.

	* ole/ole2nls.c: Owen Wang <owenw@corel.ca>
	Added further implementation of WINAPI EnumDateFormats() to support
	three more locales: German(standard), French(standard) and French
	(canadian). All date formats follow conventions from Windows NT 4.0

	* dlls/comctl32/treeview.c:
	Serge Ivanov <sergei@corel.ca>
	Added proper handling TVIS_OVERLAYMASK flag and allows to display
	overlay images. Fixed off by one error with listitem in
	TREEVIEW_InsertItemA (uNumItems is 0 based, cChildren is a count).

2000-04-14  Alexandre Julliard  <julliard@winehq.com>

	* include/thread.h, scheduler/Makefile.in, scheduler/pthread.c:
	Ove Kaaven <ovek@arcticnet.no>
	POSIX threads emulation, tricks glibc into being threadsafe.

	* scheduler/client.c, server/main.c, server/request.c:
	Made server launching somewhat cleaner and faster.

	* dlls/ddraw/ddraw/dga.c, dlls/ddraw/dga.c, include/x11drv.h, windows/x11drv/event.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Detypoed X11DRV_EVENT_SetInputMethod.

	* windows/x11drv/keyboard.c:
	Stephane Lussier <stephane@macadamian.com>
	When dealing with XKB extensions, force the AltGr key mask to use the
	group index instead of the modifier.

	* include/windef.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Define __fastcall.

	* include/commctrl.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Added a few toolbar defines.

	* graphics/enhmetafiledrv/graphics.c, graphics/enhmetafiledrv/init.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	A few corrections to bounding boxes.

	* graphics/x11drv/graphics.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Don't close groups of polylines.

	* misc/comm.c: Marcus Meissner <marcus@jet.franken.de>
	Do not dereference a ptr we just checked being NULL.

	* dlls/ddraw/d3ddevice/main.c, dlls/ddraw/ddraw_private.h, dlls/ddraw/direct3d/main.c, dlls/ddraw/mesa_private.h:
	Francois Gouget <fgouget@psn.net>
	Changed the placement of WINE_UNUSED to make gcc 2.7.2 happy.

	* misc/registry.c: Ove Kaaven <ovek@arcticnet.no>
	Follow symlinks when saving registry.

	* debugger/Makefile.in:
	Added missing winestub dependency.

	* include/server.h, scheduler/process.c, server/event.c, server/object.h, server/process.c, server/thread.c, server/trace.c:
	Load done event now created by the server.

2000-04-13  Alexandre Julliard  <julliard@winehq.com>

	* debugger/.cvsignore, debugger/Makefile.in, debugger/break.c, debugger/db_disasm.c, debugger/dbg.y, debugger/debug.l, debugger/debugger.h, debugger/display.c, debugger/expr.c, debugger/hash.c, debugger/info.c, debugger/intvar.h, debugger/memory.c, debugger/module.c, debugger/msc.c, debugger/registers.c, debugger/source.c, debugger/stabs.c, debugger/stack.c, debugger/types.c, debugger/winedbg.c, debugger/winedbg.spec, include/stackframe.h, Makefile.in:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Made the winedbg an external and WineLib program.
	Centralized output handling (preparation for console usage).
	Fixed a few debug information reading options (stabs and sym).
	Started a framework to hold debugger's internal variables.

	* miscemu/main.c, documentation/wine.man.in, include/options.h, misc/main.c, misc/options.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Got rid of -debug wine's option (wine now requires an external debugger).

	* win32/except.c, winedefault.reg:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added launching of a debugger when unhandled exception occurs.

	* relay32/builtin32.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added a .xcnlnk section to builtin KERNEL32 PE header.

	* loader/module.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Let CreateProcess launch unix executable without a .exe extension.
	Fixed arguments passed when creating a unix process.

	* dlls/ntdll/signal_i386.c, include/acconfig.h, include/config.h.in, configure, configure.in:
	Fixed signal stack handling on Linux when sigaltstack is available.
	Added a direct sigaltstack syscall to work-around the glibc bug.

	* dlls/ntdll/signal_i386.c, include/global.h, memory/virtual.c:
	Implemented guard pages and stack overflow exceptions.

	* include/thread.h, scheduler/process.c, scheduler/thread.c:
	Cleanup thread stack allocation. Use a single VirtualAlloc for TEB and
	the various stacks.

	* files/profile.c:
	Make sure HKLM\Software\Wine\Wine is a non-volatile key.

	* dlls/x11drv/x11drv_main.c, windows/x11drv/keyboard.c:
	Stephane Lussier <stephane@macadamian.com>
	Fixed AltGr key handling.

	* dlls/ddraw/ddraw/dga.c, dlls/ddraw/dga.c, dlls/ddraw/dga_private.h, dlls/ddraw/dpalette/dga.c, dlls/ddraw/dsurface/dga.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Make DirectDraw compile with DGA2 present.

	* files/file.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	FILE_CreateFile()'s read/write-check was broken due to checking of
	ERROR_xxx instead of STATUS_xxx.

	* objects/enhmetafile.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fixes and cleans up some of the GetEnhMetaFile* functions.
	Fixes scaling of EMFs in playback.  Will probably be right
	when World Transforms work properly...

	* memory/global.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	GlobalReAlloc returns 0 on failure.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/om.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Stub for NtAllocateUuids.

	* dlls/comctl32/treeview.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Clear TopRootItem when whole tree is deleted.
	Fix off by one lstrcpyn.
	Clean up and fix GetNextItem.

2000-04-11  Alexandre Julliard  <julliard@winehq.com>

	* documentation/.cvsignore: Ignore all output files.

	* dlls/wininet/.cvsignore, dlls/wininet/Makefile.in, dlls/wininet/ftp.c, dlls/wininet/internet.c, dlls/wininet/internet.h, dlls/wininet/utility.c, dlls/wininet/wininet.spec, include/debugdefs.h, include/urlmon.h, include/wininet.h, Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/urlmon/.cvsignore, dlls/urlmon/Makefile.in, dlls/urlmon/umon.c, dlls/urlmon/urlmon.spec:
	Merged urlmon.dll and wininet.dll from the Corel tree (implementation
	by Ulrich Czekalla <ulrichc@corel.ca>)

	* include/process.h, include/thread.h, include/winbase.h, scheduler/client.c, scheduler/process.c, scheduler/thread.c, windows/queue.c:
	Made GetProcessHeap(), GetCurrentProcessId(), GetCurrentThread() and
	GetCurrentProcess() inline.

	* AUTHORS, include/authors.h:
	Marcus Meissner <marcus@jet.franken.de>
	Merged in Corel's AUTHORs.

	* graphics/x11drv/dib.c:
	Marcus Meissner <marcus@jet.franken.de>
	Only copy dstwidth*3 bytes in the 24bit case.

	* dlls/ddraw/dsurface/x11.c:
	Marcus Meissner <marcus@jet.franken.de>
	Free private structure in Xlib_DDS_Release.

	* windows/message.c: Ulrich Czekalla <ulrichc@corel.ca>
	MSG_ProcessKbdMsg can be called from peek, so only process when remove is set.

	* dlls/comctl32/treeview.c:
	Serge Ivanov <sergei@corel.ca>
	TreeView - minor bugfix and optimization:
	   - GetDC call moved down to avoid possible resource leak.
	   - Invariant code is moved out of loop.

	* dlls/shell32/pidl.c:
	Ulrich Czekalla <ulrichc@corel.ca>
	_ILGetFileDate should convert the date to local time before generating
	the string (_ILGetFileDateTime does not).

	* dlls/winmm/mmio.c:
	Noomen Hamza <noomen@macadamian.com>
	Fixed other bugs within MMIO implementation. Now, it's possible to
	copy/cut from PhotoPaint and paste to CorelDraw.

2000-04-10  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/mesa.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Use d3dexecutebuffer_create only when compiling with MESA.

2000-04-09  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/bitmap.c, graphics/x11drv/palette.c, graphics/ttydrv/palette.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Replaced xmalloc calls with malloc/HeapAlloc calls.

	* console/generic.c, console/ncurses.c, console/xterm.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Cosmetics.

	* memory/heap.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Implemented HeapWalk().

	* dlls/ddraw/dsurface/x11.c:
	Marcus Meissner <marcus@jet.franken.de>
	Two left over HeapValidate assertions removed.

	* server/debugger.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Clear status for sending exception event.

	* tools/genpatch: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added ability to put new-lines in changelog entry.
	Added -p to locate destination directory.

	* dlls/comctl32/listview.c:
	Richard Cohen <richard@jubjub.demon.co.uk>
	GetItem was returning the item instead of subitem info.

	* programs/winemine/main.c:
	Dave Pickles <davep@cyw.uklinux.net>
	Registry key used in LoadBoard() was not the same as the one used in
	SaveBoard(). Also fixed a typo in the position saving code.

	* configure, configure.in:
	Create directories that don't contain a Makefile.

	* tools/wrc/Makefile.in, dlls/ttydrv/Makefile.in, dlls/winmm/Makefile.in, dlls/x11drv/Makefile.in, documentation/Makefile.in, include/Makefile.in, ole/Makefile.in, programs/Makefile.in, programs/winhelp/Makefile.in, tools/Makefile.in, Make.rules.in, Makefile.in, debugger/Makefile.in, dlls/Makefile.in, dlls/ddraw/Makefile.in:
	Improved support for Makefiles that need to recurse in subdirectories.

	* dlls/ddraw/dpalette/dga.c, dlls/ddraw/dpalette/main.c, dlls/ddraw/dpalette/x11.c, dlls/ddraw/dsurface/dga.c, dlls/ddraw/dsurface/main.c, dlls/ddraw/dsurface/x11.c, configure.in, dlls/ddraw/.cvsignore, dlls/ddraw/Makefile.in, dlls/ddraw/convert.c, dlls/ddraw/d3d_private.h, dlls/ddraw/d3dcommon.c, dlls/ddraw/d3ddevice/main.c, dlls/ddraw/d3ddevice/mesa.c, dlls/ddraw/d3ddevices.c, dlls/ddraw/d3dexecutebuffer.c, dlls/ddraw/d3dlight.c, dlls/ddraw/d3dmaterial.c, dlls/ddraw/d3dtexture.c, dlls/ddraw/dclipper/main.c, dlls/ddraw/ddraw.spec, dlls/ddraw/ddraw/dga.c, dlls/ddraw/ddraw/main.c, dlls/ddraw/ddraw/x11.c, dlls/ddraw/ddraw_main.c, dlls/ddraw/ddraw_private.h, dlls/ddraw/dga.c, dlls/ddraw/dga_private.h, dlls/ddraw/direct3d/main.c, dlls/ddraw/direct3d/mesa.c, dlls/ddraw/helper.c, dlls/ddraw/main.c, dlls/ddraw/mesa.c, dlls/ddraw/mesa_private.h, dlls/ddraw/x11.c, dlls/ddraw/x11_private.h, configure:
	Marcus Meissner <marcus@jet.franken.de>
	Restructured DirectDraw. Split into X11 and DGA driver, and multiple
	files/dirs for easier maintenance. Cleaned up structs and include
	files. Reindented the code. Started the same for Direct3D.  Driver
	inclusion now done by using configure/Makefile/ELF constructor tricks.

2000-04-08  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/event.c, files/profile.c, graphics/x11drv/xfont.c, include/cursoricon.h, include/message.h, loader/ne/module.c, memory/heap.c, scheduler/sysdeps.c, scheduler/syslevel.c, windows/cursoricon.c, windows/timer.c, dlls/shell32/changenotify.c, dlls/shell32/iconcache.c, dlls/user/user_main.c, dlls/x11drv/x11drv_main.c:
	Removed a number of global handle allocations and critical section
	initializations.

	* server/process.c, scheduler/process.c:
	Temporary hack to share handles between processes sharing the same
	address space.

	* include/winbase.h, scheduler/critsection.c:
	Added lazy initialization of critical sections, based on a patch by
	Andrew Lewycky.

	* dlls/comctl32/tab.c: Yuxi Zhang <yuxi@corel.ca>
	Stephen Mereu
	TabCtrl leftmostVisible is not updated properly. It caused the QP
	application bar on the bottom fail to bring back the items when there
	is no need to scrolling. Also fixed a bug that when an item is inserted,
	setItemBounds should be called first, then it's time to invalidate.

	* relay32/kernel32.spec, win32/newfns.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added PeekNamedPipe stub.

	* graphics/x11drv/init.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Fixed pixmap leak with the 1x1 bitmap in memory DCs.

	* tools/wineinstall: Ove Kaaven <ovek@arcticnet.no>
	wineinstall now properly configures no-windows installs, and should now
	be easier to adapt for binary packages too.

	* documentation/samples/system.ini:
	Ove Kaaven <ovek@arcticnet.no>
	Default system.ini (from documentation/status/multimedia).

2000-04-06  Alexandre Julliard  <julliard@winehq.com>

	* server/debugger.c, server/thread.c, server/thread.h:
	Do not send a debug event for a thread until the previous event for
	the same thread has been continued.

	* misc/registry.c, wine.ini:
	Moved SaveOnlyUpdatedKeys to wine.ini.
	Use get_config_dir() instead of hardcoding ~/.wine
	Simplified loading and saving routines.

	* files/profile.c, include/options.h, include/server.h, scheduler/client.c, server/request.c:
	Added support for WINEPREFIX environment variable.

	* windows/winpos.c, loader/ne/module.c, memory/selector.c, misc/lstr.c, misc/network.c, msdos/int21.c, objects/font.c, win32/console.c, win32/except.c, windows/dialog.c, windows/hook.c, windows/mdi.c, windows/message.c, dlls/win32s/w32sys.c, dlls/win87em/emulate.c, dlls/winmm/mmio.c, dlls/winmm/mmsystem.c, dlls/winmm/mmsystem.spec, graphics/painting.c, graphics/psdrv/driver.c, graphics/win16drv/font.c, loader/module.c, dlls/advapi32/advapi32.spec, dlls/advapi32/service.c, dlls/comctl32/comctl32.spec, dlls/comctl32/comctl32undoc.c, dlls/gdi/gdi.spec, dlls/msacm/msacm_main.c, dlls/ole32/storage32.c, dlls/oleaut32/stubs.c, dlls/olepro32/olepro32.spec, dlls/shell32/shell.c, dlls/shell32/shell32.spec, dlls/shell32/shellpath.c, dlls/shell32/shlwapi.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues reported by winapi_check.

	* include/winuser.h, ole/ole2nls.c, relay32/kernel32.spec:
	Owen Wang <owenw@corel.ca>
	Implemented API EnumTimeFormatsA(). It supports now all different
	English locales, as well as German(standard), French(standard) and
	French(Canadian).  All time formats follow conventions in Windows NT 4.0

	Haithem Hmida (of Macadamian for Corel)
	Implemented GetCurrencyFormatA() API:
	- GetCurrencyFormatA() calls GetNumberFormatA() to format the number
	  (as a positive one), then formats the number depending on
	  NegativeOrder/PositiveOrder fields.
	- GetNumberFormatA() has been slightly modified.

	* objects/text.c:
	Junichi Kuchinishi <jkuchi@mahoroba.ne.jp>
	Added conversion from DBCS lpDx to WCHAR lpDx.

	* tools/winapi_check/win32/advapi32.api, tools/winapi_check/win32/shell32.api, tools/winapi_check/win32/shlwapi.api, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_options.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Implemented stub statistics. Turned off by default. (Requested by Francois
	Gouget).
	- Implemented missing prototype checking. Turned off by default (Requested
	by Dimitry Timoshkov).
	- Implemented .spec file name sanity checking. Turned off by default.
	- Implemented documentation width checking. Turned off by default.
	- Minor bug fixes.

	* dlls/ole32/compobj.c:
	Andrew Lewycky <andrewl@corel.ca>
	Fix StringFromGUI2 return value as per documentation.

	* dlls/dsound/dsound_main.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Make audiodevice blocking directly after the non-blocking open, since
	we use the write(2) also for synchronization.

	* dlls/winsock/async.c, dlls/winsock/socket.c:
	Rein Klazes <rklazes@casema.net>
	Corrected error handling for ws_getprotobyname/number.
	Made the Async error returns the same as the normal functions.

	* files/dos_fs.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	GetShortPathName: always erase characters at the end of the new
	string, and return only single backslashes.

2000-04-04  Alexandre Julliard  <julliard@winehq.com>

	* files/dos_fs.c, files/drive.c, files/file.c, include/drive.h, include/file.h, include/options.h, misc/main.c, misc/options.c, misc/registry.c, documentation/wine.conf.man.in, documentation/wine.man.in:
	Added a per-drive FailReadOnly flag, and removed the global
	--failreadonly option.

	* dlls/x11drv/x11drv_main.c, files/file.c, scheduler/client.c:
	Fixed file descriptor leaks.

	* misc/registry.c:
	Call PROFILE_GetWineIniBool before starting to fill the request
	buffer. Made new registry format the default.

	* server/ptrace.c:
	Increment suspend count before attempting attach in suspend_for_ptrace.

	* server/file.c, server/mapping.c, server/mutex.c, server/process.c, server/registry.c, server/request.h, server/semaphore.c, server/timer.c, server/trace.c, tools/make_requests, server/atom.c, server/console.c, server/event.c:
	Made request tracing more robust against bogus lengths.

	* documentation/Makefile.in, documentation/wine.conf.man.in, documentation/wine.man.in:
	Peter Ganten <peter@ganten.org>
	Adapted the manual pages to the new long options, updated the
	-debugmsg channels and added a small hack to get the @sysconfdir@
	stuff in the manual pages right.

	* dlls/winmm/mmio.c:
	Noomen Hamza <noomen@macadamian.com>
	Fixed two small bugs within MMIO_InstallIOProc and MMIO_Destroy.

	* programs/winemine/main.c, programs/winemine/main.h:
	Joshua Thielen <fozey@netzero.com>
	Added DestroyBoard function to delete bitmap handles.
	Moved SelectObject outside of DrawMine.
	Selected old object's back into hMemDC.

	* msdos/int21.c: Ian Schmidt <ischmidt@cfl.rr.com>
	Implemented FAT32 function 7302 (Get Extended DPB).

	* win32/device.c: Ian Schmidt <ischmidt@cfl.rr.com>
	Implemented DeviceIoControl VWIN32_DIOC_DOS_DRIVEINFO, needed by
	Internet Explorer.

	* programs/regapi/regapi.c:
	Gavriel State <gavriels@corel.ca>
	This patch adds the ability for regapi to call the DllRegisterServer or
	DllUnregisterServer for a list of DLLs.

	* dlls/ole32/ole2.c: Gavriel State <gavriels@corel.ca>
	OleRegGetUserType did return an unterminated ASCII string instead of an
	OLESTR (wide characters).

	* misc/main.c, ole/nls/ena.nls, ole/nls/enb.nls, ole/nls/enc.nls, ole/nls/eng.nls, ole/nls/eni.nls, ole/nls/enj.nls, ole/nls/enl.nls, ole/nls/ens.nls, ole/nls/ent.nls, ole/nls/enu.nls, ole/nls/enz.nls, ole/nls/irl.nls, ole/ole2nls.c:
	Michael Abd-El-Malek (Corel)
	Changed irl.nls to eni.nls. Reviewed and fixed a lot of the NLS files
	to be more compatible to Windows.
	Added en_GB (used by Corel Linux 1.0,1.1) as alias for en_UK.

	Jeff Tranter <jefft@corel.ca>
	The measurement unit for Canadian English should be metric.
	LANG_SUB_ENTRY did always return the first language due to missing {}.

2000-03-30  Alexandre Julliard  <julliard@winehq.com>

	* documentation/distributors:
	Marcus Meissner <marcus@jet.franken.de>
	Updated documentation/distributors in regards to shared libraries and
	some more windows specific dirs.

	* programs/winemine/README, programs/winemine/main.c, programs/winemine/main.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Fix painting bug with middle button down when dragging mouse
	- Speed up drawing and hence overall speed
	- Fix compiler warnings
	- Added some optional debugging information
	- Added a new known bug to the list

	* misc/comm.c: Rein Klazes <rklazes@casema.net>
	Added CTS, DSR and RingIndicator states to Window's semi-documented
	modem line status register.

	* include/wingdi.h, objects/enhmetafile.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Delete objects after use in EnumEnhMetaFile.
	Make PlayEnhMetaFile call EnumEnhMetaFile.
	Move EnumEnhMetaFile prototype to wingdi.h.

	* dlls/dsound/dsound_main.c, dlls/winmm/wineoss/audio.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	open() the OSS sounddevice non-blocking in case another process has it
	open already.

	* scheduler/process.c:
	Commented out exit() call on ExitProcess for now.

	* server/context_i386.c, server/debugger.c, server/main.c, server/object.h, server/process.c, server/thread.c, server/thread.h:
	Set thread start address to 0 on events generated by
	DebugActiveProcess.
	Return a correct address in the simulated exception event.

	* dlls/ttydrv/ttydrv_main.c, graphics/ttydrv/dc.c, graphics/ttydrv/graphics.c, graphics/ttydrv/text.c, include/ttydrv.h, windows/ttydrv/wnd.c:
	Fixed ttydrv compile when using curses. Cleaned up a few #ifdefs.

2000-03-28  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dsound/dsound_main.c, dlls/winaspi/winaspi16.c, graphics/path.c, programs/winhelp/macro.yacc.y:
	Niels Kristian Bech Jensen <nkbj@image.dk>
	- Fix some compiler warnings.
	- Remove superfluous #include statement.

	* include/wine/winnet16.h, misc/network.c:
	Ron Gage <rongage@att.net>
	Fixed bug reported by winapi_check.

	* */*.c:
	Patrik Stridvall <ps@leissner.se>
	Added/fixed some documentation reported by winapi_check.

	* graphics/x11drv/palette.c, objects/palette.c:
	Fixed memory allocations.

	* dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/user/user32.spec, include/winuser.h, windows/input.c:
	Patrik Stridvall <ps@leissner.se>
	- Added/fixed some documentation reported by winapi_check
	- Renamed MapVirtualKeyEx32A to MapVirtualKeyExA
	- Renamed CRTDLL__dllonexit to CRTDLL___dllinit

	* dlls/ole32/ifs.c, dlls/ttydrv/ttydrv_main.c, misc/printdrv.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* tools/winapi_check/win32/kernel32.api, tools/winapi_check/winapi_check, tools/winapi_check/winapi_options.pm:
	Patrik Stridvall <ps@leissner.se>
	- Updated the API files.
	- Minor bug fixes

	* dlls/comctl32/animate.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Do a LoadLibraryA of WINMM upon ANIMATE_Create and a FreeLibrary upon
	ANIMATE_Destroy.

	* tools/wrc/parser.l: Patrik Stridvall <ps@leissner.se>
	Minor fix in wrc to support the Solaris preprocessor.

	* debugger/msc.c: Patrik Stridvall <ps@leissner.se>
	Fixed some ANSI C violations.

	* documentation/no-windows:
	Ove Kaaven <ovek@arcticnet.no>
	Add start menu directories.

	* scheduler/sysdeps.c, scheduler/thread.c:
	Put CLONE_FILES back in, it is still breaking too many things.

	* objects/bitmap.c, graphics/ttydrv/bitmap.c, graphics/x11drv/bitmap.c, graphics/x11drv/brush.c, graphics/x11drv/dib.c, graphics/x11drv/init.c, graphics/x11drv/oembitmap.c, include/bitmap.h, include/x11drv.h:
	Merged DDBitmap and physBitmap into the generic bitmap structure
	(suggested by Andrew Lewycky).

	* files/dos_fs.c:
	Ignore trailing spaces in DOSFS_ToDosFCBFormat.

	* dlls/winsock/socket.c:
	Fixed small bug in WSOCK32_accept

2000-03-26  Alexandre Julliard  <julliard@winehq.com>

	* include/version.h, ANNOUNCE, ChangeLog:
	Release 20000326.

----------------------------------------------------------------
2000-03-26  Alexandre Julliard  <julliard@winehq.com>

	* files/dos_fs.c: Stefan Leichter <sle@camline.com>
	DOSFS_ToDosFCBFormat: fail if extension longer than 3 characters.

	* tools/cvdump/.cvsignore, tools/cvdump/Makefile.in, tools/cvdump/cvcrunch.c, tools/cvdump/cvdump.c, tools/cvdump/cvdump.h, tools/cvdump/cvinclude.h, tools/cvdump/cvload.c, Makefile.in, configure, configure.in:
	John R. Sheets <jsheets@codeweavers.com>
	Added cvdump tool to dump CodeView symbol information.

	* dlls/winsock/socket.c, include/server.h, server/sock.c, server/trace.c:
	Ove Kaaven <ovek@arcticnet.no>
	Handle POLLHUP better (delay FD_CLOSE notification until all data has
	been read). Made WSAEnumNetworkEvents atomic. Convert socket event
	error codes properly. Made accept()-ed sockets inherit the listening
	socket's WSAAsyncSelect().

	* dlls/dsound/dsound_main.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Fixed debug formatting.

	* dlls/advapi32/registry.c: Fixed error checking in registry saving.

	* misc/cdrom.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Use strerror in debug output.

	* dlls/shell32/changenotify.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	SHChangeNotify[A|W]: free only items we allocated.

	* loader/resource.c, objects/enhmetafile.c, objects/font.c, objects/text.c, win32/console.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixes for i18n.

	* debugger/stabs.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Now read .so list from debuggee's address space.

	* include/windowsx.h: Francois Gouget <fgouget@psn.net>
	Added missing macros.

	* include/winnt.h, include/winreg.h, server/registry.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Moved some registry definitions to winnt.h.

	* programs/winhelp/winhelp.spec, programs/cmdlgtst/cmdlgtst.spec, programs/notepad/notepad.spec, programs/progman/progman.spec:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added import of comdlg32.dll in spec file.

	* windows/winpos.c: Gerard Patel <g.patel@wanadoo.fr>
	Activate a hidden window only when explicitely asked by the
	application.

	* debugger/Makefile.in, debugger/break.c, debugger/dbg.y, debugger/debugger.h, debugger/hash.c, debugger/info.c, debugger/module.c, debugger/msc.c, debugger/stabs.c, debugger/winedbg.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	improved exception handling
	merged all module handling code in new module.c file
	reenabled 'walk module' and 'info module' commands
	added ability to drive break on thread startup

	* dlls/oleaut32/oleaut.c, dlls/oleaut32/oleaut32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Stubs for DllRegisterServer/DllUnregisterServer.

	* dlls/winaspi/winaspi32.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed return value for SC_GET_DEV_TYPE.

2000-03-25  Alexandre Julliard  <julliard@winehq.com>

	* server/registry.c, server/trace.c, tools/build.c, windows/cursoricon.c, windows/dce.c, windows/msgbox.c, windows/nonclient.c, windows/rect.c, windows/timer.c, windows/user.c, windows/winpos.c, windows/winproc.c, loader/pe_image.c, loader/resource.c, memory/heap.c, memory/local.c, misc/version.c, msdos/int21.c, objects/enhmetafile.c, objects/region.c, programs/winhelp/hlpfile.c, programs/winhelp/macro.c, programs/winhelp/winhelp.c, dlls/winmm/wineoss/audio.c, files/dos_fs.c, files/drive.c, files/file.c, files/profile.c, graphics/enhmetafiledrv/graphics.c, graphics/enhmetafiledrv/init.c, graphics/metafiledrv/init.c, graphics/x11drv/graphics.c, graphics/x11drv/xfont.c, include/windef.h, dlls/comctl32/comctl32undoc.c, dlls/comctl32/trackbar.c, dlls/comctl32/updown.c, dlls/commdlg/colordlg.c, dlls/crtdll/crtdll_main.c, dlls/ole32/hglobalstream.c, dlls/ole32/memlockbytes.c, dlls/ole32/stg_stream.c, dlls/ole32/storage32.c, dlls/winmm/lolvldrv.c, dlls/winmm/mciwave/mciwave.c, dlls/winmm/mmio.c, dlls/winmm/mmsystem.c, dlls/winmm/time.c, controls/edit.c, controls/menu.c, controls/scroll.c:
	Francois Gouget <fgouget@psn.net>
	Use min/max instead of MIN/MAX.

	* server/sock.c: Ove Kaaven <ovehk@ping.uio.no>
	Handle socket POLLERR/POLLHUP conditions properly.
	Clear error field for OOB notifications.

	* controls/listbox.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Send the correct ODA_ code when deselecting an item.

	* windows/user.c, include/process.h, include/server.h, include/thread.h, loader/ne/module.c, loader/task.c, scheduler/process.c, scheduler/sysdeps.c, scheduler/thread.c, server/process.c, server/thread.c, server/trace.c:
	Fixed a couple of file descriptor leaks.
	Always call USER signal proc in the right context.
	Cleaned up THREAD_Create.

	* include/Makefile.in:
	Do not erase local files on uninstall if install dir does not exist.

	* windows/multimon.c, windows/sysparams.c, windows/ttydrv/Makefile.in, windows/ttydrv/desktop.c, windows/ttydrv/init.c, windows/ttydrv/monitor.c, windows/ttydrv/wnd.c, windows/user.c, windows/win.c, windows/x11drv/Makefile.in, windows/x11drv/init.c, windows/x11drv/monitor.c, controls/desktop.c, dlls/ttydrv/ttydrv_main.c, dlls/x11drv/x11drv_main.c, graphics/ttydrv/dc.c, include/desktop.h, include/monitor.h, include/ttydrv.h, include/user.h, include/x11drv.h, misc/main.c, windows/dce.c:
	Store monitor size and depth in the generic structure.
	Merged monitor driver into USER driver.

	* windows/ttydrv/Makefile.in, windows/ttydrv/main.c, windows/x11drv/Makefile.in, windows/x11drv/desktop.c, windows/x11drv/main.c, windows/x11drv/monitor.c, windows/x11drv/mouse.c, windows/x11drv/wnd.c, dlls/ddraw/ddraw_main.c, dlls/x11drv/x11drv_main.c, graphics/x11drv/bitmap.c, graphics/x11drv/brush.c, graphics/x11drv/dib.c, graphics/x11drv/graphics.c, graphics/x11drv/init.c, graphics/x11drv/oembitmap.c, graphics/x11drv/palette.c, include/x11drv.h:
	A few simplifications and optimizations in the x11 driver.

	* Make.rules.in, Makefile.in, dlls/ddraw/Makefile.in, dlls/ttydrv/Makefile.in, dlls/x11drv/Makefile.in:
	Link ttydrv and x11drv objects into their respective dll.

	* dlls/user/Makefile.in: Added missing keyboard.spec.

2000-03-24  Alexandre Julliard  <julliard@winehq.com>

	* windows/msgbox.c, misc/comm.c, misc/printdrv.c, win32/except.c:
	Moved FatalAppExit functions to win32/except.c.
	Added a few uses of Callout instead of referencing USER functions
	directly.

	* windows/cursoricon.c, include/bitmap.h, objects/bitmap.c:
	Moved LoadImage and related functions to cursoricon.c.

	* dlls/gdi/.cvsignore, dlls/gdi/Makefile.in, dlls/gdi/gdi.spec, dlls/gdi/thunk.c, dlls/user/.cvsignore, dlls/user/Makefile.in, dlls/user/keyboard.spec, dlls/user/thunk.c, dlls/user/user.spec, if1632/.cvsignore, if1632/Makefile.in, if1632/keyboard.spec, if1632/thunk.c, include/callback.h, objects/linedda.c, windows/win.c:
	Moved gdi/user thunking functions into their respective dlls.
	Moved keyboard.spec into user dll.

	* configure, configure.in: Lionel Ulmer <lionel.ulmer@free.fr>
	Disable OpenGL support if the latter is thread safe.

	* debugger/dbg.y, debugger/memory.c, dlls/crtdll/wcstring.c, dlls/ole32/clipboard.c, dlls/ole32/storage32.h, graphics/win16drv/init.c, graphics/x11drv/dib.c, scheduler/sysdeps.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* dlls/dinput/dinput_main.c, graphics/dispdib.c, include/animate.h, include/button.h, include/crtdll.h, include/dinput.h, include/dispdib.h, include/enhmetafile.h, include/imagelist.h, include/metafile.h, include/region.h, include/sqltypes.h, include/wine/icmpapi.h, include/wine/obj_commdlgbrowser.h, include/wine/obj_contextmenu.h, include/wine/obj_dockingwindowframe.h, include/wine/obj_property.h, include/wine/obj_shellextinit.h, include/wine/windef16.h, include/wine/wingdi16.h, include/winpos.h:
	Patrik Stridvall <ps@leissner.se>
	Made the include files self sufficient.

	* dlls/win32s/w32skernel.c, dlls/winmm/joystick.c, dlls/winmm/mmsystem.c, dlls/winmm/wineoss/audio.c, dlls/winsock/socket.c, dlls/winsock/wsock32.spec, misc/ddeml.c, dlls/oleaut32/oleaut.c, dlls/oleaut32/safearray.c, dlls/oleaut32/variant.c, dlls/olepro32/olepro32stubs.c, dlls/shell32/changenotify.c, dlls/shell32/iconcache.c, dlls/shell32/shell.c, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/systray.c, dlls/tapi32/assisted.c, dlls/tapi32/line.c, dlls/tapi32/phone.c, dlls/version/install.c, dlls/dplayx/dpclassfactory.c, dlls/dsound/dsound_main.c, dlls/icmp/icmp_main.c, dlls/mpr/mpr_main.c, dlls/msvideo/msvideo_main.c, dlls/ntdll/nt.c, dlls/ntdll/rtl.c, dlls/ntdll/sec.c, dlls/ntdll/time.c, dlls/odbc32/proxyodbc.c, dlls/ole32/compositemoniker.c, dlls/avifil32/avifile.c, dlls/comctl32/comctl32undoc.c, dlls/comctl32/draglist.c, dlls/comctl32/flatsb.c, dlls/commdlg/finddlg32.c, dlls/ddraw/ddraw_main.c:
	Patrik Stridvall <ps@leissner.se>
	Added/fixed some documentation reported by winapi_check.

	* relay32/kernel32.spec, scheduler/critsection.c, win32/newfns.c, windows/painting.c, dlls/crtdll/crtdll.spec, dlls/ntdll/ntdll.spec, graphics/painting.c, include/ddeml.h, include/wingdi.h:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues reported by winapi_check.

	* include/winnt.h, ole/ole2nls.c, dlls/ntdll/signal_i386.c, dlls/ole32/storage32.c, dlls/shell32/shlview.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some ANSI C violations.

	* programs/cmdlgtst/cmdlgtst.c, programs/notepad/Da.rc, programs/notepad/De.rc, programs/notepad/dialog.c, programs/regapi/regapi.c, programs/regtest/regtest.c, programs/view/view.c, programs/wcmd/directory.c, programs/wcmd/wcmdmain.c, programs/avitools/aviplay.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed ANSI C related compile problems.

	* tools/winapi_check/win32/gdi32.api, tools/winapi_check/win32/kernel32.api, tools/winapi_check/win32/ole32.api, tools/winapi_check/win32/oleaut32.api, tools/winapi_check/win32/user32.api, tools/winapi_check/win32/winmm.api, tools/winapi_check/win16/ddeml.api, tools/winapi_check/winapi_check, tools/winapi_check/winapi_function.pm, tools/winapi_check/winapi_options.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Updated API files
	- Don't check the *.spec.c files
	- Better parsing of strings
	- Better documentation checking
	- Minor bug fixes

	* dlls/dinput/dinput_main.c: Lionel Ulmer <lionel.ulmer@free.fr>
	- added some debug code and cleaned-up the mouse warping code
	- be ready once mouse will be reported relatively

	* windows/mdi.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fixed copying of the MDI 'Windows' menu items if the items are not of
	type MFT_STRING.

	* controls/menu.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Set the correct value for the cch element of MENUITEMINFO in
	GetMenuItemInfo.

	* dlls/gdi/gdi32.spec: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix spec file entries for EnumFontFamiliesEx*.

	* tools/bug_report.pl: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Further code simplifications and interface (consistency) improvements.
	Fix selection of the Wine binary which was broken by a recent change.

	* windows/sysparams.c: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added proper termination upon failure.

	* debugger/types.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed basic type evaluation.

	* server/registry.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Ensure that non-NULL terminated stings are saved correctly.

	* windows/input.c: Rein Klazes <rklazes@casema.net>
	Correct the NotifyCode in the WM_COMMAND message sent by
	KBD_translate_accelerator().

	* dlls/winaspi/winaspi32.c: Marcus Meissner <marcus@jet.franken.de>
	Slightly better REQUEST SENSE dumping, fixed GET_DEV_TYPE returns,
	work around EXEC SCSI commands which do not set the host<->target data
	flags, ignore errors on DVD REPORT KEY/DVD SEND KEY.

	* server/context_i386.c: Peter Hunnisett <hunnise@nortelnetworks.com>
	Changed PTRACE_PEEKUSER to PTRACE_PEEKUSR and PTRACE_POKEUSER to
	PTRACE_POKEUSR for libc5(?) compile.

	* controls/combo.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Stop a WM_SETTEXT message (and friends) to a combo sending CBN_EDIT*
	messages to the parent.

	* include/winbase.h, memory/heap.c: Francois Gouget <fgouget@psn.net>
	Added (correct) prototype for HeapWalk.

	* dlls/ole32/ifs.c, include/wine/obj_base.h:
	Francois Gouget <fgouget@psn.net>
	- The ICOM_CMETHODxxx cause problems because the 'const' changes the
	  signature. There's no such thing on Windows anyway (it's a shame) so
	  just remove them altogether.
	- HeapMinimize returns a void, not a 'void*'

2000-03-20  Alexandre Julliard  <julliard@winehq.com>

	* windows/ttydrv/event.c, windows/ttydrv/init.c, windows/ttydrv/keyboard.c, windows/ttydrv/main.c, windows/x11drv/desktop.c, windows/x11drv/init.c, windows/x11drv/keyboard.c, windows/x11drv/main.c, loader/main.c, misc/main.c, objects/gdiobj.c, windows/event.c, windows/keyboard.c, windows/multimon.c, windows/ttydrv/desktop.c, windows/win.c, controls/desktop.c, dlls/dinput/dinput_main.c, dlls/display/display_main.c, dlls/mouse/mouse_main.c, dlls/ttydrv/ttydrv.spec, dlls/ttydrv/ttydrv_main.c, dlls/x11drv/x11drv.spec, dlls/x11drv/x11drv_main.c, graphics/ttydrv/init.c, graphics/x11drv/init.c, include/desktop.h, include/keyboard.h, include/message.h, include/monitor.h, include/mouse.h, include/ttydrv.h, include/user.h, include/x11drv.h:
	Moved graphics initialisation to the x11drv/ttydrv dll init code.
	Merged event, keyboard and mouse drivers into USER driver.

2000-03-19  Alexandre Julliard  <julliard@winehq.com>

	* ole/ole2nls.c: Andrew Lewycky <andrewl@corel.com>
	Improved CompareStringA performance.

	* library/winestub.c: Added missing debugtools.h include.

	* programs/winhelp/hlpfile.c, programs/winhelp/macro.c, programs/winhelp/macro.lex.l, programs/winhelp/winhelp.c, programs/clock/language.c, programs/clock/main.h, programs/cmdlgtst/cmdlgtst.c, programs/notepad/dialog.c, programs/notepad/main.c, programs/notepad/search.c, programs/progman/dialog.c, programs/progman/group.c, programs/progman/main.c, programs/progman/program.c, programs/view/init.c, programs/view/view.c:
	Niels Kristian Bech Jensen <nkbj@image.dk>
	Fixed some compiler errors and warnings.

	* ole/ole2nls.c: Steven Elliott <elliotsl@mindspring.com>
	Temporarily implemented the LCMAP_SORTKEY flag in the LCMapStringW()
	function pending a more complete implementation of locales.

	* loader/module.c:
	Hack: always try builtin module before elf or elfdll to avoid loading
	a builtin dll .so file in the wrong mode.

	* graphics/x11drv/xfont.c, objects/font.c:
	Moved font resource functions out of the X11 driver.

	* tools/makedep.c:
	Added support for source files stored in subdirectories.

	* graphics/enhmetafiledrv/init.c, graphics/metafiledrv/init.c, graphics/psdrv/init.c, graphics/ttydrv/init.c, graphics/win16drv/init.c, graphics/x11drv/graphics.c, graphics/x11drv/init.c, include/gdi.h, include/x11drv.h, objects/dc.c:
	Added GetDCOrgEx in graphics device interface and removed X11 code
	from dc.c.

	* dlls/winmm/mmio.c, dlls/winmm/mmsystem.spec, dlls/winmm/winemm.h, dlls/winmm/winmm.spec, include/mmsystem.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed segmented/linear buffers manipulation.
	Better IO buffering.
	Added some missing prototypes.

	* dlls/comctl32/treeview.c, dlls/shell32/brsfolder.c:
	Francois Gouget <fgouget@psn.net>
	Explicitly use the TVN_xxxA version of the macros.

	* include/commctrl.h: Francois Gouget <fgouget@psn.net>
	- Added the TVN_xxxA macros
	- Added missing TBNOTIFY macros and types
	- Added SNDMSG

	* include/winuser.h: Francois Gouget <fgouget@psn.net>
	Added WM_APP.

	* scheduler/client.c, scheduler/critsection.c, windows/clipboard.c, windows/ttydrv/clipboard.c, windows/ttydrv/keyboard.c, graphics/x11drv/graphics.c, graphics/x11drv/palette.c, include/x11drv.h, library/winestub.c, loader/ne/segment.c, memory/virtual.c, misc/main.c, misc/printdrv.c, misc/registry.c, misc/xmalloc.c, objects/palette.c, graphics/win16drv/init.c, graphics/x11drv/bitblt.c, graphics/x11drv/brush.c, graphics/x11drv/dib.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Removed most calls to xmalloc/xrealloc.

	* include/windef.h: Francois Gouget <fgouget@psn.net>
	- Added missing definition for GLOBALHANDLE and LOCALHANDLE
	- Fixed the prototype of WNDENUMPROC

	* include/ddeml.h: Francois Gouget <fgouget@psn.net>
	Added some missing defines.

	* windows/dialog.c: Andrew Lewycky <andrewl@corel.com>
	Propagate IsDialogMessage to the parent if the dialog has the
	DS_CONTROL flag.

	* memory/string.c: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added an exception frame for lstrcpy16.

	* loader/main.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Now attaching imported DLLs of a winelib executable.

	* include/wine/obj_inplace.h: Marcus Meissner <marcus@jet.franken.de>
	IOleItemContainer has OLEGUID(0x11c), not 0x11a.

	* dlls/ole32/compobj.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed memory corruption with CoTaskMemRealloc.

	* tools/genpatch: Steven Elliott <elliotsl@mindspring.com>
	Made various changes to tools/genpatch including suggestions from Ove
	Kaaven (Place added files last in the patch.  Add a switch that
	specifies modified files.)

	* include/tchar.h, include/winnt.h: Francois Gouget <fgouget@psn.net>
	Moved the definition of PTSTR and LPTSTR from tchar.h to winnt.h.

	* include/windows.h: Francois Gouget <fgouget@psn.net>
	Should include 'winspool.h'.

	* tools/wrc/parser.h, tools/wrc/parser.l:
	Francois Gouget <fgouget@psn.net>
	- An extern statement finishes with the first closing '}' or the first
	  outer ';'
	- Handle '#error', '#line' and '#pragma' even when in the 'pp_strips',
	  'pp_stripe', 'pp_stripp' or 'pp_false' contexts (just like '#if' and
	  co).  But still don't issue an error if '#error' is found when in the
	  'pp_false' state.

	* tools/wrc/parser.y: Francois Gouget <fgouget@psn.net>
	Make the first comma in the control's definition optional.

	* dlls/ole32/datacache.c: Andrew Lewycky <andrewl@corel.com>
	Support loading any presentation aspect.

	* dlls/winaspi/aspi.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Avoid a link error from another DLL on FreeBSD.

	* dlls/winmm/joystick.c, dlls/winmm/joystick/joystick.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed joystick ID/deviceID/driver handle/instance ID mixup.

	* graphics/x11drv/dib.c: Andrew Lewycky <andrewl@corel.com>
	Delete the shm segment as soon as wine and X have attached it.

	* dlls/winsock/socket.c: Lars Heete <hel@admin.de>
	Corrected handling of proto==NULL in WINSOCK_getservbyname and
	WINSOCK_getservbyport.

	* windows/event.c, include/main.h, loader/main.c, misc/main.c, miscemu/main.c, objects/gdiobj.c, relay32/.cvsignore, relay32/Makefile.in, relay32/gdi32.spec, relay32/user32.spec, configure.in, dlls/Makefile.in, dlls/gdi/.cvsignore, dlls/gdi/Makefile.in, dlls/gdi/gdi.spec, dlls/gdi/gdi32.spec, dlls/gdi/gdi_main.c, dlls/ttydrv/.cvsignore, dlls/ttydrv/Makefile.in, dlls/ttydrv/ttydrv.spec, dlls/ttydrv/ttydrv_main.c, dlls/user/.cvsignore, dlls/user/Makefile.in, dlls/user/user.spec, dlls/user/user32.spec, dlls/user/user_main.c, dlls/x11drv/.cvsignore, dlls/x11drv/Makefile.in, dlls/x11drv/x11drv.spec, dlls/x11drv/x11drv_main.c, if1632/.cvsignore, if1632/Makefile.in, if1632/gdi.spec, if1632/user.spec, Make.rules.in, configure:
	Created separate dlls for user,gdi,ttydrv,x11drv.
	Fixed Winelib argc handling (thanks to Eric Pouech).

2000-03-18  Alexandre Julliard  <julliard@winehq.com>

	* graphics/psdrv/escape.c, include/dinput.h, include/keyboard.h, include/ttydrv.h, include/tweak.h, include/user.h, include/x11drv.h, loader/main.c, misc/tweak.c, ole/ole2nls.c, scheduler/synchro.c, windows/ttydrv/init.c, windows/ttydrv/keyboard.c, windows/ttydrv/main.c, windows/x11drv/init.c, windows/x11drv/main.c:
	Misc small cleanups.

	* windows/spy.c, windows/sysparams.c, graphics/x11drv/bitblt.c, loader/dos/dosvm.c, misc/Makefile.in, misc/main.c, misc/spy.c, objects/Makefile.in, objects/clipping.c, objects/cursoricon.c, objects/region.c, objects/text.c, windows/Makefile.in, windows/cursoricon.c, windows/message.c:
	Avoid calling the *Rect USER functions from inside GDI.
	Moved a few USER functions to a more appropriate location.

	* loader/main.c, misc/Makefile.in, misc/main.c, misc/options.c, misc/registry.c, misc/version.c, miscemu/main.c, windows/x11drv/main.c, windows/x11drv/monitor.c, dlls/ddraw/ddraw_main.c, documentation/wine.man.in, graphics/x11drv/bitblt.c, graphics/x11drv/palette.c, include/main.h, include/options.h, include/shell.h, wine.ini:
	Moved command-line option handling out of the X11 driver.
	Added support for "--" prefix on options.
	Replaced a few X11 command-line options by wine.conf parameters.

2000-03-17  Alexandre Julliard  <julliard@winehq.com>

	* graphics/Makefile.in, graphics/d3d_private.h, graphics/d3dcommon.c, graphics/d3ddevices.c, graphics/d3dexecutebuffer.c, graphics/d3dlight.c, graphics/d3dmaterial.c, graphics/d3dtexture.c, graphics/d3dviewport.c, graphics/ddraw.c, graphics/ddraw_private.h, graphics/vga.c, relay32/Makefile.in, relay32/ddraw.spec, relay32/dinput.spec, windows/Makefile.in, windows/dinput.c, Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/ddraw/.cvsignore, dlls/ddraw/Makefile.in, dlls/ddraw/d3d_private.h, dlls/ddraw/d3dcommon.c, dlls/ddraw/d3ddevices.c, dlls/ddraw/d3dexecutebuffer.c, dlls/ddraw/d3dlight.c, dlls/ddraw/d3dmaterial.c, dlls/ddraw/d3dtexture.c, dlls/ddraw/d3dviewport.c, dlls/ddraw/ddraw.spec, dlls/ddraw/ddraw_main.c, dlls/ddraw/ddraw_private.h, dlls/dinput/.cvsignore, dlls/dinput/Makefile.in, dlls/dinput/dinput.spec, dlls/dinput/dinput_main.c:
	Made ddraw and dinput separate dlls.

	* server/process.c, server/process.h, server/ptrace.c, server/request.c, server/request.h, server/thread.c, server/thread.h, server/trace.c, include/server.h, include/thread.h, include/winbase.h, include/windef.h, loader/module.c, scheduler/client.c, scheduler/process.c, scheduler/sysdeps.c, scheduler/thread.c:
	Have threads and processes exit more cleanly whenever possible.

	* relay32/builtin32.c:
	Include space for resources in the module header instead of doing a
	separate allocation.

	* Make.rules.in, Makefile.in, dlls/Makefile.in, dlls/mpr/.cvsignore, dlls/mpr/Makefile.in, misc/network.c:
	Made MPR a separate dll.

	* dlls/ole32/stg_bigblockfile.c, dlls/ole32/storage32.h:
	Andrew Lewycky <andrewl@corel.com>
	Rewrite the BIGBLOCKFILE implementation for better performance.

	* tools/bug_report.pl: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Further simplify the code and remove some redundant code.
	Make the user interface more consistent and appealing.

	* dlls/ole32/defaulthandler.c: Andrew Lewycky <andrewl@corel.com>
	Avoid a refcount leak in QueryInterface when delegating.
	And a couple of minor bugs.

2000-03-15  Alexandre Julliard  <julliard@winehq.com>

	* debugger/info.c, debugger/memory.c, debugger/msc.c, debugger/source.c, debugger/stabs.c, debugger/stack.c, debugger/types.c, debugger/winedbg.c, debugger/break.c, debugger/db_disasm.c, debugger/dbg.y, debugger/dbgmain.c, debugger/debug.l, debugger/debugger.h, debugger/display.c, debugger/expr.c, debugger/hash.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Introduced DBG_VALUE struct to manipulate debugger/debuggee address space.
	Added watch (hardware assisted debugging) and whatis (type of expr) commands.
	Fixed some issues in local vars handling (stabs parsing & registers optimization).

	* graphics/x11drv/graphics.c, graphics/x11drv/text.c:
	Karl Lessard <karll@corel.ca>
	Update DIB sections in text output and for graphics primitives.

	* windows/dce.c, windows/x11drv/event.c:
	Michael Abd-El-Malek (on behalf of Corel)
	When we were switching to another desktop, the popup windows lost
	their WS_VISIBLE flag.

	* server/context_i386.c:
	Avoid SIGSTOP/SIGCONT race when ptrace is disabled.
	Fixed context flags handling (thanks to Eric Pouech).

	* server/process.c, server/ptrace.c, server/thread.c, server/thread.h:
	Avoid SIGSTOP/SIGCONT race when ptrace is disabled.

	* server/debugger.c: Fixed bug in generate_startup_debug_events().

	* programs/Makefile.in, programs/winemine/.cvsignore, programs/winemine/Makefile.in, programs/winemine/README, programs/winemine/dialog.c, programs/winemine/dialog.h, programs/winemine/main.c, programs/winemine/main.h, programs/winemine/resource.h, programs/winemine/rsrc.rc, programs/winemine/winemine.spec, configure, configure.in:
	Joshua Thielen <fozey@netzero.com>
	Added winemine app.

	* tools/bug_report.pl: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Improved the visual appearence of the user interface. Made the code
	somewhat simpler.

2000-03-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/crtdll/crtdll_main.c, dlls/crtdll/crtdll.spec:
	Waldek Hebisch <hebisch@math.uni.wroc.pl>
	Implemented _read and _lseek.

	* dlls/winsock/socket.c: Rein Klazes <rklazes@casema.net>
	Correct conversion of level parameter if WINSOCK_setsockopt is called
	for option WS_SO_DONTLINGER.

	* objects/gdiobj.c: Rein Klazes <rklazes@casema.net>
	Correct rounding of the result in MulDiv16().

	* dlls/winaspi/aspi.c, dlls/winaspi/winescsi.h:
	Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed FreeBSD compilation.

	* dlls/dplayx/Makefile.in, dlls/dplayx/dplay.c, dlls/dplayx/dplobby.c, dlls/dplayx/name_server.c, dlls/dplayx/name_server.h, documentation/status/directplay:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Make registry usage a little more correct and modern
	- Create home for all dplay name server functionality
	- Add the framework for EnumSessions
	- Documentation update

	* dlls/advapi32/security.c, dlls/avifil32/avifile.c, include/debugdefs.h:
	Dimitrie Paun <dimi@bigfoot.com>
	Cleaned up debug channels a bit.

	* graphics/ddraw.c: Marcus Meissner <Marcus.Meissner@caldera.de>
	Implemented stretched blts for depth 24 (unoptimized).

2000-03-10  Alexandre Julliard  <julliard@winehq.com>

	* debugger/winedbg.c: Fixed OUTPUT_DEBUG_STRING pointer handling.

	* include/process.h, memory/virtual.c, scheduler/process.c:
	Removed PROCESS_IsCurrent().

	* include/server.h, scheduler/debugger.c, server/context_i386.c, server/debugger.c, server/file.c, server/main.c, server/object.h, server/process.c, server/request.c, server/request.h, server/thread.c, server/thread.h, server/trace.c, tools/make_requests, win32/except.c, dlls/ntdll/exception.c:
	Added specific routines for OUTPUT_DEBUG_STRING and EXCEPTION debug events.
	Generate a breakpoint event on process attach.
	Misc cleanups in request handling.

2000-03-09  Alexandre Julliard  <julliard@winehq.com>

	* debugger/break.c, debugger/dbg.y, debugger/debug.l, debugger/debugger.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Now relying on exception codes to know when debugger is entered for a
	single step trap.

	* debugger/winedbg.c, miscemu/main.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added proc to start debugging process from its command line (by launching it).

	* debugger/expr.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Cleanup.

	* graphics/psdrv/afm.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Add Black as a valid font weight.
	Cope with afm files that do not contain {Family|Full}Name entries.

	* dlls/winaspi/winaspi32.c: David Elliott <dfe@netnitco.net>
	- Got rid of PROFILE functions.
	- Use functionality of aspi.c.
	- Automagically read /proc/scsi/scsi (part of aspi.c which is already
	  in tree).

	* graphics/x11drv/dib.c: Jim Aston <jima@corel.ca>
	Handle 24 bit DIBs <-> 24 bit deep/24 bits per pixel XImages.

	* programs/view/globals.h: Mike Castle <dalgoda@ix.netcom.net>
	Added resource.h include.

	* windows/rect.c: Marcus Meissner <marcus@jet.franken.de>
	IsRectEmpty also returns true for negative width/heights (verified
	against Windows), found by Brad Oliver <bradman@pobox.com>.

	* dlls/oleaut32/variant.c: Lawson Whitney <lawson_whitney@juno.com>
	Take type from referenced variant for VT_BYREF && VT_VARIANT.

	* relay32/builtin32.c, scheduler/client.c, scheduler/debugger.c, scheduler/process.c, server/debugger.c, server/object.h, server/process.c, server/process.h, server/ptrace.c, server/request.c, server/request.h, server/thread.c, server/trace.c, include/elfdll.h, include/module.h, include/pe_image.h, include/process.h, include/server.h, loader/elf.c, loader/elfdll.c, loader/module.c, loader/pe_image.c:
	Store the list of loaded dlls in the server, and generate debug events
	internally.

2000-03-08  Alexandre Julliard  <julliard@winehq.com>

	* server/thread.c, server/trace.c, tools/make_requests, include/server.h, scheduler/client.c:
	Added server protocol version check.

	* include/aspi.h, include/winaspi.h, include/wnaspi32.h, msdos/Makefile.in, msdos/dosaspi.c, Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/winaspi/.cvsignore, dlls/winaspi/Makefile.in, dlls/winaspi/aspi.c, dlls/winaspi/winaspi16.c, dlls/winaspi/winaspi32.c, dlls/winaspi/winescsi.h, dlls/winaspi/wnaspi32.spec:
	David Elliott <dfe@netnitco.net>
	- Slightly reworked include files (less messy, more straightforward).
	- Moved DOS ASPI functionality to msdos/dosaspi.c.
	- Got rid using PROFILE to get SCSI info from wine.conf.
	- Read scsi info from /proc/scsi/scsi.
	- Added setting of a reasonable timeout when opening a SCSI device (5
	  minutes, defined in winescsi.h).
	- ExecScsiCommand now ALWAYS posts, even on error (which is the correct
	  behavior).

	* dlls/commdlg/cdlg_Sk.rc, dlls/commdlg/rsrc.rc, dlls/shell32/shell32_Sk.rc, dlls/shell32/shres.rc, documentation/wine.man.in, include/options.h, misc/main.c, resources/sysres_Sk.rc, resources/user32.rc:
	Simen Zamecnik <simen@nextra.sk>
	Added Slovak language support.

	* dlls/shell32/shell32_Ja.rc, dlls/shell32/shres.rc, include/options.h, misc/main.c, resources/.cvsignore, resources/sysres_Ja.rc, resources/user32.rc, dlls/commdlg/cdlg_Ja.rc, dlls/commdlg/rsrc.rc:
	Junichi Kuchinishi <jkuchi@mahoroba.ne.jp>
	Added some Japanese resources.

	* dlls/ole32/Makefile.in, dlls/ole32/clipboard.c, dlls/ole32/datacache.c, dlls/ole32/ole2impl.c, dlls/ole32/ole2stubs.c, dlls/ole32/olestd.h, dlls/ole32/storage32.c, include/ole2.h, include/winerror.h:
	Abey George <abey@macadamian.com>
	Implemented OLE clipboard functionality for Embed Source format.
	It helps you cut and paste data with Embed Source format between
	applications.  It also implements OleCreateFromData and
	OleQueryCreateFromData and fixes some bugs in datacache.c.

	* loader/module.c: Ulrich Czekalla <ulrichc@corel.ca>
	wm->modname might be invalid at the end of FreeLibrary.

	* loader/ne/module.c, misc/debugstr.c, misc/error.c, windows/defdlg.c, windows/defwnd.c, windows/dialog.c, windows/focus.c, windows/input.c, windows/user.c, windows/x11drv/event.c, windows/x11drv/keyboard.c, controls/edit.c, controls/menu.c, debugger/stack.c, dlls/comctl32/commctrl.c, dlls/winsock/async.c, dlls/winsock/socket.c, include/dce.h, include/menu.h, include/message.h, include/nonclient.h, include/queue.h, include/stackframe.h, include/struct32.h, include/thread.h, include/win.h, include/winbase.h, include/wine/winuser16.h, include/winpos.h, loader/module.c, controls/button.c:
	Patrik Stridvall <ps@leissner.se>
	Removed a lot of unnecessary includes and fixed the compile errors.

	* dlls/ole32/moniker.c, dlls/ole32/storage32.c, include/ole2.h, include/shell.h, memory/global.c, misc/registry.c, misc/wsprintf.c, server/registry.c, server/request.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some warnings.

	* dlls/oleaut32/variant.c: Lawson Whitney <lawson_whitney@juno.com>
	Corrected value for DAYS_IN_ONE_YEAR.

	* dlls/crtdll/crtdll_main.c:
	Alexandre Julliard <julliard@codeweavers.com> (for Corel)
	Cleaned up CRTDLL__unlink.

	* controls/static.c: Ulrich Czekalla <ulrichc@corel.ca>
	The static control only needs to invalidate its rect when we SetText.

	* include/winuser.h, misc/spy.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added a few messages for IME.

	* debugger/Makefile.in, debugger/break.c, debugger/db_disasm.c, debugger/dbg.y, debugger/debug.l, debugger/debugger.h, debugger/display.c, debugger/expr.c, debugger/hash.c, debugger/info.c, debugger/memory.c, debugger/registers.c, debugger/source.c, debugger/stabs.c, debugger/stack.c, debugger/types.c, debugger/winedbg.c, include/debugdefs.h, include/debugger.h, miscemu/main.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	No longer directly accessing debuggee memory.
	Execution context (mode, steps...) are now linked to a thread.
	Removed some X11 crst hacks.
	Rewrote info/walk commands.
	Removed direct debugger invocation code (and moved the rest to the new
	winedbg.c file).

	* scheduler/debugger.c, scheduler/process.c, server/process.c, server/trace.c, win32/except.c, win32/newfns.c, include/ntddk.h, include/server.h, include/winbase.h, loader/module.c, dlls/ntdll/exception.c:
	Removed PDB32_DEBUGGED flag and send all debug events unconditionally.
	Implemented IsDebuggerPresent().

	* server/debugger.c, server/object.h, server/process.c, server/process.h, server/thread.c, server/thread.h, server/trace.c, include/process.h, include/server.h, scheduler/client.c, scheduler/debugger.c, scheduler/process.c, scheduler/thread.c:
	Generate CREATE_PROCESS/THREAD debug events internally in the server.

2000-03-07  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/critsection.c, scheduler/thread.c, win32/Makefile.in, win32/thread.c, include/thread.h, include/winbase.h:
	Better implementation of inline functions SetLastError and
	GetCurrentThreadId.  Added asm inlines for Interlocked* functions.

	* dlls/ntdll/signal_i386.c, include/ntddk.h, dlls/ntdll/exception.c, dlls/ntdll/ntdll.spec:
	Added DbgBreakPoint. Fixed exception record contents on SIGTRAP.

	* loader/ne/module.c, loader/ne/segment.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Fixed second instance DGROUP loading.

	* include/winuser.h, misc/main.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Implement SPI_GETICONMETRICS.
	Change WARN -> FIXME for unimplemented SPI_s and set appropriate error.

	* memory/global.c: Marcus Meissner <marcus@jet.franken.de>
	Actual write the cached struct in GlobalMemoryStatus.

	* documentation/fonts, graphics/x11drv/xfont.c:
	Rein Klazes <rklazes@casema.net>
	Include in the AddFontResourceA/W fixme message a pointer to the fonts
	document. In this document tell the user how to find the needed tools.

	* dlls/winsock/socket.c: Rein Klazes <rklazes@casema.net>
	Add a message and fix error code if __ws_getservbyname() and
	__ws_getservbyport() cannot find the requested service.
	Fix WINSOCK_setsockopt() when called with optval pointing to 16 bit int.

	* dlls/winmm/mmio.c: Ulrich Czekalla <ulrichc@corel.ca>
	Check for existence if MMIO_EXIST is passed to MMIO_Open.

	* dlls/ole32/filemoniker.c: Jeff Tranter <jefft@corel.ca>
	The pathname was stored in a string of size 100, which was not always
	large enough. It should be set to MAX_PATH (255).

	* loader/task.c: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Several fixes to MakeProcInstance.

2000-03-05  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winmm/Makefile.in, dlls/winsock/Makefile.in, dlls/ole32/Makefile.in, dlls/oleaut32/Makefile.in, dlls/olecli/Makefile.in, dlls/olesvr/Makefile.in, dlls/rasapi32/Makefile.in, dlls/shell32/Makefile.in, dlls/version/Makefile.in, dlls/win32s/Makefile.in, dlls/Makefile.in, dlls/avifil32/Makefile.in, dlls/commdlg/Makefile.in, dlls/dplayx/Makefile.in, dlls/lzexpand/Makefile.in, dlls/msvideo/Makefile.in, dlls/Makedll.rules.in:
	Added support for creating extra symlinks for .so files that contain
	multiple dlls.

2000-03-04  Alexandre Julliard  <julliard@winehq.com>

	* */Makefile.in, Make.rules.in, Makefile.in, configure, configure.in, dlls/.cvsignore, dlls/Makedll.rules.in:
	Moved dll-specific make rules to a separate Makedll.rules file.

	* misc/registry.c: Fixed error checking in registry saving.

	* dlls/winsock/socket.c: Ove Kaaven <ovek@arcticnet.no>
	WSACleanup should set last error to WSANOTINITIALISED if failing
	because Winsock was not initialized...

	* dlls/ole32/compobj.c, include/ole.h, include/wine/obj_base.h:
	Marcus Meissner <marcus@jet.franken.de>
	CoLoadLibrary gets UNICODE, not ASCII strings. (spotted by Lawson
	Whitney), removed the dllName component of the openDlls.  Added some
	debugstr_guid().

	* dlls/ntdll/nt.c: Dan Scott <dan.scott@home.com>
	Fixed typos in _alldiv() and _allmul().

	* configure.in, configure: Marcus Meissner <marcus@jet.franken.de>
	Added message for missing xpm devel libs for debian/corel.

	* dlls/ole32/ole2.c: Pierre Mageau <pierre@macadamian.com>
	OleRegGetUserType did query wrong registry key.

	* memory/global.c: Marcus Meissner <marcus@jet.franken.de>
	Some applications call GlobalMemoryStatus() very often. Cache the
	results of the call for 1 second (spotted by Corel).

	* windows/x11drv/event.c: Marcus Meissner <marcus@jet.franken.de>
	GetClipboardData16 might return an invalid global handle (spotted by
	Corel).

	* objects/enhmetafile.c: Lilia Roumiantseva
	cbCountSizeOfEnhMetafile callback function instead of increasing a
	contents of the pointer to the size increased the pointer itself.

	* documentation/psdriver: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix docs to reflect change to .winerc processing.

	* tools/wineinstall: Ove Kaaven <ovek@arcticnet.no>
	Fixed a couple of config.cache problems.

	* dlls/comctl32/trackbar.c: Vahid Pourlotfali
	Trackbar contol did not have proper position value in case of
	SB_THUMBTRACK notification message: it was always sending 0.

	Jim Aston <jima@corel.ca>
	Made the slider control a rect.  It had been trying to draw a notched
	slider, but the result didn't look right.

	* dlls/winsock/socket.c: Rein Klazes <rklazes@casema.net>
	Made WINSOCK_setsockopt handle option SO_DONTLINGER correctly.

	* objects/cursoricon.c: Serge Ivanov <sergei@corel.ca>
	CURSORICON_IconToCursor: inconsistent Lock/Unlock

	* files/profile.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	PROFILE_GetString: only accept NULL for keyname to return the list of
	keys as Win95 does.

	* graphics/x11drv/dib.c: Joerg Mayer <jmayer@telesun2.telemation.de>
	Fix a sign bug where memcpy was called with negative length.

2000-02-29  Alexandre Julliard  <julliard@winehq.com>

	* files/profile.c: Make profile key a global handle.

	* dlls/win32s/.cvsignore, dlls/win32s/Makefile.in, dlls/win32s/w32skernel.c, dlls/win32s/w32skrnl.c, Make.rules.in, dlls/Makefile.in:
	Renamed libwin32s to use the proper dll name (libw32skrnl).

	* windows/x11drv/keyboard.c, windows/x11drv/wnd.c, dlls/comctl32/monthcal.c, dlls/comctl32/toolbar.c, dlls/imm32/imm.c, dlls/msacm32/driver.c, dlls/msvideo/msvideo_main.c, dlls/shell32/iconcache.c, msdos/int21.c, windows/x11drv/clipboard.c:
	Niels Kristian Bech Jensen <nkbj@image.dk>
	Removed superfluous #include statements for header files included twice.

	* dlls/comctl32/updown.c: Serge Ivanov <sergei@corel.ca>
	Make updown control work. UpDown control always sends WM_*SCROLL
	message and uses SB_THUMBPOSITION code (not SB_LINE[UP|DOWN]).

	* dlls/comctl32/header.c: Pascal Lessard <pascal@macadamian.com>
	Implemented the behavior of sending WM_CONTEXTMENU when receiving a
	WM_RBUTTONUP.

	* dlls/ole32/storage32.c: Murali Pattathe

	This is the patch for the OleConvertOLESTREAMToIStorage wine API.
	This API calls another function called OLECONVERT_LoadOLE10 which
	basically read the OLE stream from the file through the callback
	function (this is passed by the application).

	The reading format was wrong. Still I am not very sure this is 100 %
	correct format. I did some reverse engineering and found the format. I
	have tried with different OLE object and its worked in paradox. I
	haven't tested with any other apps.

	* dlls/oleaut32/Makefile.in, dlls/oleaut32/oleaut32.spec, dlls/oleaut32/stubs.c, dlls/olepro32/olepro32.spec, dlls/olepro32/olepro32stubs.c:
	Patrik Stridvall <ps@leissner.se>
	Moved some stubs and added forwards in order to make both winapi_check
	and checklink happy.

	* tools/winapi_check/*:
	Patrik Stridvall <ps@leissner.se>
	Moved the rest of the API specification from the global file to the
	local files.

2000-02-27  Alexandre Julliard  <julliard@winehq.com>

	* ANNOUNCE, ChangeLog, include/version.h: Release 20000227.

----------------------------------------------------------------
2000-02-27  Alexandre Julliard  <julliard@winehq.com>

	* win32/init.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	GetComputerNameA(): added parameter check like Win95 does.

	* tools/build.c: Patrik Stridvall <ps@leissner.se>
	- Fixed some Solaris specific assembler problems
	- Fixed some missing .type @function (helps debugging with dbx)
	- Fixed code needing __attribute__((constructor))__ for non-GCC ELF compilers
	- Fixed use of zero width arrays (ANSI C violation)
	- @GOTOFF on Solaris doesn't work - use @GOT and redirection instead

	* memory/selector.c, include/selectors.h:
	Patrik Stridvall <ps@leissner.se>
	Fixed some Solaris specific assembler problems.

	* dlls/ole32/ole32.spec, dlls/shell32/shlwapi.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/win32/ntdll.api, tools/winapi_check/win32/ole32.api, tools/winapi_check/win32/oleaut32.api:
	Patrik Stridvall <ps@leissner.se>
	Updated winapi_check.

	* tools/genpatch: Steven Elliott <elliotsl@mindspring.com>
	Added utility that generates patches for submission to
	wine-patches@winehq.com.

	* dlls/oleaut32/Makefile.in, dlls/oleaut32/oleaut32.spec:
	oleaut32 should not import functions from olepro32.

	* dlls/comctl32/listview.c, include/listview.h:
	Pierre Mageau <pierre@macadamian.com>
	Don't display the context menu on a double click.

	Ulrich Czekalla <ulrichc@corel.ca>
	Set the font on the edit label control to that used by the listview
	control. It also uses text metrics to set a more reasonable initial
	edit control size.

	Pierre Mageau <pierre@macadamian.com>
	Handle M_SETREDRAW in ListView.
	Fix to EnsureVisible to handle small and large icon correctly.
	Add edit label functionnality to the listview and the file open dialog.

	Ulrich Czekalla <ulrichc@corel.ca>
	RelaseDC in CreateEditLabel.

	Pierre Mageau <pierre@macadamian.com>
	Add functionnality to create new folder in the open dialog.
	Add support for right click menu in common file dialog.
	LISTVIEW_EndEditlabel is now handling NONLPSTR_TEXTCALLBACK listview items.

	Serge Ivanov <sergei@corel.ca>
	LISTVIEW_GetColumnA fix (do not copy string, pass pointers).

	Luc Tourangeau <luc@macadamian.com>
	Preventing a divide by zero when handling LVW_ENSUREVISIBLE message.

	Don Kelly
	-Implemented the sorting on insert of items into a ListView control
	 with either LVS_SORTASCENDING or LVS_SORTDESCENDING set.
	-(helping evil applications): sometimes not so well structured apps
	 (PFPI90, in this case) will not fully initialize structs.  In the case
	 of the LVM_GETITEM message the app may have only initialized the mask
	 and iItem members of the struct.  Added processing of the LVIF_PARAM
	 mask in the case that iSubItem was set but is invalid/uninitialized.

	Pierre Mageau <pierre@macadamian.com>
	Fix for handling correctly the cancelling mode of the Edit label.
	Fix width calculation of the edit label.

	Pascal Lessard <pascal@macadamian.com>
	Implemented the behavior of sending WM_CONTEXTMENU when receiving a
	WM_RBUTTONUP.

	Ulrich Czekalla <ulrichc@corel.ca>
	Fixed a painting problem with listview when the view changes and an
	edit label is active.

	Ulrich Czekalla <ulrichc@corel.ca>
	Fixed a notification problem with listview. On creation if the user
	specifies an item with focus and/or selection we should send the
	proper notification. Insert was preventing LISTVIEW_SetItem from
	seeing the changes and sending the notification.

	Make the draw item rectangle consistent with the selection
	rectangle. This allows us to click on the folders and icons in the
	file open dialog box and the item actually gets selected.

	* files/drive.c: Petr Tomasek <tomasek@etf.cuni.cz>
	- Write serial numbers to the device (FAT)
	- DRIVE_ReadSuperblock: better checking for the FAT fs.

	* files/dos_fs.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	GetFullPathName fixes.

2000-02-26  Alexandre Julliard  <julliard@winehq.com>

	* include/winbase.h, include/winnt.h, memory/string.c, dlls/ntdll/ntdll.spec, dlls/ntdll/rtl.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Fixed definition of the RtlMemory functions. Use macros internally and
	for Winelib, use real functions for exports from ntdll.

	* include/ole2.h: Juergen Schmied <juergen.schmied@debitel.net>
	Prototypes OleInitialize, OleUninitialize.

	* dlls/commdlg/filedlg95.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	ArrangeCtrlPositions: fix for user-defined template with no stc32.

	* controls/menu.c, include/menu.h, windows/message.c:
	Ulrich Czekalla <ulrichc@corel.com>
	Send WM_HELP message when F1 is pressed.

	* controls/listbox.c: Yuxi Zhang <yuxi@corel.ca>
	In the listbox, when the last item is selected and deleted, it still
	appeared in the window.

	Sheri Steeves <sheri@macadamian.com>
	In LISTBOX_UpdateScroll(), if the listbox did not have the WS_SCROLL
	style it would just return.  This left the horizontal scroll bar
	uninitialized and it was appearing at the bottom of the listbox when
	it did not have to.

	Serge Ivanov <sergei@corel.com>
	LISTBOX_SetColumnWidth adds extra 2 pixels to the passed column width
	(it says it is for column margins). Obviously it is wrong, because
	margins must be internal.

	* dlls/ole32/Makefile.in, dlls/ole32/errorinfo.c, dlls/oleaut32/Makefile.in, dlls/oleaut32/errorinfo.c:
	ErrorInfo functions need to be in ole32, not oleaut32.

	* dlls/crtdll/wcstring.c: More portable CRTDLL_iswctype.

	* dlls/shell32/shlmenu.c, dlls/shell32/shlview.c, dlls/shell32/shlwapi.spec, dlls/shell32/shv_bg_cmenu.c, dlls/shell32/shv_item_cmenu.c, dlls/shell32/pidl.h, dlls/shell32/shlfileop.c, dlls/shell32/shlfolder.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Moved file functions to shlfileop.c
	New SHELL_DeleteDirectoryA
	Use shell notifications.
	Enabled file manipulation functions.

	* dlls/shell32/folders.c, dlls/shell32/iconcache.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Fix for OpenIcon.

	* dlls/shell32/shell32.spec, dlls/shell32/shellpath.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Stub PathIsDirectory.

	* dlls/shell32/shellord.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Fixes for ShellExecuteEx.

	* dlls/shell32/shell32_main.h, include/wine/undocshell.h, dlls/shell32/changenotify.c, dlls/shell32/shell32_main.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Basic implementation of shell notifications.

	* documentation/shell32: Juergen Schmied <juergen.schmied@debitel.net>
	Updated.

	* include/wine/obj_contextmenu.h, include/wine/obj_extracticon.h, include/wine/obj_shellfolder.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	Added Winelib types.

	* dlls/shell32/shres.rc: Juergen Schmied <juergen.schmied@debitel.net>
	Added icon no 4 (open folder).

	* dlls/ole32/ole32.spec, dlls/oleaut32/Makefile.in, dlls/oleaut32/errorinfo.c, dlls/oleaut32/oleaut32.spec, include/oleauto.h:
	Patrik Stridvall <ps@leissner.se>
	Added stubs for {Create,Get,Set}ErrorInfo.

	* dlls/ole32/ole2stubs.c: Abey George <abey@macadamian.com>
	Return an error instead of a success code in OleCreate stub function.

	* dlls/comctl32/tab.c, include/tab.h: Don Kelly
	In Windows Property Sheet can have any mix of icon-less tabs and tabs
	with icons.  Adds a check to see if the icon we're adding is non-NULL
	(otherwise random junk from memory can be rendered) when the application
	has specified the PSP_USEICONID flag is set.  Changes to the Tab control
	to only render icons for tabs that have the TCIF_IMAGE flag set
	(previously, if the flag was set the entire image list of icons was
	rendered).

	Stephane Lussier <stephane@macadamian.com>
	Fixes for some tab control bugs

	Henning Hoffmann
	Fixed some width problem with OWNERDRAW tab.

	Luc Tourangeau <luc@macadamian.com>
	TCM_ADJUSTRECT is now returning consistant compare to Windows.

	Serge Ivanov <sergei@corel.ca>
	Fixed problem with tab selection. When you select tab it becames first
	visible tab. Now leftmost visible tab is calculated properly.
	- Added code for correct handling of updown control.
	- Forced recalculation of tabs' coordinates when:
	a) all items are deleted,
	b) window style is canged

	* include/commctrl.h: Ian Schmidt <ischmidt@cfl.rr.com>
	Added necessary defines and structures to compile WineLib apps using
	MFC 6.0 headers.
	Fixed typo in TCM_SETMINTABWIDTH constant.

	* controls/button.c: Bill Jin <billj@corel.ca>
	Bitmap buttons were not refreshed correctly.

	* dlls/comctl32/propsheet.c: Jim Aston <jima@corel.ca>
	This reverts Matts patch.  The messaging needs double checking.

	* windows/message.c, windows/winproc.c, memory/selector.c, misc/w32scomb.c, msdos/dpmi.c, relay32/relay386.c, scheduler/sysdeps.c, scheduler/syslevel.c, tools/build.c, win32/kernel32.c, controls/edit.c, controls/listbox.c, debugger/registers.c, dlls/ntdll/signal_i386.c, if1632/snoop.c, if1632/thunk.c, include/selectors.h, include/thread.h, include/winnt.h, loader/main.c:
	Improved the selector get/set functions.
	Support ANSI-compatible inline asm (with the help of Patrik Stridvall).

	* dlls/winmm/joystick/Makefile.in, dlls/winmm/mcianim/Makefile.in, dlls/winmm/mciavi/Makefile.in, dlls/winmm/mcicda/Makefile.in, dlls/winmm/mciseq/Makefile.in, dlls/winmm/mciwave/Makefile.in, dlls/winmm/midimap/Makefile.in, dlls/winmm/wavemap/Makefile.in, dlls/winmm/wineoss/Makefile.in, include/acconfig.h, include/config.h.in, dlls/Makefile.in, dlls/avifil32/Makefile.in, dlls/comctl32/Makefile.in, dlls/commdlg/Makefile.in, dlls/msvideo/Makefile.in, dlls/oleaut32/Makefile.in, dlls/shell32/Makefile.in, dlls/winmm/.cvsignore, dlls/winmm/Makefile.in, Make.rules.in, Makefile.in:
	Made winmm a separate shared library.

	* scheduler/process.c, tools/bin2res.c, include/wine/windef16.h, loader/ne/resource.c, misc/registry.c, objects/dib.c, ole/ole2nls.c, programs/clock/winclock.c, dlls/shell32/changenotify.c, dlls/shell32/shellord.c, graphics/x11drv/dib.c, if1632/builtin.c, include/dplobby.h, include/wingdi.h, dlls/dplayx/dplobby.c, dlls/icmp/icmp_main.c, dlls/ntdll/reg.c, dlls/odbc32/proxyodbc.c, dlls/oleaut32/typelib.c, dlls/commdlg/filedlg95.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed ANSI C violations.

	* server/context_i386.c: Patrik Stridvall <ps@leissner.se>
	Fixed Solaris specific compiler issue.

	* files/dos_fs.c, win32/init.c: Patrik Stridvall <ps@leissner.se>
	Fixed some debug message crashes.

	* include/dinput.h, windows/dinput.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- implement EnumObjects and GetProperty for Mouse and Joystick drivers
	- implement SetDataFormat for the Mouse driver

	* dlls/winmm/joystick/.cvsignore, dlls/winmm/joystick/Makefile.in, dlls/winmm/joystick/joystick.c, dlls/winmm/joystick/joystick.spec, include/debugdefs.h, include/message.h, include/mmddk.h, windows/message.c, Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/winmm/Makefile.in, dlls/winmm/joystick.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Moved hardware related handling to dlls/winmm/joystick driver.
	Got rid of joySendMessages() hack (now implementation with a timer).

2000-02-25  Alexandre Julliard  <julliard@winehq.com>

	* misc/debugstr.c:
	Release unused space in debug strings to avoid too frequent
	wrap-arounds in the circular buffer.

	* dlls/oleaut32/Makefile.in: Added import of olepro32.

	* winedefault.reg: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added OLE entries and comments.

	* ole/nls/jpn.nls: Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Japanese support implemented.

	* ole/ole2nls.c: Steven Elliott <elliotsl@mindspring.com>
	Stubbed out the implementation of LCMAP_SORTKEY in LCMapStringW() in
	order to allow Windows 9x Perl to start.

	* dlls/winspool/info.c: Ulrich Czekalla <ulrichc@corel.ca>
	This patch initializes the return buffer used in GetPrinterDriverA to
	zeros. This prevents buffer overruns caused by accessing garbage data.
	Some improvements to the NULL check patch.

	Gautam Jain
	EnumPrinters is not returning the number of printers found in case the
	parameter dwLevel is 1.

	* dlls/ntdll/reg.c: Dmitry Timoshkov <dmitry@sloboda.ru>
	Do not overwrite the valid ObjectAttributes->RootDirectory.
	Perform case insensitive comparison for the registry paths.

	* include/ntddk.h: Dmitry Timoshkov <dmitry@sloboda.ru>
	Added prototypes for registry functions.

	* include/winbase.h, include/winnls.h:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Move definition of CPINFO structure from winbase.h to winnls.h
	Add definition of CPINFOEX structure to winnls.h

	* include/crtdll.h: Dmitry Timoshkov <dmitry@sloboda.ru>
	Add prototype for CRTDLL_wcstol.

	* dlls/comctl32/toolbar.c: Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fix for toolbar button size.

	* misc/lstr.c: Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Fixed CharNextA/CharNextExA for DBCS.

	* windows/multimon.c, windows/x11drv/monitor.c, include/debugger.h, misc/comm.c, ole/ole2nls.c, relay32/snoop.c, tools/build.c, debugger/msc.c, debugger/stabs.c, dlls/comctl32/draglist.c, graphics/ddraw.c:
	James Abbatiello <abbeyj@WPI.EDU>
	Misc. fixes for compiler warnings.

	* dlls/ole32/stg_stream.c, dlls/ole32/storage32.c, dlls/ole32/storage32.h, include/ole2.h, include/wine/obj_base.h, include/winerror.h:
	Pierre Mageau <pierre@macadamian.com>
	Implementation of OleConvert routines.

	Thuy Nguyen <thuy@macadamian.com>
	Don't allow to resize stream open in read only mode
	Allow write access for stream/storage open with STGM_READWRITE.
	StgOpenStorage return values are now more detailed.
	Don't rely on STGM_CREATE flag in the Storage constructor.
	Preventing to write out of date property.

	Owen Wang <owenw@corel.ca>
	Allow both positive & negative 32-bit integers as with MFC assumption.
	This patch improves the 32bit limit on IStream::*_Seek operations.

	John Li <johnl@corel.ca>
	When WP opens a linked file, the malloc function in
	OLECONVERT_LoadOLE10(...) returns a NULL. This causes a later Wine
	crash. The actual problem is the function reading a large data length.

	* dlls/version/info.c: Patrik Stridvall <ps@leissner.se>
	Made some local functions static.

	* dlls/oleaut32/oleaut32.spec, server/context_i386.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/*:
	Patrik Stridvall <ps@leissner.se>
	Moved some of the API specification from the global file to the local
	files.

	* dlls/mouse/mouse_main.c, include/mouse.h, include/ttydrv.h, include/x11drv.h, windows/ttydrv/mouse.c, windows/x11drv/mouse.c:
	James Abbatiello <abbeyj@WPI.EDU>
	Better thread safety for WarpPointer hack.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/security.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Added AddAccessAllowedAce.

	* include/commctrl.h: Juergen Schmied <juergen.schmied@debitel.net>
	Some more ListView_ macros, winelib fixes.

	* objects/cursoricon.c: Juergen Schmied <juergen.schmied@debitel.net>
	Fixed allocation of 16x16 icons.

	* dlls/commdlg/filedlg95.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	For unicode: give the selected filename back.

	* tools/wineinstall: Ove Kaaven <ovek@arcticnet.no>
	Check for Xpm headers and add /usr/local/lib to /etc/ld.so.conf if
	necessary.

	* windows/painting.c: Serge Ivanov <sergei@corel.ca>
	We don't need to call LPtoDP in here as far as PatBlt does it internally.

	* dlls/comctl32/propsheet.c: Serge Ivanov <sergei@corel.ca>
	In Windows, if PropertySheet can't create some page it just skips it. This
	patch adds similar behaviour to Wine. It also adds some NULL checks.

	<yuxi@corel.com>
	Fix property sheet initialization bugs.

	Matthew Robertson
	The template was calling GetActiveIndex which was not being set in the
	propsheet code, and the call was moved before we call SetActive -
	because that's where we query for the Active Index.

	Noomen Hamza
	Resize property sheet to the largest dialog size.

	Don Kelly
	In the WM_INITDIALOG handler for the prop sheet, there is a call to
	PROPSHEET_IsTooSmall() which, if it returns TRUE, calls
	PROPSHEET_AdjustSize().  Contrary to its comment, .._AdjustSize() actually
	aligns the sizes of the "largest" prop. sheet dialog template and the tab
	control.  The IsTooSmall() call doesn't properly catch this mismatch.
	Modified the function to return TRUE if the sizes mismatch and renamed it to
	PROPSHEET_SizeMismatch() to reflect its proper use.

	* dlls/shell32/shlwapi.spec: Marcus Meissner <marcus@jet.franken.de>
	We define PathISURLA, so use it.

	* dlls/comctl32/imagelist.c: Serge Ivanov <sergei@corel.ca>
	In function IMAGELIST_InternalDrawMask we have to mask out overlay mask in
	fStyle. Otherwise comparison fStyle == ILD_NORMAL will not work, which leads
	to improper display of overlay images.

	* windows/win.c:
	Alexandre Julliard <julliard@codeweavers.com> (for Corel)
	ATOMs are considered unique, so we don't need to check class
	pointers in FindWindow.

	* objects/region.c: Serge Ivanov <sergei@corel.com>
	Not all region functions updated 'type' field to reflect current
	region state.

	* programs/cmdlgtst/cmdlgr.rc, programs/cmdlgtst/cmdlgtst.c:
	Eric Williams <ewill@ncal.verio.com>
	Minor fixups and tweaking, and a dummy hook.

	* dlls/commdlg/filedlg.c: Juergen Schmied <juergen.schmied@debitel.net>
	Fixed handling of filedlg flags.

2000-02-20  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/process.c: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added FIXME comment for entry point parameter.

	* dlls/ole32/moniker.c, dlls/ole32/ole32.spec:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	- stub for OLE32.MkParseDisplayName
	- spelling fixes

	* windows/dialog.c, windows/win.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	- fixed my slightly incorrect EndDialog patch
	- cleaned up win.c

	* windows/x11drv/wnd.c, dlls/comctl32/tab.c, windows/winproc.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Spelling fixes.

	* dlls/dsound/dsound_main.c: Marcus Meissner <marcus@jet.franken.de>
	Made the buffer list in the directsound object thread-safe.

	* loader/module.c, loader/ne/module.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	It seems to be GetModuleFileName16 that checks exe version on whether
	to return long or short paths, not GetModuleFileNameA.

	* dlls/commdlg/filedlg.c: Gerard Patel <g.patel@wanadoo.fr>
	Avoid too much refreshing when changing the drive in the 16 bits file
	dialog.

	* files/dos_fs.c: Petr Tomasek <tomasek@etf.cuni.cz>
	GetLongPathName rewrite.

	* dlls/commdlg/cdlg_En.rc, dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/commdlg/filedlgbrowser.h, dlls/commdlg/filetitle.c:
	Corel merge:

	Pierre Mageau
	Don't update the combo box selection when closing the dialog only when
	clicking on OK button.  Adjust file dialog size when help button isn't
	present.

	Don Kelly.
	Fixes problems with open dialog box filters.

	Ulrich Czekalla
	Prevents the help button from displaying on OpenFile dialogs unless
	the proper flag is set in the OPENFILENAME struct.

	Yuxi Zhang
	Fixed memory leak.

	Jean-Claude Batista
	Add tooltips to the file Dialog toolbar.

	Sylvain Bouchard, Bill Jin
	Three new functions
	EnumSelectedPidls, GetNumSelected, FILEDLG95_OnOpenUsingView: corrections
	Instead of passing in a copy of ofn, passing in the pointer of ofn.

	David Golding
	A "!" was missing in a check against lpstrInitialDir.

	Rick Mutzke
	Fixed crash: if dialog has no filetypes appearing in the dropdown list.

	Matt Robertson, Ulrich Czekalla
	Fixed problems occurring with selection of files inside openfiledlg.

	* dlls/commdlg/filedlg.c: Juergen Schmied <juergen.schmied@debitel.net>
	- activated use of templates
	- moved the creating of new folders to the shellview

	* dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	Started with shell-clipboard handling (context menu cut&paste,
	drag&drop).

	* dlls/shell32/dataobject.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Removed ItemIDListList, reorganisation, more formats.

	* dlls/shell32/shlview.c: Juergen Schmied <juergen.schmied@debitel.net>
	- implemented rename, copy and delete file
	- "new file" is activating label edit for rename
	- implemented IShellView_SelectItem

	* dlls/shell32/shres.rc, dlls/shell32/shresdef.h, dlls/shell32/shv_bg_cmenu.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Better context menus.

	* dlls/shell32/Makefile.in, dlls/shell32/clipboard.c, dlls/shell32/contmenu.c, dlls/shell32/shv_item_cmenu.c, include/wine/obj_contextmenu.h, include/wine/obj_shellview.h, include/wine/undocshell.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	- new files related to context menu and drag drop file operations
	- render functions for clipboardformats

	* dlls/shell32/shell.c, dlls/shell32/shellpath.c: Stephane Lussier
	Implemented PathIsURLA and modified ShellExecute16 to be able to load URL

	* dlls/shell32/shell32.spec, dlls/shell32/changenotify.c, dlls/shell32/shellord.c, include/shell.h, include/shellapi.h, include/shlobj.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	Started implementation of shell notifications.

	* dlls/shell32/shlfileop.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	New file (SHFileOperation).

	* dlls/shell32/classes.c: Juergen Schmied <juergen.schmied@debitel.net>
	Fixes.

	* dlls/shell32/shellfolder.h, dlls/shell32/shlfolder.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	- new internal interface for item manipulation (cut/paste/new folder/delete/rename)
	- implemented IPersistFolder2 interface

	* dlls/shell32/pidl.c, dlls/shell32/pidl.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	New aPidl handling functions.

	* misc/main.c: Avoid crash on usage message.

	* dlls/advapi32/registry.c: Avoid crash on NULL data pointer.

	* dlls/ntdll/ntdll.spec, dlls/ntdll/rtl.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added stub for RtlAssert().

	* windows/x11drv/keyboard.c:
	Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	Added Japanese jp106 and pc98x1 keyboard layout.

	* dlls/winmm/mci.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Got rid of PROFILE_ functions, now accessing Wine config options
	through the registry.

	* files/profile.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	While creating the wine config key, make sure that only Wine's subkeys
	are volatile.

	* graphics/psdrv/driver.c: Marcus Meissner <marcus@jet.franken.de>
	Check for NULL ptr in PSDRV_GetDeviceCapabilities.

	* win32/console.c: Marcus Meissner <marcus@jet.franken.de>
	Added a bit magic to CONSOLE_get_input so we don't get single Escapes
	from function key escape sequences.

2000-02-19  Alexandre Julliard  <julliard@winehq.com>

	* memory/atom.c: Bug fix for native USER.

	* loader/loadorder.c, wine.ini:
	Hard-coded DllPairs configuration; there is no need for the user to
	change it.

	* graphics/psdrv/afm.c, graphics/x11drv/xfont.c, include/console.h, include/main.h, include/options.h, misc/main.c, misc/version.c, windows/x11drv/main.c, windows/x11drv/wnd.c, console/interface.c, documentation/wine.man.in, files/profile.c:
	Store config file contents in the registry so we only have to load it
	once per session.
	Replaced PROFILE_EnumerateWineIniSection by PROFILE_EnumWineIniString.
	Removed a few unnecessary/unused command-line options.

2000-02-18  Alexandre Julliard  <julliard@winehq.com>

	* loader/dos/module.c, loader/ne/module.c, loader/pe_image.c, loader/task.c, scheduler/process.c, server/process.c, server/process.h, server/trace.c, include/process.h, include/server.h:
	Store the handle of the process exe file in the server.
	Removed PROCESS_Initial().

	* dlls/oleaut32/variant.c: Owen Wang <owenw@corel.com>
	Set the type of VarBstrFromDate to dwFlags, instead of lcid.

	Ulrich Czekalla  <ulrichc@corel.ca>
	Fixed the problem with the date being off by one.

	Petar Djukic
	VariantCopy was ignoring VT_DISPATCH,VT_UNKNOWN, and VT_VARIANT. Same
	with VariantClear.
	Coerce function doesn't implement coercion for VT_DISPATCH type.

	* if1632/gdi.spec, if1632/kernel.spec, if1632/user.spec:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added/corrected ordinals of kernel, gdi, user.

	* include/win.h, windows/win.c: Noomen Hamza <noomen@macadamian.com>
	Popup windows will be hidden when minimizing the main frame.

	* dlls/oleaut32/typelib.c, dlls/oleaut32/typelib.h:
	Alexandre Julliard <julliard@codeweavers.com> (for Corel)
	Changed the loading of typelib files to use a memory mapping instead
	of reading the file bit by bit.

	* files/drive.c: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	DRIVE_FindDriveRoot() always checked from drive A: to Z: for each
	path component even if a match already occurred.

	* dlls/oleaut32/ole2disp.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed prototype for OleTranslateColor.

	* files/file.c: Matthew Cline <matt@nightrealms.com>
	Added WARN messages on open errors.

	* misc/wsprintf.c: Hidenori Takeshima <hidenori@a2.ctktv.ne.jp>
	The maximum size of the buffer is 1024 bytes in Win32.

2000-02-16  Alexandre Julliard  <julliard@winehq.com>

	* relay32/snoop.c, windows/driver.c, windows/hook.c, windows/win.c, windows/winproc.c, if1632/snoop.c, if1632/thunk.c, include/region.h, loader/loadorder.c, loader/ne/module.c, misc/ddeml.c, misc/toolhelp.c, objects/enhmetafile.c, objects/metafile.c, objects/region.c, files/drive.c, files/file.c, files/profile.c, graphics/driver.c, graphics/enhmetafiledrv/graphics.c, graphics/enhmetafiledrv/init.c, graphics/enhmetafiledrv/objects.c, graphics/metafiledrv/bitblt.c, graphics/metafiledrv/graphics.c, graphics/metafiledrv/init.c, graphics/metafiledrv/objects.c, graphics/win16drv/init.c, graphics/win16drv/prtdrv.c, graphics/x11drv/xfont.c, dlls/lzexpand/lzexpand_main.c, dlls/mpr/mpr_main.c, dlls/winaspi/winaspi16.c, dlls/winmm/lolvldrv.c, dlls/winmm/mci.c, dlls/winmm/wineoss/midi.c, dlls/wnaspi32/winaspi32.c, files/dos_fs.c, dlls/advapi32/security.c:
	Moved SystemHeap allocations to the process heap.

	* windows/win.c: Gerard Patel <g.patel@wanadoo.fr>
	Do not use GlobalFindAtom with atom handles in CreateWindow* functions.

	* windows/defwnd.c: Ulrich Czekalla <ulrichc@corel.ca>
	Send WM_HELP message when F1 is pressed.

	* ole/nls/brf.nls, ole/nls/cor.nls, ole/nls/cym.nls, ole/nls/gae.nls, ole/nls/gdh.nls, ole/nls/gdv.nls, documentation/wine.man.in, include/options.h, include/winnls.h, misc/main.c, ole/ole2nls.c:
	Alastair McKinstry <Alastair.McKinstry@digital.com>
	Added support for the following celtic languages: Irish Gaelic, Scots
	Gaelic, Manx Gaelic, Breton, Welsh, Cornish.

2000-02-14  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ole32/clipboard.c, dlls/ole32/compobj.c, dlls/ole32/ole32.spec:
	Juergen Schmied <juergen.schmied@debitel.net>
	Added stub for CoResumeClassObjects.

	* windows/dinput.c: Lionel Ulmer <lionel.ulmer@free.fr>
	- added argument printing to stubs
	- replaced memcmp by IsEqualGUID
	- implemented GetCapabilities for Mouse and Keyboard

	* dlls/winsock/socket.c: Ove Kaaven <ovek@arcticnet.no>
	ioctlsocket() now returns success if the app sets nonblocking mode for
	WSAAsyncSelect()-ed sockets.

	* dlls/crtdll/wcstring.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed FreeBSD compile.

	* dlls/winmm/mci.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	- fixed crash on mci channel tracing
	- fixed 16 to 32 bit translation for MCI_BREAK and MCI_SYSINFO messages

2000-02-13  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/bitblt.c: James Abbatiello <abbeyj@wpi.edu>
	Moved CLIPPING_UpdateGCClipping call outside of the X11 section.

	* include/winbase.h, scheduler/process.c, scheduler/thread.c, server/process.c, server/thread.c:
	Dave Pickles <davep@nugate.demon.co.uk>
	Added definition for STILL_ACTIVE.

	* server/request.c, configure, configure.in, include/config.h.in, scheduler/client.c:
	Juergen Lock <nox@jelal.kn-bremen.de>
	Added configure check for the unix domain sockaddr length.

	* misc/cdrom.c: Juergen Lock <nox@jelal.kn-bremen.de>
	Fixed CDROM_Audio_Seek for non-linux systems.

	* objects/gdiobj.c, include/gdi.h: Matthew Cline <matt@nightrealms.com>
	GetObjectA() now rejects GDI handles which are invalid.

	* misc/version.c: Juergen Lock <nox@jelal.kn-bremen.de>
	VERSION_GetSystemDLLVersion crashed when being called on a .so.

	* windows/defwnd.c: Martin Fuchs <martin-fuchs@gmx.net>
	Display the system popup menu when clicking with the right mouse
	button in the window caption.

	* dlls/ole32/clipboard.c: Removed check for class existence.

	* dlls/comctl32/animate.c, dlls/comctl32/comboex.c, dlls/comctl32/datetime.c, dlls/comctl32/flatsb.c, dlls/comctl32/header.c, dlls/comctl32/hotkey.c, dlls/comctl32/ipaddress.c, dlls/comctl32/listview.c, dlls/comctl32/monthcal.c, dlls/comctl32/nativefont.c, dlls/comctl32/pager.c, dlls/comctl32/progress.c, dlls/comctl32/rebar.c, dlls/comctl32/status.c, dlls/comctl32/tab.c, dlls/comctl32/toolbar.c, dlls/comctl32/tooltips.c, dlls/comctl32/trackbar.c, dlls/comctl32/updown.c:
	Alexandre Julliard <julliard@codeweavers.com>
	Removed superfluous GlobalFindAtom calls.

	* misc/registry.c: Juergen Schmied <juergen.schmied@debitel.net>
	Reading of ri blocks.
	Better error handling.

	* windows/mdi.c: Matthew Cline <matt@nightrealms.com>
	Check that ci->hWindowMenu is not zero before using it.

	* dlls/crtdll/crtdll.spec, dlls/crtdll/wcstring.c, dlls/ntdll/ntdll.spec:
	David Howells <David.Howells@nexor.co.uk>
	Implemented isw*() wctype.h functions.

	* miscemu/main.c: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Better error messages.

	* dlls/comctl32/treeview.c: Alex Priem <alexp@sci.kun.nl>
	Fixed off-by-one error.

	* memory/atom.c, server/Makefile.in, server/atom.c, server/main.c, server/object.h, server/request.h, server/trace.c, server/unicode.h, windows/class.c, windows/message.c, windows/win.c, if1632/kernel.spec, if1632/user.spec, include/server.h, include/wine/winbase16.h, include/wine/winuser16.h:
	Moved global atoms to the server (based on the work of Sergei
	Turchanov <turchanov@otvprim.ru>).

2000-02-12  Alexandre Julliard  <julliard@winehq.com>

	* include/wingdi.h: Matthew Cline <matt@nightrealms.com>
	Added a PTEXTMETRIC[A|W] definition.

	* include/windef.h: Matthew Cline <matt@nightrealms.com>
	Added typedefs for PSHORT and PUSHORT.

	* windows/dialog.c: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Protect EndDialog() from invalid window handles.

	* graphics/d3dlight.c, graphics/d3dmaterial.c, graphics/d3dtexture.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Replaced fprintfs by proper debug macros and fixed some compilation warnings.

2000-02-10  Alexandre Julliard  <julliard@winehq.com>

	* include/ddraw.h: Ian Schmidt <ischmidt@cfl.rr.com>
	Added GUIDs, defines, and structures for DirectX7.

	* dlls/winmm/winmm_Ru.rc, dlls/winmm/winmm_res.rc:
	Oleg Korda <oleg@isp.nsc.ru>
	Added Russian translation.

	* windows/class.c: Phillip Ezolt <ezolt@perf.zko.dec.com>
	Added missing goto in switch statement.

	* misc/main.c: Marcus Meissner <marcus@jet.franken.de>
	Initialize the NONCLIENTMETRICS with 0 (helps moorhuhn.exe).

	* win32/kernel32.c, windows/x11drv/event.c, windows/x11drv/main.c, graphics/psdrv/afm.c, graphics/psdrv/ppd.c, graphics/psdrv/ps.c, if1632/builtin.c, include/debugdefs.h, include/debugtools.h, include/miscemu.h, memory/global.c, memory/heap.c, memory/ldt.c, memory/virtual.c, misc/cpu.c, misc/debugstr.c, misc/error.c, misc/main.c, misc/registry.c, msdos/dpmi.c, msdos/int2a.c, msdos/int3d.c, msdos/int41.c, msdos/int4b.c, msdos/ioports.c, relay32/snoop.c, tools/make_debug, dlls/winmm/mcicda/mcicda.c, dlls/winmm/mciseq/mcimidi.c, dlls/winmm/mmio.c, dlls/winmm/wineoss/mixer.c, dlls/wnaspi32/winaspi32.c, files/file.c, graphics/ddraw.c, dlls/ole32/compobj.c, dlls/ole32/compositemoniker.c, dlls/oleaut32/typelib.c, dlls/shell32/classes.c, dlls/shell32/shellord.c, dlls/version/install.c, dlls/version/resource.c, dlls/winaspi/winaspi16.c, dlls/advapi32/registry.c, dlls/comctl32/datetime.c, dlls/comctl32/ipaddress.c, dlls/comctl32/trackbar.c, dlls/commdlg/filedlg95.c, dlls/dplayx/dplayx_global.c, dlls/dsound/dsound_main.c, dlls/lzexpand/lzexpand_main.c, dlls/ntdll/misc.c, dlls/ntdll/ntdll_misc.h, dlls/ntdll/signal_i386.c:
	Optimized debugging API to reduce code size.

	* library/winestub.c, misc/cdrom.c, msdos/int2f.c, objects/linedda.c, dlls/oleaut32/variant.c, dlls/olecli/olecli_main.c, dlls/olesvr/olesvr_main.c, graphics/cache.c, graphics/escape.c, graphics/ttydrv/text.c, include/color.h, include/enhmetafiledrv.h, include/metafiledrv.h, include/ole.h, include/psdrv.h, include/win16drv.h, include/wingdi.h, dlls/ole32/compobj.c, dlls/ole32/datacache.c, dlls/ole32/storage.c:
	Removed extra includes from ole.h and wingdi.h.

	* */*:
	Jeremy White <jwhite@codeweavers.com>
	Removed #include of wingdi.h and windef.h from winuser.h (and resolved
	the resulting compilation failures).

2000-02-07  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ole32/compobj.c: Owen Wang <owenw@corel.ca>
	Make CLSIDFromString return a CLSID of zeros instead of crashing when
	passed a null pointer.

	* dlls/winmm/joystick.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed unconditional use of JOYDEV.

	* include/commdlg.h, include/windowsx.h, include/wingdi.h, include/winuser.h:
	Michael Cardenas <michael_cardenas@deneba.com>
	Added a bunch of macros needed for compiling Winelib apps.

	* include/commctrl.h: Juergen Schmied <juergen.schmied@debitel.net>
	Added ListView_EditLabel macros.

	* dlls/commdlg/cdlg32.c: Juergen Schmied <juergen.schmied@debitel.net>
	Changed import to ordinal.

	* include/wine/obj_shellfolder.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	Added IPersistFolder2 interface.

	* misc/cdrom.c, msdos/int2f.c, dlls/winmm/mcicda/mcicda.c, dlls/winmm/mcicda/mcicda.spec, files/drive.c, include/cdrom.h, include/debugdefs.h:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	- implemented serial numbers for audio CDs and data CDs
	- big clean up of misc/cdrom.c and dlls/winmm/mcicda/mcicda.c function
	  naming and such
	- split debug channel cdaudio into cdrom and mcicda
	- fixed some typos

	* dlls/oleaut32/olefont.c, include/olectl.h:
	Sean Langley <seanl@corel.ca>
	Made OleCreateFontIndirect have the same signature (exactly) as the
	header file. Added olepro32 dll stubs.

	* Make.rules.in, configure, configure.in, dlls/Makefile.in, dlls/olepro32/.cvsignore, dlls/olepro32/Makefile.in, dlls/olepro32/README, dlls/olepro32/olepro32.spec, dlls/olepro32/olepro32stubs.c:
	Sean Langley <seanl@corel.ca>
	OLEPRO32 stubs.

	* windows/clipboard.c: Juergen Schmied <juergen.schmied@debitel.net>
	Added CF_HDROP.

	* dlls/winmm/joystick.c: Wolfgang Schwotzer <woschwot@gmx.net>
	Extended the winmm joystick API calls to support the new Linux
	joystick driver.

	* server/context_i386.c: Juergen Lock <nox@jelal.kn-bremen.de>
	Added context functions for FreeBSD.

	* dlls/shell32/systray.c: Sheri Steeves <sheri@macadamian.com>
	Fix for the system tray, Icon and popup menu's now work.

	* graphics/ddraw.c: Marcus Meissner <marcus@jet.franken.de>
	Use window properties instead of window long, also use them to
	determine if we really own a window and can destroy it.
	The pixelformat for 256 colors has PALETTE|RGB flags (Tomb Raider 2)
	Set paintable flag for application passed cooperative/drawing window.
	GetDisplayMode: We might have and do support 2 backbuffers.

	* dlls/ole32/moniker.c: Noomen Hamza <noomen@macadamian.com>
	Running object table are not using 0 as a valid index anymore.

	* controls/static.c: Luc Tourangeau <luc@macadamian.com>
	Implementation of Static OwnerDraw.

	* dlls/comctl32/imagelist.c: Marcus Meissner <marcus@jet.franken.de>
	Height calculation was 1 off in ImageList_Read.

2000-02-03  Alexandre Julliard  <julliard@winehq.com>

	* programs/view/init.c, programs/view/view.c, tools/wrc/wrc.c, windows/mdi.c, controls/edit.c, controls/menu.c, dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c, dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c, dlls/commdlg/printdlg.c, dlls/shell32/brsfolder.c, dlls/shell32/shell32_main.c, graphics/psdrv/driver.c, include/resource.h, loader/ne/resource.c:
	Removed resource.h.

	* programs/regtest/Makefile.in, programs/regtest/regtest.spec, programs/view/.cvsignore, programs/view/Makefile.in, programs/view/view.spec, programs/wcmd/.cvsignore, programs/wcmd/Makefile.in, programs/wcmd/wcmd.spec, programs/winhelp/.cvsignore, programs/winhelp/Makefile.in, programs/winhelp/winhelp.spec, programs/winver/.cvsignore, programs/winver/Makefile.in, programs/winver/winver.spec, programs/avitools/.cvsignore, programs/avitools/Makefile.in, programs/avitools/aviinfo.spec, programs/avitools/aviplay.spec, programs/avitools/icinfo.spec, programs/clock/.cvsignore, programs/clock/Makefile.in, programs/clock/clock.spec, programs/cmdlgtst/.cvsignore, programs/cmdlgtst/Makefile.in, programs/cmdlgtst/cmdlgtst.spec, programs/control/.cvsignore, programs/control/Makefile.in, programs/control/control.spec, programs/notepad/.cvsignore, programs/notepad/Makefile.in, programs/notepad/notepad.spec, programs/osversioncheck/.cvsignore, programs/osversioncheck/Makefile.in, programs/osversioncheck/osversioncheck.spec, programs/progman/.cvsignore, programs/progman/Makefile.in, programs/progman/progman.spec, programs/regapi/.cvsignore, programs/regapi/Makefile.in, programs/regapi/regapi.spec, programs/regtest/.cvsignore, libtest/.cvsignore, libtest/Makefile.in, libtest/expand.spec, libtest/hello.spec, libtest/hello2.spec, libtest/hello3.spec, libtest/hello4.spec, libtest/hello5.spec, libtest/new.spec, libtest/rolex.spec, libtest/vartest.spec, libtest/volinfo.spec:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added .spec files for all libtest/ and programs/ WineLib apps.
	Updated all Makefiles to use .spec files and new resource handling.

	* loader/libres.c, loader/main.c, loader/pe_resource.c, loader/resource.c, relay32/builtin32.c, resources/sysres.c, tools/build.c, include/builtin32.h, include/libres.h, include/module.h, include/pe_image.h, include/resource.h, loader/Makefile.in, loader/elf.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added .spec keyword 'mode' to allow creating built-in EXE modules.
	Use built-in EXE modules for WineLib apps (instead of ELF modules).
	Removed dummy ELF module creation.
	Removed LIBRES handling.

	* programs/notepad/main.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed memory overwrite bug.

	* include/windef.h, include/wine/windef16.h:
	Jeremy White <jwhite@codeweavers.com>
	Moved definitions such as BOOL16 and INT16 from windef.h into
	wine/windef16.h.

	* ole/ole2nls.c: Julio César Gázquez <jgazquez@dld.net>
	GetNumberFormatA implementation added.

	* win32/console.c: Marcus Meissner <Marcus.Meissner@caldera.de>
	Save and restore cursor in WriteConsoleOutputA.

	* include/datetime.h, include/monthcal.h, dlls/comctl32/datetime.c, dlls/comctl32/monthcal.c:
	Alex Priem <alexp@sci.kun.nl>
	- Implementation of WM_SETFORMAT
	- Reworked drawing/selection
	- Implementation of WM_KEYDOWN

	* include/miscemu.h, msdos/int09.c, msdos/int16.c:
	Ove Kaaven <ovek@arcticnet.no>
	Added INT_Int16ReadChar and made int09 handle special keys.

	* graphics/vga.c, include/vga.h: Ove Kaaven <ovek@arcticnet.no>
	Added alphanumeric mode to the VGA emulation.
	Use service thread for the periodic refresh.

	* loader/dos/module.c: Ove Kaaven <ovek@arcticnet.no>
	Cleanup VGA refresh when terminating.

	* win32/console.c: Ove Kaaven <ovek@arcticnet.no>
	Handle backspace correctly.

2000-01-31  Alexandre Julliard  <julliard@winehq.com>

	* configure, Make.rules.in, */Makefile.in:
	Build most dlls as separate shared libraries.

2000-01-30  Alexandre Julliard  <julliard@winehq.com>

	* configure.in, include/config.h.in, server/context_i386.c, configure:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added configure check for sys/reg.h.

	* dlls/comctl32/imagelist.c, include/imagelist.h:
	Marcus Meissner <marcus@jet.franken.de>
	Overlay indices are signed shorts (-1 means no overlay)
	(ImageList_SetOverlayIndex) should accept -1 as overlayindex.
	(ImageList_Read) We can read a NxM bitmap from the stream and have
	to convert it into a 1x(M*N) bitmap, set cCurImage,cMaxImage. Added
	documentation.
	(others) removed some potential operator precendence problems.

	* objects/dc.c: Marcus Meissner <marcus@jet.franken.de>
	GetDeviceCaps: spot yet unsupported accesses to the DeviceCaps struct.

	* include/wine/exception.h, miscemu/main.c, win32/except.c, Makefile.in, debugger/dbg.y, debugger/external.c, dlls/ntdll/exception.c, include/debugger.h, include/thread.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Moved debugger to libwine to make it available to WineLib apps.
	Try to invoke external debugger if internal debugger crashes.
	Try to handle early invocation of debugger more gracefully.

	* include/main.h, include/process.h, include/task.h, loader/main.c, scheduler/process.c, scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Mark initial process as 32-bit for WineLib apps.
	Use teb->tibflags instead of teb->flags (for Win95 USER32 compatibility).
	Removed unused thread event.

	* files/profile.c: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	- Windows skips the '\t' and ' ' at the beginning and end of section
	  key names of .INI files.
	- Fixed Get/WritePrivateProfileStructA():
	  - (re-)translate the binary data into ASCII hex chars
	  - add checksum / checking of it

----------------------------------------------------------------
2000-01-30  Alexandre Julliard  <julliard@winehq.com>

	* configure.in, include/config.h.in, server/context_i386.c, configure:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added configure check for sys/reg.h.

	* dlls/comctl32/imagelist.c, include/imagelist.h:
	Marcus Meissner <marcus@jet.franken.de>
	Overlay indices are signed shorts (-1 means no overlay)
	(ImageList_SetOverlayIndex) should accept -1 as overlayindex.
	(ImageList_Read) We can read a NxM bitmap from the stream and have
	to convert it into a 1x(M*N) bitmap, set cCurImage,cMaxImage. Added
	documentation.
	(others) removed some potential operator precendence problems.

	* objects/dc.c: Marcus Meissner <marcus@jet.franken.de>
	GetDeviceCaps: spot yet unsupported accesses to the DeviceCaps struct.

	* include/wine/exception.h, miscemu/main.c, win32/except.c, Makefile.in, debugger/dbg.y, debugger/external.c, dlls/ntdll/exception.c, include/debugger.h, include/thread.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Moved debugger to libwine to make it available to WineLib apps.
	Try to invoke external debugger if internal debugger crashes.
	Try to handle early invocation of debugger more gracefully.

	* include/main.h, include/process.h, include/task.h, loader/main.c, scheduler/process.c, scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Mark initial process as 32-bit for WineLib apps.
	Use teb->tibflags instead of teb->flags (for Win95 USER32 compatibility).
	Removed unused thread event.

	* files/profile.c: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	- Windows skips the '\t' and ' ' at the beginning and end of section
	  key names of .INI files.
	- Fixed Get/WritePrivateProfileStructA():
	  - (re-)translate the binary data into ASCII hex chars
	  - add checksum / checking of it

	* files/directory.c, misc/registry.c, documentation/wine.conf.man.in, wine.ini:
	Juergen Schmied <juergen.schmied@debitel.net>
	- fixes, loading of settings per user
	- autodetecting of windows registry version

	* dlls/commdlg/filedlgbrowser.c, dlls/dplayx/dpclassfactory.c, dlls/dsound/dsound_main.c, dlls/ole32/oleobj.c, dlls/oleaut32/typelib.c, include/wine/obj_base.h:
	Francois Gouget <fgouget@psn.net>
	The COM virtual tables must use the
	'ICOM_MSVTABLE_COMPAT_DummyRTTIVALUE' macro to provide padding in C++.

	* msdos/int09.c: Ove Kaaven <ovek@arcticnet.no>
	Made int9 handler add keystroke to BIOS keyboard buffer.

	* loader/dos/dosmod.c, loader/dos/dosmod.h:
	Ove Kaaven <ovek@arcticnet.no>
	dosmod protocol revision 3, featuring MPROTECT and ENTERIDLE.

	* include/wincon.h: Ove Kaaven <ovek@arcticnet.no>
	Added a couple of prototypes.

	* winedefault.reg: Dmitry Timoshkov <dmitry@sloboda.ru>
	Add information about code pages to default registry.

	* configure.in, Make.rules.in, configure:
	Patrik Stridvall <ps@leissner.se>
	- Unixware (Solaris) linker typo fixed
	- Solaris (and possibly Unixware) specific linker support for the
	  GNU:ism --[no-]whole-archive
	- Solaris make specific makefile fix

	* server/context_i386.c: Patrik Stridvall <ps@leissner.se>
	Solaris support for {set,get}_thread_context added.

2000-01-29  Alexandre Julliard  <julliard@winehq.com>

	* server/context_i386.c:
	Added our own user_regs_struct definition for better compatibility.

	* controls/button.c, windows/dialog.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Correct the behaviour of the accelerator keys in dialogs according to
	the Windows' one.

	* programs/notepad/.cvsignore, programs/notepad/Makefile.in, programs/notepad/dialog.c, programs/notepad/main.c, programs/notepad/main.h, programs/notepad/notepad.rc, programs/notepad/rsrc.rc, programs/progman/.cvsignore, programs/progman/Makefile.in, programs/progman/Xx.rc, programs/progman/accel.rc, programs/progman/main.c, programs/progman/rsrc.rc, programs/winhelp/.cvsignore, programs/winhelp/Makefile.in, programs/winhelp/Pt.rc, programs/winhelp/Xx.rc, programs/winhelp/rsrc.rc, programs/winhelp/winhelp.c, programs/clock/.cvsignore, programs/clock/Makefile.in, programs/clock/clock.rc, programs/clock/main.c, programs/clock/rsrc.rc:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Link only a single .rc file with application.

	* windows/x11drv/wnd.c, dlls/shell32/shlfolder.c, documentation/no-windows, documentation/wine.man.in, graphics/d3dtexture.c, if1632/snoop.c, loader/loadorder.c, loader/ne/module.c, loader/pe_image.c, scheduler/process.c, BUGS, README, dlls/comctl32/treeview.c, dlls/dplayx/dplay.c, dlls/ole32/storage32.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	- add some documentation items
	- fix some spelling
	- fix some warnings

	* dlls/winmm/mcicda/mcicda.c, documentation/cdrom-labels, files/drive.c, include/cdrom.h, include/debugdefs.h, include/drive.h, libtest/volinfo.c, misc/cdrom.c, msdos/int2f.c, wine.ini:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	- support for reading labels and serial nums from device
	- "reasonable" misc/cdrom.c device handling
	- much improved audio CD support
	- serial number overwrite bug fix
	- spelling fixes

	* Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/setupx/.cvsignore, dlls/setupx/Makefile.in, dlls/setupx/setupx.spec, dlls/setupx/setupx_main.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added SETUPX dll.

	* dlls/ole32/ole2.spec, server/process.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed minor issues found by winapi_check.

	* tools/winapi_check/*:
	Patrik Stridvall <ps@leissner.se>
	- Minor fixes.
	- Moved some of the API specifications from the global file to the
	  local files.

	* include/imagelist.h, dlls/comctl32/imagelist.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented ImageList_Read (not 100% correct in regarding to setting
	the bitmap).
	Filled out unknown members of ILHEAD.
	Started reordering IMAGELIST to make it Windows binary compatible.

	* dlls/shell32/iconcache.c: Marcus Meissner <marcus@jet.franken.de>
	nIconIndex == -1 should return nr of available icons, not 0.

	* Makefile.in: Fixed building of dosmod and wineclipsrv.

	* misc/debugstr.c:
	Bug fix: added temp structure to cope with debug traces during thread
	startup.

	* win32/newfns.c, windows/msgbox.c, dlls/avifil32/avifile.c, dlls/ntdll/misc.c, dlls/ntdll/nt.c, dlls/ntdll/sec.c, dlls/ntdll/sync.c, if1632/snoop.c, include/debugstr.h, libtest/vartest.c, loader/resource.c, objects/text.c, relay32/relay386.c, relay32/snoop.c, relay32/utthunk.c:
	Removed debugstr.h.

	* misc/debugstr.c, scheduler/thread.c, if1632/relay.c, include/debugtools.h, include/thread.h:
	Use a per-thread buffer and write(2) for debug traces.
	Removed debug_dumpstr.

2000-01-27  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/rtlstr.c: Juergen Schmied <juergen.schmied@debitel.net>
	Small fix.

	* server/registry.c: Juergen Schmied <juergen.schmied@debitel.net>
	Get HCU name from unix user name.

	* scheduler/process.c, server/process.c, server/process.h, server/request.h, server/thread.c, server/trace.c, tools/make_requests, include/server.h, memory/selector.c:
	Implemented GetThreadSelectorEntry through the server.

2000-01-26  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winmm/lolvldrv.c:
	Dynamically load version.dll in MMDRV_GetDescription32.

	* dlls/ole32/ole2.c:
	Use a linked list instead of a DPA for the hook list.

	* windows/x11drv/clipboard.c:
	Use a linked list instead of a DPA to manage pixmaps.

	* dlls/ole32/storage32.c, dlls/ole32/storage32.h, dlls/ole32/stg_stream.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Returns an error if trying to write to a stream opened for read.

	* files/directory.c: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Add a newbie warning for slashes in the search Path= of wine.conf.

	* graphics/ddraw.c: Ove Kaaven <ovek@arcticnet.no>
	Wait for ShmCompletion during Flip.

	* configure.in, libtest/Makefile.in, Make.rules.in, Makefile.in, configure:
	Made --enable-dll the default.
	Use $(MAKE) instead of $(SUBMAKE) for recursive makes.
	Cleaned up install targets in main Makefile.

	* dlls/ntdll/sync.c: Don't crash when ObjectAttributes is NULL.

2000-01-25  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/monitor.c, debugger/dbgmain.c, debugger/stabs.c, dlls/crtdll/crtdll_main.c, include/options.h, loader/dos/module.c, loader/main.c, misc/main.c, miscemu/main.c, scheduler/client.c:
	Use argv[0] to locate the server executable.

	* memory/heap.c, include/heap.h, include/process.h, include/winnt.h, memory/environ.c, memory/global.c:
	Alexandre Julliard <julliard@codeweavers.com>
	Share the system heap between different address spaces. Made process
	heap per-address space instead of per-process.

	* server/thread.h, server/trace.c, Makefile.in, include/server.h, include/thread.h, loader/main.c, misc/registry.c, scheduler/client.c, scheduler/process.c, scheduler/thread.c, server/Makefile.in, server/main.c, server/object.c, server/object.h, server/process.c, server/process.h, server/request.c, server/request.h, server/select.c, server/thread.c:
	Alexandre Julliard <julliard@codeweavers.com>
	Made the server listen for new clients on a Unix socket in
	$HOME/.wine. Newly started wine processes now attach to an existing
	server if one is running.

	* files/profile.c, include/options.h:
	Added PROFILE_GetConfigDir function.

2000-01-24  Alexandre Julliard  <julliard@winehq.com>

	* dlls/advapi32/registry.c, dlls/ntdll/reg.c, dlls/ntdll/sync.c, dlls/winsock/socket.c, include/server.h, scheduler/client.c, server/*.c:
	Changed the server to return STATUS_* error codes.

	* dlls/ntdll/Makefile.in, dlls/ntdll/error.c, dlls/ntdll/rtl.c:
	Built a complete translation table for RtlNtStatusToDosError.

	* include/winerror.h, include/winnt.h: Added some error codes.

	* windows/nonclient.c:
	Use GetProcAddress instead of calling ShellAboutA directly.

2000-01-23  Alexandre Julliard  <julliard@winehq.com>

	* Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/version/Makefile.in, dlls/version/ver.spec, dlls/version/ver16.c:
	Merged dlls/ver into dlls/version.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/security.c, dlls/ntdll/Makefile.in, dlls/ntdll/file.c, dlls/ntdll/misc.c, dlls/ntdll/nt.c, dlls/ntdll/ntdll.spec, dlls/ntdll/ntdll_misc.h, dlls/ntdll/om.c, dlls/ntdll/reg.c, dlls/ntdll/rtl.c, dlls/ntdll/rtlstr.c, dlls/ntdll/sec.c, dlls/ntdll/sync.c, include/ntddk.h, include/ntdef.h, include/ntsecapi.h, include/winbase.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	- implementation of RtlReg* (read access), RtlEvent*, RtlSemaphore*,
	  NtAllocateLocallyUniqueId
	- implementation or stubs for NtAccessCheck, NtSetSecurityObject,
	  RtlClearBits, RtlEqualPrefixSid, RtlFindClearBits,
	  RtlFormatCurrentUserKeyPath, RtlGetControlSecurityDescriptor,
	  RtlIdentifierAuthoritySid, RtlImpersonateSelf, RtlInitializeBitMap,
	  RtlInitializeGenericTable, RtlMakeSelfRelativeSD,
	  RtlPrefixUnicodeString, RtlSetBits, RtlUnicodeToMultiByteN,
	  RtlUpcaseUnicodeStringToOemString, RtlUpcaseUnicodeToOemN,
	  RtlValidSid, RtlxUnicodeStringToOemSize
	- corrected most RtlString* functions, added documentation
	- more fixes and partial implementations

	* misc/main.c, windows/x11drv/event.c, windows/x11drv/main.c, graphics/ddraw.c, include/options.h:
	Ove Kaaven <ovek@arcticnet.no>
	Added -dxgrab command line option, which confines cursor motion to the
	DirectX primary surface.

	* dlls/commdlg/filedlg95.c: Marcus Meissner <marcus@jet.franken.de>
	Replaced some weird C constructs (char[]="" ) with more compatible ones.
	Added another NULL ptr check in _OnOpen.

	* misc/winsock_async.c, relay32/Makefile.in, relay32/wsock32.spec, Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/winsock/.cvsignore, dlls/winsock/Makefile.in, dlls/winsock/async.c, dlls/winsock/socket.c, dlls/winsock/winsock.spec, dlls/winsock/wsock32.spec, if1632/Makefile.in, if1632/winsock.spec, misc/Makefile.in, misc/winsock.c:
	Moved winsock implementation to dlls/winsock.

	* dlls/*/.cvsignore:
	Marcus Meissner <marcus@jet.franken.de>
	Added *.spec.c, *.spec.glue.s, *.glue.c to .cvsignore that need them.

	* graphics/x11drv/dib.c: Marcus Meissner <marcus@jet.franken.de>
	Corrected arguments to VirtualFree().

	* dlls/shell32/pidl.c, dlls/shell32/shlfolder.c, include/wine/winestring.h, memory/string.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Replaced LocalToWideChar() by lstrcpynAtoW(), WideCharToLocal() by
	lstrcpynWtoA().

	* windows/winproc.c: Gerard Patel <g.patel@wanadoo.fr>
	Map WM_MENUSELECT 32->16 bits for closing menu.

	* windows/mdi.c: Gerard Patel <g.patel@wanadoo.fr>
	Fix parameters for MDI_RestoreFrameMenu in WM_DESTROY msg.

	* dlls/oleaut32/oleaut.c: Marcus Meissner <marcus@jet.franken.de>
	Implemented (Register|Get|Revoke)ActiveObject from the docs.

	* graphics/ddraw.c, include/x11drv.h, windows/x11drv/event.c:
	Ove Kaaven <ovek@arcticnet.no>
	Supercharged XShm implementation for DirectDraw.

	* debugger/msc.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: missing NULL pointer checks.

	* loader/pe_image.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Check for MZ header before trying to decipher the PE header.

	* relay32/kernel32.spec:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Export GetLongPathName[A|W].

	* memory/global.c, memory/heap.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Fix problems with GlobalHandle and GlobalFree so results match Win98.
	Restructure HEAP_ValidateInUseArena, HeapValidate, and add
	HEAP_IsRealArena to eliminate *bogus* error messages.

	* windows/message.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Actually print return value of message.

	* objects/dib.c: Marcus Meissner <marcus@jet.franken.de>
	Corrected arguments in DIB_DeleteDIBSection.

	* files/file.c: Marcus Meissner <marcus@jet.franken.de>
	Handle \\.\<dosdevice> like <dosdevice> in CreateFile. Tested with
	help of James Feeney <james@nurealm.net>.

2000-01-20  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/debugger.c, scheduler/thread.c, server/Makefile.in, server/context_i386.c, server/debugger.c, server/object.h, server/request.h, server/trace.c, tools/make_requests, include/server.h:
	Alexandre Julliard <julliard@codeweavers.com>
	Added Get/SetThreadContext support through the server.

2000-01-18  Alexandre Julliard  <julliard@winehq.com>

	* windows/dinput.c, dlls/oleaut32/ole2disp.c, dlls/oleaut32/oleaut.c, dlls/oleaut32/olefont.c, dlls/shell32/contmenu.c, dlls/shell32/dataobject.c, dlls/shell32/enumidlist.c, dlls/shell32/folders.c, dlls/shell32/memorystream.c, dlls/shell32/regstream.c, dlls/shell32/shelllink.c, dlls/shell32/shellole.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, dlls/shell32/shv_bg_cmenu.c, graphics/d3ddevices.c, graphics/d3dexecutebuffer.c, graphics/d3dlight.c, graphics/d3dmaterial.c, graphics/d3dtexture.c, graphics/d3dviewport.c, graphics/ddraw.c, include/debugstr.h, misc/debugstr.c, dlls/avifil32/avifile.c, dlls/dplayx/dpclassfactory.c, dlls/dplayx/dplay.c, dlls/dplayx/dplobby.c, dlls/dsound/dsound_main.c, dlls/ole32/clipboard.c, dlls/ole32/datacache.c, dlls/ole32/defaulthandler.c, dlls/ole32/ifs.c, dlls/ole32/storage.c:
	Added debugstr_guid function and used it to replace
	WINE_StringFromCLSID in all debugging messages.

	* dlls/winmm/wineoss/audio.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Always initialize lpWaveHdr->lpNext to NULL.
	Don't fail on strange fragment sizes.

2000-01-17  Alexandre Julliard  <julliard@winehq.com>

	* include/winnls.h: Dmitry Timoshkov <dmitry@sloboda.ru>
	Add some defines needed for Unicode to Ascii conversions.

	* misc/registry.c: Juergen Schmied <juergen.schmied@debitel.net>
	Better error handling, less keys held open.

	* graphics/ddraw.c: Marcus Meissner <marcus@jet.franken.de>
	EnumDisplayModes must pass lPitch.

	* controls/menu.c: Gerard Patel <g.patel@wanadoo.fr>
	Validate the menu handles.

	* dlls/win87em/emulate.c: Gerard Patel <g.patel@wanadoo.fr>
	Rounds to the lowest integer, not the nearest.

	* loader/task.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed race between Win16 parent and child for first rescheduling
	of child process. This fixes WinExec returning too early.

2000-01-16  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.in: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Use --whole-archive to force linking all of libwine.a. into wine.

	* if1632/builtin.c, include/builtin16.h, include/builtin32.h, relay32/builtin32.c, tools/build.c:
	Added automatic registration of built-in DLLs.

2000-01-15  Alexandre Julliard  <julliard@winehq.com>

	* configure.in, configure: Aaron Hope <edh@mail.brioforge.com>
	Fixed IPX detection.

	* misc/registry.c: Juergen Schmied <juergen.schmied@debitel.net>
	New implementation of the win95 registry loader.

	* dlls/advapi32/registry.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	If there is enough space in the buffer and the type is REG_SZ and the
	string is not 0-terminated RegQueryValue and RegEnumValue are appending a 0.

	* debugger/hash.c: Gerard Patel <g.patel@wanadoo.fr>
	Display the external modules after the internal modules in crash report.

	* files/drive.c: Ove Kaaven <ovek@arcticnet.no>
	Made SetVolumeLabel report failure on CD-ROM drives.

	* documentation/status/directplay:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	Updated documentation.

	* dlls/winmm/lolvldrv.c, dlls/winmm/mci.c, include/driver.h, windows/driver.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Replaced Wine specific DRIVER_GetType by a correct implementation of
	GetDriverFlag.

	* configure, configure.in, include/wine_gl.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- (ugly) fix for the 'Xmd.h' problem
	- fix the detection of DGA 2 in configure script

	* include/thread.h, scheduler/thread.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	- added NT fields to TEB
	- moved tls-fields and some wine specific fields to a higher offset
	- added some documentation
	- initialisation of the UnicodeString

	* dlls/dsound/dsound_main.c: Todd T. Fries <todd@fries.net>
	Add HAVE_SOUNDCARD_H to support OpenBSD.

	* include/wingdi.h, objects/enhmetafile.c, relay32/gdi32.spec:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Added some missing EMR record types and updated and fixed others
	- Added stubs and headers for CreateColorSpace,DeleteColorSpace and SetColorSpace
	- Added header for SetICMMode
	- Added ability to play more enhanced metafile records

	* graphics/enhmetafiledrv/init.c:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	Store reference hdc size into enhanced metafile header when creating.

	* dlls/ole32/moniker.c, dlls/ole32/ole2stubs.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented OleRun.

	* objects/dc.c: Gerard Patel <g.patel@wanadoo.fr>
	Removed DeleteObject call left over from previous patch.

	* win32/thread.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed bad register constraint in InterlockedCompareExchange.

	* include/winbase.h: Ove Kaaven <ovek@arcticnet.no>
	Added prototypes for the NT synchronization functions
	InterlockedCompareExchange and InterlockedExchangeAdd.

	* loader/module.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Don't access 'wm->modname' after the modref has been flushed.

	* memory/global.c: Guy Albertelli <galberte@neo.lrun.com>
	Added null check in GlobalHandle.

2000-01-12  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/datetime.c, dlls/comctl32/monthcal.c, dlls/oleaut32/parsedt.c, include/monthcal.h:
	Removed a dependency between oleaut32 and comctl32.

	* include/winnt.h: Juergen Schmied <juergen.schmied@debitel.net>
	More STATUS_ codes.

	* include/ddraw.h: Steve Langasek <vorlon@dodds.net>
	Fixed macro definition of IDirectDrawSurface_Restore.
	Added defines for Ddraw's WaitForVerticalDisplay().

	* include/dsound.h: Steve Langasek <vorlon@dodds.net>
	Fixed typos in macro definitions for IDirectSoundBuffer_GetStatus,
	IDirectSoundBuffer_Unlock.

	* include/mmsystem.h: Steve Langasek <vorlon@dodds.net>
	Missing Winelib declarations for AUXCAPS.

	* tools/build.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fix (harmless) assembler warnings.

	* dlls/dplayx/dplay.c: Peter Hunnisett <hunnise@nortelnetworks.com>
	Fix problem with initialization (reported by Andreas Mohr).

	* dlls/comctl32/treeview.c: Alex Priem <alexp@sci.kun.nl>
	InfoPtr checking mixed up WM_DESTROY and WM_CREATE.

----------------------------------------------------------------
Sun Jan  9 21:42:42 2000  Alexandre Julliard  <julliard@winehq.com>

	* dlls/wnaspi32/winaspi32.c: Patrik Stridvall <ps@leissner.se>
	Non-Linux compile fix.

	* files/dos_fs.c: Francois Gouget <fgouget@psn.net>
	DOSFS_DoGetFullPathName would underflow (p would get past the
	beginning of buffer) if given the name "//..".
	Regrouped the handling of the directory separators.
	Directory separators in the returned path are now alway a single "\"
	which simplifies the handling of ".." in the name.

	* dlls/advapi32/registry.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Corrected behaviour of RegOpenKey in case of failure.

	* misc/registry.c, server/registry.c, server/trace.c, include/server.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	- removed copying of HKEY_USERS to HKEY_CURRENT_USER
	- HKEY_CURRENT_USER is now subkey of HKEY_USERS
	- changed query_key_info_request to return the key name too (NtQueryKey needs this)
	- the rootkeys (MACHINE and USER) do have names

	* include/gdi.h, objects/dc.c, objects/gdiobj.c:
	Gerard Patel <g.patel@wanadoo.fr>
	Avoid deleting of the default 1x1 bitmap for memory DCs.

	* include/builtin16.h, include/builtin32.h, loader/ne/module.c, relay32/builtin32.c, relay32/user32.spec, tools/build.c, dlls/comctl32/comctl32.spec, dlls/commdlg/comdlg32.spec, dlls/display/display.spec, dlls/mouse/mouse.spec, dlls/shell32/shell32.spec, dlls/winmm/winmm.spec, if1632/builtin.c:
	Built-in DLLs resources are now specified in spec file.
	Removed unnecessary flags in built-in DLLs tables.

	* if1632/dummy.c, if1632/gdi.spec, if1632/user.spec, misc/Makefile.in, misc/bidi16.c:
	Erez Volk <erez@gmx.net>
	Added stubs for some BiDi API functions.

	* dlls/winmm/mciwave/mciwave.c:
	Bradley Baetz <bbaetz@student.usyd.edu.au>
	Fixed race condition between app and wine in WAVE_mciPlay.

	* controls/menu.c: Pascal Lessard <pascal@macadamian.com>
	Stop menu tracking when clicking on the menu bar where there is no
	menu item.

	* win32/newfns.c: Erez Volk <erez@gmx.net>
	Better error reporting.

Sat Jan  8 22:27:31 2000  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/xfont.c:
	Backed out scalable bitmap change (gives ugly results).

	* controls/menu.c: Marcus Meissner <marcus@jet.franken.de>
	GetMenuString should return itemlength on 0 nMax or NULL str
	InsertItem pos=-1, flags = 0 should append item
	(thanks to Sander van Leeuwen)

	* include/aspi.h, dlls/wnaspi32/winaspi32.c, dlls/wnaspi32/wnaspi32.spec:
	David Elliott <dfe@netnitco.net>
	Removed malloc/free hack and replaced with HeapAlloc/HeapFree throughout code.
	Added critical section around code dealing with global variables.
	Added a few comments about how ASPI is supposed to work.
	Copy sense info into the correct place (right after the fixed 16-byte CDB).
	Now returns target status (many Windows apps won't even look at the
	sense are unless they get an error code).
	Added SC_ABORT_SRB FIXME.
	Added SC_GET_DISK_INFO place holder for clarity.
	Updated Linux SG interface structure to include new kernel 2.2
	status fields.

	* Make.rules.in: Marcus Meissner <marcus@jet.franken.de>
	Look for our header files first, then for systems headers.

	* dlls/commdlg/filedlg.c: Marcus Meissner <marcus@jet.franken.de>
	The new filedialog stuff does not handle template. So do not call if
	there are any.

	* windows/winpos.c: Rein Klazes <rklazes@casema.net>
	Avoid problems during changing the Z-order if the window and the
	window to insert after are the same.

	* libtest/expand.c, libtest/hello5.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Removed GUI junk from expand.c, so you can use it in commandline mode.
	Fixed hello5.c.

	* dlls/imagehlp/imagehlp.spec, dlls/imm32/imm32.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/win32/shell32.api, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_local.pm:
	Patrik Stridvall <ps@leissner.se>
	- Added support for auto allocated ordinals
	- Fixed varargs (16 bit) bug
	- Minor fixes

	* dlls/version/info.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed alignment problem with VERSION_INFO members.

Wed Jan  5 03:24:52 2000  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.in: Marcus Meissner <marcus@jet.franken.de>
	Add $X_EXTRA_LIBS to any X dependend checks or they will fail if some
	of the $X_EXTRA_LIBS are required.

	* windows/defwnd.c, windows/painting.c:
	Patrik Stridvall <ps@leissner.se>
	- Made FillRect behave like it does on Windows
	- Cleaned up WM_{,ICON}ERASEBACKGROUND default handling
	- Added some comments on how Windows behaves

	* windows/winhelp.c: Peter Ganten <peter@ganten.org>
	Check if winhelp is already running; use winhlp32.exe or winhelp.exe
	depending on the emulated version, relase win16lock before calling
	WinHelpA.

	* AUTHORS, include/authors.h:
	Updated authors list from the Changelog. Please let me know if you
	have been left out.

	* documentation/fonts: Marcus Meissner <marcus@jet.franken.de>
	TrueType clarification.

	* configure, configure.in, graphics/d3ddevices.c, graphics/d3dtexture.c, include/acconfig.h, include/config.h.in:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- detect if the OpenGL implementation defines the paletted texture and
	  color table extensions
	- small warning fixes
	- fix the double '-lXxf86dga' when having DGA 2.0

	* include/winbase.h: Marcus Meissner <marcus@jet.franken.de>
	Some comm clean up, much more error messages, only use TIOCOUTQ if
	defined [wine-bugs/104], tried implementing SetCommTimeouts.

	* dlls/comctl32/treeview.c: Alex Priem <alexp@sci.kun.nl>
	- When processing WM_PAINT messages, the treeview might sometimes use
	  the wrong hdc. Fixed.
	- Better checking for TREEVIEW_INFO *infoPtr=NULL.
	  Similar to code in toolbar.c
	- Other small fixes (subclassed edit control).

	* debugger/msc.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: uninitialized pointer caused crashes.

	* loader/pe_image.c: Marcus Meissner <marcus@jet.franken.de>
	Made virus warning a bit more drastic, since some people don't believe us.

	* misc/comm.c: Marcus Meissner <marcus@jet.franken.de>
	Some comm clean up, much more error messages, only use TIOCOUTQ if
	defined [wine-bugs/104], tried implementing SetCommTimeouts.

	* files/profile.c: Rein Klazes <rklazes@casema.net>
	Implement WritePrivateProfileSectionA().

	* dlls/ntdll/rtl.c: Adam Sacarny <magicbox@bestweb.net>
	Fix for compilers that don't support 'long long' (From Ove Kaaven).

Tue Jan  4 02:40:22 2000  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/thread.c, server/thread.c:
	Moved allocation of the socket pair for a new thread to the server.

	* server/debugger.c: Made debug events and contexts standard objects.
	Use sleep_on to wait on debug events.

	* server/request.c, server/request.h, server/thread.c, server/thread.h, server/trace.c:
	Made sleep_on usable from all requests.

	* dlls/winmm/lolvldrv.c, dlls/winmm/mmsystem.c, include/mmsystem.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added more MIDI messages 16<=>32 mapping.
	Fixes some bugs in buffers handling and index for MAPPER.

	* include/callback.h, if1632/thunk.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed the obsoleted CallTimeFuncProc, CallDriverProc,
	CallDriverCallback.

	* dlls/winmm/.cvsignore, dlls/winmm/Makefile.in, dlls/winmm/time.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Put back visible minimum timer resolution to 1 ms.
	Decorrelate the service thread resolution from the user required timer
	& visible minimum resolutions.
	Removed the Callback.TimeFuncProc entry.

	* windows/x11drv/monitor.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Give +0+0 as a default position for the desktop window.

	* dlls/winmm/mmio.c: Bradley Baetz <bbaetz@student.usyd.edu.au>
	Convert mmio to allow the use of 32 bit mmio procedures.

	* dlls/shell32/shell32.spec, dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shlmenu.c, dlls/shell32/systray.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Small fixes.

	* dlls/odbc32/odbc32.spec, misc/registry.c, relay32/kernel32.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/win32/advapi32.api, tools/winapi_check/win32/comctl32.api, tools/winapi_check/win32/odbc32.api, tools/winapi_check/winapi.pm:
	Patrik Stridvall <ps@leissner.se>
	Updated winapi_check to handle the new additions.

	* dlls/comctl32/monthcal.c, include/monthcal.h:
	Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Implemented WM_SIZE message support. Optimized drawing to use
	precalculated size values rather than recalculating during each call
	of MONTHCAL_Refresh.

	* relay32/user32.spec, windows/dialog.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Corrected parameter count for DialogBoxIndirectParamAorW.

	* controls/scroll.c: Rein Klazes <rklazes@casema.net>
	Don't show the scrollbar if SetScrollinfo() is called with only the
	SIF_DISABLENOSCROLL flag.

	* windows/x11drv/keyboard.c: Ove Kaaven <ovek@arcticnet.no>
	Added extra US keymap with the infamous phantom key.

	* Makefile.in, dlls/winmm/wineoss/Makefile.in:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Use a uniform naming scheme for driver modules.

	* include/driver.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Encapsulated Wine internal data into an ifdef __WINE__.

	* windows/Makefile.in, windows/driver.c, windows/.cvsignore:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Moved the 16 bit driver functions callout into the dir.

	* dlls/winmm/wavemap/wavemap.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added support for WODM_BREAKLOOP message.

	* dlls/winmm/wineoss/mixer.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed extraneous ERR message.

	* dlls/winmm/mciseq/mcimidi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added support for MCI_INFO_COPYRIGHT and MCI_INFO_NAME.

	* debugger/hash.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Use case insensitive comparison while searching for new modules.

	* dlls/ntdll/ntdll.spec:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added spec entry for _itoa.

	* tools/wrc/CHANGES, tools/wrc/wrc.h, tools/wrc/writeres.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Generated labels of resource names must be unique throughout the
	generated code.

	* windows/message.c: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	"resultp" can be NULL in SendMessageTimeout*().

	* dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	- prevent mem leak of CRTDLL_acmdln_dll
	- better argument parsing
	- last xargv entry has to be NULL
	- return value is environment pointer instead of NULL
	- added a spec entry for bsearch()

Sat Jan  1 22:38:21 2000  Alexandre Julliard  <julliard@winehq.com>

	* loader/module.c, scheduler/process.c, windows/message.c, windows/queue.c, windows/user.c, if1632/thunk.c, include/callback.h, include/process.h:
	Peter Ganten <peter@ganten.org>
	Implemented WaitForInputIdle.

	* misc/ddeml.c, windows/win.c:
	Fixed potential buffer overflows (spotted by Francois Gouget).

	* relay32/wow32.spec, dlls/mpr/mpr.spec, dlls/ntdll/ntdll.spec, dlls/psapi/psapi.spec, dlls/shell32/shlwapi.spec, dlls/tapi32/line.c, dlls/tapi32/tapi32.spec, dlls/version/version.spec, dlls/winmm/winmm.spec, relay32/ddraw.spec, relay32/dinput.spec, relay32/gdi32.spec, dlls/avifil32/avifil32.spec, dlls/crtdll/crtdll.spec, dlls/dciman32/dciman32.spec, dlls/dplayx/dplay.spec, dlls/icmp/icmp.spec, dlls/imagehlp/imagehlp.spec, dlls/imm32/imm32.spec, dlls/lzexpand/lz32.spec, dlls/advapi32/advapi32.spec:
	Make use of automatic ordinal allocation.

	* server/socket.c, server/device.c, server/event.c, server/file.c, server/handle.c, server/mapping.c, server/mutex.c, server/object.c, server/object.h, server/pipe.c, server/process.c, server/registry.c, server/request.c, server/request.h, server/select.c, server/semaphore.c, server/snapshot.c, server/sock.c, server/thread.c, server/thread.h, server/timer.c, server/trace.c, server/Makefile.in, server/change.c, server/console.c:
	Moved poll handling to the generic part of the server objects.
	Fixed busy waiting on POLLERR events.
	Merged struct client into struct thread.

Mon Dec 27 05:26:01 1999  Alexandre Julliard  <julliard@winehq.com>

	* win32/process.c, windows/x11drv/wnd.c, dlls/odbc32/proxyodbc.c, dlls/ole32/bindctx.c, dlls/ole32/hglobalstream.c, graphics/ttydrv/bitmap.c, misc/ddeml.c, misc/version.c:
	Cosmetics.

	* memory/atom.c, memory/environ.c, misc/lstr.c, misc/registry.c, misc/winsock.c, programs/regapi/regapi.c, relay32/builtin32.c, windows/driver.c, windows/mdi.c, windows/x11drv/keyboard.c, dlls/winmm/lolvldrv.c, dlls/winmm/wineoss/mixer.c, files/profile.c, graphics/psdrv/driver.c, graphics/psdrv/font.c, loader/module.c, loader/ne/module.c, loader/task.c, dlls/commdlg/filedlg.c, dlls/commdlg/filetitle.c, dlls/shell32/pidl.c, dlls/shell32/shelllink.c, dlls/shell32/shlfolder.c, dlls/version/install.c:
	Francois Gouget <fgouget@psn.net>
	Buffer overflows and strncpy fixes.

	* loader/pe_image.c:
	PE_FindExportedFunction: use a binary search for function names.

Sun Dec 26 23:12:38 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/advapi32/advapi32.spec, dlls/odbc32/odbc32.spec:
	Fixed/commented out duplicate entry point names.

	* relay32/builtin32.c, tools/build-spec.txt, tools/build.c:
	Added support for automatic ordinal allocation.
	Output list of function names in sorted order.
	Added support for nameless (ordinal-only) entry points.
	Cleaned up error handling.

	* include/metafiledrv.h, include/psdrv.h, include/ts_xlib.h, include/ttydrv.h, include/win16drv.h, include/x11drv.h, objects/font.c, objects/text.c, tsx11/X11_calls, tsx11/ts_xlib.c, graphics/metafiledrv/text.c, graphics/psdrv/font.c, graphics/psdrv/ps.c, graphics/psdrv/text.c, graphics/ttydrv/font.c, graphics/ttydrv/text.c, graphics/win16drv/font.c, graphics/win16drv/text.c, graphics/x11drv/text.c, graphics/x11drv/xfont.c, include/gdi.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Move DCFuncs ExtTextOut and GetTextExtentPoint to Unicode.
	Map a few Unicode chars to the first 0xff in psdrv.
	Don't expect x11drv to display Unicode chars yet.

	* dlls/comctl32/tooltips.c, dlls/shell32/pidl.c, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shlfolder.c, memory/string.c, relay32/relay386.c, relay32/snoop.c:
	Francois Gouget <fgouget@psn.net>
	Wrapped some strings in a debugstr_* call.
	Replaced some calls to debugstr_{a,w} by debugstr_{a,w}n.
	Removed redundant 'L's for Unicode strings.
	Tried to harmonize the traces a little bit.

	* misc/debugstr.c: Francois Gouget <fgouget@psn.net>
	debugstr_w now returns something looking like 'L"xxxx"...'

	* dlls/commdlg/filedlg95.c: Francois Gouget <fgouget@psn.net>
	FILEDLG95_HandleCustomDialogMessages:
	- for the three handled messages we must return the required buffer size
	- for CDM_GETFILEPATH paths like "dir\file" were handled incorrectly
	- fixed multiple potential buffer overflows.
	FILEDLG95_OnOpen: fixed a use of strncpy without '\0'.
	FILEDLG95_SHELL_NewFolder: the size of lpstrCaption was incorrect
	leading to a buffer overflow.

Sat Dec 25 22:58:59 1999  Alexandre Julliard  <julliard@winehq.com>

	* objects/enhmetafile.c: Peter Hunnisett <hunnise@nortelnetworks.com>
	Added support for playing more record types (still more to come).

	* dlls/comctl32/listview.c: Francois Gouget <fgouget@psn.net>
	Better support very long strings by avoiding to copy them in a fixed
	size buffer (one exception partly remains: callback strings).
	Raise the buffer size to 512 characters.
	Merge the handling of item 0 and other items together in GetItemA to
	reduce code duplication.

	* graphics/psdrv/bitmap.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix PSDRV_StretchDIBits for non-integer byte src widths (1 & 4bpp).

	* dlls/winmm/wineoss/audio.c: Marcus Meissner <marcus@jet.franken.de>
	Cast the unsigned int to signed, or NEAR_MATCH will not work.

	* misc/cdrom.c, msdos/int2f.c, include/cdrom.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed first/last playable frame referencing.

	* include/mmsystem.h, dlls/winmm/mcicda/mcicda.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed some bogus values in MCI_STATUS handling (position & length of tracks).
	Added support for MCI_INFO on MEDIA_UPC & MEDIA_IDENTITY commands.

	* windows/rect.c: Marcus Meissner <marcus@jet.franken.de>
	Test pointers passed to copyrect for NULL.

	* windows/dialog.c: Dmitry Timoshkov <dmitry@sloboda.ru>
	Restore erroneously deleted lines.

	* dlls/comctl32/comctl32undoc.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	DPA_DeletePtr was resizing the array to a too small size.

	* windows/winpos.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Avoid infinite loop in WINPOS_FindIconPos if the width of the parent
	client area is less than the icon spacing.

	* documentation/linux-fat-permissions:
	Steven Elliott <elliotsl@mindspring.com>
	Added a document that describes configuring FAT filesystem permissions
	for Wine.

	* scheduler/thread.c: Juergen Schmied <juergen.schmied@debitel.net>
	NT allocates one page as TEB. Some native NT-dlls are using this.

	* graphics/x11drv/xfont.c: Dmitry Timoshkov <dmitry@sloboda.ru>
	Don't skip usable X fonts. Add support for koi8 fonts.

	* dlls/icmp/icmp_main.c: Francois Gouget <fgouget@psn.net>
	Modified IcmpCloseHandle and IcmpSendEchoRequest so that we don't
	crash if the handle is INVALID_HANDLE_VALUE.

	* include/windef.h: Steven Elliott <elliotsl@mindspring.com>
	Changed the "this_is_a_syntax_error" error message to a more specific
	error message.

Mon Dec 20 04:14:48 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/metafiledrv/graphics.c, graphics/metafiledrv/init.c, graphics/painting.c, graphics/path.c, graphics/ttydrv/graphics.c, graphics/ttydrv/init.c, graphics/x11drv/graphics.c, graphics/x11drv/init.c, include/gdi.h, include/metafiledrv.h, include/path.h, include/ttydrv.h, include/x11drv.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Move Bezier code out of x11drv into commmon GDI code; if any driver
	does not implement PolyBezier[To] the curve is approximated to lines
	and drawn with Polyline.
	Implement many GDI-Path recording functions (at least the win9x subset).
	Implement FlattenPath and FillPath.

	* dlls/dplayx/dplayx.spec: Peter Hunnisett <hunnise@nortelnetworks.com>
	Fixed ordinal numbering and added new spec stub.

	* configure, configure.in: Marcus Meissner <marcus@jet.franken.de>
	Readded Xpm autoconf checks.

	* ole/ole2nls.c: Rein Klazes <rklazes@casema.net>
	EnumSystemLocalesA should look for registry values, not subkeys.

	* dlls/wnaspi32/winaspi32.c: Marcus Meissner <marcus@jet.franken.de>
	Small fix to get GET_DEVICE_TYPE working (verified by Dan Kegel).

	* dlls/comctl32/trackbar.c: Ian Schmidt <ischmidt@cfl.rr.com>
	Corrected background color and fixed leaking GDI brush.

	* misc/registry.c: Juergen Schmied <juergen.schmied@debitel.net>
	NT loader: don't stop loading a hive when an error occurs.

	* objects/metafile.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	PlayMetaFile and EnumMetaFile should work if the hdc is a
	(enh)metafile DC.

	* README: Juergen Lock <nox@jelal.kn-bremen.de>
	Updated the FreeBSD notes, the LDT patch finally made it into -current.

	* dlls/commdlg/filetitle.c: Francois Gouget <fgouget@psn.net>
	If lpTitle==NULL and cbBuf==0 then we must return the required buffer
	size.

	* dlls/comctl32/comctl32.spec, dlls/comctl32/commctrl.c, include/commctrl.h:
	Shaun Morris <shaun@blueneptune.com>
	Implemented _TrackMouseEvent for the TME_LEAVE flag.

	* graphics/ddraw.c, graphics/ddraw_private.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Adds resolution / depth switching with DGA 2.0.

----------------------------------------------------------------
Sun Dec 12 21:28:44 1999  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/event.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Fixed handling of DGA2.0 keyboard events.

	* dlls/msacm32/driver.c, dlls/msacm32/internal.c, dlls/msacm32/msacm32_main.c, dlls/msacm32/wineacm.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added the ability to open several streams on the same driver.
	Added a few acmMetrics options.

	* dlls/oleaut32/ole2disp.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	SysStringLen can get a NULL pointer (and shall return 0).

	* dlls/winmm/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Now using notification for detecting when a WAVEHDR has been played

	* dlls/winmm/mciwave/mciwave.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Enhanced synchronization between playback thread and stop/close commands
	Now using notification for detecting when a WAVEHDR has been played

	* controls/combo.c: Dmitry Timoshkov <dmitry@sloboda.ru>
	ComboBox should not send bogus messages to edit buddy and to itself.

	* files/dos_fs.c: Peter Ganten <peter@ganten.org>
	Fixed GetShortPathNameA.

	* Makefile.in, configure, configure.in:
	Moses DeJong <dejong@cs.umn.edu>
	Fixed missing libwine.so symlink during install. Set the runtime
	linker path.

	* windows/dialog.c: Murali Pattathe
	GetNextDlgGroupItem: needs to check the control parent is the main dialog.
	GetNextTabItem: make sure this control is visible and not disabled.

	* loader/module.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Fixed cmd line length calculation.

	* include/x11drv.h, windows/x11drv/event.c, graphics/ddraw.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- added support of DGA-2.0 events
	- fixed the leaving of DGA-2.0 mode

	* controls/menu.c, include/menu.h, windows/winproc.c:
	Rein Klazes <rklazes@casema.net>
	In win32 a WM_MENUSELECT message should contain the position when the
	item refers to a submenu, not the submenu's handle as in win16.

	* files/tape.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fixed arg types of FIXMEs.

	* windows/mdi.c: Marcus Meissner <marcus@jet.franken.de>
	Check for passed invalid window handle in DefMDIChildProc*.

	* dlls/winmm/mmsystem.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix no. of arguments in a WARN statement.

	* objects/text.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Allows DrawText(16|A|W) to get a NULL string as parameter.

	* scheduler/process.c, dlls/advapi32/service.c, dlls/comctl32/datetime.c, dlls/comctl32/tab.c, dlls/dplayx/dplay.c, graphics/ttydrv/objects.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Fixed compiler warnings.

	* controls/listbox.c, misc/registry.c, misc/version.c:
	Marcus Meissner <marcus@jet.franken.de>
	Removed 2 useless include winversion.h
	Do not make autodetected version fix on first calls if it is Win31.

	* dlls/shell32/shell32.spec:
	Juergen Schmied <juergen.schmied@debitel.net>
	Added StrNCpyA, StrNCpyW.

	* windows/winproc.c: Juergen Schmied <juergen.schmied@debitel.net>
	Message translation WM_CREATE fixed.

Sat Dec 11 23:56:47 1999  Alexandre Julliard  <julliard@winehq.com>

	* relay32/builtin32.c, Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/odbc32/.cvsignore, dlls/odbc32/Makefile.in, dlls/odbc32/odbc32.spec, dlls/odbc32/proxyodbc.c, dlls/odbc32/proxyodbc.h, include/debugdefs.h, include/sql.h, include/sqlext.h, include/sqltypes.h, loader/loadorder.c:
	Xiang Li
	Implementation of a proxy ODBC32 dll.

	* windows/x11drv/wnd.c, dlls/shell32/Makefile.in, dlls/shell32/shell32_main.c, dlls/shell32/systray.c, include/winuser.h, include/x11drv.h, windows/nonclient.c:
	Kai Morich <kai.morich@bigfoot.de>
	Marcus Meissner <marcus@jet.franken.de>
	Added systray support.
	Swallow the windows systray icons into kpanel systray if KDE/KWM is
	running.

	* documentation/wine.conf.man.in, misc/registry.c, wine.ini:
	Juergen Schmied <juergen.schmied@debitel.net>
	Added loader for NT registry files.

	* dlls/ntdll/nt.c, include/ntsecapi.h, include/winnt.h, dlls/advapi32/advapi32.spec, dlls/advapi32/security.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Stubs for LsaFreeMemory, LsaQueryInformationPolicy, LsaClose.
	Small fixes.

	* include/wingdi.h, objects/enhmetafile.c, objects/region.c, relay32/gdi32.spec:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Implemented GetEnhMetaFilePaletteEntries
	- Added fixme stubs for SetMetaRgn and GetMetaRgn
	- Added support for playing several enhanced metafile records
	- Added beginnings of implementation for playing the rest of the
	  enhanced metafile records

	* graphics/ttydrv/Makefile.in, graphics/ttydrv/bitmap.c, graphics/ttydrv/brush.c, graphics/ttydrv/clipping.c, graphics/ttydrv/dc.c, graphics/ttydrv/dib.c, graphics/ttydrv/font.c, graphics/ttydrv/graphics.c, graphics/ttydrv/init.c, graphics/ttydrv/objects.c, graphics/ttydrv/oembitmap.c, graphics/ttydrv/palette.c, graphics/ttydrv/pen.c, graphics/ttydrv/text.c, include/ttydrv.h, windows/ttydrv/main.c, windows/ttydrv/monitor.c, windows/ttydrv/wnd.c:
	Patrik Stridvall <ps@leissner.se>
	Improved the TTY driver.

	* files/file.c: Peter Ganten <peter@ganten.org>
	Return an error if lpOverlapped is provided to ReadFile / WriteFile.

	* misc/wsprintf.c: Marcus Meissner <marcus@jet.franken.de>
	Do not confuse the 0 fill magic of wsprintf with the "0x" hex prefix.

	* dlls/winmm/mmsystem.c, dlls/winmm/wavemap/wavemap.c:
	Bradley Baetz <bbaetz@student.usyd.edu.au>
	The wavemap driver wasn't passing the callback type to the
	DriverCallback routine correctly.

	* files/tape.c: Added missing WINAPIs.

	* windows/syscolor.c: Marcus Meissner <marcus@jet.franken.de>
	If we have registry entries, use them. Never mind which version we
	autodetected.

	* dlls/oleaut32/oleaut32.spec, misc/port.c, tools/bin2res.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some issues found by winapi_check.

	* tools/winapi_check/win16/display.api, tools/winapi_check/win16api.dat, tools/winapi_check/win32api.dat, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_local.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	Minor fixes and additions.

	* loader/ne/resource.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Added missing 'return' statement.

	* dlls/commdlg/filedlg95.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	Small fixes.

Fri Dec 10 03:47:14 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/queue.h, windows/dialog.c, windows/message.c, windows/nonclient.c, windows/queue.c, controls/menu.c, include/message.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Perform 16/32A/32W message mapping for posted messages.

	* files/Makefile.in, files/tape.c, include/debugdefs.h, relay32/kernel32.spec:
	Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Added stubs for the WinNT tape backup functions.

	* debugger/msc.c, debugger/source.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Parse CodeView type/symbol info with 32-bit type indices.
	Added (partial) support for VC 5/6 .PDB files.
	Fixed treatment of source file names containing path.

	* server/registry.c: Ulrich Czekalla <ulrichc@corel.ca>
	Fixed off-by-one error.

	* scheduler/process.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Show main window if CreateProcess was called without the
	STARTF_USESHOWWINDOW flag.

	* loader/pe_image.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented PE_UnloadLibrary().

	* include/dinput.h, windows/dinput.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- do not loose initial auto-repeat status when acquiring the keyboard more
	  than one time
	- support of DirectX 7's DIMOUSESTATE2 structure

	* dlls/ntdll/nt.c, dlls/ntdll/ntdll.spec:
	Marcus Meissner <Marcus.Meissner@lst.de>
	Added NtPowerInformation stub.

	* dlls/ole32/bindctx.c: Gerard Patel <g.patel@wanadoo.fr>
	Transfer only cbStruct size in BindCtxImpl_S(G)etOptions.

Wed Dec  8 03:56:34 1999  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/event.c, windows/x11drv/keyboard.c, windows/message.c, windows/nonclient.c, windows/painting.c, windows/win.c, windows/keyboard.c, scheduler/critsection.c, scheduler/debugger.c, scheduler/process.c, win32/kernel32.c, win32/newfns.c, msdos/dosmem.c, objects/bitmap.c, objects/clipping.c, objects/font.c, ole/ole2nls.c, loader/elfdll.c, loader/module.c, loader/pe_image.c, loader/resource.c, loader/task.c, memory/instr.c, memory/local.c, misc/registry.c, graphics/bitblt.c, graphics/metafiledrv/objects.c, graphics/x11drv/dib.c, if1632/thunk.c, files/directory.c, files/dos_fs.c, files/drive.c, dlls/shell32/pidl.c, dlls/shell32/shell.c, dlls/shell32/shell32_main.c, dlls/shell32/shellole.c, dlls/tapi32/line.c, dlls/comctl32/comctl32undoc.c, dlls/comctl32/flatsb.c, dlls/ole32/storage.c, dlls/oleaut32/typelib.c, dlls/advapi32/crypt.c, dlls/advapi32/security.c, dlls/avifil32/avifile.c, controls/edit.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Make use of the DEFAULT_DEBUG_CHANNEL where appropriate.
	Use the default version of FIXME, ERR, WARN, TRACE for the default
	channel.

	* include/module.h, loader/module.c, scheduler/process.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Delay sending debug events until process initialization is complete.

	* documentation/status/multimedia: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Updated, added chapter on configuration and architecture.

	* dlls/winmm/mmio.c: Bradley Baetz <bbaetz@student.usyd.edu.au>
	- Fix MMIO_{Open,Rename} to check the filename (of the form
	  file.ext+ABC) for the correct mmio procedure to use.
	- mmioStringToFOURCC now converts to uppercase if asked to, and handles
	  strings of length < 4.

	* controls/edit.c: Dmitry Timoshkov <dmitry@sloboda.ru>
	Fix problem with EN_UPDATE notification sent by edit control.

Mon Dec  6 01:20:01 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/mouse/.cvsignore, dlls/mouse/Makefile.in, dlls/mouse/mouse.spec, dlls/mouse/mouse_main.c, dlls/mouse/mouserc.rc, documentation/resources, if1632/.cvsignore, if1632/display.spec, if1632/mouse.spec, if1632/Makefile.in, if1632/builtin.c, loader/ne/resource.c, windows/display.c, windows/mouse.c, windows/Makefile.in, Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/display/.cvsignore, dlls/display/Makefile.in, dlls/display/disp.rc, dlls/display/display.spec, dlls/display/display_main.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added .rc file support for Win16 NE modules.
	Moved display.c and mouse.c to separate dll directories.

	* controls/combo.c: Dmitry Timoshkov <dmitry@sloboda.ru>
	Allow to deselect all items by sending CB_SETCURSEL(-1) to the combo.

Sun Dec  5 23:54:04 1999  Alexandre Julliard  <julliard@winehq.com>

	* windows/painting.c, graphics/enhmetafiledrv/dc.c, graphics/enhmetafiledrv/graphics.c, graphics/enhmetafiledrv/init.c, graphics/metafiledrv/dc.c, graphics/metafiledrv/graphics.c, graphics/metafiledrv/init.c, graphics/psdrv/graphics.c, graphics/psdrv/init.c, graphics/ttydrv/graphics.c, graphics/ttydrv/init.c, graphics/win16drv/init.c, graphics/x11drv/graphics.c, graphics/x11drv/init.c, include/enhmetafiledrv.h, include/gdi.h, include/metafiledrv.h, include/path.h, include/psdrv.h, include/ttydrv.h, include/x11drv.h, graphics/painting.c, graphics/path.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fixes several bugs in gdi path handling.
	Adds *Path functions to dc funcs table + add EnhMetaFile recording.
	Separate out Polylne/PolylineTo and PolyBezier/PolyBezierTo in dc
	funcs table to enable proper enhmetafile recording.
	The current position update in *To functions is now handled by the
	main function and not in the drivers.
	Move USER functions from graphics/painting.c -> windows/painting.c

	* dlls/ole32/compobj.c, dlls/ole32/ole2.c, dlls/oleaut32/oleaut.c, dlls/oleaut32/typelib.c, dlls/oleaut32/typelib.spec, include/ole2ver.h, misc/version.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	- the OLE version returned was too low
	- renamed OABuildVersion16 to OaBuildVersion16
	- spelling fixes

	* files/drive.c: Peter Ganten <peter@ganten.org>
	Fix GetCurrentDirectoryA and W to return the needed space for the CWD,
	if the buffer size is not large enough.

	* controls/button.c, windows/dialog.c:
	Dmitry Timoshkov <dmitry@sloboda.ru>
	Remove hack for keyboard messages in dialogs.

	* win32/device.c: Ian Schmidt <ischmidt@cfl.rr.com>
	Stubs for VMM GetDemandPageInfo function and VWin32 "Get VMCPD Version".
	Implementation for VWin32 Int31/DPMI dispatch call.
	Fixed "dangling else" compiler warning.

	* dlls/comctl32/listview.c: Francois Gouget <fgouget@psn.net>
	Whenever we do an strncpy we should make sure we put a '\0' at the end
	of the buffer.

	* include/toolhelp.h, misc/toolhelp.c, relay32/kernel32.spec:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added Thread32First/Next stubs.

	* include/thread.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Moved wineserver's buffer & buffer_size at the end of TEB so that IE
	doesn't overwrite them.

	* dlls/winmm/mciwave/mciwave.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed mciInfo.

	* dlls/winmm/wavemap/wavemap.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added support for WAVE_FORMAT_QUERY flag in wodOpen.

	* dlls/msacm32/stream.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Correctly implement ACM_STREAMOPENF_QUERY flag in acmOpenStream.

	* dlls/winmm/mci.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed MCI_OPEN command for types like "CDAUDIO!H:".

	* graphics/ddraw_private.h, graphics/ddraw.c:
	Marcus Meissner <marcus@jet.franken.de>
	Merged _all_ lpClipper into common_surface.
	Add NULL ptr check to SetClipper.
	Some more debug output.

	* include/config.h.in, misc/port.c, configure, configure.in:
	Marcus Meissner <marcus@jet.franken.de>
	Use the real glibc openpty if present.

	* loader/ne/segment.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added typedef to insure compilation on all gcc&egcs versions.

	* misc/registry.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed _copy_registry().

	* include/winnls.h, ole/nls/esa.nls, ole/nls/esc.nls, ole/nls/esd.nls, ole/nls/esg.nls, ole/nls/esm.nls, ole/nls/esn.nls, ole/nls/esp.nls:
	Juergen Schmied <juergen.schmied@debitel.net>
	Added some constants for Spanish.

	* include/module.h, loader/ne/module.c, loader/ne/segment.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Call DllEntryPoint for *every* process that loads the DLL, not
	just for the first one.
	Bypass 32->16->32 transition when calling DllEntryPoint of built-in.

	* if1632/user.spec, windows/user.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added USER.DllEntryPoint().

	* if1632/thunk.c, include/process.h, loader/task.c, scheduler/process.c, scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Call 16-bit instead of 32-bit UserSignalProc entry point.
	Don't load USER32.DLL unless requested by the program.
	Bugfix: Pass the correct thread ID to UserSignalProc.

	* loader/pe_image.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed crash when map fails.

	* controls/combo.c: Dmitry Timoshkov <dmitry@sloboda.ru>
	Show use of undocumented messages.

	* include/keyboard.h, include/ttydrv.h, include/x11drv.h, windows/dinput.c, windows/ttydrv/init.c, windows/ttydrv/keyboard.c, windows/x11drv/init.c, windows/x11drv/keyboard.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- removed keyboard auto-repeat when DInput acquires it
	- removed some (now) obsolete fixme's

	* graphics/ddraw_private.h, graphics/ddraw.c:
	Marcus Meissner <marcus@jet.franken.de>
	Moved lpClipper into common_directdrawsurface struct
	Release old clipper on new set

	* dlls/winmm/wineoss/midi.c, include/mmsystem.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fake MIDI_IO_STATUS support in midi in open
	Fixed bug in midi in while reading data

	* dlls/winmm/wineoss/audio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed infinite loop for 0-length wavehdrs.

	* dlls/winmm/mciwave/mciwave.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed buggy playback for non PCM files
	Added support for from & to indexes for playback
	Now using double wavehdr for better output
	Cleaned-up internal structs and removed last 16 bit API adherence

	* dlls/winmm/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Tried to reduce echo in playSound API (using two wavehdr instead of
	one).

	* dlls/winmm/lolvldrv.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added callback mechanisms for MIDI IN.

	* dlls/msacm32/stream.c, dlls/msacm32/wineacm.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed improper acm streams closing.

	* dlls/msacm32/driver.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Debug traces cosmetic fixes.

	* DEVELOPERS-HINTS: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed some errors (thanks to F Gouget for reporting them).
	Added some bits on thunking and resources for DLLs.

Sat Dec  4 04:22:04 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/ddraw.c, graphics/ddraw_private.h, include/ts_xlib.h, tsx11/X11_calls, tsx11/ts_xlib.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	First support of DGA 2.0 for DirectDraw.

	* include/winuser.h, relay32/user32.spec, win32/newfns.c:
	Erez Volk <erez@gmx.net>
	Stubs for Get/SetProcessDefaultLayout.

	* files/profile.c, relay32/kernel32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Stub for CloseProfileUserMapping.

	* windows/dinput.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Use DInput's internal mouse event handler to handle the GetDeviceState
	function.

	* dlls/winmm/mmsystem.c: Peter Ganten <peter@ganten.org>
	waveHdr.lpData was eventually HeapFree()ed uninitialized.

	* loader/module.c: Sergei Turchanov <turchanov@otvprim.ru>
	Fix for GetBinaryType to return SCS_DOS_BINARY if extended signature
	is unknown.

	* loader/dos/module.c, loader/ne/module.c, relay32/builtin32.c, scheduler/process.c, include/dosexe.h, include/elfdll.h, include/module.h, include/pe_image.h, loader/elf.c, loader/elfdll.c, loader/main.c, loader/module.c, loader/pe_image.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed 32-bit module name handling to conform better to Win9x.
	Removed OFSTRUCT passing during process creation sequence.
	Bugfix: don't set exe_modref when LOAD_LIBRARY_AS_DATAFILE is set.

	* dlls/advapi32/service.c, include/winsvc.h, dlls/advapi32/advapi32.spec:
	Michael McCormack <mccormac@aals27.alcatel.com.au>
	Added code to some service functions (some untested), fixed
	declaration of service main function.

	* dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.h:
	Pierre Mageau
	Murali Pattathe
	Francois Boisvert
	Francis Baudet
	Henning Hoffmann
	Many fixes.

	* dlls/comctl32/comctl32.spec, dlls/comctl32/comctl32undoc.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Added stubs for several MRU list functions and documented some others.

	* server/file.c: Marcus Meissner <marcus@jet.franken.de>
	Flush handle in any access mode.

	* dlls/comctl32/header.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fixes off by one error in item insertion.

	* dlls/winmm/wineoss/audio.c: Marcus Meissner <marcus@jet.franken.de>
	Allow 1% deviation from specified sampling rate for some soundcards.

	* include/d3d.h: Lionel Ulmer <lionel.ulmer@free.fr>
	Suppressed the inclusion of OpenGL headers.

	* objects/enhmetafile.c: Peter Hunnisett <hunnise@nortelnetworks.com>
	- Added stub for conversion from meta to enhance meta files.
	- Implemented GetEnhMetaFileBits for enhanced meta files.

	* graphics/ddraw.c, graphics/ddraw_private.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	Improved stubs for the ddraw clipper routines.

Mon Nov 29 02:48:43 1999  Alexandre Julliard  <julliard@winehq.com>

	* win32/time.c: Made GetSystemTimeAsFileTime return value more precise.

	* server/event.c, server/file.c:
	Fixed get_event_obj/get_file_obj to use the process parameter (thanks
	to Eric Pouech).

	* server/process.h, scheduler/process.c, server/process.c:
	Fixed DEBUG_ONLY_THIS_PROCESS again (thanks to Ulrich Weigand).

	* scheduler/timer.c, server/Makefile.in, server/request.h, server/timer.c, server/trace.c, dlls/ntdll/nt.c, include/server.h, include/winbase.h, relay32/kernel32.spec, scheduler/Makefile.in:
	Implemented waitable timers.

Sun Nov 28 21:03:46 1999  Alexandre Julliard  <julliard@winehq.com>

	* tools/bin2res.c: Bug fixes.

	* dlls/comctl32/comctl32.h, dlls/comctl32/propsheet.c, dlls/comctl32/rsrc.rc, include/prsht.h:
	Serge Ivanov
	Pierre Mageau
	Thy Nguyen
	Don Kelly
	Noomen Hamza
	Lots of bug fixes and new features in property sheets.

	* win32/newfns.c, windows/x11drv/clipboard.c, windows/x11drv/event.c, dlls/dplayx/dplobby.c, dlls/shell32/shlview.c, graphics/psdrv/font.c, dlls/comctl32/tab.c:
	Niels Kristian Bech Jensen <nkbj@image.dk>
	Compiler warnings fixed.

	* graphics/x11drv/xfont.c: Bradley Baetz <bbaetz@student.usyd.edu.au>
	Give the app back the exact font name it asked for.

	* dlls/comctl32/toolbar.c: Dave Pickles <davep@nugate.demon.co.uk>
	Prevent a crash if messages are sent to a toolbar window before
	WM_NCCREATE or after WM_DESTROY.

	* dlls/winmm/winmm_Es.rc: Julio Cesar Gazquez <jgazquez@dld.net>
	Updated Spanish MM error string translation.

	* dlls/comctl32/comctl32.h, dlls/comctl32/rsrc.rc, dlls/comctl32/treeview.c, include/commctrl.h, include/treeview.h:
	Alex Priem <alexp@sci.kun.nl>
	- (final?) update of TreeView_* macro's.
	- implementation of TVM_SETINSERTMARK & TVM_SETINSERTMARKCOLOR
	- fixed some typo's
	- custom draw enhancements
	- implementation of state images
	- implementation of TVS_CHECKBOXES

	* dlls/comctl32/toolbar.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed some visual toolbar bugs.

	* README: Juergen Lock <nox@jelal.kn-bremen.de>
	Added notes about Wine-related FreeBSD kernel patches.

	* dlls/winspool/info.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Use RegQueryInfoKey to count number of printers.

	* server/unicode.h: Juergen Lock <nox@jelal.kn-bremen.de>
	Don't try to call towupper() when there's no wctype.h.

	* controls/combo.c: Dmitry Timoshkov <dmitry@sloboda.ru>
	When combobox selection changes, update its edit box accordingly.

	* controls/listbox.c: Dmitry Timoshkov <dmitry@sloboda.ru>
	Notify parent of listbox if requested.

Thu Nov 25 23:42:54 1999  Alexandre Julliard  <julliard@winehq.com>

	* server/ptrace.c: More portability fixes (thanks to Juergen Lock).

	* dlls/ntdll/signal_i386.c: Juergen Lock <nox@jelal.kn-bremen.de>
	Set/use fs/gs from the sigcontext struct, the corresponding kernel
	change now finally has been MFC'd to -stable.

	* documentation/fonts: Juergen Lock <nox@jelal.kn-bremen.de>
	Mention free Truetype font servers (Xfstt and xfsft).

	* winedefault.reg: Juergen Lock <nox@jelal.kn-bremen.de>
	Note what to do with the winedefault.reg in the file.

	* win32/device.c: Peter Ganten <peter@ganten.org>
	Implemented parts of _PageReserve() _PageCommit() _PageDecommit()
	_PageChangePermissions() and _PageFree() using the
	Virtual*()-Functions (with the great help of Ulrich Weigand).

	* memory/atom.c: Juergen Schmied <juergen.schmied@debitel.net>
	Removed fixme.

	* misc/registry.c: Several bug fixes in save_key().

	* dlls/advapi32/registry.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed some bogus error detection for RegEnumValue[AW] and
	RegQueryValueEx[AW].

	* dlls/dplayx/dplay.c, dlls/dplayx/dplayx_global.c, dlls/dplayx/dplayx_global.h, dlls/dplayx/dplobby.c:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Added global data mutual exclusion
	- Removed hack for creating processes suspended now that it's implemented
	- Fixed ordinal numbering and added spec stubs
	- Fixed EnumConnections callback to fill in all parameters with valid data
	- Made direct play allocation/deallocation follow the same pattern as
	  direct play lobby

	* dlls/win87em/emulate.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Several improvements.

	* ole/ole2nls.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed invalid LCMapString fixme for NORM_IGNOREKANATYPE case.

	* include/comm.h, misc/comm.c: Ove Kaaven <ovek@arcticnet.no>
	Made win16 serial comms less of a CPU hog.

	* include/server.h, memory/virtual.c, scheduler/event.c, scheduler/mutex.c, scheduler/semaphore.c, server/Makefile.in, server/event.c, server/handle.c, server/handle.h, server/mapping.c, server/mutex.c, server/object.c, server/object.h, server/registry.c, server/semaphore.c, server/trace.c, server/unicode.c, server/unicode.h:
	Store all object names as Unicode in the server.

Wed Nov 24 19:34:32 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/server.h, misc/registry.c, server/registry.c, server/trace.c, wine.ini:
	Added wine.conf option for new format registry files.
	Added optional periodic saving of the registry.

	* misc/registry.c, server/registry.c:
	Added support to the server for loading new format (version 2) files.

	* misc/registry.c: Bug fixes (thanks to Juergen Schmied).

	* include/process.h, include/server.h, scheduler/debugger.c, dlls/ntdll/exception.c:
	Added current context to the exception debug event sent to the server.

	* server/debugger.c, server/process.c, server/process.h, server/thread.c, server/thread.h:
	Fixed handling of debug events on thread/process exit.

	* debugger/dbg.y, include/winbase.h, scheduler/critsection.c:
	Raise an exception when a critical section wait failed.

Tue Nov 23 23:43:29 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/ttydrv/Makefile.in, graphics/ttydrv/bitblt.c, graphics/ttydrv/bitmap.c, graphics/ttydrv/brush.c, graphics/ttydrv/clipping.c, graphics/ttydrv/font.c, graphics/ttydrv/graphics.c, graphics/ttydrv/init.c, graphics/ttydrv/objects.c, graphics/ttydrv/oembitmap.c, graphics/ttydrv/palette.c, graphics/ttydrv/pen.c, graphics/ttydrv/text.c, include/ttydrv.h, windows/ttydrv/desktop.c, windows/ttydrv/main.c, windows/ttydrv/monitor.c, windows/ttydrv/wnd.c:
	Patrik Stridvall <ps@leissner.se>
	Improved the stubs.

	* dlls/comctl32/imagelist.c, include/imagelist.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	- first 'dummy' implementation of ImageList_Read

	* include/rebar.h, dlls/comctl32/rebar.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	- added version messages

	* dlls/comctl32/draglist.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	- implemented LBItemFromPt

	* include/commctrl.h, dlls/comctl32/listview.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	- implemented simple column order array functionality
	- implemented some virtual listview notifications

	* dlls/comctl32/comctl32.spec, dlls/comctl32/comctl32undoc.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	- minor update to mru list functions
	- stubs for COMCTL32_411 to COMCTL32_413

	* dlls/comctl32/toolbar.c, include/toolbar.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	- added version messages and some simple get/set messages.
	- added unicode messages

	* include/shlguid.h, dlls/shell32/classes.c, dlls/shell32/iconcache.c, dlls/shell32/pidl.c, dlls/shell32/pidl.h, dlls/shell32/shellole.c, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	- made IShellFolder a aggregable object
	- SHCoCreateInstance can create CSIDL_FSFolder now
	- browsing into folders on the desktop implemented
	- corrected returnvalue of Ico_ExtractIconEx
	- fixed SHGetDataFromIDList to return data of simple pidls

	* relay32/wsock32.spec, if1632/winsock.spec, include/winsock.h, misc/winsock.c:
	Moses DeJong <dejong@cs.umn.edu>
	Added implementation for WSARecvEx function. This is a Microsoft
	specific extension to the winsock API.

	* dlls/mpr/mpr.spec, dlls/mpr/pwcache.c, include/winnetwk.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	Corrected wrong parameter counts for WNetCachePassword and
	WNetEnumCachedPasswords.

	* dlls/shell32/shell32.spec, dlls/shell32/shell32_main.c:
	Ian Schmidt <ischmidt@cfl.rr.com>
	Added stub for DllInstall().

	* misc/registry.c, include/wine/winbase16.h, include/winnt.h, include/winreg.h, dlls/advapi32/Makefile.in, dlls/advapi32/registry.c, dlls/shell32/shell.spec, if1632/kernel.spec:
	Changed to use new server-side registry support.

	* include/server.h, server/Makefile.in, server/main.c, server/object.c, server/object.h, server/registry.c, server/request.h, server/trace.c, server/unicode.h:
	Added registry support to the server.

	* tools/make_requests:
	Differentiate tracing functions between request and reply.
	Added possibility to have dumping functions for specific types.

Sun Nov 21 21:02:06 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/server.h, scheduler/client.c:
	Added server_call_noerr function that avoids touching the last error.

	* include/winerror.h: Added a few registry error codes.

	* graphics/x11drv/xfont.c, objects/font.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed some unaligned accesses.

	* dlls/commdlg/filedlg95.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	- the fodInfos were used before initialized
	- lpTemplateName can be a resource id
	- if lpTemplateName is a string don't free the original one

	* win32/console.c, win32/kernel32.c, windows/x11drv/main.c, loader/ne/convert.c, loader/ne/module.c, misc/cpu.c, msdos/ioports.c, ole/guid.c, programs/notepad/main.c, scheduler/critsection.c, scheduler/process.c, server/socket.c, tools/wrc/newstruc.c, dlls/winmm/mci.c, graphics/ddraw.c, graphics/x11drv/graphics.c, loader/loadorder.c, loader/main.c, loader/task.c, debugger/dbgmain.c, debugger/editline.c, debugger/source.c, debugger/stabs.c, debugger/types.c, dlls/icmp/icmp_main.c, dlls/ntdll/sec.c, dlls/ntdll/signal_i386.c, dlls/wing/wing_main.c:
	Niels Kristian Bech Jensen <nkbj@image.dk>
	Removed extra #include statements.

	* files/file.c:
	Fixed MoveFileExA behavior when target file does not exist.

	* dlls/commdlg/cdlg_Pt.rc, programs/winhelp/.cvsignore, programs/winhelp/Makefile.in, programs/winhelp/Pt.rc:
	Gustavo Junior Alves <twinfo@bestway.com.br>
	Added Portuguese language support.

	* dlls/comctl32/monthcal.c, include/monthcal.h:
	Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Implemented current day circling.  Fixed many bugs in the month
	calender control including control spacing and alignment.  Fixed
	defines monthcal.h.  Optimized control drawing and removed many
	extranious redraws.  Improved control behavior.  Fixed inconsistent
	formatting in both .c and .h files.

	* files/profile.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Flush current profile before using a newly opened one.

	* memory/selector.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: GetThreadSelectorEntry() sets read-write flag incorrectly.

	* include/wine/wingdi16.h, objects/font.c, if1632/gdi.spec:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Stub for GetFontData16.

	* windows/display.c, if1632/display.spec:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Added some ordinals and GetDriverResourceID().

	* server/process.c, server/ptrace.c: Portability fixes.

	* scheduler/process.c: Fixed meaning of DEBUG_ONLY_THIS_PROCESS flag.

	* tools/bin2res.c: Peter Hunnisett <hunnise@nortelnetworks.com>
	Fixed compile error.

	* dlls/advapi32/service.c: Peter Schlaile <udbz@rz.uni-karlsruhe.de>
	Implemented StartServiceCtrlDispatcherA according to DispatcherW.

	* Makefile.in: Make sure we clean dlls/ too.

	* dlls/advapi32/service.c:
	Michael McCormack <mccormac@aals27.alcatel.com.au>
	Implemented OpenSCManagerW, CloseServiceHandle, OpenServiceW, and some
	of QueryServiceStatus.

	* tools/wrc/parser.y: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added missing ';'.

	* tools/wrc/parser.l: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Error reporting fix.

	* tools/bug_report.pl:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Changed default relay line number from 100 to 200.

	* dlls/comctl32/toolbar.c, include/commctrl.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added undocumented feature to InsertButtonA.
	Added dropdown button support.

	* dlls/comctl32/animate.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed play back of uncompressed AVI file.
	Fixed exiting conditions.

	* graphics/ddraw.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed a crash in IDirectDrawSurface:BltFast.

	* dlls/winmm/lolvldrv.c, dlls/winmm/midimap/midimap.c, dlls/winmm/wavemap/wavemap.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed forwarding and handling messages directed to the mappers.

	* loader/ne/module.c, loader/ne/segment.c, include/module.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Simplified hInstance creation/handling.
	Fixes problems with self-loaders creating DGROUP themselves.

	* include/wingdi.h, objects/dc.c, relay32/gdi32.spec:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Add stubs for Get/SetLayout().

	* dlls/ole32/ole32.spec, dlls/ole32/storage32.c:
	Jim Aston <jima@corel.ca>
	Added stub for StgSetTimes.

	* dlls/shell32/shlmenu.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	SHFind_InitMenuPopup is supposed to return a pointer.

	* dlls/icmp/icmp_main.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	u_int[16|32]_t might not be defined.

	* dlls/comctl32/treeview.c: Alex Priem <alexp@sci.kun.nl>
	- fixed crash when adding items with TVI_SORT and wineItem->pszText is
	  set to LPSTR_TEXTCALLBACK.
	- ditto for TREEVIEW_DeleteItem, TREEVIEW_CreateDragImage.

----------------------------------------------------------------
Mon Nov 15 00:46:30 1999  Alexandre Julliard  <julliard@winehq.com>

	* memory/virtual.c: Fixed allocation rounding for MEM_RESERVE.

	* server/file.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed hash function.

Sun Nov 14 23:59:01 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winmm/mmio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	The adwInfo[0] field was no longer used on mmioOpen (may contain file
	handle).

	* dlls/ole32/ole2stubs.c, dlls/ole32/ole32.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added stubs for SetErrorInfo, PropVariantClear, PropVariantCopy,
	FreePropVariantArray.

	* dlls/dsound/dsound_main.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed suicide code when playback thread's father dies.

	* dlls/shell32/pidl.c, dlls/shell32/shell32_De.rc, dlls/shell32/shell32_En.rc, dlls/shell32/shell32_main.h, dlls/shell32/shellole.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, dlls/shell32/shres.rc, dlls/shell32/shresdef.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	- the colums in the shellview are now created depending on the
	  attributes of the folder object shown
	- get all attributes from the shellfolder instead directly from the idlist
	- header fields localized (only engl. and german till now)
	- small fixes

	* dlls/commdlg/cdlg_En.rc, dlls/commdlg/filedlg95.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	- corrected control positions
	- use the icons from comctl32 for the buttons

	* relay32/kernel32.spec, relay32/relay386.c, relay32/snoop.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: relay/snoop debugging was broken by last patch ...

	* server/Makefile.in, server/process.c, server/ptrace.c, server/thread.c, server/thread.h:
	Moved ptrace support to ptrace.c. Tried to improve portability.

	* server/debugger.c: Bug fixes.

	* if1632/relay.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed some unresolved externals on non-Intel archs.

	* relay32/snoop.c: Rein Klazes <rklazes@casema.net>
	Added missing WINAPI attribute to two forward declarations.

	* dlls/icmp/icmp_main.c: Francois Gouget <fgouget@psn.net>
	Removed leftover #undefs.

	* dlls/winmm/mcicda/mcicda.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Ignore MCI_OPEN_ELEMENT in CDAUDIO_mciOpen.

	* dlls/crtdll/wcstring.c: Marcus Meissner <marcus@jet.franken.de>
	Work around glibc bug, that does not handle latin-1 umlauts.

Sat Nov 13 23:54:05 1999  Alexandre Julliard  <julliard@winehq.com>

	* loader/ne/module.c, memory/selector.c, relay32/kernel32.spec, relay32/relay386.c, relay32/snoop.c, win32/device.c, win32/kernel32.c, win32/ordinals.c, dlls/ntdll/exception.c, dlls/ntdll/ntdll.spec, dlls/ntdll/rtl.c, dlls/ntdll/signal_i386.c, dlls/ntdll/signal_sparc.c, if1632/kernel.spec, include/ntddk.h, include/wine/exception.h, loader/dos/dosvm.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Adapted to new register function handling.

	* tools/build.c, include/stackframe.h, include/winnt.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Modified Win32 register function handling.

	* configure, configure.in, dlls/icmp/icmp_main.c, dlls/icmp/ip.h, dlls/icmp/ip_icmp.h, include/config.h.in:
	Francois Gouget <fgouget@psn.net>
	Use BSD headers for ICMP portability.

	* dlls/comctl32/rsrc.rc, dlls/commdlg/cdlg_xx.rc, dlls/shell32/shres.rc:
	Juergen Schmied <juergen.schmied@debitel.net>
	- inserted markers for the bin2res tool
	- reformated hexdump in shres.rc

	* documentation/resources, tools/.cvsignore, tools/Makefile.in, tools/bin2res.c:
	Juergen Schmied <juergen.schmied@debitel.net>
	New tool to convert the binary resources in *.rc files (hexdumps) from
	and to a binary.

	* include/wine/port.h, misc/port.c, misc/winsock.c, misc/winsock_async.c, scheduler/sysdeps.c, configure, configure.in, files/drive.c, include/config.h.in:
	Patrik Stridvall <ps@leissner.se>
	Added better missing function emulation.

	* include/debugger.h, debugger/break.c, debugger/db_disasm.c, debugger/dbg.y, debugger/expr.c, debugger/hash.c, debugger/memory.c, debugger/registers.c, debugger/source.c, debugger/stack.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Made debugger compile and marginally work on non-Intel archs.

	* dlls/ntdll/exception.c, include/winnt.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Moved GET_IP macro to winnt.h

	* documentation/printing, documentation/psdriver, documentation/psdrv.reg, graphics/psdrv/README:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Move PostScript driver docs to documentation/ .  Add instructions on
	how to use regapi to get information into the registry.  Supply sample
	input to regapi.

	* dlls/commdlg/cdlg_En.rc, dlls/commdlg/printdlg.c:
	Klaas van Gend <klaas@vangend.demon.nl>
	Implemented the PrintSetup dialog box for the PrintDlgA.

	* dlls/comctl32/propsheet.c: Adrian Thurston <adriant@corel.com>
	Added validations for page index before using it.

	* dlls/commdlg/filedlg95.c: Adrian Thurston <adriant@corel.com>
	- fixed the index of the item chosen in the filter combo box
	- added support for the OFN_OVERWRITEPROMPT flag
	- fixed positioning of controls in the user-defined templates

	* include/server.h, scheduler/process.c, server/process.c, server/request.h, server/trace.c:
	Added support for WriteProcessMemory through the server.

	* server/mapping.c, server/object.h: Added get_page_size function.

Fri Nov 12 21:39:15 1999  Alexandre Julliard  <julliard@winehq.com>

	* server/file.c, server/process.c, server/request.h, server/thread.c, server/thread.h, server/trace.c, include/server.h, scheduler/process.c:
	Added support for ReadProcessMemory through the server.

	* include/server.h, loader/module.c, scheduler/process.c, server/process.c, server/process.h, server/request.h, server/thread.c, server/trace.c:
	Added support for CREATE_SUSPENDED flag in CreateProcess.

	* win32/device.c: Ian Schmidt <ischmidt@cfl.rr.com>
	Implemented VWin32 VxDCall mechanism and 2 calls.

	* dlls/winmm/joystick.c: <jodaman@cegt201.bradley.edu>
	Fixed joystick scaling.

	* dlls/commdlg/cdlg_Ca.rc, dlls/commdlg/cdlg_Cs.rc, dlls/commdlg/cdlg_Da.rc, dlls/commdlg/cdlg_De.rc, dlls/commdlg/cdlg_Eo.rc, dlls/commdlg/cdlg_Es.rc, dlls/commdlg/cdlg_Fi.rc, dlls/commdlg/cdlg_Hu.rc, dlls/commdlg/cdlg_It.rc, dlls/commdlg/cdlg_Ko.rc, dlls/commdlg/cdlg_Nl.rc, dlls/commdlg/cdlg_No.rc, dlls/commdlg/cdlg_Pl.rc, dlls/commdlg/cdlg_Pt.rc, dlls/commdlg/cdlg_Ru.rc, dlls/commdlg/cdlg_Sv.rc, dlls/commdlg/cdlg_Wa.rc, dlls/shell32/shell32_Ca.rc, dlls/shell32/shell32_Cs.rc, dlls/shell32/shell32_Da.rc, dlls/shell32/shell32_De.rc, dlls/shell32/shell32_En.rc, dlls/shell32/shell32_Es.rc, dlls/shell32/shell32_Fi.rc, dlls/shell32/shell32_Hu.rc, dlls/shell32/shell32_It.rc, dlls/shell32/shell32_Nl.rc, dlls/shell32/shell32_No.rc, dlls/shell32/shell32_Pl.rc, dlls/shell32/shell32_Pt.rc, dlls/shell32/shell32_Ru.rc, dlls/shell32/shell32_Sv.rc, dlls/shell32/shell32_Wa.rc:
	Gustavo Junior Alves <twinfo@bestway.com.br>
	Use constants IDOK and IDCANCEL in .rc files.

	* server/thread.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Portability fix: renamed PTRACE_* into PT_*.

	* relay32/kernel32.spec, win32/device.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Allow for buggy apps that call the wrong VxDCall routine.

	* dlls/rasapi32/rasapi.c: Gerard Patel <g.patel@wanadoo.fr>
	Complete stub for RasEnumEntries by saying we have 0 entries.

	* include/debugstr.h, misc/debugstr.c:
	Jeremy White <jwhite@codeweavers.com>
	Add debugstr_hex_dump to allow display hex dumps of data in any
	debugging message.

	* server/thread.c:
	Added use_ptrace flag to disable ptrace usage. Should eventually be
	made into an option.

	* dlls/commdlg/cdlg.h, dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/commdlg/filedlgbrowser.h, dlls/commdlg/rsrc.rc, dlls/shell32/shlview.c, include/dlgs.h, include/wine/obj_shellview.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	Made the buttons in the filedlg change when selecting a different
	view type by the context menu, cleanup.

	* dlls/winmm/winmm_Es.rc, dlls/winmm/winmm_res.rc:
	Julio Cesar Gazquez <jgazquez@dld.net>
	Added Spanish (pure Castillan) MM error string translation.

	* dlls/ntdll/Makefile.in, dlls/ntdll/signal_sparc.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added signal handling for SPARC / Solaris.

	* programs/regapi/regapi.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Comment out explicit call to SHELL_SaveRegistry since winelib programs
	now exit properly.  Change several NULLs to '\0's.  Fix some spelling.

	* windows/x11drv/event.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed XShm completion event leak.

	* dlls/winmm/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed recursion count while calling midiStream(Pause|Restart).

	* misc/registry.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix save_check_tainted to properly scan the tree so that all tainted
	branches get saved.

	* dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c:
	Bernd Paysan <bernd.paysan@gmx.de>
	Added a stub for setjmp.

Wed Nov 10 20:25:19 1999  Alexandre Julliard  <julliard@winehq.com>

	* server/thread.c:
	Don't crash when we get a SIGCHLD for a removed thread.

	* dlls/icmp/icmp_main.c: Patrik Stridvall <ps@leissner.se>
	Solaris compile fixes.

	* dlls/ntdll/exception.c, include/winnt.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	(Preliminary) CONTEXT structure for SPARC added.

	* include/process.h, loader/module.c, scheduler/debugger.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: LOAD_DLL_DEBUG_EVENT lpImageName parameter was incorrect.

	* memory/virtual.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	When decommitting, remap zero pages using MAP_FIXED.

	* dlls/ole32/compobj.c: Rein Klazes <rklazes@casema.net>
	CoGetClassObject should complain about not being able to do
	out-of-process servers *only* if the application doesn't include the
	in-process options.

	* misc/version.c, controls/edit.c, include/winversion.h:
	Rein Klazes <rklazes@casema.net>
	Send WM_CTLCOLOREDIT not WM_CTLCOLORSTATIC messages to parent of a
	disabled edit control if the application expects a windows version
	before WIN95 and NT40.

	* include/winbase.h, relay32/kernel32.spec, files/file.c:
	Moshe Vainer <moshev@easybase.com>
	Stub for GetOverlappedResult.

	* relay32/builtin32.c, tools/build.c, include/module.h, include/pe_image.h, loader/dos/module.c, loader/main.c, loader/module.c, loader/ne/module.c, loader/pe_image.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Determine expected_version of PE buddies from the SubsystemVersion.

	* dlls/ntdll/exception.c, include/wine/exception.h, include/winnt.h, win32/except.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Exception handlers are *not* WINAPI.

Mon Nov  8 05:31:47 1999  Alexandre Julliard  <julliard@winehq.com>

	* server/process.c, server/select.c, server/thread.c, server/thread.h:
	Preliminary ptrace support.

	* memory/virtual.c:
	Remap zero-pages when decomitting a page range (based on a patch by
	Gerard Patel).

	* Makefile.in, scheduler/Makefile.in, scheduler/client.c, server/main.c:
	Install the wine server in $(bindir) and exec it from there.

Sun Nov  7 23:59:08 1999  Alexandre Julliard  <julliard@winehq.com>

	* server/debugger.c:
	Do not free the handles once they have been sent to the client (thanks
	to Jeremy White).

	* windows/msgbox.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed crash when asked to use strings identified by resource id
	instead of pointer.

	* windows/dce.c: Jim Aston <jima@corel.ca>
	When window class has CS_CLASSDC style we should not remove the DC
	when destroying the window.

	* dlls/rasapi32/rasapi32.spec, dlls/win32s/w32skrnl.c:
	Patrik Stridvall <ps@leissner.se>
	Minor fixes.

	* tools/winapi_check/nativeapi.pm, tools/winapi_check/output.pm, tools/winapi_check/win32api.dat, tools/winapi_check/winapi_check, tools/winapi_check/winapi_options.pm:
	Patrik Stridvall <ps@leissner.se>
	Minor fixes and reorganizations.

	* dlls/shell32/if_macros.h, include/bit_array.h, include/ntdll.h, include/oleobj.h:
	Patrik Stridvall <ps@leissner.se>
	Removed obsolete files no longer in use.

	* tsx11/X11_calls, tsx11/ts_xlib.c, windows/x11drv/event.c, graphics/ddraw.c, graphics/ddraw_private.h, include/ts_xlib.h, include/x11drv.h:
	Ove Kaaven <ovek@arcticnet.no>
	DirectX-XShm now waits for the X server to finish the previous frame
	before sending another frame down its pipe, avoiding the X server
	overload and resulting slowness that used to be.

	* dlls/comctl32/toolbar.c, dlls/commdlg/cdlg_En.rc, dlls/commdlg/cdlg_xx.rc, dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.h, include/dlgs.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	- unified templates for the open and the save dlg
	- replaced buttons with a toolbar

	* dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, include/wine/obj_shellfolder.h:
	Juergen Schmied <juergen.schmied@debitel.net>
	- new interface declaration for IShellfolder2
	- added this interface to all shell folders
	- small fixes to shellview (crash with native comdlg32)

	* loader/pe_image.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed the relocation hack in PE_InitTls. Added some more for the other
	pointerfields in the TLS entry. (With testing help from Jussi
	Jumppanen <jussij@zeusedit.com>).

	* relay32/user32.spec, windows/user.c, include/winuser.h:
	Marcus Meissner <marcus@jet.franken.de>
	Added ChangeDisplaySettingsExA stub and some flag defines.

	* include/console.h: Robert 'Admiral' Coeyman <admiral@corner.net>
	Added the hex triplets to the console color definitions.

	* windows/ttydrv/event.c, windows/ttydrv/init.c, windows/ttydrv/mouse.c, windows/x11drv/event.c, windows/x11drv/init.c, windows/x11drv/mouse.c, include/input.h, include/message.h, include/mouse.h, include/ttydrv.h, include/x11drv.h, objects/cursoricon.c, windows/dinput.c, windows/event.c, windows/input.c, windows/mouse.c, windows/winpos.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added the possibility to have mouse movements reported relative to
	Wine's mouse driver.

	* Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/icmp/.cvsignore, dlls/icmp/Makefile.in, dlls/icmp/icmp.spec, dlls/icmp/icmp_main.c, include/debugdefs.h, include/wine/icmpapi.h, include/wine/ipexport.h, loader/loadorder.c, relay32/builtin32.c, wine.ini:
	Francois Gouget <fgouget@psn.net>
	Added ICMP DLL implementation.

	* tools/wrc/dumpres.c, tools/wrc/genres.c, tools/wrc/newstruc.c, tools/wrc/newstruc.h, tools/wrc/parser.y, tools/wrc/wrc.h, tools/wrc/wrctypes.h, tools/wrc/CHANGES:
	Juergen.Schmied@debitel.net
	- Bugfix: Styles were evaluated as expressions. The NOT in combination
	  with style flags was not overwriting the default styles like WS_VISIBLE.
	  Solved by introducing own rules for parsing styles.

	* controls/combo.c: Jim Aston <jima@corel.ca>
	Fixed the height of the ComboBox drop list.

	* windows/dialog.c: David Grant <davidgra@corel.ca>
	Windows sends WM_GETDLGCODE only in response to keyboard messages
	(WM_KEYDOWN, WM_CHAR, WM_SYSCHAR).

	* include/wine/obj_base.h: Peter Hunnisett <hunnise@nortelnetworks.com>
	- Added missing __attribute__ ((com_interface)) for IUnknown with.
	  ICOM_USE_COM_INTERFACE_ATTRIBUTE
	- Small addition to comments surrounding
	  ICOM_USE_COM_INTERFACE_ATTRIBUTE "option".

	* ole/ole2nls.c, if1632/ole2nls.spec:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Implementation of RegisterNLSInfoChanged.

	* scheduler/critsection.c, windows/queue.c, memory/heap.c:
	James Abbatiello <abbeyj@wpi.edu>
	Addresses issues with multiple processes accessing non-global critical
	sections.

	* server/sock.c: Jeremy White <jwhite@codeweavers.com>
	Fixed bug in WINSOCK_accept when no event is present.

	* dlls/rasapi32/rasapi.c, include/lmcons.h, include/ras.h:
	Rein Klazes <rklazes@casema.net>
	Added stubs for RasEnumEntriesA and RasGetEntryDialParamsA.

	* dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/commdlg/filedlgbrowser.h:
	Ulrich Czekalla <ulrichc@corel.ca>
	Implementation of custom dialog messages and notifications.

	* dlls/comctl32/treeview.c: David Grant <davidgra@corel.ca>
	- Proper initialization of cchTextMax field was added for
	  TVN_GETDISPINFO notification message.
	- TVM_SETITEM should update 'mask' field to synchronize it with
	  current item state.

	* graphics/psdrv/ppd.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	If PageSize/InputSlot entry doesn't contain an options translation
	string use the option name instead.

	* dlls/comctl32/propsheet.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed SetTitleA when string resources were to be loaded.

	* dlls/comctl32/listview.c: Pierre Mageau <pierre@macadamian.com>
	- Fixed an error for scrolling in Listview (sometimes a column would
	  not be visible) due to my last checkin.
	- Fixed an error for the header control when the Listview is resized with WM_SIZE
	- Fixed the scrolling for small and large icon (this broke because of
	  the use of SB_PAGE in scrollInfo)
	- Added a patch made by Noomen Hamza to update the item width when
	  adding a new item

	* server/sock.c: Ove Kaaven <ovek@arcticnet.no>
	Handle socket creation errors.

	* controls/menu.c: Karl Lessard <karll@corel.com>
	When a popupmenu is currently active on the screen, it shouldn't
	remove mouse click messages that don't belong to it from the queue.

	* windows/x11drv/clipboard.c: Juergen Lock <nox@jelal.kn-bremen.de>
	Exec `wineclipsrv' not `wineclipsvr', and don't inherit wine's X
	sockets to it (otherwise windows stay around when wine hangs).

Thu Nov  4 02:51:24 1999  Alexandre Julliard  <julliard@winehq.com>

	* loader/main.c: Fixed -debugmsg +server.

	* scheduler/handle.c:
	Added special handling for the stdio handles in CloseHandle.

	* server/handle.c:
	Made all handles multiple of 4. Fixed semantics for pseudo-handles.

	* server/debugger.c:
	Free the handles of the event structure in the right process (thanks
	to Jeremy White).

	* dlls/dplayx/Makefile.in, dlls/dplayx/dplay.c, dlls/dplayx/dplayx.spec, dlls/dplayx/dplayx_global.c, dlls/dplayx/dplayx_global.h, dlls/dplayx/dplayx_main.c, dlls/dplayx/dplobby.c, documentation/status/directplay, include/dplay.h, include/dplobby.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Added dplayx LibMain for initialization of all dplayx 'global' data
	- Added start for global data manipulation
	- TODO list updated
	- Added some missing header file definitions
	- Added the ansi versions of dplay and dplobby
	- Fixed invalid macro for IDirectPlay4
	- Cleaned up compiler warnings
	- More implementation, bug fixes and critical region protection

	* windows/x11drv/event.c: Karl Lessard <karll@corel.com>
	Never send a WM_CLOSE message  to a popup window.

	* windows/x11drv/wnd.c: Karl Lessard <karll@corel.com>
	Check if the window is managed before trying to give it focus.

	* configure, configure.in: Marcus Meissner <marcus@jet.franken.de>
	Enhanced linux joystick api detection slightly.

	* windows/x11drv/keyboard.c:
	Jaroslaw Piotr Sobieszek <jsobiesz@elka.pw.edu.pl>
	Added Polish keyboard support.

	* graphics/win16drv/prtdrv.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Add DC_VERSION and DC_TRUETYPE to win16drv DeviceCapabilities.

	* graphics/psdrv/ppd.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Add `Cassette' to PPD -> windows printer-bin mapping.

	* memory/string.c: Michael McCormack <mccormac@aals27.alcatel.com.au>
	Modified lstrcpynWtoA to put terminating null at end of string, not
	end of buffer.

	* include/wine/obj_storage.h: Francois Gouget <fgouget@psn.net>
	Removed duplicate macro definitions for the IStorage and IStream COM
	interfaces.

	* windows/defwnd.c: Karl Lessard <karll@corel.com>
	Fixed COLOR_MAX definition for new Win32 values.

	* objects/gdiobj.c: Ian Schmidt <ischmidt@cfl.rr.com>
	Removed unnecessary USER call from GetFontMetrics. Fixes native USER.

	* dlls/comctl32/listview.c, include/listview.h:
	Ulrich Czekalla <ulrichc@corel.ca>
	Set proper item focus on DeleteItem.
	Clean up edit label implementation.

	* files/drive.c: Peter Schlaile <udbz@rz.uni-karlsruhe.de>
	Fixed a long standing (and annoying) typo, that prevented
	GetDiskFreeSpaceA from working...

	* misc/registry.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Enable safe reading of registry file, even if file is broken.

	* win32/newfns.c: Ian Schmidt <ischmidt@cfl.rr.com>
	Changed OpenDesktop stub to Win9x behavior for QuickTime 4.

----------------------------------------------------------------
Sun Oct 31 22:26:35 1999  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/client.c: Set close-on-exec flag on server socket.

	* DEVELOPERS-HINTS: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added explanation on creating a new DLL.

	* misc/version.c: Juergen Schmied <juergen.schmied@debitel.net>
	Better version autodetection.

	* windows/dialog.c: Ulrich Czekalla <ulrichc@corel.ca>
	Implemented support of DS_CONTROL and WS_EX_CONTROLPARENT styles.

	* graphics/ddraw.c: Ivan de Saedeleer <Ivands@sympatico.ca>
	Fail when LPRECT contains negative values.

	* windows/x11drv/event.c: Pierre Mageau <pierre@macadamian.com>
	On ConfigureNotify, find the first visible window above the current one.

	* debugger/db_disasm.c: Rein Klazes <rklazes@casema.net>
	Corrected operand sizes for the "enter" instruction.

	* dlls/comctl32/propsheet.c: Thuy Nguyen <thuy@macadamian.com>
	PSM_ADDPAGE returns TRUE or FALSE.

	* dlls/msacm32/builtin.c, dlls/msacm32/Makefile.in, dlls/msacm32/driver.c, dlls/msacm32/internal.c, dlls/msacm32/msacm32_main.c, dlls/msacm32/stream.c, dlls/msacm32/wineacm.h, include/msacm.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Made msacm32 really load ACM drivers.

	* graphics/painting.c: Jim Aston <jima@corel.ca>
	Prevent FillRgn from using a NULL pointer.

	* misc/registry.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fixed a few problems with RegEnumKey*.

	* dlls/commdlg/filedlg95.c: Ulrich Czekalla <ulrichc@corel.ca>
	Implementation of user defined templates.

	* dlls/ole32/ifs.c: Marcus Meissner <marcus@jet.franken.de>
	IMalloc16_Constructor: moved ICOM_VTBL(This) where it belongs.

	* controls/static.c: Marcus Meissner <marcus@jet.franken.de>
	Do not clear the drawing area for etched static controls.
	Replaced our own drawing stuff in etched static controls by DrawEdge.

	* dlls/comctl32/listview.c: Pierre Mageau <pierre@macadamian.com>
	In report view mode of the listview control, implemented the
	horizontal scrollbar functionality.

	* windows/mdi.c: Francis Beaudet <francis@macadamian.com>
	Fixed a small bug in the behavior of maximized MDI children.

	* dlls/winspool/info.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Rewrite of EnumPrinters.

	* dlls/comctl32/propsheet.c: Thuy Nguyen <thuy@macadamian.com>
	Fill in the hwndFrom field of the NMHDR structure when sending
	notifications.

	* files/profile.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	When reading a profile entry remove trailing quote when there's an
	opening one.

	* objects/gdiobj.c: Francis Beaudet <francis@macadamian.com>
	Return correct height and width for stock fonts in GetObject.

	* programs/avitools/aviplay.c: Compile fix.

	* programs/wcmd/.cvsignore: Added wmcdrc.h

	* dlls/winmm/mmio.c: Ulrich Czekalla <ulrichc@corel.ca>
	Added support for the addition and removal of custom I/O preocedures.

	* dlls/ole32/compobj.c, dlls/ole32/ole32.spec:
	Abey George<abey@macadamian.com>
	Implemented ProgIDFromCLSID.

	* dlls/comctl32/propsheet.c, dlls/comctl32/rsrc.rc:
	Thuy Nguyen <thuy@macadamian.com>
	Wizard mode property sheets have a tab control.

	* loader/loadorder.c, relay32/builtin32.c, Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/winmm/midimap/.cvsignore, dlls/winmm/midimap/Makefile.in, dlls/winmm/midimap/midimap.c, dlls/winmm/midimap/midimap.spec, dlls/winmm/wavemap/.cvsignore, dlls/winmm/wavemap/Makefile.in, dlls/winmm/wavemap/msacm.spec, dlls/winmm/wavemap/wavemap.c, wine.ini:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added built-in msacm.drv and midimap.drv drivers.

	* tools/winapi_check/nativeapi.pm, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_function.pm, tools/winapi_check/winapi_global.pm, tools/winapi_check/winapi_local.pm, tools/winapi_check/winapi_options.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Minor fixes and reorganizations.
	- Added checks for documentation inconsistencies.

	* dlls/winmm/wineoss/audio.c, dlls/winmm/wineoss/midi.c, dlls/winmm/wineoss/mixer.c, dlls/winmm/wineoss/mmaux.c, misc/port.c, misc/winsock.c, misc/winsock_async.c, dlls/winmm/joystick.c:
	Patrik Stridvall <ps@leissner.se>
	Added missing configuration #if:s and #includes:s.

	* dlls/crtdll/crtdll_main.c, files/dos_fs.c, objects/dcvalues.c, dlls/advapi32/crypt.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed documentation.

	* dlls/winmm/mciwave/Makefile.in: Patrik Stridvall <ps@leissner.se>
	Solaris make doesn't like unnecessary \.

	* programs/avitools/aviplay.c, windows/dinput.c, dlls/ole32/memlockbytes.c, dlls/ole32/moniker.c, dlls/ole32/oleobj.c, dlls/ole32/stg_stream.c, dlls/ole32/storage.c, dlls/ole32/storage32.c, dlls/ole32/storage32.h, dlls/shell32/contmenu.c, dlls/shell32/dataobject.c, dlls/shell32/enumidlist.c, dlls/shell32/folders.c, dlls/shell32/if_macros.h, dlls/shell32/regstream.c, dlls/shell32/shell32.spec, dlls/shell32/shelllink.c, dlls/shell32/shellole.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, dlls/shell32/shv_bg_cmenu.c, graphics/d3d_private.h, graphics/d3ddevices.c, graphics/d3dexecutebuffer.c, graphics/d3dlight.c, graphics/d3dmaterial.c, graphics/d3dtexture.c, graphics/d3dviewport.c, graphics/ddraw.c, graphics/ddraw_private.h, dlls/avifil32/avifile.c, dlls/dplayx/dpclassfactory.c, dlls/dsound/dsound_main.c, dlls/ole32/bindctx.c, dlls/ole32/clipboard.c, dlls/ole32/compositemoniker.c, dlls/ole32/hglobalstream.c, dlls/ole32/ifs.c:
	Francois Gouget <fgouget@psn.net>
	Generalized the use of the new ICOM_VFIELD and ICOM_VTBL macros.

	* windows/win.c, windows/x11drv/wineclipsrv.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fixed a couple of compiler warnings.

	* dlls/shell32/pidl.c: Pierre Mageau <pierre@macadamian.com>
	A crash would occur if the file type in report mode was empty.

	* windows/keyboard.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Changed the initialisation of the KeyState array.

	* misc/lstr.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Better handling of newlines in FormatMessage*.

	* dlls/winmm/wineoss/audio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fix (some) bad behavior with buffer underrun.

	* dlls/winmm/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed PlaySound proc for non PCM content.

	* dlls/comctl32/treeview.c: Ulrich Czekalla <ulrichc@corel.ca>
	- Treeview uses COLOR_WINDOW color instead of clrBk to fill background.
	- Treeview: colors returned by TVM_GET**COLOR are mixed up.

	* dlls/commdlg/filedlg95.c: Pierre Mageau <pierre@macadamian.com>
	Clicking the combo box would cause a crash if it was empty.

	* graphics/escape.c, graphics/win16drv/init.c, include/wine/wingdi16.h, misc/printdrv.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	It appears that StartDoc sends the STARTDOC escape with the DOCINFO
	structure pointed to with the output data parameter.

	* graphics/fontengine.c, if1632/gdi.spec:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Stub for EngineRealizeFontExt (used by the win98 pscript driver).

	* dlls/comctl32/tab.c: Noomen Hamza <noomen@macadamian.com>
	Selected button within tab control will be painted with the right
	color brush.

	* dlls/comctl32/propsheet.c: Pierre Mageau <pierre@macadamian.com>
	Do not send two PSN_KILLACTIVE messages.

	* wine.ini: Marcus Meissner <marcus@jet.franken.de>
	ini variables do not like ; comments after them (they are not shell
	scripts). Fixed a typo in one of the names.

Mon Oct 25 15:43:36 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/dplayx/dplay.c, dlls/dplayx/dplobby.c, dlls/ole32/compobj.c, dlls/ole32/ifs.c, include/wine/obj_base.h:
	Francois Gouget <fgouget@psn.net>
	Added two macros, ICOM_VFIELD and ICOM_VTBL, so that when implementing
	a COM interface one never has to name the lpVtbl field explicitly.

	* dlls/oleaut32/ole2disp.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	SysAllocStringLen16 needs to handle NULL pointers, too.

	* memory/local.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Bug fix.

	* tools/find_debug_channels: Francois Gouget <fgouget@psn.net>
	Fixed small typos and slightly outdated comments.

	* dlls/shell32/shell32.spec, dlls/shell32/shellord.c:
	Ian Schmidt <ischmidt@cfl.rr.com>
	Partial implementation of the Shell32 call Win32DeleteFile(), required
	by IE5's Explorer.

	* programs/winhelp/Makefile.in, programs/winver/Makefile.in, programs/regapi/Makefile.in, programs/regtest/Makefile.in, programs/view/Makefile.in, programs/wcmd/Makefile.in, programs/notepad/Makefile.in, programs/progman/Makefile.in, Make.rules.in, programs/avitools/Makefile.in, programs/clock/Makefile.in, programs/cmdlgtst/Makefile.in, programs/control/Makefile.in:
	Added dependency on winestub.o

Sun Oct 24 22:13:55 1999  Alexandre Julliard  <julliard@winehq.com>

	* windows/dinput.c, tools/build.c, tools/fnt2bdf.c, win32/console.c, win32/device.c, win32/file.c, win32/process.c, relay32/snoop.c, scheduler/client.c, scheduler/thread.c, server/console.c, server/file.c, server/pipe.c, server/sock.c, server/socket.c, msdos/int21.c, objects/gdiobj.c, include/config.h.in, loader/dos/dosmod.c, loader/dos/dosvm.c, loader/dos/module.c, loader/pe_image.c, memory/ldt.c, dlls/wnaspi32/winaspi32.c, files/directory.c, files/dos_fs.c, graphics/ddraw.c, graphics/x11drv/dib.c, dlls/ole32/compobj.c, dlls/oleaut32/variant.c, dlls/winaspi/winaspi16.c, configure.in, debugger/stabs.c, dlls/crtdll/crtdll_main.c, configure:
	Patrik Stridvall <ps@leissner.se>
	- Added missing configuration #if:s and #includes:s.
	- Minor configuration related changes.

	* misc/registry.c: Marcus Meissner <marcus@jet.franken.de>
	Made LoadHomeRegistryFiles default to TRUE.

	* include/authors.h, include/comm.h, include/datetime.h, include/monthcal.h, include/netspi.h, include/ntsecapi.h, include/psdrv.h, include/wine/obj_connection.h, include/wine/obj_oleundo.h, include/wine/obj_picture.h, include/wine/obj_property.h, include/wine/obj_shellextinit.h, include/wine/winnet16.h, include/winspool.h, include/xmalloc.h, tools/make_authors:
	Patrik Stridvall <ps@leissner.se>
	Made the include files self-sufficient.

	* tools/winapi_check/*:
	Patrik Stridvall <ps@leissner.se>
	- Fixed the long long problem.
	- Added configure include consistancy checking.
	- Added progress indicator.
	- Began splitting up the win16api.dat and win32api.dat files.
	- Added various minor checks.
	- Minor fixes.

	* relay32/kernel32.spec, relay32/user32.spec, dlls/shell32/shell32.spec, dlls/shell32/shlwapi.spec, dlls/win32s/w32skrnl.spec, dlls/winspool/winspool.spec, dlls/wnaspi32/wnaspi32.spec, dlls/ole32/ole32.spec, dlls/oleaut32/oleaut32.spec, dlls/olecli/olecli32.spec, dlls/psapi/psapi.spec, dlls/avifil32/avifil32.spec, dlls/comctl32/comctl32.spec, dlls/comctl32/comctl32undoc.c, dlls/crtdll/crtdll.spec, dlls/ntdll/ntdll.spec, dlls/ntdll/reg.c:
	Patrik Stridvall <ps@leissner.se>
	Added spec file declarations for already implemented functions.

	* graphics/path.c, if1632/gdi.spec, objects/clipping.c:
	Patrik Stridvall <ps@leissner.se>
	Added Win16 variants of existing Win32 functions.

	* dlls/ntdll/signal_i386.c: Patrik Stridvall <ps@leissner.se>
	Solaris compile fix.

	* files/file.c: Gerard Patel <g.patel@wanadoo.fr>
	Remove prefixing by a tilde for GetTempFileName 32bits.

	* debugger/expr.c: Marcus Meissner <marcus@jet.franken.de>
	Added missing include.

	* windows/win.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Warn users to use -the -desktop option together with the native user DLLs.

	* loader/resource.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Return the size of the needed resource when buffer is NULL for LoadString().

	* dlls/ole32/clipboard.c, windows/clipboard.c, windows/user.c, windows/x11drv/Makefile.in, windows/x11drv/clipboard.c, windows/x11drv/wineclipsrv.c, wine.ini:
	Francis Beaudet <francis@macadamian.com>
	Enabled the persistent clipboard server.

	* misc/registry.c, wine.ini: Nathaniel <wfilardo@fuse.net>
	Improved registry isolation possibilities.

	* multimedia/*.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Split the multimedia/ directory into dlls/ subdirectories.

	* multimedia/winmm.rc, multimedia/winmm_Pt.rc, programs/clock/ChangeLog, programs/clock/Pt.rc, programs/notepad/ChangeLog, programs/notepad/Fr.rc, programs/notepad/Pt.rc, programs/notepad/Wa.rc, programs/progman/.cvsignore, programs/progman/ChangeLog, programs/progman/Pt.rc, programs/winhelp/.cvsignore:
	Gustavo Junior Alves <alves@correionet.com.br>
	More Portuguese language support.

	* objects/dib.c: Matthew J. Francis <asbel@dial.pipex.com>
	Fixed top-down DIB handling in StretchDIBits32().

	* include/windowsx.h: Peter Hunnisett <hunnise@nortelnetworks.com>
	Added macro definitions for memory allocation.

	* graphics/x11drv/xfont.c, include/gdi.h, include/x11font.h, objects/font.c:
	Ulrich Czekalla <ulrichc@corel.ca>
	Make sure that all calls use the extended structures which are a
	superset of the regular structures.

	* dlls/comctl32/listview.c: Pierre Mageau <pierre@macadamian.com>
	Added the functionality of the thumb track.

	* windows/focus.c: Adrian Thurston <adriant@corel.com>
	Do not set focus to a disabled window.

	* windows/x11drv/keyboard.c: Pierre Mageau <pierre@macadamian.com>
	Fixed an entry in the keyboard translation table for Ctrl-Break.

	* include/debugdefs.h, scheduler/debugger.c:
	Ulrich Czekalla <ulrichc@corel.ca>
	New channel 'debugstr' used to print OutputDebugString API calls.

	* windows/nonclient.c, windows/x11drv/event.c:
	Noomen Hamza <noomen@macadamian.com>
	Popup windows will be hidden when we minimize a main frame or shown
	when we maximize or restore a minimized main frame.

Sat Oct 23 23:59:47 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/propsheet.c: Ulrich Czekalla <ulrichc@corel.ca>
	PropertySheet didn't destroy page dialog's window while removing page.

	* dlls/comctl32/listview.c: Pierre Mageau <pierre@macadamian.com>
	Update the item width upon a new column in the header control.

	* dlls/ntdll/exception.c: Gerard Patel <g.patel@wanadoo.fr>
	Reorder parameters to fix position of base reg relative to exception
	frame.

	* documentation/Makefile.in: Fixed typo.

	* include/*.h:
	Francois Gouget <fgouget@psn.net>
	Define the COM macros even in C++.

	* controls/menu.c, windows/mdi.c: Pierre Mageau <pierre@macadamian.com>
	Fixed loop with WM_SYSCHAR.

	* dlls/comctl32/tooltips.c: Joshua Thielen <thielen@netperson.net>
	Fixed tooltips positioning.

	* graphics/x11drv/dib.c: Re-applied lost change.

	* loader/task.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Ignore wrong hInstance.

	* include/miscemu.h, msdos/int10.c, msdos/interrupts.c:
	Robert 'Admiral' Coeyman <admiral@corner.net>
	Report non-hercules video. Turned on int 2a.

	* include/file.h, include/winbase.h, loader/module.c, files/file.c:
	Jim Aston <jima@corel.ca>
	Fixed compiling with STRICT.

	* dlls/comctl32/propsheet.c: Adrian Thurston <adriant@corel.com>
	Proper resource support for dialog title.

	* include/dlgs.h: Ulrich Czekalla <ulrichc@corel.ca>
	Fixed some wrong defines.

	* objects/brush.c: Ulrich Czekalla <ulrichc@corel.ca>
	Copy bitmaps properly.

	* include/debugger.h, debugger/dbg.y, debugger/hash.c, debugger/msc.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Allow loading of modules debug information after first invocation of
	debugger.

	* dlls/shell32/shellpath.c, dlls/shell32/shlwapi.spec:
	Jim Aston <jima@corel.ca>
	Added a few stubs.

	* include/listview.h, dlls/comctl32/listview.c:
	Ulrich Czekalla <ulrichc@corel.ca>
	Implementation of edit labels.

	* graphics/d3ddevices.c, graphics/d3dtexture.c, graphics/ddraw.c:
	Ove Kaaven <ovek@arcticnet.no>
	Fixed some anonymous union accesses.

	* controls/listbox.c: Abey George <abey@macadamian.com>
	Draw the item text from the top of the item rect.

	* dlls/comctl32/comctl32undoc.c, dlls/shell32/shlview.c:
	Pierre Mageau <pierre@macadamian.com>
	Fixed the ascending and descending sort order for the File Dialog.

	* dlls/comctl32/propsheet.c: Ulrich Czekalla <ulrichc@corel.ca>
	- adds calling application defined callback function once PropertSheet
	  Dialogbox has been initialized just after creating the tab control
	- handle the case when pszCaption specifies a resource instead of a string

	* dlls/shell32/pidl.c, dlls/shell32/pidl.h, dlls/shell32/shlfolder.c, dlls/shell32/shv_bg_cmenu.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	- removed all unnecessary "winapi" from internal _IL* functions
	- better parameter checking for shellfolder
	- removed dead code from shv_bg_contextmenu

	* graphics/ddraw.c, graphics/vga.c, include/ddraw.h:
	Jim Aston <jima@corel.ca>
	Added another anonymous union using the DUMMYUNIONNAME style.

	* dlls/comctl32/listview.c: Ulrich Czekalla <ulrichc@corel.ca>
	Properly copy text into user supplied buffer.

	* misc/winsock.c, relay32/wsock32.spec, server/object.h, server/sock.c, if1632/winsock.spec, include/task.h, include/winsock.h, loader/main.c, loader/task.c, misc/main.c:
	Ove Kaaven <ovek@arcticnet.no>
	Winsock rewrite. Sockets are now proper win32 handles.
	Internal structures are now really internal.

	* dlls/comctl32/tab.c: Ulrich Czekalla <ulrichc@corel.ca>
	Tab control doesn't refresh tab area on TCM_SETCURSEL.

	* dlls/shell32/shellord.c, dlls/shell32/shlwapi.spec:
	Ulrich Czekalla <ulrichc@corel.ca>
	Implemented StrRChrA.

	* debugger/dbg.y, debugger/debug.l, debugger/expr.c, include/debugger.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Perform proper process shutdown on 'quit' and error.

	* dlls/advapi32/security.c: Gerard Patel <g.patel@wanadoo.fr>
	Stub OpenThreadToken & OpenProcessToken for failure in Win9x mode.

	* include/winuser.h: Jim Aston <jima@corel.ca>
	Fixed a small typo.

	* windows/dialog.c: Adrian Thurston <adriant@corel.com>
	Protect against wrong return value from WM_INITDIALOG.

	* graphics/x11drv/bitmap.c: Francis Beaudet <francis@macadamian.com>
	Removed an illegal character.

	* dlls/shell32/shell32_main.c: Ian Schmidt <ischmidt@cfl.rr.com>
	Now inits the policy cache when shell32 is first instantiated.
	Matches Windoze behavior.

	* dlls/shell32/Makefile.in, dlls/shell32/shellord.c, dlls/shell32/shpolicy.c, dlls/shell32/shpolicy.h:
	Ian Schmidt <ischmidt@cfl.rr.com>
	Real implementation of SHRestricted(), clarified SHInitRestricted()'s
	role a little, added policy data table.

	* dlls/ole32/ifs.c: Marcus Meissner <marcus@jet.franken.de>
	Use segmented lpvtbl pointer for IMalloc16 interface, not linear one.

	* windows/x11drv/mouse.c: Francis Beaudet <francis@macadamian.com>
	Replaced a X call with a TSX call in XDRV_MOUSE_SetCursor().

	* dlls/comctl32/rsrc.rc: Ulrich Czekalla <ybicubuk@umail.corel.com>
	The property sheet dialog needs flag WS_VISIBLE.

	* dlls/commdlg/filedlg95.c: Pierre Mageau <pierre@macadamian.com>
	Set the default view button to List in the FileDialog.

	* loader/ne/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: don't use GetModuleHandle16 in LoadModule16/NE_CreateProcess.

	* debugger/types.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed potential crash in string variable printing.

	* dlls/comctl32/toolbar.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added WM_GETFONT support.

	* include/main.h, loader/main.c, miscemu/main.c, scheduler/process.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: don't call ExitProcess() before SYSLEVEL_Init().

	* multimedia/mmio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed some bugs (mmioOpen with 16/32 bit strangeness, mmioAscend &
	mmioDescend offset and alignment issues).

	* windows/clipboard.c: Ulrich Czekalla <ulrichc@corel.ca>
	We are supposed to delete the palette object with the DeleteObject
	function.

	* dlls/comctl32/listview.c: Noomen Hamza <noomen@macadamian.com>
	Listview items will be drawn with the right item dimensions.

	* graphics/psdrv/text.c: Luc Tourangeau <luc@macadamian.com>
	Some small corrections to the ExtTextOut function.

	* dlls/ole32/ole2.c: Francis Beaudet <francis@macadamian.com>
	Make sure that the drop effect of a DnD operation is set to
	DROPEFFECT_NONE if the user cancelled the operation.

	* dlls/comctl32/animate.c, include/animate.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	First working version.

	* multimedia/mixer.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added the mute capability to most control lines.

	* windows/win.c: Rein Klazes <rklazes@casema.net>
	Use the module handle, if CreateWindowEx is called with
	hInstance==NULL.

	* include/wine/undocshell.h: Marcus Meissner <marcus@jet.franken.de>
	Added missing prototypes for StrRetToBuf(A|W).

Wed Oct 13 16:17:23 1999  Alexandre Julliard  <julliard@winehq.com>

	* programs/clock/.cvsignore, programs/notepad/.cvsignore, programs/progman/.cvsignore:
	Added Pt.s.

	* objects/dib.c: Backed out previous change (breaks with metafiles).

	* server/Makefile.in, server/request.h, server/sock.c, server/trace.c, include/server.h, include/winsock.h:
	Ove Kaaven <ovek@arcticnet.no>
	Added socket interface to wineserver.

	* loader/loadorder.c, loader/main.c, miscemu/main.c, wine.ini:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Correct filename for kernel module is KRNL386.EXE.

	* dlls/winspool/winspool.spec, dlls/winmm/wineoss/wineoss.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added missing (and now required) filename directive.

	* tools/build.c, include/builtin32.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added filename to 32 bit builtin module descriptors.

	* if1632/builtin.c, relay32/builtin32.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fix loading of modules: now search key is module's filename, not
	module's name.

	* dlls/comctl32/propsheet.c, dlls/comctl32/tab.c:
	Pierre Mageau <pierre@macadamian.com>
	When an error occurred in a property sheet because of invalid data,
	clicking on another tab, would activate the new tab but keep the
	original property sheet.

	* dlls/comctl32/listview.c, dlls/shell32/pidl.c, dlls/shell32/pidl.h, dlls/shell32/shell32_main.c, dlls/shell32/shlview.c, dlls/shell32/shv_bg_cmenu.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	- implemented sorting the listview by clicking on the column header
	- implemented the context menu entrys for sorting
	- some more functions to gather data form pidls

	* dlls/commdlg/cdlg.h, dlls/commdlg/cdlg32.c, dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Removed linking by GetProcAddress for StrRetToBuf sinc not all
	versions of shlwapi exporting this function.

	* loader/module.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Removes extraneous comparison of data pointed to by the relocation
	offset when no relocation entries exist.

	* if1632/wprocs.spec, loader/ne/module.c:
	Marcus Meissner <Marcus.Meissner@lst.de>
	WPROCS.ENTRYADDRPROC needs to return something in CX too (fixes
	BLINKER selfextracting executables).

	* windows/dialog.c: Abey George <abey@macadamian.com>
	Changed EndDialog to behave like as in Windows.
	Call SetWindowPos instead of ShowWindow in EndDialog.

	* windows/winpos.c: Abey George <abey@macadamian.com>
	Changed WINPOS_CanActivate to not to consider WS_VISIBLE style.
	Code for activating and setting focus to other windows when a window
	is hidden, is moved to ShowWindow from SetWindowPos.
	Activate the top level window if it's not active in ShowWindow(SW_SHOW).

	* graphics/x11drv/dib.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed X11DRV_DIB_SetImageBits when called for RLE encoded dibs.

	* objects/dib.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Optimized StretchDIBits to call SetDIBitsToDevice (when src & dst
	dimensions are equal).

	* programs/notepad/Makefile.in, programs/notepad/Pt.rc, programs/progman/Makefile.in, programs/progman/Pt.rc, programs/clock/Makefile.in, programs/clock/Pt.rc:
	Gustavo Junior Alves <alves@correionet.com.br>
	Added Portuguese language support.

	* dlls/avifil32/avifile.c, dlls/dplayx/dplay.c, dlls/dplayx/dplobby.c, dlls/oleaut32/typelib.c, dlls/shell32/brsfolder.c, dlls/shell32/shellord.c:
	Francois Gouget <fgouget@psn.net>
	Use the COM macros rather than directly accessing the lpvtbl field.

	* include/wine/winuser16.h, misc/lstr.c, if1632/user.spec:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Use LoadString16 for FormatMessage16 and handle
	FORMAT_MESSAGE_ALLOCATE_BUFFER flag.

	* graphics/psdrv/text.c: Luc Tourangeau <luc@macadamian.com>
	Some adjustments to ExtTextOut.

	* include/psdrv.h, graphics/psdrv/clipping.c, graphics/psdrv/init.c, graphics/psdrv/ps.c:
	Stephane Lussier <stephane@macadamian.com>
	Fixed the clipping for the postscript driver and turned it on (by setting
	PSDRV_SetDeviceClipping in the function table).

	* files/drive.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Account for the trailing NULL in GetLogicalDriveStringsA.

	* include/wine/obj_oleaut.h: Francois Gouget <fgouget@psn.net>
	Fixed a typo in a function declaration.

	* windows/x11drv/keyboard.c: Zoltan Kovacs <oritele@alarmix.net>
	Added Hungarian keyboard support.

	* windows/mdi.c, windows/winpos.c: Thuy Nguyen <thuy@macadamian.com>
	We have to activate MDI child windows.

	* dlls/commdlg/filedlg.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Use Get|SetPropA to store lParam to retrieve the OPENFILENAME16 for a
	hWnd.

	* graphics/x11drv/graphics.c: Rein Klazes <rklazes@casema.net>
	Correct usage of a scratch array in X11DRV_PolyBezier.

	* controls/combo.c: Gerard Patel <g.patel@wanadoo.fr>
	Make WM_GETTEXTLENGTH return length for dropdownlist combos.

	* controls/button.c: Francois Boisvert <francois@macadamian.com>
	Removed FillRect in the ownerdrawn button procedure.

	* windows/x11drv/event.c: Abey George <abey@macadamian.com>
	Make sure the Focus Out window is still the Foreground window before
	doing SetForegroundWindow(0) in Event_FocusOut.

	* graphics/x11drv/palette.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Fixes problems with color drift when switching to/from
	logical/physical colors.

	* dlls/comctl32/header.c: Thuy Nguyen <thuy@macadamian.com>
	Mouse position is signed.

	* windows/syscolor.c: Noomen Hamza <noomen@macadamian.com>
	Set the COLOR_3DLIGHT system color to the right window default value.

	* loader/pe_image.c: Marcus Meissner <Marcus.Meissner@caldera.de>
	Small hack to check if we need to relocate the TLS directory or not
	(some seem to need this pointer relocateable, some already do relocate
	it by themselves).

	* Make.rules.in: Marcus Meissner <Marcus.Meissner@caldera.de>
	Relink subdirectory objects on Makefile.in/Make.rules.in change.

	* dlls/comctl32/propsheet.c: Marcus Meissner <Marcus.Meissner@lst.de>
	Check for NULL ptr in Propsheet_RemovePage (Xing DVD Player).

	* multimedia/dsound.c: Marcus Meissner <Marcus.Meissner@lst.de>
	Don't ref NULL ptrs in debug.

	* windows/dinput.c: Marcus Meissner <Marcus.Meissner@lst.de>
	If the joydevice is not present, do not create a DirectInputDevice.

	* dlls/commdlg/commdlg.spec, dlls/commdlg/printdlg.c, include/commdlg.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Map PrintDlg16 to PrintDlgA.

	* dlls/shell32/shlmenu.c: Juergen Schmied <juergen.schmied@metronet.de>
	Small fixes.

	* controls/menu.c: Juergen Schmied <juergen.schmied@metronet.de>
	Made TrackPopupMenu with TPM_RETURNCMD returning the id instead of
	true.

	* dlls/comctl32/treeview.c: Ulrich Czekalla <ulrichc@corel.ca>
	Prevent self referencing next pointer during insert.

	* ole/nls/fra.nls: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added some missing definitions.

	* multimedia/winmm.rc, multimedia/winmm_Nl.rc:
	Klaas van Gend <klaas@vangend.demon.nl>
	Added Dutch to the languages supported by MCI.

	* documentation/status/internationalisation:
	Klaas van Gend <klaas@vangend.demon.nl>
	Updated status of internationalisation.

	* loader/pe_image.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: *Don't* resolve PE imports if asked not to ...

	* misc/ddeml.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: DdeNameService was broken.

	* loader/ne/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: When loading an executable module fails, don't perform module
	cleanup before the corresponding task is destroyed.

	* dlls/commdlg/cdlg_En.rc, dlls/commdlg/cdlg_xx.rc:
	Klaas van Gend <klaas@vangend.demon.nl>
	Moved bitmap resource to language-independent resource file.

	* misc/version.c: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Added warning for future VERSION_GetVersion() (mis-)users and made
	OSVERSIONINFO warning more detailed.

	* dlls/oleaut32/oleaut.c, dlls/oleaut32/oleaut32.spec:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Added stubs for RevokeActiveObject, GetActiveObject, fixed
	RegisterActiveObject stub argtypes.

	* windows/x11drv/keyboard.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Added german keyboard layout with "nodeadkeys" option enabled (just to
	apostrophes are switched).

	* dlls/msvideo/msvideo.spec, dlls/msvideo/msvideo_main.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Stub for VideoCapDriverDescAndVer.

	* msdos/int21.c: Marcus Meissner <Marcus.Meissner@caldera.de>
	Replicate CreateDirectory() LastError workaround for the LFN part.

	* misc/registry.c: Marcus Meissner <Marcus.Meissner@caldera.de>
	Also escape characters >=0x80 within the wineregistry savefile.

	* dlls/wnaspi32/winaspi32.c:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Don't use malloc/free in winaspi32.

	* graphics/ddraw.c: Marcus Meissner <Marcus.Meissner@caldera.de>
	Use 1 macro for rgbbitdepth -> byte determination.
	xshm/image creation now uses 1/8 of the space for every image.

	* relay32/user32.spec: Marcus Meissner <Marcus.Meissner@caldera.de>
	Replaced double ChangeDisplaySettingsA by (Ex)[AW].

Wed Sep 29 12:16:16 1999  Alexandre Julliard  <julliard@winehq.com>

	* if1632/builtin.c, loader/module.c, loader/ne/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Don't call GetVersionExA too early, to avoid breaking
	automatic emulated Windows version detection.

	* dlls/oleaut32/typelib.c, include/oleauto.h, dlls/oleaut32/oleaut32.spec:
	Rein Klazes <rklazes@casema.net>
	First implementation of LoadTypeLibEx().

	* if1632/mmsystem.spec, multimedia/mmsystem.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added stub for WMMMIDIRUNONCE called by midimap.drv.

	* misc/winsock.c: Marcus Meissner <marcus@jet.franken.de>
	Set refcounter to 1 on initial init or WSAStartup/WSAStartup with
	following WSACleanup will already free the structures.

	* multimedia/dsound.c: Marcus Meissner <marcus@jet.franken.de>
	Create DirectSound object even without sounddevice. Games can be
	played without sound, but not without DirectSound object (tested with
	Monkey Island 3).

	* dlls/oledlg/oledlg.spec, include/ntddk.h, relay32/kernel32.spec, relay32/user32.spec, tools/build.c, dlls/crtdll/crtdll.spec, dlls/ntdll/ntdll.spec, dlls/ntdll/rtl.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some of the issues reported by winapi-check, by adding arguments
	to varargs.

	* Make.rules.in, Makefile.in: Patrik Stridvall <ps@leissner.se>
	Added ability to call winapi_check from the Makefiles.

	* msdos/dpmi.c: Patrik Stridvall <ps@leissner.se>
	Modification due to problems with winapi-check.

	* tools/winapi_check/parser.pm, tools/winapi_check/win16api.dat, tools/winapi_check/win32api.dat, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_options.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	- Adapted to changes in Wine.
	- Minor improvements.

Tue Sep 28 16:40:07 1999  Alexandre Julliard  <julliard@winehq.com>

	* server/event.c, server/object.h:
	Made event manipulation routines public.

	* dlls/Makefile.in, dlls/dplayx/.cvsignore, dlls/dplayx/Makefile.in, dlls/dplayx/dpclassfactory.c, dlls/dplayx/dpinit.h, dlls/dplayx/dplay.c, dlls/dplayx/dplay.spec, dlls/dplayx/dplayx.spec, dlls/dplayx/dplobby.c, documentation/status/directplay, include/dplay.h, include/dplobby.h, multimedia/Makefile.in, multimedia/dplay.c, relay32/.cvsignore, relay32/dplay.spec, relay32/dplayx.spec, relay32/Makefile.in, Makefile.in, configure, configure.in:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Moved dplay and dplayx to a proper home in the dlls directory.
	- Implemented new DirectPlay4 and DirectPlayLobby3 interfaces.
	- Implemented a class factory for dplay and dplobby. COM interfaces
	  now work for dp and dpl.
	- Added a few more entries to dplayx.spec files. How do you find the
	  ordinals? I just guessed :(
	- Seperated DirectPlay and DirectPlayLobby implementation into separate files.
	- Included some missing header file definitions.
	- Implemented the dplay dll in terms of the dplayx dll. I haven't
	  tested it so it may not work...
	- A few bug fixes and a little new implementatioe.n
	- Updated document with a more detailed implementation plan.

	* windows/win.c: Noomen Hamza <noomen@macadamian.com>
	Rewrite the ShowOwnedPopups function with a safety algorithm.

	* controls/menu.c: Karl Lessard <ybicubuk@umail.corel.com>
	Make ExecFocusedItem return -1 on failure.

	* graphics/ddraw.c, multimedia/dsound.c:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	- Changed return code for failure on *_DllGetClassObject to
	  CLASS_E_CLASSNOTAVAILABLE from E_NOTAVAILABLE as documented.
	- Replaced memcmps with equivalent IsEqualCLSID or IsEqualGUID macros.
	- Changed "return 0;" with S_OK or DS_OK as appropriate.

	* dlls/ntdll/signal_i386.c:
	Support TRAP_sig for FreeBSD (with the help of Juergen Lock).

	* loader/module.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Remember the allocated string to free it.

	* controls/menu.c: Gerard Patel <g.patel@wanadoo.fr>
	Force recalculation of menu when calling InsertMenuItem.

	* dlls/shell32/shell32.spec, dlls/shell32/shellord.c:
	Ian Schmidt <ischmidt@cfl.rr.com>
	Implementation of 2 Win98 by-ordinal SHELL32 routines.  Helps Win98
	Explorer work better.

	* multimedia/mci.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed typo in hDrv for sending message.

Mon Sep 27 13:38:57 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/mmddk.h, multimedia/mci.c, multimedia/mcianim.c, multimedia/mciavi.c, multimedia/mcicda.c, multimedia/mcimidi.c, multimedia/mciwave.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed last dependancies between MCI drivers and WINMM/MMSYSTEM
	DLLs.

	* multimedia/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Got rid of hack on WAVEHDR's & MIDIHDR's reserved field for 16/32 bit
	discrimination.
	Fixed a few segptr/linear address bugs in WAVEHDR/MIDIHDR handling.

	* multimedia/mixer.c, multimedia/mmaux.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Check for OSS driver presence and return error accordingly.

	* multimedia/midi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Got rid of hack on MIDHDR's reserved field for 16/32 bit
	discrimination.

	* multimedia/lolvldrv.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed crash with mapper loading.
	Got rid of hack on WAVEHDR's reserved field for 16/32 bit
	discrimination.

	* multimedia/audio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Got rid of hack on WAVEHDR's reserved field for 16/32 bit
	discrimination.

	* documentation/wine.texinfo: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Typo correction.

	* loader/libres.c: Ulrich Czekalla <ulrichc@corel.ca>
	Fix integer based resource id assumption.
	Add support for string based type ids.

	* include/winsock2.h: Ove Kaaven <ovek@arcticnet.no>
	Added some basic Winsock2 definitions.

	* server/object.h, server/select.c: Ove Kaaven <ovek@arcticnet.no>
	Added EXCEPT_EVENT to wineserver select loop.

	* files/dos_fs.c: Peter Ganten <ganten@uni-bremen.de>
	Fix for VFAT_IOCTL_READDIR_BOTH.

	* dlls/wing/wing_main.c: Peter Ganten <ganten@uni-bremen.de>
	Small wing enhancement.

	* controls/edit.c: Stephane Lussier <stephane@macadamian.com>
	Return key should not be ignored in multiline edit even if
	ES_WANTRETURN flag isn't set.

	* include/gdi.h, objects/gdiobj.c:
	Francis Beaudet <francis@macadamian.com>
	DPtoLP needs to round the result.
	Fixed MulDiv to deal better with negative numbers.

	* windows/painting.c: Francis Beaudet <francis@macadamian.com>
	rcPaint has to be returned in logical coordinates but was intersected
	with a client rectangle in device coordinates.

	* objects/region.c: Richard Cohen <richard@jubjub.demon.co.uk>
	Fixed GetRandomRgn.

	* files/drive.c: Abey George <abey@macadamian.com>
	Made GetCurrentDirectory return long name of the current directory.

	* include/button.h, controls/button.c: Rein Klazes <rklazes@casema.net>
	Use an extra bit in the button status byte to flag whether the
	DefButtonWndProc should process the WM_LBUTTONUP message.

	* scheduler/process.c, scheduler/sysdeps.c, dlls/ntdll/Makefile.in, dlls/ntdll/exception.c, dlls/ntdll/signal_i386.c, graphics/ddraw.c, include/sig_context.h, include/debugger.h, include/dosexe.h, include/miscemu.h, include/wine/exception.h, loader/signal.c, loader/Makefile.in, loader/main.c:
	Moved all signal support to a new platform-specific file.
	Make use of the per-thread signal stack (Juergen Lock).
	Fixed %fs in signal handler for non FS_sig case (Ulrich Weigand).

----------------------------------------------------------------
Thu Sep 23 16:14:44 1999  Alexandre Julliard  <julliard@winehq.com>

	* Makefile.in, windows/x11drv/.cvsignore, windows/x11drv/Makefile.in, windows/x11drv/wineclipsrv.c:
	Noel Borthwick <noel@macadamian.com>
	Added clipboard server.

	* tools/Attic/winapi-check, tools/winapi_check/nativeapi.dat, tools/winapi_check/nativeapi.pm, tools/winapi_check/parser.pm, tools/winapi_check/win16api.dat, tools/winapi_check/win32api.dat, tools/winapi_check/winapi.pm, tools/winapi_check/winapi_check, tools/winapi_check/winapi_global.pm, tools/winapi_check/winapi_local.pm, tools/winapi_check/winapi_options.pm, tools/winapi_check/winapi_parser.pm:
	Patrik Stridvall <ps@leissner.se>
	Made a new improved version of winapi-check in perl.

	* msdos/int21.c:
	Implemented uppercasing functions (based on a patch by Robert
	'Admiral' Coeyman).

	* windows/user.c, dlls/ole32/ole2stubs.c, dlls/ole32/storage.c, dlls/oleaut32/typelib.c, dlls/stress/stress_main.c, if1632/dummy.c, include/stress.h, include/wine/wingdi16.h, misc/printdrv.c, windows/input.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some of the issues reported by winapi-check.

	* misc/comm.c: Patrik Stridvall <ps@leissner.se>
	Modification due to problems with winapi-check.

	* windows/x11drv/event.c: Noomen Hamza <noomen@macadamian.com>
	WS_POPUP windows (excluding the WS_POPUPWINDOW windows) should be
	closed after loosing the focus.

	* objects/dib.c: Francois Boisvert <francois@macadamian.com>
	CreateDIBitmap creates a monochrome bitmap only when the first color of the
	colormap is black followed by white. Otherwise it creates a color bitmap.

	* windows/defwnd.c, windows/nonclient.c:
	Noomen Hamza <noomen@macadamian.com>
	Non active window should be activated when it gets any
	client/non-client double/single left/medium/right mouse click(s).

Wed Sep 22 16:53:54 1999  Alexandre Julliard  <julliard@winehq.com>

	* relay32/builtin32.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added WINEOSS descriptor.

	* multimedia/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	MMSYSTEM_GetIData() now dies when no iData is present
	Better error recovery when the process attachment fails
	PlaySound (and helper functions) now use the regular waveOutXXX (instead of wodMessage)
	Moved handling of hack for differenciating between 16 and 32 bit callback to lolvldrv.c
	Makes use of new lolvldrv.c interfaces

	* multimedia/.cvsignore, multimedia/Makefile.in, multimedia/lolvldrv.c, multimedia/oss.c, multimedia/oss.h, multimedia/winemm.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added lolvldrv.c and oss.c.
	Thunks to 16 bit are now generated for the MMSYSTEM module.

	* configure.in, dlls/winmm/.cvsignore, dlls/winmm/Makefile.in, dlls/winmm/wineoss/.cvsignore, dlls/winmm/wineoss/Makefile.in, dlls/winmm/wineoss/wineoss.spec, Makefile.in, configure:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added dlls/winmm and dlls/winmm/wineoss directories.

	* multimedia/time.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	No longer checking for correct iData in code.

	* relay32/winmm.spec: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added missing DriverCallBack function.

	* if1632/mmsystem.spec: Eric Pouech <Eric.Pouech@wanadoo.fr>
	All headers (wave and midi functions) are now seen as segptr.
	Added stub for joyGetPosEx16().

	* include/mmsystem.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added some missing defines.

	* include/mmddk.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Now using the same structs for low-level drivers as Windows do.

	* multimedia/audio.c, multimedia/mixer.c, multimedia/mmaux.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Make it (almost) 32 bit only.
	Reflected creation of WINEOSS module.

	* multimedia/midi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Make it (almost) 32 bit only.
	Reflected creation of WINEOSS module.
	No longer using ERR when no MIDI card is present.

	* multimedia/joystick.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added stub for joyGetPosEx16().

	* multimedia/mci.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	No longer checking for correct iData in code.
	Added look-up tables to command tables (speeds up queries).

	* multimedia/mciwave.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Now using WAVEFORMATEX instead of PCMWAVEFORMAT.

	* multimedia/mcimidi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Now using modReset() instead of tweaking MIDI controls.

	* multimedia/mcicda.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed returned type upon open.
	Fixed some bogus error checking.

	* multimedia/mcianim.c, multimedia/mciavi.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed returned type upon open.

	* dlls/ntdll/exception.c: Juergen Schmied <juergen.schmied@metronet.de>
	Do not set EH_NONCONTINUABLE.

	* programs/osversioncheck/.cvsignore, programs/osversioncheck/ChangeLog, programs/osversioncheck/Makefile.in, programs/osversioncheck/osversioncheck.c, configure, configure.in, programs/Makefile.in:
	Morten Eriksen <mortene@sim.no>
	Added simple console mode example program which lists information
	about the version of Windows we're currently running on.

	* loader/module.c: Fixed memory allocation bug.

	* windows/x11drv/event.c: Gerard Patel <g.patel@wanadoo.fr>
	Fix infinite loop with glastXFocusWindow.

	* dlls/comctl32/imagelist.c: Stephane Lussier <stephane@macadamian.com>
	Allow creation of empty imagelist.

	* objects/palette.c, relay32/gdi32.spec:
	Ian Schmidt <ischmidt@cfl.rr.com>
	Added partial implementation of GetICMProfileA, required by Paint Shop
	Pro 5.

	* controls/menu.c: Abey George <abey@macadamian.com>
	Don't send WM_ENTERMENULOOP, WM_INITMENU & WM_INITMENUPOPUP messages
	when TPM_NONOTIFY flag is set in TrackPopupMenu.

	* misc/winsock.c: David Luyer <luyer@ucs.uwa.edu.au>
	getpeername() and getsockname() return errors in errno not h_errno.

Mon Sep 20 18:52:06 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/filedlgbrowser.c, dlls/commdlg/printdlg.c, include/builtin16.h, misc/registry.c, objects/cursoricon.c, tools/build.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed ANSI C violations.

	* windows/keyboard.c, windows/mouse.c, if1632/keyboard.spec, if1632/mouse.spec, windows/input.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Keyboard/mouse event proc thunk creation moved out of if1632/thunk.c.

	* if1632/kernel.spec, include/task.h, loader/.cvsignore, loader/Makefile.in, loader/ne/module.c, loader/ne/segment.c, loader/task.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Don't create thunk for task signal proc, call it directly.

	* if1632/gdi.spec, include/gdi.h, objects/.cvsignore, objects/Makefile.in, objects/clipping.c, objects/dc.c, windows/dce.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	DC hook proc thunk management simplified.

	* misc/system.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	System timer proc thunk creation moved out of if1632/thunk.c.

	* scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Don't create thunk for CreateThread16 proc, call it directly.

	* windows/.cvsignore, windows/Makefile.in, windows/hook.c, dlls/shell32/shell.c, if1632/user.spec, include/hook.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Windows hook proc thunk management simplified.

	* include/callback.h, if1632/thunk.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Modified THUNK_Alloc so as to avoid 32->16->32 calling sequences.
	Removed persistent thunk creation routines.

	* configure, configure.in, include/acconfig.h, include/config.h.in, include/ts_xf86dga2.h, tools/make_X11wrappers, tsx11/Makefile.in, tsx11/X11_calls, tsx11/ts_xf86dga2.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Added the possibility to use DGA 2.0.

	* winedefault.reg: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added HKEY_LOCAL_MACHINE\...\ProgramFilesDir registry key.

	* dlls/comctl32/commctrl.c: Dennis Borklund <dennisb@cs.chalmers.se>
	It's no error to send a WM_COMMAND to MenuHelp.

	* files/file.c: Francois Boisvert<francois@macadamian.com>
	CreateFileA returns HFILE_ERROR when the filename contains a wild card.

	* controls/static.c: Francis Beaudet <francis@macadamian.com>
	Fixed display bug in the static control.

	* controls/menu.c: Pascal Lessard <pascal@macadamian.com>
	Message removed when menu tracking finish on a WM_LBUTTONDOWN.

	* include/bitmap.h, include/ts_xlib.h, include/x11drv.h, objects/dib.c, tsx11/X11_calls, tsx11/ts_xlib.c, windows/clipboard.c, windows/x11drv/clipboard.c, windows/x11drv/event.c, graphics/x11drv/bitmap.c, graphics/x11drv/dib.c:
	Noel Borthwick <noel@macadamian.com>
	- Add clipboard support for copying/pasting bitmaps or Pixmaps between Wine
	  and native Linux applications.
	- Respond to the MULTIPLE selection request target when Wine is the
	  selection owner.
	- Relax type checking for TARGETS selection.

	* if1632/builtin.c, loader/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Set 'expected_version' of built-in and dummy modules according to
	emulated Windows version.

	* if1632/relay.c, loader/main.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Make CallTo16 return stub segment owned by KERNEL.

	* include/wine/winbase16.h, loader/task.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Improved GetCodeHandle16 / GetCodeInfo16.

	* ole/nls/sve.nls: Dennis Bjorklund <dennisb@cs.chalmers.se>
	Added some values that were missing in the Swedish nls file.

Sun Sep 19 18:58:16 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/dib.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: create DDB in X11DRV_DIB_GetDIBits if necessary.

	* dlls/ole32/ole32.spec: Juergen Schmied <juergen.schmied@metronet.de>
	Added missing export.

	* objects/cursoricon.c: Juergen Schmied <juergen.schmied@metronet.de>
	Fixed crash when loading *.ani files.

	* ole/*, dlls/ole32/*, dlls/oleaut32/*, dlls/olecli/*, dlls/oledlg/*:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Moved bulk of OLE implementation to dlls/ subdirectories.

	* controls/menu.c: Dennis Björklund <dennisb@cs.chalmers.se>
	Send correct WM_MENUSELECT when menu closes.

	* dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/shell32/shres.rc:
	Francois Boisvert <francois@macadamian.com>
	Added small feature in the file dialog.

	* win32/newfns.c, files/drive.c, include/winnt.h, include/wtypes.h, msdos/vxd.c, ole/antimoniker.c, ole/compositemoniker.c, ole/datacache.c, ole/filemoniker.c, ole/hglobalstream.c, ole/itemmoniker.c, ole/memlockbytes.c, ole/olefont.c, ole/stg_bigblockfile.c, ole/stg_stream.c, ole/storage.c, ole/storage32.c, ole/variant.c, dlls/advapi32/service.c, dlls/comctl32/comctl32undoc.c:
	Patrik Stridvall <ps@leissner.se>
	Added support for anonymous structs/unions on compilers that implement it.

	* include/wingdi.h, objects/text.c, relay32/gdi32.spec:
	Peter Ganten <ganten@uni-bremen.de>
	Stubs for PolyTextOutA/W.

	* graphics/x11drv/dib.c, objects/dib.c:
	Karl Lessard <ybicubuk@umail.corel.com>
	Some more minor GDI fixes.

	* dlls/comctl32/imagelist.c: Stephane Lussier <stephane@macadamian.com>
	In ImageList_Draw when drawing the bitmap with the transparent flag
	set, background color/foreground color should be set to white/black,
	when doing bitblt operation with the bitmap mask.

	* graphics/escape.c, graphics/win16drv/init.c, include/win16drv.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Extend DRAWMODE struct to win95 spec.
	Add some more Escape -> Escape16 conversions.

	* graphics/win16drv/prtdrv.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Stop trashing devmode if in and out devmodes are the same.

	* controls/widgets.c: Noomen Hamza <noomen@macadamian.com>
	The MDIClient class must be registered with the IDC_ARROW cursor.

	* controls/combo.c: Francis Beaudet <francis@macadamian.com>
	Implemented the disabled state of the combobox.

	* controls/menu.c: Richard Cohen <richard@jubjub.demon.co.uk>
	Protect SetMenu from rogue menu handle.
	GetMenu16 can just call GetMenu.

	* windows/mdi.c: Richard Cohen <richard@jubjub.demon.co.uk>
	Protect MDISetMenu from rogue menu handles.

	* memory/local.c: Richard Cohen <richard@jubjub.demon.co.uk>
	Tidy up TRACE etc to use default channel.

	* dlls/version/info.c, dlls/version/version.spec, include/winbase.h, include/winver.h, ole/ole2nls.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Move VerLanguageName[AW] back to base (exported from KERNEL32 ...).

	* dlls/comctl32/rsrc.rc, dlls/comctl32/comctl32.h, dlls/comctl32/propsheet.c:
	Thuy Nguyen <thuy@macadamian.com>
	Added support for wizard property sheets.

	* misc/lstr.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix FormatMessage16 at least enough to get win95 16bit printdlg working.

	* dlls/comctl32/tab.c: David Luyer <luyer@ucs.uwa.edu.au>
	- iSelected should be -1 if no item selected (Gerard Patel)
	- some of the checks for invalid items where > when they should have been >=
	  (Marcus Meissner)
	- made InsertItem behave similarly to DeleteItem, ie, if the current item is
	  after where the item is inserted, increment the selected item (David Luyer)

	* if1632/thunk.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Declare CALL32_CBClient[Ex] without WINAPI.

	* debugger/db_disasm.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: (E)IP-relative offsets depend on operand, not address, size.

	* include/winuser.h, relay32/user32.spec, windows/user.c, include/wingdi.h:
	Marcus Meissner <marcus@jet.franken.de>
	Added stub implementation for EnumDisplayDevices*.

	* dlls/wnaspi32/winaspi32.c: Marcus Meissner <marcus@jet.franken.de>
	Added SC_GET_DEVTYPE.

	* ole/compobj.c: Juergen Schmied <juergen.schmied@metronet.de>
	Added stub for OLE32.DllGetClassObject.

	* dlls/shell32/pidl.h, dlls/shell32/shell32_main.c, include/shlguid.h, dlls/shell32/pidl.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	More support for special pidls in SHGetSpecialFolderLocation.

	* graphics/psdrv/graphics.c, graphics/psdrv/pen.c, include/psdrv.h:
	Luc Tourangeau <luc@macadamian.com>
	Implemented invisible pens.

	* objects/dib.c, graphics/x11drv/dib.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Small DIB fixes.

	* controls/menu.c: Pascal Lessard <pascal@macadamian.com>
	Added a case for menu handling in win31.

Tue Sep 14 11:51:02 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/x11drv.h, objects/dib.c, graphics/x11drv/dib.c:
	Karl Lessard <karll@corel.com>
	Fixed GetDIBits problems.

	* misc/cpu.c, multimedia/mixer.c, include/commctrl.h, include/mmsystem.h, include/ntddk.h, include/prsht.h, include/shlobj.h, include/winbase.h, include/windef.h, include/wine/obj_dataobject.h, include/wine/obj_oleaut.h:
	Patrik Stridvall <ps@leissner.se>
	Add support for anonymous struct/unions on compilers that implement it.

Mon Sep 13 16:06:17 1999  Alexandre Julliard  <julliard@winehq.com>

	* controls/button.c, controls/uitools.c:
	Dennis Bj|rklund <dennisb@cs.chalmers.se>
	Fixed win9x look on checkboxes and radiobuttons.

	* graphics/win16drv/.cvsignore, graphics/win16drv/Makefile.in, graphics/win16drv/init.c, graphics/win16drv/prtdrv.c, if1632/thunk.c, include/callback.h, include/gdi.h, misc/.cvsignore, misc/Makefile.in, misc/printdrv.c, objects/dc.c, graphics/escape.c, graphics/psdrv/escape.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Change interfaces to THUNK_Alloc/Free slightly and make them non-static.
	Remove relays for win16drv from CallBack table, instead use build to
	generate them directly in graphics/win16drv/prtdrv.c.
	If Printer AbortProc is 16bit then allocate thunk and store that as a
	32bit proc in DC.  Setting of abortprocs now done in the correct place
	(i.e. not in the driver).

	* objects/dib.c: Kai Morich <kai.morich@bigfoot.de>
	Relaxed parameter checking for GetDIBits.

	* win32/device.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed last error code when trying to load unknown VxD with CreateFile.

	* dlls/shell32/shell32_main.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Pretend successful execution of SHELL_NotifyIcon*().

	* controls/menu.c, relay32/user32.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added MenuItemFromPoint stub.

	* dlls/comctl32/comctl32undoc.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed off by one allocation error (DPA and DSA).

	* multimedia/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed crash in PlaySound thread.

Sat Sep 11 16:29:00 1999  Alexandre Julliard  <julliard@winehq.com>

	* controls/listbox.c: Nick Holloway <Nick.Holloway@alfie.demon.co.uk>
	For Win 3.x applications, if they have either horizontal or vertical
	scrollbars, enable both.

	* dlls/advapi32/crypt.c, dlls/msacm32/internal.c, dlls/shell32/pidl.c, include/wine/winestring.h, memory/string.c:
	Patrik Stridvall <ps@leissner.se>
	Eliminated warnings.

	* controls/combo.c, controls/listbox.c:
	Pierre Mageau <pierre@macadamian.com>
	Set the mouse capture on the combo listbox.

	* graphics/ddraw.c: Lionel Ulmer <lionel.ulmer@free.fr>
	- fixed the creation of back-buffers in DGA mode
	- added a check on the validity of the Locking rectangle
	- fixed the enumeration for DX-6.0

	* dlls/comctl32/commctrl.c: Stephane Lussier <stephane@macadamian.com>
	Fixed RGBQUAD/COLORREF mixup in CreateMappedBitmap().

	* controls/button.c: Abey George <abey@macadamian.com>
	Draw the focus rectangle for buttons with BS_3STATE, BS_RADIOBUTTON,
	BS_CHECKBOX, BS_AUTO* styles.

Fri Sep 10 14:38:20 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/psdrv/driver.c, graphics/win16drv/init.c, graphics/win16drv/prtdrv.c, if1632/thunk.c, include/callback.h, include/gdi.h, include/psdrv.h, include/win16drv.h, graphics/driver.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Winspool DocumentProperties and DeviceCapabilities should now work on
	native 16 bit drivers.

	* dlls/winspool/info.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fixes DeviceCapabilities for DC_PAPERSIZE.
	Various fixes for OpenPrinter and EnumPrinters.
	Separation of GetPrinter in preparation for unification with EnumPrinters.

	* graphics/psdrv/ppd.c, include/wingdi.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Add support for a large number of different paper sizes to PostScript
	driver.

	* include/d3d.h: Lionel Ulmer <lionel.ulmer@free.fr>
	Added definitions of COM objects for D3D 6.x support.

	* graphics/psdrv/font.c: Nick Holloway <alfie@alfie.demon.co.uk>
	If there is not an exact match found for the requested font name,
	instead of using the first font defined for the printer, map some
	common font families (e.g. Arial -> Helvetica), and search again.

	* if1632/kernel.spec, if1632/thunk.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed bug in CBClient routines by storing the SEGPTR in the global
	table and translating it on every use.

	* include/bitmaps/oic_sample: Abey George <abey@macadamian.com>
	Changed the pixmap to look like the windows default application icon.

	* files/drive.c: Richard Cohen <richard@jubjub.demon.co.uk>
	Stop crash in GetDiskFreeSpaceEx.

	* windows/nonclient.c: Francis Beaudet <francis@macadamian.com>
	Made sure that the windows with the WS_EX_TOOLWINDOW style didn't get
	handled by the window manager.

	* controls/edit.c: Pascal Lessard <pascal@macadamian.com>
	Implemented the behavior around the ES_WANTRETURN style in the edit
	control.

	* windows/x11drv/keyboard.c: Stephane Lussier <stephane@macadamian.com>
	Pressing the delete key using an extended keyboard with numlock on is
	not generating anymore a WM_CHAR message.

	* dlls/shell32/shellpath.c: Niclas Karlsson <nkarlsso@ra.abo.fi>
	Fixed pattern matching in PathMatchSpecA/W

	* dlls/shell32/shlview.c: Francois Boisvert <francois@macadamian.com>
	Tabbing in the listview of the shellview.

	* dlls/comctl32/listview.c: Luc Tourangeau <luc@macadamian.com>
	Fixed LISTVIEW_GetItemRect: the calculations were off for LVIR_BOUNDS,
	LVIR_SELCTBOUNDS, LVIR_LABEL when the item width is greater than the
	column width.
	Fixed WM_GETDLGCODE by removing the DLGC_WANTRTAB and adding DLGC_WANTCHARS.

	* dlls/shell32/shell32_main.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixed crash in detach sequence.

	* dlls/shell32/shlfolder.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixed wrong return value.

	* dlls/crtdll/crtdll_main.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Prevent endless loop in except2.

	* tools/bug_report.pl: Adam Sacarny <magicbox@bestweb.net>
	Now works around wine never exiting the debugger.
	Should put bug reports in the right place now.

	* ole/oleaut32.c, ole/Makefile.in, relay32/oleaut32.spec:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Added stub for RegisterActiveObject().

	* dlls/win32s/w32sys.c, dlls/win32s/w32sys.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Added stub for WIN32S16.EXP1 (most likely LoadPeResource16).

Sun Sep  5 16:48:17 1999  Alexandre Julliard  <julliard@winehq.com>

	* loader/main.c, loader/module.c, miscemu/main.c, include/windef.h:
	Removed __winelib flag.

	* windows/driver.c, multimedia/audio.c, multimedia/dsound.c, multimedia/mci.c, multimedia/mcianim.c, multimedia/mciavi.c, multimedia/mcicda.c, multimedia/midi.c, multimedia/mixer.c, multimedia/mmaux.c, multimedia/mmsystem.c, multimedia/time.c, multimedia/winmm.rc:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Updated to new MM header organization.

	* include/multimedia.h, include/mmddk.h, include/mmsystem.h, multimedia/oss.h, multimedia/winemm.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Moved DDK level material to new include/mmddk.h file.
	Copied some SDK level material from include/multimedia.h file.

	* multimedia/mciwave.c, multimedia/mcimidi.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Updated to new MM header organization.
	Cleaned-up internal structures (now 32 bit only).
	Now using the MMSYSTEM entry points rather than the low level driver
	ones directly.

	* include/sig_context.h: Juergen Lock <nox@jelal.kn-bremen.de>
	Fix %fs for signal handlers in the FS_sig undefined case (this patch
	actually from Ulrich Weigand, I only tested it).

	* scheduler/sysdeps.c, configure, configure.in, include/acconfig.h, include/config.h.in:
	Ron Record <rr@sco.com>
	Added support of __thr_errno for reentrance on UnixWare.

	* windows/dialog.c: Richard Cohen <richard@jubjub.demon.co.uk>
	No longer needs to calculate its own character size.

	* misc/main.c: Richard Cohen <richard@jubjub.demon.co.uk>
	Consequential changes to default system font sizes

	* graphics/x11drv/xfont.c, include/x11font.h:
	Richard Cohen <richard@jubjub.demon.co.uk>
	Various fixes for the X11 font mapper, particularly:
	- size fonts with negative heights correctly
	- calculate average width correctly.

	* objects/cursoricon.c: Francis Beaudet <francis@macadamian.com>
	Use a special value in the hotspot coordinate to identify which HICON
	are cursors and which are icons.

	* controls/combo.c: Pierre Mageau <pierre@macadamian.com>
	Modified CBDropDown to find the best height of the listbox.

Sat Sep  4 14:36:03 1999  Alexandre Julliard  <julliard@winehq.com>

	* configure.in, include/config.h.in, include/wine/winestring.h, memory/string.c, misc/port.c, configure:
	Added configure check for str[n]casecmp.

	* windows/timer.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Allow timeout of 0. Cap timer rate to SYS_TIMER_RATE.

	* include/windef.h: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Added type PWORD.

	* dlls/winspool/info.c, include/winspool.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Added loads of types, defines and declarations to winspool.h.

	* dlls/commdlg/cdlg_En.rc, dlls/commdlg/filedlg95.c:
	Francois Boisvert<francois@macadamian.com>
	Fixed the height of items in the lookin combobox of the filedlg95.

	* controls/edit.c: Stephane Lussier <stephane@macadamian.com>
	Initialize the enabling state variable in the edit.

	* graphics/bitblt.c: Noomen Hamza <noomen@macadamian.com>
	The fast window frame size should be the same as the frame size used
	by NC_DrawFrame function.

	* objects/region.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fixed compiler warnings.

	* programs/regapi/regapi.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	lstrncmpi isn't a windows API, use strncasecmp instead.

	* memory/global.c:
	Fixed GMEM_ZEROINIT in GlobalRealloc (thanks to Gerard Patel).

	* windows/msgbox.c: Added missing HFONT type.

	* dlls/comctl32/imagelist.c, include/cursoricon.h, loader/main.c, objects/bitmap.c, objects/cursoricon.c, windows/class.c:
	Pierre Mageau <pierre@macadamian.com>
	Changed CopyImage to accept desiredX, desiredY and LR_COPYFROMRESOURCE.
	CURSORICON_FindBestIcon changed to find the correct icon.
	ImageList_ReplaceIcon now calls CopyImage internally.
	Assign a value for the hIconSm CLASS member (using CopyImage).

	* win32/console.c: Guy Albertelli <galberte@neo.lrun.com>
	Fixed WriteConsoleOutput and GetNumberOfConsoleInputEvents.

	* dlls/comctl32/propsheet.c: Thuy Nguyen <thuy@macadamian.com>
	Give applications a copy of the property sheet dialog template as they
	might modify it.

	* relay32/relay386.c: Marcus Meissner <marcus@jet.franken.de>
	Relay exclude lists were not working due to some CharUpperA()
	somewhere else.

	* loader/loadorder.c, wine.ini:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	winspool -> winspool.drv

	* dlls/comctl32/comctl32.spec, dlls/comctl32/comctl32undoc.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Implemented StrCmpNIA like the other StrCmpXX functions.

	* files/profile.c: Thuy Nguyen <thuy@macadamian.com>
	Resolve environment variable when enumerating values.

	* controls/edit.c: Pascal Lessard <pascal@macadamian.com>
	The format rect is recalculated for each font change. MoveEnd &
	MoveHome improved.

Fri Sep  3 16:49:17 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/dib.c, include/x11drv.h, objects/dib.c:
	Karl Lessard <karll@corel.com>
	Ian Ward
	Dan Langlois
	Speed up conversion between XImages and DIBSections.

	* dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/commdlg/filedlgbrowser.h, dlls/shell32/shlview.c:
	Francois Boisvert <francois@macadamian.com>
	Some <open> features in the file dialog 95.

	* include/winnt.h, scheduler/sysdeps.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed global variable pCurrentTeb.

	* memory/heap.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	HEAP_Commit/Decommit were assuming a page size of 4KB
	unconditionally.

	* include/wingdi.h: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	A few more DC_ defines from Win2000.

	* dlls/comctl32/status.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Check that lpCreate->lpszName is non-NULL.

	* windows/dialog.c: Marcus Meissner <Marcus.Meissner@caldera.de>
	More restrictive checks, so DIALOG_IsAccelerator don't loop
	endlessly.

	* controls/menu.c: Pascal Lessard <pascal@macadamian.com>
	Menu hides when clicked for a second time.

	* windows/msgbox.c: Richard Cohen <richard@jubjub.demon.co.uk>
	- select the font into the dc before calculating the extent
	- make buttonheight correspond to text height + width to caption
	- button was "flashing" on EndDialog (must delete font AFTER EndDialog)
	- #defines for DlgItemIds
	- implement MB_RETRYCANCEL

	* controls/edit.c: Stephane Lussier <stephane@macadamian.com>
	Keep the enable state in the edit structure instead of calling
	IsWindowEnabled().

	* include/clipboard.h, include/ttydrv.h, include/x11drv.h, ole/clipboard.c, windows/clipboard.c, windows/ttydrv/clipboard.c, windows/ttydrv/init.c, windows/user.c, windows/x11drv/clipboard.c, windows/x11drv/event.c, windows/x11drv/init.c:
	Noel Borthwick <noel@macadamian.com>
	- Implement interprocess clipboard communication.
	- Support for the PRIMARY and CLIPBOARD selection atoms.
	- Support for the TARGETS selection format.
	- Expose native Windows clipboard formats through X selection targets.

	* objects/gdiobj.c: Richard Cohen <richard@jubjub.demon.co.uk>
	Make stock fonts independent of mapping mode.
	System font should only be bold for Win31.

	* windows/dialog.c: Francis Beaudet <francis@macadamian.com>
	Removed truncating errors that happen when converting fom dialog units
	to pixels.

	* windows/winpos.c: Abey George<abey@macadamian.com>
	Check new coordinates received in WM_NCCALCSIZE message.

	* controls/button.c: Francis Beaudet <francis@macadamian.com>
	Slight 1 pixel adjustment on the position of the radio button bitmap.

	* dlls/commdlg/filedlg95.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed off by one allocation errors.

	* controls/edit.c: Pascal Lessard <pascal@macadamian.com>
	The backspace is now handled in the WM_CHAR message.

	* windows/mdi.c, windows/nonclient.c:
	Francis Beaudet <francis@macadamian.com>
	Make sure that all MDI children have the WS_EX_MDICHILD style set.

	* memory/string.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed prototype order.

	* dlls/ntdll/exception.c: Juergen Lock <nox@jelal.kn-bremen.de>
	Fix EXC_segv for the TRAP_sig undefined case (eg FreeBSD).

	* debugger/stabs.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed crash.

	* dlls/shell32/shell32_main.c: Francis Beaudet <francis@macadamian.com>
	Fixed the support for the close button in the ShellAbout dialogs.

	* dlls/commdlg/cdlg_Nl.rc: Klaas van Gend <klaas@vangend.demon.nl>
	Added Dutch resources for PrintDlg32.

	* dlls/commdlg/cdlg.h, dlls/commdlg/cdlg_En.rc, dlls/commdlg/printdlg.c:
	Klaas van Gend <klaas@vangend.demon.nl>
	Completed PrintDlg32 resource stringtable.

	* dlls/comctl32/tooltips.c: Francis Beaudet <francis@macadamian.com>
	Added sanity checks in the cleanup code.

	* windows/x11drv/keyboard.c: Guy Albertelli <galberte@neo.lrun.com>
	Completed GetKeyNameText for non-character keys.

	* dlls/shell32/brsfolder.c: Francois Boisvert <francois@macadamian.com>
	Make directories name appear in the BrowseForFolder dialog.

	* loader/loadorder.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Do not remove .drv from filenames.

	* controls/button.c: Francis Beaudet <francis@macadamian.com>
	Fixed a little positioning bug with the checkbox.

	* windows/nonclient.c, windows/win.c, windows/x11drv/wnd.c:
	Abey George <abey@macadamian.com>
	Fixed resizing bugs for windows with WS_THICKFRAME and WS_DLGFRAME
	styles.

	* multimedia/mci.c: Michael McCormack <mccormac@aals27.alcatel.com.au>
	Changed snprintf to wsnprintfA to remove unresolved external when
	compiling on Solaris/Sun.

	* dlls/comctl32/listview.c: Marcus Meissner <marcus@jet.franken.de>
	Implemented LVM_INSERTCOLUMNW and LVM_INSERTITEMW by using the ascii
	equivalents. (WinWord 97, File Open dialog)

	* windows/class.c: Marcus Meissner <marcus@jet.franken.de>
	Use in GetClassInfoW the same hack for systemclasses as in
	GetClassInfoA (winword 97 with native comctl32).

	* dlls/shell32/pidl.c: Marcus Meissner <marcus@jet.franken.de>
	Handle SHGDFIL_FINDDATA correctly in SHGetDataFromIDListW.

	* controls/edit.c: Gerard Patel <g.patel@wanadoo.fr>
	Implemented wParam of WM_PAINT msg for edit control.

	* dlls/winspool/info.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix off by one error in WINSPOOL_GetOpenedPrinterA.

	* misc/registry.c: Marcus Meissner <marcus@jet.franken.de>
	subkey_found did not search for _all_ sub keys.

Sat Aug 21 14:47:29 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/commdlg/cdlg.h, dlls/commdlg/cdlg32.c:
	Francois Boisvert <francois@macadamian.com>
	Implemented basic browsing in the file name edit of the filedlg 95.

	* controls/menu.c: Stephane Lussier <stephane@macadamian.com>
	Avoid changing the activation state in EnableMenuItem.

	* include/winnt.h: Fixed #ifdef symbol for PowerPC.

	* ole/parsedt.c, ole/parsedt.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Only declare DateStyle in a single compilation unit.

	* windows/nonclient.c: Pascal Lessard <pascal@macadamian.com>
	Added the case of a user defined icon for the sysbutton hittest.

	* ole/typelib.c: Rein Klazes <rklazes@casema.net>
	Fixed typelib reading to correctly use the offset of the typelib that
	is embedded in for example a dll file.

	* graphics/x11drv/dib.c: Kristian Nielsen <kristian.nielsen@risoe.dk>
	Fixed CreateDIBSection() called with negative height to set the height
	positive in the created DIBSECTION, as per MS knowledgebase Q186586.

	* windows/painting.c: Stephane Lussier <stephane@macadamian.com>
	The paint rectangle return in the PAINTSTRUCT in BeginPaint should
	never be bigger than the client area of the window.

	* controls/listbox.c: Rein Klazes <rklazes@casema.net>
	Make sure that an empty string never matches a listbox entry in
	LISTBOX_FindString().

	* dlls/version/info.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Alignment fix.

	* controls/menu.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed crash when accessing sysmenu.

	* debugger/stack.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Really do a silent backtrace when requested.

	* debugger/hash.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Do not set the address if the symbol is still tagged INVALID.

	* debugger/stabs.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added support for N_BINCL and N_EINCL instructions.
	Fixed type parsing (as generated by egcs).

Wed Aug 18 18:40:52 1999  Alexandre Julliard  <julliard@winehq.com>

	* tools/build.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Use typedef to work around egcs problem.

	* ole/*.c: Michael Veksler <mveksler@techunix.technion.ac.il>
	Removed unnecessary includes from ole related files.

	* ole/compobj.c, multimedia/mmsystem.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Adapted to WOW changes.

	* include/callback.h, include/winbase.h, include/wine/winbase16.h, include/wownt32.h, loader/module.c, memory/global.c, memory/selector.c, relay32/Makefile.in, relay32/kernel32.spec, relay32/wow32.spec, relay32/wowthunk.c, win32/kernel32.c, win32/ordinals.c, if1632/kernel.spec, if1632/relay.c, if1632/thunk.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Moved implementation of WOW routines to single file.
	Added all missing WOW routines, fixed WOWCallback16Ex.

	* multimedia/mmio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed internal buffer for 16 bit mmio MEM files.

	* multimedia/mci.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	- some errors in cleaning up values returned by MCI drivers: this
	  should solve the issues reported with the CD player/writer
	- crash when command was requested with automatic open (note, this
	  will now gracefully report an error, not do the correct thing).

	* dlls/comctl32/propsheet.c: Thuy Nguyen <thuy@macadamian.com>
	Implemented the PSH_USEICONID/PSH_USEHICON and the PSP_USETITLE
	flags.

	* tools/build.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: EFlags were passed incorrectly by CallFrom16Register.

	* loader/task.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: restore STACK16FRAME fields in SwitchStackBack16.

	* tools/wrc/wrc.h, dlls/commdlg/cdlg_En.rc, tools/wrc/CHANGES, tools/wrc/parser.y:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Wrc did not check any IDs which are only 16 bit. Common dialogs had some
	IDs larger and that caused problems. This is now solved (I hope).

----------------------------------------------------------------
Sun Aug 15 18:52:32 1999  Alexandre Julliard  <julliard@winehq.com>

	* objects/cursoricon.c: Steve Tibbett <stevet@corel.com>
	Fixed cursor stretch code.

	* memory/selector.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Inhibit wraparound in comparison.

	* dlls/shell32/.cvsignore, dlls/shell32/Makefile.in, dlls/shell32/shellord.c, dlls/shell32/shlwapi.spec, loader/loadorder.c, relay32/builtin32.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	New internal dll, exporting already existing path functions.

	* include/message.h, windows/dialog.c, windows/message.c, windows/nonclient.c, controls/menu.c:
	Francis Beaudet <francis@macadamian.com>
	Ensure that the WM_ENTERIDLE message is not sent if the wake-up event
	for the MSG_InternalGetMessage() call is a WM_TIMER.

	* rc/winerc.c, include/resource.h, include/windef.h:
	Patrik Stridvall <ps@leissner.se>
	GCC 3.0 has not been released yet, but it is good to be prepared.

	* misc/spy.c: Juergen Schmied <juergen.schmied@metronet.de>
	Added resolution of LVM messages.

	* objects/dib.c: Gerard Patel <g.patel@wanadoo.fr>
	Added protection against possible memory corruption.

	* objects/cursoricon.c: Steve Tibbett <stevet@corel.com>
	Fixed cursor selection to find the correct cursor when more than one
	available.

	* dlls/winspool/Makefile.in, dlls/winspool/info.c, dlls/winspool/winspool.spec, dlls/winspool/wspool.c:
	Thuy Nguyen <thuy@macadamian.com>
	Replaced a static ten element array with a dynamic pointer array.

	* dlls/commdlg/printdlg.c: Gerard Patel <g.patel@wanadoo.fr>
	Fix special case when no printer installed.

	* dlls/shell32/shell.c, dlls/shell32/shell.spec:
	James Juran <jrj120@psu.edu>
	New routine DllEntryPoint for shell.dll.  Loads shell32.dll,
	since most shell.dll functions call their 32-bit counterparts.

	* dlls/version/info.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Fixed alignment.

	* controls/edit.c: Pascal Lessard <pascal@macadamian.com>
	EM_SETSEL scrolls if outside of the visible range.
	"shift+home" selection improved in the edit control.

	* ole/parsedt.c: Removed RCS keyword.

	* dlls/shell32/folders.c, dlls/shell32/pidl.c, dlls/shell32/shell32.spec, dlls/shell32/shell32_main.h, dlls/shell32/shelllink.c, dlls/shell32/shellole.c, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shres.rc, dlls/shell32/shresdef.h, dlls/shell32/shv_bg_cmenu.c, include/shell.h, include/wine/undocshell.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	More use of rc files for strings and menus, fixes. First internal
	icons.

	* dlls/shell32/shlview.c: Juergen Schmied <juergen.schmied@metronet.de>
	New interface: DropSource.

	* dlls/shell32/shlfolder.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Better DropTarget.

	* dlls/shell32/shell32_main.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Implemented SHGetFileInfo better.

	* dlls/shell32/iconcache.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Protect cache with critical section.
	Removed hack to load icons from external shell32.dll.

	* dlls/shell32/dataobject.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	QueryGetData, EnumFormatEtc implemented.

	* dlls/shell32/classes.c: Juergen Schmied <juergen.schmied@metronet.de>
	Fixed mapping of file extensions to text.

	* misc/ddeml.c: Juergen Schmied <juergen.schmied@metronet.de>
	Fixed ascii/unicode issue for naming of the mutexes.
	Made mutex handles global.
	Fixed incorrect interpretation of return values of WaitForSingleObject.

	* objects/font.c: Juergen Schmied <juergen.schmied@metronet.de>
	First implementation of GetCharacterPlacementA.

	* windows/defwnd.c, include/winuser.h:
	Thuy Nguyen <thuy@macadamian.com>
	Implemented the WM_SETICON and WM_GETICON messages.

	* files/drive.c: Morten Eriksen <mortene@sim.no>
	FIXME on unimplemented feature made less obtrusive.

	* graphics/x11drv/bitblt.c: Pascal Lessard <pascal@macadamian.com>
	Now the conversion in the blt functions round up the result.

	* tools/build-spec.txt, tools/build.c: James Juran <jrj120@psu.edu>
	Document use of "init" in build-spec.txt, and make build.c print a
	warning if someone tries to use "init" in a Win16 spec file.

	* loader/ne/segment.c: Michael Karcher <karcher@dpk.berlin.fido.de>
	Make sure we have a dgroup before patching prologs.

	* */Makefile.in, */.cvsignore:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Adapted to glue code generation changes.

	* loader/ne/module.c, loader/ne/segment.c, windows/winproc.c, if1632/builtin.c, if1632/relay.c, if1632/snoop.c, if1632/thunk.c, include/callback.h, include/module.h, include/snoop.h, loader/module.c, loader/task.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Adapted to new-style Wine thunks.
	Removed some now unnecessary function pointers.

	* include/builtin16.h, include/stackframe.h, tools/build.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	CallTo16... / CallFrom16... Wine thunks reorganized:
	- Cleaner separation between core and glue code.
	- Argument conversion glue code now in C.
	- Glue code needed for 16-bit .spec files inlined.

Sat Aug 14 15:53:50 1999  Alexandre Julliard  <julliard@winehq.com>

	* misc/comm.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	- implemented GetCommModemStatus
	- fixed the DTR, CTS and COMMBREAK related subfunctions of EscapeCommFunction
	- added more verbose TRACEing

	* misc/version.c: Morten Eriksen <mortene@sim.no>
	Made GetVersionEx() behave in accordance with the specification with
	regard to error handling.

	* dlls/msvideo/msvfw32.spec, dlls/msvideo/msvideo_main.c:
	Mark G. Adams <madams@livepage.com>
	Added stub for DrawDibClose.

	* controls/combo.c: Francis Beaudet <francis@macadamian.com>
	Fixed the look of the combobox's drop down button when in Win95 look.

	* dlls/comctl32/propsheet.c: Thuy Nguyen <thuy@macadamian.com>
	Added support for icons in property sheet tabs.

	* include/commctrl.h, tools/wrc/CHANGES, tools/wrc/genres.c, tools/wrc/parser.l, tools/wrc/wrc.h:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Version 1.0.14 of wrc.

Sun Aug  8 18:56:04 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/winbase.h, win32/time.c: Fixed SetLocalTime prototype.

	* ole/ole2nls.c, win32/kernel32.c, dlls/commdlg/printdlg.c, dlls/ntdll/rtlstr.c, dlls/shell32/shell32_main.c, dlls/shell32/shellpath.c, dlls/version/info.c, files/dos_fs.c, if1632/thunk.c, include/wine/winestring.h, loader/libres.c, loader/pe_resource.c, dlls/comctl32/comctl32undoc.c:
	Replaced a few calls to lstr* functions by their CRTDLL or libc
	equivalent.

	* memory/string.c:
	Added an exception handler around a few lstr* functions.

	* dlls/crtdll/Makefile.in, dlls/crtdll/crtdll.spec, dlls/crtdll/crtdll_main.c, dlls/crtdll/mbstring.c, dlls/crtdll/wcstring.c, dlls/ntdll/ntdll.spec, include/crtdll.h:
	Reimplemented multi-byte and wide-chars functions to not depend on
	lstr* functions; added a few missing ones; fixed a couple of bugs.

Sat Aug  7 14:32:34 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/Attic/wnet.h, include/wine/winnet16.h, include/winerror.h, include/winnetwk.h, include/winuser.h, misc/network.c, relay32/.cvsignore, relay32/Attic/mpr.spec, relay32/Makefile.in, Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/mpr/.cvsignore, dlls/mpr/Makefile.in, dlls/mpr/auth.c, dlls/mpr/mpr.spec, dlls/mpr/mpr_main.c, dlls/mpr/multinet.c, dlls/mpr/nps.c, dlls/mpr/pwcache.c, dlls/mpr/wnet.c, include/netspi.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Separated Win16 (USER) and Win32 (MPR) network routines.
	Moved implementation of MPR to dlls/mpr/.
	Added proper headers and stubs for missing MPR routines.

	* misc/registry.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Improved (sort of) RegFlushKey.

	* windows/winpos.c: Francis Beaudet <francis@macadamian.com>
	If the window is already the topmost window in ShowWindow(SW_SHOW), it
	must not be activated.

	* windows/x11drv/event.c: Stephane Lussier <stephane@macadamian.com>
	WM_SYSCOMMAND message (for SC_CLOSE) should be posted not sent.

	* windows/dce.c, windows/x11drv/wnd.c:
	Stephane Lussier <stephane@macadamian.com>
	X11drv SetDrawable function modifies the DC origin, this translation
	should be reflected for the dc clipping region for CS_OWNDC and CS_CLASSDC.

	* windows/defdlg.c, windows/dialog.c: Abey George <abey@macadamian.com>
	Set focus to the dialog in EndDialog.

	* libtest/Makefile.in: James Juran <jrj120@psu.edu>
	Make sure we compile winestub.o before trying to build a Winelib test
	program.

	* files/directory.c: Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Fixed case sensitivity flag.

	* include/commdlg.h, dlls/commdlg/printdlg.c:
	Klaas van Gend <klaas@vangend.demon.nl>
	Implemented the return of hDevModes and hDevNames in the PRINTDLG
	structure of PrintDlgA().

	* windows/queue.c, include/queue.h: Ove Kaaven <ovek@arcticnet.no>
	Made hardware_event use win32-conformant parameters.

	* dlls/commdlg/cdlg32.c: Juergen Schmied <juergen.schmied@metronet.de>
	Explicitly load shell32.dll.

	* dlls/comctl32/tab.c: Thuy Nguyen <thuy@macadamian.com>
	Take into account icons when determining tab size.

	* files/drive.c: Morten Eriksen <mortene@sim.no>
	Improved GetDiskFreeSpaceEx() implementation a little bit.

	* misc/comm.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	- added some more Baudrates
	- fixed a hang in tcsetattr when the input buffer isn't empty
	- added more verbosity for debugging

	* controls/uitools.c: Francis Beaudet <francis@macadamian.com>
	Handle the case when the button is really small.

	* windows/nonclient.c: Thuy Nguyen <thuy@macadamian.com>
	WS_EX_DLGMODALFRAME alone does not mean title bar, you still have to
	specify WS_CAPTION.

Wed Aug  4 15:07:57 1999  Alexandre Julliard  <julliard@winehq.com>

	* configure.in, include/acconfig.h, include/config.h.in, include/dinput.h, windows/dinput.c, configure:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented DirectInput Joystick support (tested with WC:Prophecy).

	* relay32/kernel32.spec, win32/time.c:
	Andreas Mohr <amohr@student.ei.uni-stuttgart.de>
	Implemented SetLocalTime.

	* windows/x11drv/keyboard.c: Ivan De Saedeleer <Ivands@sympatico.ca>
	Minor fix to the French Canadian keyboard.

	* graphics/ddraw.c: Marcus Meissner <marcus@jet.franken.de>
	When flipping backbuffer -> frontbuffer, first exchange surfaces, then
	copy XImage, since the palette might only be defined in the frontbuffer.

	* tools/wineinstall: Joerg Mayer <jmayer@telesun2.telemation.de>
	Create sysconfdir on install.

	* dlls/stress/.cvsignore: Fixed typo.

	* dlls/wnaspi32/winaspi32.c, if1632/relay.c, include/debugtools.h, loader/pe_image.c, win32/kernel32.c, windows/x11drv/keyboard.c, controls/listbox.c, controls/menu.c, controls/scroll.c, dlls/version/info.c, dlls/winaspi/winaspi16.c:
	Got rid of dsprintf and related macros.

	* server/mutex.c:
	Remove the mutex from the thread list when destroying it.

	* */*:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Moved various DLLs to dlls/

Sun Aug  1 14:58:02 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/winaspi/winaspi16.c, if1632/snoop.c, include/winnt.h, loader/ne/segment.c, misc/error.c, msdos/devices.c, msdos/dpmi.c, msdos/int21.c, msdos/int33.c, debugger/registers.c, debugger/stack.c:
	Removed IP_reg, SP_reg and FL_reg definitions to avoid potential
	aliasing optimization problems.

	* dlls/ntdll/exception.c, include/miscemu.h, loader/dos/module.c, loader/signal.c:
	Removed SIGNAL_MaskAsyncEvents and cleaned up signal handling.

	* include/Attic/async.h, win32/console.c, files/Attic/async.c, files/Makefile.in, files/file.c:
	Removed async I/O support.

	* include/comm.h, misc/comm.c:
	Use the service thread for comm notifications.

	* include/sig_context.h, include/stackframe.h, loader/task.c, msdos/dpmi.c, relay32/relay386.c, win32/kernel32.c, if1632/relay.c, if1632/thunk.c:
	Made stack manipulation macros into inline functions.
	Changed a few accesses to context registers to avoid potential
	aliasing optimization problems.

	* include/miscemu.h, include/sig_context.h, include/windef.h, loader/dos/dosvm.c, memory/instr.c, dlls/ntdll/exception.c:
	Changed INSTR_EmulateInstruction to use a CONTEXT86 instead of a
	SIGCONTEXT.

	* Makefile.in: Remove wine.conf.man on distclean

----------------------------------------------------------------
Sat Jul 31 19:35:58 1999  Alexandre Julliard  <julliard@winehq.com>

	* windows/nonclient.c: Noomen Hamza <noomen@macadamian.com>
	Close the right window when clicking on a non active window close
	button.

	* Makefile.in: Pavel Roskin <pavel_roskin@geocities.com>
	Removed the dependency on "dummy" for wine and wine.sym.

	* files/profile.c:
	Remove file from cache when flushing it (based on a patch by Ian
	Schmidt).

	* include/winnt.h: Marcus Meissner <marcus@jet.franken.de>
	Added CONTEXT for ALPHA and MIPS.

	* configure.in, Make.rules.in, Makefile.in, configure:
	Patrik Stridvall <ps@leissner.se>
	Added support for Solaris Lint.

	* scheduler/debugger.c, server/debugger.c, tools/make_debug, win32/console.c, console/generic.c, console/xterm.c, graphics/enhmetafiledrv/graphics.c, graphics/enhmetafiledrv/objects.c, graphics/metafiledrv/bitblt.c, graphics/metafiledrv/graphics.c, graphics/metafiledrv/objects.c, graphics/metafiledrv/text.c, include/debugdefs.h, include/xmalloc.h, misc/xmalloc.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed some of the issues reported by Solaris Lint.

	* include/pshpack4.h: Patrik Stridvall <ps@leissner.se>
	Solaris C/C++ compile fix.

	* msdos/dosmem.c, ole/storage32.c, windows/painting.c, controls/button.c, dlls/comctl32/monthcal.c, dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, graphics/ddraw.c, include/wine/obj_base.h:
	Patrik Stridvall <ps@leissner.se>
	Various ANSI C compability fixes.

	* relay32/winmm.spec, if1632/builtin.c, if1632/gdi.spec, if1632/mmsystem.spec, if1632/user.spec, include/multimedia.h, include/ntddk.h, include/olectl.h, include/winsock.h, misc/network.c, misc/system.c, misc/winsock.c, multimedia/mmsystem.c, ole/olefont.c, relay32/kernel32.spec, relay32/oleaut32.spec, relay32/user32.spec, dlls/comctl32/comctl32.spec, dlls/ntdll/exception.c, dlls/ntdll/file.c, dlls/ntdll/ntdll.spec, dlls/ntdll/rtl.c, dlls/tapi32/tapi32.spec:
	Patrik Stridvall <ps@leissner.se>
	Fixed some of the issues reported by winapi-check.

	* documentation/Makefile.in: Marcus Meissner <marcus@jet.franken.de>
	Actually create the man/ subdirectories before installing.

	* if1632/kernel.spec, include/wine/winbase16.h, loader/task.c, windows/queue.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented KERNEL.447 (WIN32_OldYield16).

	* windows/event.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Suspend WND lock before EVENT_Synchronize.

	* win32/device.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Create VxD handle only for known VxDs.

	* Make.rules.in, relay32/Makefile.in: Patrik Stridvall <ps@leissner.se>
	Made compilation of *.spec.c files use -fno-builtin regardless of
	where they are.

	* include/tapi.h, include/winbase.h, scheduler/thread.c, dlls/comctl32/datetime.c, dlls/comctl32/flatsb.c, dlls/comctl32/header.c, dlls/comctl32/hotkey.c, dlls/comctl32/ipaddress.c, dlls/comctl32/listview.c, dlls/comctl32/monthcal.c, dlls/comctl32/nativefont.c, dlls/comctl32/pager.c, dlls/comctl32/progress.c, dlls/comctl32/rebar.c, dlls/comctl32/status.c, dlls/comctl32/tab.c, dlls/comctl32/toolbar.c, dlls/comctl32/tooltips.c, dlls/comctl32/trackbar.c, dlls/comctl32/treeview.c, dlls/comctl32/updown.c, dlls/shell32/brsfolder.c, dlls/shell32/contmenu.c, dlls/shell32/memorystream.c, graphics/ddraw.c, dlls/avifil32/avifile.c, dlls/comctl32/animate.c, dlls/comctl32/comboex.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed/added missing/wrong function prototypes and made internal
	functions static.

	* tsx11/ts_xshm.c, tsx11/ts_xutil.c, tools/make_X11wrappers, tsx11/ts_xf86dga.c, tsx11/ts_xf86vmode.c, tsx11/ts_xlib.c, tsx11/ts_xpm.c, tsx11/ts_xresource.c:
	Patrik Stridvall <ps@leissner.se>
	Fixed missing prototypes and made it work with Solaris X11.

	* debugger/external.c, include/wine/undocshell.h, multimedia/mcimidi.c, ole/antimoniker.c, ole/compositemoniker.c, ole/datacache.c, ole/filemoniker.c, ole/itemmoniker.c, ole/olefont.c, scheduler/thread.c, dlls/shell32/contmenu.c, dlls/shell32/folders.c, dlls/shell32/shelllink.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c:
	Patrik Stridvall <ps@leissner.se>
	Eliminated warnings.

	* loader/ne/segment.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Fixed the DSEG value in the SEGTABLEENTRY struct.

	* dlls/comctl32/comctl32.h, dlls/comctl32/flatsb.c, dlls/comctl32/pager.c, dlls/comctl32/rsrc.rc, dlls/comctl32/toolbar.c, documentation/common_controls:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added builtin toolbar bitmaps.

	* dlls/comctl32/listview.c, dlls/comctl32/treeview.c, include/listview.h, include/treeview.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Some more messages.

	* dlls/advapi32/advapi32.spec, dlls/advapi32/crypt.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added stub for CryptSetKeyParams().

	* dlls/shell32/shell32.spec, dlls/shell32/shellord.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added stubs for DAD_SetDragImage() and PathCleanupSpec().

	* misc/crtdll.c, relay32/crtdll.spec:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added stub for _except_handler2().

	* objects/region.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Improved GetRandomRegion().

	* controls/menu.c, windows/nonclient.c:
	Pascal Lessard <pascal@macadamian.com>
	Implemented the system button behavior and associated it to the system
	menu in win95. Also permit the SC_CLOSE item to be disabled.

	* misc/comm.c: Ove Kaaven <ovek@arcticnet.no>
	Bugfixes and a fake GETBASEIRQ.

	* files/async.c: Ove Kaaven <ovek@arcticnet.no>
	Made async fds nonblocking.

	* windows/mdi.c: Dan Langlois <daniell@corel.com>
	Removed an inappropriate if statement from MDI_ChildActivate that
	prevented the activation code from executing.

	* dlls/comctl32/monthcal.c, include/monthcal.h:
	Alex Priem <alexp@sci.kun.nl>
	Bugfixes & further updates for the month calendar common control.

	* dlls/comctl32/datetime.c, include/commctrl.h, include/datetime.h:
	Alex Priem <alexp@sci.kun.nl>
	Started implementing date/time common control.

	* graphics/psdrv/graphics.c, graphics/psdrv/ps.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	PSDRV_WriteArc shouldn't write a newpath.

	* controls/button.c: Rein Klazes <rklazes@casema.net>
	Fix handling of WM_LBUTTONDCLICK message for buttons with certain
	styles.

	* windows/dce.c: Abey George <abey@macadamian.com>
	Bug fix for updating the clipping region in nested GetDCEx calls.

	* windows/winpos.c: Yuxi Zhang <yuxiz@corel.ca>
	Tried to fix the code for SetWindowPos to erase the background
	properly.

Fri Jul 30 18:10:21 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/cdlg_En.rc, dlls/commdlg/cdlg_xx.rc, dlls/commdlg/printdlg.c, dlls/commdlg/rsrc.rc, include/winspool.h:
	Klaas van Gend <klaas@vangend.demon.nl>
	- added Collate/NoCollate Icons to Print32 dialog (unfortunately they
	  don't display yet).
	- added status strings.
	- added string table for internationalisation of several internal
	  message boxes.

	* include/commctrl.h, include/winuser.h: Yuxi Zhang <yuxiz@corel.ca>
	Removed duplicated defines in winuser.h and commctrl.h. Also corrected
	a typo for SW_MAX value.

	* dlls/commdlg/cdlg.h, dlls/commdlg/cdlg32.c, dlls/commdlg/filedlg95.c:
	Francis Beaudet <francis@macadamian.com>
	Fixed a memory leak in the file dialog.

	* loader/loadorder.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Strip .drv extensions to MODULE_GetLoadOrder.

	* dlls/comctl32/tab.c: Francis Beaudet <francis@macadamian.com>
	Fixed a memory leak.

	* scheduler/process.c, loader/task.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Install task-entry breakpoint *after* EXE module is initialized.

	* graphics/psdrv/ps.c, include/psdrv.h:
	Luc Tourangeau <luc@macadamian.com>
	Added a call to the newpath operator immediately before the arc
	operator.

	* controls/button.c: Pierre Mageau <pierre@macadamian.com>
	Fixed a problem when the style is BS_BITMAP or BS_ICON: the bitmap or
	icon needed to be centered when the button is smaller than the bitmap.

	* windows/mdi.c: Francis Beaudet <francis@macadamian.com>
	Fixed a memory leak that occurs when we maximize/minimize an MDI
	child.

	* dlls/comctl32/updown.c: Francis Beaudet <francis@macadamian.com>
	Added more support for buddy windows in the updown control.

	* controls/edit.c: Francis Beaudet <francis@macadamian.com>
	Implemented proper win95 support for the WS_BORDER style.

	* controls/listbox.c: Francis Beaudet <francis@macadamian.com>
	Changed the WS_BORDER style to a WS_EX_CLIENTEDGE style for the
	listbox control.

	* controls/combo.c: Francis Beaudet <francis@macadamian.com>
	Fixed the border for the listbox created by the simple combobox.

	* ole/compobj.c, if1632/compobj.spec:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Implemented CoRevokeClassObject stub needed by Acrobat 3 16 bit.

	* loader/ne/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	GetModuleHandle16: treat Win32 modules correctly.

Wed Jul 28 16:38:45 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/shell32/brsfolder.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixed use of StrRetToStrN.

	* dlls/shell32/shell32.spec, dlls/shell32/shellord.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	StrRetToStrN[A|W|AW] new independent unicode/ascii/export functions.

	* documentation/dlls: Klaas van Gend <klaas@vangend.demon.nl>
	Added explanation of the current DLL support.

	* memory/global.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: fixed freshly introduced bug in GlobalLock16.

	* dlls/comctl32/comctl32.spec, dlls/comctl32/comctl32undoc.c:
	Ian Schmidt <ischmidt@cfl.rr.com>
	Added stubs for InitMUILanguage and COMCTL32.410.
	Fixed some compiler warnings.

Tue Jul 27 17:10:06 1999  Alexandre Julliard  <julliard@winehq.com>

	* if1632/gdi.spec, if1632/thunk.c, if1632/user.spec, include/callback.h, miscemu/main.c, objects/gdiobj.c, windows/user.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added FinalUserInit16/FinalGdiInit16 stubs.
	Call out to FinalUserInit in MAIN_EmulatorRun.

	* if1632/kernel.spec, memory/selector.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added IsBadFlatReadWritePtr16().

	* controls/edit.c: Abey George <abey@macadamian.com>
	Fixed incorrect edit control behaviour in mouse message handling.

	* windows/message.c: Abey George <abey@macadamian.com>
	Send normal mouse messages to WM_SETCURSOR when non-client mouse
	messages occur.

	* windows/winpos.c: Thuy Nguyen <thuy@macadamian.com>
	Check if the window has the WS_CLIPSIBLINGS style before using the
	DCX_CLIPSIBLINGS flag.

	* dlls/commdlg/Makefile.in, dlls/commdlg/cdlg.h, dlls/commdlg/cdlg32.c, dlls/commdlg/cdlg_En.rc, dlls/commdlg/filedlg.c, dlls/commdlg/filedlg95.c, dlls/commdlg/filedlgbrowser.c, dlls/commdlg/filedlgbrowser.h, include/commdlg.h, include/dlgs.h, include/tchar.h:
	Francois Boisvert <francois@macadamian.com>
	Implemented the Win95 file open/save dialogs.

	* Makefile.in: Marcus Meissner <marcus@jet.franken.de>
	Do tools/ before any of the other subdirectories, even when doing
	parallel makes.

	* memory/global.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Return selector also in CX from GlobalLock16().

	* if1632/thunk.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	More gcc bug workarounds.

	* graphics/psdrv/ppd.c, include/wingdi.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Added more paper sizes and bin names to PPD parser.

	* windows/dinput.c: Marcus Meissner <marcus@jet.franken.de>
	Actually return the number of events in Mouse_GetDeviceData (fixes
	Wing Commander Prophecy). Added timestamp and sequence generation,
	critical section for mousedata. Disabled mouse warping in
	GetDeviceData for now (generates excess mouse events).

Sun Jul 25 13:15:49 1999  Alexandre Julliard  <julliard@winehq.com>

	* */*.spec:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Moved .spec files to corresponding dlls/ directory.

	* controls/listbox.c: Gerard Patel <g.patel@wanadoo.fr>
	Several focus and selection problems in listboxes.

	* windows/dce.c: Francis Beaudet <francis@macadamian.com>
	Retrieve the clipping region before setting the drawable and reset the
	clipping region after.

	* relay32/Attic/shell32.spec, dlls/shell32/brsfolder.c, dlls/shell32/pidl.c, dlls/shell32/pidl.h, dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, dlls/shell32/shlmenu.c, include/shell.h, include/shlguid.h, include/shlobj.h, include/wine/obj_enumidlist.h, include/wine/obj_shellfolder.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Many fixes/reimplementations.

	* dlls/shell32/shlview.c: Juergen Schmied <juergen.schmied@metronet.de>
	Removed experimental/unused code.
	Use ShellFolder to get ViewObjects.
	Started cleanup of the contextmenu code.

	* dlls/shell32/shlfolder.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Complete redesign, split into 3 implementations (Desktop, MyComputer
	and filesystem folders). All parsing and binding is done recursive.

	* dlls/shell32/shellpath.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Implemented SHGetSpecialFolderPathA.

	* dlls/shell32/shellord.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Implemented SHCreateShellFolderViewEx.

	* dlls/shell32/shellole.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Removed special CoCreateClassObject and use ole functions instead.
	SHCreateDefClassObject implemented.

	* dlls/shell32/shelllink.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Implemented access to lnk's to a IStream interface.

	* dlls/shell32/iconcache.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixed icon background (was black).

	* dlls/shell32/folders.c: Juergen Schmied <juergen.schmied@metronet.de>
	Fixed getting icons from filetypes.

	* dlls/shell32/enumidlist.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Implemented enumeration of shell extensions, seperated enum stuff for
	the 3 seperate shellfolder implementations.

	* dlls/shell32/dataobject.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Rewrote GetData so support multiple selections.

	* dlls/shell32/contmenu.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Separated stuff for shv background contextmenu to separate file.

	* dlls/shell32/classes.c: Juergen Schmied <juergen.schmied@metronet.de>
	New functions to access attributes in HCR.

	* dlls/shell32/Makefile.in, dlls/shell32/shv_bg_cmenu.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	New file. Seperate implementation of the shellview background
	contextmenu.

	* include/wine/undocshell.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	New file. Contains functions not in the official headers but widely
	used from other dlls.

	* Makefile.in: Marcus Meissner <marcus@jet.franken.de>
	Added X11OBJS and LIBOBJS to wine dependencies (we can't add ALT_LINK).

	* Makefile.in: Make sure we build tools first.

	* if1632/kernel.spec, if1632/relay.c, if1632/wprocs.spec, memory/global.c, tools/build-spec.txt, tools/build.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Relay code for Win16 register functions converts arguments.
	New 'interrupt' keyword added (for Win16 interrupt handlers).
	Adapted .spec files and implementations of register routines.

	* include/psdrv.h, include/wine/wingdi16.h, misc/printdrv.c, graphics/psdrv/escape.c, graphics/psdrv/init.c, graphics/psdrv/ps.c, if1632/gdi.spec:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	{Start|End}{Doc|Page} go through DCfuncs.
	Implement these in the PostScript driver.
	Change PSDRV_Escape to use them.

	* loader/dos/dosvm.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Work around 'local extern declaration with attribute' gcc bug.

	* windows/dinput.c: Lionel Ulmer <lionel.ulmer@free.fr>
	Implementation of SetEventNotification for the mouse driver.

	* ole/compobj.c: Juergen Schmied <juergen.schmied@metronet.de>
	Let CoCreateInstance use LOAD_WITH_ALTERED_SEARCHPATH.

	* include/ole2.h: Juergen Schmied <juergen.schmied@metronet.de>
	Fixed incomplete proto.

	* winedefault.reg: Juergen Schmied <juergen.schmied@metronet.de>
	New keys nessesary for running the new shell32.

	* controls/static.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Use GDI APIs to access bitmap info.

	* graphics/psdrv/clipping.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Rewrote PSDRV_SetDeviceClipping to use GetRegionData API.

Sat Jul 24 12:20:25 1999  Alexandre Julliard  <julliard@winehq.com>

	* miscemu/main.c, if1632/thunk.c, include/main.h, loader/main.c, misc/Attic/callback.c, misc/Makefile.in:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Unify startup sequence for Wine and WineLib.

	* windows/clipboard.c, include/clipboard.h, memory/global.c:
	Noel Borthwick <noel@macadamian.com>
	Fix bug with pasting Wine clipboard content to external applications,
	by storing clipboard data on the shared system heap.

	* windows/x11drv/mouse.c: Achim Kaiser <Achim_Kaiser@t-online.de>
	Draw an additional white bit for each invert bit of a cursor.

	* windows/x11drv/event.c: Noel Borthwick <noel@macadamian.com>
	While handling the X FocusIn message in managed mode, if the window
	has been disabled revert the X focus back to the last focus window.

	* dlls/shell32/brsfolder.c, include/commctrl.h, dlls/comctl32/treeview.c:
	Francois Boisvert<francois@macadamian.com>
	Implemented TREEVIEW_InsertItemW.

	* graphics/escape.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Implemented ExtEscape.

	* Makefile.in: Marcus Meissner <marcus@jet.franken.de>
	Trying to fix parallel make by doing direct subdir/subdir.o rules.

	* include/win.h, windows/nonclient.c, windows/x11drv/wnd.c:
	Sylvain St-Germain <sylvain@macadamian.com>
	Fixed inconsistency in conditions that determines if a window requires
	a WM border.

	* graphics/x11drv/xfont.c, include/x11font.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	For large font sizes call XLoadQueryFont with a 100 pixel high font
	and rescale the metrics.

	* misc/printdrv.c, objects/dc.c, graphics/psdrv/escape.c, graphics/win16drv/init.c, include/gdi.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Implement handling of 32 bit AbortProc.

	* include/process.h, include/server.h, include/wine/exception.h, include/winnt.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Suppressed compiler warning by using the 'unused' attribute.

	* debugger/Makefile.in, debugger/external.c:
	Kevin Holbrook <kwh@neosoft.com>
	Added utility function to invoke external debugger.

	* multimedia/.cvsignore, multimedia/winmm.rc, multimedia/winmm_En.rc, multimedia/winmm_Fr.rc, relay32/builtin32.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added WINMM resources.

	* multimedia/Attic/mcistring.c, multimedia/Makefile.in:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed obsoleted mcistring.c.
	Added support for resources.

	* multimedia/mcianim.c, multimedia/mciavi.c, multimedia/mcicda.c, multimedia/mcimidi.c, multimedia/mciwave.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed return values for some messages in DriverProc (MCI_GETDEVCAPS &
	MCI_STATUS) for mciSendString.

	* multimedia/time.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Spread the use of MM crit sect.

	* multimedia/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Moved some MCI functions to mci.c.
	Now loads error messages from string table.
	Spread the use of MM crit sect.

	* multimedia/mci.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added parsing & storing of command tables.
	Merged some MCI functions from mmsystem.c.

	* include/multimedia.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed some no longer used prototypes.
	Added command tables to MCI structure.

	* include/mmsystem.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed buggy prototype.

	* debugger/types.c: Kevin Holbrook <kwh@neosoft.com>
	Avoid crashing on a bad symbol address of 0x0000.

	* misc/w32sys.c: Fixed GetW32SysVersion16 return type.

	* include/commdlg.h, include/module.h, loader/module.c, relay32/utthunk.c, dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c, dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c, dlls/commdlg/printdlg.c, if1632/wprocs.spec:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed MODULE_GetWndProcEntry16().
	Use 32-bit window procedures in COMMDLG instead.

	* configure, configure.in: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed cut&paste bug.

	* include/docobj.h, include/wine/obj_base.h, include/wine/obj_dataobject.h, include/wine/obj_dragdrop.h, include/wine/obj_inplace.h, include/wine/obj_olefont.h, include/wine/obj_oleundo.h, include/wine/obj_propertystorage.h, include/wine/obj_storage.h:
	Paul Quinn <paulq@corel.ca>
	Add a few stubs, some C++ compatibility, and fix a few types.

	* include/initguid.h, ole/guid.c: Albert den Haan <albertd@corel.ca>
	Declare only one instance of GUID_NULL.

	* dlls/comctl32/imagelist.c: Pierre Mageau <pierre@macadamian.com>
	Fixed various problem with ImageList_Draw.

	* windows/dialog.c: Stephane Lussier<stephane@macadamian.com>
	Re-enable the owner window in the EndDialog().

	* dlls/comctl32/propsheet.c: Thuy Nguyen <thuy@macadamian.com>
	Fixed notifications.

	* if1632/thunk.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Always retrieve Callout routines using GetProcAddress().

	* windows/defwnd.c: Abey George <abey@macadamian.com>
	Send WM_CONTEXTMENU on WM_RBUTTONUP, not WM_RBUTTONDOWN.

	* windows/x11drv/keyboard.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fixed compiler warning.

	* dlls/winspool/info.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Let through more flags to EnumPrinters.
	Fixes for GetPrinter/GetPrinterDriver.

	* graphics/psdrv/color.c, graphics/psdrv/init.c, graphics/psdrv/ps.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fix stupid `rubbish at end of %%Title' bug.
	Don't complain about palette relative RGBs.
	If output param to CreateDC is NULL default to `LPT1:' - Hack.

Fri Jul 23 19:33:24 1999  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.in, include/config.h.in, include/wine_gl.h:
	Lionel Ulmer <lionel.ulmer@free.fr>
	Better detection of OpenGL.

	* include/callback.h, include/stackframe.h, misc/Attic/callback.c, tools/build.c, if1632/thunk.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Reverted CallTo16 routines to STDCALL convention.

	* objects/font.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	String to GetTextExtentPoint is not necessarily 0 terminated.
	Fix function name `32's in comments - API naming madness makes this
	worthwhile.

	* dlls/winspool/info.c, graphics/driver.c, graphics/psdrv/README, include/winspool.h, relay32/Attic/winspool.spec:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	EnumJobs stub.
	Update graphics/psdrv/README.
	Add warnings to DRIVER_GetDriverName.

	* windows/mdi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed some bad ptr occurrence in this class WndProc.

	* graphics/ddraw.c, include/options.h, misc/main.c, windows/x11drv/main.c:
	Lionel Ulmer <lionel.ulmer@free.fr>
	- Added a new option 'noxshm'
	- Added a 16bpp -> 32 bpp conversion function

	* windows/syscolor.c: Gerard Patel <g.patel@wanadoo.fr>
	Change color gray text to 128 128 128 for win9x look.

Tue Jul 20 15:13:20 1999  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/debugger.c:
	Do not output text in OutputDebugStrAW when not being debugged

	* windows/mdi.c: Noomen Hamza <noomen@macadamian.com>
	MDIDestroyChild: MDI window menu item was deleted only if the current
	destroyed child was active.

	* dlls/comctl32/propsheet.c: Gerard Patel <g.patel@wanadoo.fr>
	Reset disabled style for the dialog boxes set on property pages.

	* tools/wrc/dumpres.c, tools/wrc/genres.c, tools/wrc/newstruc.c, tools/wrc/newstruc.h, tools/wrc/parser.l, tools/wrc/parser.y, tools/wrc/wrc.c, tools/wrc/wrc.h, tools/wrc/wrctypes.h, tools/wrc/CHANGES:
	Bertho Stultiens <bertho@akhphd.au.dk>
	- Generalized the distinction between 2 and 4 byte integers slightly through
	  a new parser state. The is now a warning when a 2 byte integer is larger
	  than 16 bit (and is truncated).
	- Fixed a couple of cosmetic things in the DLGINIT stuff so that dumping of
	  this type will work as expected.
	- Added generalized language/version/characteristics support to the DLGINIT
	  resource type.

	Ulrich Czekalla <ulrichc@corel.ca>
	- Added support for DLGINIT resource-type.
	- Added string continuation and embedded quoting.
	- Added numeric IDs for icons in controls.

	Eric Pouech <Eric.Pouech@wanadoo.fr>
	- Bugfix: Distinguish between 2 and 4 byte integers in RCDATA.

Sun Jul 18 18:42:29 1999  Alexandre Julliard  <julliard@winehq.com>

	* misc/Attic/string.c, misc/Makefile.in:
	Albert den Haan <albertd@corel.ca>
	Remove string.c because all of its functions were moved to crtdll.c
	where they belonged.

	* tools/wrc/dumpres.c, tools/wrc/genres.c, tools/wrc/newstruc.c, tools/wrc/parser.l, tools/wrc/preproc.c, tools/wrc/readres.c, tools/wrc/utils.c, tools/wrc/wrc.c, tools/wrc/writeres.c, debugger/display.c, dlls/winaspi/winaspi16.c, dlls/wnaspi32/winaspi32.c:
	Patrik Stridvall <ps@leissner.se>
	Make it possible to compile with GNU C's -I- option.

	* loader/dos/dosvm.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Work around gcc sig11 fault.

	* objects/gdiobj.c: Thuy Nguyen <thuy@macadamian.com>
	Fixed rounding in MulDiv.

	* graphics/psdrv/Makefile.in, graphics/psdrv/clipping.c, graphics/psdrv/init.c, graphics/psdrv/ps.c, include/psdrv.h:
	Luc Tourangeau <luc@macadamian.com>
	- implementation of SetDeviceClipping
	- coordinate system origin fix

	* win32/kernel32.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Work-around for compiler bug.

	* dlls/comctl32/treeview.c, include/commctrl.h, include/treeview.h:
	Alex Priem <alexp@sci.kun.nl>
	- Implementation of simple comctl32 v5.0 changes.
	- TVM_SORTCHILDRENCB also accepts TVI_ROOT as a valid hParent.

	* dlls/advapi32/security.c: Ian Schmidt <irsman@iag.net>
	Added pointer validation and additional sanity check to IsValidSid().

	* controls/uitools.c: Dennis Bj|rklund <dennisb@cs.chalmers.se>
	Small fix in UITOOLS95_DrawRectEdge().
	Also a fix to draw scrollbar-buttons more like in win9x.

	* windows/painting.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	In WIN_UpdateNCRgn, do not send in WM_NCPAINT a region that is used
	afterwards, but a copy of it.

	* objects/region.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Check better that handles are actual handles to a region.

	* windows/dce.c: Lawson Whitney <lawson_whitney@juno.com>
	Stop DCE_GetVisRect dereferencing a null wndPtr.

	* configure.in, documentation/.cvsignore, documentation/Makefile.in, documentation/wine.conf.man.in, documentation/wine.man.in, Make.rules.in, README, configure:
	James Juran <jrj120@psu.edu>
	Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Updated README and man page.
	Split documentation for wine.conf into new wine.conf(5) manpage.

	* include/ole2.h, include/winerror.h, ole/Makefile.in, ole/clipboard.c, ole/ole2.c, ole/ole2stubs.c, ole/olecli.c:
	Noel Borthwick <noel@macadamian.com>
	Implemented the OLE Clipboard API.

	* windows/winpos.c: Abey George <abey@macadamian.com>
	Validate the parent with the child window client rectangle when the
	parent's update region is not empty.

	* include/win.h, windows/painting.c:
	Francis Beaudet <francis@macadamian.com>
	Delay WM_NCPAINT message until the "painter's algorithm" kicks in.

	* controls/combo.c: Francis Beaudet <francis@macadamian.com>
	Fixed fake WM_LBUTTONUP message.

	* include/winversion.h, misc/version.c: Ian Schmidt <irsman@iag.net>
	Added version information for Win98.

	* include/commctrl.h: Alex Priem <alexp@sci.kun.nl>
	Macro definitions used SNDMSG instead of SendMessage[AW]. Bad.

	* misc/main.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	debug_(snoop|relay)_(exclude|include)list => fixed allocation, modules
	are now stored uppercase.

	* controls/button.c: Francis Beaudet <francis@macadamian.com>
	Implemented the BS_ICON style.

	* windows/dialog.c: Ove Kaaven <ovek@arcticnet.no>
	CreateDialogParamA should not call CreateDialogParamW, because
	that'd create a dialog box with a Unicode dialog procedure...

	* controls/scroll.c: Dennis Bj|rklund <dennisb@cs.chalmers.se>
	Win9x look & feel on scrollbars.

	* graphics/psdrv/README, graphics/psdrv/init.c, include/psdrv.h:
	Thuy Nguyen <thuy@macadamian.com>
	Introduced a [psdrv] section in wine.conf with a ppdfile value
	specifying the path and name of the PPD file.

	* dlls/comctl32/updown.c, include/updown.h:
	Sylvain St-Germain <sylvain@macadamian.com>
	Implementation of the updown buddy windproc subclassing for the
	handling of keyboard up and down arrow.

	* DEVELOPERS-HINTS: Jim Aston <jima@corel.ca>
	Updated documentation to reflect renamed header.

	* misc/winsock.c: Ove Kaaven <ovek@arcticnet.no>
	Added missing include netinet/tcp.h, for TCP_NODELAY.

	* dlls/comctl32/imagelist.c: Luc Tourangeau <luc@macadamian.com>
	GetIcon bug fix.

Thu Jul 15 16:09:05 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/module.h, loader/ne/module.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Add WINAPI for EntryAddrProc.

	* misc/ddeml.c: Keith Matthews <keith_m@sweeney.demon.co.uk>
	Minor bug fixes in DdeNameService, also changes to move towards
	process-safe code.

	* controls/button.c: Dennis Bj|rklund <dennisb@cs.chalmers.se>
	Win9x look & feel on buttons and a fix for ownerdrawn buttons
	(background set to COLOR_BTNFACE).

	* if1632/kernel.spec:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	GlobalSmartPageUnlock() stub added.

	* miscemu/Attic/emulate.c, miscemu/Makefile.in, miscemu/main.c, relay32/Makefile.in, tools/build.c, Make.rules.in, Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/win87em/.cvsignore, dlls/win87em/Makefile.in, dlls/win87em/emulate.c, graphics/win16drv/Makefile.in, if1632/Makefile.in, memory/instr.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Use position-independent code in assembly glue when building .so.
	Include if1632/ and graphics/win16drv/ into WineLib.
	Move miscemu/emulate.c into dlls/win87em/.

	* include/multimedia.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Changed way of allocation open mci drivers (array => list); this list
	is now stored on a per process basis.

	* multimedia/mcianim.c, multimedia/mciavi.c, multimedia/mcicda.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed fixed size array to store specific data (now using
	mci(Set|Get)DriverData to store specific data).
	Make use of default debugtools.h channel.
	Added CALLBACK attribute to DriverProc.

	* multimedia/mci.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Changed way of allocation open mci drivers (array => list).
	First valid ID for mci devices is now 1 (some progs were testing this
	value).
	Started implementing mci command table resources.
	Handled closing on MCI_ALL.

	* multimedia/mcimidi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed fixed size array to store specific data (now using
	mci(Set|Get)DriverData to store specific data).
	Deferred opening of low-level device until play is requested.

	* multimedia/Attic/mcistring.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed return value for 'open' command.
	Changed way of allocation open mci drivers (array => list).

	* multimedia/mciwave.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed fixed size array to store specific data (now using
	mci(Set|Get)DriverData to store specific data).
	Fixed mmio chunk lookup on odd size 'fmt ' chunks.

	* multimedia/midi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Uniformized use of fd to midi device.
	Now allocating memory on system heap.
	Fixed bug when stopping all notes.

	* multimedia/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Cosmetic fixes.
	Changed way of allocation open mci drivers (array => list).
	Started implementing mci command table resources.

	* multimedia/time.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	No longer calling mm timers callbacks with mm timer crit sect locked.

	* misc/registry.c: Marcus Meissner <marcus@jet.franken.de>
	ERROR_MORE_DATA requires to write the needed number of bytes into the
	lpcchX value (verified against NT3.51 advapi32.dll).

	* include/winnt.h, win32/device.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed some CONTEXT86 vs. CONTEXT mismatches.

	* include/neexe.h, loader/ne/segment.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added support for 32-bit NE code segments.

	* dlls/comctl32/treeview.c: Alex Priem <alexp@sci.kun.nl>
	Fix a hang when we process WM_STYLECHANGED.
	Small optimization in TREEVIEW_DrawItem.
	Fix debugging crash in TREEVIEW_Expand.

Mon Jul 12 13:46:38 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/pidl.h: Marcus Meissner <marcus@jet.franken.de>
	Added missing prototype for ILFindChild().

	* dlls/advapi32/security.c, loader/dos/dosmod.c, misc/network.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Compiler warnings fix.

	* misc/comm.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Dumb fixes.

	* if1632/kernel.spec, loader/task.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed bugs introduced by 'register' and 'return' function changes.

	* graphics/ddraw.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed DirectDrawSurface::Flip, do not change flags, exchange the low
	level physical surfaces (verified for XLIB with WC Prophecy).

Sun Jul 11 17:20:06 1999  Alexandre Julliard  <julliard@winehq.com>

	* windows/keyboard.c, windows/user.c, windows/win.c, misc/system.c, misc/toolhelp.c, misc/w32sys.c, tools/build-spec.txt, tools/build.c, win32/kernel32.c, memory/global.c, memory/local.c, include/builtin16.h, loader/ne/module.c, loader/task.c, if1632/kernel.spec, if1632/keyboard.spec, if1632/system.spec, if1632/thunk.c, if1632/toolhelp.spec, if1632/user.spec, if1632/w32sys.spec, if1632/dummy.c:
	Take advantage of the new registers saved in the STACK16FRAME to turn
	some 'register' functions into normal functions.
	Removed the few remaining 'return' functions to simplify relay
	handling.

	* ipc/Attic/hash_test.c, ipc/Attic/run_tests, ipc/Attic/shm_block.c, ipc/Attic/shm_fragment.c, ipc/Attic/shm_fragment_test.c, ipc/Attic/shm_main_blk.c, ipc/Attic/shm_semaph.c, ipc/Attic/shm_semaph_test.c, ipc/Attic/wine_test_stub.c, loader/signal.c, loader/task.c, memory/atom.c, memory/global.c, misc/ddeml.c, windows/message.c, windows/win.c, windows/x11drv/event.c, Makefile.in, configure, configure.in, include/Attic/dde_atom.h, include/Attic/dde_mem.h, include/Attic/dde_proc.h, include/Attic/shm_block.h, include/Attic/shm_fragment.h, include/Attic/shm_main_blk.h, include/Attic/shm_semaph.h, include/dde.h, ipc/Attic/.cvsignore, ipc/Attic/Makefile.in, ipc/Attic/README, ipc/Attic/TEST_FRAGMENT.std, ipc/Attic/bit_array.c, ipc/Attic/bit_array_test.c, ipc/Attic/dde.tex, ipc/Attic/dde_atom.c, ipc/Attic/dde_atom_test.c, ipc/Attic/dde_mem.c, ipc/Attic/dde_mem_test.c, ipc/Attic/dde_proc.c, ipc/Attic/dde_proc_test.c, ipc/Attic/generic_hash.c, ipc/Attic/generic_hash.h:
	Marcus Meissner <marcus@jet.franken.de>
	Removed the old, historical and no longer working IPC support.

	* if1632/.cvsignore, if1632/Makefile.in, if1632/builtin.c, if1632/relay.c, if1632/snoop.c, if1632/thunk.c, include/builtin16.h, include/callback.h, include/module.h, include/stackframe.h, misc/Attic/callback.c, miscemu/main.c, relay32/.cvsignore, relay32/Makefile.in, scheduler/syslevel.c, tools/build.c, Make.rules.in:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Modularized CallFrom/To16 routines.  Adapted dependent routines,
	16-bit snoop/relay debugging, and make rules.

	* windows/message.c: Gerard Patel <g.patel@wanadoo.fr>
	Revert last change in window activation on mouse click.

	* memory/global.c: Rein Klazes <rklazes@casema.net>
	Fixed a case when GlobalSize did not return zero after an error.

Sat Jul 10 13:16:56 1999  Alexandre Julliard  <julliard@winehq.com>

	* server/socket.c: Howard Abrams <howard@cs.nps.navy.mil>
	Renamed static global variable 'iovec' to 'myiovec'.

	* windows/dinput.c, memory/virtual.c, misc/registry.c, misc/winsock.c, multimedia/joystick.c, scheduler/client.c, scheduler/thread.c, server/console.c, server/file.c, server/pipe.c, server/thread.c, win32/console.c, win32/device.c, win32/file.c, configure, configure.in, debugger/break.c, debugger/msc.c, debugger/source.c, debugger/stabs.c, files/directory.c, files/dos_fs.c, files/file.c, include/config.h.in, include/multimedia.h, include/windef.h, loader/pe_image.c:
	Howard Abrams <howard@cs.nps.navy.mil>
	Added checks for sys/errno.h, sys/signal.h and sys/mman.h.

	* windows/dialog.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Create dialog window using CreateWindowEx16/W depending on template
	type, not dialog procedure type.

	* dlls/shell32/shlfolder.c: Francois Boisvert <francois@macadamian.com>
	Made IShellFolder::fnParseDisplayName return a relative pidl.

	* dlls/comctl32/comctl32.h, dlls/comctl32/monthcal.c, dlls/comctl32/rsrc.rc, include/commctrl.h, include/monthcal.h:
	Alex Priem <alexp@sci.kun.nl>
	First try at the month calendar common control. Main features
	basically OK.

	* graphics/psdrv/init.c, include/winspool.h, dlls/winspool/info.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Implemented GetPrinterA and GetPrinterDriverA.

	* controls/button.c: Luc Tourangeau <luc@macadamian.com>
	Added BN_CLICKED notification in WM_SETFOCUS.

	* dlls/shell32/shellpath.c, dlls/shell32/shlfolder.c, dlls/shell32/shlmenu.c, dlls/shell32/shlview.c, dlls/shell32/shres.rc, include/docobj.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Small fixes.

	* relay32/Attic/shell32.spec, dlls/shell32/shellord.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Implemented StrToOleStrN.
	Fixed crash in ShellExecuteEx.
	Implemented SHRegOpenKeyA, SHRegQueryValueExA, StrToOleStr[A|W].
	Stubs for DoEnvironmentSubst[A|W], PathProcessCommand[A|W].

	* dlls/shell32/Makefile.in, dlls/shell32/memorystream.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	IStream interface for file access.

	* dlls/shell32/iconcache.c, dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixed crash during second DLL_PROCESS_DETACH if the dll
	refcount reached zero after the second one (memory freed twice).

	* dlls/shell32/pidl.c, dlls/shell32/pidl.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Some more pidl-types.
	Implementation of ILIsParent.

	* dlls/shell32/shelllink.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Completely rewritten. IPersistStream interface implemented.

	* dlls/shell32/shellole.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	DLLGetClassObject/Classfactory: create objects by CLSID not IID.

	* misc/main.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: exit() replaced by ExitProcess().

	* memory/local.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: correctly cope with end > 0xfffe.

	* library/winestub.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Call ExitProcess() after WinMain() returns.

	* loader/ne/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Improved behaviour of GetModuleHandle16 w.r.t dummy modules.
	Don't try to call WEP of dummy modules in FreeLibrary16().

	* include/winreg.h, misc/registry.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Added `const's to some registry API functions.

	* winedefault.reg: Ove Kaaven <ovek@arcticnet.no>
	Added a couple of DirectX CLSID entries. This makes Unreal completely
	independent of a windows installation.

	* ole/ole2nls.c: Dave Pickles <davep@nugate.demon.co.uk>
	GetTimeFormat() should return LocalTime not SystemTime.

	* programs/wcmd/ChangeLog, programs/wcmd/README, programs/wcmd/batch.c, programs/wcmd/builtins.c, programs/wcmd/directory.c, programs/wcmd/wcmd.h, programs/wcmd/wcmdmain.c, programs/wcmd/wcmdrc.rc:
	Dave Pickles <davep@nugate.demon.co.uk>
	FOR and IF commands added.
	MOVE command added, but no wildcard support.
	Redirection added.
	Fixed TIME (was reporting in GMT).
	More help text.

	* dlls/comctl32/tab.c: Abey George <abey@macadamian.com>
	Sometimes the text on a tab control got truncated.

	* controls/combo.c: Abey George <abey@macadamian.com>
	Fixed the height of the dropped list when there are few items in the
	list.

	* include/message.h, include/ttydrv.h, include/x11drv.h, scheduler/synchro.c, windows/event.c, windows/ttydrv/event.c, windows/winpos.c, windows/x11drv/event.c, windows/x11drv/keyboard.c, windows/x11drv/monitor.c, windows/x11drv/wnd.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed all EVENT_Synchronize( FALSE ) calls; use a periodic callback
	calling XFlush() instead.

	* include/psdrv.h, graphics/psdrv/Makefile.in, graphics/psdrv/bitblt.c, graphics/psdrv/bitmap.c, graphics/psdrv/brush.c, graphics/psdrv/init.c, graphics/psdrv/ps.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Added patterned brushes (level 2 PostScript only).
	Simple PatBlt for PATCOPY, WHITENESS and BLACKNESS.

	* dlls/comctl32/treeview.c: Alex Priem <alexp@sci.kun.nl>
	Implementation of TVM_SORTCHILDREN. Massaged TVM_SORTCHILDRENCB a bit
	to use the same code path.

	* loader/task.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fix InitTask() to work if DGROUP was manually resized.

	* dlls/advapi32/security.c, relay32/Attic/advapi32.spec:
	Ian Schmidt <irsman@iag.net>
	Added stub for SetThreadToken(), required by Office 2000.

	* include/commdlg.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: COMMDLG hook procedures were not CALLBACK.

	* ole/stg_stream.c: Thuy Nguyen <thuy@macadamian.com>
	It is possible for a stream to have both small block and big block
	chain as NULL.

	* loader/ne/module.c: Marcus Meissner <marcus@jet.franken.de>
	Made string compare case insensitive in GetModuleHandle16() as a
	quick fix for WinWord 6.

	* misc/network.c, relay32/mpr.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	Added stub for WNetGetUniversalName[A|W].

	* graphics/x11drv/palette.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixed crash due to invalid GDI_Obj.

	* objects/metafile.c: Juergen Schmied <juergen.schmied@metronet.de>
	Fixed crash due to invalid pointer.

----------------------------------------------------------------
Sun Jul  4 16:09:20 1999  Alexandre Julliard  <julliard@winehq.com>

	* windows/*.c, ole/*.c, files/*.c, multimedia/*.c:
	Converted to the new debug interface, using script written by Patrik
	Stridvall.

	* include/windef.h, include/winreg.h, tools/make_X11wrappers, tsx11/ts_xf86vmode.c, Makefile.in, graphics/ddraw.c, include/basetsd.h, include/ntdef.h, include/ts_xf86vmode.h, include/winbase.h:
	Patrik Stridvall <ps@leissner.se>
	Started on an implementation of Win64 for use on 64 bit platforms.

	* windows/nonclient.c: Noomen Hamza <noomen@macadamian.com>
	Windows should be activated in these cases:
	1- when we click on non active window.
	2- when we cancel a moving or resizing of a non active window.

	* documentation/distributors:
	Marcus Meissner <Marcus.Meissner@caldera.de>
	Added sample wine.conf.

	* graphics/ddraw.c, include/keyboard.h, include/ttydrv.h, include/x11drv.h, objects/dc.c, objects/gdiobj.c, windows/dinput.c, windows/ttydrv/init.c, windows/ttydrv/keyboard.c, windows/x11drv/init.c, windows/x11drv/keyboard.c:
	Patrik Stridvall <ps@leissner.se>
	Moved code to the X11 driver.

	* include/winuser.h, loader/resource.c, relay32/user32.spec:
	Joshua Thielen <thielen@netperson.net>
	Fixed DestroyAcceleratorTable and implemented CreateAcceleratorTableW.

	* windows/win.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	WIN_FindWindow: use GetExeptr(pWnd->hInstance) for CLASS_FindClassByAtom.

	* controls/scroll.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed check for whether to call SetWindowPos when showing a window
	scroll bar.

	* ole/typelib.c: Marcus Meissner <marcus@jet.franken.de>
	Check for complete lcid or just the primary language id in the
	registry lookups (fixes one FirstClassClient 32 problem).

	* windows/message.c: Per Ångström <pang@mbox304.swipnet.se>
	Fixed a problem with apps that override the default behaviour on
	WM_MOUSEACTIVATE message (main window was not activated).

	* loader/pe_resource.c: Marcus Meissner <marcus@jet.franken.de>
	When enumerating resource, only use the lower 31 bit of the name as
	the offset (for the highest bit is '1'). Should fix wine-net/257.

	* relay32/ntdll.spec, tools/wrc/writeres.c, dlls/ntdll/rtl.c, misc/wsprintf.c, multimedia/mcimidi.c:
	Patrik Stridvall <ps@leissner.se>
	Fixes for compile on non-Intel platforms.

	* dlls/advapi32/eventlog.c, dlls/advapi32/security.c, dlls/advapi32/service.c, include/ntddk.h, include/ntsecapi.h, include/winbase.h, include/windef.h, include/winnt.h, include/winreg.h, include/winsvc.h, include/wtypes.h:
	Patrik Stridvall <ps@leissner.se>
	Fixed/moved/added missing/wrong function prototypes.

	* dlls/commdlg/cdlg_Da.rc, documentation/status/internationalisation, programs/progman/Da.rc, resources/sysres_Da.rc:
	Henrik Olsen <henrik@iaeste.dk>
	Cleanup of the Danish support.

	* windows/winpos.c: Yuxi Zhang <yuxiz@corel.ca>
	Fix a bug in SetWindowPos to prevent parent from erasing its child
	painting area when parent window and child window don't have
	WS_CLIPCHILDREN and WS_CLIPSIBLINGS.

	* windows/defwnd.c: Yuxi Zhang <yuxiz@corel.ca>
	Make defwndproc erase the correct location.

Sat Jul  3 16:01:44 1999  Alexandre Julliard  <julliard@winehq.com>

	* relay32/crtdll.spec, windows/dinput.c, dlls/comctl32/propsheet.c, dlls/comctl32/trackbar.c, dlls/version/resource.c, if1632/relay.c, include/win.h, loader/elf.c, loader/pe_image.c, misc/crtdll.c, misc/shell.c, multimedia/dsound.c, dlls/advapi32/advapi.c, dlls/advapi32/eventlog.c, dlls/avifil32/avifile.c:
	Marcus Meissner <marcus@jet.franken.de>
	some small include fixes, some checks for NULL ptrs,
	loader/elf.c: fixed the "lib" insertion
	crtdll: added fsopen()
	dinput: return that we are attached.

	* controls/button.c: Reverted previous change.

	* controls/edit.c: Gerard Patel <g.patel@wanadoo.fr>
	Cancel pending notifications when EM_SETMODIFY is called.

	* dlls/comctl32/treeview.c: Alex Priem <alexp@sci.kun.nl>
	Fix a crash when doing sorted inserts at top level.

	* windows/nonclient.c: Ove Kaaven <ovek@arcticnet.no>
	Reworked nonclient drawing code. Win31 look now works more like real
	Win31, so apps like Delphi 1.0 no longer go into infinite recursion
	etc. Fixed a couple of bugs in win95 look too, but not as thoroughly
	(e.g. WS_EX_WINDOWEDGE is still not handled).

	* windows/sysmetrics.c: Ove Kaaven <ovek@arcticnet.no>
	SM_C[XY]FRAME is BorderWidth + 1.

	* memory/local.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: LocalInit with start == 0 always places heap at end of segment.

	* loader/task.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: TASK_CallToStart didn't pass correct hInstance to app.

	* loader/dos/module.c, loader/ne/module.c, loader/pe_image.c, loader/task.c, miscemu/main.c, scheduler/process.c, include/module.h, include/process.h, include/task.h, loader/main.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	On NE process creation, move major part of NE EXE module loading and
	NE instance creation into the child process.

	* documentation/gui: Ove Kaaven <ovek@arcticnet.no>
	Window style updates.

	* libtest/guitest.c: Ove Kaaven <ovek@arcticnet.no>
	Some enhancements, and removal of C++ constructs.

	* graphics/d3ddevices.c, graphics/ddraw.c, graphics/ddraw_private.h:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented chains of surfaces. This allows an unlimited number
	of backbuffers, and other attached surfaces (zbuffers, alpha buffers,
	whatever).

	* files/file.c, relay32/kernel32.spec:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Added UnlockFileEx stub.

	* documentation/status/internationalisation, resources/sysres_Ca.rc, resources/sysres_Es.rc:
	Jose Marcos Lopez Caravaca <jose.lopez@upcnet.upc.es>
	Added missing 61762 entry on system resources in Spanish and
	Catalonian languages.

	* controls/scroll.c: Gerard Patel <g.patel@wanadoo.fr>
	Make GetScrollInfo return scroll pos when program requests thumb pos
	outside drag operation.

Sun Jun 27 15:40:44 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/d3d_private.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Converted to the new debug interface.

	* win32/console.c: Marcus Meissner <marcus@jet.franken.de>
	ReadConsoleA: use ir as pointer to (req+1).

	* windows/painting.c: Gerard Patel <g.patel@wanadoo.fr>
	Remove the  validated child area from the update region of parent for
	windows without WS_CLIPCHILDREN style.

	* debugger/db_disasm.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Grp8 instructions have *byte* BitOffset operand.

	* msdos/vxd.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: missing WINAPIs added.

	* ole/ole2.c: Marcus Meissner <marcus@jet.franken.de>
	OleMetaFilePictFromIconAndLabel16: slightly broken, use LPOLESTR16.

	* files/file.c: Gerard Patel <g.patel@wanadoo.fr>
	Return ERROR_DISK_FULL for WriteFile.

	* programs/cmdlgtst/cmdlgtst.c: Eric Williams <ewill@ncal.verio.com>
	Fixed missing return after about dialog.

Sat Jun 26 19:09:11 1999  Alexandre Julliard  <julliard@winehq.com>

	* msdos/*.c, misc/*.c, miscemu/*.c, graphics/*.c:
	Converted to the new debug interface, using script written by Patrik
	Stridvall.

	* scheduler/thread.c, tools/build.c, win32/device.c, win32/kernel32.c, win32/ordinals.c, windows/win.c, loader/ne/module.c, loader/ne/segment.c, memory/global.c, memory/local.c, memory/selector.c, misc/callback.c, misc/error.c, misc/windebug.c, miscemu/emulate.c, msdos/devices.c, msdos/dpmi.c, msdos/int09.c, msdos/int10.c, msdos/int11.c, msdos/int12.c, msdos/int13.c, msdos/int15.c, msdos/int16.c, msdos/int17.c, msdos/int19.c, msdos/int1a.c, msdos/int20.c, msdos/int21.c, msdos/int25.c, msdos/int26.c, msdos/int29.c, msdos/int2a.c, msdos/int2f.c, msdos/int33.c, msdos/int3d.c, msdos/int41.c, msdos/int4b.c, msdos/int5c.c, msdos/interrupts.c, msdos/vxd.c, msdos/xms.c, dlls/ntdll/exception.c, dlls/ntdll/rtl.c, dlls/winaspi/winaspi16.c, if1632/builtin.c, if1632/relay.c, if1632/snoop.c, if1632/thunk.c, include/callback.h, include/dosexe.h, include/miscemu.h, include/msdos.h, loader/dos/dosvm.c, loader/task.c:
	Changed CONTEXT into CONTEXT86 everywhere we really want an i386
	context.
	Added #ifdef __i386__ around accesses to 386 registers in the generic
	CONTEXT structure.

	* include/winnt.h: Added CONTEXT86 definition.
	Added PowerPC context as an example (not tested).

	* relay32/relay386.c, relay32/snoop.c, include/wine/exception.h:
	Fixes for non-i386 compiling.

	* */*:
	Patrik Stridvall <ps@leissner.se>
	ANSI C fixes.
	Removed warnings.
	Made the include files self-sufficient.
	Some Solaris fixes.

	* relay32/comctl32.spec, dlls/comctl32/comctl32undoc.c, include/commctrl.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed DPA_LoadStream and improved DPA_Merge.

	* dlls/comctl32/treeview.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added check for invalid parent item.

	* dlls/shell32/shellord.c, relay32/shell32.spec:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added SHDoDragDrop() stub.

	* objects/region.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Improved GetRandomRegion().

	* misc/network.c, relay32/mpr.spec:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added WNetRemoveCachedPassword() stub.

	* dlls/comctl32/updown.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Store buddy window.

	* include/tooltips.h, dlls/comctl32/tooltips.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Started WM_NOTIFYFORMAT support.

	* dlls/comctl32/rebar.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Better ComboBoxEx placement.

	* loader/module.c: Dave Pickles <davep@nugate.demon.co.uk>
	Ensure that the command-line passed to the various *CreateProcess
	functions contains the path to the program being invoked.

	* windows/x11drv/wnd.c: Lars Heete <hel@admin.de>
	Prevent bad window X error.

	* windows/mdi.c, windows/sysmetrics.c:
	Abey George <abey@macadamian.com>
	The system menu icon on a MDI child window was corrupted when the
	child frame window is maximized within the main frame when the wine
	look is Windows 95.

	* controls/scroll.c, windows/defwnd.c:
	Slava Monich <Slava.Monich@netmanage.com>
	In case if scrollbar has the same background color as the window
	it belongs to, it needs to be filled with 0x55aa bitmap brush.

	* misc/registry.c: Marcus Meissner <Marcus.Meissner@caldera.de>
	Fixed the stringcompare in _find_or_add_*() (was missing tolower()s).

	* debugger/memory.c: Juergen Lock <nox@jelal.kn-bremen.de>
	Fix (well kludge around) FreeBSD's `Invalid address' errors.

	* controls/edit.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Draw a 3D border around edit controls when not in WIN31_LOOK.

	* controls/button.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Only draw a black border around normal buttons when in WIN31_LOOK.

	* multimedia/mmio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed alignment and position when looking for mmio chunks.

	* multimedia/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	No longer using global vars (shared data) for mm timers, but a
	specific structure for each attached process.
	Fixed alignment and position when looking for mmio chunks.
	Fixed WAVE mapper handling in waveGetCaps.

	* include/multimedia.h, multimedia/time.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	No longer using global vars (shared data) for mm timers, but a
	specific structure for each attached process.

	* documentation/distributors: Marcus Meissner <marcus@jet.franken.de>
	Wrote a small document on how to package WINE for distributors.

	* windows/nonclient.c: Noomen Hamza <noomen@macadamian.com>
	SetCursorPos() function was called with a window coordinates
	parameter.

	* multimedia/mcistring.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed null ptr deref introduced in last patch.

	* if1632/ole2.spec, ole/ole2.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Kind of implemented OleMetaFilePictFromIconAndLabel.

	* include/toolbar.h, dlls/comctl32/toolbar.c:
	Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Fixed various problems related to bitmaps and flat toolbars.

	* dlls/comctl32/listview.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Fixed problems with disappearing text.

	* dlls/comctl32/ipaddress.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Complete rewrite of messaging code to implement/fix all input behaviors.
	Fixed a few fixmes.

	* programs/wcmd/ChangeLog, programs/wcmd/README, programs/wcmd/batch.c, programs/wcmd/builtins.c, programs/wcmd/wcmd.h, programs/wcmd/wcmdmain.c:
	Dave Pickles <davep@nugate.demon.co.uk>
	Added more batch functionality, including the CALL GOTO and SHIFT
	commands plus batch command arguments.

	* documentation/status/multimedia: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Updated to reflect current status.

	* loader/ne/module.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	NE_LoadFileModule: Free module when NE_LoadDLLs fails.

	* graphics/psdrv/ps.c, graphics/psdrv/text.c, include/psdrv.h:
	Thuy Nguyen <thuy@macadamian.com>
	Implemented the underline and strikeout text attributes for the Wine
	PostScript driver.

	* windows/win.c: Pascal Lessard <pascal@macadamian.com>
	EnableWindow doesn't release the capture of a child window.

	* Makefile.in: James Juran <jrj120@psu.edu>
	Only test $(LIB_TARGET) = libwine.so.1.0 if $(LIB_TARGET) is
	non-blank.

	* controls/menu.c: Noomen Hamza <noomen@macadamian.com>
	Remove the WM_LBUTTONUP message from the queue after selecting a mouse
	menu item.

	* server/change.c, server/console.c, server/debugger.c, server/device.c, server/event.c, server/file.c, server/handle.c, server/mapping.c, server/mutex.c, server/object.c, server/object.h, server/pipe.c, server/process.c, server/request.c, server/request.h, server/semaphore.c, server/snapshot.c, server/socket.c, server/thread.c, server/thread.h, server/trace.c, tools/make_requests, win32/console.c, win32/device.c, include/server.h, include/thread.h, loader/dos/module.c, memory/virtual.c, misc/comm.c, misc/toolhelp.c, ole/parsedt.c, scheduler/client.c, scheduler/debugger.c, scheduler/event.c, scheduler/handle.c, scheduler/mutex.c, scheduler/pipe.c, scheduler/process.c, scheduler/semaphore.c, scheduler/synchro.c, scheduler/thread.c, files/change.c, files/dos_fs.c, files/file.c:
	Further server optimizations:
	- merged request and reply structures
	- build requests directly into the buffer to avoid a copy

Tue Jun 22 19:14:41 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/shell32_Ru.rc, graphics/x11drv/xfont.c, ole/nls/rus.nls, resources/sysres_Ru.rc, dlls/commdlg/cdlg_Ru.rc:
	Alexander Kanavin <ak@cave.hop.stu.neva.ru>
	Standard dialog boxes resources and OLE strings are now in cp1251 encoding
	Font mapper does not anymore use fonts in -koi8-r encoding
	Font mapper now recognises fonts in -windows-* encodings (these are
	provided by xfstt TrueType server)
	Font mapper now sees max 16384 fonts (was 2048)

	* relay32/builtin32.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Share the HMODULE of built-in modules over all processes.
	Use the cached HMODULE to speed up relay debugging.
	Display the multi-instantiation warning only for 'dangerous' DLLs.

	* scheduler/process.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Load USER32.DLL before calling UserSignalProc.

	* windows/timer.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Use separate service for each windows timer.

	* if1632/compobj.spec, ole/compobj.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Added COMPOBJ.DllEntryPoint (Acrobat3 16bit needs it).

	* ole/typelib.c, dlls/comctl32/listview.c, dlls/comctl32/treeview.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Thou shalt not use C++ comments.

	* include/driver.h, windows/driver.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Moved to new trace interface.
	Fixed driver closing.

	* multimedia/mcistring.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Better handling of double quotes in MCI string commands.

	* multimedia/mci.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed memory leak in mci structures.

	* graphics/ddraw.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed error handling in DGA_IDirectDraw2Impl_GetCaps().

	* graphics/x11drv/clipping.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added missing GDI heap unlock.
	Moved to new debug interface.

	* dlls/commdlg/filedlg.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed GetOpenFileName when called with both OFN_ALLOWMULTISELECT and
	OFN_EXPLORER bits set.

	* dlls/comctl32/imagelist.c:
	Francois Boisvert <francois@macadamian.com>
	Modified ImageList_LoadImageA to check the case where cx is set to zero.

	* windows/x11drv/keyboard.c: Philippe Froidevaux <pf@spin.ch>
	Added Swiss french keyboard layout.

	* server/select.c: Dump server objects on SIGHUP.

	* server/file.c, server/handle.c, server/handle.h, server/main.c, server/mapping.c, server/mutex.c, server/object.c, server/object.h, server/pipe.c, server/process.c, server/request.c, server/request.h, server/semaphore.c, server/snapshot.c, server/socket.c, server/thread.c, server/thread.h, server/trace.c, tools/make_requests, win32/console.c, include/server.h, include/server/Attic/request.h, include/thread.h, memory/virtual.c, misc/comm.c, scheduler/client.c, scheduler/debugger.c, scheduler/event.c, scheduler/mutex.c, scheduler/pipe.c, scheduler/semaphore.c, scheduler/thread.c, server/change.c, server/console.c, server/debugger.c, server/device.c, server/event.c, files/file.c:
	Made server communication faster by using a shared memory block.
	A few other optimizations in request processing in the server.
	Moved automatically generated request definitions to server.h and
	removed include/server/request.h.

	* windows/message.c, windows/queue.c, windows/win.c, windows/winproc.c, loader/main.c, loader/ne/segment.c, loader/task.c, miscemu/main.c, msdos/dpmi.c, scheduler/client.c, scheduler/process.c, scheduler/sysdeps.c, scheduler/syslevel.c, scheduler/thread.c, tools/build.c, win32/kernel32.c, debugger/stack.c, dlls/ntdll/exception.c, if1632/relay.c, if1632/thunk.c, include/process.h, include/queue.h, include/stackframe.h, include/task.h, include/thread.h, include/winbase.h, include/winnt.h:
	Merged THDB and TEB structures.
	Made SetLastError(), GetCurrentThreadId() and PROCESS_Current() inline.

	* programs/winhelp/.cvsignore, programs/clock/.cvsignore, programs/progman/.cvsignore:
	Added Wa.s

Sun Jun 20 15:09:32 1999  Alexandre Julliard  <julliard@winehq.com>

	* memory/instr.c, miscemu/main.c, programs/clock/Wa.rc, programs/progman/Wa.rc, programs/winhelp/Wa.rc:
	Fixed Winelib compilation.

Fri Jun 18 18:29:04 1999  Alexandre Julliard  <julliard@winehq.com>

	* memory/Makefile.in, memory/instr.c, miscemu/Attic/instr.c, miscemu/Makefile.in:
	Include instruction emulation in Winelib.

	* include/wine/exception.h, win32/except.c: A few optimizations.

	* loader/dos/dosvm.c: Use exceptions instead of ctx_debug_call.

	* include/winbase.h, relay32/kernel32.spec, scheduler/syslevel.c, windows/x11drv/main.c:
	Added DebugBreak.

	* debugger/break.c, debugger/dbg.y, debugger/debug.l, debugger/info.c, debugger/registers.c, include/debugger.h, miscemu/main.c:
	Debugger is now called by exception handling.
	Added 'pass' command to pass exceptions to the app.

	* include/miscemu.h, include/sig_context.h, loader/signal.c, dlls/ntdll/exception.c, graphics/ddraw.c:
	Moved signal handling to exception.c, generate exceptions on signals.
	Added hook for debugger in exception handling (temporary).

	* programs/progman/Makefile.in, programs/progman/Wa.rc, programs/winhelp/Makefile.in, programs/winhelp/Wa.rc, resources/sysres_Wa.rc, ole/nls/wal.nls, programs/clock/Makefile.in, programs/clock/Wa.rc, programs/notepad/Makefile.in, programs/notepad/Wa.rc, dlls/commdlg/cdlg_Wa.rc, dlls/shell32/shell32_Wa.rc:
	Pablo Saratxaga <srtxg@ping.be>
	Walloon language update.

	* windows/winpos.c, windows/x11drv/event.c, windows/x11drv/wnd.c, include/winpos.h, include/winuser.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	- Do not call XConfigureWindow if SetWindowPos was called due to a
	  received ConfigureNotify event (to avoid recursion).
	- Use XTranslateCoordinates in EVENT_GetGeometry instead of manually
	  walking the tree.
	- Set XSizeHint.win_gravity to StaticGravity for managed windows.

	* misc/version.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Bug fix.

	* loader/pe_image.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fix compiler warning.

	* documentation/Makefile.in, Makefile.in:
	Alexander V. Lukyanov <lav@long.yar.ru>
	Install wine.man from current directory.
	Remove wine.man on distclean, not on clean.

----------------------------------------------------------------
Sun Jun 13 08:49:47 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/listview.c, include/listview.h:
	Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Implemented LISTVIEW_SortItems() and LISTVIEW_CallBackCompare()

	* dlls/comctl32/status.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Fixes a problem when using STATUSBAR_SetText() to toggle SBT_OWNERDRAW

	* dlls/comctl32/treeview.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Adds some undocumented behavior to TREEVIEW_GetItemA().

	* loader/module.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed ambigous else/brace problem, moved "name" computation in
	CreateProcess _before_ outputting it in the FIXME_()s.

	* objects/region.c: Marcus Meissner <marcus@jet.franken.de>
	Do not reuse a passed CONST RECT * pointer.

	* windows/x11drv/mouse.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: DISPLAY_SetCursor should not use USER-internals, as it is also
	used with native USER ...

	* loader/pe_image.c, scheduler/process.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed broken hack to support shared DLLs (e.g. USER32.DLL) and
	replaced it by a somewhat less broken hack :-/

	* multimedia/mci.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed small memory corruption.

Sat Jun 12 18:36:55 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/*.h:
	Patrik Stridvall <ps@leissner.se>
	Mad the include files idempotent using a consistent macro naming
	scheme.

	* windows/painting.c: Noomen Hamza <noomen@macadamian.com>
	Avoid painting destroyed windows.

	* dlls/*.c, if1632/*.c, loader/*.c:
	Converted to the new debug interface, using script written by Patrik
	Stridvall.

	* if1632/builtin.c, loader/ne/module.c, loader/ne/segment.c, memory/atom.c, memory/string.c, objects/text.c, win32/thread.c, windows/property.c, windows/rect.c, windows/sysmetrics.c, dlls/advapi32/advapi.c, dlls/commdlg/filetitle.c, dlls/ntdll/nt.c, dlls/ntdll/sync.c:
	Patrik Stridvall <ps@leissner.se>
	Added missing/wrong includes.

	* windows/user.c, windows/x11drv/event.c, controls/icontitle.c, controls/menu.c, controls/widgets.c, debugger/dbg.y, debugger/dbgmain.c, loader/module.c, misc/spy.c, windows/message.c, windows/painting.c, windows/scroll.c:
	Patrik Stridvall <ps@leissner.se>
	Removed direct references to CLASS internals.

	* include/process.h, misc/version.c, scheduler/process.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Rearrange winver detection code and cache the winver value we
	determined in the PDB to speed up.

	* windows/nonclient.c: Gerard Patel <g.patel@wanadoo.fr>
	Draws a border around windows with old win31 style (only ws_border) in
	win95 look.

	* include/commctrl.h, include/prsht.h, include/wine/obj_dataobject.h, include/wtypes.h:
	Patrik Stridvall <ps@leissner.se>
	Added CINTERFACE and NONAMELESSUNION support.

	* include/*.h:
	Patrik Stridvall <ps@leissner.se>
	Added extern "C" if __cplusplus is defined.

	* include/combo.h, controls/combo.c, controls/listbox.c:
	Francis Beaudet <francis@macadamian.com>
	Fixed a few behaviors of the combobox that were broken.

	* debugger/dbg.y, debugger/debug.l, debugger/info.c, include/module.h, include/process.h, loader/module.c, scheduler/process.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Add new "walk" command options to list processes and modref's.

	* graphics/x11drv/dib.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	X11DRV_DIB_SetImageBits_24/32: Fix the case for bits_per_pixel == 32
	and negative lines.

	* dlls/comctl32/status.c, dlls/comctl32/tab.c, dlls/comctl32/tooltips.c, dlls/comctl32/trackbar.c, dlls/comctl32/updown.c, include/winuser.h, dlls/comctl32/comboex.c, dlls/comctl32/commctrl.c, dlls/comctl32/datetime.c, dlls/comctl32/flatsb.c, dlls/comctl32/header.c, dlls/comctl32/hotkey.c, dlls/comctl32/imagelist.c, dlls/comctl32/ipaddress.c, dlls/comctl32/monthcal.c, dlls/comctl32/nativefont.c, dlls/comctl32/pager.c, dlls/comctl32/progress.c, dlls/comctl32/rebar.c:
	Patrik Stridvall <ps@leissner.se>
	Changed xxx(VOID) to xxx(void).

	* multimedia/time.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	- simplified internal data
	- thread safe access to internal structures
	- fixed bug on ONE_SHOT timers
	- deferred service thread call until really needed (no longer on WINMM
	  or MMSYSTEM attachement)

	* include/process.h, include/services.h, loader/main.c, scheduler/services.c, scheduler/thread.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Made the service thread instanciable in every process.

	* Make.rules.in, Makefile.in, configure, configure.in:
	James Juran <jrj120@psu.edu>
	Use Autoconf to find path to ldconfig.

	* ole/typelib.c: Francis Beaudet <francis@macadamian.com>
	Fixed a problem with the LoadTypeLib method.

	* misc/Makefile.in, misc/registry.c: Marcus Meissner <mm@jet.lst.de>
	Use @sysconfdir@ for the default registries in misc/registry.c too.

	* graphics/ddraw.c: Marcus Meissner <mm@jet.lst.de>
	Added generic pixel converter for 8->24.

	* windows/dialog.c: Pavel Roskin <pavel_roskin@geocities.com>
	DIALOG_ParseTemplate16() supported up to 127 controls. Bigger values
	were expanded to WORD incorrectly.

	* loader/dos/dosvm.c, loader/dos/module.c, msdos/dpmi.c:
	Ove Kaaven <ovek@arcticnet.no>
	Various DPMI fixes and preliminary DPMI raw mode switch handler.

	* windows/mdi.c: Noomen Hamza <noomen@macadamian.com>
	Fixed imprecision in the MDI tiling functionality.

	* objects/metafile.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Open files with more appropriate sharing mode.

	* objects/enhmetafile.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Small fixes for EnhMetaFile playback.

	* dlls/comctl32/comctl32undoc.c: Ian Schmidt <irsman@iag.net>
	Fixed an error and an off-by-one bug in DSA_SetItem().  This
	eliminates some crashes with Win98 native SHELL32.

	* graphics/ddraw.c: Marcus Meissner <marcus@jet.franken.de>
	Remove DIABLO_HACK (does not work anymore), add 1 FIXME, fix GetCaps()
	with caps1==NULL.

	* windows/syscolor.c: Slava Monich <Slava.Monich@netmanage.com>
	dwDataSize needs to be reset before each RegQueryValueEx() call.

	* multimedia/dsound.c: Ove Kaaven <ovek@arcticnet.no>
	Don't ignore application-requested primary buffer flags.

	* tools/build.c: Ove Kaaven <ovek@arcticnet.no>
	Clear high word of %esp when returning from CallFrom16.

	* include/comm.h, misc/comm.c: Ove Kaaven <ovek@arcticnet.no>
	Implementation of EV_RXFLAG.

	* windows/winpos.c, windows/x11drv/event.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Better implementation of [GS]etForegroundWindow.
	Fixed focus handling on inter-thread activation.
	Adapted FocusIn/Out event handling to per-queue focus.

	* loader/ne/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Release Win16Lock during PROCESS_Create.

	* dlls/comctl32/imagelist.c: Luc Tourangeau <luc@macadamian.com>
	ImageList_GetIcon bug fix.

	* win32/time.c: Rein Klazes <rklazes@casema.net>
	Corrected a problem in GetTimeZoneInformation() due a change to
	mktime() in glibc-2.1.1 when daylight saving time is in effect.

	* debugger/db_disasm.c: Patrik Stridvall <ps@leissner.se>
	Changed K&R C function definition to ANSI C.

	* graphics/psdrv/bitmap.c, include/psdrv.h:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	PSDRV_StretchDIBits should use logical co-ords.
	Some versions of ghostscript seem to eat one too many characters of
	image data. Add a '%' to the output file to work around this.

	* relay32/wnaspi32.spec:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Fixed WNASPI32 ordinals.

	* include/winbase.h:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Added the function definitions of GetStartupInfo*().

	* documentation/status/dde, misc/ddeml.c:
	Keith Matthews <keith_m@sweeney.demon.co.uk>
	1st cut implementation of DdeNameService (omits monitor callback)
	1st cut implementation of DdeKeepStringHandle (probably complete)
	DdeInitializeW - minor changes to initialise service names structure
	DdeGetLastError - start of proper last error retrieval
	DdeCreateStringHandle16 - added code for default codepage where not
	supplied.
	Various documentary/comment corrections.

Fri Jun 11 18:33:46 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/process.h, memory/environ.c, scheduler/process.c:
	Use the normal environment routines to build the env db of the initial
	process.

	* include/server.h, server/console.c, server/object.h, server/process.c, server/process.h, server/trace.c, tools/make_requests, win32/console.c:
	Return console handles in alloc_console request.
	Fixed read_console_input parameters to conform to the reply structure
	declaration.

Mon Jun  7 17:46:39 1999  Alexandre Julliard  <julliard@winehq.com>

	* objects/bitmap.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed CreateCompatibleBitmap when called with 0 width or height.

	* multimedia/mmio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed mmioDescend when called with a parent chunk.

	* loader/signal.c: Marcus Meissner <marcus@jet.franken.de>
	Trying to fix sigaltstack() problem reported by Debian users.
	SIGTRAP might be undefined (beos).

	* ole/typelib.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed TLB_Read (can easily get count!=bytesread at the end of the file).
	Fixed TLB_FindTlb (strstr on binary data will not work).

	* dlls/comctl32/treeview.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed >> and * operator precedence problem.

	* windows/x11drv/mouse.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed order for entering critical sections (X11 vs. WndLock) when
	calling X11DRV_MOUSE_SetCursor.

	* loader/module.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Consult ne.operating_system field for NE files in GetBinaryType().

	* server/process.c: Fixed initial process refcount.

Sun Jun  6 17:28:21 1999  Alexandre Julliard  <julliard@winehq.com>

	* documentation/status/directplay, loader/dos/Makefile.in, documentation/Makefile.in, documentation/cdrom-labels:
	Forced commit to get rid of the vendor branch

	* programs/cmdlgtst/.cvsignore: Added cmdlgr.h

	* programs/regapi/regapi.c:
	Avoid use of strncmpi (reported by Ron Cemer).

	* include/wine/winestring.h, multimedia/joystick.c, include/winbase.h, include/winuser.h:
	Moved inclusion of winestring.h to winebase.h.
	Added Winelib macros for lstrncmp functions.

	* controls/scroll.c: Ron Cemer <roncemer@gte.net>
	Fixes for several bugs in which portions of the scrollbar were not
	being redrawn correctly, the focus rectangle was not being correctly
	removed from the thumb before redrawing, etc.; added complete Win9x
	and WinNT look and feel support.

	* windows/sysmetrics.c: Ron Cemer <roncemer@gte.net>
	Fixes for Win9x and WinNT look and feel.

	* files/dos_fs.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Fixed response of GetFullPathNameA when buffer==NULL.

	* files/file.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	CreateFileA/FILE_DoOpenFile: add verbose reporting of arguments.

	* configure.in, programs/Makefile.in, programs/wcmd/.cvsignore, programs/wcmd/ChangeLog, programs/wcmd/Makefile.in, programs/wcmd/README, programs/wcmd/batch.c, programs/wcmd/builtins.c, programs/wcmd/directory.c, programs/wcmd/makefile.bcc, programs/wcmd/wcmd.h, programs/wcmd/wcmdmain.c, programs/wcmd/wcmdrc.rc, configure:
	Dave Pickles <davep@nugate.demon.co.uk>
	Added Wine command-line interpreter.

	* if1632/thunk.c, include/callback.h, misc/callback.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed Callback.CallTaskRescheduleProc().

	* include/main.h, miscemu/main.c, tools/build.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Switch stacks in CALL32_Init().

	* loader/task.c, scheduler/process.c, include/process.h, include/task.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	16-bit scheduler reorganized: run all tasks in their own thread.
	Process creation sequence adapted to new scheduler.

	* include/services.h, loader/main.c, scheduler/services.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed SERVICE_Exit().

	* windows/queue.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Release WND lock before calling PostEvent16().

	* include/wnaspi32.h:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Add some defines.

	* dlls/wnaspi32/winaspi32.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	ASPI_ExecScsiCmd: better return value and verbose error when no device
	found.

	* loader/module.c: Guy Albertelli <galberte@neo.lrun.com>
	Use SearchPath to test for existance of programs in lpCmdLine
	processing. For lpApplName do not append ".exe" and use
	DOSFS_GetFullName to locate the program. Move module find process
	after flag testing and provide quick exit if not found.

	* windows/dialog.c: Slava Monich <Slava.Monich@netmanage.com>
	Implemented dialog units -> pixels conversion very close to how it's
	actually done by Windows.

Sat Jun  5 15:23:20 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c, dlls/commdlg/fontdlg.c, include/commdlg.h, include/initguid.h, include/objbase.h, include/ole2.h, include/windef.h, include/wine/obj_dataobject.h, include/wine/obj_inplace.h, include/wine/obj_moniker.h, include/wine/obj_oleaut.h, include/wine/obj_oleobj.h, include/winerror.h, include/wingdi.h, include/winuser.h, include/wtypes.h, ole/bindctx.c, ole/moniker.c:
	Paul Quinn <paulq@corel.ca>
	Some non-threatening fixes to some headers, as well as some casting
	changes that make winelib more win32 code compatible.

	* files/drive.c, include/winbase.h, relay32/kernel32.spec:
	<davep@nugate.demon.co.uk>
	Stub for SetVolumeLabel().

	* windows/message.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Add back lost treatment of HWND_TOPMOST.

	* windows/x11drv/event.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Try to improve ConfigureNotify event processing.

	* objects/pen.c: Joshua Thielen <thielen@netperson.net>
	Allow pens with styles greater than PS_INSIDEFRAME to be created with
	ExtCreatePen.

	* relay32/oleaut32.spec, include/debugdefs.h, include/wine/obj_oleaut.h, ole/typelib.c, ole/typelib.h:
	Rein Klazes <rklazes@casema.net>
	Read/load type libraries. Implementation of ITypeLib, ITYpeInfo,
	ITypeLib2 and ITypeInfo2 methods.

	* ole/ole2disp.c: Rein Klazes <rklazes@casema.net>
	Allow NULL as argument to SysFreeString in accordance with SDK.

	* DEVELOPERS-HINTS: Klaas van Gend <klaas@vangend.demon.nl>
	- more up-to-date description of source tree
	- better example of required comments for an API implementation
	- replacement of WINE_PACKED by "pshpack1.h", etc.
	- naming conventions for non-api calls and types
	- location conventions for non-api header files and prototypes

	* relay32/mpr.spec, include/winnetwk.h, include/wnet.h, misc/network.c:
	Robert W Hall <bobh@n-cantrell.demon.co.uk>
	Added 2 stubs.

	* if1632/thunk.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed behaviour of Alloc..ThunkletCallback[Ex] for NULL target.

	* windows/x11drv/event.c, windows/x11drv/wnd.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed potential memory corruption in EVENT_QueryZOrder.
	Fixed potential X synchronization problem in X11DRV_WND_SetHostAttr.

	* files/directory.c: Guy Albertelli <galberte@neo.lrun.com>
	Correct search order in SearchPath for Win 3.1/95/98. Still broken for NT.

	* windows/win.c: Slava Monich <Slava.Monich@netmanage.com>
	o check for both CW_USEDEFAULT and CW_USEDEFAULT16.
	o if x is CW_USEDEFAULT (or CW_USEDEFAULT16) and y is *not*
	  CW_USEDEFAULT (or CW_USEDEFAULT16) then use y as a second
	  parameter to ShowWindow(). Some apps (CALC.EXE for Win98
	  is one of them) use this undocumented feature to create
	  hidden window with WS_VISIBLE style set.

	* relay32/comctl32.spec, dlls/comctl32/comctl32undoc.c:
	Ian Schmidt <irsman@iag.net>
	Added partial implementation for DPA_LoadStream and stub for
	DPA_SaveStream.  Thanks to Eric Kohl (ekohl@abo.rhein-zeitung.de) for
	the partial implementation and parameter information.

	* debugger/stabs.c: Pavel Roskin <pavel_roskin@geocities.com>
	Make it possible to link Wine statically (at least on RedHat 6.0).

	* controls/menu.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	When looking into sys menu, check if items are present before
	dereferencing.

	* documentation/Attic/wine.man: Marcus Meissner <marcus@jet.franken.de>
	Autoconfigure the directories in the manpage.

	* include/message.h, include/ttydrv.h, include/x11drv.h, windows/event.c, windows/ttydrv/event.c, windows/ttydrv/init.c, windows/winpos.c, windows/x11drv/event.c, windows/x11drv/init.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed DummyMotionNotify EVENT driver routine.

	* configure, configure.in, documentation/.cvsignore, documentation/Makefile.in, documentation/wine.man.in:
	Marcus Meissner <marcus@jet.franken.de>
	Autoconfigure the directories in the manpage.

	* files/file.c, include/winbase.h, relay32/kernel32.spec:
	James Juran <jrj120@psu.edu>
	Add stub for LockFileEx (KERNEL32.513).

	* documentation/status/internationalisation:
	Klaas van Gend <klaas@vangend.demon.nl>
	Current status of Wine on internationalisation.

	* controls/button.c: Rein Klazes <rklazes@casema.net>
	Do not process WM_LBUTTONUP message in ButtonWndProc()
	when the mouse is not captured.

	* graphics/psdrv/init.c, objects/dc.c:
	Noel Borthwick <noel@macadamian.com>
	From CreateCompatibleDC, pass the device name associated with the
	source DC in order to allow PSDRV_CreateDC to locate the printer info
	for the device.

	* multimedia/mcistring.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added some digital video interface
	Fixed a few bugs (device names are no longer converted to upper case,
	added call back window, all structures moved to 32 bit...).

	* if1632/thunk.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Workaroung gcc 2.7.2.x sig 11 issue.

	* include/multimedia.h, multimedia/mci.c, multimedia/mmsystem.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added (still incomplete) handling of MCI_BREAK command.

	* documentation/no-windows: James Juran <jrj120@psu.edu>
	Updated documentation/no-windows.

	* graphics/ddraw.c: Marcus Meissner <marcus@jet.franken.de>
	Speedup enhancement for the 8->16 and 8->32 copy loop hotspots,
	using a faster generic routine and some inline assembly for i386
	(cleanups by Ove).

Fri Jun  4 19:49:54 1999  Alexandre Julliard  <julliard@winehq.com>

	* server/handle.c, server/handle.h, server/process.c, server/process.h, server/thread.c:
	Made handle table a separate object.
	Global handle table is no longer bound to a process.
	Removed special handling of the initial process.

	* server/main.c, server/object.c, server/object.h:
	Added optional debugging code in object management.

Sat May 29 14:27:27 1999  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/client.c, scheduler/process.c, scheduler/sysdeps.c, scheduler/syslevel.c, scheduler/thread.c, windows/queue.c, windows/winproc.c, include/thread.h, loader/task.c:
	Got rid of THREAD_InitDone.
	Made THREAD_Current() inline.
	Moved server tid into TEB.

	* windows/dialog.c: Luc Tourangeau <luc@macadamian.com>
	Reimplemented the CheckRadioButton function.

	* dlls/comctl32/tab.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Fixed incorrect lookup of background color.

	* dlls/comctl32/commctrl.c, dlls/comctl32/status.c:
	Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Fixed problems when using multiple style flags together.

	* dlls/comctl32/tooltips.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Fixed a problem when using string resources as tooltext.

	* windows/win.c: Francis Beaudet <francis@macadamian.com>
	Fixed a behavior of the focus when a parent window is disabled.

	* graphics/x11drv/graphics.c: Joshua Thielen <thielen@netperson.net>
	Fixed a bug which causes the PolyBezier to not be updated on redraw
	(when you want them to be).

	* windows/input.c: Gerard Patel <g.patel@wanadoo.fr>
	Remove unnecessary warning in TranslateAccelator.

	* server/handle.c:
	Fixed duplicate_handle to work with pseudo-handles (reported by Marcus
	Meissner).

	* dlls/commdlg/cdlg_xx.rc, dlls/ver/ver16.c, dlls/version/info.c, dlls/version/install.c, dlls/version/resource.c, include/ver.h, include/winver.h, tools/wrc/wrctypes.h:
	Paul Quinn <paulq@corel.ca>
	ver.h is a legacy header. winver.h should be used instead.

	* dlls/tapi32/phone.c, misc/crtdll.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed some warnings.

	* include/commctrl.h, include/listview.h, dlls/comctl32/listview.c:
	Luc Tourangeau <luc@macadamian.com>
	- Reimplemented the scrolling using SetScrollInfo and GetScrollInfo.
	- Implemented LVM_FINDITEM message.
	- Added some new window styles.
	- Fixed some bugs and extended a number of existing functions.
	- Modified selection functions to support area selection (for group
	  selection in LVS_ICON and LVS_SMALLICON).

	* misc/comm.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed a couple of missing event notifications. Some more debugging
	messages.

	* windows/x11drv/keyboard.c: Rikhardur Egilsson <rikardur@sky.fr>
	Icelandic keyboard support.

	* graphics/ddraw_private.h, graphics/ddraw.c:
	Lionel Ulmer <ulmer@directprovider.net>
	- better debug output for surface creation
	- added (experimental) DIBSection implementation of GetDC / ReleaseDC

	* graphics/d3ddevices.c: Lionel Ulmer <ulmer@directprovider.net>
	Corrected warning.

	* controls/menu.c: Pascal Lessard <pascal@macadamian.com>
	Support TPM_RETURNCMD in TrackPopupMenu.

	* win32/console.c: Marcus Meissner <marcus@jet.franken.de>
	Fix <return> key (somehow we get a control keystate).

	* loader/dos/module.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed compilation erros on non-Linux systems.

	* include/debugtools.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added missing TRACE define when NO_DEBUG_MSGS was defined.

	* dlls/shell32/shellord.c: Ian Schmidt <irsman@iag.net>
	Added missing WINAPI for SHValidateUNC.

	* documentation/languages: Klaas van Gend <klaas@vangend.demon.nl>
	Adapted to the new dll resource handling by Bertho Stultiens.

Mon May 24 15:02:18 1999  Alexandre Julliard  <julliard@winehq.com>

	* misc/shell.c: Release the Win16Lock before calling WinExec.

	* scheduler/thread.c, include/process.h, loader/ne/module.c, loader/task.c:
	Removed process argument to PROCESS_CallUserSignalProc.

	* scheduler/process.c:
	Moved remaining initialisations to the new process context.
	Shuffled things around a bit in PROCESS_Start to avoid deadlocks.
	Changed PROCESS_CallUserSignalProc to avoid accessing another process
	address space.

	* include/server.h, server/process.c, server/trace.c, tools/make_requests:
	Added support for dumping variable-size data of server replies.
	Added cmd_line and cmd_show in new_process request.

	* if1632/mmsystem.spec: Eric Pouech <Eric.Pouech@wanadoo.fr>
	fixed builtin mmsystem.dll init sequence

	* multimedia/Attic/init.c, multimedia/Makefile.in:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	removed obsoleted init.c source file

	* include/multimedia.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	removed unnecessary MCI drivers entry point
	added undocumented mmsystem functions

	* multimedia/time.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	moved to new trace interface
	now calling time init function from mmsystem and/or winmm entry point

	* multimedia/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	included DLL init sequence (from obsoleted init.c)
	fixed builtin mmsystem.dll init sequence
	fixed PlaySound when used with an asynchronous audio driver
	fixed midiStream functions for Stop/Pause/Restart functions
	fixed error handling in waveOutOpen with QUERY_FORMAT flag

	* multimedia/midi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	included midi init sequence (from obsoleted init.c)
	moved to new trace interface
	simplified code with using new configuration constant (HAVE_OSS_MIDI)
	fixed erroneous warnings

	* multimedia/mci.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	included mci init sequence (from obsoleted init.c)
	moved to new trace interface

	* multimedia/audio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	output: better internal thread interface (orthogonalization of states and events)
	output: removed use of DSP_IOCTL_GETOSPACE
	output: fixed latency in reset messages handling
	output: replaced some polling mechanisms with blocking ones
	output: fixed get/set volume functions

	* multimedia/mciwave.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	moved to the new debug interface
	fixed bugs in pause/play/stop functions
	fixed signature of driver entry point

	* multimedia/mcimidi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	moved to the new debug interface
	fixed bugs in pause/play functions
	fixed signature of driver entry point

	* multimedia/mixer.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Updated traces.

	* windows/driver.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Remove extraneous winuser16.h.

	* graphics/x11drv/dib.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Changed printf into TRACE.

	* debugger/expr.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed a few typos.

	* debugger/stack.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Check when backtracking the stack if frames are correct (readable).

	* windows/event.c, include/message.h, include/winsock.h, loader/main.c, loader/task.c, misc/winsock.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Moved WINSOCK network IO event handling to special thread.
	Removed EVENT_WaitNetEvent, introduced a global scheduler event.

	* miscemu/main.c, scheduler/process.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Wait until child initialized before returning from PROCESS_Create.

	* relay32/kernel32.spec, win32/kernel32.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Use register functions with arguments for LogApiThk...

	* dlls/comctl32/listview.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Cleaned up LISTVIEW_KeyDown by using LISTVIEW_GetNextItem.  Removed unused
	variable in LISTVIEW_GetNextItem.

Sun May 23 20:02:05 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/dosexe.h, include/module.h, include/pe_image.h, include/process.h, include/thread.h, loader/dos/module.c, loader/module.c, loader/ne/module.c, loader/pe_image.c, relay32/kernel32.spec, scheduler/process.c, scheduler/thread.c, win32/except.c, dlls/ntdll/exception.c:
	Use the new debug functions to send debug events at appropriate places.
	Pass the process creation flags to PROCESS_Create.

	* scheduler/Makefile.in, scheduler/client.c, scheduler/debugger.c, win32/newfns.c, win32/process.c, include/winbase.h, misc/lstr.c:
	Implemented the Win32 debug API functions.

	* include/server.h, include/server/request.h, server/Makefile.in, server/debugger.c, server/object.h, server/process.c, server/thread.c, server/thread.h, server/trace.c:
	Added debug events support.

----------------------------------------------------------------
Sun May 23 10:25:26 1999  Alexandre Julliard  <julliard@winehq.com>

	* memory/global.c, memory/heap.c, memory/ldt.c, memory/selector.c, memory/string.c, memory/virtual.c, objects/brush.c, objects/color.c, objects/dc.c, objects/dib.c, objects/enhmetafile.c, objects/gdiobj.c, objects/metafile.c, objects/palette.c, objects/pen.c, objects/region.c, objects/text.c, scheduler/handle.c, scheduler/services.c, scheduler/synchro.c, scheduler/sysdeps.c, scheduler/syslevel.c, scheduler/thread.c, win32/code_page.c, win32/console.c, win32/error.c, win32/file.c, win32/init.c, win32/process.c, win32/struct32.c, win32/thread.c, win32/time.c, dlls/ntdll/file.c, dlls/ntdll/nt.c, dlls/ntdll/om.c, dlls/ntdll/reg.c, dlls/ntdll/rtl.c, dlls/ntdll/rtlstr.c, dlls/ntdll/sec.c, dlls/ntdll/sync.c, dlls/ntdll/time.c, memory/atom.c:
	Converted to the new debug interface, using script written by Patrik
	Stridvall.

	* scheduler/process.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: dwFlags must describe target process in UserSignalProc.

	* dlls/shell32/shellord.c: Ian Schmidt <irsman@iag.net>
	Added missing WINAPI to SHELL32_654 stub.  Fixes crash in Win98
	Explorer.

	* dlls/comctl32/listview.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	LISTVIEW_KeyDown: Invalidate the listview window only when the
	selected item changes.

	* if1632/kernel.spec, misc/wsprintf.c, relay32/kernel32.spec, win32/kernel32.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added _DebugOutput (KERNEL.328), LogApiThk (KERNEL.423), LogApiThkLSF
	(KERNEL32.42), LogApiThkSL (KERNEL32.44), LogCBThkSL (KERNEL32.47),
	and SSConfirmSmallStack (KERNEL.704).

	* if1632/display.spec, windows/display.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fix typo (wrong DISPLAY.CheckCursor ordinal).
	Superfluous FIXME converted to TRACE in CheckCursor.

	* relay32/relay386.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: syslevel relay check was too strict.

	* server/mapping.c: Marcus Meissner <marcus@jet.franken.de>
	Do not use pagesize aligned size_low to grow mapped file, but original
	size_low. (fixes Heises Index Register)

Sat May 22 19:22:26 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	- added some more debug output
	- corrected a slight bug in DGA DirectDraw creation

	* windows/win.c: Francis Beaudet <francis@macadamian.com>
	Fixed a major memory leak in the window management code.

	* windows/winpos.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	In SetWindowPos if changing Z order and child window not yet in its
	parent list, do not link it in WINPOS_ShowIconTitle, check for retval
	of WIN_FindWndPtr.

	* graphics/x11drv/dib.c: Pavel Roskin <pavel_roskin@geocities.com>
	Disable passing device context to X11DRV_DIB_BuildColorMap when RGB
	colormap is used.

	* debugger/dbg.y: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Don't freeze other thread while it may hold the X critical section.

	* include/display.h, loader/main.c, windows/display.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added UserRepaintDisable16().

	* windows/dinput.c, windows/message.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed EVENT_WaitNetEvent() calls.

	* windows/input.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added IsUserIdle16().

	* include/ttydrv.h, windows/ttydrv/event.c, windows/ttydrv/init.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Adapted to EVENT_ driver changes.

	* loader/task.c, scheduler/synchro.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Adapted to event synchronization changes.

	* include/message.h, include/x11drv.h, windows/event.c, windows/x11drv/event.c, windows/x11drv/init.c, windows/x11drv/wnd.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Moved X input event handling out of EVENT_WaitNetEvent and into
	service thread callback; moved EVENT_WaitNetEvent out of the EVENT_
	driver.  Changed winContext to hold HWND instead of WND *.

	* windows/winpos.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Don't change Z-order of child windows when activating.

	* dlls/winspool/info.c, include/wine/wingdi16.h, include/winerror.h, include/winspool.h, relay32/winspool.spec:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Implemented AddPrinterA, AddPrinterDriverA and GetPrinterDriverDirectory
	Moved some 16bit GDI function declarations from winspool.h -> wingdi16.h

	* configure, configure.in, include/acconfig.h, include/config.h.in:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Create a new configuration manifest constant HAVE_OSS_MIDI.

	* loader/dos/module.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed silly EINTR bug with starting dosmod.

	* graphics/ddraw.c: Kevin Holbrook <kwh@neosoft.com>
	Should compare to X11 constant "None" since a colormap is an X
	Resource ID and not a pointer.

	* controls/listbox.c: Paul Quinn <paulq@corel.ca>
	Stop a listbox bug that causes a div by zero when the item height
	is zero. Doesn't solve the root of the problem though.

	* dlls/shell32/shell32_Pt.rc:
	Andre Malafaya Baptista <Malafaya@milenio3.pt>
	About dialog translated to Portuguese.

	* if1632/thunk.c: James Juran <jrj120@psu.edu>
	task.h was included twice.  Removing one fixed a sig11 in gcc-2.7.2.3.

	* objects/cursoricon.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Check if dc has been created before using it.

	* graphics/escape.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Add a few more 32->16 Escape conversions.

	* relay32/relay386.c, if1632/relay.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Check for syslevel violations while relay debugging.

	* if1632/kernel.spec, include/syslevel.h, include/thread.h, scheduler/syslevel.c, windows/win.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Improved syslevel handling, store currently held syslevels in thread
	database, WIN_CritSection converted to syslevel.

	* include/windows.h: Joshua Thielen <thielen@netperson.net>
	Added mmsystem.h include.

	* loader/main.c, loader/task.c, scheduler/process.c, windows/user.c, if1632/kernel.spec, include/user.h, include/wine/winbase16.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added ExitKernel16 (replacing USER_ExitWindows), ExitProcess16, and
	MapProcessHandle; stub for BUNNY_351.

	* if1632/thunk.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Handle proc == NULL in THUNK_SetDCHook correctly.

	* files/profile.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Added support for the undocumented combination
	GetPrivateProfileStringA(section == NULL, entry == NULL, ...

	* dlls/comctl32/header.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Cleaner null pointer check in HEADER_InsertItemA and HEADER_InsertItemW.

	* dlls/comctl32/listview.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Implemented GetNextItem for the Listview control.

	* scheduler/services.c: Ove Kaaven <ovek@arcticnet.no>
	Expire timers on expiry time too, not just after.

	* include/wine/obj_base.h, graphics/d3dexecutebuffer.c, graphics/d3dlight.c, graphics/d3dmaterial.c, graphics/d3dtexture.c, graphics/d3dviewport.c, graphics/ddraw.c, multimedia/dplay.c, multimedia/dsound.c, ole/antimoniker.c, ole/bindctx.c, ole/compositemoniker.c, ole/datacache.c, ole/defaulthandler.c, ole/filemoniker.c, ole/hglobalstream.c, ole/ifs.c, ole/itemmoniker.c, ole/memlockbytes.c, ole/moniker.c, ole/olefont.c, ole/oleobj.c, ole/stg_stream.c, ole/storage32.c, windows/dinput.c, dlls/avifil32/avifile.c, dlls/shell32/contmenu.c, dlls/shell32/dataobject.c, dlls/shell32/enumidlist.c, dlls/shell32/folders.c, dlls/shell32/regstream.c, dlls/shell32/shelllink.c, dlls/shell32/shellole.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, graphics/d3ddevices.c:
	Paul Quinn <paulq@corel.ca>
	Microsoft com vtable compatibility workaround for g++.  Basically adds
	an optional 8 bytes padding to COM objects where the RTTI would be.

	* include/sysmetrics.h, misc/shell.c, objects/bitmap.c, objects/cursoricon.c, windows/dce.c, windows/defwnd.c, windows/dialog.c, windows/dinput.c, windows/input.c, windows/mdi.c, windows/message.c, windows/nonclient.c, windows/scroll.c, windows/sysmetrics.c, windows/win.c, windows/winpos.c, controls/button.c, controls/combo.c, controls/icontitle.c, controls/menu.c, controls/scroll.c, dlls/commdlg/filedlg.c, dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c, dlls/commdlg/printdlg.c, dlls/shell32/iconcache.c:
	Marcus Meissner <marcus@jet.franken.de>
	Replaced all occurences of SYSMETRICS_xx and sysMetrics[SM_xx] by
	GetSystemMetrics(SM_xx), removed no longer needed includes of
	sysmetrics.h.

	* msdos/int16.c: Ove Kaaven <ovek@arcticnet.no>
	Added INT_Int16AddChar.

	* loader/resource.c: Bertho Stultiens <bertho@panter.soci.aau.dk>
	Bugfix: Prevent null-pointer dereference in TRACE argument list in
	RES_FindResource

	* loader/elfdll.c: Bertho Stultiens <bertho@panter.soci.aau.dk>
	Fixed wrong NE module registration so that resources work.

	* if1632/thunk.c, tools/build.c, win32/kernel32.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Set %ebx to point to real 16-bit stack in CBClientThunkSL.
	Pass %esi back-and-forth in CBClientThunkSL(Ex).
	Copy modified buffers back after return from FT_Thunk.
	Fix broken recognition of LS thunklets.

	* dlls/comctl32/comctl32undoc.c, dlls/comctl32/rebar.c, dlls/comctl32/toolbar.c, dlls/comctl32/updown.c:
	Marcus Meissner <marcus@jet.franken.de>
	Removed use of win.h, sysmetrics.h and associated WINE USER internal
	variables. Added missing infoPtr->Buddy = hwndBud; in updown.c

	* dlls/comctl32/Attic/propsheet.h, dlls/comctl32/comctl32.h, dlls/comctl32/propsheet.c, dlls/comctl32/rsrc.rc, dlls/comctl32/toolbar.c, include/commctrl.h, include/toolbar.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Toolbar customization dialog (take one).

	* windows/win.c: Francis Beaudet <francis@macadamian.com>
	Fixed GetTopWindow so it will correctly handle the NULL parameter.

	* include/process.h, loader/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fix swapped FreeLibary return values. Handle FreeLibrary( 0 ) better.
	Fix DLL_PROCESS_DETACH call sequence bugs resulting from nested
	FreeLibrary calls.

	* if1632/mmsystem.spec, multimedia/mmsystem.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed specs for mixerGetDevCaps16/mixerGetID16, fixed mixGetDevCaps16.

	* include/miscemu.h, msdos/devices.c, msdos/dosmem.c, msdos/int21.c:
	Ove Kaaven <ovek@arcticnet.no>
	Changed global DOS_LOL into function DOSMEM_LOL() in order to operate
	on the correct address space. Added DOSMEM_MovePointers() that
	relocates selectors when the DOS address space changes (i.e. when
	dosmod is spawned, particularly from Win16 apps that uses DPMI to
	execute real-mode code). More complete DOS device implementation.

	* include/dosexe.h, loader/dos/dosvm.c, loader/dos/module.c:
	Ove Kaaven <ovek@arcticnet.no>
	Added MZ_Current() (returns current LPDOSTASK) and DOSVM_Wait()
	(DOSVM idle message loop), and fields hConInput and hConOutput.

	* objects/bitmap.c: Pascal Lessard <pascal@macadamian.com>
	Add some null checking in the Get/SetBitmapBits functions.

	* misc/crtdll.c, relay32/crtdll.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Added init function for CRTDLL, allocate stdio/stderr/stdout on
	DLL_PROCESS_ATTACH, increase buffer for vfprintf() (Win95 arp.exe
	needs 1.3KB).

	* debugger/memory.c: Marcus Meissner <marcus@jet.franken.de>
	Added support for FreeBSD 3.0 to DEBUG_checkmap_bad().

	* misc/winsock.c: James Juran <jrj120@psu.edu>
	Print a more effective (and visible) error message when an application
	can't create a socket with type == SOCK_RAW.

	* include/mmreg.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Some more defines for multimedia.

	* msdos/vxd.c, win32/device.c:
	Juergen Schmied <juergen.schmied@pop3.pop.debitel.net>
	Some stubs for pccard vxd to debug the native shell32.

	* multimedia/time.c: Ove Kaaven <ovek@arcticnet.no>
	Use service thread for "true" multimedia timers.
	Removed implementation of fake multimedia timers.
	Set minimum resolution to 10 ms (the timing resolution of the Linux
	kernel). Fixed a couple of flaws.

	* misc/spy.c: Juergen Schmied <juergen.schmied@pop3.pop.debitel.net>
	Implemented printing out of some structures.

Thu May 20 16:40:23 1999  Alexandre Julliard  <julliard@winehq.com>

	* server/select.c, server/socket.c:
	Set only the client socket in non-blocking mode instead of all fds;
	should avoid problems with stdio handles.

Mon May 17 16:20:53 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/debugdefs.h, include/gdi.h, include/psdrv.h, include/ttydrv.h, include/wine/wingdi16.h, include/wingdi.h, include/winspool.h, misc/Attic/spooler.c, misc/Makefile.in, misc/printdrv.c, objects/dc.c, dlls/winspool/.cvsignore, dlls/winspool/Makefile.in, dlls/winspool/info.c, graphics/driver.c, graphics/enhmetafiledrv/init.c, graphics/env.c, graphics/escape.c, graphics/metafiledrv/init.c, graphics/psdrv/driver.c, graphics/psdrv/init.c, graphics/psdrv/ppd.c, graphics/psdrv/ps.c, graphics/ttydrv/init.c, graphics/win16drv/init.c, graphics/x11drv/init.c, Makefile.in, configure, configure.in:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Implement DocumentProperties, DeviceCapabilities, beginnings of
	Open/Get/ClosePrinter.  Additions to PSDRV_DeviceCapabilities.
	Split off WINSPOOL into its own directory.
	Several functions added to DC_Funcs.
	Based largely on a patch by Pascal Lessard <pascal@macadamian.com>

	* loader/loadorder.c: Marcus Meissner <marcus@jet.franken.de>
	glide2x loadorder is "so,native".

	* msdos/dpmi.c: Ove Kaaven <ovek@arcticnet.no>
	Improved shortcuts - follows jumps in trying to avoid switching to
	real mode unnecessarily.

	* documentation/no-windows: Ove Kaaven <ovek@arcticnet.no>
	Updated and improved instructions.

	* debugger/expr.c: Ove Kaaven <ovek@arcticnet.no>
	Made "Wine-dbg>set *seg:off = val" work (previously only
	"Wine-dbg>set *off = val" worked).

	* multimedia/mcimidi.c, multimedia/mciwave.c:
	Jukka Kangas <jtkangas@nic.fi>
	When opening the file we don't need MMIO_EXCLUSIVE
	rights. MMIO_DENYWRITE should be sufficient.

	* dlls/shell32/shellpath.c:
	Juergen Schmied <juergen.schmied@pop3.pop.debitel.net>
	Prevent crash in stub of SheGetDirW.

	* dlls/shell32/shlmenu.c:
	Juergen Schmied <juergen.schmied@pop3.pop.debitel.net>
	Further implementation of the FileMenu.

	* windows/mdi.c: Juergen Schmied <juergen.schmied@pop3.pop.debitel.net>
	Set the default menu item of the window menu

	* wine.ini: James Juran <jrj120@psu.edu>
	Changed serial ports in wine.ini to /dev/ttySX from /dev/cuaX in
	accordance with Linux 2.2 Changes file.

	* if1632/kernel.spec, loader/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Release Win16Lock when calling LoadLibrary32 from 16-bit code.

	* if1632/thunk.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed THUNK_SetDCHook when using native USER.

	* win32/kernel32.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: FT_PrologPrime was broken due to relay changes.

	* misc/network.c, relay32/mpr.spec:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Some stubs added.

	* windows/hook.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Suspend window locks before calling hook procedure.

	* windows/dialog.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed window refcount handling in GetNextDlgGroupItem.

	* controls/button.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed superfluous WIN_ReleaseWndPtr.

	* graphics/ddraw.c: Marcus Meissner <marcus@mud.de>
	Xlib_IDirectDrawSurface4Impl_Flip should show 'flipto' surface, not
	previous one. (reported by Ove)

Sun May 16 17:11:58 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/winbase.h, include/winnt.h:
	Added a few missing debug event definitions.

	* server/console.c, server/file.c, server/pipe.c, server/thread.c, server/thread.h:
	Adapted to new select interface.
	Fixed bug in *_signaled routines that could cause busy-waiting in the
	select loop.

	* server/object.c, server/object.h, server/request.c, server/select.c, server/socket.c:
	Changed select interface, separated timeouts from file descriptors.

	* server/handle.c, server/handle.h, server/process.c, server/process.h:
	Moved process structure definition to process.h.
	Added suspend/resume_process.
	Moved handle table back into the process structure.

	* scheduler/client.c, server/trace.c, include/server.h:
	Added TEB in init_thread request.

Sat May 15 10:52:56 1999  Alexandre Julliard  <julliard@winehq.com>

	* miscemu/instr.c:
	Tried to add an error message when crashing on a selector load because
	of missing LDT sharing between threads (untested).

	* scheduler/event.c, scheduler/mutex.c, scheduler/semaphore.c, server/Makefile.in, server/change.c, server/console.c, server/device.c, server/event.c, server/file.c, server/handle.c, server/handle.h, server/main.c, server/mapping.c, server/mutex.c, server/object.c, server/object.h, server/pipe.c, server/process.c, server/process.h, server/request.c, server/select.c, server/semaphore.c, server/snapshot.c, server/socket.c, server/thread.c, server/thread.h, server/trace.c, tools/make_requests, include/server.h, include/server/Attic/object.h, include/server/Attic/process.h, include/server/Attic/thread.h, include/server/request.h, memory/virtual.c:
	Server reorganization:
	- moved request handlers to the specific C files
	- moved handle management to handle.c
	- moved server private includes to server/ instead of include/server/

	* Make.rules.in: Get include files from the current directory first.

Fri May 14 18:39:37 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c, dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c, dlls/commdlg/printdlg.c, dlls/shell32/shell32_main.c, graphics/psdrv/driver.c, include/win.h, windows/msgbox.c, windows/queue.c, windows/win.c:
	Marcus Meissner <marcus@jet.franken.de>
	Replaced WIN_GetWindowInstance by GetWindowLongA(GWL_HINSTANCE),
	removed unnecessary win.h includes, added syslevel.h to queue.c.

	* controls/combo.c: Francois Boisvert <francois@macadamian.com>
	Changed CBGetDroppedControlRect to be compliant with Windows API.

	* include/wine/exception.h, win32/except.c:
	Fixed a few bugs, and improved the exception macros (based on
	suggestions by Sergei Turchanov).

	* dlls/ver/ver16.c, dlls/version/info.c, dlls/version/install.c, dlls/version/resource.c, ipc/dde_atom.c, ipc/dde_atom_test.c, ipc/shm_block.c, ipc/shm_fragment.c, ipc/shm_fragment_test.c, ipc/shm_main_blk.c, ipc/shm_semaph.c, ipc/shm_semaph_test.c, ipc/wine_test_stub.c, relay32/snoop.c, relay32/utthunk.c, dlls/advapi32/advapi.c, dlls/advapi32/crypt.c, dlls/advapi32/eventlog.c, dlls/advapi32/service.c, dlls/imagehlp/access.c, dlls/imagehlp/debug.c, dlls/imagehlp/imagehlp_main.c, dlls/imagehlp/integrity.c, dlls/imagehlp/internal.c, dlls/imagehlp/modify.c, dlls/imagehlp/symbol.c, dlls/msacm/msacm_main.c, dlls/msacm32/builtin.c, dlls/msacm32/driver.c, dlls/msacm32/filter.c, dlls/msacm32/format.c, dlls/msacm32/internal.c, dlls/msacm32/msacm32_main.c, dlls/msacm32/stream.c, dlls/psapi/psapi_main.c, dlls/rasapi32/rasapi.c, dlls/tapi32/assisted.c, dlls/tapi32/phone.c, console/generic.c, console/ncurses.c, console/xterm.c, controls/combo.c, controls/listbox.c, controls/menu.c, controls/scroll.c, controls/static.c, controls/uitools.c:
	Converted to the new debug interface, using script written by Patrik
	Stridvall.

	* tools/make_X11wrappers, tsx11/ts_xf86dga.c, tsx11/ts_xf86vmode.c, tsx11/ts_xlib.c, tsx11/ts_xpm.c, tsx11/ts_xresource.c, tsx11/ts_xshm.c, tsx11/ts_xutil.c:
	Converted to the new debug interface.

	* windows/painting.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed invalid window refcount handling in RDW_Paint().

	* windows/message.c: Noel Borthwick <noel@macadamian.com>
	Fix a deadlock with the system message queue by ensuring the system message
	queue is unlocked while the actual message is being processed.

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	Check if in depth-conversion mode before returning an error message
	in IDirectDrawPaletteImpl_GetEntries.

Thu May 13 18:53:05 1999  Alexandre Julliard  <julliard@winehq.com>

	* documentation/status/direct3D, graphics/d3d_private.h, graphics/d3dcommon.c, graphics/d3ddevices.c, graphics/d3dexecutebuffer.c, graphics/d3dlight.c, graphics/d3dmaterial.c, graphics/d3dtexture.c, graphics/d3dviewport.c, graphics/ddraw.c, graphics/ddraw_private.h, include/wine_gl.h:
	Lionel Ulmer <ulmer@directprovider.net>
	Replaced all the Mesa specific code by GLX code. Should work now on
	any OpenGL implementation.

	* windows/x11drv/keyboard.c: <TTarrant@Etnoteam.It>
	Added Italian keyboard support.

	* graphics/enhmetafiledrv/graphics.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Fixed a couple of memcpy errors.

	* graphics/psdrv/driver.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Small fix to help native win95 PrintDlg on the way.

	* dlls/winaspi/winaspi16.c, if1632/winaspi.spec, include/aspi.h:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Implemented InsertInASPIChain and fixed minor things.

	* windows/x11drv/mouse.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Fixed quite ill window locking code.

	* windows/winpos.c: Francis Beaudet <francis@macadamian.com>
	Fixed an infinite loop in ChildWindowFromPointEx.

	* controls/menu.c:
	Juergen Schmied <juergen.schmied@pop3.pop.debitel.net>
	- prevent crash when GetMenuDefaultItem is called on empty menu
	- set default item on system menu

	* loader/ne/module.c, memory/selector.c, relay32/ntdll.spec, win32/kernel32.c, win32/ordinals.c, dlls/ntdll/exception.c, dlls/ntdll/rtl.c, include/stackframe.h:
	Adapted for new register functions support (ESP_reg in register
	functions now points after the arguments).

	* relay32/builtin32.c, relay32/kernel32.spec, relay32/relay386.c, relay32/snoop.c, tools/build.c:
	Win32 register functions can now have arguments.
	Simplified relay debugging for register functions.

	* relay32/kernel32.spec, win32/device.c:
	VxDCall functions do not need to be 'register'.

Wed May 12 16:10:53 1999  Alexandre Julliard  <julliard@winehq.com>

	* relay32/builtin32.c: Fixed bug I introduced in relay debugging.

	* dlls/ntdll/exception.c, if1632/thunk.c, include/Attic/except.h, include/wine/exception.h, win32/except.c:
	Added macros and definitions for using exception inside Wine or
	Winelib code.

	* include/Attic/except.h, include/ntddk.h, include/winnt.h, misc/crtdll.c, win32/init.c:
	Moved some exception definitions to winnt.h and ntddk.h.

	* msdos/devices.c: Marcus Meissner <marcus@jet.franken.de>
	Added missing WINAPI for the callback procs.

	* include/sig_context.h: Added ERROR_sig.

	* ole/stg_bigblockfile.c: Francis Beaudet <francis@macadamian.com>
	Bug fix.

	* misc/winsock.c, include/winsock.h:
	Marcus Meissner <marcus@jet.franken.de>
	WSOCK32/WINSOCK uses SetLastError() to keep its own WSALastErrors,
	replaced all pwsi->err references.

	* loader/pe_image.c: Changed some error handling a bit.

	* windows/win.c: Ove Kaaven <ovek@arcticnet.no>
	Cleaner Suspend/RestoreWndsLock, which should fix some slowness.

	* relay32/kernel32.spec, relay32/ntdll.spec:
	Added RtlUnwind in ntdll, and made kernel32 spec entry a forward to
	the ntdll one.

	* relay32/builtin32.c, tools/build-spec.txt, tools/build.c, include/builtin32.h:
	Added import declaration for Win32 built-ins.

Mon May 10 14:44:48 1999  Alexandre Julliard  <julliard@winehq.com>

	* tools/build-spec.txt, tools/build.c, include/builtin32.h, relay32/builtin32.c:
	Added support for forwarded ordinals in built-in dlls.

Sun May  9 16:15:28 1999  Alexandre Julliard  <julliard@winehq.com>

	* win32/console.c:
	Fixed request size for alloc_console and free_console.

	* relay32/kernel32.spec, relay32/ntdll.spec, win32/except.c, dlls/ntdll/Makefile.in, dlls/ntdll/exception.c, dlls/ntdll/rtl.c, include/Attic/except.h, include/debugdefs.h, include/ntddk.h, include/thread.h, include/winbase.h, include/winnt.h:
	Improved exception handling.
	Based on the work of Sergey Turchanov <turchanov@usa.net>.

	* loader/module.c:
	Use OpenFile() to test for file existence, so that the path gets
	searched.

	* server/select.c: Ove Kaaven <ovek@arcticnet.no>
	Restart interrupted select() (happens with -pg).

	* debugger/memory.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed off-by-one bug in memory access check.

	* misc/registry.c: Marcus Meissner <marcus@jet.franken.de>
	More debug output for RegQueryInfoKey.

	* debugger/stack.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed a couple of bugs (silent backtrace not totally silent, crashes
	when the stack is corrupted or similar).

----------------------------------------------------------------
Sat May  8 18:39:05 1999  Alexandre Julliard  <julliard@winehq.com>

	* tools/wineconf.libs/autoconf.eng, tools/wineconf.libs/autoconf.tcl, tools/wineconf.libs/browsers.eng, tools/wineconf.libs/dirbrowser.tcl, tools/wineconf.libs/general.eng, tools/wineconf.libs/getfilename.tcl, tools/wineconf.libs/message.tcl, tools/wineconf.libs/message2.tcl, tools/wineconf.libs/saveRC.tcl, tools/wineconf.libs/wine-half.gif, tools/wineconf.libs/wineconf.eng, tools/wineconf.libs/wineconf.tcl, tools/wineconf.libs/wineconf1.tcl, tools/wineconf.tcl:
	Jean-Louis Thirot <thirot@univ-brest.fr>
	Added graphical configuration tool wineconf.tcl.

	* win32/console.c: Marcus Meissner <marcus@jet.franken.de>
	Ignore ESC[%dc reports generated by 8bit control codes.
	Open console even if we already have one in the process.

	* files/profile.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed off by 1 error in section code (did not return len-2 on buffer
	overflow in some cases, but len-1).

	* dlls/comctl32/propsheet.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed warning.

	* graphics/x11drv/palette.c: Pavel Roskin <pavel_roskin@geocities.com>
	Fixed palette handling for true/high-color X11.

	* loader/ne/module.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Fixed extension handling in LoadLibrary16.

	* windows/dce.c, windows/painting.c, windows/win.c, windows/winpos.c, windows/x11drv/event.c, include/win.h, objects/region.c:
	Alex Korobka <alex@aikea.ams.sunysb.edu>
	Rearranged PAINT_RedrawWindow() so that it first recursively updates
	invalid regions and only then starts sending out messages. This should
	help with reentrancy during message processing and now it needs just
	one (or none) scratch region for all there is to do. Also, small fixes
	for SetWindowPos().

	* configure, configure.in: Added check for missing __i386__ definition.

	* include/config.h.in, scheduler/client.c, server/socket.c, server/trace.c, configure, configure.in, tools/wrc/parser.y, ole/datacache.c, ole/defaulthandler.c, ole/hglobalstream.c, ole/memlockbytes.c, scheduler/sysdeps.c, tools/build.c, misc/wsprintf.c, miscemu/instr.c, msdos/ioports.c, if1632/snoop.c, include/server.h, include/stackframe.h, ipc/bit_array.c, controls/edit.c, controls/menu.c, debugger/dbg.y, graphics/x11drv/xfont.c:
	Patrik Stridvall <ps@leissner.se>
	ANSI C fixes.

	* dlls/comctl32/propsheet.c: Marcus Meissner <marcus@jet.franken.de>
	Pass PROPSHEETPAGE to propertypage dialog as lParam.

	* misc/winsock.c, multimedia/dsound.c, objects/brush.c, objects/enhmetafile.c, ipc/dde_atom.c, ipc/generic_hash.c, ipc/shm_block.c, ipc/shm_main_blk.c, ipc/shm_semaph.c, loader/dos/dosmod.c, loader/signal.c, memory/ldt.c, graphics/psdrv/init.c, include/dplay.h, include/dplobby.h, include/heap.h, include/metafile.h, include/mmsystem.h, include/psdrv.h, include/shellapi.h, include/sig_context.h, include/winsock.h, dlls/ntdll/time.c, dlls/shell32/folders.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, graphics/ddraw.c, graphics/ddraw_private.h, graphics/dispdib.c, dlls/comctl32/pager.c, dlls/comctl32/rebar.c, dlls/comctl32/status.c, dlls/comctl32/toolbar.c, dlls/comctl32/tooltips.c, dlls/comctl32/treeview.c, dlls/commdlg/fontdlg.c, debugger/msc.c, dlls/comctl32/comboex.c, dlls/comctl32/header.c, dlls/comctl32/hotkey.c, dlls/comctl32/listview.c:
	Patrik Stridvall <ps@leissner.se>
	ANSI C fixes.

	* windows/caret.c, include/wine/wingdi16.h, include/wine/winuser16.h, misc/printdrv.c, objects/font.c, objects/linedda.c, objects/region.c, graphics/win16drv/font.c, include/gdi.h, include/windef.h, include/wingdi.h, include/winuser.h, graphics/psdrv/font.c:
	Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Split off wingdi16.h from wingdi.h.  Add many more #defines/typedefs
	to bring wingdi.h almost upto a complete NT4.0 interface.
	Fix return value of SetRectRgn().

	* windows/display.c, windows/focus.c, windows/nonclient.c, windows/ttydrv/mouse.c, windows/win.c, windows/winpos.c, include/ttydrv.h, include/winpos.h:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Removed #include "wine/winuser16.h" and use "struct tag????" instead.

	* debugger/stack.c: Ove Kaaven <ovek@arcticnet.no>
	Improved Wine debugger backtrace. New features:
	- Displays ebp, in case you want to check stackframes manually
	- Detects far calls even when windows apps don't mark them
	- Tracks CallFrom16/CallTo16 relaying (thunking)

	* loader/elfdll.c: Ulrich Czekalla <ulrichc@corel.ca>
	Bugfix: get_sobasename was off by one pointer increment.

	* multimedia/init.c: Kevin Holbrook <kwh@neosoft.com>
	Fixed implicit type warning.

	* controls/listbox.c: Gerard Patel <g.patel@wanadoo.fr>
	Values returned from PtInRect and LB_ITEMFROMPOINT are reversed.

	* ole/datacache.c, ole/defaulthandler.c, ole/ole2.c, ole/ole2stubs.c, ole/oleobj.c:
	Francis Beaudet <francis@macadamian.com>
	Second part of the OLE datacache implementation.

	* msdos/Makefile.in, msdos/devices.c, msdos/dosmem.c, msdos/int21.c, include/dosexe.h, include/miscemu.h, include/msdos.h:
	Ove Kaaven <ovek@arcticnet.no>
	Moved DOS List of Lists initialization, and added the beginnings of
	the DOS device structures.

	* programs/regapi/regapi.c, include/winreg.h, misc/registry.c:
	Noomen Hamza <noomen@macadamian.com>
	Bug fixes.

	* ole/hglobalstream.c, relay32/ole32.spec:
	Thuy Nguyen <thuy@macadamian.com>
	Implemented GetHGlobalFromStream.

	* include/thread.h, scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Call THREAD_FreeTHDB as service thread callback.

	* include/message.h, loader/task.c, windows/timer.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed TIMER_SwitchQueue.

	* debugger/memory.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Format output in DEBUG_ExamineMemory for "d" and "x" not to exceed 80
	chars.

	* loader/signal.c: Marcus Meissner <marcus@jet.franken.de>
	Stop winelib programs on fault instead of endless faultlooping.

	* Makefile.in: James Juran <jrj120@psu.edu>
	Run ldconfig in make install if using --enable-dll.
	Cleaned up uninstall_lib as well.

	* ole/storage.c, ole/storage32.c, ole/storage32.h, relay32/ole32.spec, ole/stg_bigblockfile.c, include/wine/obj_storage.h, ole/memlockbytes.c:
	Thuy Nguyen <thuy@macadamian.com>
	Implementation of IStorage supported by an implementation of
	ILockBytes on top of an HGLOBAL.

	* files/profile.c, relay32/kernel32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Return the correct value from GetPrivateProfileSectionA.
	Copy/convert back the buffer in GetPrivateProfileSectionW.
	Replace some output pointers str/wstr->ptr in kernel32.spec.

	* loader/task.c, scheduler/process.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Some initialization sequence bugfixes:
	- Initialize process crst for 16-bit processes.
	- Don't crash due to uninitialized stack frames in WineLib.
	- Map system DLLs before calling UserSignalProc.
	- Signal USIG_PROCESS_CREATE only *after* the env_db is filled.

	* if1632/thunk.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Call Callout routines directly when using builtin USER.

	* loader/pe_image.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: all PE modules were marked 'internal'.

	* include/dce.h, objects/dc.c, windows/dce.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Check for busy DCE moved to DCHook16().

	* include/win.h, loader/main.c, windows/win.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Initialize WIN_CritSection earlier.

	* dlls/comctl32/trackbar.c, include/trackbar.h:
	Luc Tourangeau <luc@macadamian.com>
	Removed the timer that was used to queue TRACKBAR_Refresh calls.
	Removed all direct calls to TRACKBAR_Refresh (except from within the
	WM_PAINT handling section) and replaced them by calls to
	InvalidateRect.
	Fixed a bug in the TRACKBAR_SetPos function.
	Fixed the behavior for different types of mouse input.

	* dlls/comctl32/toolbar.c: Yuxi Zhang <yuxiz@corel.ca>
	Implemented toolbar multirow button layout.

	* dlls/comctl32/tooltips.c: Francois Boisvert <francois@macadamian.com>
	Implementation of WM_GETTEXT and WM_GETTEXTLENGTH in tooltips.

	* ole/ole2disp.c: Thuy Nguyen <thuy@macadamian.com>
	Implemented OleTranslateColor.

	* include/winuser.h, windows/input.c:
	Francis Beaudet <francis@macadamian.com>
	Changed the return value of GetKeyboardState and SetKeyboardState from
	VOID to BOOL.

	* controls/listbox.c: Francois Boisvert <francois@macadamian.com>
	Prevented LISTBOX_RepaintItem from repainting a non visible item.

	* relay32/builtin32.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed typo.

	* windows/class.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Bugfix for TRACE in UnregisterClass.

Wed May  5 13:20:50 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/Attic/propsheet.h: No longer necessary.

Tue May  4 16:55:23 1999  Alexandre Julliard  <julliard@winehq.com>

	* objects/dc.c, windows/dce.c, include/dce.h:
	Francis Beaudet <francis@macadamian.com>
	Check if DC is busy before deleting it.

	* win32/newfns.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	GetMailslotInfo is supposed to check for pointer validity.

	* server/select.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Possible crash in select_loop() fixed.

	* include/services.h, loader/task.c, scheduler/services.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed various stupid bugs in services thread routines.
	Added SERVICE_Exit routine to kill the services thread.

	* misc/main.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Inverted class/channel in __(SET|GET)_DEBUGGING macros.

	* windows/queue.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Correct implementation of GetWindowThreadProcessId().

	* if1632/mmsystem.spec, multimedia/mmsystem.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added PlaySound16, sndPlaySound16.

	* if1632/thunk.c: Ove Kaaven <ovek@arcticnet.no>
	Fixes winproc deadlock for win16.

Mon May  3 09:44:57 1999  Alexandre Julliard  <julliard@winehq.com>

	* windows/queue.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed some deadlock(s) in message sending.

	* multimedia/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	cleaned up debug channels to use default one (mmsys)
	more conversions from mixerXXXW and mixerXXXX16 to mixerXXXXA
	fixed callback bug in midiStream functions
	fixed compilation bug with egcs
	changed to the new debug channel interface

	* multimedia/mmaux.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	small range fixes for OSS driver
	changed to the new debug channel interface

	* multimedia/mixer.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	first (working) shot at OSS mixer low level interface
	changed to the new debug channel interface

	* misc/network.c, relay32/mpr.spec:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed off-by-one ordinals in MPR.
	Added MPR_Alloc/ReAlloc/Free (MPR.22-24).

	* loader/module.c, if1632/relay.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: release Win16Lock in WinExec16, CallProc[Ex]32W_16.

	* loader/main.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Load system DLLs into WineLib applications.

	* graphics/psdrv/ps.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Small update to the PostScript encoding vector.

	* loader/module.c, loader/task.c: Bug fixes.

Sun May  2 19:10:57 1999  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/process.c:
	Moved a few more initialisations to the new process context.

	* loader/task.c: Don't initialise the stacks for 32-bit processes.

	* miscemu/main.c: Only check number of tasks after first message.
	Use a 16-bit module for creating the initial task.

	* include/authors.h, AUTHORS:
	Updated authors list from the Changelog. Please let me know if you
	have been left out.

	* loader/task.c, scheduler/process.c:
	Converted to the new debugging interface (done with the help of the
	script written by Patrik Stridvall).
	Some changes to the initialisation sequence for 32-bit processes.

	* */*.c:
	Converted to the new debugging interface (done with the help of the
	script written by Patrik Stridvall).

	* tools/make_debug, include/debugdefs.h, include/debugtools.h, misc/main.c:
	Misc fixes and improvements.

	* include/config.h.in, configure, configure.in:
	Added check for -lmmap for OS/2.

	* include/debugdefs.h, ole/hglobalstream.c, ole/stg_stream.c, ole/storage32.c:
	Francis Beaudet <francis@macadamian.com>
	Fixed a few bugs in the OLE storage implementation, added a new set of
	trace statements for the OLE storage related methods and introduced a
	new debug channel for the storage subsystem.

	* multimedia/time.c, objects/dib.c, objects/palette.c, include/wine/winuser16.h, misc/spooler.c:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Removed redundant include of winbase.h from winuser16.h.
	Moved types from winbase.h to winuser16.h .

	* include/winuser.h: Juergen Schmied <juergen.schmied@metronet.de>
	- default item handling
	- small drawing fixes

	* dlls/commdlg/cdlg_En.rc, dlls/commdlg/printdlg.c:
	Klaas van Gend <klaas@vangend.demon.nl>
	More implementation of PrintDlgA.
	Conversion of resource identifiers of Print32 window to comply to the
	M$ numbering.

	* server/thread.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Don't crash if queuing an APC on a thread that doesn't wait.

	* windows/timer.c, windows/x11drv/event.c, include/message.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Use SERVICES callback to implement Windows timers.
	Timer expiration handling removed from EVENT_WaitNetEvent loop.

	* memory/heap.c: Huw D M Davies <h.davies1@physics.ox.ac.uk>
	Call SetLastError in HeapCompact().

	* include/winbase.h: Ove Kaaven <ovek@arcticnet.no>
	Added prototype for TryEnterCriticalSection.

	* include/commdlg.h: Klaas van Gend <klaas@vangend.demon.nl>
	Make all structures packed and removal of some WINE_PACKED.

	* controls/button.c: Pavel Roskin <pavel_roskin@geocities.com>
	Pushbuttons should only be rounded in Win31 look.

	* controls/menu.c: Juergen Schmied <juergen.schmied@metronet.de>
	- default item handling
	- small drawing fixes

	* windows/winpos.c: Noel Borthwick <noel@macadamian.com>
	Fixed an unbalanced windows lock/unlock sequence in
	WINPOS_ActivateOtherWindow.

	* include/debugdefs.h: enhmetafile added

	* relay32/.cvsignore, relay32/Makefile.in, relay32/builtin32.c, relay32/mcianim.spec, relay32/mciavi.spec, relay32/mcicda.spec, relay32/mciseq.spec, relay32/mciwave.spec, relay32/winmm.spec, include/multimedia.h, loader/main.c, multimedia/audio.c, multimedia/init.c, multimedia/mci.c, multimedia/mcianim.c, multimedia/mciavi.c, multimedia/mcicda.c, multimedia/mcimidi.c, multimedia/mcistring.c, multimedia/mciwave.c, multimedia/mmsystem.c, documentation/status/multimedia, if1632/mmsystem.spec, wine.ini:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	- got rid of all the internal MM tweaks to load builtin MCI
	  drivers. They are all seen as drivers, loaded as DLLs and standard
	  module loadorder is used to know which type to use (builtin vs
	  native).
	- first full working implementation of mmThread??? functions (to
	  support gracefully native MCI drivers).
	- support of mmShowMMCPLPropertySheet.
	- fix of some heap validate bugs (thanks to Ulrich for reporting them).

	* loader/module.c: Guy Albertelli <galberte@neo.lrun.com>
	Fix CreateProcessA to implement correct actions on ambiguous command
	line names (try longer and longer strings).

	* Makefile.in, configure, configure.in, graphics/enhmetafiledrv/.cvsignore, graphics/enhmetafiledrv/Makefile.in, graphics/enhmetafiledrv/dc.c, graphics/enhmetafiledrv/graphics.c, graphics/enhmetafiledrv/init.c, graphics/enhmetafiledrv/mapping.c, graphics/enhmetafiledrv/objects.c, graphics/metafiledrv/init.c, include/enhmetafiledrv.h:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Started implementing Enhanced MetaFile driver.

	* include/ole2.h, include/wine/obj_oleobj.h, include/wine/obj_oleview.h, ole/Makefile.in, ole/datacache.c, ole/defaulthandler.c, ole/ole2.c, ole/ole2stubs.c, ole/oleobj.c, relay32/ole32.spec, dlls/shell32/shlview.c:
	Francis Beaudet <francis@macadamian.com>
	Implemented the OLE object default handler and data cache.

	* include/enhmetafile.h, include/wingdi.h, objects/enhmetafile.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Several improvements to Enhanced MetaFile playback.

	* loader/ne/module.c: Bertho Stultiens <bertho@panter.soci.aau.dk>
	Only try to append ".dll" if a library is loaded implicitely.

	* dlls/shell32/shellord.c:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Fix TRACE formatting warnings.

	* dlls/shell32/shlfolder.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Fixed a small syntax problem.

	* windows/winpos.c: Juergen Schmied <juergen.schmied@metronet.de>
	- better stubs for Get/Set special (Progman/Taskman) window functions

	* relay32/user32.spec, windows/message.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	- new SendMessageCallbackW
	- some fixme's for missing A<->W conversion

	* windows/dialog.c: Noel Borthwick <noel@macadamian.com>
	Fixed an unbalanced windows lock/unlock sequence in GetNextDlgTabItem.

	* misc/printdrv.c: Klaas van Gend <klaas@vangend.demon.nl>
	Bugfix for EnumPrinters level 2.

	* windows/x11drv/keyboard.c: Guy Albertelli <galberte@neo.lrun.com>
	Correct logic in GetKeyNameText.

	* documentation/bugreports:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Removed +snoop from documentation/bugreports.

Sat May  1 10:41:02 1999  Alexandre Julliard  <julliard@winehq.com>

	* objects/bitmap.c: Pavel Roskin <pavel_roskin@geocities.com>
	LoadImageW fixed for hicolor displays.

	* include/mmsystem.h, include/multimedia.h, multimedia/mmsystem.c:
	Marcus Meissner <marcus@jet.franken.de>
	MCI_ANIM_OPEN_PARMSW should be LPCWSTR, MCI_DefYieldProc should be WINAPI.

	* dlls/comctl32/header.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Fixed HEADER_InsertItemA and HEADER_InsertItemW null pointer checking
	to handle wide character strings properly.  Fix of our previous patch
	for null pointer checking.

	* ole/Makefile.in, ole/memlockbytes.c, ole/ole2stubs.c:
	Thuy Nguyen <thuy@macadamian.com>
	Implemented CreateILockBytesOnHGloba, GetHGlobalFromILockBytes and
	the ILockBytes interface based on an HGLOBAL.

	* ole/compobj.c: Francis Beaudet <francis@macadamian.com>
	Fixed a bug in CoRegisterClassObject.

	* dlls/comctl32/toolbar.c: Luc Tourangeau <luc@macadamian.com>
	Removed some flickering when inserting or deleting buttons.

	* dlls/comctl32/listview.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Fixed LISTVIEW_GetItemChanges() to perform a more complete comparison
	between lpItem and lpLVItem.  Now compares the pszText string of the
	lpItem and lpLVItem structs.  Fixes a bug where the old and new item
	have the same attributes but their text differs and GetItemChanges()
	compares them as equal.

	* dlls/comctl32/propsheet.c, dlls/comctl32/propsheet.h, dlls/comctl32/rsrc.rc, dlls/comctl32/tab.c:
	Thuy Nguyen <thuy@macadamian.com>
	Added support for adding and removing pages dynamically from a
	property sheet.

	* controls/button.c, controls/combo.c, controls/desktop.c, controls/listbox.c:
	Marcus Meissner <marcus@jet.franken.de>
	Removed the gotos from the WndProcs, always use a small wrapper that
	locks the window, calls the real wndproc, unlocks the window.

	* dlls/shell32/contmenu.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixed default menu item.

	* win32/code_page.c, misc/ddeml.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixed typo.

	* windows/queue.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Added a missing LeaveCriticalSection.

	* windows/mdi.c: Francois Boisvert <francois@macadamian.com>
	Fixed a wrong usage of WIN_FindWndPtr/WIN_ReleaseWndPtr in
	TranslateMDISysAccel16.

	* misc/comm.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed off-by-one bug in async output buffers.

	* ole/ole2.c: Francis Beaudet <francis@macadamian.com>
	Fixed a little Drag and Drop bug.

----------------------------------------------------------------
Mon Apr 26 14:58:59 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/config.h.in, configure, configure.in:
	Marcus Meissner <marcus@jet.franken.de>
	Added autoconf check for "inline". You can now use it, it will be
	defined to (empty) for compilers that do not have it.

	* tools/wrc/parser.y: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Don't include alloca.h.

	* README, documentation/wine.man: James Juran <jrj120@psu.edu>
	Update to reflect recent changes and discussions.

	* loader/loadorder.c: Bertho Stultiens <bertho@panter.soci.aau.dk>
	The load order parser should not always complain about extensions.

	* controls/menu.c: Juergen Schmied <juergen.schmied@metronet.de>
	- align magic buttons right
	- shortcuts alignment working again

	* loader/ne/module.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed loading of native NE dlls.

Sun Apr 25 19:04:42 1999  Alexandre Julliard  <julliard@winehq.com>

	* memory/heap.c: Fixed __builtin_return_address arg.

	* */*:
	Patrik Stridvall <ps@leissner.se>
	Fixed ANSI compabillity.

	* */*:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Built-in dlls now have resources attached via the PE-header like
	normal dlls. This enables the use of the resource API.

	* misc/registry.c:
	Use $HOME instead of getpwuid for user's home directory.
	Fixed messed up indentation.

	* graphics/x11drv/xfont.c:
	Use $HOME instead of getpwuid for user's home directory.

	* */*.h:
	Patrik Stridvall <ps@leissner.se>
	#pragma pack(?) changed to #include "*pack*.h"

	* tools/build.c, include/commctrl.h, include/commdlg.h, include/docobj.h, include/heap.h, include/shellapi.h, include/winbase.h, include/windef.h, include/wine/obj_oleaut.h, include/wine/obj_storage.h, include/winerror.h, include/wingdi.h, include/winnetwk.h, include/winnls.h, include/winuser.h:
	Jim Aston <jima@corel.ca>
	Added some missing #defines I've run across.

	* files/dos_fs.c: Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Ignore trailing dots on file names.

	* include/debugger.h, debugger/dbg.y, debugger/debug.l, debugger/display.c, debugger/editline.c, debugger/expr.c, debugger/hash.c, debugger/msc.c, debugger/source.c, debugger/stabs.c, debugger/stack.c, debugger/types.c:
	Ove Kaaven <ovek@arcticnet.no>
	Added a possibility to let the internal debugger use a separate
	heap. Not enabled by default, change #if in include/debugger.h to use
	this (the heap allocator is very slow).

	* loader/loadorder.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	wine.conf should not overrule content of burned in data in
	loadorder.c.

	* graphics/mapping.c: Karl Lessard <karll@corel.com>
	SetMapMode should not reset the window and viewport origins to 0.

	* tools/wineconf: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Allow to automatically copy part of wine.ini into generated file.
	Small perl enhancement (work in strict mode).
	Small updates in heuristics.

	* wine.ini: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Upgraded to have a decent multimedia DLLs configuration.

	* tools/wrc/wrc.h, tools/wrc/writeres.c, tools/wrc/CHANGES:
	Bertho Stultiens <bertho@akhphd.au.dk>
	- Fixed a counting bug in the win32 count and sort routine.
	- Fixed sort order of resources (must be name before ordinal).
	- Shuffled a couple of global variables so that built-in dlls now can
	  load resources through the proper PE interface.

	* include/windef.h, include/winreg.h:
	Adrian Thurston <adriant@corel.ca>
	Added support for strict handles. Only works on machines where
	sizeof(UINT) == sizeof(void*).

	* scheduler/process.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Initialize process critical section in the correct process context.

	* scheduler/critsection.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Warn if wrong process tries to enter critical section.
	Better implementation of Reinitialize/UninitializeCriticalSection
	(still not quite correct).

	* loader/loadorder.c: Marcus Meissner <marcus@jet.franken.de>
	debug.h must be last in list of includes.

	* loader/ne/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Return 32-bit module in GetModuleHandle16() if appropriate.

	* msdos/int2f.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed crash when status was read with cd-rom tray open.

	* windows/driver.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed a bug in msg conversion.

	* dlls/comctl32/trackbar.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Prevent crash when nMinRange > nMaxRange.

	* include/winuser.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added some missing manifest constants for Queue Status functions (QS_????).

	* controls/button.c, controls/edit.c, windows/mdi.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added missing WIN_ReleaseWndPtr.

	* graphics/x11drv/xfont.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	More appropriate default size for fonts with invalid sizes.

	* dlls/comctl32/listview.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Implemented SetColumnWidth for ListView control.

	* documentation/config: Adam Sacarny <magicbox@bestweb.net>
	Added new documentation for the configuration file.

	* misc/version.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Improved VERSION_GetVersion.

	* windows/x11drv/keyboard.c: Peter Bortas <peter@idonex.se>
	Added Swedish keyboard layout.

	* include/gdi.h, include/metafiledrv.h, include/wingdi.h, objects/clipping.c, objects/dc.c, objects/dcvalues.c, objects/font.c, objects/gdiobj.c, objects/metafile.c, graphics/metafiledrv/Makefile.in, graphics/metafiledrv/dc.c, graphics/metafiledrv/graphics.c, graphics/metafiledrv/init.c, graphics/metafiledrv/objects.c, graphics/painting.c, graphics/psdrv/README, graphics/psdrv/init.c, graphics/win16drv/init.c, graphics/x11drv/init.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	General tidy up of the MetaFile driver - make sure that everything
	goes through the DCFuncs table.

	* misc/toolhelp.c, if1632/kernel.spec:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Add a stub for GlobalMasterHandle.

	* tools/bug_report.pl: Adam Sacarny <magicbox@bestweb.net>
	Much nicer way to select wine's location.
	Option to disable creation of debugging output.
	Debugging output is now created in directory script was started in.

	* windows/x11drv/wnd.c: Noel Borthwick <noel@macadamian.com>
	Fixed a problem with managed mode, where popup windows with a WS_DLGFRAME
	style were appearing with a title bar. According to the docs for
	WS_DLGFRAME a window with this style cannot have a title bar.

	* loader/loadorder.c: Marcus Meissner <marcus@jet.franken.de>
	Use DllOverrides from wine.ini as defaults also in
	loadorder.c (merged in some MM dlls lines from Eric Poeuch).

	* windows/timer.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed some bogus infinite expiration time.

	* windows/x11drv/event.c: David Luyer <luyer@ucs.uwa.edu.au>
	- consolidate both cases of !pending in WaitNetEvent
	- select() returns -1 not 0 on error in WaitNetEvent

	* memory/heap.c, include/heap.h: Ove Kaaven <ovek@arcticnet.no>
	Made HeapValidate threadsafe, and added some macros to track callerEIP
	a little better.
	Added HEAP_xrealloc.

Sat Apr 24 12:02:15 1999  Alexandre Julliard  <julliard@winehq.com>

	* loader/loadorder.c, configure, configure.in, include/acconfig.h, include/config.h.in, include/elfdll.h, loader/elf.c, loader/elfdll.c:
	Marcus Meissner <marcus@jet.franken.de>
	autoconf fixes and cleanups (check for dlopen() in libc too).

	* ole/Makefile.in, ole/hglobalstream.c, ole/ole2stubs.c, ole/stg_stream.c:
	Francis Beaudet <francis@macadamian.com>
	Implemented CreateStreamOnHGLOBAL.

	* ole/compobj.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Let CoSetState() accept state == NULL.

	* dlls/shell32/pidl.c, dlls/shell32/pidl.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Made internal format more compatible.

	* dlls/shell32/shlfolder.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Small fixes.

	* windows/class.c, windows/dce.c, controls/combo.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Fix locking with proper calls to WIN_ReleaseWndPtr.

	* multimedia/dsound.c: Ove Kaaven <ovek@arcticnet.no>
	Don't malloc/free for every mixing operation, use the same buffer over
	instead...

	* dlls/comctl32/header.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbejy@wpi.edu>
	HEADER_InsertItemA and HEADER_InsertItemW now treat null pointers to
	text strings as null strings, as Windows does.  Fixes wine crash on
	startup of CuteFTP.

	* misc/registry.c: Noomen Hamza <noomen@macadamian.com>
	Set (when registry loaded) data to "\0" and length to 2 in empty
	string value case, in place of setting data to NULL and length to 0,
	and this is without initializing output buffer parameter of
	RegQueryValue*.

	* include/wingdi.h: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Added Panose defines and EXTLOGFONT[A|W].

Thu Apr 22 16:27:53 1999  Alexandre Julliard  <julliard@winehq.com>

	* */*:
	Patrik Stridvall <ps@leissner.se>
	Fixed ANSI compabillity.

	* multimedia/mciavi.c, multimedia/mcimidi.c, multimedia/mciwave.c, multimedia/midi.c, objects/text.c, windows/caret.c, windows/rect.c, dlls/version/info.c, if1632/thunk.c, include/wine/winuser16.h, memory/atom.c, memory/string.c, misc/lstr.c, multimedia/mcianim.c, controls/uitools.c, dlls/commdlg/finddlg.c, dlls/shell32/brsfolder.c:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Removed some includes of 16 bit API.

	* dlls/shell32/pidl.c, dlls/shell32/shell32_main.h, include/oleobj.h, include/shlobj.h, dlls/shell32/dataobject.c:
	Adrian Thurston <adriant@corel.ca>
	ICOMization of remaining interfaces.

	* dlls/comctl32/tooltips.c: Noel Borthwick <noel@macadamian.com>
	Fixed bug with tooltips stealing focus whenever a tooltip was created,
	shown, hidden or tracked. The SetWindowPos calls needed to have the
	SWP_NOACTIVATE flag set additionally.

	* objects/clipping.c: Karl Lessard <karll@corel.com>
	Fixed coordinates conversion in OffsetClipRgn.

	* include/objbase.h: Adrian Thurston <adriant@corel.ca>
	Clean up objbase.h. Makes the STDMETHOD set of macros available to the winelib user.

	* relay32/kernel32.spec, scheduler/handle.c:
	Marcus Meissner <marcus@jet.franken.de>
	CreateSocketHandle,GetHandleContext,SetHandleContext stubs added.

	* dlls/shell32/brsfolder.c, dlls/shell32/iconcache.c, dlls/shell32/regstream.c, dlls/shell32/shell32_main.c, dlls/shell32/shellord.c, include/shell.h, include/shellapi.h, include/shlobj.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Moved stuff to the right place.

	* windows/syscolor.c: Gerard Patel <g.patel@wanadoo.fr>
	Fixed syscolors for win 3.1.

	* files/profile.c, if1632/kernel.spec:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added missing profile KERNEL routines (call 32-bit versions).

	* if1632/builtin.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: BUILTIN_GetEntryPoint16 didn't work correctly with the new
	entry table layout.

	* include/wingdi.h: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Add Enhanced MetaFile record structures.

	* dlls/comctl32/commctrl.c, dlls/comctl32/propsheet.c, include/resource.h, resources/sysres_En.rc:
	Thuy Nguyen <thuy@macadamian.com>
	First patch implementing property sheets.

	* relay32/gdi32.spec:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: GDI32.100-104 are ordinal-only routines.
	Added stubs for some Win98 GDI32 routine.
	Re-numbered all named exports (lexicographically).

	* graphics/driver.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added prototypes (stubs) for GDI32.100-104.

	* dlls/shell32/folders.c, dlls/shell32/iconcache.c, dlls/shell32/pidl.c, dlls/shell32/pidl.h, dlls/shell32/shell32_main.h, dlls/shell32/shelllink.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	- more checks for valid pidl formats

	* relay32/shell32.spec, dlls/shell32/shellord.c, include/shlobj.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	- corrected parameter count for SHGetSettings
	- stub SHValidateUNC

	* loader/elf.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	#else branch compile fix.

	* include/elfdll.h, loader/elfdll.c, loader/loadorder.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Change wine's dlopen search-patch strategy not using the environment
	and added #if:s to seperate the code out if libdl isn't availble.

	* ole/compobj.c: Francis Beaudet <francis@macadamian.com>
	Added a check for a NULL pointer in CoFreeUnusedLibraries.

	* relay32/builtin32.c:
	Marcus Meissner <msmeissn@stud.informatik.uni-erlangen.de>
	Include debug.h last (ERR() macro problem on Solaris).

	* controls/combo.c: Francis Beaudet <francis@macadamian.com>
	Fixed a sizing bug in the combobox control.

	* tools/build.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Internal NE entry point tables were bad (one huge bundle).

	* misc/registry.c: Noomen Hamza <noomen@macadamian.com>
	Initialize the output buffer parameters to 0 in RegQueryValue*
	functions. This is important specially when there's no data to return.

	* loader/module.c: Bertho Stultiens <bertho@panter.soci.aau.dk>
	Do not increment module refCount if self is loaded from within
	DllEntryPoint during the attach notification.

Wed Apr 21 14:27:37 1999  Alexandre Julliard  <julliard@winehq.com>

	* controls/menu.c: Juergen Schmied <juergen.schmied@metronet.de>
	- protect TRACE against NULL-ptr
	- rewrote GetMenuItemID/GetSubMenu to use MENU_FindItem (hmenu=0xffff fix).

	* dlls/comctl32/toolbar.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixed typo.

	* loader/ne/module.c: Bertho Stultiens <bertho@panter.soci.aau.dk>
	Reimplementation of GetModuleHandle16 according to how win95 handles
	it (thanks to Marcus Meissner <marcus@jet.franken.de>).

	* if1632/builtin.c: Bertho Stultiens <bertho@panter.soci.aau.dk>
	Corrected wrong return values of built-in loader to work with the
	loadorder stuff.

Mon Apr 19 16:45:24 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/metafiledrv/bitblt.c, graphics/metafiledrv/init.c, include/bitmap.h, include/metafiledrv.h, objects/dib.c, objects/metafile.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Implemented recording of StretchDIBits and SetDIBitsToDevice and
	playback of SetDIBitsToDevice. Cleaned up PlayMetaFileRecord a bit.

	* include/elfdll.h, loader/elf.c, loader/elfdll.c, loader/loadorder.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Removed non-portable hacks and replaced them with more general
	versions.

	* windows/dce.c: Paul Millar <paulm@astro.gla.ac.uk>
	Code added to re-evaluate stale DC information in DCE cache.

	* loader/module.c: Bertho Stultiens <bertho@panter.soci.aau.dk>
	Attach notifications must be send after all recursive dependencies are
	loaded and not before.

	* graphics/x11drv/palette.c: Patrik Stridvall <ps@leissner.se>
	Fixed typo.

	* multimedia/mcicda.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed playing position when required by track number.

	* win32/device.c: Marcus Meissner <marcus@jet.franken.de>
	Added MMDEVLDR DeviceIoctl(5) stub (msacm32 is a bit happier now).

	* wine.ini: Marcus Meissner <marcus@jet.franken.de>
	Native toolhelp will not work (missing GLOBALMASTERHANDLE).

	* BUGS, README: Marcus Meissner <marcus@jet.franken.de>
	Updated.

	* controls/edit.c: Gerard Patel <g.patel@wanadoo.fr>
	Test for static was reversed.

	* */*:
	Patrik Stridvall <ps@leissner.se>
	New debug scheme with explicit debug channels declaration.

Sun Apr 18 14:44:26 1999  Alexandre Julliard  <julliard@winehq.com>

	* loader/ne/module.c: Removed extra call to TASK_StartTask.

	* include/acconfig.h, include/config.h.in, configure, configure.in:
	Removed check for union semun; cleaned up a bit.

	* include/server.h, server/process.c, server/trace.c, tools/make_requests:
	Added env ptr to new_process request

	* relay32/user32.spec, windows/mdi.c, controls/menu.c, include/menu.h, include/winuser.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	- use fonts/fontsizes given by SystemParametersInfo
	- drawing/alignment fixes, win98 style for menubar
	- ownerdrawn menus are working now for the first time
	- complete constants magic items
	- use right owner for popupmenus
	- new: Get/SetMenuInfo
	- implemented: Get/SetMenuContextHelpId
	- more flags for Get/SetMenuItemInfo

	* files/dos_fs.c: robert w hall <bobh@n-cantrell.demon.co.uk>
	Make DOSFS_MatchLong match a search string ending in '*.' to a zero
	extension file name, allowing Mathcad to run.

	* loader/loadorder.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed memory freeing.

	* programs/cmdlgtst/Attic/cmdlgr.h, programs/cmdlgtst/cmdlgr.rc, programs/cmdlgtst/cmdlgtst.c, programs/cmdlgtst/cmdlgtst.h:
	Renamed cmdlgr.h to cmdlgtst.h.

	* scheduler/critsection.c: Added timeout to critical section waiting.

	* include/thread.h, scheduler/sysdeps.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Merged Linux/FreeBSD reentrant errno handler, added Solaris.
	Preliminary support for Solaris low-level threads (LWPs) added.

	* configure, configure.in, include/acconfig.h, include/config.h.in:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Reentrant libc check for Solaris added.
	Fixed reentrant X11 check for FreeBSD and Solaris.
	Added check for Solaris low-level thread routines.

	* loader/ne/module.c:
	Fixed toolhelp routines usage in GetModuleFromPath (reported by Bertho
	Stultiens).

	* tools/wineinstall: Ove Kaaven <ovek@arcticnet.no>
	Automatic install script, which automatically configures and compiles
	wine and regapi, runs tools/wineconf to generate a configuration file
	if one does not already exist, and uses regapi to install the default
	registry.

	* documentation/gui, windows/win.c, windows/winpos.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Properly handling cases like calling SetWindowPos while processing
	WM_NCCREATE.

	* graphics/x11drv/dib.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed a few bugs (typos from cut & paste & invalid heap block
	freeing).

	* misc/wsprintf.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Bug fix in GetLen.

	* loader/ne/module.c, loader/pe_image.c, memory/global.c, misc/main.c, miscemu/main.c, relay32/builtin32.c, scheduler/process.c, scheduler/thread.c, if1632/builtin.c, include/builtin32.h, include/module.h, include/pe_image.h, include/winerror.h, loader/Makefile.in, loader/elf.c, loader/main.c, loader/module.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Reorganization of the loader to correctly load and free libraries and
	implementation of load order to load different types of libraries.

	* documentation/wine.man: Bertho Stultiens <bertho@panter.soci.aau.dk>
	Updated commandline changes of -dll option and wine.conf entries.

	* wine.ini: Bertho Stultiens <bertho@panter.soci.aau.dk>
	Updated the example with the new configuration entries.

	* dlls/shell32/shell32_main.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Bugfix: free loaded library not before exit.

	* include/elfdll.h, include/loadorder.h, loader/elfdll.c, loader/loadorder.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	New files to support load order and partial stubs for elfdlls.

	* graphics/metafiledrv/objects.c, graphics/x11drv/dib.c, include/bitmap.h, objects/brush.c, objects/cursoricon.c, objects/dib.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fixes for upside-down DIBs.

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	Changed 'GetDisplayMode' to return the mode previously set by
	'SetDisplayMode' (and not the current monitor mode).

	* include/tab.h, dlls/comctl32/tab.c:
	Luc Tourangeau <luc@macadamian.com>
	-Implemented TCS_BUTTONS, TCS_FIXEDWIDTH, TCM_GETITEMRECT,
	TCM_SETITEMSIZE and TCM_DELETEITEM.

	* objects/cursoricon.c: Pavel Roskin <pavel_roskin@geocities.com>
	LookupIconIdFromDirectoryEx16() fixed: if GetSystemPaletteEntries()
	returns 0, it is interpreted as if it were 256.

	* loader/module.c, scheduler/process.c:
	Kevin Holbrook <kwh@neosoft.com>
	Fix ambiguous else warning.

	* windows/syscolor.c: Juergen Schmied <juergen.schmied@metronet.de>
	Loading color values from the registry fixed.

	* graphics/ddraw.c: Brian Gerst <bgerst@quark.vpplus.com>
	- Removed all floating point math.
	- Implemented stretching in X and Y directions for 8, 16, and 32 bit color.
	- Implemented source and dest color-keying for 8, 16, and 32 bit color.
	- Implemented some trivial raster operations.
	- Minimized inner loops for maximum speed.
	- Use memcpy whenever possible.

	* multimedia/audio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Reduced fragment size.
	Reorganized wodOpen (with support for WAVE_QUERY_FORMAT).
	Fixed buffer underrun recovery.
	Fixed bug in wodReset()/wodClose().

	* ole/storage32.c: Michael Veksler <mveksler@techunix.technion.ac.il>
	Simplify propertyNameCmp() and fix a warning in the way by removing
	CRTDLL__wcsupr() calls.

	* misc/ddeml.c: Keith Matthews <keith_m@sweeney.demon.co.uk>
	DdeNameService: expansion of stub to trap unused instanceids at start of run.
	DdeGetLastError: catch 'not initialized' situation and return correct response.
	DdeFreeStringHandle: complete test for error set by previous call of
	something and ignore it, also release handle table mutex on normal exit.
	DdeQueryStringA, DdeQueryStringW, DdeCreateStringHandleW: Release
	handle table mutex on normal exit.

	* include/wnet.h, misc/network.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Don't announce the WNetDirectoryNotify capability WNetGetConnection.
	Change the return value for local files.

	* windows/mouse.c: Michael Veksler <mveksler@techunix.technion.ac.il>
	Add "win.h" to fix implicit function declaration warnings.

	* console/interface.c, include/console.h:
	Marcus Meissner <marcus@jet.franken.de>
	Only declare console "driver" once, use external refs elsewhere.

	* controls/listbox.c: Luc Tourangeau <luc@macadamian.com>
	When the vertical scrollbar is removed, the background was not
	properly repainted.

	* loader/signal.c: Marcus Meissner <marcus@jet.franken.de>
	Disable AC bit on receiving alignment exceptions.

	* misc/main.c: Juergen Schmied <juergen.schmied@metronet.de>
	SystemParametersInfo SPI_GETNONCLIENTMETRICS: implemented menu part.

	* windows/x11drv/event.c: Noel Borthwick <noel@macadamian.com>
	While handling the WM_DELETEWINDOW client message check if a window
	has been disabled and if so prevent an SC_CLOSE message from being
	sent.

	* windows/dce.c: Noel Borthwick <noel@macadamian.com>
	Make access to the DCE list thread safe by ensuring we have acquired
	the Windows lock before using it.

Fri Apr 16 15:19:14 1999  Alexandre Julliard  <julliard@winehq.com>

	* resources/.cvsignore: Changed for renamed files

	* misc/winsock_async.c, msdos/dosconf.c, windows/user.c:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Fixed warnings.

	* ole/nls/wal.nls, ole/ole2nls.c, resources/Attic/sysres_Cz.rc, resources/Attic/sysres_Po.rc, resources/Attic/sysres_Sw.rc, resources/Makefile.in, resources/sysres.c, resources/sysres_Cs.rc, resources/sysres_Pt.rc, resources/sysres_Sv.rc, resources/sysres_Wa.rc, windows/x11drv/keyboard.c, documentation/wine.man, include/options.h, include/winnls.h, misc/main.c:
	Pablo Saratxaga <pablo.sarachaga@ping.be>
	Added walon language support (I also moved Cz -> Cs, Sw -> Sv, and Po
	-> Pt; to conform to standard names for those languages).

	* configure, configure.in, relay32/Makefile.in:
	Marcus Meissner <marcus@jet.franken.de>
	Add -fno-builtin when compiling with gcc in relay32/ subdir.

	* include/module.h, loader/ne/module.c, loader/ne/segment.c, tools/build.c, if1632/builtin.c:
	Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	- Implemented proper ("real", compressed) Win16 entry tables.
	- Fixed MyAlloc (AKA NE_AllocateSegment).
	- Implemented PatchCodeHandle16.

	* tools/Attic/make_os2.sh, tools/make_os2.cmd, graphics/path.c, graphics/psdrv/graphics.c, include/sig_context.h:
	Robert Pouliot <krynos@clic.net>
	A few patches to help Wine to compile on OS/2.

Thu Apr 15 16:46:51 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/metafiledrv/bitblt.c, graphics/metafiledrv/graphics.c, graphics/metafiledrv/init.c, graphics/metafiledrv/mapping.c, graphics/metafiledrv/objects.c, graphics/metafiledrv/text.c, include/metafile.h, include/metafiledrv.h, objects/clipping.c, objects/dc.c, objects/dcvalues.c, objects/metafile.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Change (32 bit) HMETAFILEs to GDI objects (HMETAFILE16s remain as
	global memory handles).  Fixed disk-based MetaFiles.  Better
	separation between MetaFile playback and the metafiledrv.

	* misc/crtdll.c: Ove Kaaven <ovek@arcticnet.no>
	_CIpow argument order was confirmed with Starcraft v1.05.

	* documentation/keyboard: Ove Kaaven <ovek@arcticnet.no>
	Clarified a few points.

	* msdos/int21.c: Bertho Stultiens <bertho@panter.soci.aau.dk>
	Added IOCTL function 0x440d/0x72.

	* relay32/kernel32.spec, scheduler/critsection.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	UnitializeCriticalSection partial stub implementation.

	* include/winbase.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added missing proto for GetExitCodeThread.

	* include/driver.h, include/wine/keyboard16.h:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Added missing windef.h includes.

	* windows/input.c, include/winuser.h:
	Zygo Blaxell <uj22kfbc@umail.furryterror.org>
	ReleaseCapture() is supposed to return a BOOL value.

	* configure, configure.in, include/config.h.in, loader/signal.c:
	Marcus Meissner <marcus@jet.franken.de>
	FreeBSD 3 multithreading final fix. Do not use libc_r, libc is just as
	reentrant concerning errno. Revert unneeded FreeBSD hack to
	loader/signal.c from last patch.

	* windows/x11drv/keyboard.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	index == 3 corresponds to Alt-Gr + Shift.

	* misc/ddeml.c: Keith Matthews <keith_m@sweeney.demon.co.uk>
	More of DdeCreateStringHandleA, DdeFreeStringHAndle, DdeQueryStringA
	and DdeCreateStringHandleW and tidy up of RemoveHSZNodes, and
	DdeCreateStringHandleA.

	* windows/x11drv/main.c, graphics/x11drv/bitblt.c, graphics/x11drv/palette.c, include/x11drv.h:
	Pavel Roskin <pavel_roskin@geocities.com>
	Fixed ugly disabled controls and black background in Write and Lotus
	Notes.

	* controls/button.c, include/button.h, include/winuser.h:
	Pascal Lessard <pascal@macadamian.com>
	Implement the button with bitmaps.

	* include/wine/obj_storage.h, ole/stg_stream.c, ole/storage32.c:
	Stephane Lussier <stephane@macadamian.com>
	Implementation of IStorage::CopyTo and IStream::CopyTo.

	* loader/task.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Always release the Win16Lock in TASK_Reschedule.

	* windows/x11drv/event.c: Francois Boisvert<francois@macadamian.com>
	Solved a deadlock between global lock and wnd lock in event.c.

	* dlls/shell32/iconcache.c: Marcus Meissner <marcus@jet.franken.de>
	Typo that broke Solaris compile fixed.

	* controls/desktop.c: Francois Boisvert<francois@macadamian.com>
	Add a WIN_ReleaseDesktop in DESKTOP_IsSingleWindow.

	* windows/x11drv/keyboard.c: Guy Albertelli <galberte@neo.lrun.com>
	Fix scancodes for NumLock and Num-/.
	Fix MapVirtualKey() (maptype=2) to return proper ascii code.
	Reworked GetKeyNameText() again.

	* graphics/psdrv/font.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Limit lastChar to 0xff in PSDRV_GetCharWidth.

	* windows/user.c: Marcus Meissner <marcus@jet.franken.de>
	Missing WINAPI for RegisterSystemThread.

Sun Apr 11 18:48:17 1999  Alexandre Julliard  <julliard@winehq.com>

	* msdos/int10.c: Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Fixed "Display Combination" call.

	* misc/comm.c: Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Fixed a crash due to invalid OpenComm return value for busy comm port.
	Cleaned up/fixed several things.

	* windows/win.c: Francois Boisvert<francois@macadamian.com>
	Enabled thread safeness for wnd structure code.

	* debugger/dbg.y: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Use CLIENT_DebuggerRequest to freeze/unfreeze threads.

	* server/request.c, server/thread.c, server/trace.c, include/server.h, include/server/request.h, include/server/thread.h, scheduler/client.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added new CLIENT_DebuggerRequest routine, implemented support for
	DEBUGGER_FREEZE_ALL/DEBUGGER_UNFREEZE_ALL requests.
	Run wine server in the main wine process.
	Bugfix: never free initial thread!

	* scheduler/process.c, include/process.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Non-functional PROCESS_Suspend/ResumeOtherThreads removed.

	* windows/timer.c: Ove Kaaven <ovek@arcticnet.no>
	Teached TIMER_GetNextExpiration that a timer that has already expired
	(but not processed yet) HAS already expired...

	* winedefault.reg: Ove Kaaven <ovek@arcticnet.no>
	Default values for registry.

	* graphics/x11drv/dib.c: Karl Lessard <karll@corel.ca>
	Optimized code for SetImageBits_X, making bitmap creation faster.

	* controls/menu.c: Juergen Schmied <juergen.schmied@metronet.de>
	The MEASUREITEMSTRUCT and DRAWITEMSTRUCT were filled wrong.

	* configure.in, include/config.h.in, include/sig_context.h, loader/signal.c, scheduler/sysdeps.c, configure:
	Marcus Meissner <marcus@jet.franken.de>
	- Started multithreading for FreeBSD (incomplete, but some
	  applications now at least start up again).
	- Use _thread_sys_sigaction/_thread_sys_sigaltstack.
	- CR2 on pagefault gets passed in sc_err (some kind of kludge in
	  FreeBSD owns fault handling we can use)

	* include/selectors.h, memory/global.c, memory/selector.c:
	Made SELECTOR_ReallocBlock preserve the current selector access rights
	(problem reported by Andreas Mohr).

	* misc/system.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Use services thread instead of timer signals.

	* server/thread.c, scheduler/synchro.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Allow user APCs with NULL 'func' (just wake up the thread).

	* include/services.h, loader/main.c, scheduler/Makefile.in, scheduler/services.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented 'kernel services thread'.

	* include/winspool.h, misc/printdrv.c, relay32/winspool.spec:
	Klaas van Gend <klaas@vangend.demon.nl>
	Added stub for PrinterProperties.

	* dlls/ntdll/rtlstr.c, include/ntddk.h, relay32/ntdll.spec, dlls/ntdll/nt.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Implemented NtTerminateProcess and NtDisplayString.

	* loader/module.c: Bertho Stultiens <bertho@panter.soci.aau.dk>
	FreeLibrary partial implementation.

	* misc/crtdll.c, relay32/crtdll.spec: Ove Kaaven <ovek@arcticnet.no>
	Made _ftol take argument from FPU stack. Starcraft v1.04 (*not* Brood
	Wars) now works perfectly with Wine's crtdll. Wrote a test
	implementation of _CIpow too, which those who do have Brood Wars can
	report on, so it can be implemented correctly.

	* windows/x11drv/keyboard.c: Guy Albertelli <galberte@neo.lrun.com>
	Partial implementation for GetKeyNameText for new keyboard structure.

	* dlls/tapi32/phone.c: Kevin Holbrook <kwh@neosoft.com>
	Fixed warning.

	* include/wine/obj_storage.h: Marcus Meissner <marcus@jet.franken.de>
	Added missing ReadClassStg prototype.

	* misc/wsprintf.c: Michael Veksler <mveksler@techunix.technion.ac.il>
	- Fix comments after the big renaming (xxxx32y --> xxxxy).
	- Declare the WPRINTF_DATA union, and use it instead of LPCVOID and WORD.
	  Avoid ugly type casting, and fix compilation warnings of wsprintf.c

	* documentation/status/dde:
	Keith Matthews <keith_m@sweeney.demon.co.uk>
	Status document for DDE/Ddeml.

	* multimedia/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added event callback mechanism.
	Introduction of MCI yield procs.
	Updated (prepare|unprepare)header functions (wave, midi) to allow
	correct callback mechanisms.
	Made midiStreamXXX functions working.
	First try at mmThreadXXX functions.

	* multimedia/midi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Updated (prepare|unprepare)header functions to allow correct callback
	mechanisms.

	* multimedia/mcimidi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Small enhancement.

	* multimedia/mci.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	New method for structure conversion (16 <-> 32).
	More MCI structures correctly mapped.
	Introduction of MCI yield proc and break facility.

	* multimedia/audio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Updated (prepare|unprepare)header functions to allow correct callback
	mechanisms.  Implemented waveOut playback as asynchronous.

	* include/multimedia.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Started implementation of mmThreadXXX functions.

	* include/mmsystem.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added a few missing defines (MIDI, WAVE, callbacks).
	Structures for midiStreamXXX functions.

	* if1632/mmsystem.spec: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Updated (prepare|unprepare)header functions (wave, midi) to allow
	correct callback mechanisms. Added wine specific entry for mmThreadXXX
	functions thread starting point.

	* include/wine/obj_storage.h:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Introduce STATSTG16 - a 16 bit variant of STATSTG.

	* ole/storage.c: Michael Veksler <mveksler@techunix.technion.ac.il>
	Fix IStorage16_fnStat() to use STATSTG16 (it is a 16 bit interface).

	* controls/menu.c: Paul Millar <paulm@astro.gla.ac.uk>
	Fixed menu type setting in SetMenuItemInfo32_common().

	* include/process.h, loader/ne/module.c, loader/task.c, scheduler/process.c, scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Send USIG_PROCESS_CREATE signal.
	Bugfix: GetProcessDword offset -8 should return parent process ID.

	* relay32/user32.spec, windows/user.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Added RegisterSystemThread stub.

	* include/wine/obj_misc.h, ole/compobj.c, relay32/ole32.spec, include/winerror.h:
	Francis Beaudet <francis@macadamian.com>
	Implemented the CoCreateInstanceEx method.

	* misc/registry.c: David Gay <dgay@CS.Berkeley.EDU>
	Fixed crash due to a value of name length 0, value length 0 at the end
	of the registry.

	* windows/winpos.c: Francois Boisvert <francois@macadamian.com>
	Check if pTempActiveWindow in WINPOS_SetWindowPos is valid after the
	QUEUE_Lock.

	* multimedia/dplay.c: Francois Gouget <fgouget@psn.net>
	- updated because of the splitting of interface/implementation
	- updated to use ICOM_THIS

	* include/dplay.h, include/dplobby.h, ole/guid.c:
	Francois Gouget <fgouget@psn.net>
	- use the latest ICOM macros
	- moved the IDirectPlayLobby interface to dplobby.h
	- removed all the implementation aspects since they need to be
	separate

	* include/dsound.h, multimedia/dsound.c:
	Francois Gouget <fgouget@psn.net>
	ICOMisation of the DirectSound API.

	* dlls/shell32/folders.c, dlls/shell32/iconcache.c, dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, include/shlobj.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	- reorganised icon extracing from files
	- made extracting from ne and ico files working
	- IPersistFile interface for IExtractIcon

	* misc/shell.c: Juergen Schmied <juergen.schmied@metronet.de>
	Fixed buffer overrun.

	* include/cursoricon.h, objects/cursoricon.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Changed ressource dir structures.
	Adapted FindBestIccon/FindBestCursor.

	* windows/syscolor.c: Juergen Schmied <juergen.schmied@metronet.de>
	Loading the color schema for registry.

Sat Apr 10 16:58:55 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/winsock.h, misc/Attic/winsock_dns.c, misc/Makefile.in, misc/winsock.c, misc/winsock_async.c:
	Marcus Meissner <marcus@jet.franken.de>
	Reimplemented winsock asynchronous DNS services. No longer use a
	fork()ed process, but either a service thread or inline blocking calls
	for non-threading architectures. (Makes Free Agent16 work again.)

	* programs/cmdlgtst/Attic/cmdlgr.h, programs/cmdlgtst/cmdlgr.rc, programs/cmdlgtst/cmdlgtst.c:
	<ewill@ncal.verio.com>
	- color and font dialogs now actually do something interesting,
	  and force a redraw when successful.  Background color is adjustable.
	  Text color is also adjustable, but the user has to set the CF_EFFECTS
	  flag first.
	- text is output left-right centered, baseline, at the middle
	  of the window, and moves with the window.  Text font is adjustable.
	- Success and failure MessageBox calls for Color, Font, Open,
	  and Save have been removed or suppressed.  They annoyed me after
	  awhile, and I suspect they annoyed others, too.  Use my tool! :-)
	- cmdlgtst now has the full pathname in the upper left corner; which may
	  assist in debugging certain problems -- or it may not. :-)
	- usage dialog added

	* ole/ole2nls.c: Juergen Schmied <juergen.schmied@metronet.de>
	Corrected debug output.

	* windows/driver.c, relay32/winmm.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Better error handling ; a few bug fixes ; now OpenDriver16 can load 32
	bit drivers.
	Added stub for GetDriverFlags.

	* windows/user.c, relay32/user32.spec:
	Sergey Turchanov <turchanov@usa.net>
	Stubs for CloseDesktop and CloseWindowStation.

	* loader/ne/module.c: Bertho Stultiens <bertho@panter.soci.aau.dk>
	GetModuleFromPath now checks for loaded modules via filenames which
	were specified without a path.

	* misc/registry.c, include/winreg.h:
	Sylvain St.Germain <sylvain@macadamian.com>
	Implementation of HKU key saving and loading. Add new supported data
	type in debug_print_value.

	* dlls/shell32/shlview.c, include/docobj.h, ole/guid.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	New interfaces for IOleCommandTarget, IDropTarget, IViewObject.
	Small change how to get icons for listview.

	* include/shlobj.h, relay32/shell32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	ILLoadFromString and SHGetSettings implemented.

	* dlls/shell32/shellord.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	SHGetSettings implemented.
	ExitWindowsDialog() simulated by Messagebox.

	* dlls/shell32/pidl.c: Juergen Schmied <juergen.schmied@metronet.de>
	ILLoadFromString implemented.

	* graphics/x11drv/init.c, graphics/ttydrv/init.c, graphics/ttydrv/palette.c:
	Richard Mortimer <remitrom@my-dejanews.com>
	Added missing *IsDark entries into PALETTE_Driver instance
	initialisation.

	* windows/x11drv/mouse.c: Brian Gerst <bgerst@quark.vpplus.com>
	Fixed X11DRV_MOUSE_WarpPointer initial value.

	* objects/bitmap.c: Luc Tourangeau <luc@macadamian.com>
	Ensure that the bitmap is properly initialized when created with the
	LR_CREATEDIBSECTION flag.

	* dlls/comctl32/treeview.c: Sylvain St.Germain <sylvain@macadamian.com>
	Fixed the messaging problem of the edit box for node label edition.
	Substituted WM_PAINT for InvalidateRect.
	Some graphical fixes.

	* misc/main.c: James Juran <jrj120@psu.edu>
	Check for drivers==NULL before trying to delete them at exit.  This
	could happen if the emulator initialization failed for some reason and
	the drivers hadn't been initialized yet.

	* if1632/thunk.c, include/callback.h, misc/callback.c, miscemu/main.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Call InitApp16 (using Callout) for initial process.

	* miscemu/instr.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Clear invalid selectors also in CallTo16 relay code.

	* programs/notepad/Es.rc:
	Jose Marcos López Caravaca <jose.lopez@upcnet.upc.es>
	Revised Spanish resources.

	* windows/mdi.c: Gerard Patel <g.patel@wanadoo.fr>
	Fixed window locking bug in CalcChildScroll.

	* multimedia/time.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed fake multimedia timers. Grim Fandango is now able to start up
	when under favorable conditions. The preview movie on the Brood Wars
	disc now plays, too.

	* misc/printdrv.c: Klaas van Gend <klaas@vangend.demon.nl>
	Bugfix EnumPrintersA: lpbPrinters=NULL or cbBuf=0 would crash Wine,
	instead of returning the right buffersize.

Tue Apr  6 07:14:09 1999  Alexandre Julliard  <julliard@winehq.com>

	* files/directory.c: galberte <galberte@neo.rr.com>
	Fixed SearchPathA return value.

	* graphics/d3d_private.h, graphics/d3dtexture.c, graphics/ddraw.c, graphics/ddraw_private.h:
	Lionel Ulmer <ulmer@directprovider.net>
	- clean-up of texture 'loading'
	- added SetColorKey callback for already loaded textures

	* include/wine/obj_storage.h: Francois Gouget <fgouget@psn.net>
	Fixed a problem pointed out by Kevin Holbrook.

	* include/commctrl.h: Francois Gouget <fgouget@psn.net>
	commctrl.h must include prsht.h.

	* include/wine/obj_oleaut.h: Francois Gouget <fgouget@psn.net>
	Warning fix.

	* include/wine/obj_base.h: Francois Gouget <fgouget@psn.net>
	Added a new implementation of the ICOM macros that use Microsoft style
	virtual methods to implement the COM interfaces in C++.

	* misc/ddeml.c: Keith Matthews <keith_m@sweeney.demon.co.uk>
	Correction of Mutex handling in DdeInitializeW for cases other than
	1st call. Addition of instance handling to DdeCreateStringHandleA,
	DdeCreateStringHandleW, RemoveHSZNodes, FreeAndRemoveHSZNodes.  1st
	cut implementation of DdeUnitialize, move of internal structure defs
	in from ddeml.h. Removed non-ANSI comment.

	* include/ddeml.h: Keith Matthews <keith_m@sweeney.demon.co.uk>
	Moved internal structures to ddeml.c, also removed non-ANSI comments,
	and added spec for DdeQueryConfInfo and DdeQueryConvInfo16.

	* multimedia/mmsystem.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Fixed memory leaks in mixerOpen16/mixerClose,
	midiOutOpen16/midiOutClose16, waveInOpen16/waveInClose16,
	midiInOpen16/midiInClose16.

	* tools/bug_report.pl: Adam Sacarny <magicbox@bestweb.net>
	Added sanity check for whitespace in file names, various other fixups.

Sun Apr  4 12:48:21 1999  Alexandre Julliard  <julliard@winehq.com>

	* controls/listbox.c: Luc Tourangeau <luc@macadamian.com>
	WM_MOUSEMOVE implementation bug fix.

	* windows/x11drv/keyboard.c:
	José Marcos López <jose.lopez@upcnet.upc.es>
	Added Spanish keyboard layout.

	* misc/comm.c: Lawson Whitney <lawson_whitney@juno.com>
	Fixed the modem control part of EscapeCommFunction16.

	* controls/combo.c: Gerard Patel <g.patel@wanadoo.fr>
	Added missing goto.

	* ole/ole2nls.c, relay32/kernel32.spec, include/winnls.h:
	Marcus Meissner <marcus@jet.franken.de>
	EnumCalendarInfoA stub.

Sat Apr  3 16:27:54 1999  Alexandre Julliard  <julliard@winehq.com>

	* windows/mouse.c, windows/keyboard.c:
	Francois Boisvert <francois@macadamian.com>
	Suspend the window locks before DefKeybEventProc and
	DefMouseEventProc.

	* include/wnaspi32.h, programs/view/globals.h, include/aspi.h, include/mmsystem.h, include/winaspi.h, include/winioctl.h, include/winnt.h:
	Joerg Mayer <jmayer@telesun2.telemation.de>
	More #pragma fixes (idea Ove Kaaven, mistakes are mine).

	* windows/win.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	No longer sending atoms in ((CREATESTRUCT*)lParam)->lpszName of
	WM_CREATE messages.

	* loader/module.c: Marcus Meissner <marcus@jet.franken.de>
	Added some SetLastError()s in GetProcAddress() and LoadLibrary().

	* misc/crtdll.c, relay32/crtdll.spec:
	Christian Schlaile <up9n@rz.uni-karlsruhe.de>
	Implemented makepath, rand() returns correct range, fixed fputc.

	* files/file.c, include/file.h, msdos/int21.c:
	Mask off unsupported attributes in _lcreat (bug reported by Andreas Mohr).
	Moved _lcreat16_uniq to int21.c

	* libtest/hello3.c, libtest/hello3res.rc, libtest/hello4.c, libtest/new.c, libtest/rolex.c, libtest/vartest.c, libtest/volinfo.c:
	Pavel Roskin <pavel_roskin@geocities.com>
	Casts to (SEGPTR) removed. They did nothing anyway.
	Includes added or removed where necessary.
	Win16 functions replaced with their Win32 counterparts. Comments added
	where it was impossible.
	CALLBACK added where necessary. Some declarations fixed.
	Constructs like "#if WINDOWS" corrected. Using "#ifdef __unix__" instead.
	DlgProc in hello3 uses EndDialog() instead of DestroyWindow().
	Listbox enabled in hello3.

	* windows/x11drv/keyboard.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Updated French keyboard.

	* libtest/hello.c: Alex Korobka <alex@aikea.ams.sunysb.edu>
	Fancier version of hello.c courtesy of Huw Davies.

	* programs/control/control.c: Pavel Roskin <pavel_roskin@geocities.com>
	Fixed compilation of the Control panel.

	* windows/x11drv/keyboard.c: Ove Kaaven <ovek@arcticnet.no>
	'Realigned' the layout table a bit. Applied the non-latin-1 stuff and
	the dead key mapping stuff to the actual mapping code too.  Prettied
	up the fixme message. Added a check where if the keys of two layouts
	match exactly, the one with the best-matching keycode order is chosen,
	so that the QWERTY and Dvorak layouts can be distinguished.

	* win32/device.c, relay32/kernel32.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added (empty) stub for OpenVxDHandle.

	* multimedia/mmio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	mmioOpen() now handles correctly MMIO_PARSE flag.

	* controls/edit.c: Luc Tourangeau <luc@macadamian.com>
	Background color fix when disabled or read only.

	* windows/win.c: Francois Boisvert <francois@macadamian.com>
	Transfered the window struct memory release from WIN_DestroyWindow to
	WIN_ReleaseWndPtr.

	* include/winuser.h: Thuy Nguyen <thuy@macadamian.com>
	DLGITEMTEMPLATE structure had one too many member.

	* debugger/db_disasm.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Prevent crash in debugger.

Fri Apr  2 10:37:42 1999  Alexandre Julliard  <julliard@winehq.com>

	* controls/combo.c, controls/listbox.c, include/combo.h:
	Francis Beaudet <francis@macadamian.com>
	Implemented the Win95 look and feel.

	* windows/defwnd.c: Francis Beaudet <francis@macadamian.com>
	Wrote a basic implementation of the WM_PRINT message.

	* windows/dce.c, windows/win.c, windows/winproc.c, misc/callback.c:
	Francois Boisvert <francois@macadamian.com>
	Suspend all windows locks before the control is passed to the
	application.
	Also fixed some bugs in dce.c

	* Make.rules.in, Makefile.in:
	Joerg Mayer <jmayer@telesun2.telemation.de>
	- Remove some old rc make stuff
	- "make clean" omitted some include subdirs

	* relay32/ddraw.spec, graphics/ddraw.c:
	Lionel Ulmer <ulmer@directprovider.net>
	Added DllClassFactory to DirectDraw.

Thu Apr  1 12:05:44 1999  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/keyboard.c: Marcus Meissner <marcus@jet.franken.de>
	Split off keysym/deadchar -> char mapping, use it in DetectLayout.

	* tsx11/X11_calls, tsx11/ts_xlib.c, windows/clipboard.c, windows/message.c, windows/ttydrv/clipboard.c, windows/ttydrv/init.c, windows/win.c, windows/winpos.c, windows/x11drv/clipboard.c, windows/x11drv/event.c, windows/x11drv/init.c, windows/x11drv/wnd.c, controls/menu.c, graphics/x11drv/bitmap.c, include/clipboard.h, include/ts_xlib.h, include/ttydrv.h, include/win.h, include/winpos.h, include/x11drv.h:
	Alex Korobka <alex@aikea.ams.sunysb.edu>
	Fixes for ignored WVR_[VH]REDRAW flags, made minimization in managed
	mode go through window manager, small bugfixes for menu and window
	code, extended clipboard driver model to handle formats other than
	text.

	* controls/edit.c: Pavel Roskin <pavel_roskin@geocities.com>
	EC_USEFONTINFO means es->char_width/3, not es->char_width. This is
	true for multiline controls too, as my tests show.

	* dlls/comctl32/listview.c, include/listview.h:
	Luc Tourangeau <luc@macadamian.com>
	Added support for icon and smallicon views.

	* loader/dos/dosvm.c: Ove Kaaven <ovek@arcticnet.no>
	Made DOSVM_GetTimer survive EAGAIN errors...

	* include/comm.h, misc/comm.c: Ove Kaaven <ovek@arcticnet.no>
	Implemented async comm buffers (but probably not bugfree), and along
	with them, the functionality of async event notifications, mong them
	EnableCommNotification. Removed a previous hack that was faking the
	buffers, since we now have real buffers...

	* include/wine/winuser16.h: Ove Kaaven <ovek@arcticnet.no>
	Added CN_* flags used in WM_COMMNOTIFY.

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	Implement the EnumAttachedSurface method.

	* ole/ole2.c: Noel Borthwick <noel@macadamian.com>
	Implementation for OleCreateMenuDescriptor, OleSetMenuDescriptor and
	OleDestroyMenuDescriptor along with a bunch of internally used methods
	and data structures.

	* ole/guid.c, include/initguid.h, include/shlguid.h, include/wine/obj_olefont.h, include/wtypes.h:
	Adrian Thurston <adriant@corel.ca>
	initguid.h should only contain the macro that defines the guids.
	Added olectl.h to guid.c so some needed guids get defined.
	Made GUID_NULL an actual guid set to 0,0,0...

	* if1632/gdi.spec, objects/gdiobj.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added GdiSignalProc() stub.

	* misc/callback.c, relay32/user32.spec, windows/user.c, if1632/thunk.c, if1632/user.spec, include/callback.h, include/task.h, include/user.h, loader/main.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added USER32.UserSignalProc to Callout table.
	Implemented built-in UserSignalProc().
	Don't announce Win3.1-style USER handler any more.

	* win32/ordinals.c, include/process.h, loader/ne/module.c, loader/ne/segment.c, loader/task.c, scheduler/process.c, scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented PROCESS_CallUserSignalProc().
	Send USER signals at various appropriate places.
	Moved [GS]etProcessDword() to scheduler/process.c.

	* dlls/shell32/Makefile.in, dlls/shell32/brsfolder.c, dlls/shell32/pidl.c, dlls/shell32/shelllink.c, dlls/shell32/shlmenu.c, include/shlobj.h, relay32/shell32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	All 19 FileMenu_* functions, some as stubs, some implemented.

	* dlls/shell32/shellole.c, dlls/shell32/shellord.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	SHCLSIDFromString, StrToOleStr implemented.
	RLBuildListOfPaths stub.

	* dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	DllGetVersion (not yet exported).
	Small change to SHAppBarMessage.

	* relay32/winmm.spec: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added DrvClose, DrvDefDriverProc, DrvOpen, DrvOpenA, DrvSendMessage.

	* if1632/mmsystem.spec: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added StackEnter() and StackLeave() stubs

	* multimedia/mci.c, multimedia/mmsystem.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Starting implementation of MCI creator tasks
	Fixed bug in MCI_OPEN handling (thanks to Adam for reporting this one)
	Better implementation of mmTaskCreate16

	* include/multimedia.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added creator task to MCI struct.

	* dlls/commdlg/filedlg.c: Pavel Roskin <pavel_roskin@geocities.com>
	Replaced 0xC000 by symbolic constants.

	* dlls/comctl32/imagelist.c: Francis Beaudet <francis@macadamian.com>
	Fixed small ==, != mixup.

	* windows/defdlg.c, windows/defwnd.c:
	Luc Tourangeau <luc@macadamian.com>
	Implemented WM_NOTIFYFORMAT.

	* loader/elf.c: Marcus Meissner <marcus@mud.de>
	"foo" was not translated to "foo.so" in elf loader.

	* include/bitmap.h, objects/bitmap.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	LoadBitmap16()/LoadImage16() calling sequence simplified.

	* loader/module.c, loader/ne/resource.c, misc/callback.c, if1632/wprocs.spec:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Allow NULL NE resource handler; call the default handler directly.
	Removed WPROCS / Callbacks support for WineLib resource handlers.

	* include/process.h, relay32/utthunk.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Made Universal Thunk list per-process, not system global.

	* include/commctrl.h: Paul Quinn <paulq@corel.ca>
	Additional macro definitions.

	* dlls/comctl32/tab.c: Francis Beaudet <francis@macadamian.com>
	Implemented TCM_ADJUSTRECT.

	* msdos/int09.c, msdos/ioports.c:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Removed "implicit declaration" warnings.

	* graphics/d3d_private.h: Lionel Ulmer <ulmer@directprovider.net>
	Fixed OpenGL devices implementation.

	* windows/queue.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	In UserYield16, when current thread is a 32 bit one which hold the
	Win16Lock, must take care of a LockCount > 1.

	* */*.c:
	Patrik Stridvall <ps@leissner.se>
	More code moved to the X11 driver (bitmap and palette and misc).

----------------------------------------------------------------
Sun Mar 28 15:20:00 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/winbase.h, include/wingdi.h:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Move DM* defines from winbase.h -> wingdi.h.

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	Fixed QueryInterface functions for IDirect3D 1 and 2.

	* ole/nls/Attic/dnk.nls: Apparently no longer needed.

	* controls/menu.c, controls/uitools.c, dlls/comctl32/comboex.c, graphics/x11drv/brush.c, graphics/x11drv/graphics.c, include/debug.h, include/debugdefs.h, memory/global.c, misc/ddeml.c, windows/x11drv/event.c:
	Dimitrie O. Paun <dimi@cs.toronto.edu>
	Changed some debug messages from one channel to another, to clean up a
	bit the debug channel usage.

	* loader/module.c: Jess Haas <paranoid07@hotmail.com>
	Fixed CreateProcessA so it can handle commandlines with arguments and
	no .exe.

	* loader/ne/module.c: Jess Haas <paranoid07@hotmail.com>
	Fixed GetModuleHandle16.

	* windows/x11drv/keyboard.c: Pavel Roskin <pavel_roskin@geocities.com>
	Added Russian keyboard support.

	* include/winuser.h, relay32/user32.spec, windows/user.c:
	Lionel Ulmer <ulmer@directprovider.net>
	Added stub for SetSystemCursor.

	* win32/file.c: Steffen Moeller <moeller@ebi.ac.uk>
	SetFileAttributesA: "implemented" setting of directory flag as test of
	compatibility.

	* windows/x11drv/keyboard.c: Pavel Roskin <pavel_roskin@geocities.com>
	Changes in X11DRV_KEYBOARD_DetectLayout in order to implement Russian
	keyboard support.

	* include/wine/obj_storage.h, ole/Makefile.in, ole/ole2.c, ole/ole2stubs.c, ole/storage.c, ole/variant.c, relay32/ole32.spec, relay32/oleaut32.spec, relay32/user32.spec, windows/input.c, include/ole2.h, include/oleauto.h, include/olectl.h, include/winuser.h:
	Paul Quinn <paulq@corel.ca>
	Aaron Barnes <aaronb@corel.ca>
	Adrian Thurston <adriant@corel.ca>
	Bundle of new stubs.

	* misc/crtdll.c, misc/ddeml.c, ole/ole2disp.c:
	Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Added missing WINAPIs.

	* relay32/kernel32.spec, win32/newfns.c:
	Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Added CreateIoCompletionPort stub.

	* windows/queue.c, windows/message.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Call EVENT_Pending() to flush X11 output queue before blocking in
	MsgWaitForMultipleObjects().
	Don't call EVENT_WaitNetEvent in MSG_PeekHardwareMsg.
	Protect system queue access in hardware_event().

	* windows/user.c, windows/win.c, windows/winpos.c, windows/x11drv/event.c, windows/x11drv/wnd.c, controls/menu.c, windows/dce.c, windows/dialog.c, windows/focus.c, windows/mdi.c, windows/message.c, windows/nonclient.c:
	Francois Boisvert<francois@macadamian.com>
	Fixed some bugs in thread safeness for wnd struct.

	* libtest/Makefile.in, libtest/hello3.c, libtest/hello3res.rc:
	Pavel Roskin <pavel_roskin@geocities.com>
	Made libtest/hello3 work again, now with Windows-compatible resource
	loading.

	* include/imm.h, include/mmsystem.h, include/msacm.h, include/windef.h, include/wtypes.h:
	Jiuming Luo <jiuming_luo@yahoo.com>
	Moved macro DECLARE_HANDLE() (in msacm.h and wtypes.h) to windef.h,
	then deleted the duplicated typedefs (in imm.h and mmsystem.h).

	* misc/printdrv.c: Klaas van Gend <klaas@vangend.demon.nl>
	Rewrote EnumPrintersA, added CriticalSection around Registry reads and
	implemented PRINTER_INFO_2 request.

	* windows/x11drv/keyboard.c: Jonathan Naylor <g4klx@pop.agri.ch>
	Added Swiss German keyboard layout.

	* dlls/shell32/contmenu.c, dlls/shell32/dataobject.c, dlls/shell32/folders.c, dlls/shell32/iconcache.c, dlls/shell32/pidl.c, dlls/shell32/shell32_main.h, dlls/shell32/shlview.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	- adjusted printing of refcounts to be equal
	- cleaning up icon cache on PROCESS_DETACH
	- fixed ascii/unicode use in SH/ILCreateFromPath
	- fixed small memory leak in shellview

	* loader/dos/dosvm.c: Marcus Meissner <marcus@jet.franken.de>
	Empty DOSVM_QueueEvent for !MZ_SUPPORTED.

	* programs/cmdlgtst/cmdlgtst.c:
	Pavel Roskin <pavel_roskin@geocities.com>
	Fixed warnings.

	* include/commdlg.h: Pavel Roskin <pavel_roskin@geocities.com>
	Changed CHOOSECOLOR[AW].Flags from UINT to DWORD.

	* windows/painting.c, windows/scroll.c, windows/ttydrv/init.c, windows/ttydrv/wnd.c, windows/win.c, windows/winpos.c, windows/x11drv/event.c, windows/x11drv/init.c, windows/x11drv/wnd.c, controls/menu.c, include/region.h, include/ts_xf86vmode.h, include/ts_xutil.h, include/ttydrv.h, include/win.h, include/x11drv.h, objects/region.c, tools/make_X11wrappers, tsx11/X11_calls, tsx11/ts_xf86vmode.c, tsx11/ts_xutil.c, windows/dce.c, windows/nonclient.c:
	Alex Korobka <alex@aikea.ams.sunysb.edu>
	Moved hrgnUpdate from client to window coordinates, made nonclient
	painting depend on the update region, reworked SetWindowPos() and
	RedrawWindow() to speed up update region calculation, made -desktop
	work properly, added WM_CANCELMODE here and there, fixed several
	window activation bugs that crept in since the last time.

	* windows/message.c: Alex Korobka <alex@aikea.ams.sunysb.edu>
	Fixed occasional loss of SendMessage() return value.

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	Added initialisation of the pixmap_depth field in
	Xlib_DirectDrawCreate.

	* msdos/ioports.c: Jess Haas <paranoid07@hotmail.com>
	Fixed a warning.

	* msdos/int2f.c: Jess Haas <paranoid07@hotmail.com>
	Added stub for int2f 4b.

	* multimedia/mmsystem.c: Chris Morgan <cmorgan@wpi.edu>
	James Abbatiello <abbeyj@wpi.edu>
	Fixed memory leak in waveOutOpen/waveOutClose.

	* graphics/psdrv/escape.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	More Escapes for the PostScript driver.

Sat Mar 27 16:56:13 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/d3dcommon.c, graphics/d3ddevices.c, graphics/d3dexecutebuffer.c, graphics/d3dlight.c, graphics/d3dmaterial.c, graphics/d3dtexture.c, graphics/d3dviewport.c, graphics/ddraw.c:
	Francois Gouget <fgouget@psn.net>
	Adapted to the interface/implementation separation.
	Now uses ICOM_THIS to access the implementation structures.
	Replaced 'this' with 'This' for ICOM_THIS.
	Direct access to the virtual table has been eliminated too.

	* graphics/d3d_private.h, graphics/ddraw_private.h:
	Francois Gouget <fgouget@psn.net>
	Updated to include all the implementation aspects that were previously
	in the public includes.

	* graphics/vga.c: Francois Gouget <fgouget@psn.net>
	Removed direct access to the virtual table

	* include/d3d.h, include/ddraw.h: Francois Gouget <fgouget@psn.net>
	Removed all implementation aspects.
	Modified to use the latest ICOM macros.
	Added the macros for use in C.
	Added the method parameter names (when I had them).

	* include/module.h, include/pe_image.h, include/thread.h, loader/module.c, loader/pe_image.c, scheduler/process.c, scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed sequence of DLL_PROCESS_DETACH notification calls.
	Moved PE_MODREF flags to WINE_MODREF level.
	Better handling of LoadLibraryEx flags.
	PE_InitTls() changed to work only on the current thread.

	* include/server.h, scheduler/process.c, server/trace.c:
	Added cmd line in new_process request.

	* scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	All threads created with CreateThread are 32-bit threads.

	* dlls/shell32/Makefile.in, dlls/shell32/regstream.c, dlls/shell32/shellord.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Reading of binary streams implemented (SHOpenRegStream).

	* msdos/int25.c, msdos/int26.c:
	Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Fixed int25 & int26 error code.

	* loader/task.c, windows/queue.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Allow UserYield16 to be called from 32-bit thread.

	* include/oledlg.h, include/winbase.h:
	Albert Den Hann <albertd@corel.ca>
	Additional macro definitions.

	* graphics/x11drv/bitmap.c, include/bitmap.h, objects/bitmap.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fixed {S|G}etBitmapBits in x11drv.  Removed BITMAP_GetPadding.

	* objects/metafile.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fixed metafile recording of CreatePatternBrush.

Thu Mar 25 16:42:28 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/imagelist.c, dlls/comctl32/toolbar.c, include/commctrl.h, include/toolbar.h, dlls/comctl32/commctrl.c:
	Pascal Lessard <pascal@macadamian.com>
	Change the AddBitmap function. Implement flat toolbar. Change
	CreateToolbarEx. Implement partially the hot buttons for toolbar.

	* msdos/int16.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Implemented Get Shift Flags function.

	* dlls/comctl32/treeview.c: Marcus Meissner <marcus@jet.franken.de>
	Missing WINAPI.

	* graphics/painting.c: David Luyer <luyer@ucs.uwa.edu.au>
	Changed stdlib.h to string.h.

	* dlls/ntdll/time.c: David Luyer <luyer@ucs.uwa.edu.au>
	Added string.h.

	* misc/ddeml.c, multimedia/msvideo.c, ole/safearray.c, programs/avitools/aviinfo.c, programs/avitools/aviplay.c, programs/avitools/icinfo.c, win32/console.c:
	David Luyer <luyer@ucs.uwa.edu.au>
	Changed "strings.h" to "string.h".

	* graphics/x11drv/bitblt.c, windows/nonclient.c:
	Randy Weems <rweems@home.com>
	Fixed off-by-one error if bitblt width or height is negative.

	* dlls/comctl32/tab.c, include/tab.h:
	Francis Beaudet <francis@macadamian.com>
	Implemented:
	- showing the selected tab as highlighted
	- support for drawing the focus rectangle
	- basic keyboard support
	- support for a tab with horizontal scrolling.

	* files/profile.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Thread-safe implementation of profile functions (Windows and Wine).

	* include/message.h, loader/main.c, windows/timer.c:
	Stephane Lussier <stephane@macadamian.com>
	Made the timer code thread safe.

	* windows/dialog.c: Francis Beaudet <francis@macadamian.com>
	Fixed possible endless loop.

	* controls/listbox.c: Francis Beaudet <francis@macadamian.com>
	Fixed LB_GETCURSEL message to return LB_ERR on empty list.

	* dlls/shell32/shell32_main.h, dlls/shell32/shellole.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, include/shlguid.h, include/shlobj.h, include/wine/obj_base.h, include/wine/obj_commdlgbrowser.h, include/wine/obj_contextmenu.h, include/wine/obj_dockingwindowframe.h, include/wine/obj_extracticon.h, include/wine/obj_shellbrowser.h, include/wine/obj_shellextinit.h, include/wine/obj_shellfolder.h, include/wine/obj_shellview.h, dlls/shell32/brsfolder.c, dlls/shell32/contmenu.c, dlls/shell32/folders.c, dlls/shell32/shell32_main.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Use the new header for COM definitions.

	* dlls/shell32/shellord.c, relay32/shell32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	New stub shell_654.

	* include/treeview.h, dlls/comctl32/treeview.c:
	Sylvain St.Germain <sylvain@macadamian.com>
	Implementation of TVM_SORTCHILDRENCB.
	Implementation of TVI_SORT insertion.
	Fix display problem when TVIF_IMAGE|TVIF_SELECTEDIMAGE were not set.
	Fix problems related to TVIS_EXPANDEDONCE.

	* dlls/comctl32/comctl32undoc.c:
	Sylvain St.Germain <sylvain@macadamian.com.epfl.ch>
	Fix problem in DPA_QuickSort where the sort order was inverted.

	* include/dosexe.h, include/winbase.h, loader/dos/dosvm.c, loader/dos/module.c:
	Ove Kaaven <ovek@arcticnet.no>
	Added infrastructure and definitions for general-purpose event and IRQ
	handling for the Wine dos box. Removed the obsolete MZ_Tick. Added
	event message loop, message handling, CLI/STI handling, and minimal
	PIC support.

	* loader/dos/dosmod.c: Ove Kaaven <ovek@arcticnet.no>
	Added handling of SIGUSR2 for the new event interruption handling,
	bumping up the protocol revision. Made some debug messages not be
	output when it's not necessary.

	* msdos/ioports.c: Ove Kaaven <ovek@arcticnet.no>
	Added port 0x60 for int 0x09, and port 0x20 for PIC handling.

	* include/miscemu.h, msdos/Makefile.in, msdos/interrupts.c:
	Ove Kaaven <ovek@arcticnet.no>
	Added int 0x09 and int 0x33.

	* msdos/int33.c: Ove Kaaven <ovek@arcticnet.no>
	Implemented a int 0x33 handler, with a minimal implementation of the
	mouse routines, including callbacks.

	* msdos/int09.c: Ove Kaaven <ovek@arcticnet.no>
	Implemented a int 0x09 handler, and a scancode queue that simulates
	IRQ 1 in the dos box.

	* include/docobj.h: Paul Quinn <paulq@corel.ca>
	Creation of docobj.h.

	* objects/dib.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Allow depth of DIB to differ from depth of bitmap in GetDIBits.

Wed Mar 24 15:07:20 1999  Alexandre Julliard  <julliard@winehq.com>

	* debugger/editline.c: Abort on input error.

	* include/oledlg.h: Adrian Thurston <adriant@corel.ca>
	Population of oledlg.

	* windows/x11drv/event.c, windows/painting.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Add IsWindow() checks after SendMessage() returns.

	* msdos/int10.c: Jess Haas <paranoid07@hotmail.com>
	Fixed a small bug in int10.

	* controls/combo.c: Pascal Lessard <pascal@macadamian.com>
	COMBO_Size: maintain the height of the RectCombo when the window is
	resized.

	* include/hook.h, include/winuser.h: Adrian Thurston <adriant@corel.ca>
	Paul Quinn <paulq@corel.ca>
	Added various definitions.
	Moved CWPSTRUCT from hook.h to winuser.h to conform to the SDK.

	* include/windef.h: Jim Aston <jima@corel.ca>
	Added a few empty macros.

	* include/cursoricon.h, objects/cursoricon.c:
	Marcus Meissner <marcus@jet.franken.de>
	CURSORICON_Destroy: missing WINAPI added.

	* misc/winsock.c: Marcus Meissner <marcus@jet.franken.de>
	Added translation for SO_RCVTIMEO (as seen by IE4).

Tue Mar 23 17:04:10 1999  Alexandre Julliard  <julliard@winehq.com>

	* server/process.c: Create startup info for the initial process.

	* include/server.h, scheduler/client.c, scheduler/process.c, scheduler/sysdeps.c, scheduler/thread.c, server/request.c, server/trace.c:
	Added server pid and tid in init_thread request, and use them in
	CLIENT_InitThread.

	* include/compobj.h, include/objbase.h, include/ole2.h, include/wine/obj_base.h, include/wine/obj_inplace.h, include/wine/obj_moniker.h, include/winerror.h, include/wtypes.h, ole/Makefile.in, ole/antimoniker.c, ole/bindctx.c, ole/compobj.c, ole/compositemoniker.c, ole/filemoniker.c, ole/itemmoniker.c, ole/moniker.c, ole/storage32.c, relay32/ole32.spec:
	Noomen Hamza <noomen@macadamian.com>
	Implemented:
	- IMoniker interface for FileMoniker,ItemMoniker,AntiMoniker and
	  GenericCompositeMoniker
	- IRunningObjectTable interface, and
	- IBindCtx interface.

	* graphics/psdrv/bitmap.c, graphics/psdrv/ps.c, include/psdrv.h:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Added StretchDIBits for the PostScript driver.

	* include/miscemu.h: Ove Kaaven <ovek@arcticnet.no>
	Added missing ending pragma pack.

	* misc/comm.c: Rein Klazes <rklazes@casema.net>
	Corrected small bug in GetCommState16. Parity check can be disabled
	even when a parity bit is used. SetCommState16() can override baudrate
	setting in wine.conf.

Mon Mar 22 17:47:36 1999  Alexandre Julliard  <julliard@winehq.com>

	* loader/module.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: cope with quoted arguments for CreateProcess().

	* loader/resource.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed typo in SizeofResource().

	* memory/string.c: Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	lstrcpyA can't use strcpy.

	* relay32/builtin32.c, if1632/builtin.c, include/module.h, misc/main.c, miscemu/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added -dll option for winelib programs. (Note: will not print warnings
	on failure currently).

	* relay32/ntdll.spec: Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Added strlwr.

	* loader/pe_image.c, msdos/int21.c:
	Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Cosmetics.

	* if1632/mmsystem.spec, relay32/winmm.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added new stubs (mmTaskXXX, mmThreadXXX, mciExecute).

	* multimedia/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Started calling mixer as a 32 bit low level driver (no longer 16 bit)
	Added support for yield proc in mci struct
	Added mmTaskXXX16 and mmThreadXXX16 functions
	Refreshed implementation of 16 bit native & asynchronous MCI driver
	command (through mmtask.tsk).

	* multimedia/mixer.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed a few bugs. Started implementing mixerMessage as a 32 bit
	function (no longer 16 bit).

	* multimedia/mcistring.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Implemented mciExecute.

	* include/multimedia.h, multimedia/mci.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added yield proc members to mci struct.

	* include/mmsystem.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added mixer specfic error codes, fixed type in function name.

	* windows/driver.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed return codes for default driver proc.

	* controls/listbox.c: Lawson Whitney <lawson_whitney@juno.com>
	Made LB_GETCURSEL return focus_item if no item has been selected.

	* windows/x11drv/keyboard.c:
	Kalevi J Hautaniemi <oh3fg@oh3tr.ele.tut.fi>
	Added Finnish keyboard layout.

	* misc/main.c, windows/x11drv/clipboard.c, windows/x11drv/keyboard.c, graphics/wing.c, graphics/x11drv/xfont.c, include/wine/winuser16.h, include/winuser.h, include/x11drv.h:
	Veksler Michael <mveksler@techunix.technion.ac.il>
	Removed winuser16.h from x11drv.h.

	* include/winspool.h, misc/printdrv.c:
	Klaas van Gend <klaas@vangend.demon.nl>
	Implementation of EnumPrintersA, info level 4 and 5.

	* tools/bug_report.pl: Adam Sacarny <magicbox@bestweb.net>
	Check if the build is stripped, and die if it is.
	Check for Bash 2.0, and if so use different STDERR->STDOUT redirctor
	(thanks Ryan Cumming!).

	* windows/mdi.c: Veksler Michael <mveksler@techunix.technion.ac.il>
	Fixed "reached end of non void..." warnings.

	* documentation/debugging: Marcus Meissner <marcus@jet.franken.de>
	MessageBox32A -> MessageBoxA

	* loader/module.c, relay32/kernel32.spec:
	Sergey Turchanov <turchanov@usa.net>
	Implementation for FreeLibraryAndExitThread.
	Made GetBinaryType = GetBinaryTypeA.

	* include/task.h, loader/task.c, scheduler/process.c, scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Run Win32 processes in their own threads.
	Process exit sequence adapted.

Sun Mar 21 19:26:26 1999  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/sysdeps.c, scheduler/thread.c, include/thread.h, loader/module.c, scheduler/client.c, scheduler/process.c:
	Changed process initialisation to use the new server requests.
	Started to move the process init to the right context, not finished yet.

	* include/server/object.h, include/server/process.h, include/server/request.h, include/server/thread.h, server/main.c, server/process.c, server/request.c, server/socket.c, server/thread.c, server/trace.c, include/server.h:
	Added new_process and init_process request.
	Split out process creation from thread creation.
	Changed server initialisation to ensure that we always have a current
	thread.

	* windows/x11drv/keyboard.c: Robert Pouliot <krynos@clic.net>
	One small error corrected and the 102th key...

	* misc/comm.c, include/comm.h: Ove Kaaven <ovek@arcticnet.no>
	Made commerror and eventmask local to each port (for win16), made the
	win16 routines use port indices instead of UNIX fds (this should make
	some Visual Basic stuff and similar garbage start working), moved some
	stuff around (win16 routines at top of file, win32 routines at
	bottom), made a couple of win32 routines use win32 handles, and added
	a few hints as to how to implement asynchronous buffers, based on
	which EnableCommNotification can eventually be implemented.

	* include/winuser.h: Ove Kaaven <ovek@arcticnet.no>
	Fixed prototypes of a couple of comm routines.

	* loader/ne/module.c: Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Fixed typo.

	* windows/win.c: Francis Beaudet <francis@macadamian.com>
	Clear update region before WM_NCDESTROY.

	* include/heap.h, memory/heap.c, relay32/utthunk.c, windows/queue.c:
	Got rid of SYSTEM_LOCK macros.

Sat Mar 20 07:18:26 1999  Alexandre Julliard  <julliard@winehq.com>

	* misc/main.c: No longer need to delete system heap critical section.

Fri Mar 19 17:04:25 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/shell32_main.c: Francis Beaudet <francis@macadamian.com>
	Added a check for desktop in SHGetFileInfo.

	* multimedia/mci.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed some bugs in MCI message mapping (32A => 16).

	* windows/win.c: Pavel Roskin <pavel_roskin@geocities.com>
	Fixed WIN_SendDestroyMsg.

	* include/winsock.h: Pavel Roskin <pavel_roskin@geocities.com>
	Removed definitions for FIONREAD and FIONBIO.

	* windows/driver.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixes some return values for DefDriverProc.

	* programs/regapi/regFixer.pl:
	Sylvain St.Germain <sylvain@macadamian.com>
	Removed the chop command that was there to get rid of dos ^M.
	The script now process only unix file format.

	* windows/dialog.c: Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Hide dialog windows created by CreateDialog* in EndDialog just as
	Windows does.

	* ole/variant.c: Stephane Lussier <stephane@macadamian.com>
	Set type of destination variant in VariantChangeTypeEx function.

	* windows/x11drv/keyboard.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Fixed Danish keyboard layout.

Thu Mar 18 17:39:58 1999  Alexandre Julliard  <julliard@winehq.com>

	* ole/itemmoniker.c, ole/ole2.c, ole/olefont.c, windows/dinput.c, windows/input.c, windows/keyboard.c, windows/message.c, windows/painting.c, windows/queue.c, windows/syscolor.c, windows/sysmetrics.c, windows/user.c, dlls/shell32/iconcache.c, files/dos_fs.c, graphics/ddraw.c, graphics/fontengine.c, include/win.h, loader/main.c, loader/resource.c, misc/lzexpand.c, misc/registry.c, msdos/int10.c, multimedia/init.c, objects/enhmetafile.c:
	Marcus Meissner <marcus@jet.franken.de>
	Lots of warning fixed, one missing WINAPI in ddraw.c added.

	* dlls/comctl32/treeview.c: Sylvain St.Germain <sylvain@macadamian.com>
	Implements +/-, PgUp/PgDown, Home/End, Left/Right, Up/Down.

	* relay32/msvfw32.spec: Marcus Meissner <marcus@jet.franken.de>
	msvfw32.spec brought up to date (forgot it in last msvfw32 patch).

	* relay32/kernel32.spec, misc/toolhelp.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added Module32* stubs.

Wed Mar 17 15:54:44 1999  Alexandre Julliard  <julliard@winehq.com>

	* windows/x11drv/keyboard.c:
	Bruno Afonso <bruno.afonso@camoes.rnl.ist.utl.pt>
	Added Portuguese keytable.

	* windows/x11drv/keyboard.c: Robert Pouliot <krynos@clic.net>
	Added Canadian French keyboard layout.

	* windows/x11drv/keyboard.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Added UK keyboard layout.

	* msdos/int10.c, msdos/int16.c, msdos/int21.c, msdos/int2f.c:
	<paranoid07@hotmail.com>
	Fixed/implemented various interrupt functions.

	* controls/menu.c, dlls/shell32/dataobject.c, dlls/shell32/shlfolder.c, graphics/metafiledrv/text.c, include/winioctl.h, win32/kernel32.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed some warnings. removed some unneccessary includes, removed one
	direct WND* access in controls/menu.c.

	* windows/win.c: Francis Beaudet <francis@macadamian.com>
	Implemented a more defensive version of WIN_SendDestroyMsg.

	* include/Makefile.in: Alexander V. Lukyanov <lav@long.yar.ru>
	Install headers from $(SRCDIR).

	* include/wine/obj_base.h: Francois Gouget <fgouget@psn.net>
	Removed the obsolete ICOM macros.

	* include/vfw.h: Francois Gouget <fgouget@psn.net>
	Moved the APIs closer to the corresponding COM interface, removed two
	duplicates and added 2-3 macros for A/W APIs.

	* msdos/int15.c: <paranoid07@hotmail.com>
	Added some stubs for int15 functions.

	* windows/message.c, windows/queue.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Inter-thread SendMessage() bugfixes:
	- Insert new message to be received at the *end* of the SM_PENDING_LIST.
	- Do *not* process received messages in ReplyMessage().
	- Clear the QS_SMRESULT flag only immediatedly before waiting.

	* ole/storage32.c: Thuy Nguyen <thuy@macadamian.com>
	Return error if not a valid OLE compound file.

	* dlls/version/install.c: Douglas Ridgway <ridgway@winehq.com>
	Fix crash if lpuCurDirLen or lpuDestDirLen==0.

	* misc/cdrom.c: Marcus Meissner <marcus@jet.franken.de>
	Make cdrom.c compile on FreeBSD (FreeBSD does not seem to have *SEEK,
	strange).

Tue Mar 16 16:29:26 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/dosexe.h, include/module.h, include/pe_image.h, loader/dos/module.c, loader/module.c, loader/ne/module.c, loader/pe_image.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Pass CreateProcess() SECURITY_ATTRIBUTES through to PROCESS_Create().

	* include/process.h, include/thread.h, scheduler/process.c, scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Pass new arguments (suspend/inherit) to the server.

	* include/server.h, include/server/thread.h, scheduler/client.c, server/request.c, server/thread.c, server/trace.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Handle suspend/resume_thread requests in phase STARTING correctly.
	Set initial suspend count for threads created with CREATE_SUSPENDED.
	Set 'inheritable' flag for process/thread handles.

	* dlls/comctl32/monthcal.c, dlls/comctl32/nativefont.c, dlls/comctl32/pager.c, dlls/comctl32/progress.c, dlls/comctl32/propsheet.c, dlls/comctl32/rebar.c, dlls/comctl32/status.c, dlls/comctl32/tab.c, dlls/comctl32/toolbar.c, dlls/comctl32/tooltips.c, dlls/comctl32/trackbar.c, dlls/comctl32/treeview.c, dlls/comctl32/updown.c, dlls/comctl32/animate.c, dlls/comctl32/comboex.c, dlls/comctl32/commctrl.c, dlls/comctl32/datetime.c, dlls/comctl32/flatsb.c, dlls/comctl32/header.c, dlls/comctl32/hotkey.c, dlls/comctl32/ipaddress.c, dlls/comctl32/listview.c:
	Marcus Meissner <marcus@jet.franken.de>
	Removed no longer necessary win.h include, added now necessary other
	includes (win.h used only by UPDOWN now).

	* misc/comm.c: Marcus Meissner <marcus@jet.franken.de>
	debug.h must be last, or we get ERR() macro problems again.

	* dlls/comctl32/tooltips.c: Francis Beaudet <francis@macadamian.com>
	Fixed a slight bug that was included in the change from WND ptr to
	hwnd last week.

	* loader/main.c, misc/callback.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fix compiler warnings.

	* dlls/comctl32/imagelist.c, dlls/comctl32/treeview.c, include/treeview.h:
	Sylvain St.Germain <sylvain@macadamian.com>
	Fixed some graphical problems of the treeview and added support LMB
	click on +/- sign to open and close.
	Fixed a bug in imagelist where the last image could not be displayed.

	* windows/x11drv/event.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Avoid unnecessary error messages.

	* windows/hook.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Ignore HIWORD of boolean return values of 16-bit hook procedures, to
	match buggy Windows behaviour.

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	Corrected bug in enumeration function.

	* windows/win.c: Pavel Roskin <pavel_roskin@geocities.com>
	Fixed bug introduced in WIN_FindWindow.

	* dlls/comctl32/tab.c: Thuy Nguyen <thuy@macadamian.com>
	0 is a valid index for a tab item.
	CreateSolidBrush takes a COLORREF as a parameter.
	Tab controls were always displayed in the top left corner.

Mon Mar 15 16:15:17 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/wine/obj_dragdrop.h, include/wine/obj_inplace.h:
	Francois Gouget <fgouget@psn.net>
	Updated the interfaces to use the latest ICOM macros.

	* documentation/status/multimedia: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Updated.

	* if1632/mmsystem.spec, include/mmsystem.h, include/multimedia.h, multimedia/Makefile.in, multimedia/mci.c, multimedia/mcistring.c, multimedia/mmsystem.c, relay32/winmm.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Moved all MCI internal functions/variables/macros to mci.c.
	Changed some interface names.

	* include/digitalv.h, multimedia/mciavi.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Make use of digitalv.h file.

	* multimedia/init.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Changed how list of loadable MCI drivers is obtained.

	* documentation/keyboard: Ove Kaaven <ovek@arcticnet.no>
	Describes in newbie terms how to add new keyboard layouts.

	* windows/x11drv/keyboard.c: Ove Kaaven <ovek@arcticnet.no>
	Better comments, and added ANSI codepages in table.
	US keyboard contributed by Uwe Bonnes.
	French keyboard contributed by Eric Pouech.
	German keyboard contributed by Ulrich Weigand.
	Danish keyboard contributed by Bertho Stultiens.

	* dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c, dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c, dlls/commdlg/generic.c, dlls/commdlg/printdlg.c, include/commdlg.h:
	Klaas van Gend <klaas@vangend.demon.nl>
	- Reimplementation of the CommDlg ExtendedError mechanism using TLS.
	- Some header inclusion cleanup.

	* multimedia/mcimidi.c, multimedia/mciwave.c, multimedia/mmio.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Cosmetic fixes.

	* multimedia/mcicda.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Makes use of new CDAUDIO_Seek() function.

	* msdos/int2f.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Various fixes for MSCDEX traps.

	* misc/cdrom.c, include/cdrom.h: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added new function CDAUDIO_Seek().

	* include/driver.h, windows/driver.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Better 16/32 bit driver messages mapping and handling.
	Better protection against bad handles.

	* include/peexe.h, loader/resource.c:
	Marcus Meissner <marcus@jet.franken.de>
	Use MESSAGE_RESOURCE_* defines from SDK headers, updated LoadMessage*
	code.

	* include/Makefile.in: Niels Kristian Bech Jensen <nkbj@image.dk>
	Fixed make install.

----------------------------------------------------------------
Sun Mar 14 17:25:33 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/win.h, ipc/dde_proc.c, misc/spy.c, windows/class.c, windows/dce.c, windows/defdlg.c, windows/defwnd.c, windows/dialog.c, windows/dinput.c, windows/focus.c, windows/input.c, windows/mdi.c, windows/nonclient.c, windows/painting.c, windows/property.c, windows/queue.c, windows/scroll.c, windows/win.c, windows/winpos.c, windows/winproc.c, windows/x11drv/clipboard.c, windows/x11drv/event.c, windows/x11drv/mouse.c, windows/x11drv/wnd.c, controls/button.c, controls/combo.c, controls/desktop.c, controls/edit.c, controls/icontitle.c, controls/listbox.c, controls/menu.c, controls/scroll.c, controls/static.c, dlls/comctl32/updown.c, graphics/ddraw.c, if1632/thunk.c:
	Francois Boisvert <francois@macadamian.com>
	Made access to the wnd struct thread-safe.

	* */*: Jim Aston <asto0001@algonquinc.on.ca>
	Renamed wintypes.h to windef.h.

	* memory/heap.c: Make the system heap critical section global.

	* Make.rules.in:
	Fixed Makefile up-to-date check to avoid relinking all the object
	files.

	* windows/dinput.c: Patrik Stridvall <ps@leissner.se>
	Reimplemented some code without using X11.

	* graphics/ddraw.c, relay32/ddraw.spec:
	Patrik Stridvall <ps@leissner.se>
	Added functions DirectDrawEnumerateW and DirectDrawEnumerateExW.

	* include/peexe.h, loader/pe_image.c: Theodore S. Hetke <tsh@gte.net>
	Added tracing for delayed imports and removed the fixme.

	* files/dos_fs.c: Peter Ganten <ganten@uni-bremen.de>
	Better implementation of GetShortPathNameA/W.

	* misc/registry.c, wine.ini: Nathan Zorich <wfilardo@fuse.net>
	Allow the file names and paths for the registry files (user.reg and
	system.reg) to be specified in a [Registry] section of wine.ini or
	other config file.

	* memory/string.c: Gerard Patel <g.patel@wanadoo.fr>
	Fix OemToAnsiBuff for real Win31 behavior.

	* windows/x11drv/keyboard.c: Ove Kaaven <ovek@arcticnet.no>
	First attempt at supporting different keyboard layouts with their
	correct scancode mapping.

	* configure, configure.in, programs/Makefile.in, programs/regapi/.cvsignore, programs/regapi/Makefile.in, programs/regapi/README, programs/regapi/regFixer.pl, programs/regapi/regRestorer.pl, programs/regapi/regSet.sh, programs/regapi/regapi.c:
	Sylvain St.Germain <sylvain@macadamian.com>
	Added command line tool to access the registry.

	* rc/winerc.c: Fixed compilation.

	* rc/.cvsignore: Patrik Stridvall <ps@leissner.se>
	Ignore generated files.

	* programs/notepad/lcc.h: Fixed make depend.

	* ole/ole2.c, ole/olefont.c, include/ole.h, include/ole2.h, include/oleauto.h, include/olectl.h, include/wine/obj_control.h, include/wine/obj_dataobject.h, include/wine/obj_dragdrop.h, include/wine/obj_inplace.h, include/wine/obj_moniker.h, include/wine/obj_oleaut.h, include/wine/obj_olefont.h, include/wine/obj_oleobj.h, include/wine/obj_oleundo.h, include/wine/obj_oleview.h, include/wine/obj_picture.h, include/wine/obj_shelllink.h, include/wine/obj_storage.h, include/winerror.h, include/wingdi.h, include/winsock.h, include/winuser.h, include/wtypes.h:
	Paul Quinn <paulq@linuxmaster.hungrycats.org>
	Many new defines, and structs to help compile MFC. As well as a few
	OLE corrections from earlier.

	* loader/ne/module.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Make GetModuleHandle16 only look for module names, not path names.

	* msdos/int10.c: Jess Haas <desmoke@hotmail.com>
	Added some more vga video modes.

	* windows/x11drv/wnd.c: Pavel Roskin <pavel_roskin@geocities.com>
	Prevent X11 errors when XCreateWindow is called with zero width or
	height.

	* objects/metafile.c: Caolan McNamara <Caolan.McNamara@ul.ie>
	Added metafile support for ExtFloodFill.

	* controls/button.c:
	Dirk Thierbach <thierbach@mathematik.tu-darmstadt.de>
	Paint gray text on gray background in checkboxes/radiobuttons by
	stippling. Also changed the brush used in this case to give better
	readability with X fonts.

	* include/debugdefs.h, include/tapi.h, misc/Attic/tapi32.c, misc/Makefile.in, relay32/tapi32.spec, Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/tapi32/.cvsignore, dlls/tapi32/Makefile.in, dlls/tapi32/assisted.c, dlls/tapi32/line.c, dlls/tapi32/phone.c, include/debug.h:
	Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Implemented (nearly) all TAPI functions as stubs.

	* include/wine/winuser16.h, misc/comm.c, files/dos_fs.c, include/winbase.h:
	Michael McCormack <Michael.McCormack@alcatel.com.au>
	Basic support for WIN32 serial communications API.
	Modify DOSFS_OpenDevice to allow opening of COM ports.
	Change Win32 comm functions to accept file handle.
	Add declaration of COMSTAT32 structure.

	* graphics/vga.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed a silly VGA-emulation palette bug.

	* msdos/int10.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed a couple of ugly warnings (caused by ugly errors).

	* msdos/dosmem.c: Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Bug fix.

	* dlls/shell32/brsfolder.c, dlls/shell32/contmenu.c, dlls/shell32/dataobject.c, dlls/shell32/enumidlist.c, dlls/shell32/shell32_main.h, dlls/shell32/shellguid.c, dlls/shell32/shlfolder.c, include/shlguid.h, include/shlobj.h, include/wine/obj_enumidlist.h, include/wine/obj_shellfolder.h, ole/guid.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	- IShellFolder and IEnumIDList are using the new COM headers
	- fixed sort order for folders and drives

	* README: Ove Kaaven <ovek@arcticnet.no>
	Corrected location of FAQ.

	* msdos/int21.c: Ove Kaaven <ovek@arcticnet.no>
	Fully implemented Direct Console Input.

Sat Mar 13 18:20:27 1999  Alexandre Julliard  <julliard@winehq.com>

	* windows/queue.c, dlls/shell32/shlfolder.c, if1632/thunk.c, scheduler/sysdeps.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed newly introduced and some leftover warnings.

	* include/wingdi.h: Francois Gouget <fgouget@psn.net>
	It is now possible to use the standard macros for GetTextExtentPoint
	and GetTextExtentPoint32.

	* include/prsht.h: Francois Gouget <fgouget@psn.net>
	Fixed some SendMessage32A that escaped the renaming.

	* include/ole2.h: Francois Gouget <fgouget@psn.net>
	On windows ole2.h includes oleauto.h and some programs depend on this.

	* include/oleauto.h, ole/ole2disp.c: Francois Gouget <fgouget@psn.net>
	Fixes in the SysAllocString functions prototypes. It's mostly 'const'
	problems that prevent regular code from compiling.

	* dlls/commdlg/filedlg.c, graphics/x11drv/oembitmap.c, include/bitmaps/Attic/obm_cdrom, include/bitmaps/Attic/obm_drive, include/bitmaps/Attic/obm_folder, include/bitmaps/Attic/obm_folder2, include/bitmaps/Attic/obm_harddisk, include/bitmaps/oic_cdrom, include/bitmaps/oic_floppy, include/bitmaps/oic_folder, include/bitmaps/oic_folder2, include/bitmaps/oic_hdisk, include/bitmaps/oic_network, include/winuser.h:
	Pavel Roskin <pavel_roskin@geocities.com>
	File open dialog now uses icons instead of bitmaps.

	* include/vfw.h: Marcus Meissner <marcus@jet.franken.de>
	Updated AVI* class interface to new ICOM_ methods.

	* multimedia/msvideo.c: Marcus Meissner <marcus@jet.franken.de>
	Some fixes and additions.

	* dlls/avifil32/.cvsignore, dlls/avifil32/Makefile.in, dlls/avifil32/avifile.c, include/debug.h, include/debugdefs.h, relay32/avifil32.spec, Makefile.in, configure, configure.in, dlls/Makefile.in:
	Marcus Meissner <marcus@jet.franken.de>
	Started on avifil32 implementation (only stubs currently).

	* graphics/painting.c: Patrik Stridvall <ps@leissner.se>
	Reimplemented DrawFocusRect without using X11.

	* include/miscemu.h, msdos/dosmem.c, msdos/int10.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Implemented mode setting things as well as VESA additions and other
	things. Cleaned up DOSMEM_BiosData handling.

	* include/wine/obj_olefont.h, ole/olefont.c:
	Francis Beaudet <francis@macadamian.com>
	Implemented the IPersistStream interface on the OLE font object.

	* miscemu/emulate.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Make function BX=6 round ST0 to integer.

	* include/commctrl.h, include/wingdi.h: Paul Quinn <paulq@corel.ca>
	Adrian Thurston <adriant@corel.ca>
	- Changed LVM_SETITEMPOSITION -> LVM_SETITEMPOSITION32
	          LVM_SETITEMPOSITION16 -> LVM_SETITEMPOSITION
	- Added some missing structures and definitions to wingdi.h
	- Added proper defines for GetCharWidthsXXX
	- Added c++ protection to wingdi.h

	* dlls/shell32/iconcache.c, dlls/shell32/pidl.c, dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shlview.c, include/shell.h, relay32/shell32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	- mostly cleanup after the renaming
	- implemented SHILCreateFromPath
	- small changed to SHGetFileInfo

	* include/prsht.h, include/winuser.h:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Changed the DLGTEMPLATE and DLGITEMTEMPLATE types to adhere to the AW
	structure for compatibility.

	* dlls/commdlg/printdlg.c, include/cderr.h, include/commdlg.h, dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c, dlls/commdlg/fontdlg.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Moved error codes to cderr.h.

	* loader/module.c: Peter Ganten <ganten@uni-bremen.de>
	Fix CreateProcess to handle lpCommandline better.

	* win32/init.c: Peter Ganten <ganten@uni-bremen.de>
	Change GetStartupInfoA/W to return the real StartupInfo.

	* windows/mdi.c: Guy Albertelli  <<galberte@neo.lrun.com>>
	Handle null wndPtr for mdi window.

	* include/winbase.h: Dave Pickles <davep@nugate.demon.co.uk>
	Fixed a couple of missing #defines for Win32 API functions with
	ASCII/Unicode versions.

	* win32/newfns.c, if1632/kernel.spec, if1632/thunk.c, if1632/wprocs.spec, include/callback.h, misc/callback.c, relay32/Makefile.in, relay32/utthunk.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented UTRegister and UTUnRegister.

	* if1632/ddeml.spec, include/ddeml.h, include/winnt.h, misc/ddeml.c, relay32/user32.spec:
	<keith_m@sweeney.demon.co.uk>
	Added coded stubs for DdeQueryConvInfo (16 & 32 bit), DdeAddData (32
	bit), DdeAbandonTransaction (32 bit), DdeImpersonateClient (32)
	DdeSetQualityOfService, DdeSetUserHandle.
	Corrected heap handling in DdeInitializeW, refined CreateMutex error
	handling.
	General tidying.

	* if1632/olecli.spec, include/ole.h, ole/olecli.c:
	Pavel Roskin <pavel_roskin@geocities.com>
	Added prototypes for OleQueryLinkFromClip, OleQueryCreateFromClip,
	OleCreateLinkFromClip, OleCreateFromClip, OleQueryType,
	OleRevertClientDoc, OleEnumObjects.

	* relay32/olecli32.spec: Pavel Roskin <pavel_roskin@geocities.com>
	Definition for OleCreateLinkFromClip was incorrect.

	* loader/resource.c: Marcus Meissner <marcus@jet.franken.de>
	Mask out the upper 12 bits from the resourceid, just like win95 does.

	* BUGS: Ove Kaaven <ovek@arcticnet.no>
	Updated bug list by my knowledge of them.

	* ole/storage32.c: Thuy Nguyen <thuy@macadamian.com>
	StgCreateDocfile accepts NULL as a file name.

	* objects/metafile.c: Caolan McNamara <Caolan.McNamara@ul.ie>
	Added support for alternate DIBBITBLT layout.

	* debugger/msc.c: Sergey Turchanov <turchanov@usa.net>
	Buffer size bug in LocateDebugInfoFile.

	* graphics/ddraw.c: Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Improved "error" message readability.

	* server/process.c: Fixed process_signaled (thanks to Uwe Bonnes).

	* dlls/comctl32/listview.c: Fixed make depend

Fri Mar 12 17:42:50 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/animate.c, dlls/comctl32/comboex.c, dlls/comctl32/datetime.c, dlls/comctl32/flatsb.c, dlls/comctl32/header.c, dlls/comctl32/hotkey.c, dlls/comctl32/ipaddress.c, dlls/comctl32/monthcal.c, dlls/comctl32/nativefont.c, dlls/comctl32/pager.c, dlls/comctl32/rebar.c, dlls/comctl32/status.c, dlls/comctl32/toolbar.c, dlls/comctl32/tooltips.c, dlls/comctl32/trackbar.c, include/ipaddress.h, include/updown.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Replaced direct access to the WND structure by corresponding calls to
	Win32 functions.

	* dlls/comctl32/commctrl.c, dlls/comctl32/progress.c, dlls/comctl32/updown.c, include/commctrl.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed some bugs introduced by the automated renaming.

	* resources/.cvsignore: Added sysres_Ru.s

	* dlls/comctl32/header.c, dlls/comctl32/listview.c, include/commctrl.h, include/listview.h:
	Luc Tourangeau <luc@macadamian.com>
	Changed the listview control to add the report view and fix some bugs
	for the list view.

	* misc/shell.c: Marcus Meissner <marcus@jet.franken.de>
	Removed use of WND struct.

	* dlls/ntdll/rtlstr.c: Marcus Meissner <marcus@jet.franken.de>
	Added #ifdef HAVE_WCTYPE_H.

	* dlls/comctl32/tab.c: Thuy Nguyen <thuy@macadamian.com>
	Removed direct access to the WND struct.

	* windows/winproc.c: Juergen Schmied <juergen.schmied@metronet.de>
	Message translation for WM_WININICHANGE.

	* windows/nonclient.c: Pavel Roskin <pavel_roskin@geocities.com>
	obm_closed_95 should not be drawn inverted.

	* dlls/comctl32/treeview.c: Sylvain St.Germain <sylvain@macadamian.com>
	Removed direct access to the WND struct.

	* ole/stg_bigblockfile.c, ole/storage32.c, ole/storage32.h:
	Thuy Nguyen <thuy@macadamian.com>
	Improved performance.

	* windows/dce.c: Stephane Lussier <Stephane@macadamian.com>
	Create a new DC in GetDCEx when none are available.

	* ole/ole2disp.c, ole/variant.c, relay32/oleaut32.spec:
	Stephane Lussier <stephane@macadamian.com>
	Implemented DosDateTimeToVariant() and SysAllocStringByteLen() functions.

	* controls/combo.c: Pavel Roskin <pavel_roskin@geocities.com>
	Changed the button state to "up" as soon as it is known that the
	selection has been cancelled, so the button is redrawn in the "up"
	state.

	* miscemu/instr.c: Marcus Meissner <marcus@jet.franken.de>
	Emulate (well, ignore) mov cr0,eax and mov eax,cr0.

Wed Mar 10 18:03:54 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/wine/obj_inplace.h, include/wine/obj_oleaut.h, include/wine/obj_oleobj.h, include/wine/obj_oleundo.h, include/wine/obj_oleview.h, include/wine/obj_picture.h, include/wine/obj_property.h, ole/compobj.c, ole/guid.c, ole/ole2disp.c, ole/olecli.c, ole/oledlg.c, ole/oleobj.c, dlls/shell32/dataobject.c, dlls/shell32/pidl.c, dlls/shell32/shlfolder.c, include/Attic/wintypes.h, include/commdlg.h, include/imm.h, include/oaidl.h, include/objbase.h, include/ocidl.h, include/ole.h, include/ole2ver.h, include/oleauto.h, include/olectl.h, include/oleidl.h, include/shlguid.h, include/shlobj.h, include/winbase.h, include/wine/obj_base.h, include/wine/obj_control.h, include/wine/obj_dataobject.h, include/wine/obj_dragdrop.h, include/winnt.h, include/wtypes.h:
	Paul Quinn <paulq@corel.ca>
	Added a lot of new OLE interfaces.

	* documentation/languages, documentation/wine.man, include/options.h, misc/main.c, ole/ole2nls.c, resources/Makefile.in, resources/sysres.c, resources/sysres_Ru.rc:
	Alexander Kanavin <ak@cave.hop.stu.neva.ru>
	Added support for Russian language.

	* if1632/thunk.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Temporary fix: Activate 16-bit system timer callback routines, but
	skip calling them if timer signal occured while current thread was
	holding the Win16Lock (to prevent 16-bit stack corruption).

	* include/syslevel.h, scheduler/syslevel.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented _ConfirmWin16Lock (KERNEL32.96).

	* graphics/ddraw.c, include/ddraw.h:
	Lionel Ulmer <ulmer@directprovider.net>
	- some clean up in handling of depth
	- more depth conversion routines for X11 (15, 16 and 32 -> 8)

	* include/queue.h, windows/message.c, windows/queue.c:
	Stephane Lussier <stephane@macadamian.com>
	Implemented SendMessageTimeout() functions.

	* programs/notepad/ChangeLog, programs/notepad/Makefile.in, programs/notepad/search.c:
	Marcel Baur <mbaur@g26.ethz.ch>
	Added Boyer-Moore text search.

	* if1632/thunk.c, if1632/user.spec, include/callback.h, misc/callback.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added USER.DestroyIcon32 to Callout struct.

	* include/module.h, loader/ne/convert.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Deleted NE_FreePEResource().

	* include/user.h, loader/main.c, loader/module.c, windows/user.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Adapted to cursor/icon handling changes.

	* loader/ne/resource.c, loader/resource.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Allow accessing both NE and PE resources with both 16- and 32-bit API.
	Hook cursor/icon destruction into FreeResource (like Win95).

	* include/cursoricon.h, objects/cursoricon.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented Win95-style shared cursor/icon cache.
	Merged NE and PE resource handling.

	* graphics/x11drv/oembitmap.c, include/bitmaps/Attic/obm_folder, include/bitmaps/Attic/obm_folder2:
	Pavel Roskin <pavel_roskin@geocities.com>
	Fixed folder bitmap colors for 8bpp.

	* graphics/x11drv/graphics.c: Caolan McNamara <Caolan.McNamara@ul.ie>
	Windows doesnt allow dashed and dotted lines > 1.

	* ole/compobj.c: Francis Beaudet <francis@macadamian.com>
	Fixed a reference-counting problem in the external lock mechanism.

	* dlls/shell32/dataobject.c: Francis Beaudet <francis@macadamian.com>
	Fixed a simple bug in the implementation of the ShellView objects.

	* dlls/shell32/shell32_main.c, include/shell.h:
	Sergey Turchanov <turchanov@usa.net>
	Added some extra CSIDLs.

	* loader/module.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Allow lpCommandLine == NULL in CreateProcess().

	* windows/x11drv/keyboard.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: ToAscii should not generate ASCII code when key-up flag is set.

	* graphics/x11drv/bitblt.c, graphics/x11drv/bitmap.c, windows/x11drv/event.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Avoid unnecessary GraphicsExpose events.

	* ole/safearray.c: Francis Beaudet <francis@macadamian.com>
	Fixed index calculations of the upper and lower bounds of a safearray.
	Fixed a wrong initialization of the VT sizes array.

	* ole/ole2.c, relay32/ole32.spec:
	Francis Beaudet <francis@macadamian.com>
	Implementation of the ReleaseStgMedium method.

Tue Mar  9 17:47:51 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/ntdll/Makefile.in, dlls/ntdll/file.c, dlls/ntdll/nt.c, dlls/ntdll/om.c, dlls/ntdll/reg.c, dlls/ntdll/rtl.c, dlls/ntdll/rtlstr.c, dlls/ntdll/sec.c, dlls/ntdll/sync.c, dlls/ntdll/time.c, relay32/advapi32.spec, relay32/ntdll.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	- sorted API by groups
	- new stubs:  NtQueryDirectoryFile,  ZwQueryDirectoryFile
	- impl.: RtlAllocateHeap, RtlCreateHeap, RtlDestroyHeap, RtlFreeHeap,
	  RtlGetDaclSecurityDescriptor, RtlGetSaclSecurityDescriptor
	- impl. by Rex Jolliff (rex@lvcablemodem.com): RtlTimeToTimeFields,
	  RtlTimeFieldsToTime

	* include/ntddk.h, include/ntdef.h, include/winnt.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Many new prototypes.

	* loader/resource.c, include/module.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fix use of wrong prototype from ntdll.h.

	* dlls/advapi32/security.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Make more functions just calling down to ntdll.
	New: GetSecurityDescriptorSacl.

	* graphics/psdrv/afm.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Accept "Normal" as a valid AFM weight.

	* ole/storage32.c, ole/storage32.h: Thuy Nguyen <thuy@macadamian.com>
	Smarter way of searching for a free block.

	* windows/message.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: DirectedYield() only to 16-bit tasks in ReplyMessage().

	* libtest/hello5.c: Marcus Meissner <marcus@jet.franken.de>
	Corrected cast so hello5 compiles again.

	* dlls/commdlg/filedlg.c: Norman Stevens <norman@arcady.u-net.com>
	Don't copy lpstrFileTitle if given NULL pointer for this.
	Delphi 2.0 passes NULL for lpstrFileTitle to GetOpen/SaveFileName.

	* misc/winsock.c, include/winsock.h:
	Marcus Meissner <marcus@jet.franken.de>
	Fix broken _convert_sockopt for IPPROTO_TCP cases, added TCP_NODELAY.

	* msdos/dpmi.c: Marcus Meissner <marcus@jet.franken.de>
	__asm__ fix as suggested by <daniel@mat.utfsm.cl> Daniel Serpell,
	removed additional "eax" from clobber list, so egcs-current likes it.

	* memory/virtual.c: Marcus Meissner <marcus@jet.franken.de>
	CreateFileMapping SetLastError(0)s on newly created mappings.

Sun Feb 28 20:05:12 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/commdlg/.cvsignore, dlls/commdlg/Makefile.in, dlls/commdlg/colordlg.c, dlls/commdlg/filedlg.c, dlls/commdlg/finddlg.c, dlls/commdlg/fontdlg.c, dlls/commdlg/generic.c, dlls/commdlg/printdlg.c, misc/Attic/commdlg.c, misc/Makefile.in, Makefile.in, configure, configure.in, dlls/Makefile.in:
	Klaas van Gend <Klaas@vangend.demon.nl>
	Create a new subdirectory for the common dialog box DLL and move all
	code from /misc/commdlg.c to this directory.  Also made a start in
	documenting the API calls.

	* misc/winsock.c, debugger/break.c, debugger/dbg.y, debugger/dbgmain.c, debugger/editline.c, debugger/expr.c, debugger/hash.c, debugger/info.c, debugger/memory.c, debugger/msc.c, debugger/registers.c, debugger/source.c, debugger/stack.c, debugger/types.c, include/Attic/wintypes.h:
	Marcus Meissner <marcus@jet.franken.de>
	More include optimizations.

	* windows/driver.c, windows/winproc.c, dlls/comctl32/toolbar.c, dlls/comctl32/treeview.c, loader/pe_image.c, msdos/dpmi.c, multimedia/audio.c, multimedia/mmsystem.c, objects/dc.c, ole/storage32.c, controls/menu.c, dlls/comctl32/hotkey.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed a lot of warnings using WINE_UNUSED, casts, commenting out and
	additional {}. Rewrote GetCreationModeFromSTGM so we don't get
	"possible use of uninitialized variable".

	* include/mmsystem.h, include/multimedia.h:
	Marcus Meissner <marcus@jet.franken.de>
	MCI_OPEN_DRIVER_PARMS - Add win32 version of structure.

	* files/directory.c, msdos/int21.c:
	Marcus Meissner <marcus@jet.franken.de>
	Changed CreateDirectory LastError returns to match Win32 (found out by
	experiment). Adapted int21 CreateDirectory call to still return the
	correct DOS error codes according to Ralph Brown.

	* graphics/ddraw.c, relay32/ddraw.spec:
	Lionel Ulmer <ulmer@directprovider.net>
	- added function DirectDrawEnumerateEx
	- added (or corrected) check for the return value of the enumeration functions

	* configure, configure.in: Lionel Ulmer <ulmer@directprovider.net>
	Better detection of old (i.e. non OpenGL 1.2 compliant) version of Mesa.

	* multimedia/mcicda.c:
	Marcus Meissner <msmeissn@stud.informatik.uni-erlangen.de>
	Added missing <sys/types.h>.

	* include/winuser.h: Klaas van Gend <klaas@vangend.demon.nl>
	Added the button states as returned by IsDlgButtonChecked().

	* loader/module.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Added support for quoted file names in CreateProcess().

	* files/file.c, scheduler/client.c, scheduler/event.c, scheduler/mutex.c, scheduler/semaphore.c, server/file.c, win32/console.c:
	CLIENT_WaitReply: don't clear last error on success; fixed callers
	accordingly (based on a patch by Juergen Schmied).

	* msdos/int10.c: Jess Haas <desmoke@hotmail.com>
	Added some support and stubs for VESA to msdos/int10.c.

	* ole/bindctx.c, ole/filemoniker.c, ole/ifs.c, ole/itemmoniker.c, ole/moniker.c, ole/ole2.c, ole/ole2disp.c, ole/ole2nls.c, ole/olecli.c, ole/oledlg.c, ole/olefont.c, ole/oleobj.c, ole/olesvr.c, ole/safearray.c, ole/stg_bigblockfile.c, ole/stg_stream.c, ole/storage.c, ole/storage32.c, ole/typelib.c, ole/variant.c, tools/fnt2bdf.c, windows/display.c, dlls/shell32/dataobject.c, dlls/shell32/shlfolder.c, include/oleobj.h, include/shlobj.h, include/wine/obj_channel.h, include/wine/obj_clientserver.h, include/wine/obj_control.h, include/wine/obj_dataobject.h, include/wine/obj_dragdrop.h, include/wine/obj_inplace.h, include/wine/obj_marshal.h, include/wine/obj_misc.h, include/wine/obj_moniker.h, include/wine/obj_oleaut.h, include/wine/obj_olefont.h, include/wine/obj_propertystorage.h, include/wine/obj_storage.h, include/wine/winuser16.h, library/winestub.c, memory/string.c, misc/sound.c, multimedia/mmsystem.c, controls/menu.c:
	Marcus Meissner <marcus@jet.franken.de>
	More include optimisations and fixes.

	* server/process.c: Juergen Schmied <juergen.schmied@metronet.de>
	open_object should return ERROR_FILE_NOT_FOUND when the named object
	is not found.

	* files/directory.c: Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Better error message.

	* scheduler/Attic/k32obj.c, scheduler/Makefile.in, scheduler/client.c, scheduler/critsection.c, scheduler/event.c, scheduler/handle.c, scheduler/mutex.c, scheduler/pipe.c, scheduler/process.c, scheduler/semaphore.c, scheduler/synchro.c, scheduler/sysdeps.c, scheduler/thread.c, win32/console.c, win32/device.c, files/change.c, files/dos_fs.c, files/file.c, include/Attic/k32obj.h, include/file.h, include/process.h, include/thread.h, loader/task.c, memory/virtual.c, misc/toolhelp.c:
	Use server handles directly for Win32 handles. Removed use of K32OBJ.

	* windows/defwnd.c, windows/msgbox.c, windows/x11drv/monitor.c, objects/brush.c, objects/clipping.c, objects/pen.c, objects/region.c, objects/text.c, ole/olefont.c, ole/oleobj.c, scheduler/Attic/k32obj.c, scheduler/event.c, scheduler/mutex.c, scheduler/semaphore.c, server/file.c, server/request.c, debugger/dbg.y, debugger/registers.c, graphics/d3ddevices.c, graphics/d3dexecutebuffer.c, graphics/d3dtexture.c, graphics/escape.c, graphics/win16drv/font.c, loader/ne/convert.c, misc/network.c, misc/port.c, miscemu/main.c, multimedia/audio.c, multimedia/dplay.c, multimedia/init.c, multimedia/mciwave.c, multimedia/mixer.c, multimedia/mmaux.c, console/xterm.c, controls/listbox.c:
	David Luyer <luyer@ucs.uwa.edu.au>
	- fixed missing stdlib.h and string.h includes everywhere
	- removed a couple of unneeded stdlib.h and stdio.h includes

	* include/process.h, include/thread.h, loader/task.c, scheduler/process.c, scheduler/sysdeps.c, scheduler/thread.c, windows/queue.c, windows/win.c, windows/winproc.c:
	Process and thread id now use the server-side id instead of an
	obfuscated pointer.

	* libtest/guitest.c, libtest/guitest.rc, libtest/guitest.rh:
	Ove Kaaven <ovek@arcticnet.no>
	The Windows GUI behaviour tester used on the Windows computer.  It was
	used with Borland C++ 4.52, but should be easy to adapt to Winelib by
	whoever feels like it; I haven't, I just released this useful test app
	in case it would benefit other developers.

	* documentation/gui: Ove Kaaven <ovek@arcticnet.no>
	This file details the results (message traces) the GUI behaviour
	tester app gave under real Windows for various events. It was useful
	for some of my debugging at least, perhaps it could be of some use to
	other Wine GUI debuggers as well.

	* configure, configure.in, include/config.h.in, include/sig_context.h, include/winnls.h, misc/winsock.c, misc/winsock_dns.c, multimedia/dsound.c:
	Marcus Meissner <msmeissn@stud.informatik.uni-erlangen.de>
	Some Solaris fixes. <resolv.h> needs <arpa/nameser.h>, sig_context.h
	needs to define HANDLER_CONTEXT, wctype.h does not like 'wsprintf'
	defined, msdos/dpmi.c needs "stackframe.h" too, and multimedia/dsound.c
	needs "winuser.h".

	* win32/kernel32.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	GetBinaryType[AW] moved to loader/module.c, modified to recognize .COM
	and .PIF files.

	* loader/dos/module.c, miscemu/main.c, msdos/dpmi.c, include/dosexe.h, include/pe_image.h, loader/main.c, loader/pe_image.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Adapted to CreateProcess changes.

	* loader/ne/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	NE modules adapted to CreateProcess changes.
	LoadModule16/LoadLibrary16 reorganization.

	* include/module.h, include/task.h, loader/module.c, loader/task.c, scheduler/process.c, scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Process creation sequence reorganized:
	- Removed instance data segment for all but NE modules.
	- Check binary type in CreateProcess before loading module.
	- Unix process creation moved from WinExec to CreateProcess.
	- Bugfix: fill in thdb->teb.htask16 member correctly.

	* windows/input.c: Guy Albertelli <galberte@neo.lrun.com>
	- Code to return default language code as keyboard layout.
	- Implemented other stubs associated with keyboard layout:
	  GetKeyboardLayoutNameA, ActivateKeyboardLayout,
	  LoadKeyboardLayout[AW], GetKeyboardLayoutList.

	* include/commdlg.h, include/resource.h, misc/Attic/commdlg.c, resources/sysres_En.rc:
	Klaas van Gend <klaas@vangend.demon.nl>
	Preliminary implementation of the PrintDlgA stub.

	* ole/nls/nld.nls: Klaas van Gend <klaas@vangend.demon.nl>
	Now compliant to the Dutch standards.

	* windows/win.c: Juergen Schmied <juergen.schmied@metronet.de>
	FIND_WndPtr should not set ERROR_INVALID_WINDOW_HANDLE when hWnd=0.

	* msdos/dosmem.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed a couple of dosmem block resize bugs.

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	- no more 3D capabilities if Direct3D support is not compiled in
	- some debug messages clean-up (replaced fprintfs by DUMPs)

	* misc/main.c: Marcus Meissner <marcus@jet.franken.de>
	We got passed a NULL Dialect ptr and accessed it unprotected.

	* server/file.c, server/mapping.c, include/server/object.h, memory/virtual.c:
	Added support for mappings with no associated file.

	* include/server.h, include/server/process.h, scheduler/client.c, server/process.c, server/request.c, server/trace.c:
	Removed dst_handle in duplicate_handle request.
	Added inherit flag in create_mapping request.

	* include/oaidl.h, include/wine/obj_oleaut.h, ole/safearray.c, ole/variant.c:
	Francis Beaudet <francis@macadamian.com>
	Implemented support for arrays and safe arrays in VARIANT data
	structures. Also moved the SAFEARRAY definition (yet again) to the
	obj_oleaut.h file.

	* wine.ini: Andreas Mohr <cipam895@cip1.ind.uni-stuttgart.de>
	Fixed Filesystem documentation.

	* include/bitmaps/Attic/obm_folder, include/bitmaps/Attic/obm_folder2:
	Pavel Roskin <pavel_roskin@geocities.com>
	Made folder icons gray-yellow instead of blue.

	* windows/message.c: Francis Beaudet <francis@macadamian.com>
	Order of send message processing was not respected and the message
	stacked last finished after the message stacked first.

	* windows/winpos.c: Francis Beaudet <francis@macadamian.com>
	Added checks to guard against NULL active window.

	* windows/dialog.c: Norman Stevens <norman@arcady.u-net.com>
	Don't check children of disabled or invisible controls for dialog
	keyboard accelerators. Fixes problems with dialogs with tab boxes.

	* ole/compobj.c, relay32/ole32.spec:
	Francis Beaudet <francis@macadamian.com>
	Implemented the CoTaskMemRealloc API. Also clean-up around that API
	call.

	* ole/storage32.c: Thuy Nguyen <thuy@macadamian.com>
	Added a missing Release.
	STGM_CREATE should translate to CREATE_ALWAYS.

----------------------------------------------------------------
Fri Feb 26 12:33:21 1999  Alexandre Julliard  <julliard@winehq.com>

	* DEVELOPERS-HINTS: Updated for new naming conventions.

	* */*: Large-scale renaming of all Win32 functions and types to
 	use the standard Windows names.

----------------------------------------------------------------
Thu Feb 25 18:11:40 1999  Alexandre Julliard  <julliard@winehq.com>

	* misc/main.c: Albert den Haan <albertd@corel.ca>
	For various reasons some of our libwine executables must have a "." in
	their file names. The "." causes trouble when the file name is used as
	the class name for an X resource as wine does for command line parsing
	under X.

	* windows/win.c:
	Make GetWindowLong(GWL_HWNDPARENT) return the same thing as
	GetParent32; suggested by Dave Pickles <davep@nugate.demon.co.uk>.

	* include/gdi.h, include/heap.h, include/wintypes.h:
	David Luyer <luyer@ucs.uwa.edu.au>
	Added __attribute__ ((unused)) on static inline functions declared in
	header files.

	* documentation/bugreports: Adam the Jazz Guy <magicbox@bestweb.net>
	Added "The Easy Way" and "The Hard Way", largely favoring the easy way,
	which uses my bug_report.pl script.
	Added info on a command that can be run on all shells to print debug
	msgs to a file and not to xterm.

	* msdos/dpmi.c:
	Marcus Meissner <msmeissn@stud.informatik.uni-erlangen.de>
	Needs thread.h for non-Linux.

	* include/win.h, windows/win.c:
	Francois Boisvert <francois@macadamian.com>
	Adding of new functions to make the wnd struct thread safe. Adding of
	irefCount in wnd struct.

	* configure, configure.in, console/ncurses.c, include/acconfig.h, include/config.h.in:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Added configure check for getbkgd and define HAVE_GETBKGD.

	* include/ocidl.h, include/ole2.h, include/oleidl.h, include/wine/obj_cache.h, include/wine/obj_connection.h, include/wine/obj_control.h, include/wine/obj_inplace.h, include/wintypes.h, ole/olefont.c:
	Paul Quinn <paulq@corel.ca>
	Many interface declarations that originated from oleidl.h, oaidl.h and
	ocidl.h separated into somewhat relevant obj_* files.

	* files/drive.c, ole/compobj.c, resources/sysres.c:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Fixed warning and compilation errors.

	* include/windows.h: Michael Veksler <mveksler@techunix.technion.ac.il>
	Removed includes of wine/* headers.

	* loader/resource.c: Pavel Roskin <pavel_roskin@geocities.com>
	Made message "Resource not found" WARN.

	* dlls/shell32/contmenu.c, include/shlobj.h:
	Adrian Thurston <adriant@COREL.CA>
	- Use the new COM definition macros in the header.
	- Put the implementation of the object in the contmenu.c.
	- Make appropriate name changes in contmenu.c.

	* misc/registry.c, include/winreg.h: Paul Quinn <paulq@corel.ca>
	Zygo Blaxell <zygob@corel.ca>
	Modifies parameter list of a couple of functions to comply with SDK.

	* windows/scroll.c: Pascal Lessard <pascal@macadamian.com>
	ScrollDC32 modified to return rect in logical coordinate.

	* include/wine/obj_oleaut.h: Adrian Thurston <adriant@COREL.CA>
	Adds C++ nameless union support to tagVARIANT.

	* include/mmsystem.h, include/oaidl.h, include/oleauto.h:
	Adrian Thurston <adriant@COREL.CA>
	Moved some definitions out of oleauto.h and into oaidl.h to conform to the SDK.
	Removed a redundant include.
	Added some c++ protection.

Wed Feb 24 15:58:51 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/enumidlist.c, dlls/shell32/pidl.c, dlls/shell32/pidl.h, dlls/shell32/shlfolder.c, include/shlobj.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Changed pidl structure to match the pidl's used in lnk-files.

	* dlls/shell32/shelllink.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Implemented reading of *.lnk-files.

	* include/wine/obj_shelllink.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	new file, including the IShellLink definition.

	* include/module.h, include/pe_image.h, loader/elf.c, loader/main.c, loader/module.c, loader/pe_image.c, loader/pe_resource.c, loader/resource.c, loader/task.c, scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Modified process creation sequence: call PE_CreateModule in the
	context of the new process (in TASK_CallToStart).
	Changed all PE/Module routines so as to always operate on the current
	process; adapted all callers.

	* msdos/dosconf.c, msdos/dosmem.c, msdos/dpmi.c, msdos/int16.c, msdos/int21.c, msdos/int2a.c, msdos/interrupts.c, msdos/ioports.c, msdos/vxd.c, msdos/xms.c, ole/storage.c, ole/typelib.c, programs/avitools/icinfo.c, relay32/relay386.c, tools/build.c, windows/clipboard.c, windows/input.c, dlls/shell32/contmenu.c, dlls/shell32/enumidlist.c, dlls/shell32/folders.c, dlls/shell32/shelllink.c, dlls/shell32/shellole.c, dlls/shell32/shlview.c, graphics/d3ddevices.c, graphics/d3dexecutebuffer.c, graphics/d3dlight.c, graphics/d3dmaterial.c, graphics/d3dtexture.c, graphics/d3dviewport.c, graphics/ddraw.c, loader/main.c, memory/atom.c, misc/lstr.c:
	Marcus Meissner <marcus@jet.franken.de>
	Optimized away more includes, readded some #includes for necessary
	prototypes.

	* msdos/int2f.c: <smil@mechatronika.hu>
	Added low-level Netware installation check.

	* include/console.h, console/interface.c, console/ncurses.c:
	Joseph Pranevich <jpranevich@lycos.com>
	Added GetBackgroundColor call to the console struct. Will be used
	later.

	* msdos/int10.c: Joseph Pranevich <jpranevich@lycos.com>
	Bugfixes for INT 10/0B (SetBackgroundColor) to work properly.
	(Interrupt list did not have correct.)

	* windows/dinput.c: Lionel Ulmer <ulmer@directprovider.net>
	Added stubs for two missing methods of DInput.

	* ole/stg_bigblockfile.c: Thuy Nguyen <thuy@macadamian.com>
	Fixed a bug.

	* ole/storage32.c, ole/storage32.h: Thuy Nguyen <thuy@macadamian.com>
	Added support for larger files.

	* objects/dib.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fixes buffer overrun problems with GetDIBits.

	* windows/message.c: Stephane Lussier <stephane@macadamian.com>
	Fixed some SendMessage bugs.

	* ole/compobj.c: Sylvain St.Germain <sylvain@macadamian.com>
	Fix COM_ExternalLockFreeList to do not fail with an empty list.

Mon Feb 22 10:21:56 1999  Alexandre Julliard  <julliard@winehq.com>

	* misc/Makefile.in, misc/string.c:
	Zygo Blaxell <zblaxell@furryterror.org>
	Implemented some CRTDLL string functions.

	* objects/enhmetafile.c, objects/linedda.c, objects/metafile.c, objects/text.c, windows/caret.c, windows/clipboard.c, windows/dialog.c, windows/driver.c, windows/hook.c, windows/input.c, windows/keyboard.c, windows/mdi.c, windows/mouse.c, windows/multimon.c, windows/rect.c, windows/scroll.c, windows/timer.c, windows/user.c, windows/winproc.c, include/menu.h, include/mmsystem.h, include/sysmetrics.h, include/vfw.h, multimedia/audio.c, multimedia/dplay.c, multimedia/dsound.c, multimedia/init.c, multimedia/joystick.c, multimedia/mcianim.c, multimedia/mcicda.c, multimedia/mcimidi.c, multimedia/mcistring.c, multimedia/mciwave.c, multimedia/midi.c, multimedia/mixer.c, multimedia/mmaux.c, multimedia/mmio.c, multimedia/mmsystem.c, multimedia/time.c, objects/cursoricon.c:
	Marcus Meissner <marcus@jet.franken.de>
	Some more recursive include fixes/optimizations.

	* dlls/shell32/contmenu.c, dlls/shell32/enumidlist.c, dlls/shell32/iconcache.c, dlls/shell32/pidl.h, dlls/shell32/shell32_main.c, dlls/shell32/shlview.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	- eliminated one element of the pidl struct (dwSFGAO)
	- changed some superflous FIXME

	* dlls/shell32/shlfolder.c, include/wine/obj_dragdrop.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	- header uses the last macros now
	- rewrote IDropTarget according to the new COM headers
	  (was local declared not using the already written prototypes)
	- corrected Drop method (wrong parameter count)

	* windows/dinput.c: Francois Gouget <fgouget@psn.net>
	Updated to use the latest COM macros, ICOM_VTABLE and ICOM_THIS.
	Added the interface implementation structures.
	I remembered from an email that even when asked for a
	IDirectInputDeviceA what was returned was an IDirectInputDevice2A so I
	considered that we would only implement the latter. The
	IDirectInputDeviceA_xxx methods have been renamed to
	IDirectInputDevice2A_xxx, and we always return our IDirectInputDevice2A
	implementation as before.
	Renamed the implementation structures to XxxImpl.

	* include/dinput.h: Francois Gouget <fgouget@psn.net>
	Use latest COM macros
	Defined the IDirectInputDeviceA interface independently from
	IDirectInputDevice2A.
	Removed the 32 suffix of the interfaces. Hopefully this will not
	cause any problem with the renaming.
	Moved the implementation specific stuff to dinput.c (well, the
	interfaces at least).

Sun Feb 21 18:35:28 1999  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/process.c, scheduler/sysdeps.c, include/process.h, include/thread.h:
	Changed initial process creation to avoid memory allocations.
	Removed a few unused fields in PDB and THDB.

	* scheduler/client.c, scheduler/thread.c:
	Removed thread queue functions.
	Changed initial thread creation to avoid memory allocations.
	Moved server startup to THREAD_CreateInitialThread.

	* scheduler/synchro.c:
	Removed use of per-thread wait_struct, cleaned up a bit.

	* scheduler/k32obj.c, memory/virtual.c: Removed MEM_MAPPED_FILE_Ops.

	* include/winnt.h: Added a few exception codes.

	* windows/win.c, include/mmsystem.h, include/path.h, include/progress.h, include/queue.h, include/resource.h, include/struct32.h, include/updown.h, include/windows.h, include/winpos.h, loader/main.c, misc/commdlg.c, misc/winsock_dns.c, multimedia/mmsystem.c, include/cursoricon.h, include/dde_atom.h, include/ddraw.h, include/dispdib.h, include/dosexe.h, include/dsound.h, controls/menu.c:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	- Fix headers to include less or smaller header files.
	- Fix header and source files to include missing header files to avoid
	  warnings and errors.

	* loader/signal.c, memory/ldt.c, misc/port.c:
	Marcus Meissner <marcus@jet.franken.de>
	Change "g" (general regs) into "r" (hardregs) in clone / modify_ldt /
	wine_sigaction __PIC__ cases, since "g" will not work with
	-fomit-frame-pointer ("g" is referenced using %esp which was
	invalidated before). Bug found and (other) fix suggested by
	<daniel@mat.utfsm.cl> Daniel Serpell.

	* ole/olefont.c: Marcus Meissner <marcus@jet.franken.de>
	Added missing WINAPIs.

	* windows/x11drv/event.c, windows/x11drv/init.c, loader/task.c, windows/event.c, windows/ttydrv/event.c, windows/ttydrv/init.c, include/message.h, include/ttydrv.h, include/x11drv.h:
	Stephane Lussier <stephane@macadamian.com>
	Fix problem where you need mouse activity to unlock some 16 bits
	thread with multi-threaded apps.

Sat Feb 20 16:48:54 1999  Alexandre Julliard  <julliard@winehq.com>

	* relay32/oleaut32.spec, include/Attic/interfaces.h, include/oaidl.h, include/ocidl.h, include/ole.h, include/oleauto.h, include/olectl.h, include/wine/obj_oleaut.h, include/wine/obj_olefont.h, include/wtypes.h, ole/Makefile.in, ole/guid.c, ole/ole2disp.c, ole/olefont.c, ole/typelib.c:
	Francis Beaudet <francis@macadamian.com>
	Implemented the OleCreateFontIndirect method and the associated COM
	object. That object supports the IFont and IDispatch interfaces.

	* configure, configure.in, include/config.h.in, misc/port.c, misc/winsock.c, misc/winsock_dns.c:
	Marcus Meissner <marcus@jet.franken.de>
	Problems reported by Donald Page, PR 105-107.

	* console/ncurses.c: Joseph Pranevich <jpranevich@lycos.com>
	More commenting, better debugging of color problems, and support for
	the new TerminalType option in wine.ini. This allows us to select
	which terminal type we are really using so that we can, for example,
	use its color capabilities.

	* console/interface.c, include/console.h:
	Joseph Pranevich <jpranevich@lycos.com>
	Support for the new InitialRows andf InitialColumns options in wine.ini
	(Generic replacement for XtermResolution option...)

	* msdos/int10.c: Joseph Pranevich <jpranevich@lycos.com>
	Fix *DUH* problem causing lots and lots of unnecessary AllocColor errors.

	* console/xterm.c: Joseph Pranevich <jpranevich@lycos.com>
	Removal of obsolete XtermResolution option.

	* documentation/console, wine.ini:
	Joseph Pranevich <jpranevich@lycos.com>
	Add information about the new wine.conf options.

	* debugger/stack.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed backtrack issue on 16bit code.

	* debugger/msc.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Changed LocateDebugInfoFile to reduce stack consumption (from 13k to 2k !!)

	* debugger/info.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed comment for Wine documentation.

	* include/server.h, include/server/request.h, server/request.c, server/trace.c:
	Added get/set_handle_info request.

	* graphics/x11drv/dib.c:
	Fixed end-of-line bug in X11DRV_DIB_SetImageBits_RLE4.

	* tools/wrc/CHANGES, tools/wrc/genres.c, tools/wrc/newstruc.c, tools/wrc/parser.y, tools/wrc/wrc.h, tools/wrc/wrctypes.h, tools/wrc/writeres.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Fix a couple of 64bit platform problems and speed up compilation. See
	tools/wrc/CHANGES for details.

	* multimedia/mmio.c: Marcus Meissner <marcus@jet.franken.de>
	mmioDescend: debugoutput enhanced, FINDLIST/FINDRIFF should Check the
	correct ckid (LIST/RIFF) too. (verified against mciavi32.dll)

	* Makefile.in: Zygo Blaxell <zblaxell@furryterror.org>
	Added a check for the existence of wine.sym before installing it.

	* include/ole2.h, ole/ole2.c, relay32/ole32.spec:
	Francis Beaudet <francis@macadamian.com>
	Added some new stubs for the OLE menu descriptor methods.

Fri Feb 19 16:50:24 1999  Alexandre Julliard  <julliard@winehq.com>

	* windows/queue.c: Martin Walker <mwalker@caci.co.uk>
	Fixed message filtering check.

	* relay32/advapi32.spec, dlls/advapi32/security.c, dlls/ntdll/nt.c, dlls/ntdll/rtl.c, include/ntddk.h, include/ntdef.h, include/ntdll.h, include/queue.h, include/winbase.h, include/winnt.h, include/winreg.h, ole/oleobj.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	- made the security functions consistent. advapi calls down to ntdll now
	- new SetSecurityDescriptorGroup,  SetSecurityDescriptorOwner,
	  SetSecurityDescriptorSacl, GetSecurityDescriptorDacl
	- nt-header cleanup

	* dlls/ntdll/rtl.c, if1632/builtin.c, misc/cpu.c, win32/kernel32.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fixed a few broken includes.

	* windows/nonclient.c: Reverted broken close button change.

	* dlls/comctl32/header.c, dlls/comctl32/rebar.c, dlls/comctl32/tab.c, dlls/comctl32/toolbar.c, dlls/comctl32/tooltips.c, dlls/comctl32/updown.c, dlls/shell32/contmenu.c, dlls/shell32/dataobject.c, graphics/path.c, graphics/psdrv/init.c, tools/wrc/newstruc.c, controls/button.c, controls/edit.c, controls/widgets.c, dlls/advapi32/advapi.c, dlls/advapi32/security.c:
	Jeff Garzik <jgarzik@pobox.com>
	Added missing string.h include.

	* loader/ne/module.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Only append .dll if no extension yet.

	* windows/message.c: Francis Beaudet <francis@macadamian.com>
	Temporary fix suggested by Ulrich to allow the
	MsgWaitForMultipleObject method to be called from 16 bit threads.

	* windows/winproc.c: Ove Kaaven <ovek@arcticnet.no>
	Initialized return value of 16->32 conversion of WM_MDIGETACTIVE in
	case it's sent to a window that doesn't handle it (i.e. not MDI
	client).

	* include/dce.h, windows/dce.c, windows/winpos.c:
	Ove Kaaven <ovek@arcticnet.no>
	Added extra child arguments to DCE_GetVisRgn() to be able to handle
	PARENTDC class style combined with CLIPCHILDREN window style, to
	prevent mis-redraws in Free Agent 16-bit.

	* dlls/version/info.c: Lawson A. Whitney <lawson_whitney@juno.com>
	Don't hang on the last child if it's not wanted.

	* win32/kernel32.c, relay32/kernel32.spec: Ian Schmidt <irsman@iag.net>
	Partial stub implementation of undocumented KERNEL routine PK16FNF,
	needed by Win98 EXPLORER. Thanks to Ulrich Weigand for information.

	* misc/commdlg.c: Ove Kaaven <ovek@arcticnet.no>
	Fix redraw problems for ChooseColor dialog.

	* */*.c: Marcus Meissner <marcus@jet.franken.de>
	Removed a lot of occurences of windows.h (and added necessary other
	includes).

	* include/objidl.h, include/wine/obj_moniker.h, ole/compobj.c, dlls/shell32/dataobject.c, dlls/shell32/enumidlist.c:
	Francois Gouget <fgouget@psn.net>
	Small fixes.

	* include/dsound.h, multimedia/dsound.c:
	Francois Gouget <fgouget@psn.net>
	Changed the first parameter from LPGUID (Windows headers) to REFGUID.
	This makes it a 'const GUID*' which means DirectSoundCreate must not
	change it.

	* dlls/shell32/shell32_main.h: Francois Gouget <fgouget@psn.net>
	Removed redundant definitions of IsEqualIID and IsEqualCLSID (see
	include/wine/obj_base.h)

Thu Feb 18 17:34:10 1999  Alexandre Julliard  <julliard@winehq.com>

	* relay32/user32.spec, windows/message.c, windows/queue.c, windows/user.c, include/queue.h:
	Stephane Lussier <stephane@macadamian.com>
	- New implementation of SendMessage, ReceiveMessage, ReplyMessage functions
	  to support thread-safeness, and nested SendMessage.
	- Addition of ReplyMessage32.

	* windows/x11drv/wnd.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Cope with NULL pDriverData in X11DRV_WND_GetXWindow.

	* misc/commdlg.c, resources/sysres_En.rc:
	Pascal Lessard <pascal@macadamian.com>
	Applied the changes of the resulting color of the choose color dialog.
	Initialize values in the choose color dialog.

	* include/wine/obj_base.h, include/wine/obj_marshal.h:
	Francois Gouget <fgouget@psn.net>
	Removed references to ICOM_INHERITS.

	* ole/stg_bigblockfile.c, ole/storage32.c, ole/storage32.h:
	Thuy Nguyen <thuy@macadamian.com>
	Fixed bug with read-only files.

	* multimedia/mciavi.c, multimedia/mcimidi.c:
	Marcus Meissner <marcus@jet.franken.de>
	Removed superflous WINAPI (mismatch with prototype) in *_DriverProc32.

	* include/dosexe.h: Marcus Meissner <marcus@jet.franken.de>
	dosexe.h depends on winbase.h (for LPSTARTUPINFO32A)

	* dlls/shell32/shelllink.c, ole/bindctx.c, ole/filemoniker.c, ole/itemmoniker.c, ole/stg_stream.c, ole/storage32.c, ole/storage32.h:
	Francois Gouget <fgouget@psn.net>
	Modified so that they do not use the VTABLE_FUNC macros that performed
	casts of all methods put in the jump table. I find it too risky to use
	such macros because nothing guarantees that you actually put the right
	method at the right place or that the prototype is right.

	* include/wine/obj_moniker.h, include/wine/obj_storage.h, ole/storage.c:
	Francois Gouget <fgouget@psn.net>
	Updated to use the latest COM macros. Defined more interfaces and API
	functions.

	* controls/menu.c, graphics/x11drv/oembitmap.c, include/winuser.h, windows/nonclient.c:
	Francois Boisvert<francois@macadamian.com>
	Implementation of the pushed close button.

Wed Feb 17 17:45:54 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/mapidefs.h, include/objbase.h, include/ole.h, include/oleauto.h, include/winbase.h, include/wine/obj_moniker.h, include/wine/obj_propertystorage.h, include/winnt.h, include/wintypes.h, include/wtypes.h, ole/compobj.c:
	Francois Gouget <fgouget@psn.net>
	Moved some definitions to their proper include file.

	* include/wine/obj_clientserver.h, include/wine/obj_misc.h:
	Francois Gouget <fgouget@psn.net>
	Fixed some ICOM_INHERIT stuff and added new related API functions.

	* include/wine/obj_base.h: Francois Gouget <fgouget@psn.net>
	Added new API. Part of it was in 'include/objbase.h' before and part
	of it is new. Now it also contains 'WINE_StringFromCLSID'. It's not
	perfect but it's better than having it in 'include/objbase.h'.

	* dlls/advapi32/crypt.c, dlls/ntdll/nt.c, graphics/x11drv/graphics.c, scheduler/synchro.c, controls/scroll.c:
	Francois Gouget <fgouget@psn.net>
	Fixed a number of warnings concerning the matching of the printf
	format string and the associated parameters (actually it's mostly
	TRACE and FIXMEs).

	* include/mmsystem.h, multimedia/mmio.c, multimedia/mmsystem.c, relay32/winmm.spec:
	Marcus Meissner <marcus@jet.franken.de>
	mmioDescend: fixed FIND_xxxx, verified with mciavi32.dll.
	mciLoadCommandResource32: second arg is wide string
	mciGetDriverData: spec has just one long argument

	* ole/compobj.c, ole/ifs.c, ole/ifs.h, ole/storage.c, dlls/shell32/shellole.c, include/wine/obj_base.h, include/wine/obj_dataobject.h, multimedia/dsound.c, dlls/shell32/dataobject.c, dlls/shell32/shelllink.c:
	Francois Gouget <fgouget@psn.net>
	Changed ICOM_THIS definition.

	* dlls/version/info.c, include/ver.h:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Renamed VS_VERSION_INFOxx structure to VS_VERSION_INFO_STRUCTxx.
	The VS_VERSION_INFO is a simple define and would cause confusion.
	Also corrected the VS_xx_INFO defines not to use MAKEINTRESOURCE16 for win32.

	* configure, configure.in: Steffen Moeller <moeller@ebi.ac.uk>
	"Configure finished" message suggests to call make when make depend
	was successful.

	* */*: Marcus Meissner <marcus@jet.franken.de>
	Optimized include/*.h: (recursively) include all headers needed by
	this .h file, but only those. Necessary fixes to a lot of .c files,
	started optimizing "windows.h" away from some of them. Moved
	GetCurrentTask prototype to wine/winbase16.h.

	* include/commctrl.h, include/listview.h, dlls/comctl32/listview.c:
	Luc Tourangeau <luc@macadamian.com>
	Preliminary listview control implementation.

	* controls/menu.c: Francois Boisvert <francois@macadamian.com>
	Give the context menu its proper behaviour and modify TrackPopupMenu
	to comply with windows API.

	* windows/painting.c: Dave Pickles <davep@nugate.demon.co.uk>
	GetUpdateRect should return client coordinates unless the window was
	created with the CS_OWNDC style and the mapping mode is not MM_TEXT,
	in which case the result should be in logical coordinates.

	* include/wine/obj_channel.h: Francois Gouget <fgouget@psn.net>
	Added the actual definitions of the interfaces.

	* include/servprov.h: Francois Gouget <fgouget@psn.net>
	Converted to the new COM declaration 'standard' for better
	compatibility with C code implementating that interface.

	* misc/wsprintf.c: Francis Beaudet <francis@macadamian.com>
	Changed WPRINTF_ExtractVAPtr to take the address of the va_list to be
	able to modify it.

	* dlls/shell32/shlfolder.c: Sylvain St.Germain <sylvain@macadamian.com>
	Defined IDropTarget for ShellFolder.  Implemented the Constructor,
	Destructor, AddRef, Release and QueryInterface methods.

	* memory/selector.c, if1632/kernel.spec:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Change type of mode argument to GETVDMPOINTER32W from DWORD to Word

Mon Feb 15 15:24:20 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/msacm.h, include/winuser.h:
	Douglas Ridgway <ridgway@winehq.com>
	c2man doesn't like extra semicolons.

	* windows/winpos.c: Ove Kaaven <ovek@arcticnet.no>
	Resetting X focus should not be done with SetFocus32. Called
	the windowing (X11) driver's SetFocus routine directly instead.
	This apparently fixes a big heap of user interface problems.

----------------------------------------------------------------
Sun Feb 14 14:09:42 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/painting.c, include/winuser.h, objects/cursoricon.c, windows/dialog.c, windows/painting.c, windows/rect.c, windows/win.c, windows/winpos.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Changed some functions prototypes (were returning void).

	* misc/main.c, include/winuser.h: Paul Quinn <paulq@corel.ca>
	Fixed some Winelib names.

	* include/clipboard.h, include/console.h, include/desktop.h, include/keyboard.h, include/ttydrv.h, include/x11drv.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Corrected prototypes func() ->func(void).

	* multimedia/init.c, multimedia/midi.c, debugger/memory.c:
	Brian Joseph Czapiga <root@glacid.com>
	Fixed a few #ifdefs.

	* windows/scroll.c, windows/x11drv/wnd.c:
	Jerome Vouillon <vouillon@claranet.fr>
	Make a correct use of clipping rectangles.

	* include/bitmaps/ocr_cross:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added white border.

	* debugger/db_disasm.c: Juergen Schmied <juergen.schmied@metronet.de>
	Implemented better output for indirect calls.

	* relay32/winmm.spec: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed typo in winmm.spec.

	* include/wintypes.h, include/wrc_rsc.h, misc/lstr.c, misc/wsprintf.c, relay32/builtin32.c, relay32/relay386.c, relay32/snoop.c:
	Gavriel State <gavriels@COREL.CA>
	A few non-x86 Winelib fixes.

	* miscemu/main.c: Marcus Meissner <marcus@jet.franken.de>
	Do not print 'wine: no executeable found' if we did execute something.

	* programs/notepad/*:
	Marcel Baur <mbaur@g26.ethz.ch>
	- Added new IDS_NOTSAVED ressource (needs translation in *.rc)
	- Improved printing support (not yet complete)
	- Improved file drag and drop (should now work)
	- General code cleanup

	* include/multimedia.h, multimedia/mcimidi.c, multimedia/mciwave.c, multimedia/mmsystem.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed bugs on MCI notification (callback info are copied before
	asynchronous return) - make use of it in MCI wave and midi.
	Implemented mci(Set|Get)DeviceID(16|32) functions.

	* windows/x11drv/wnd.c: Ove Kaaven <ovek@arcticnet.no>
	Since SetParent now hides/shows, explicitly invalidating DCs in the
	parent change operation should no longer be necessary.

	* windows/dialog.c: Gerard Patel <G.Patel@Wanadoo.fr>
	Fix if EndDialog called in WM_INITDIALOG (DIALOG_DoDialogBox).

	* msdos/ioports.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Moved VGA port access check at the beginning in order to improve
	performance a little bit.

	* server/file.c: Juergen Schmied <juergen.schmied@metronet.de>
	Implemented flag FILE_FLAG_DELETE_ON_CLOSE.

	* msdos/int10.c: Joseph Pranevich <jpranevich@lycos.com>
	Added comments. Think I've fixed INT 10/08 (Get Character and
	Attribute at Cursor).

	* console/xterm.c: Joseph Pranevich <jpranevich@lycos.com>
	Added configuration options XtermProgram and XtermResolution.
	Fixed a warning.

	* documentation/console, wine.ini:
	Joseph Pranevich <jpranevich@lycos.com>
	New examples/documentation for console configuration options.

	* misc/main.c, windows/x11drv/main.c, console/generic.c, console/interface.c, console/ncurses.c, console/tty.c, include/console.h, include/options.h, loader/main.c:
	Joseph Pranevich <jpranevich@lycos.com>
	Moved initialization until later. Also moved around code a bit to be
	consistant.

	* include/debugger.h: Marcus Meissner <marcus@jet.franken.de>
	Added possibility to load .stabs/.stabstr sections from PE dlls.
	Unfortunately my samples use currently typedefs which wine-dbg does
	not understand, so no actual parsing.

	* dlls/msacm/msacm_main.c, dlls/msacm32/format.c, dlls/msacm32/stream.c, include/mmreg.h, include/mmsystem.h, include/msacm.h, include/msacmdrv.h, include/winbase.h:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Change a couple of names that would conflict after all 32[AW] suffixes
	are removed. Structures defined in both mmreg.h and mmsystem.h are
	protected with #ifdef:s as in MS' headers.

	* misc/imm.c: Patrik Stridvall <ps@leissner.se>
	Fixed wrong typecasts.

	* programs/progman/grpfile.c: Stefan Leichter <sle@camline.com>
	Compilation fix.

	* configure.in, configure: Ove Kaaven <ovek@arcticnet.no>
	Fix for X11 includes detection.

	* debugger/hash.c, debugger/msc.c, debugger/stabs.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added possibility to load .stabs/.stabstr sections from PE dlls.
	Unfortunately my samples use currently typedefs which wine-dbg does
	not understand, so no actual parsing.

	* multimedia/dplay.c, documentation/status/directdraw, graphics/d3dviewport.c, graphics/ddraw.c, include/d3d.h:
	Marcus Meissner <marcus@jet.franken.de>
	Some ddraw/d3d bugfixes, updated Diablo/WC4 ddraw status.

	* ole/ole2nls.c, relay32/kernel32.spec, include/winnls.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Implementation of ConvertDefaultLocale32.

	* windows/mdi.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	WIN31 Look still needs a close button on the left of the menu bar.

	* windows/winpos.c: Francois Boisvert <francois@macadamian.com>
	Changed SetWindowPos32 to force the update of the non-client area.

Sat Feb 13 17:56:28 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/shell32_main.h, include/mmsystem.h, include/ole.h, include/wingdi.h, include/winsock.h:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Fixed a couple of faulty names used in wine and typos so that it will
	compile again after conversion from 32[AW] naming to [AW] naming.

	* if1632/Attic/signal.c, if1632/Makefile.in, include/debugger.h, include/dosexe.h, include/miscemu.h, include/sig_context.h, loader/dos/dosvm.c, loader/signal.c, miscemu/instr.c, miscemu/main.c, graphics/ddraw.c:
	Marcus Meissner <marcus@jet.franken.de>
	Moved the if1632/signal.c stuff into loader/signal.c, adapted function
	pointers for wine_debug and INSTR_EmulateInstruction.

	* ole/compobj.c: Francois Gouget <fgouget@psn.net>
	All guid 'REFxxx' types already have a 'const' inside them.

	* dlls/comctl32/draglist.c, dlls/comctl32/tooltips.c, misc/version.c, windows/winpos.c:
	Marcus Meissner <marcus@jet.franken.de>
	Some warnings fixed, one useless VERSION warning removed (winelib).

	* misc/registry.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	RegFlushKey: wrong error code.

	* win32/file.c: Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Adds a warning message if permissions not sufficient.

	* multimedia/mixer.c, multimedia/mmsystem.c, relay32/winmm.spec, include/debug.h, include/debugdefs.h, include/multimedia.h, multimedia/Makefile.in, multimedia/mcianim.c, multimedia/mciavi.c, multimedia/mcimidi.c, multimedia/mciwave.c, multimedia/midi.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added support for MCI AVI driver
	Added some fixes mixer functions
	Fixed MCI string comparison (thanks to Lionel ULMER)
	No longer using 16 bit USER functions (use their 32 bit counter part)
	Reindenting.
	Added function sndPlaySound32W

	* include/objbase.h, include/objidl.h, include/wine/obj_marshal.h:
	Francois Gouget <fgouget@psn.net>
	Added the actual interface definitions to the obj_marshal.h skeleton
	file. Also defined the associated C API.

	* windows/queue.c: Stephane Lussier <stephane@macadamian.com>
	Use global synchronization objects, to be able to use it in different
	processes (not only the process which create the synchro object).

	* windows/mdi.c: Norman Stevens <norman@arcady.u-net.com>
	Set hwndActiveChild when maximizing a mdi child window because it is
	not set when maximizing a window other than the active child.

	* controls/menu.c: Pascal Lessard <pascal@macadamian.com>
	Change the GetMenuItemRect to comply with windows API.

	* Makefile.in, configure, configure.in, include/.cvsignore, include/Makefile.in:
	James Juran <jrj120@psu.edu>
	Created include/Makefile.in to separate header file installation from
	the top-level Makefile.

	* ole/stg_bigblockfile.c, ole/stg_stream.c, ole/storage32.c, ole/storage32.h:
	Thuy Nguyen <thuy@macadamian.com>
	- Fixed a small block depot bug.
	- Implemented converting from small blocks to big blocks.
	- Validated file attributes and flags.
	- Fixed a bug for larger files.

	* resources/.cvsignore: added sysres_Nl

	* graphics/x11drv/oembitmap.c, include/ole2.h, include/oleidl.h, include/shlguid.h, include/shlobj.h, include/windef.h, include/wine/obj_dragdrop.h, include/winerror.h, include/wintypes.h, ole/ole2.c, relay32/ole32.spec:
	Francis Beaudet <francis@macadamian.com>
	Implemented the OLE Drag and Drop target registration mechanism and
	the DoDragDrop loop to perform the DnD operation.

	* windows/mdi.c, controls/menu.c, include/menu.h:
	Francois Boisvert <francois@macadamian.com>
	Implemented the WIN31 Look mdi buttons and also some defines for the
	magic menu items.

	* dlls/advapi32/Makefile.in, dlls/advapi32/crypt.c, include/wincrypt.h, relay32/advapi32.spec:
	Ian Schmidt <irsman@iag.net>
	Added entries for most Crypt* calls.
	Added stub for CryptAcquireContextA.  This allows Win98 EXPLORER.EXE
	to get farther.

	* controls/edit.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	An app left junk in the undo buffer of an edit control upon creation.

	* windows/win.c: Ove Kaaven <ovek@arcticnet.no>
	Changed SetParent32 to adhere to Windows behaviour (mostly),
	which should also keep it from leaving garbage around.

	* ole/compobj.c: Sylvain St.Germain <sylvain@macadamian.com>
	Implementation of a simple linked list (static) that stores and counts
	references to COM objects.

	* include/objbase.h, include/wtypes.h:
	Francois Gouget <fgouget@psn.net>
	Make the REFxxx types const even in C. Also add FMTID.

	* windows/winpos.c: Ove Kaaven <ovek@arcticnet.no>
	Don't call EVENT_DummyMotionNotify for hidden windows.

	* windows/message.c: Stephane Lussier <stephane@macadamian.com>
	Fix some thread-safeness problem when accessing the system message
	queue.

	* windows/input.c, include/winuser.h, relay32/user32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented MapVirtualKeyEx (ticket 21).
	Ignore keyboard layout for now.

	* include/objidl.h, include/wine/obj_clientserver.h:
	Francois Gouget <fgouget@psn.net>
	Added the actual interface definitions to the obj_clientserver.h
	skeleton file.

	* dlls/ntdll/Makefile.in, dlls/ntdll/nt.c, dlls/ntdll/reg.c, dlls/ntdll/rtl.c, relay32/ntdll.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	- documented most of the undocumented functions in nt.c
	- implemented RtlGetDaclSecurityDescriptor
	- stubs for NtEnumerateKey, NtOpenSymbolicLinkObject, NtQueryKey
	- stubs for NtRaiseException, RtlRaiseException (this both will crash)

Fri Feb 12 17:47:07 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/advapi32/security.c, dlls/advapi32/service.c, files/drive.c, misc/registry.c, win32/newfns.c, windows/user.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Small fixes to compile with the headers (mostly nt-security).

	* include/ntddk.h, include/ntdef.h, include/ntdll.h, include/winbase.h, include/windef.h, include/winnt.h, include/winreg.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Made nt-related types compatible, throw out wine-specific types.

	* windows/mouse.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Use MONITOR_... instead of DESKTOP_... routines to get screen
	dimensions; these work also with native USER.

	* windows/defwnd.c: Ove Kaaven <ovek@arcticnet.no>
	WM_ACTIVATE default processing should set window focus.
	Should fix focus problems in non-managed mode.

Thu Feb 11 16:32:17 1999  Alexandre Julliard  <julliard@winehq.com>

	* ole/nls/nld.nls, resources/Makefile.in, resources/TODO, resources/sysres.c, resources/sysres_Nl.rc, AUTHORS, documentation/languages, include/authors.h, include/options.h, misc/main.c, ole/ole2nls.c:
	Klaas van Gend <klaas@vangend.demon.nl>
	Added support for the Dutch language.

	* dlls/comctl32/propsheet.c, include/commctrl.h, include/prsht.h, include/shlobj.h:
	Adrian Thurston <adriant@corel.ca>
	Zygo Blaxell <zblaxell@corel.ca>
	Move property sheets from commctrl.h into into prsht.h.

	* graphics/d3ddevices.c, graphics/d3dexecutebuffer.c, graphics/d3dlight.c, graphics/d3dmaterial.c, graphics/d3dtexture.c, graphics/d3dviewport.c:
	Lionel Ulmer <ulmer@directprovider.net>
	Added 'objbase.h' to prevent compiler warnings.

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	Better detection of XShm errors (should now run on remote displays).

	* multimedia/mmsystem.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Fixes mixerGetID16/32 problems/errors.

	* ole/oleobj.c, multimedia/dplay.c: Francois Gouget <fgouget@psn.net>
	IsEqualGUID is defined in 'include/wine/obj_base.h'. All other
	declarations must surrender or prepare to be met with deadly force :-)

	* relay32/ole32.spec: Francois Gouget <fgouget@psn.net>
	Added new functions (from Win98)
	Added comments with the parameter types for future use with dllglue

	* files/drive.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Set the flags for GetVolumeInformation32A.

	* windows/win.c: Juergen Schmied <juergen.schmied@metronet.de>
	FindWindow failed for 32 bit windows with style != WS_CHILD.

Wed Feb 10 06:52:58 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/Attic/print.h, include/winspool.h, misc/printdrv.c, graphics/psdrv/driver.c, graphics/psdrv/escape.c, graphics/psdrv/font.c, graphics/psdrv/graphics.c, graphics/psdrv/init.c, graphics/psdrv/ppd.c, graphics/psdrv/ps.c, graphics/psdrv/text.c:
	Paul Quinn <paulq@corel.ca>
	Albert Den Haan <albertd@corel.ca>
	Moves files from print.h to winspool.h for better SDK header compliance
	for Winelib programs.

	* include/hook.h, include/objidl.h, include/ole2.h, include/tchar.h, include/winbase.h, include/wine/obj_clientserver.h, include/wine/obj_dataobject.h, include/wine/obj_storage.h, include/winerror.h, include/winuser.h, include/wtypes.h:
	Albert Den Haan <albertd@corel.ca>
	Adrian Thurston <athursto@corel.ca>
	Paul Quinn <paulq@corel.ca>
	Zygo Blaxell <zygob@corel.ca>
	Miscellaneous patches to header files.  All of these are supposedly there
	to help build Winelib applications.

	* include/wintypes.h: Albert Den Haan <albertd@corel.ca>
	Adrian Thurston <athursto@corel.ca>
	Paul Quinn <paulq@corel.ca>
	Zygo Blaxell <zygob@corel.ca>
	More types we need for compiling Winelib/MFC applications.

	* include/commctrl.h: Paul Quinn <paulq@corel.ca>
	Adrian Thurston <adriant@corel.ca>
	More types for common controls.  Needed for Winelib.

	* dlls/shell32/shelllink.c, dlls/shell32/shellole.c, include/wine/obj_base.h, multimedia/dsound.c, ole/compobj.c, ole/ifs.c:
	Francois Gouget <fgouget@psn.net>
	Better set of macros for defining the COM interfaces.

	* dlls/advapi32/security.c, relay32/advapi32.spec:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Two ADVAPI32 stubs: ImpersonateSelf32 and AccessCheck32. Spelling fixes.

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	Fixed debug output to follow '-debugmsg' flags.

Tue Feb  9 15:49:39 1999  Alexandre Julliard  <julliard@winehq.com>

	* msdos/int20.c, ole/safearray.c, relay32/builtin32.c, server/device.c, server/file.c, server/pipe.c, server/thread.c, windows/winhelp.c:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Added missing includes to avoid warnings/errors.

	* include/dinput.h, include/lzexpand.h, include/ntdll.h, include/ole2.h, include/shellapi.h, include/vga.h, include/winbase.h, include/wincon.h, include/windef.h, include/windows.h, include/wine/keyboard16.h, include/wine/obj_storage.h, include/wine/shell16.h, include/wine/w32skrnl.h, include/wine/winbase16.h, include/wine/winesound.h, include/wine/winestring.h, include/wine/winuser16.h, include/winnetwk.h, include/winnls.h, include/winnt.h, include/winreg.h, include/wintypes.h, include/winuser.h, include/winver.h:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Moved everything out of windows.h.

	* graphics/wing.c, if1632/gdi.spec, include/bitmap.h, include/palette.h, include/wingdi.h, objects/palette.c, relay32/gdi32.spec:
	Brad Pepers <brad@linuxcanada.com>
	WinG fixes.

	* controls/menu.c, include/message.h, include/queue.h, windows/dialog.c, windows/message.c, windows/nonclient.c, windows/queue.c, windows/timer.c:
	Stephane Lussier <stephane@macadamian.com>
	-Fixed MESSAGE functions that were thunking down to 16 bits implementation.
	So PeekMessage32, GetMessage32, PostMessage32, PostThreadMessage are fixed
	with this patch. Unicode version of those functions is currently only
	calling the ASCII version.
	-Fixed queue signaling using a new EVENT object in the queue for 32 bits
	thread. MsgWaitForMultipleObject has been fixed and is now blocking on the
	right EVENT.

	* objects/metafile.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	GetMetaFileBitsEx should work in bytes not words.

	* include/shlobj.h: Francois Gouget <fgouget@psn.net>
	DllGetClassObject should take a REFCLSID not an LPCLSID.

	* objects/dib.c, include/global.h, memory/virtual.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Change fault handler 'addr' argument to LPCVOID.

	* files/file.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Call VIRTUAL_HandleFault if read/write returns EFAULT.

	* dlls/comctl32/treeview.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Fix typo to map GetTextExtentPoint to the correct 32A version.

	* documentation/debugging, include/peexe.h, include/wincon.h, programs/regtest/regtest.c, relay32/advapi32.spec, windows/x11drv/main.c, dlls/advapi32/security.c:
	Marcus Meissner <marcus@jet.franken.de>
	Some small bugfixes, added more PE relocation types (for WinCE mostly),
	some console prototypes, -dll is useful for winelib too, regtest
	compile fixed.

	* include/wine/winuser16.h, include/winuser.h, objects/cursoricon.c:
	Paul Quinn <paulq@corel.ca>
	GetCursorPos is actually a BOOL.

	* include/mmsystem.h: Paul Quinn <paulq@corel.ca>
	Adrian Thurston <adriant@corel.ca>
	More types, C++ protection, and a typo correction for mmsystem.h.

	* include/commctrl.h: Zygo Blaxell <uj22kfbc@umail.furryterror.org>
	Move the #define of DUMMYUNIONNAME* to before they are used.
	Add a definition for DUMMYUNIONNAME (as opposed to DUN1, DUN2...).
	Use the correct WINELIB_NAME_AW macro for TVITEM and related names.
	Define "TV_ITEM" to agree with you-know-who's documentation.

	* dlls/version/info.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	NULL is a valid argument as handle for GetFileVersionInfoSize32A.

	* include/dinput.h, windows/dinput.c:
	Lionel Ulmer <ulmer@directprovider.net>
	Added buffered device access for DInput's mouse driver.

	* files/file.c: Juergen Schmied <juergen.schmied@metronet.de>
	Wrong access on server handle was demanded (GENERIC_READ instead of
	GENERIC_WRITE).

	* dlls/shell32/shellord.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Better implementation (takes strings or res-id's now).

	* dlls/version/resource.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: NULL pointer check for output parameters.

	* dlls/shell32/brsfolder.c:
	Zygo Blaxell <uj22kfbc@umail.furryterror.org>
	Fixed two pointer/integer mismatch warnings.

	* documentation/console: Zygo Blaxell <uj22kfbc@umail.furryterror.org>
	Spelling fixes.

	* console/xterm.c, win32/console.c:
	Zygo Blaxell <uj22kfbc@umail.furryterror.org>
	wine_openpty is not properly declared (either missing or mismatched
	declarations) in both places where it is used.

	* include/wingdi.h, objects/dib.c:
	Zygo Blaxell <uj22kfbc@umail.furryterror.org>
	Fix types of GetDIBits functions (LPSTR should be LPVOID).

	* graphics/x11drv/dib.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fixes several problems with SetDIBitsToDevice if xSrc != 0.
	Thanks to Ian Schmidt for the logs.

	* windows/mdi.c: Francois Boisvert <francois@macadamian.com>
	The systems buttons (minimize/restore/close) now appear on the menu
	bar of mdi application.

	* controls/menu.c: Francois Boisvert <francois@macadamian.com>
	Implemented the magic menu items id's used by windows when inserting
	the minimize/maximize/close buttons in the menu bar of an application.

	* objects/enhmetafile.c: Jason McMullan <jmcc@ontv.com>
	Adds support for EMR_STRETCHDIBITS in EMFs.

	* programs/avitools/aviplay.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed image size and line size, added 8bit color/palette handling.

	* tools/bug_report.pl: Adam the Jazz Guy <magicbox@bestweb.net>
	Fixed formatting of code
	Now changes to directory of program to be run before starting wine

	* windows/queue.c, windows/user.c, include/user.h, scheduler/thread.c:
	Stephane Lussier <stephane@macadamian.com>
	- Cleaned up the message queue when a thread exit (but not the process).
	- Modified QUEUE_DeleteMsgQueue to exit gracefully (without crashing Wine) if
	  queue link list is corrupted.

	* multimedia/dsound.c: Ove Kaaven <ovek@arcticnet.no>
	Sounds were cut off due to integer overflow. Fixed.

	* include/windowsx.h: Paul Quinn <paulq@corel.ca>
	Added windowsx.h for Winelib.

Fri Feb  5 17:40:47 1999  Alexandre Julliard  <julliard@winehq.com>

	* configure, configure.in, programs/Makefile.in, programs/cmdlgtst/.cvsignore, programs/cmdlgtst/Makefile.in, programs/cmdlgtst/cmdlgr.h, programs/cmdlgtst/cmdlgr.rc, programs/cmdlgtst/cmdlgtst.c:
	<ewill@ncal.verio.com>
	Added common dialogs test program.

	* include/message.h, include/queue.h, include/win.h, include/winpos.h, scheduler/thread.c, windows/focus.c, windows/input.c, windows/message.c, windows/queue.c, windows/win.c, windows/winpos.c:
	Noel Borthwick <noel@macadamian.com>
	Added management and allocation of the PERQUEUEDATA structure.

	* graphics/ddraw.c, graphics/vga.c, include/ddraw.h:
	Lionel Ulmer <ulmer@directprovider.net>
	- added a dump of the palette creation flags
	- changed palette creation code in vga.c to prevent useless error
	  message

	* documentation/wine.man, files/drive.c, wine.ini:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Use vfat/win95 as default.

	* include/vfw.h, multimedia/msvideo.c, programs/avitools/.cvsignore, programs/avitools/Makefile.in, programs/avitools/aviinfo.c, programs/avitools/aviplay.c, relay32/builtin32.c, relay32/msvfw32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Updated msvideo / vfw.h, use builtin msvfw32.dll by default, added
	aviinfo and aviplay programs.

	* win32/console.c: Marcus Meissner <marcus@jet.franken.de>
	Continued hack to win32/console.c, so that the IDA Pro Disassembler
	works again. Needs much more work however.

	* ole/storage32.c: Marcus Meissner <marcus@jet.franken.de>
	Include objbase.h for CoTaskMem* prototypes (or we get WINAPI
	problems).

	* ole/storage32.h: Marcus Meissner <marcus@jet.franken.de>
	Added missing ULONG to static const OFFSET_xx.

Thu Feb  4 16:45:40 1999  Alexandre Julliard  <julliard@winehq.com>

	* documentation/wine.man: James Juran <jrj120@psu.edu>
	Various manpage updates, including the incorrect statement about glibc
	and clone().

	* documentation/debugging: James Juran <jrj120@psu.edu>
	Fix pointer to the Windows Disassembler 32.  Thanks to Herbert
	Rosmanith <herp@wildsau.idv.uni-linz.ac.at> for suggesting this.

	* dlls/msacm32/driver.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Another usage of non-portable functions...

	* msdos/dosmem.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Some values of pBiosData added/fixed.

	* objects/palette.c, windows/clipboard.c, windows/dce.c, windows/display.c, windows/event.c, windows/keyboard.c, windows/mouse.c, windows/sysmetrics.c, windows/user.c, windows/win.c, windows/winpos.c, controls/desktop.c, controls/widgets.c, debugger/dbg.y, graphics/ddraw.c, graphics/painting.c, graphics/wing.c, include/bitmap.h, include/color.h, include/ddraw.h, include/debug.h, include/debugdefs.h, include/desktop.h, include/display.h, include/main.h, include/options.h, include/ttydrv.h, include/win.h, include/x11drv.h, misc/main.c, objects/bitmap.c, objects/color.c, objects/dc.c, objects/dib.c, objects/gdiobj.c:
	Patrik Stridvall <ps@leissner.se>
	Moved some more code to the X11 driver.

	* windows/ttydrv/Makefile.in, windows/ttydrv/clipboard.c, windows/ttydrv/desktop.c, windows/ttydrv/event.c, windows/ttydrv/init.c, windows/ttydrv/keyboard.c, windows/ttydrv/main.c, windows/ttydrv/monitor.c, windows/ttydrv/mouse.c, windows/ttydrv/wnd.c:
	Patrik Stridvall <ps@leissner.se>
	TTY driver changes.

	* windows/x11drv/Makefile.in, windows/x11drv/clipboard.c, windows/x11drv/desktop.c, windows/x11drv/event.c, windows/x11drv/init.c, windows/x11drv/keyboard.c, windows/x11drv/main.c, windows/x11drv/monitor.c, windows/x11drv/mouse.c, windows/x11drv/wnd.c, graphics/x11drv/bitblt.c, graphics/x11drv/bitmap.c, graphics/x11drv/brush.c, graphics/x11drv/clipping.c, graphics/x11drv/dib.c, graphics/x11drv/graphics.c, graphics/x11drv/init.c, graphics/x11drv/objects.c, graphics/x11drv/oembitmap.c, graphics/x11drv/pen.c, graphics/x11drv/text.c, graphics/x11drv/xfont.c:
	Patrik Stridvall <ps@leissner.se>
	X11 driver changes.

	* tsx11/ts_xf86dga.c, tsx11/ts_xf86vmode.c, tsx11/ts_xlib.c, tsx11/ts_xpm.c, tsx11/ts_xresource.c, tsx11/ts_xshm.c, tsx11/ts_xutil.c, include/ts_xf86dga.h, include/ts_xf86vmode.h, include/ts_xlib.h, include/ts_xpm.h, include/ts_xresource.h, include/ts_xshm.h, include/ts_xutil.h, tools/make_X11wrappers:
	Patrik Stridvall <ps@leissner.se>
	Non-X11 compile fix for generated code.

	* include/monitor.h, windows/multimon.c:
	Patrik Stridvall <ps@leissner.se>
	Implementation of the new monitor abstraction.

	* graphics/ttydrv/.cvsignore, graphics/ttydrv/Makefile.in, graphics/ttydrv/init.c, Makefile.in:
	Patrik Stridvall <ps@leissner.se>
	New TTY driver for GDI.

	* configure, configure.in, include/acconfig.h, include/config.h.in:
	Patrik Stridvall <ps@leissner.se>
	- Added the graphics/ttydrv directory.
	- Don't search for reentrant X when X doesn't exist.
	- Added config options HAVE_LIBXXPM
	- Added checks if the header files also exist for some libraries

Tue Feb  2 16:14:23 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/brsfolder.c, graphics/d3dcommon.c, graphics/d3ddevices.c, graphics/d3dexecutebuffer.c, graphics/d3dlight.c, graphics/d3dmaterial.c, graphics/d3dtexture.c, graphics/d3dviewport.c, include/interfaces.h, ole/safearray.c, ole/stg_bigblockfile.c, ole/stg_stream.c, ole/storage32.c:
	Francois Gouget <fgouget@psn.net>
	Replaced references to interfaces.h by wine/obj_xxx.h headers instead
	since these headers already provide the necessary definitions.

	* include/msdos.h, msdos/Attic/cdrom.c, msdos/Makefile.in, msdos/int2f.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed references to obsolete msdos/cdrom.c file.
	Make use of new Wine internal CD ROM interface.

	* multimedia/mcicda.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed tracks indexing in mcicda.c
	Make use of new Wine internal CD ROM interface.

	* include/cdrom.h, misc/Makefile.in, misc/cdrom.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	New Wine internal interface for handling CD Rom (especially audio CD
	ROM).

	* include/commctrl.h, include/treeview.h, dlls/comctl32/treeview.c:
	Zygo Blaxell <uj22kfbc@umail.furryterror.org>
	Change a few types to match you-know-who's declarations.
	HTREEITEM is a struct _TREEITEM FAR*
	GetDIBits passes a LPVOID for the bitmap data, not LPSTR.
	Adjustment of Wine C code to match the new types included.

	* misc/lzexpand.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Fixed GET_LZ_STATE macro.

	* graphics/d3d_private.h, graphics/d3dtexture.c, graphics/ddraw.c, include/d3d.h, include/ddraw.h:
	Lionel Ulmer <ulmer@directprovider.net>
	Added stubs for new DirectDraw4 and DirectDrawSurface4 methods.

	* tools/wrc/wrc.h, tools/wrc/wrctypes.h, tools/wrc/CHANGES:
	Albert den Haan <albertd@corel.ca>
	Fixed wrong order of res_ico and res_bmp which must be in RT_xxx order.

	* dlls/version/resource.c: Marcus Meissner <marcus@jet.franken.de>
	reslen could be used uninitialised in GetFileResource32 (fixes some
	strange VerQueryValue crashes).

	* ole/nls/sve.nls: Jan D. <Jan.Djarv@mbox200.swipnet.se>
	Added definition for LOCALE_SGROUPING, LOCALE_SMONGROUPING and
	LOCALE_IINTLCURRDIGITS.

	* memory/selector.c, relay32/kernel32.spec:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Preserve EAX in UnMapSLFixArray().

	* dlls/comctl32/comctl32undoc.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixes little pointer bug in DPA_DeletePtr().

	* if1632/kernel.spec, memory/string.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented KERNEL.434 (UnicodeToAnsi).

	* files/drive.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	GetDiskFreeSpaceEx32A can get null pointers and still not crash.

	* graphics/psdrv/driver.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Clear up args to PSDRV_AdvancedSetupDialog.

	* graphics/x11drv/xfont.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Reduce MAX_FONT_SIZE to 1000.

Sun Jan 31 19:04:31 1999  Alexandre Julliard  <julliard@winehq.com>

	* win32/console.c, include/server.h, include/server/object.h, include/server/request.h, loader/ne/module.c, relay32/kernel32.spec, server/console.c, server/request.c, server/trace.c:
	Added input queue to server-side console object,
	read/write_console_input requests, and use them for
	Read/WriteConsoleInput.

	* scheduler/client.c: Geoff Clare <gwc@root.co.uk>
	Fix to allow for recvmsg() returning less data than is needed.

	* include/toolhelp.h, include/windows.h:
	Attempt at fixing the MAX_PATH multiple definition problem.

----------------------------------------------------------------
Sun Jan 31 10:13:44 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/module.h, loader/ne/resource.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Modify NE_FindTypeSection and NE_FindResourceFromType so as to be
	usable by the VERSION code.

	* include/pe_image.h, loader/pe_resource.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added GetResDirEntryA for use by the VERSION code.

	* misc/Attic/ver.c, misc/Makefile.in:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed old VER.DLL code.

	* dlls/version/.cvsignore, dlls/version/Makefile.in, dlls/version/info.c, dlls/version/install.c, dlls/version/resource.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implementation of VERSION.DLL. Based on old misc/ver.c.
	- Accessing PE version info resources should work correctly now.
	- Fixed memory leaks.
	- Clean separation of 16- and 32-bit parts.
	- Minor bugfixes.

	* Makefile.in, configure, configure.in, dlls/Makefile.in:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Add new subdirectories dlls/ver and dlls/version.

	* if1632/ver.spec, dlls/ver/.cvsignore, dlls/ver/Makefile.in, dlls/ver/ver16.c, include/ver.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implementation of VER.DLL. Thunks up to VERSION.DLL.

	* misc/lstr.c: Pascal Cuoq <cuoq@visan.inria.fr>
	IsCharAlpha32A: use look-up table from ole2nls.c.

	* ole/ole2nls.c: Pascal Cuoq <cuoq@visan.inria.fr>
	LCMapString32A: Implemented flags NORM_IGNORENONSPACE and
	NORM_IGNORESYMBOLS in string mapping mode.

	* windows/x11drv/wnd.c: NF Stevens <norman@arcady.u-net.com>
	Create X window for child windows reparented to be top level windows.

	* dlls/shell32/shellpath.c, include/shell.h, relay32/shell32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	Stub for PathQualify32[A|W].

	* graphics/d3dmaterial.c, graphics/ddraw.c:
	Lionel Ulmer <ulmer@directprovider.net>
	Babrian Viktor <v@ulysses.sch.bme.hu>
	- added support for ColorKeying during blits
	- miscellaneous fixes

	* dlls/ntdll/rtl.c, include/ntdll.h, relay32/ntdll.spec:
	Alex Korobka <korobka@galaxy.ams.sunysb.edu>
	Added an implementation of MRSW locks.

	* msdos/int21.c: Ove Kaaven <ovek@arcticnet.no>
	Added missing includes (the PSP handling was incorrect, as the
	MZ_SUPPORTED definition was missing). Added a simple handler for
	direct console input, which needs to be improved.

	* console/tty.c: Ove Kaaven <ovek@arcticnet.no>
	Small fix.

	* scheduler/synchro.c: Juergen Schmied <juergen.schmied@metronet.de>
	List handles WaitForMultipleObjects is waiting for when running with
	-debugmsg +win32.

	* dlls/advapi32/security.c, relay32/advapi32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	Stub for GetSecurityDescriptorControl.

	* relay32/user32.spec, windows/user.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Stub for GetUserObjectSecurity.

	* misc/registry.c: Juergen Schmied <juergen.schmied@metronet.de>
	Implemented handling of REG_MULTI_SZ and fixed small bug in
	RegSetValue.

	* windows/winproc.c: Juergen Schmied <juergen.schmied@metronet.de>
	Every EM_GETLINE send between a 32W to a 32A window returned
	incomplete values before (the first 2 chars where cut away).

	* windows/winpos.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fix typo in SetWindowPos32.

Sat Jan 30 15:55:28 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/builtin32.h, misc/main.c, relay32/builtin32.c:
	Marcus Meissner <marcus@jet.franken.de>
	Enable/disable relay32 debugging on the fly. Start app with
	-debugmsg +relay or warn+relay. Suggested by Juergen Schmied.

	* configure, configure.in, graphics/d3d_private.h, include/acconfig.h, include/config.h.in, include/d3d.h, include/wine_gl.h:
	Lionel Ulmer <ulmer@directprovider.net>
	Added check for the presence of Mesa's header files.

	* multimedia/audio.c, multimedia/dsound.c:
	Andreas Mohr <a.mohr@mailto.de>
	Fixed error messages.

	* misc/commdlg.c: Bernd Herd <herd@herdsoft.com>
	Use proper 16->32 message conversion in FILEDLG_CallWindowProc.

	* windows/x11drv/wnd.c: Bernd Herd <herd@herdsoft.com>
	SetParent should link the window at the start of the list.

	* windows/winpos.c: NF Stevens <norman@arcady.u-net.com>
	In Window SetWindowPos with SWP_HIDEWINDOW does not remove
	the focus from the focus window; ShowWindow with SW_HIDE does.
	So move the code that does this from SetWindowPos to ShowWindow.

	* memory/string.c: Marcus Meissner <marcus@jet.franken.de>
	Check for NULL in lstrcpy* (Windows uses real exception handlers).

	* Makefile.in: James Juran <juran@cse.psu.edu>
	Don't install include files when --disable-lib is used.

	* relay32/winmm.spec:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Added WINMM joy* .spec entries.

	* msdos/xms.c: Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	XMS fix.

	* msdos/dosmem.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Spelling fix.

	* README: Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Doc update.

	* include/miscemu.h, msdos/int10.c, msdos/int21.c, msdos/interrupts.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Some interrupt enhancements.

	* msdos/ioports.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	implemented timer latching
	trace message fix
	temporary "fix" for Linux's coarse timer resolution

	* if1632/compobj.spec, include/objbase.h, include/winerror.h, ole/compobj.c, ole/ole2.c, relay32/ole32.spec:
	Francis Beaudet <francis@macadamian.com>
	Implemented the startup-shutdown mechanism for the COM subsystem.
	Implemented the Class object registration mechanism.

	* programs/clock/.cvsignore, programs/notepad/.cvsignore: Added Fi.s

	* include/wine/obj_storage.h, ole/Makefile.in, ole/stg_bigblockfile.c, ole/stg_stream.c, ole/storage.c, ole/storage32.c, ole/storage32.h, relay32/ole32.spec:
	Francis Beaudet <francis@macadamian.com>
	Added an implementation of the OLE structured storage. The main
	features of this implementation are:
	- Can open storages created in Windows.
	- Can create new storages that the windows libraries can
	  read.
	- Provides all the functionality to create/open/remove and
	  rename streams and storages inside the main storage object.

	* include/miscemu.h, miscemu/main.c, graphics/ddraw.c:
	Ove Kaaven <ovek@arcticnet.no>
	Defined RESTORE_SIGNALS by default and call SIGNAL_EmulatorInit
	through a function pointer instead. Added a few traces. Fixed the
	"Memory corruption !" message in DGA mode. Commented out an
	unnecessary TSXF86VidModeSetViewPort that caused my X server to
	act up, relying on TSXF86DGASetViewPort instead.

	* graphics/psdrv/text.c, msdos/int2f.c, programs/winhelp/hlp2sgml.c, dlls/comctl32/comctl32undoc.c, files/file.c:
	Marcus Meissner <marcus@jet.franken.de>
	Some more warnings and bugs fixed.

	* dlls/comctl32/tab.c, include/tab.h: Alex Priem <alexp@sci.kun.nl>
	Small update.

	* include/commctrl.h, include/treeview.h, dlls/comctl32/treeview.c, dlls/shell32/brsfolder.c:
	Alex Priem <alexp@sci.kun.nl>
	- The usual bugfixes.
	- Better unicode support (only defines, currently)
	- Drag & drop implemented.
	- LPSTR_TEXTCALLBACK should work now.
	- First start at custom draw code.

	* windows/x11drv/event.c: Francis Beaudet <francis@macadamian.com>
	Make sure that the keystate received by the WM_XBUTTONUP and
	WM_XBUTTONDOWN matches the message. In X, the keystate is changed
	after the message is processed.  In Windows, it is changed before.

	* dlls/advapi32/security.c, dlls/advapi32/service.c:
	Matthew Becker <mbecker@glasscity.net>
	Doc updates.

	* win32/file.c: Berend Reitsma <berend at asset-control.com>
	SetFileAttributes32A changed to make file writeable when
	FILE_ATTRIBUTE_READONLY is not set.

	* console/interface.c, console/ncurses.c, include/console.h, msdos/int10.c:
	Joseph Pranevich <jpranevich@lycos.com>
	Preliminary color console support.

	* documentation/languages, programs/clock/ChangeLog, programs/clock/Fi.rc, programs/clock/Makefile.in, programs/clock/main.c, programs/notepad/ChangeLog, programs/notepad/Fi.rc, programs/notepad/Makefile.in, programs/notepad/main.c, resources/sysres_Fi.rc:
	Jukka-Pekka Iivonen <jiivonen@poseidon.cs.hut.fi>
	Updated Finnish language support.

Fri Jan 29 15:12:11 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/vfw.h, include/winerror.h, include/wintypes.h, multimedia/msvideo.c, ole/guid.c, programs/Makefile.in, programs/avitools/.cvsignore, programs/avitools/Makefile.in, programs/avitools/icinfo.c, relay32/msvfw32.spec, configure, configure.in, include/debug.h, include/debugdefs.h, include/oleauto.h:
	Marcus Meissner <marcus@jet.franken.de>
	Updated msvideo. New program 'icinfo [-about] [-configure]' to
	query installed (win32) compressors. Started on AVIFILE support.

Thu Jan 28 17:56:14 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/wine/obj_misc.h, include/wine/obj_moniker.h, include/wine/obj_storage.h, ole/Makefile.in, ole/bindctx.c, ole/filemoniker.c, ole/itemmoniker.c, ole/moniker.c, ole/ole2.c:
	Noomen Hamza <noomen@macadamian.com>
	Added a stub implementation for FileMoniker, ItemMoniker and BindCtx
	classes.

	* debugger/dbg.y, debugger/debug.l:
	NF Stevens <norman@arcady.u-net.com>
	Implemented the symbolfile command (as mentioned by the help
	command). This reads a symbol file in the format generated by nm.

	* multimedia/dplay.c: Peter Hunnisett <hunnise@nortelnetworks.com>
	- Small bug fix.
	- Added direct play ascii interfaces.
	- Fixed up the QueryInterface for dplay and dplaylobby to handle all cases.

	* memory/virtual.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed FILE_VIEW struct initialisation.

	* include/dosexe.h:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Fixed non-i386 compile.

	* graphics/vga.c, msdos/dpmi.c, multimedia/dplay.c, multimedia/mmio.c, dlls/comctl32/animate.c, dlls/comctl32/comboex.c, dlls/comctl32/comctl32undoc.c, dlls/comctl32/hotkey.c, dlls/comctl32/ipaddress.c, dlls/comctl32/listview.c, dlls/comctl32/pager.c, dlls/comctl32/propsheet.c, dlls/comctl32/rebar.c, dlls/comctl32/tab.c, dlls/comctl32/toolbar.c, dlls/comctl32/treeview.c:
	James Juran <jrj120@psu.edu>
	Commented out unused variables to prevent needless compiler warnings.

	* include/ddeml.h, misc/ddeml.c:
	Keith Matthews <keith_m@sweeney.demon.co.uk>
	1st cut implementation of DdeInitialize32W and supporting code.

	* dlls/advapi32/advapi.c, dlls/advapi32/eventlog.c, dlls/advapi32/security.c, dlls/advapi32/service.c:
	Matthew Becker <mbecker@glasscity.net>
	Documentation standardizations.

	* include/queue.h, windows/hook.c, windows/message.c, windows/queue.c, windows/win.c, windows/winpos.c:
	Stephane Lussier <stephane@macadamian.com>
	- Made the message queue access to be thread safe. (Using two new
	  functions to access the message queue, QUEUE_Lock(), QUEUE_Unlock()
	  instead of GlobalLock16()).
	- Fixed QUEUE_DumpQueue (used by "info queue <handle>" with the
	  wine-debugger).

	* multimedia/dsound.c, multimedia/mmsystem.c, objects/text.c, windows/dialog.c, windows/dinput.c, windows/mdi.c, windows/msgbox.c, windows/win.c, windows/winproc.c, dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, graphics/d3dmaterial.c, graphics/metafiledrv/init.c, if1632/relay.c, include/wincon.h, loader/resource.c, misc/imm.c, misc/lzexpand.c, msdos/int21.c, dlls/comctl32/propsheet.c, dlls/ntdll/rtl.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed a lot of warnings for possible problems.

	* misc/comm.c: Herbert Rosmanith <herp@wildsau.idv.uni-linz.ac.at>
	Fixed typo.

	* tools/bug_report.pl: Adam the Jazz Guy <magicbox@bestweb.net>
	Fixed various bugs.
	Made newbie mode easier.

	* objects/cursoricon.c, dlls/comctl32/imagelist.c, if1632/user.spec, include/wine/winuser16.h, include/winuser.h:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed GetIconInfo16 (.spec,ICONINFO struct is different for Win16/Win32).

	* console/ncurses.c: Marcus Meissner <marcus@jet.franken.de>
	Switch ncurses.h/curses.h include (works better for FreeBSD).

	* windows/driver.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed loading of win32 drivers.

Tue Jan 26 17:29:49 1999  Alexandre Julliard  <julliard@winehq.com>

	* files/profile.c: Don't abort PROFILE_GetSection on empty keys.

	* dlls/msacm32/internal.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Temporary #if 0'ed part for builtin modules in MSACM to make it
	compile with the patch for loadable drivers.

	* include/driver.h, relay32/winmm.spec, windows/driver.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added support for loading drivers in Wine.

	* tools/bug_report.pl: Adam the Jazz Guy <magicbox@bestweb.net>
	A perl script to produce a bug report with little hassle.

	* graphics/dispdib.c: Ove Kaaven <ovek@arcticnet.no>
	Added (dummy) Death/Resurrection calls to DisplayDib.

	* misc/lzexpand.c: Marcus Meissner <marcus@jet.franken.de>
	Allocate a DOS handle if we open a normal file with LZOpenFile16.

	* graphics/ddraw.c, include/ddraw.h:
	Lionel Ulmer <ulmer@directprovider.net>
	- added depth conversion routines (only 8bpp -> 16 bpp for now)
	- added support of DEPTH_FILL for Blits
	- added some flags in GetCaps to get some games working

	* if1632/user.spec, include/wine/winuser16.h, include/winuser.h, objects/cursoricon.c, relay32/user32.spec, dlls/comctl32/imagelist.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Implemented GetIconInfo16 -> call to GetIconInfo32.

	* scheduler/client.c: Commented out EXEC_SERVER

	* dlls/comctl32/draglist.c: Marcus Meissner <marcus@jet.franken.de>
	3 missing WINAPI added.

	* dlls/shell32/enumidlist.c, dlls/shell32/iconcache.c, dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, dlls/shell32/shellord.c, dlls/shell32/shlfolder.c, dlls/shell32/shres.rc:
	Juergen Schmied <juergen.schmied@metronet.de>
	Small fixes.

	* dlls/comctl32/treeview.c, include/commctrl.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Changed some treeview related definitions.

	* dlls/shell32/Makefile.in, dlls/shell32/brsfolder.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Implemented SHBrowseForFolder() dialog.

	* debugger/msc.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed typo in type (removed quite a few warnings).

	* dlls/advapi32/security.c, relay32/advapi32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Added GetSecurityDescriptorOwner/Group, RevertToSelf stubs.
	Return NULL from OpenThreadToken.

	* win32/console.c: Marcus Meissner <marcus@jet.franken.de>
	Do not endlessly loop in CONSOLE_get_input after EOF.
	Create xterm even if stdin is not a terminalhandle.
	SetConsoleCursorPosition: Only make complex console on row change,
	ignore interline positioning (so the cygwin cmdline tools do not
	create xterms unnecessary)

	* misc/printdrv.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Make sure DrvGetPrinterData returns the correct data if cbData <= 1

	* include/queue.h, windows/message.c, windows/queue.c, windows/win.c:
	Stephane Lussier <stephane@macadamian.com>
	- Changing MESSAGEQUEUE structure according to Ulrich proposition.
	- One message queue for every thread needing it.
	- Messages in the message queue are now stored in a linked list
	- Messages are allocated in the system heap.
	- Messages in the message queue are 32 bits (MSG32).
	- All read/write operations regarding messages in the message queue are
	  thread safe.

Sun Jan 24 19:14:58 1999  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/commctrl.c, dlls/comctl32/flatsb.c, dlls/comctl32/imagelist.c, dlls/comctl32/listview.c, dlls/comctl32/propsheet.c, dlls/comctl32/status.c, include/flatsb.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed several bugs and typos.

	* documentation/common_controls: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Updates and fixes.

	* dlls/comctl32/Makefile.in, dlls/comctl32/draglist.c, include/commctrl.h, relay32/comctl32.spec:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	New drag list control.

	* dlls/comctl32/comctl32undoc.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed pointer bugs in DPA_InsertPtr() and DPA_DeletePtr().

	* dlls/comctl32/progress.c, include/progress.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added WM_[G/S]ETFONT handling.

	* dlls/comctl32/pager.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added WM_COMMAND and WM_NOTIFY handling.

	* dlls/comctl32/tooltips.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed redraw bug for tracking tooltips.

	* dlls/comctl32/rebar.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added some messages to the rebar control.

	* multimedia/mcicda.c: Geoff Clare <gwc@root.co.uk>
	Several internal functions won't compile when the conditional
	#if defined(linux) || defined(__FreeBSD__) || defined(__NetBSD__)
	comes out false.  I moved the conditionals around so that
	the file would at least compile.  Not sure if it does the
	right thing on non-linux/FreeBSD/NetBSD systems.

	* misc/toolhelp.c: Geoff Clare <gwc@root.co.uk>
	Moved process.h higher up the include list, to avoid a problem with
	"ERR" being redefined in sys/regset.h.

	* misc/comm.c: Geoff Clare <gwc@root.co.uk>
	The B57600 and B115200 symbols are not defined in Unixware.

	* controls/listbox.c: NF Stevens <norman@arcady.u-net.com>
	Change SW_??? options on list box scrolling so that they match what
	Windows does.

	* loader/dos/dosvm.c: Ove Kaaven <ovek@arcticnet.no>
	Moved DOS handle allocation slightly, to fix potential memory
	leaks and lost handles. Also removed some useless init code.

	* graphics/psdrv/afm.c, graphics/psdrv/text.c, if1632/dummy.c, if1632/gdi.spec, misc/printdrv.c:
	Nick Holloway <Nick.Holloway@alfie.demon.co.uk>
	Internal PostScript printer driver improvements.

	* controls/edit.c: Gerard Patel <G.Patel@wanadoo.fr>
	Changed EDIT_EM_CharFromPos to return line number.

	* windows/x11drv/wnd.c: Marcus Meissner <marcus@jet.franken.de>
	Free the private data pointer, THEN set it to NULL.

	* windows/message.c: Marcus Meissner <marcus@jet.franken.de>
	Missing WINAPI.

	* include/oleauto.h, include/winerror.h, ole/Makefile.in, ole/safearray.c, relay32/oleaut32.spec:
	Sylvain St.Germain <sylvain@macadamian.com>
	Implementation of the SafeArray family functions.

	* include/windows.h, relay32/kernel32.spec, scheduler/thread.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Added stub for SetThreadLocale.

	* objects/text.c: Guy Albertelli <galberte@neo.lrun.com>
	Finished GetTextCharsetInfo routine.

	* ole/nls/enu.nls, ole/ole2nls.c:
	Guy Albertelli <galberte@neo.lrun.com>
	Fixed FIXME in EnumTimeFormats32W
	Added support for FONTSIGNATURE in GetLocaleInfo32A and updated
	GetLocaleInfo32W.

	* documentation/internal-dll, documentation/shell32, documentation/wine.man:
	Pascal Cuoq <Pascal.Cuoq@inria.fr>
	Fixed typos.

	* debugger/msc.c: Sergey Turchanov <turchanov@usa.net>
	Fixed source line matching for functions in DEBUG_ProcessCoffDebug;
	searching for DBG and PDB files.

	* debugger/hash.c: Sergey Turchanov <turchanov@usa.net>
	Fix for files which do not contain exports (fg, EXE) to get processed
	for debug information.

	* if1632/kernel.spec, if1632/relay.c, if1632/thunk.c, tools/build.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented KERNEL.621 (CBClientThunkSLEx).

	* debugger/dbg.y, debugger/debug.l, debugger/info.c, include/main.h, misc/main.c:
	Marcus Meissner <marcus@jet.franken.de>
	Allow switching off/on of debugmsgs in the debugger.

	* loader/main.c, miscemu/instr.c, msdos/dosmem.c, msdos/int15.c, include/miscemu.h:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Implemented Int 0x15/0xc0: BIOS - GET CONFIG and some other BIOS
	data.

Sat Jan 23 14:15:17 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/painting.c, if1632/user.spec, include/wine/winuser16.h, loader/pe_image.c, misc/lstr.c, windows/hook.c, windows/message.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Implemented WIN16_CallMsgFilter32, WIN16_DispatchMessage32,
	DrawAnimatedRects16 (stub), FormatMessage16, WIN16_GetMessage32,
	WIN16_PeekMessage32 and WIN16_TranslateMessage32.

	* dlls/shell32/Makefile.in, dlls/shell32/classes.c, dlls/shell32/contmenu.c, dlls/shell32/dataobject.c, dlls/shell32/enumidlist.c, dlls/shell32/folders.c, dlls/shell32/iconcache.c, dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, dlls/shell32/shellguid.c, dlls/shell32/shelllink.c, dlls/shell32/shellole.c, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, include/interfaces.h, include/shlguid.h, include/shlobj.h, include/windows.h, misc/shell.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	- some fixes, cleaned up includes, fixed leaks
	- clean DllReferenceCount, better DllMain()
	- dynamically linking LookupIconIdFromDirectoryEx32 and
	  CreateIconFromResourceEx32 to USER32
	- moved guid's instances to new file shellguid.c
	- implemented  ShellExecuteEx32W

	* ole/Makefile.in, ole/compobj.c, ole/guid.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Moved the instance creation of GUID's to a new file.
	Size of compobj.o goes down to 1/3; should prevent more sig11's.

	* include/initguid.h: Juergen Schmied <juergen.schmied@metronet.de>
	New file to instantiate GUID's ms-like.

	* windows/x11drv/wnd.c: Marcus Meissner <marcus@jet.franken.de>
	Set private data struct to NULL to expose problems in other code
	better. Fixes the XUnmapWindow problems reported by replacing them
	with NULL ptr dereferences.

	* documentation/debug-msgs, documentation/debugging, documentation/internal-dll, documentation/ioport-trace-hints, documentation/wine_os2:
	Zygo Blaxell <uj22kfbc@umail.furryterror.org>
	Fixed typos.

	* files/file.c, include/file.h, loader/dos/dosvm.c:
	Marcus Meissner <marcus@jet.franken.de>
	DOS programs use handles 0-4 without opening/closing any of those
	handles first. Split up Init from AllocDosHandle and call it from
	the DOSVM.

	* Makefile.in: Marcus Meissner <marcus@jet.franken.de>
	Remove configure.in->configure rule (we might not have autoconf).

	* configure, configure.in: Ove Kaaven <ovek@arcticnet.no>
	Added "user-friendly" warning for missing X.

	* include/ole.h: Fixed GetObject macro problem.

	* documentation/status/direct3D:
	Lionel Ulmer <ulmer@directprovider.net>
	- updated documentation to be in sync with current code

	* graphics/d3dmaterial.c, graphics/d3dviewport.c:
	Lionel Ulmer <ulmer@directprovider.net>
	- various warning and bug fixes

	* graphics/d3ddevices.c, graphics/d3dtexture.c:
	Lionel Ulmer <ulmer@directprovider.net>
	- added more texture formats using OpenGL's packed pixel formats

	* graphics/d3dexecutebuffer.c, include/d3d.h:
	Lionel Ulmer <ulmer@directprovider.net>
	- better support for ExecuteBuffers

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	- corrected bug in Z Buffer allocation
	- put VIDEOMEMORY flag for all primary surfaces
	- put something in a surface after a ReleaseDC

	* misc/printdrv.c: Morten Welinder <terra@diku.dk>
	Missing WINAPI.

	* controls/static.c: Niclas Karlsson <nkarlsso@ra.abo.fi>
	Removed DT_SINGLELINE and DT_NOCLIP styles for SS_LEFTNOWORDWRAP.

	* objects/enhmetafile.c: Marcus Meissner <marcus@jet.franken.de>
	Check opened enhmetafile for magic values.

	* include/dsound.h, multimedia/dsound.c: Rob Riggs <rriggs@tesser.com>
	Fixed duplicate sound buffer handling. Updated status.

	* misc/registry.c: Juergen Schmied <juergen.schmied@metronet.de>
	New functions  lmemcpynAtoW and  lmemcpynWtoA for converting
	REG_MULTI_SZ (including \0x00)
	Better debug output for REG_BINARY and REG_MULTI_SZ
	Rewritten RegQueryValueEx32[A|W]

	* objects/palette.c: Juergen Schmied <juergen.schmied@metronet.de>
	Implemented CreateHalftonePalette.
	Fixed 3 crashes (1 real, 2 potential).

	* dlls/shell32/iconcache.c, if1632/shell.spec, include/shell.h, misc/shell.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented ExtractIconEx16, added some consts to ExtractIconEx*.

	* ole/ole2.c, ole/olecli.c, relay32/ole32.spec, include/winerror.h:
	Sylvain St.Germain <sylvain@macadamian.com>
	DoDragDrop and OleIsCurrentClipboard stub implementation.

	* ole/typelib.c: Francis Beaudet <francis@macadamian.com>
	Make LoadTypeLib stub return failure instead of success.

Fri Jan 22 17:09:46 1999  Alexandre Julliard  <julliard@winehq.com>

	* documentation/accelerators, include/winuser.h, loader/resource.c, windows/input.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed accelerator handling. ACCEL16 used internal, ACCEL32 for Win32
	API, PE_ACCEL for PE Accelerators. See documentation/accelerators.

Thu Jan 21 14:05:11 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/ddeml.h, misc/ddeml.c, relay32/user32.spec:
	Francis Beaudet <francis@macadamian.com>
	There were two copies of the DdeCmpStringHandles (A and W) and that
	API does not have 2 versions. Removed the extra version.

Wed Jan 20 14:54:01 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/x11drv/xfont.c: Pablo Saratxaga <pablo.sarachaga@ping.be>
	Small patch.

	* win32/console.c: Marcus Meissner <marcus@jet.franken.de>
	Win32 console needs SYNCHRONIZE access.

	* configure, configure.in, console/ncurses.c, debugger/stabs.c, include/config.h.in, include/console.h, misc/port.c:
	Marcus Meissner <marcus@jet.franken.de>
	autoconf: added checks for libio.h, elf.h, curses.h,ncurses.h and
	fixed includers.

	* ole/ole2nls.c: Marcus Meissner <marcus@jet.franken.de>
	LCMapStringA: if dstlen is insufficient, return
	ERROR_INSUFFICIENT_BUFFER (verified).

	* objects/enhmetafile.c, relay32/gdi32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Some small fixes to enhmetafiles.

	* controls/listbox.c: Marcus Meissner <marcus@jet.franken.de>
	Do not call ownerdraw for invalid items (empty focusrects).
	Fixes Eudora 16bit empty Inbox problem.

	* windows/nonclient.c: Noomen Hamza <noomen@macadamian.com>
	Fixed the NC_DrawMaxButton95 and NC_DrawMinButton95 functions. Rewrote
	these functions with the same logic as the NC_DrawCloseButton function.

	* windows/win.c: Noel Borthwick <noel@macadamian.com>
	Reparenting a window with SetParent in Windows should cause the child
	window being re-parented to be moved up to the topmost in the z-order,
	and WM_WINDOWPOSCHANGING and WM_WINDOWPOSCHANGED messages to be sent.

	* relay32/builtin32.c: Robert Riggs <rriggs@tesser.com>
	Use external DirectPlay DLLs by default.

	* loader/task.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Allow passing task handles to GetThreadQueue() and SetFastQueue().

	* windows/user.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Handle (console) applications that never created a queue correctly
	in USER_AppExit(); call InitThreadInput() in InitApp().

	* windows/hook.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	- Fixed creation of message queue in hook API routines.
	- Some preparations for thread-local message queues.

	* loader/ne/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Check module name length in ModuleNext().

	* windows/x11drv/event.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Use Callout to call RedrawWindow32.

	* msdos/int21.c: Ove Kaaven <ovek@arcticnet.no>
	Clear DOS extended error only for funcs >=0x2f (thanks to Dave
	Pickles).

	* graphics/ddraw.c: Marcus Meissner <marcus@jet.franken.de>
	Unified palette create, do allocate colorcells on init for DGA.

Tue Jan 19 17:48:25 1999  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/synchro.c, scheduler/thread.c, server/console.c, server/file.c, server/process.c, server/request.c, server/thread.c, server/trace.c, win32/console.c, win32/device.c, win32/process.c, include/file.h, include/process.h, include/server.h, include/server/object.h, include/server/request.h, include/server/thread.h, include/thread.h, include/winbase.h, include/windows.h, include/wintypes.h, memory/virtual.c, msdos/int21.c, msdos/vxd.c, relay32/kernel32.spec, scheduler/client.c, scheduler/handle.c, scheduler/k32obj.c, scheduler/process.c, files/change.c, files/dos_fs.c, files/file.c, include/device.h:
	Hacked server-side device support
	Added user APCs support.
	Many changes to the xterm console to make use of the server (not
	finished yet).
	Moved some other small stuff to the server.

	* tools/make_requests: Added long type format.

	* server/Makefile.in, server/device.c:
	Added server-side device support (only a hack for now).

Sun Jan 17 17:48:48 1999  Alexandre Julliard  <julliard@winehq.com>

	* ChangeLog:
	Recovered log entries from CVS mailing list.

	* relay32/ntdll.spec, dlls/ntdll/rtl.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented _alloca_probe and _chkstk (mostly done by Ulrich Weigand).

	* files/file.c
	Marcus Meissner <marcus@jet.franken.de>
	Handle ERROR_WRITE_PROTECT too in readonly fallback open.

	* dlls/advapi32/security.c, relay32/advapi32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Added GetSecurityDescriptorLength stub for regedt32.exe.

	* debugger/Makefile.in, files/Makefile.in:
	Marcus Meissner <marcus@jet.franken.de>
	Add "" around -D defines for paths with spaces in them.

	* graphics/d3dtexture.c, graphics/ddraw.c, include/ddraw.h:
	Lionel Ulmer <ulmer@directprovider.net>
	Cleaned up ColorKey handling.

	* objects/metafile.c:
	Paul Quinn <paulq@COREL.CA>
	METARECORD member rdParam should be rdParm (in win32 sdk)
	lots of changes in this source file to reflect this change.

	* graphics/escape.c, graphics/painting.c, graphics/metafiledrv/init.c, include/commctrl.h, include/commdlg.h, include/gdi.h, include/tchar.h, include/windows.h, include/wingdi.h, include/wintypes.h, include/winuser.h, misc/spooler.c, objects/gdiobj.c,
	relay32/gdi32.spec:
	Paul Quinn <paulq@COREL.CA>
	Fixed bad defines, added a few types 'n defines.

	* windows/dinput.c:
	Marcus Meissner <marcus@jet.franken.de>
	Disable broken callbacks which lead to crashes.

	* multimedia/mcistring.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed ID usage (and rely less heavily on multimedia/mmsystem.c
	internal structures).

	* misc/toolhelp.c:
	Marcus Meissner <marcus@jet.franken.de>
	debug.h needs to be included last since it #undefs ERR for Solaris.

	* debugger/debug.l, debugger/memory.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added /u format to debugger display for UNICODE strings.

	* loader/pe_image.c:
	Marcus Meissner <marcus@jet.franken.de>
	Remove irritating FIXME line no longer needed.

	* msdos/int2f.c:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added missing '\n' in FIXME message.

	* graphics/ddraw.c:
	Robert Riggs <rriggs@tesser.com>
	objbase.h needed for WINE_StringFromCLSID(), fix C function
	declarations, install a colormap if we are not managed, release
	backbuffers in DGA mode, fix video mode switching logic to avoid
	possible NULL pointer dereference.

	* msdos/dpmi.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Small fix.

	* files/file.c, include/file.h, include/process.h, loader/resource.c, loader/dos/module.c, loader/ne/segment.c, misc/lzexpand.c, msdos/int21.c vxd.c, multimedia/mmio.c, win32/kernel32.c:
	Better DOS file handle management.

	* documentation/common_controls:
	Francis Beaudet <francis@macadamian.com>
	This should help prevent duplicate work.

	* if1632/gdi.spec, include/wingdi.h, objects/dc.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Implemented Death() and Resurrection(), two functions needed by some
	TPWin (?) command line tool.

	* windows/winproc.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Added 32->16 translation for WM_ACTIVATEAPP.

	* dlls/shell32/pidl.c, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shlfolder.c, relay32/shell32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	New stubs: ShellMessageBoxW, RunDLL_CallEntry16.
	Implementation for SHGetSpecialFolderPath32[A|W].
	Many bugfixes.

	* console/xterm.c, misc/port.c, win32/console.c:
	Joseph Pranevich <jpranevich@lycos.com>
	Change all Wine openpty() implementations to match the "standard" and
	then make them both call the same code leaving the option to change
	that code to call the "standard" openpty() at a later date.

	* relay32/kernel32.spec, scheduler/process.c:
	Marcus Meissner <marcus@jet.franken.de>
	Added SetProcessAffinityMask stub.

	* graphics/ddraw.c, include/ddraw.h:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed the other union misuse too (one less mem corruption)
	Re-added XInstallColormap (or non managed does not change palette)

	* if1632/kernel.spec, scheduler/synchro.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added an implementation for KERNEL.495.

	* documentation/status, documentation/direct3D, graphics/d3d_private.h, graphics/d3dcommon.c, graphics/d3ddevices.c, graphics/d3dexecutebuffer.c, graphics/d3dtexture.c, graphics/d3dviewport.c, graphics/ddraw.c, include/d3d.h, include/ddraw.h:
	Lionel Ulmer <ulmer@directprovider.net>
	- added bitmask to store which ColorKey structures are valid
	- handle many new rendering states, some optimizations in state changes
	- 8bit palettized textures now support ColorKeying
	- some miscellaneous bug fixes and code rewrite

	* controls/menu.c:
	Noomen Hamza <noomen@macadamian.com>
	Fixed the look of the menu so it would be compliant with Win95: modified
	the mouse tracking code so it would change the selection every time the
	mouse moved over a menu item.

	* documentation/how-to-port:
	Mike Castle <dalgoda@shell.rt66.com>
	Small fix.

	* dlls/comctl32/updown.c:
	Noel Borthwick <noel@macadamian.com>
	Fixed bugs:
	- When an edit control buddy was used single digit values were not
	being displayed.
	- Comma values were not displayed correctly when thousands separation
	was requested.

	* win32/newfns.c:
	Tom Bech <tomb@ii.uib.no>
	While the debug event messages are not implemented, WaitForDebugEvent
	should return FALSE.

	* if1632/user.spec, objects/bitmap.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Implemented CopyImage16.

	* documentation/bugreports
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Small fix.

	* console/generic.c, msdos/int21.c:
	Marcus Meissner <marcus@jet.franken.de>
	Changed 0x01 to use generic console, fixed 0x0b.
	Fixed CONSOLE_GetCharacter (two args swapped).

	* include/module.h, loader/main.c, loader/module.c, loader/dos/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Allow specifying module name for NE dummy module.

	* loader/pe_image.c
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Set module name of dummy module equal to module name of PE module.

	* controls/scroll.c, controls/uitools.c:
	Marcus Meissner <marcus@jet.franken.de>
	Missing include wine/winuser16.h added.

	* graphics/vga.c:
	Marcus Meissner <marcus@jet.franken.de>
	Create an actual primary surface for screenbuffer.

----------------------------------------------------------------
Sun Jan 10 14:40:34 1999  Alexandre Julliard  <julliard@winehq.com>

	* include/miscemu.h, include/msdos.h, loader/main.c, msdos/Makefile.in, msdos/dosconf.c, msdos/int21.c:
	Andreas Mohr <a.mohr@mailto.de>
	Added config.sys parser.

	* controls/listbox.c: Pascal Cuoq <Pascal.Cuoq@inria.fr>
	Small change in LB_SETCURSEL32 handling (the caret should be moved as
	well).

	* configure, configure.in, files/async.c, include/config.h.in, misc/winsock_dns.c, msdos/int21.c, ole/compobj.c:
	Marcus Meissner <marcus@jet.franken.de>
	Use autoconf check for presence of sys/file.h.

	* dlls/ntdll/rtl.c, relay32/ntdll.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented DbgPrint, added ultoa.

	* win32/console.c: Peter Hunnisett <hunnise@nortelnetworks.com>
	PeekConsoleInput & ReadConsoleInput need to return 0 records read in
	the case of an invalid handle.

	* console/ncurses.c, loader/main.c:
	Joseph Pranevich <jpranevich@lycos.com>
	More verbose debugging output.
	Remove compilation warning.

	* msdos/int10.c: Joseph Pranevich <jpranevich@lycos.com>
	Fix up some interrupt calls to return at the data that they are supposed
	to. Also increase comment verbosity to help debug things later.

	* include/options.h, misc/main.c, misc/version.c:
	Andreas Mohr <a.mohr@mailto.de>
	Added switch -dosver.
	Cleanup for OaBuildVersion().

	* libtest/.cvsignore: Added vartest and volinfo

	* dlls/shell32/contmenu.c, dlls/shell32/pidl.c, dlls/shell32/pidl.h, dlls/shell32/shelllink.c, dlls/shell32/shellord.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, include/shell.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Many bugfixes, code cleanup.
	Removed a few glitches from the COM patch.

	* windows/dialog.c: Lawson Whitney <lawson_whitney@juno.com>
	Only destroy window once.

	* graphics/ddraw.c, include/ddraw.h:
	Marcus Meissner <marcus@jet.franken.de>
	- moved drawable to common since it is used by both DGA and Xlib.
	  (fixes one bad memory corruption bug in DGA (StarCraft and Diablo)
	- added BltFast sanity checks.

	* windows/queue.c, loader/task.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	InitApp() call removed from 32-bit application startup;
	create task message queue in InitThreadInput() instead.

	* loader/ne/convert.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added accelerator table PE->NE resource conversion.

	* debugger/editline.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Restart read() in case of EINTR in TTYget().

	* dlls/shell32/shellole.c: Marcus Meissner <marcus@jet.franken.de>
	Ptr ref wrong.

	* tools/wrc/CHANGES, tools/wrc/dumpres.c, tools/wrc/genres.c, tools/wrc/newstruc.c, tools/wrc/newstruc.h, tools/wrc/parser.l, tools/wrc/parser.y, tools/wrc/readres.c, tools/wrc/utils.c, tools/wrc/utils.h, tools/wrc/wrc.h, tools/wrc/wrctypes.h, tools/wrc/writeres.c:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	Wrc version 1.0.8. Toolbar resources are now supported. A couple of
	other fixes are also included. See file tools/wrc/CHANGES for details.

	* ole/compobj.c: Marcus Meissner <marcus@jet.franken.de>
	Missing WINAPI.

	* include/x11drv.h, loader/dos/module.c, objects/dc.c, relay32/builtin32.c, relay32/relay386.c, scheduler/k32obj.c, files/async.c, if1632/relay.c, include/main.h, include/multimedia.h, include/windows.h:
	James Juran <jrj120@psu.edu>
	Add missing #includes and prototypes to eliminate some implicit
	function declaration warnings and 'extern's in .c files.

	* configure, configure.in, console/ncurses.c, include/acconfig.h, include/config.h.in:
	Ove Kaaven <ovek@arcticnet.no>
	Check for resizeterm in ncurses.

	* libtest/Makefile.in, libtest/vartest-Win32.log, libtest/vartest.c, libtest/vartest.readme:
	Francis Beaudet <francis@macadamian.com>
	New test program for VARIANT functions.

	* debugger/msc.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Some debug information (PDB) was not mapped when loading a module,
	which caused a core in the debugger when it tried to access it.

	* Makefile.in: Ove Kaaven <ovek@arcticnet.no>
	Links libwine.so.1.0 to libwine.so in Wine's main directory.
	Makes Wine compile with --enable-dll again.

Sat Jan  9 09:12:40 1999  Alexandre Julliard  <julliard@winehq.com>

	* relay32/ole32.spec, windows/dinput.c, include/storage.h, include/unknwn.h, include/windows.h, include/wine/obj_base.h, include/wine/obj_channel.h, include/wine/obj_clientserver.h, include/wine/obj_dataobject.h, include/wine/obj_marshal.h, include/wine/obj_misc.h, include/wine/obj_moniker.h, include/wine/obj_propertystorage.h, include/wine/obj_storage.h, include/winerror.h, include/wtypes.h, misc/shell.c, multimedia/dplay.c, multimedia/dsound.c, objects/font.c, ole/compobj.c, ole/ifs.c, ole/moniker.c, ole/ole2.c, ole/ole2disp.c, ole/oledlg.c, ole/oleobj.c, ole/storage.c, ole/typelib.c, dlls/shell32/dataobject.c, dlls/shell32/enumidlist.c, dlls/shell32/folders.c, dlls/shell32/pidl.c, dlls/shell32/shell32_main.c, dlls/shell32/shelllink.c, dlls/shell32/shellole.c, dlls/shell32/shellord.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, graphics/ddraw.c, graphics/vga.c, if1632/compobj.spec, include/compobj.h, include/ddraw.h, include/dinput.h, include/dplay.h, include/dsound.h, include/interfaces.h, include/objbase.h, include/objidl.h, include/ole.h, include/ole2.h, include/oleobj.h, include/servprov.h, include/shell.h, include/shlguid.h, include/shlobj.h, dlls/comctl32/imagelist.c, dlls/shell32/contmenu.c:
	Francois Gouget <fgouget@multimania.com>
	Added a lot of COM interfaces definitions.
	Restructured COM header files for better compatibility and clarity.

Fri Jan  8 16:37:03 1999  Alexandre Julliard  <julliard@winehq.com>

	* files/file.c: Set GENERIC_READ|GENERIC_WRITE access for OF_CREATE.
	Make GetFileType work for all handle types.

	* win32/device.c: Avoid crash on NULL dev->info.

	* include/flatsb.h, relay32/comctl32.spec, dlls/comctl32/Makefile.in, dlls/comctl32/commctrl.c, dlls/comctl32/flatsb.c, include/commctrl.h:
	Alex Priem <alexp@sci.kun.nl>
	Added stubs and defines for the flat scrollbar common control.

	* include/commctrl.h, dlls/comctl32/datetime.c:
	Alex Priem <alexp@sci.kun.nl>
	Added some defines needed for custom draw'ing and datetime common
	controls.

	* dlls/shell32/iconcache.c: Eddie Carpenter <ecarpenter@itex.co.za>
	Fixed a small bug in function ExtractIconEx32A.

	* windows/winproc.c: Juergen Schmied <juergen.schmied@metronet.de>
	HTASK16 -> threadID mapping of WM_ACTIVATEAPP.

	* files/file.c: Bertho Stultiens <bertho@panter.soci.aau.dk>
	Make DeleteFile fail for empty path.

	* msdos/ioports.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fix dummy_ctr stuff to work even without DIRECT_IO_ACCESS.

	* loader/ne/segment.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed wrong buffer which caused fixups to fail.

	* graphics/d3dcommon.c, graphics/d3ddevices.c, graphics/d3dtexture.c, include/d3d.h:
	Lionel Ulmer <ulmer@directprovider.net>
	- added all the Direct3D error codes
	- added 8bit palettized texture support

	* msdos/cdrom.c: Marcus Meissner <marcus@jet.franken.de>
	ifdefs for defines not in linux 2.0.

	* relay32/winspool.spec, misc/printdrv.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added two stubs for AddPrinterDriver.

	* include/dosexe.h, loader/dos/dosmod.c, loader/dos/dosmod.h, loader/dos/dosvm.c:
	Ove Kaaven <ovek@arcticnet.no>
	Queue SIGALRM to reduce the "signal 14 lost" complaints.
	Added support for reprogramming the DOS timer, and reading back the
	current value.

	* misc/registry.c: Marcus Meissner <marcus@jet.franken.de>
	Wine hangs when registry (corrupted) has lone \ at end of file.

	* dlls/shell32/shell32_main.h, dlls/shell32/shell32_main.c:
	Kostya Ivanov <kostya@warmcat.excom.spb.su>
	Small patch that enables Clarion for Windows not to trap while
	loading.

	* ole/variant.c: Marcus Meissner <marcus@jet.franken.de>
	Replace troublesome assignments by memset for whole struct.

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	Added handling of the 'palent' field of the CreatePalette procedure.

	* documentation/wine.man:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added description about including/excluding functions from relay
	trace.

	* win32/console.c: Marcus Meissner <marcus@jet.franken.de>
	Read at least 1 input record in ReadConsoleInputA.

	* memory/virtual.c:
	Fixed CreateMapping when a mapping with the same name already exists.

Wed Jan  6 10:37:29 1999  Alexandre Julliard  <julliard@winehq.com>

	* server/file.c: Fixed file destruction when file has no name.

Tue Jan  5 18:38:59 1999  Alexandre Julliard  <julliard@winehq.com>

	* misc/main.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Warns user if multiple -dll switches are used on command line.

	* dlls/comctl32/trackbar.c: Alex Priem <alexp@sci.kun.nl>
	Fixed a leftover HeapFree in the trackbar common control.

	* include/commctrl.h, include/debug.h, include/debugdefs.h, include/tab.h, dlls/comctl32/tab.c:
	Alex Priem <alexp@sci.kun.nl>
	Fixed some problems with the tab common control (with thanks to Anders
	Carlsson <anders.carlsson@linux.nu>).

	* dlls/comctl32/commctrl.c, dlls/comctl32/propsheet.c, include/commctrl.h, include/propsheet.h, relay32/comctl32.spec:
	Alex Priem <alexp@sci.kun.nl>
	Added a missing PropertySheet32AW and CreatePropertySheetPage stub,
	and some missing defines.

	* misc/main.c, scheduler/syslevel.c, graphics/vga.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Use MakeCriticalSectionGlobal on all critical sections used across
	process boundaries.

	* include/winbase.h, include/windows.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added prototypes for MakeCriticalSectionGlobal, ConvertToGlobalHandle.

	* documentation/wine.man:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added environment variables in the man page.

	* loader/dos/module.c: Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>
	Fixed args of MZ_CreateProcess.

	* programs/clock/language.c, programs/notepad/language.c, programs/progman/main.c:
	Andreas Mohr <a.mohr@mailto.de>
	Fixed string bug in programs/.

	* msdos/ioports.c: Andreas Mohr <a.mohr@mailto.de>
	Added stupid "action" emulation for hardware timers in ioports.c.

	* dlls/winaspi/winaspi16.c: Andreas Mohr <a.mohr@mailto.de>
	Again a small DOSASPI patch.

	* documentation/bugreports, documentation/fonts, windows/sysmetrics.c, windows/win.c, windows/winpos.c:
	Andreas Mohr <a.mohr@mailto.de>
	Documentation updates.

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	- check if palette is not null when setting a palette
	- check if window handle is valid before getting its 'drawable'

	* graphics/x11drv/xfont.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Prevent core dump with some TTF (when X11 runs with a true type
	server).

	* server/console.c: Marcus Meissner <marcus@jet.franken.de>
	Use stdout for default console output.

----------------------------------------------------------------
Sun Jan  3 17:00:20 1999  Alexandre Julliard  <julliard@winehq.com>

	* graphics/d3dexecutebuffer.c, graphics/d3dlight.c, graphics/d3dmaterial.c, graphics/d3dtexture.c, graphics/d3dviewport.c, graphics/ddraw.c, include/acconfig.h, include/config.h.in, include/d3d.h, include/wine_gl.h, multimedia/dsound.c, configure, configure.in, documentation/status/direct3D, documentation/status/directdraw, graphics/Makefile.in, graphics/d3d_private.h, graphics/d3dcommon.c, graphics/d3ddevices.c:
	Lionel Ulmer <ulmer@directprovider.net>
	- beginning of implementation of Direct3D2 (DX 5.0) and associated classes
	- some basic code for Direct3D and Direct3DExecuteBuffer (DX 3.0)
	- added stretching to Blt function

	* misc/version.c: Marcus Meissner <marcus@jet.franken.de>
	Try to autodetect NT4.

	* win32/console.c: Marcus Meissner <marcus@jet.franken.de>
	0 means success, all else failure for WaitForSingleObject.

	* msdos/int10.c: Joseph Pranevich <jpranevich@lycos.com>
	Do not advance the cursor in certain routines. This cleaned up the
	implementation quite a bit.

	* loader/main.c: Joseph Pranevich <jpranevich@lycos.com>
	Set console video mode when loading DOS app. (Eventually, I want to
	mimic Windows 9x's behavior by setting the video mode only when non
	INT 21 calls are used to allow for arbitrary-sized consoles).

	* console/interface.c, console/xterm.c:
	Joseph Pranevich <jpranevich@lycos.com>
	Xterm driver can now resize the terminal when a mode change is
	detected.

	* console/generic.c: Joseph Pranevich <jpranevich@lycos.com>
	Long standing scroll bug fixed!

	* console/ncurses.c, include/acconfig.h, include/config.h.in, include/console.h, configure, configure.in:
	Joseph Pranevich <jpranevich@lycos.com>
	Rewrite of configuration system to support "regular" curses as well as
	eliminating the --with-ncurses option. Now, ncurses support will be
	built in if a compatible library is detected.

	* include/wintypes.h, windows/defdlg.c:
	NF Stevens <norman@arcady.u-net.com>
	Fix the return type of DLGPROC type and mask out the unset highword of
	the return when a 16 bit dialog proc is called.

	* include/interfaces.h: Rein Klazes <rklazes@casema.net>
	Add interface ID's for upcoming ITypeLib implementation.

	* files/dos_fs.c: Juergen Schmied <juergen.schmied@metronet.de>
	Bugfix for trailing slashes, repetition of '/' or '\' and
	SetLastError() in GetFullPathname.

	* Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/advapi32/.cvsignore, dlls/advapi32/Makefile.in, dlls/advapi32/advapi.c, dlls/advapi32/eventlog.c, dlls/advapi32/security.c, dlls/advapi32/service.c, relay32/advapi32.spec, win32/Attic/advapi.c, win32/Attic/security.c, win32/Makefile.in, win32/init.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Moved ADVAPI32 files to dlls/advapi32.
	Added stubs for eventlog functions.

	* relay32/shell32.spec, dlls/shell32/shelllink.c, dlls/shell32/shellole.c, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shlview.c, include/shlobj.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	New stubs NTSHChangeNotifyRegister, NTSHChangeNotifyDeregister.
	Cleanup, some more functions UNICODE ready.

	* dlls/shell32/pidl.c: Juergen Schmied <juergen.schmied@metronet.de>
	SHCloneSpecialIDList implemented.
	SHGetDataFromIDListA corrected.

	* dlls/shell32/iconcache.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Shell_GetCachedImageIndex32[A|W] implemented.

	* msdos/int21.c, msdos/int25.c, msdos/int26.c, files/drive.c, include/drive.h:
	Andreas Mohr <a.mohr@mailto.de>
	Implemented raw device access calls for ioctlGenericBlkDevReq()
	and therefore moved the core functionality of int2[56].c into files/drive.c.

	* msdos/ioports.c: Andreas Mohr <a.mohr@mailto.de>
	Added automatic CMOS RAM checksum calculation.

	* dlls/winaspi/winaspi16.c, dlls/wnaspi32/winaspi32.c, documentation/aspi, relay32/wnaspi32.spec:
	Andreas Mohr <a.mohr@mailto.de>
	SendASPI32Command32 has to be __cdecl.
	Updated documentation/aspi and reverted an ERR back to WARN.

	* documentation/bugreports: James Juran <jrj120@psu.edu>
	Of course we want the last 100 lines, not the first 100 lines.
	Use 'tail' instead of 'head'. Also fix text alignment from
	previous patch.

	* multimedia/joystick.c: Ove Kaaven <ovek@arcticnet.no>
	Reading joystick 5 when we only support 4 should fail instead of
	hang.

	* multimedia/mcicda.c: Ove Kaaven <ovek@arcticnet.no>
	Playing a non-existent CD should fail instead of crash.

	* Make.rules.in, Makefile.in: Marcus Meissner <marcus@jet.franken.de>
	Check for necessary configure reruns for Makefile and Make.rules
	generation.

	* miscemu/instr.c: Ove Kaaven <ovek@arcticnet.no>
	Emulates ins/outs correctly for DOS programs.

	* ole/storage.c, scheduler/process.c, server/change.c, server/console.c, server/event.c, server/file.c, server/mapping.c, server/mutex.c, server/object.c, server/pipe.c, server/process.c, server/request.c, server/semaphore.c, server/thread.c, server/trace.c, win32/device.c, win32/file.c, files/dos_fs.c, files/file.c, include/device.h, include/file.h, include/server.h, include/server/object.h, include/server/request.h, loader/ne/module.c, loader/pe_image.c, misc/crtdll.c, msdos/int21.c, msdos/vxd.c:
	Implemented file sharing checks in the server.
	Added set file time server request.
	Overall clean up of the file handling (DOS device handling is now
	broken, should be redone).

Sat Jan  2 08:22:34 1999  Alexandre Julliard  <julliard@winehq.com>

	* memory/virtual.c:
	Fixed bug in CreateFileMapping when name is not NULL.

	* server/request.c: Fixed CHECK_STRING display.

Fri Jan  1 19:51:25 1999  Alexandre Julliard  <julliard@winehq.com>

	* if1632/kernel.spec, memory/local.c:
	Richard A Lough <ralough.ced@dnet.co.uk>
	Put return value of LocalAlloc in CX too.

	* include/psdrv.h: Dimitrie O. Paun <dimi@cs.toronto.edu>
	Protect against multiple includes.

	* dlls/shell32/iconcache.c: Use proper system directory.

	* scheduler/process.c: Got rid of CLIENT_GetProcessInfo.

	* windows/class.c, windows/dce.c, windows/defdlg.c, windows/defwnd.c, windows/driver.c, windows/msgbox.c, windows/painting.c, windows/user.c, windows/winhelp.c, include/wine/winuser16.h, include/winreg.h, include/winuser.h, loader/module.c, misc/comm.c, misc/shell.c, misc/spooler.c, misc/spy.c, misc/winsock.c, multimedia/audio.c, multimedia/mcianim.c, multimedia/mcicda.c, multimedia/mcimidi.c, multimedia/mciwave.c, multimedia/midi.c, multimedia/mmsystem.c, objects/clipping.c, ole/oleobj.c, controls/button.c, controls/desktop.c, controls/icontitle.c, controls/static.c, debugger/dbg.y, dlls/shell32/iconcache.c, dlls/shell32/shell32_main.c, graphics/psdrv/escape.c, if1632/thunk.c, include/callback.h, include/display.h, include/imagelist.h, include/ole.h, include/queue.h, include/shell.h, include/storage.h, include/struct32.h, include/winbase.h, include/windows.h:
	Michael Veksler <mveksler@techunix.technion.ac.il>
	Moves more stuff from windows.h.
	- include/winuser.h - interface relevant to user32.spec
	- include/wine/winuser16.h - the old 16 bit interface (internal use)
	- include/winbase.h - some minor updates to keep things coherent.
	- Lot of other files made to include wine/winuser16.h, which is no
	  longer included from windows.h

	* scheduler/handle.c: Fixed CloseHandle() on global handles.

	* README, documentation/bugreports, documentation/win95look, documentation/wine.man:
	James Juran <jrj120@psu.edu>
	Add some information to the man page and README file.
	Make documentation/win95look say [Tweak.Layout] instead of
	[Tweaks.Layout].
	Fix incorrect command given in documentation/bugreports.
	Standard error was not being redirected, so most of the
	output was lost.

	* objects/bitmap.c: NF Stevens <norman@arcady.u-net.com>
	Delphi 2.0 needs to allocate a bitmap bigger than 4096 bits wide.

	* misc/printdrv.c: NF Stevens <norman@arcady.u-net.com>
	Initialize lpdwNeeded.

	* if1632/snoop.c:
	Marcus Meissner <Marcus.Meissner@informatik.uni-erlangen.de>
	Include stuff even if not on __i386__ for debug defines.

	* ole/variant.c:
	Marcus Meissner <Marcus.Meissner@informatik.uni-erlangen.de>
	Another // comment fixed.

	* server/file.c:
	Marcus Meissner <Marcus.Meissner@informatik.uni-erlangen.de>
	Need <errno.h> for errno decl. on Solaris.

	* include/wingdi.h, include/x11font.h, objects/font.c:
	Douglas Ridgway <ridgway@winehq.com>
	Implement TranslateCharsetInfo, change charset type to BYTE.

	* controls/combo.c, controls/listbox.c, include/combo.h:
	Alex Korobka <korobka@galaxy.ams.sunysb.edu>
	Better CB_SETCURSEL message handling.

	* include/queue.h, include/thread.h, scheduler/synchro.c, scheduler/thread.c, windows/message.c, windows/queue.c:
	Moved MsgWaitForMultipleObject implementation to USER routines, using
	a normal Win32 event.

	* tools/make_requests: Send debugging output to stderr.

	* files/change.c, files/dos_fs.c, files/file.c, include/file.h, scheduler/client.c, scheduler/event.c, scheduler/k32obj.c, scheduler/mutex.c, scheduler/pipe.c, scheduler/semaphore.c, win32/console.c:
	Cleaned up and removed some no longer used code.

	* memory/virtual.c: Use server file mapping objects.

	* include/server/object.h, include/server/request.h, include/server/thread.h, server/Makefile.in, server/console.c, server/file.c, server/main.c, server/mapping.c, server/object.c, server/pipe.c, server/request.c, server/thread.c, server/trace.c, include/server.h:
	Added server-side file mapping object support.

	* misc/crtdll.c:
	Hacked stdio functions to use Win32 file handles. Still needs a proper
	stdio emulation.

	* loader/ne/module.c, loader/ne/resource.c, loader/ne/segment.c:
	Use Win32 file handles instead of Unix ones.

	* include/module.h, include/pe_image.h, include/process.h, loader/dos/module.c, loader/module.c, loader/pe_image.c, scheduler/process.c, include/dosexe.h:
	Take into account handle inheritance flag.

Thu Dec 31 15:55:19 1998  Alexandre Julliard  <julliard@winehq.com>

	* debugger/db_disasm.c:
	Changed db_task_printsym to always print a full address, no matter
	what the operand size is.

	* scheduler/critsection.c: Re-implemented using a real semaphore.

	* windows/queue.c, files/change.c, files/file.c, include/k32obj.h, include/process.h, include/thread.h, loader/signal.c, memory/virtual.c, misc/toolhelp.c, scheduler/client.c, scheduler/event.c, scheduler/handle.c, scheduler/k32obj.c, scheduler/mutex.c, scheduler/pipe.c, scheduler/process.c, scheduler/semaphore.c, scheduler/synchro.c, scheduler/thread.c, win32/console.c, win32/device.c:
	Removed client-side wait functions; all waiting is now done through
	the server.

	* server/Makefile.in, server/change.c, server/process.c, server/request.c, server/trace.c, include/server.h, include/server/object.h, include/server/request.h:
	Added change notifications.
	Added global handle support.

Wed Dec 30 12:11:52 1998  Alexandre Julliard  <julliard@winehq.com>

	* include/thread.h, scheduler/synchro.c:
	Changed server wait logic a bit.

	* win32/console.c:
	Hacks to support server-side console. Should be redone properly
	some day.

	* files/dos_fs.c, files/file.c, include/file.h, win32/file.c, win32/newfns.c:
	Reimplemented Read/WriteFile to use server file descriptors.
	Removed file position hack as it is wrong for Win32 (should be redone
	for Win16 only).

	* scheduler/Makefile.in, scheduler/k32obj.c, scheduler/pipe.c:
	Added anonymous pipe support

	* include/server.h, include/server/object.h, include/server/request.h, server/Makefile.in, server/console.c, server/event.c, server/file.c, server/mutex.c, server/object.c, server/pipe.c, server/process.c, server/request.c, server/semaphore.c, server/thread.c, server/trace.c:
	Added several file server requests
	Added server-side pipes and consoles

Sun Dec 27 15:28:55 1998  Alexandre Julliard  <julliard@winehq.com>

	* misc/crtdll.c, msdos/int21.c, scheduler/client.c, scheduler/k32obj.c, server/Makefile.in, server/event.c, server/file.c, server/mutex.c, server/process.c, server/request.c, server/semaphore.c, server/trace.c, tools/make_requests, files/dos_fs.c, files/file.c, include/debug.h, include/debugdefs.h, include/file.h, include/server.h, include/server/object.h, include/server/request.h, loader/main.c, memory/virtual.c:
	Added beginnings of server-side file handling.
	Added -debugmsg +server support.
	Better server request dumping for varargs requests.

	* windows/x11drv/wnd.c:
	Fixed SetFocus that was broken when moved to x11drv.

	* include/server/object.h, include/server/thread.h, scheduler/client.c, server/Makefile.in, server/event.c, server/main.c, server/mutex.c, server/process.c, server/select.c, server/semaphore.c, server/socket.c, server/thread.c:
	Added add_queue/remove_queue to server object operations.
	Moved select() loop functions to select.c.

Sat Dec 26 19:47:00 1998  Alexandre Julliard  <julliard@winehq.com>

	* programs/regtest/regtest.c:
	Renamed ERR macro to avoid confusing the make_debug script.

	* ole/storage.c, ole/typelib.c, include/d3d.h, include/mmsystem.h, include/oleauto.h, include/storage.h, include/winversion.h, ole/compobj.c, ole/ole2.c, ole/ole2nls.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixed tons of incomplete prototypes, assignment's of pointer with
	different signedness, superflous ',' and ';' in structures, wrong
	return-types, lose of digits and some small glitches.

	* graphics/x11drv/xfont.c, include/x11font.h:
	Alex Korobka <korobka@galaxy.ams.sunysb.edu>
	Cleaned up font encoding handling. Added 'Ignore#' option to the
	[fonts] section. Also, file with cached metrics now has the value of
	$DISPLAY appended to the filename.

	* programs/clock/language.c, programs/clock/main.c, programs/notepad/dialog.c, programs/notepad/language.c, programs/notepad/main.c, rc/systest.c, windows/multimon.c, windows/nonclient.c, dlls/shell32/shlview.c, files/profile.c, graphics/path.c, include/commctrl.h, include/d3d.h, include/dplay.h, include/dsound.h, include/ole.h, include/oleobj.h, include/shlobj.h, include/vfw.h, include/winerror.h, include/winioctl.h, misc/main.c, multimedia/audio.c, multimedia/dsound.c, ole/ole2.c, debugger/stabs.c, dlls/comctl32/animate.c, dlls/comctl32/header.c, dlls/comctl32/hotkey.c, dlls/comctl32/listview.c, dlls/comctl32/pager.c, dlls/comctl32/rebar.c, dlls/comctl32/toolbar.c, dlls/comctl32/tooltips.c, dlls/comctl32/trackbar.c, dlls/comctl32/treeview.c, dlls/shell32/contmenu.c, dlls/shell32/enumidlist.c, dlls/shell32/pidl.c, dlls/shell32/shellord.c:
	Marcus Meissner <marcus@jet.franken.de>
	Changed // comments to /* */ so WINE compiles with non-gcc compilers
	again.

	* windows/ttydrv/clipboard.c, windows/ttydrv/event.c, windows/ttydrv/init.c, windows/x11drv/clipboard.c, windows/x11drv/event.c, windows/x11drv/init.c, windows/x11drv/mouse.c, windows/x11drv/wnd.c, debugger/dbg.y, graphics/ddraw.c, graphics/x11drv/bitblt.c, graphics/x11drv/brush.c, graphics/x11drv/clipping.c, graphics/x11drv/init.c, include/clipboard.h, include/ddraw.h, include/display.h, include/ttydrv.h, include/win.h, include/x11drv.h, objects/palette.c, windows/dce.c, windows/dinput.c, windows/display.c, windows/input.c, windows/message.c, windows/scroll.c, windows/win.c, windows/winpos.c:
	Patrik Stridvall <ps@leissner.se>
	Moved more things to the X11 driver.

	* include/wingdi.h, objects/brush.c:
	Francois Gouget <fgouget@multimania.com>
	Fixed the prototype of CreateDIBPatternBrushPt

	* include/windows.h: Francois Gouget <fgouget@multimania.com>
	Removed the CN_xxx macros since they are not used, do not correspond to
	any Windows define and conflict with MFC defines.
	windows.h must provide all the definitions contained in winbase.h
	Some Xxx32 functions did not have the associated Xxx macro.

	* include/wintypes.h: Francois Gouget <fgouget@multimania.com>
	Added a typedef for __int64 which is a builtin Visual C++ type
	Added a typedef for PUINT

	* include/objbase.h: Francois Gouget <fgouget@multimania.com>
	REFIID was not defined.

	* configure.in, include/acconfig.h, include/config.h.in, include/winsock.h, misc/winsock.c, configure:
	Pavel Roskin <pavel_roskin@geocities.com>
	configure first checks whether it is possible to compile IPX code with
	Glibc headers. If it fails, next check determines whether direct inclusion
	of <linux/ipx.h> works.

	* include/tchar.h: Francois Gouget <fgouget@multimania.com>
	Provides the mappings. MBCS and Unicode functions are not implemented.
	Standard (SBCS) functions may exist or not, with the same or a different
	semantics.

	* dlls/comctl32/ipaddress.c, include/commctrl.h, include/ipaddress.h:
	Alex Priem <alexp@sci.kun.nl>
	IPaddress common control implementation. First try; needs more work to
	remove boring bugs.

Fri Dec 25 08:55:15 1998  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/contmenu.c, dlls/shell32/shlview.c, include/oleobj.h, include/shlobj.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixed the TEXT redefined warnings.

	* msdos/int10.c: Joseph Pranevich <jpranevich@lycos.com>
	Hook into the (stubbed) resize code in msdos int10.

	* console/interface.c, include/console.h, include/options.h, loader/main.c, misc/main.c:
	Joseph Pranevich <jpranevich@lycos.com>
	Add support for selection of console mode drivers to use using the
	-console option. Currently "tty", "ncurses", and "xterm" are
	supported.
	Add stubs for resizing the screen on mode changes.

	* include/ddeml.h, misc/ddeml.c, relay32/user32.spec:
	Jean-Claude Cote <jean-claude@macadamian.com>
	Partial implementation for the following DDE APIs:
	DdeCmpStringHandles, DdeCreateStringHandle, DdeFreeStringHandle,
	DdeQueryString, DdeUninitialize.

Thu Dec 24 16:59:17 1998  Alexandre Julliard  <julliard@winehq.com>

	* ole/Makefile.in, ole/parsedt.c, ole/parsedt.h, ole/variant.c:
	Jean-Claude Cote <jean-claude@macadamian.com>
	Added VarDateFromStr API.

	* dlls/comctl32/trackbar.c, include/trackbar.h:
	Alex Priem <alexp@sci.kun.nl>
	- Tooltip support
	- Vertical trackbars supported now
	- TBS_BOTH support (goes along with partial cleanup of drawing code)
	- Use COMCTL32 heap instead of system heap

	* graphics/ddraw.c, include/ddraw.h:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	Added all clipper&3d stubs.
	Starting ColorKey support.
	Fixed trace statement in DirectDrawCreate as formatting wasn't correct.
	Changed "return 0;" to "return DD_OK" or "return S_OK" as appropriate.
	Added SurfaceEnum dwFlags.

	* include/dplay.h, multimedia/dplay.c:
	Peter Hunnisett <hunnise@nortelnetworks.com>
	Added macros to header file for easier function calling.
	Changed implementation a little bit.
	Added stubs for dplay3. Still need to break into A and W versions.

	* win32/file.c: Peter Hunnisett <hunnise@nortelnetworks.com>
	CreateFile32A was only allowing console opens on CONIN$/OUT$. This
	has been changed to have a case insensitive compare.

	* controls/listbox.c: Gerard Patel <g.patel@wanadoo.fr>
	Don't send ODA_ENTIRE for empty listboxes (LISTBOX_Paint).

	* include/winbase.h, relay32/kernel32.spec, win32/kernel32.c:
	Jean-Claude Cote <jean-claude@macadamian.com>
	Implemented the GetBinaryType API function.

	* loader/dos/dosmod.c, loader/dos/dosmod.h, loader/dos/dosvm.c, loader/dos/module.c:
	Ove Kaaven <ovek@arcticnet.no>
	Added some new dosmod communication possibilities, including
	activating a dosmod-specific setitimer(), and the capture of some
	common signals, which is returned to Wine (previously a SIGILL
	would just cause a "dosmod sync lost" without explanation, now it
	invokes the Wine debugger). Invokes int 08 upon receipt of dosmod
	SIGALRM, thus simulating the DOS timer. Made DOS interrupt calls
	be reported by -debugmsg +relay instead of -debugmsg +int. And
	fixed non-i386 compilation of dosmod. (Anything else?!)

	* loader/main.c, windows/win.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Desktop window queue handling adapted.

	* windows/clipboard.c, windows/hook.c, windows/timer.c, windows/winpos.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Queue handling adapted to new queue routines.

	* windows/message.c, windows/queue.c, if1632/user.spec, include/queue.h, include/task.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented stub for InitThreadInput.
	Use GetThreadQueue/GetFastQueue instead of GetTaskQueue.

	* loader/task.c, miscemu/main.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Use Callout table instead of direct GetProcAddress.
	UserYield moved to USER.

	* include/callback.h, misc/callback.c, if1632/thunk.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Callout table (for KERNEL->USER calls) added.
	Callbacks->CallPostAppMessageProc removed.

	* misc/callback.c, windows/x11drv/event.c, include/callback.h, include/queue.h, include/task.h, loader/task.c, if1632/thunk.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Handle non-hardware X events correctly with native USER
	(removed reference to MESSAGEQUEUE from KERNEL code).
	Handle Expose events with native USER.

	* misc/crtdll.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Better _ultoa().

	* win32/time.c: Rein Klazes <rklazes@casema.net>
	Fix small problem in GetTimeZoneInformation().

	* windows/x11drv/keyboard.c: Rein Klazes <rklazes@casema.net>
	Lowest scan code seems to be 1, not zero.

	* graphics/ddraw.c: Marcus Meissner <marcus@jet.franken.de>
	Stubs for IDirect3D(2)::CreateLight and CreateDevice to avoid crashes.

	* dlls/ntdll/rtl.c, relay32/ntdll.spec, dlls/ntdll/nt.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	New stubs.

	* dlls/shell32/iconcache.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixes crash when running without external shell32.dll.

	* windows/winproc.c: Juergen Schmied <juergen.schmied@metronet.de>
	More messages [LB_*,EM_*] translated 32A from/to 32W.

	* relay32/user32.spec: Juergen Schmied <juergen.schmied@metronet.de>
	Dest buffer was printed out as str.

	* misc/ver.c: Juergen Schmied <juergen.schmied@metronet.de>
	Getting strings with VerQueryValue32W was broken. Complete
	reconstruction of the function.

	* misc/toolhelp.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fix number and type of args in debugging statements.

	* ole/storage.c: Marcus Meissner <marcus@mud.de>
	IStorage32 vtable was missing 3 stub entries.

Fri Dec 18 17:38:39 1998  Alexandre Julliard  <julliard@winehq.com>

	* include/wingdi.h, objects/font.c, relay32/gdi32.spec:
	Douglas Ridgway <ridgway@winehq.com>
	Documentation for TranslateCharsetInfo.

	* dlls/wnaspi32/winaspi32.c, if1632/wprocs.spec, dlls/winaspi/winaspi16.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Make the DOSASPI part use the excellent DPMI RMCB implementation done
	by Ove Kaaven, which makes the code _much_ cleaner.

	* Make.rules.in, Makefile.in, configure, configure.in:
	Todd Vierling <tv@pobox.com>
	Use -lwine for linking.

	* windows/message.c, windows/queue.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: always clear QS_... from *both* changeBits and waitBits.
	Bugfix: queue->hSendingTask is *queue* handle, not task handle.

	* if1632/storage.spec, include/interfaces.h, include/objbase.h, include/storage.h, ole/ifs.c, ole/storage.c:
	François Gouget <gouget@metaintegration.net>
	First step to make it possible to call COM interfaces from C++ code in
	Winelib.

	* dlls/comctl32/treeview.c, include/treeview.h:
	Alex Priem <alexp@sci.kun.nl>
	Preliminary tooltip support.
	WM_SETFONT/GETFONT added.
	Some bug fixes.
	Use COMCTL32 heap instead of system heap.

	* graphics/painting.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Implemented PolylineTo.

	* relay32/ntdll.spec: Adrian Harvey <adrian@select.com.au>
	The Zw... Functions in ntdll.dll are just alternate entry
	points for the same functions as the Nt... function of the
	same names.  Changed ntdll.spec to match this.

	* include/module.h, include/pe_image.h, loader/module.c, loader/pe_image.c, relay32/builtin32.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Reorganized PE module loading to prepare for elf-dll loader.
	WINE_MODREF creation moved to one central location.
	Bugfix: correctly select native/built-in version if .DLL
	extension is missing in LoadLibrary call.

	* multimedia/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Changed error values MCI_INTERNAL to their correct values.

	* multimedia/mciwave.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed warning.

	* multimedia/mcistring.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	No longer sending directly messages to DriverProc but rather go through
	MCI layer (required for open/close).

	* multimedia/mcicda.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Removed incorrect patch for MCI_OPEN anc MCI_CLOSE parameters (thanks to Robert Riggs
	for pointing out the bug, see the fix in mcistring.c)
	Fixed MCI seeking on CD audio.

	* include/winerror.h: Juergen Schmied <juergen.schmied@metronet.de>
	Stubs for WaitNamedPipe[A|W].

	* dlls/shell32/classes.c, dlls/shell32/dataobject.c, dlls/shell32/iconcache.c, dlls/shell32/shell32_main.h, dlls/shell32/shlfolder.c, include/shell.h, relay32/shell32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	Small fixes.

	* dlls/shell32/shellord.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Stub Control_FillCache_RunDLL.

	* dlls/shell32/shell32_main.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	SHGetFileInfo32A: get SHGFI_SYSICONINDEX implemented.

	* dlls/shell32/pidl.c: Juergen Schmied <juergen.schmied@metronet.de>
	ILAppend seems to work now.

	* relay32/kernel32.spec, win32/kernel32.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Stubs for WaitNamedPipe[A|W].

Tue Dec 15 18:04:58 1998  Alexandre Julliard  <julliard@winehq.com>

	* files/directory.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fix GetTempPath32 if count=0.

	* configure, configure.in, include/config.h.in, include/multimedia.h, multimedia/audio.c, multimedia/dsound.c, multimedia/init.c, multimedia/mcicda.c, multimedia/mcimidi.c, multimedia/midi.c, multimedia/mixer.c, multimedia/mmaux.c:
	Todd Vierling <tv@pobox.com>
	- add -lossaudio if needed, and a check for <soundcard.h>, to configure.in
	  (run autoconf after this).  Note that the check has been altered to break
	  out of the AC_CHECK_HEADERS after the first match - this is so
	  <sys/soundcard.h>, if found on NetBSD (a `real' OSS), will not conflict
	  with the emulated ossaudio.
	- check for <soundcard.h> along with the other two in a mutually-exclusive
	  manner in the various *.c files that need it; change include of
	  "mmsystem.h" to "multimedia.h" so this logic is all in one place
	- change mcicda.c to allow for CD audio manipulation on NetBSD.  This
	  includes:
	  * changing ioctl() calls to be NON-SPLIT with exactly 3 args; on NetBSD
	    ossaudio, ioctl() is #defined to be _oss_ioctl by <soundcard.h>, and
	    neither splitting with #-directives nor a two-arg ioctl work;
	  * changing the #if logic to allow both FreeBSD and NetBSD to share the
	    appropriate code blocks
	- block out MIDI code for NetBSD (init.c) and/or missing SNDCTL_MIDI_INFO
	  (midi.c, mcimidi.c).  NetBSD's OSS emulation does not (yet) support MIDI.
	Thanks go to mycroft@netbsd.org for the 99% bulk of this work.

	* tsx11/X11_calls, tsx11/ts_xutil.c, windows/x11drv/wnd.c, include/ts_xutil.h:
	Dirk Thierbach <thierbach@mathematik.tu-darmstadt.de>
	Set the class hints for managed windows.

	* files/dos_fs.c: Juergen Schmied <juergen.schmied@metronet.de>
	Bugfix: GetFullPathName sets lpFilePart only when the last element
	does not end with '\'.

	* windows/message.c, windows/win.c, include/commctrl.h, include/commdlg.h, include/ddeml.h, include/mouse.h, include/shlobj.h, include/winbase.h, include/windows.h, include/winerror.h, include/wingdi.h, include/wintypes.h, misc/ddeml.c, objects/bitmap.c, objects/brush.c, objects/dc.c, objects/font.c, objects/gdiobj.c, relay32/gdi32.spec, relay32/user32.spec, controls/menu.c, dlls/comctl32/commctrl.c, graphics/bitblt.c, graphics/escape.c, graphics/metafiledrv/init.c, graphics/painting.c, graphics/path.c, if1632/user.spec:
	Paul Quinn <paulq@COREL.CA>
	Lots of new defines and stubs.

	* Make.rules.in, Makefile.in, configure, configure.in:
	Todd Vierling <tv@pobox.com>
	These patches add support for --enable-dll on NetBSD, and may even do so for
	FreeBSD a.out.  Now, NetBSD can use libwine as a shared object.  Thanks to
	mycroft@netbsd.org for doing this work!

	* tools/wrc/writeres.c: Todd Vierling <tv@pobox.com>
	Global constructors using `.section .ctors' are bogus for NetBSD's
	assembler. Use the appropriate `.stabs' when on NetBSD.

	* ole/variant.c: Todd Vierling <tv@pobox.com>
	Undefined CHAR_MAX and CHAR_MIN (#defined by NetBSD's system headers).
	Fixed some constants that are too big for a plain `int'.

	* ole/variant.c: Marcus Meissner <marcus@jet.franken.de>
	Check for MAXFLOAT if FLT_MAX isn't there.

	* graphics/psdrv/Makefile.in: Todd Vierling <tv@pobox.com>
	graphics/psdrv forgets to pull in @DLLFLAGS@, and so is compiled non-PIC if
	using --enable-dll.

	* include/wingdi.h, include/wintypes.h, include/winuser.h, include/windows.h:
	Veksler Michael <mveksler@techunix.technion.ac.il>
	Move declarations from windows.h to wingdi.h and winuser.h.

Mon Dec 14 18:15:11 1998  Alexandre Julliard  <julliard@winehq.com>

	* win32/console.c, files/Makefile.in, files/async.c, files/file.c, include/async.h, include/file.h, loader/signal.c, misc/winsock_dns.c:
	Marcus Meissner <marcus@jet.franken.de>
	Made async IO (SIGIO) stuff from WINSOCK generic useable.
	Added async IO support to FILE and CONSOLE objects.

	* misc/winsock.c: Stephen Langasek <vorlon@dodds.net>
	Prevent segfault in setsockopt when optname is SO_LINGER and optval is
	null.

	* dlls/shell32/shell32_main.h, dlls/shell32/shellord.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, relay32/shell32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	Some cleanup.

	* dlls/shell32/iconcache.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	SHMapPIDLToSystemImageListIndex try's to determine and load the exact
	icon for files (by type) now.

	* dlls/shell32/classes.c: Juergen Schmied <juergen.schmied@metronet.de>
	New HCR_GetDefaultIcon (internal).

	* include/dosexe.h, loader/dos/dosvm.c, loader/dos/module.c, msdos/dosmem.c, msdos/dpmi.c:
	Ove Kaaven <ovek@arcticnet.no>
	Moved DPMI wrapper allocation code to dosmem.c to REALLY make the
	RMcall shortcuts independent of dosmod. SS had been left out of
	the REALMODECALL copy routines for some reason, fixed now. Also
	cleaned up a few compiler warnings.

	* graphics/x11drv/xfont.c: Ian Pilcher <pilcher@concentric.net>
	Added ability to specify X fonts used for Helv and Tms Rmn typefaces
	with DefaultSerif and DefaultSansSerif INI keys.

	* tools/wrc/parser.y, tools/wrc/wrc.h, tools/wrc/writeres.c, tools/wrc/CHANGES:
	Bertho Stultiens <bertho@panter.soci.aau.dk>
	- Added a global label for elf-dll linking and a long with the resource
	  size and a long with the directory size.
	- Killed an annoying warning since version 1.0.0 in parser.y about a
	  var being used before init.

	* include/shlobj.h, dlls/shell32/shelllink.c, dlls/shell32/shellole.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Adds the IPersistFile Interface to IShellLink[W] and gave both own
	IClassFactorys.

	* win32/console.c: Marcus Meissner <marcus@jet.franken.de>
	(ReadConsole32A): small and stupid bug fixed
	(WriteConsoleOutput): bug fixed (attributes may change within lines)
	and enhanced speedwise by using buffering.
	(CONSOLE_string_2_IR): enhanced, now gets scancodes and virtualkeycodes

	* misc/crtdll.c, relay32/crtdll.spec:
	Marcus Meissner <marcus@jet.franken.de>
	_ultoa implemented.

	* controls/static.c: Marcus Meissner <marcus@jet.franken.de>
	Small hack to get rid of annoying err:resource: message for
	MessageBoxes.

	* relay32/dsound.spec: Ian Schmidt <irsman@iag.net>
	Fix off-by-1 error in DirectSound ordinals. Thanks to Robert Riggs for
	the pointer.

	* graphics/ddraw.c: Stephen Crowley <crow@debian.org>
	Save the original video mode before going fullscreen and restore it
	when the last DirectDraw_Release is called. Also fix a problem where
	the viewport wasn't set to 0,0.

	* console/xterm.c: Joseph Pranevich <jpranevich@lycos.com>
	Made more cross-platform by changing ->_fileno to fileno().

	* windows/win.c: NF Stevens <norman@arcady.u-net.com>
	Fix the Z-order of maximized/minimized child windows.

	* graphics/x11drv/xfont.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	XLFDs should be well-formed (14 hyphens) to match scalable fonts.
	Stop slant field becoming wildcarded too early.

	* windows/focus.c: Marcus Meissner <marcus@jet.franken.de>
	(FOCUS_SwitchFocus) check for pFocusTo == NULL instead of hFocusTo==0.

	* ole/ole2nls.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Hack OLE_GetFormat* to return something if datelen = 0.
	Remove unnecessary WINAPI's.

----------------------------------------------------------------
Fri Dec 11 15:04:11 1998  Alexandre Julliard  <julliard@winehq.com>

	* include/process.h, include/tlhelp32.h, include/toolhelp.h, misc/toolhelp.c, scheduler/k32obj.c, scheduler/process.c:
	Patrick Spinler <spinler.patrick@mayo.edu>
	Implemented CreateToolhelp32Snapshot, including two of the routines
	using snapshots, Process32First and Process32Next.

	* relay32/oleaut32.spec, include/mapidefs.h, include/oleauto.h, include/win16drv.h, include/wintypes.h, ole/compobj.c, ole/variant.c:
	Justin Bradford <justin@ukans.edu>
	Most of the currency variant conversion functions implemented.
	Minor bugfixes and header tidying.

	* Makefile.in, configure, configure.in, dlls/rasapi32/Makefile.in, dlls/rasapi32/rasapi.c, include/debug.h, include/debugdefs.h, include/ras.h, include/wintypes.h, relay32/rasapi32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Added RasEnumConnections stub.

	* dlls/shell32/shell32_main.h, dlls/shell32/shellpath.c, dlls/shell32/shlview.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Bugfix in PathCombine32[A|W].
	View menu in explorer and on right mouse button is working now.

	* dlls/shell32/pidl.c: Juergen Schmied <juergen.schmied@metronet.de>
	Implemented  ILGetDisplayName.

	* dlls/shell32/classes.c, dlls/shell32/shellord.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Started implementation of ShellExecuteEx32A.
	Small changes.

	* dlls/shell32/.cvsignore, dlls/shell32/Makefile.in, dlls/shell32/shres.rc:
	Juergen Schmied <juergen.schmied@metronet.de>
	Moved menu resources to rc-file.

	* include/pe_image.h, ole/ole2nls.c, win32/file.c:
	Marcus Meissner <marcus@jet.franken.de>
	Two debug messages clarified, one useless prototype removed.

	* include/oleauto.h, ole/variant.c:
	Marcus Meissner <marcus@jet.franken.de>
	294 missing WINAPI added.

	* tools/testrun: Marcus Meissner <marcus@jet.franken.de>
	Kill swapped out (wine) processes too and truncate diff after some xxx
	lines.

	* ole/ole2nls.c: Juergen Schmied <juergen.schmied@metronet.de>
	Fixed SetLastError with wrong value.

	* misc/printdrv.c, objects/enhmetafile.c, graphics/painting.c, include/windows.h:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Implement AbortDoc16, move AbortDoc32 and StartDoc32W to
	misc/printdrv.c and fix a few compile warnings.

	* win32/ordinals.c, windows/driver.c, windows/msgbox.c, windows/multimon.c, windows/user.c, dlls/comctl32/animate.c, dlls/comctl32/comboex.c, dlls/ntdll/nt.c, if1632/typelib.spec, include/file.h, loader/dos/module.c, msdos/int21.c, ole/ole2nls.c, ole/typelib.c:
	Andreas Mohr <a.mohr@mailto.de>
	Fixed a bunch of compiler warnings.

	* files/file.c: Marcus Meissner <marcus@jet.franken.de>
	Added Win32 synchro to FILEs (useful only for terminal handles).

Thu Dec 10 16:04:51 1998  Alexandre Julliard  <julliard@winehq.com>

	* objects/bitmap.c, objects/dc.c, objects/enhmetafile.c, objects/font.c, objects/metafile.c, relay32/comctl32.spec, relay32/gdi32.spec, relay32/kernel32.spec, relay32/mpr.spec, relay32/shell32.spec, relay32/tapi32.spec, relay32/user32.spec, relay32/winspool.spec, win32/console.c, win32/kernel32.c, win32/time.c, windows/input.c, windows/message.c, graphics/metafiledrv/init.c, if1632/ddeml.spec, include/commctrl.h, include/ddeml.h, include/shlobj.h, include/windows.h, include/wintypes.h, memory/string.c, misc/ddeml.c, misc/network.c, misc/printdrv.c, misc/tapi32.c, controls/edit.c, dlls/comctl32/Makefile.in, dlls/comctl32/comctl32undoc.c, dlls/comctl32/propsheet.c, dlls/shell32/shell32_main.c, files/file.c, graphics/painting.c:
	Francis Beaudet <francis@macadamian.com>
	Sylvain St-Germain <sylvain@macadamian.com>
	Thuy Nguyen <thuy@macadamian.com>
	Lots of new stubs.

	* msdos/vxd.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Let the System_Time_Selector clock tick.

	* loader/dos/module.c, miscemu/instr.c, msdos/dosmem.c, graphics/dispdib.c, graphics/vga.c, include/miscemu.h, include/vga.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Adapted to CreateSystemTimer interface change.

	* if1632/system.spec, if1632/thunk.c, include/callback.h, include/windows.h, misc/callback.c, misc/system.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Cleaned up CreateSystemTimer interface for use with 32-bit callbacks.
	(NOTE: 16-bit callbacks still don't work!)

	* windows/mdi.c: NF Stevens <norman@arcady.u-net.com>
	- Handle WM_MDIRESTORE by calling WM_SYSCOMMAND for
	the child window so that the system menu is set correctly.
	- In MDICascade and MDITile use WM_MDIRESTORE message
	to restore maximized window so that system menu is
	handled correctly.

	* include/oleauto.h, include/winerror.h, ole/Makefile.in, ole/typelib.c, ole/variant.c, relay32/oleaut32.spec:
	Jean-Claude Cote <jean-claude@macadamian.com>
	Added implementation of the VARIANT APIs.

	* files/drive.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Fixed DRIVE_GetFreeSpace to handle space > 4 GByte.

	* dlls/comctl32/treeview.c: Alex Priem <alexp@sci.kun.nl>
	handle TVIF_TEXT by TREEVIEW_SetItem according to MS documentation.
	better handling of LPSTR_TEXTCALLBACK32A
	TREEVIEW_GetNext|PrevListItem didn't descend into visible child items.

	* loader/pe_image.c: Marcus Meissner <marcus@jet.franken.de>
	Warn if two .exes conflict with each other and the second does not
	have relocation records.

	* misc/commdlg.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Fixed GetFileTitle32A not filling up lpTitle if lpFile didn't
	contain '/','\\' or ':'.

	* graphics/ddraw.c: Stephen Crowley <crow@debian.org>
	Fixed a potential crash if a usable video mode is not detected.

	* tools/make_authors: Script to generate authors files

	* include/dinput.h, windows/dinput.c: Robert Riggs <rriggs@tesser.com>
	Stubs for IDirectInputEffect and IDirectInputDevice2A methods,
	as well as AddRef(), GetCapabilites(), EnumObjects(),
	GetProperty(), GetObjectInfo(), GetDeviceInfo(), Initialize(),
	and RunControlPanel() for IDirectInputDevice.

	* graphics/ddraw.c: Robert Riggs <rriggs@tesser.com>
	Set window focus in  _common_IDirectDraw_SetDisplayMode().

	* multimedia/mcicda.c: Robert Riggs <rriggs@tesser.com>
	Accept MCI_OPEN and MCI_CLOSE messages in MCICDAUDIO_DriverProc32().

	* include/win.h, windows/win.c, windows/x11drv/event.c, windows/x11drv/wnd.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed deferred Expose events handling.

	* windows/dce.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Don't clip VisRgn against X desktop.

	* loader/module.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	LoadModule32/WinExec32 should return 16-bit hInstance/hTask.

	* graphics/x11drv/xfont.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Sanity check on font size.

	* dlls/comctl32/treeview.c: Marcus Meissner <marcus@jet.franken.de>
	Missing parentheses added.

Wed Dec  9 16:37:05 1998  Alexandre Julliard  <julliard@winehq.com>

	* loader/task.c, relay32/kernel32.spec, win32/console.c, include/wincon.h:
	Marcus Meissner <marcus@jet.franken.de>
	Enhanced Win32 Console (XTERM)
	- inputhandling enhanced (keys and mouseclicks)
	- win32 synchronization (partial)
	- lots of enhancements to drawing functions
	- simple/complex console (simple-stdin/stdout -> complex-xterm).

	* console/Makefile.in, console/generic.c, console/interface.c, console/ncurses.c, console/tty.c, console/xterm.c, include/console.h:
	Joseph Pranevich <jpranevich@lycos.com>
	Add a driver to open up a new xterm window whenever console output is
	needed. Derived from console/win32.c but we are not yet ready to merge
	the code completely.

	* graphics/x11drv/xfont.c, include/windows.h, tools/fnt2bdf.c:
	Pablo Saratxaga <srtxg@chanae.alphanet.ch>
	Improved the handling of font encodings.

	* msdos/dpmi.c, include/miscemu.h: Ove Kaaven <ovek@arcticnet.no>
	Implemented DPMI RMCBs using the DOS subsystem, and a few other
	improvements. Also, some special-cased shortcut paths will allow some
	common real-mode call/RMCB combinations to work even without calling the
	DOS subsystem, thus letting APIs like DOSASPI work without any dirty hacks
	even on platforms that cannot use dosmod.

	* multimedia/time.c, ole/compobj.c, files/change.c, loader/module.c, misc/lzexpand.c, misc/main.c, controls/menu.c, controls/scroll.c:
	Marcus Meissner <marcus@jet.franken.de>
	Some unnecessary #include and messages removed.

	* ole/ole2nls.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Some small corrections to EnumSystemLocales32AW

Tue Dec  8 15:06:39 1998  Alexandre Julliard  <julliard@winehq.com>

	* tools/make_X11wrappers, tsx11/ts_xf86vmode.c, graphics/ddraw.c:
	Tried another kludge for the Xmd.h problem.

	* tsx11/Makefile.in, tsx11/X11_calls, tsx11/ts_xf86vmode.c, configure, configure.in, graphics/ddraw.c, include/acconfig.h, include/config.h.in, include/ts_xf86vmode.h, tools/make_X11wrappers:
	Stephen Crowley <crow@debian.org>
	Added fullscreen DGA support.

	* misc/main.c: Pablo Saratxaga <srtxg@chanae.alphanet.ch>
	Fixed dummy entries in MAIN_ParseLanguageOption().

	* include/mmsystem.h, multimedia/mcicda.c:
	Brian Gerst <bgerst@quark.vpplus.com>
	Properly implement MCI_CDA_STATUS_TYPE_TRACK.
	Fix an off-by-one bug with MCI_STATUS_LENGTH.

	* windows/x11drv/event.c: Marcus Meissner <marcus@jet.franken.de>
	Superflous WINAPI removed.

	* loader/pe_image.c: Marcus Meissner <marcus@jet.franken.de>
	Warn about invalid entrypoints (created by viruses) which result in
	Wine crashes.

	* graphics/ddraw.c: Marcus Meissner <marcus@jet.franken.de>
	Create X11 palette on DirectDrawSurface::SetPalette, not before (we
	might not have an X11 window yet).

	* loader/main.c: Marcus Meissner <marcus@jet.franken.de>
	Move TWEAK_Init from USER to GDIInit.

	* graphics/painting.c, if1632/gdi.spec, include/windows.h, misc/printdrv.c, misc/spooler.c, relay32/gdi32.spec:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fix for SetAbortProc16, stub for SetAbortProc32 and tidy up some other
	printing functions.

	* windows/focus.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fix includes.

	* graphics/x11drv/text.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fix X11DRV_ExtTextOut for rotated text if either of lpDx, breakExtra
	or charExtra are non-zero.

	* include/Attic/graphics.h, misc/shell.c, windows/Attic/graphics.c, windows/Makefile.in, windows/nonclient.c, windows/scroll.c, controls/button.c, controls/combo.c, controls/desktop.c, controls/icontitle.c, controls/menu.c, controls/scroll.c, dlls/comctl32/updown.c, dlls/shell32/shell32_main.c, dlls/shell32/shellord.c, graphics/metafiledrv/graphics.c, graphics/x11drv/graphics.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Replace GRAPH_ functions with Win SDK equivalents.

Mon Dec  7 16:23:42 1998  Alexandre Julliard  <julliard@winehq.com>

	* files/dos_fs.c: Alexander Larsson <alla@lysator.liu.se>
	Reverted previous patch.

	* include/dosexe.h: Ove Kaaven <ovek@arcticnet.no>
	Don't define MZ_SUPPORTED on non-i386 platforms.

	* loader/dos/module.c, msdos/dpmi.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed DPMI_CallRMProc (I think).

	* misc/network.c, relay32/mpr.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Stub for NPSGetProviderHandleA.

	* windows/x11drv/keyboard.c: Brian Gerst <bgerst@quark.vpplus.com>
	The scancode Windows send for extended keys is the scancode of the
	unextended equivalent of the key, plus the extended flag.

	* dlls/winaspi/winaspi16.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Fixed a real mode problem.

	* loader/ne/module.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	NE_MODULE.stack_size was set to a ridiculously small value of 5.
	Windows sets 0x1400 in such cases for programs.

	* controls/static.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	We don't yet want the static control to call DestroyIcon.

	* windows/class.c: NF Stevens <norman@arcady.u-net.com>
	Added case for GCW_ATOM int GetClassLong32A.

	* misc/network.c, relay32/mpr.spec: Gael de Chalendar <gael@limsi.fr>
	Stub for WNetOpenEnum32W.

	* multimedia/dsound.c, relay32/dsound.spec:
	Robert Riggs <rriggs@tesser.com>
	More general code cleanup for readability.
	A few more parameter validation checks.
	Return DS_OK rather than 0 in a number of functions.
	Fixed primary buffer ref count bug in CreateSoundBuffer().
	Handle 1-3 byte sound fragments that would cause buffer overruns.
	Clear primary buffer with a neutral value instead of always 0
	(because 128 is neutral for 8-bit sound).
	Fix bug with mixing 8-bit sound into the primary buffer.
	Broke out the main block in DSOUND_thread() to another function for
	readability.
	Handle "no audio" and "audio busy" cases properly when initializing
	dsound. Rename DllCanUnloadNow() to DSOUND_DllCanUnloadNow().

	* debugger/hash.c: Ove Kaaven <ovek@arcticnet.no>
	Made variables optimized into registers accessible.

	* relay32/user32.spec:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	The spec definition for MonitorFromWindow was wrong.

	* msdos/int21.c: Stefan Leichter <sle@camline.com>
	File handle bug fix.

	* documentation/common_controls: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added paragraph about different dll versions and structure sizes.

	* include/commctrl.h: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added missing TOOLINFO structure.

	* multimedia/mmsystem.c: Andreas Mohr <a.mohr@mailto.de>
	Fixed a heap bug.

	* loader/task.c, memory/local.c, memory/selector.c, misc/callback.c, msdos/dpmi.c, msdos/int41.c, msdos/vxd.c, if1632/kernel.spec, if1632/thunk.c, include/callback.h, include/ldt.h, include/windows.h:
	Andreas Mohr <a.mohr@mailto.de>
	- Several kernel.spec return type mismatch fixes
	- [GS]etSelectorBase Win32s offset support by Ulrich Weigand (thanks v.m. !!)
	- Move AppToWine/WineToApp macros as W32S_APP2WINE etc. to ldt.h
	- LocalNotify() basic support
	- Fixes for local heap handling with heap handles created by Virtual*()

	* graphics/x11drv/xfont.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: -microsoft-symbol encoding was not recognized.

	* windows/win.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: WIN_ResetQueueWindows would skip some windows.

	* tools/build.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Allow recursively reentering CALL32_LargeStack.

	* include/ttydrv.h, windows/ttydrv/.cvsignore, windows/ttydrv/Makefile.in, windows/ttydrv/clipboard.c, windows/ttydrv/event.c, windows/ttydrv/init.c, windows/ttydrv/keyboard.c, windows/ttydrv/mouse.c, windows/ttydrv/wnd.c, Makefile.in, configure, configure.in:
	Patrik Stridvall <ps@leissner.se>
	Added the new TTY driver.

	* include/clipboard.h, include/keyboard.h, include/message.h, include/win.h, include/x11drv.h, windows/clipboard.c, windows/defwnd.c, windows/dinput.c, windows/display.c, windows/event.c, windows/focus.c, windows/keyboard.c, windows/message.c, windows/nonclient.c, windows/win.c, windows/winpos.c, windows/x11drv/Makefile.in, windows/x11drv/clipboard.c, windows/x11drv/event.c, windows/x11drv/init.c, windows/x11drv/keyboard.c, windows/x11drv/mouse.c, windows/x11drv/wnd.c:
	Patrik Stridvall <ps@leissner.se>
	Moved more code to the X11 driver.

Thu Dec  3 16:29:56 1998  Alexandre Julliard  <julliard@winehq.com>

	* msdos/int10.c, msdos/int16.c, msdos/int21.c, msdos/int29.c:
	Joseph Pranevich <jpranevich@lycos.com>
	Call the new console driver for some routines. This is not completely
	done yet and more for testing purposes.

Wed Dec  2 19:58:09 1998  Alexandre Julliard  <julliard@winehq.com>

	* configure.in, console/.cvsignore, console/Makefile.in, console/generic.c, console/interface.c, console/ncurses.c, console/tty.c, include/acconfig.h, include/config.h.in, include/console.h, include/winnt.h, loader/main.c, misc/main.c, Makefile.in, configure:
	Joseph Pranevich <jpranevich@lycos.com>
	Added console support.

	* graphics/x11drv/oembitmap.c, include/bitmap.h, include/gdi.h, include/x11drv.h, loader/main.c, objects/Attic/oembitmap.c, objects/Makefile.in, objects/bitmap.c, objects/cursoricon.c, graphics/metafiledrv/init.c, graphics/psdrv/init.c, graphics/win16drv/init.c, graphics/win16drv/pen.c, graphics/x11drv/Makefile.in, graphics/x11drv/init.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Move OEM resources to the x11drv.

	* files/dos_fs.c: Alexander Larsson <alla@lysator.liu.se>
	Opening a file in a directory which doesn't exist returns
	ERROR_FILE_NOT_FOUND instead of ERROR_PATH_NOT_FOUND.

	* memory/atom.c: Marcus Meissner <marcus@jet.franken.de>
	Handle atoms "# non number" (oracle client).

Tue Dec  1 16:23:19 1998  Alexandre Julliard  <julliard@winehq.com>

	* if1632/kernel.spec, misc/error.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Renamed KERNEL.327 to HandleParamError (as in 'Undoc. Windows').
	Fixed wrong ordinals/prototype for MapProcessHandle/GetModuleFileName32.
	Added names for some undocumented exports.

	* memory/global.c, if1632/thunk.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented GlobalChangeLockCount (KERNEL.365).

	* if1632/toolhelp.spec, include/toolhelp.h, memory/heap.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented Local32Info, stubs for Local32First/Next (KERNEL.444-446).

	* if1632/gdi.spec, objects/gdiobj.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented GdiFreeResources (GDI.609).

	* include/dsound.h, multimedia/dsound.c:
	Robert Riggs <rriggs@tesser.com>
	Fixed 8-bit WAV format handling (it is unsigned data).
	Fixed off-by-one checks for buffer wrap.
	Increment ref count for primary buffer in CreateSoundBuffer().
	Added DSBPN_OFFSETSTOP support to position notification code.
	Lots of minor parameter validation checks.
	Stubs for: IDirectSound_initialize(), IDirectSound_Compact(),
	and IDirectSound_GetSpeakerConfig().
	Fixed freq shifting with 16-bit data problem, fixed 8bit<->16bit
	conversion.
	Lots of thread locking for DirectSound buffers.
	Dealloc primary buffer when dsound is deallocated.

	* include/wintypes.h:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added the TEXT() and MAKELRESULT() definitions.

	* windows/queue.c: Juergen Schmied <juergen.schmied@metronet.de>
	Small change.

	* Makefile.in: James Juran <jrj120@psu.edu>
	Revert misguided change to install_lib that broke -disable-lib
	configure option.

	* misc/main.c, include/windows.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	New parameter SPI_GETDRAGFULLWINDOW.
	One missing break in SPI_GETDRAGFULLWINDOW.

	* dlls/shell32/pidl.c, relay32/shell32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	New functions ILGlobalClone/ILGlobalFree.

	* documentation/printing:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Add a note about WinPrinters.

	* relay32/ntdll.spec, relay32/ole32.spec, relay32/user32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Added some stubs, some ptr->str conversions.

	* graphics/ddraw.c, include/ddraw.h, relay32/ddraw.spec:
	Lionel Ulmer <ulmer@directprovider.net>
	- added definition of DirectDrawCreateClipper.
	- more versatile support of surfaces / better surface description support.

	* dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shlview.c, include/shell.h, relay32/shell32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixed wrong parameter count for SHChangeNotifyDeregister,  SHFreeUnusedLibraries.
	New functions ParseField, Get/SetInstanceExplorer(), PathIsUNC, PathIsRelative.
	Stubs SHWaitForFileToOpen, PathFindOnPath.

	* relay32/user32.spec: Juergen Schmied <juergen.schmied@metronet.de>
	Small changes to print the strings in the relay-trace.

	* windows/class.c: NF Stevens <norman@arcady.u-net.com>
	The class name needs to be converted to a getptr.

	* multimedia/mcimidi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed memory/status recovery when error occured in MIDI_mciOpen.
	Fixed support for RMID files in MIDI_mciOpen.
	Fixed bug for playing MIDI files with tempo changes. Sound output is
	now correct, but length of tracks (and therefore of whole file) is not
	correct.
	Changed error values (INTERNAL => INVALID_FILE) when file cannot be read.

	* multimedia/mciwave.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed memory/status recovery when error occured in WAVE_mciOpen.
	Changed error values (INTERNAL => INVALID_FILE) when file cannot
	be read.

	* multimedia/msvideo.c, relay32/msvfw32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	Stubs for MCIWndCreate[A|W].

	* misc/ver.c: Juergen Schmied <juergen.schmied@metronet.de>
	VerQueryValue, bugfix: we cant convert binary data with
	HEAP_strdupWtoA (\VarFileInfo\Translation).

Mon Nov 30 17:41:17 1998  Alexandre Julliard  <julliard@winehq.com>

	* relay32/advapi32.spec, win32/advapi.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Stubs for EnumServiceStatus32, small changes.

	* objects/cursoricon.c: Juergen Schmied <juergen.schmied@metronet.de>
	Load now the first icon from the *.ani file instead of crashing.

	* miscemu/main.c: Marcus Meissner <marcus@jet.franken.de>
	Fix warnings in miscemu/main.c.

	* include/windows.h:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	- added some defines around the CommPort (PURGE_XXX and MS_XXX_ON)
	- added the DLGTEMPLATE and DLGITEMTEMPLATE structures
	- added the function definition for StartPage,EndPage,GetCommMask,
		GetCommModemStatus and PurgComm,WaitCommEvent.

	* windows/defwnd.c: Paul Quinn <PaulQ@corel.com>
	Fixed activation/Focus message order problem when creating a new HWND.

	* windows/winpos.c, if1632/user.spec, include/windows.h, relay32/user32.spec:
	Paul Quinn <PaulQ@corel.com>
	Implementation of ChildWindowFromPointEx functions.

	* misc/registry.c: Gavriel State <gavriels@corel.com>
	Fixed registry query error value: now returns ERROR_FILE_NOT_FOUND.

	* objects/bitmap.c, objects/cursoricon.c, objects/dib.c, objects/palette.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	GetSystemPaletteEntries returns palette size if entries==NULL.
	Use this instead of COLOR_GetSystemPaletteSize.

	* relay32/dsound.spec, multimedia/dsound.c:
	Marcus Meissner <marcus@jet.franken.de>
	Implemented class factory for dsound.

	* relay32/kernel32.spec, misc/comm.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	- fixed a minimal error in GetCommMask definition.
	- adds stubs for GetCommModemStatus and WaitCommEvent.

	* include/xmalloc.h, library/winestub.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Fixes for C++ Winelib compilation.

	* ole/compobj.c: Marcus Meissner <marcus@jet.franken.de>
	Bugfix: second RegOpenKey should use CLSIDkey instead of HKEY_CLASSES_ROOT.

Fri Nov 27 16:06:08 1998  Alexandre Julliard  <julliard@winehq.com>

	* BUGS, documentation/bugreports, documentation/debugging, documentation/no-windows, documentation/wine.man:
	James Juran <jrj120@psu.edu>
	Documentation updates.

	* Makefile.in: James Juran <jrj120@psu.edu>
	Fixed 'make install' to really check for libwine.a before installing
	it.

	* graphics/ddraw.c, include/options.h, misc/main.c:
	Stephen Crowley <crow@debian.org>
	Added a new cmdline switch to disable XF86 DGA Extensions, -nodga.

	* files/drive.c: Andreas Mohr <a.mohr@mailto.de>
	Improved GetDiskFreeSpace32A().

Thu Nov 26 16:32:00 1998  Alexandre Julliard  <julliard@winehq.com>

	* windows/win.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Remove included color.h.

	* loader/pe_image.c: Marcus Meissner <marcus@jet.franken.de>
	Remove unnecessary check for entrypoint address (test binary was
	infected by a virus which uses invalid PE loading stuff).

	* graphics/painting.c, relay32/gdi32.spec:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added stubs for Startpage and EndPage.

	* if1632/thunk.c, objects/dc.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Removed some unnecessary FIXME outputs.

	* if1632/kernel.spec, loader/task.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented KERNEL.602 and stub for KERNEL.490.

	* ole/ole2nls.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Do *not* zero out output buffer in GetNumberFormat32[AW].

Wed Nov 25 18:15:53 1998  Alexandre Julliard  <julliard@winehq.com>

	* ole/nls/grc.nls, ole/nls/sky.nls, ole/nls/tha.nls, ole/nls/trk.nls, ole/ole2nls.c:
	Pablo Saratxaga <srtxg@chanae.alphanet.ch>
	Small fixes.

	* loader/ne/resource.c, include/module.h, loader/resource.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Moved ...Resource16 routines to loader/resource.c.
	Implemented accessing PE-file resources with 16-bit resource routines.

	* if1632/kernel.spec, loader/ne/Makefile.in, loader/ne/convert.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implementation of PE->NE resource conversion routines (KERNEL.615-618).

	* include/oleauto.h, ole/ole2disp.c, relay32/oleaut32.spec:
	Francis Beaudet <francis@macadamian.com>
	Implemented 3 methods: SysAllocStringLen(), SysReAllocStringLen()
	and SysStringLen(). Ensure that the BSTR objects were allocated
	according to the Windows documentation.

	* dlls/shell32/Makefile.in, dlls/shell32/pidl.c, dlls/shell32/shell32_main.c, dlls/shell32/shellord.c, dlls/shell32/shellpath.c, dlls/shell32/shlview.c, include/shell.h, relay32/shell32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	Moved existing path - functions to shellpatch.c.
	New: PathRemoveBlanks32A|W,  PathMatchSpec32A|W,
	PathSetDlgItemPath32A|W.

	* dlls/shell32/folders.c, dlls/shell32/shelllink.c, dlls/shell32/shellole.c, include/shlobj.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Moved existing IShellLink class. New stubs for IShellLinkW.

	* include/bitmap.h, include/color.h, include/gdi.h, include/x11drv.h, include/x11font.h, misc/main.c, objects/bitmap.c, objects/color.c, objects/dc.c, objects/gdiobj.c, windows/Attic/graphics.c, windows/dce.c, windows/display.c, windows/event.c, windows/input.c, windows/mouse.c, windows/scroll.c, windows/sysmetrics.c, windows/user.c, graphics/ddraw.c, graphics/painting.c, graphics/wing.c, graphics/x11drv/bitblt.c, graphics/x11drv/bitmap.c, graphics/x11drv/brush.c, graphics/x11drv/clipping.c, graphics/x11drv/dib.c, graphics/x11drv/graphics.c, graphics/x11drv/init.c, graphics/x11drv/pen.c, graphics/x11drv/text.c, graphics/x11drv/xfont.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Remove X_DC_INFO from DC and make it behave like any other PDEVICE.

	* include/miscemu.h, msdos/dpmi.c, msdos/int21.c, msdos/int25.c, msdos/int26.c, msdos/int2f.c, msdos/xms.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Changed CTX_SEG_OFF_TO_LIN to allow linear addresses in 32-bit
	registers (used by DeviceIoControl). Adapted all users.

	* include/winioctl.h, win32/device.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented (most) VWin32.VxD DeviceIoControl routines.

Tue Nov 24 20:47:17 1998  Alexandre Julliard  <julliard@winehq.com>

	* include/thread.h, scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Set the TEBF_WIN32 flag in teb.flags for 32-bit threads.

	* loader/task.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Call InitThreadInput in GetFastQueue with correct parameter
	for 32-bit queues.

	* win32/kernel32.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: [QF]T_Thunk should clear HIWORD(EAX) on return.
	Bugfix: hack for stupid USER32 CallbackGlueLS routine in Common32ThkLS.

	* if1632/thunk.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Bad jump generated in THUNK_AllocLSThunklet.
	Bugfix: Forgot to convert segptr in AllocLSThunkletCallbackEx.

	* graphics/x11drv/xfont.c: Eric Warnke <eric@snowmoon.com>
	Don't match against Symbol or Nil fonts.

	* memory/global.c: Stephen Crowley <crow@debian.org>
	Return the "buffers" and "cached" memory as free since it is
	deallocated when a program needs it anyway.

	* windows/dialog.c, include/windows.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Bugfix: SetDlgItemText32 returns BOOL not void.

	* relay32/user32.spec, windows/user.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	New stubs GetUserObjectInformationA|W.

	* relay32/relay386.c: Marcus Meissner <marcus@jet.franken.de>
	Removed left over 'show' and useless deadbeef checking which doesn't
	work.

	* loader/pe_image.c: Marcus Meissner <marcus@jet.franken.de>
	Adjust broken entrypoint addresses. (win98 notepad.exe)

	* documentation/status/multimedia: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Updated according to development.

	* if1632/mmsystem.spec, relay32/winmm.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Some new stubs (midiStreamXXX functions, some mci functions, and
	some mmio functions).

	* multimedia/midi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Moved MCI part to mcimidi.c ; added DriverProc.

	* multimedia/audio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Moved MCI part to mciwave.c ; added some error checking ; added
	DriverProc

	* include/debug.h, include/debugdefs.h, multimedia/Makefile.in:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added mcimidi and mciwave.

	* multimedia/mcimidi.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed bug in MCI_INFO command ; fixed pause/resume commands ; fixed
	seek command.

	* multimedia/mciwave.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Starting writing MCI part ; fixed bug in MCI_INFO command.

	* multimedia/mmio.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added some missing stubs in 32 bit part.

	* multimedia/mcistring.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Made use of new 16/32 MCI message handling in mmsystem.c.

	* include/mmsystem.h, include/multimedia.h:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added some new functions/structures definitions.(I couldn't get all
	the manifest constants values that MS was referring to in its specs...
	if someone has them...)

	* multimedia/mcianim.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added some error checking ; made use of new 16/32 MCI message handling
	in mmsystem.c ; fixed bug in MCI_INFO command.

	* multimedia/mcicda.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Added some error checking ; made use of new 16/32 MCI message
	handling in mmsystem.c.
	Added Win95 command to handle cd-rom with both data and audio ; fixed
	bug in MCI_INFO command ; shadowing MCI status for devices that can't
	get current status ; fixed status not being updated on cd change.

	* multimedia/mmsystem.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Factorized 16/32 bit MCI function by using  message mapping from 16
	to 32 bits ; added some new prototypes mciSendCommand, mciSendString,
	mci(Set/Get)YieldProc ; started writing midiStreamXXX functions - not
	yet working. Fixed some issues regarding asynchronous MCI commands ;
	fixed MCI_SYSINFO command.

	* resources/sysres_Fr.rc: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Fixed some quirks.

Sun Nov 22 18:29:50 1998  Alexandre Julliard  <julliard@winehq.com>

	* dlls/shell32/contmenu.c, dlls/shell32/dataobject.c, dlls/shell32/folders.c, dlls/shell32/iconcache.c, dlls/shell32/pidl.h, dlls/shell32/shell32_main.h, dlls/shell32/shlview.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Many fixes.

	* dlls/shell32/pidl.c: Juergen Schmied <juergen.schmied@metronet.de>
	New function: _ILGetExtension.

	* dlls/shell32/Makefile.in, dlls/shell32/classes.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	New file. HKEY_CLASSES_ROOT handling.

	* documentation/common_controls: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Updated.

	* dlls/comctl32/header.c, dlls/comctl32/status.c, dlls/comctl32/toolbar.c, include/commctrl.h, include/header.h, include/listview.h, include/ole2.h, include/rebar.h, include/status.h, include/toolbar.h, include/tooltips.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added Unicode support (at least partially).

	* ole/Makefile.in, ole/compobj.c, ole/oleobj.c, include/oleobj.h, include/shlobj.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added IOleAdviseHoler interface (still a dummy) and fixed
	CreateOleAdviseHolder().

	* dlls/comctl32/commctrl.c, dlls/comctl32/tooltips.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added global subclassing atom, used by tooltips and updown (not yet).

	* dlls/comctl32/rebar.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Improved layout code.

	* dlls/comctl32/imagelist.c, relay32/comctl32.spec:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed ImageList_LoadImage().

	* dlls/comctl32/comboex.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added CMEM_SETITEM32A and message forwarding to combobox.

	* ole/moniker.c, relay32/ole32.spec:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added stub for CreateItemMoniker().

	* dlls/comctl32/comctl32undoc.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed some undocumented function names and implemented DPA_Merge
	partially.

	* controls/button.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Enabled double click for buttons.

	* include/windows.h: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added command and return constants used by WM_NOTIFYFORMAT.

	* objects/brush.c, objects/dc.c, objects/gdiobj.c, objects/pen.c, windows/Attic/graphics.c, graphics/painting.c, graphics/x11drv/bitblt.c, graphics/x11drv/dib.c, graphics/x11drv/graphics.c, graphics/x11drv/text.c, include/dc.h, include/x11drv.h:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Moved DC_SetupGC functions to graphics/x11drv/graphics.c.

	* include/options.h, misc/main.c, ole/ole2nls.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Small fixes to get the default language to a sensible value.
	Thanks to Pablo.

	* ANNOUNCE, DEVELOPERS-HINTS, README, documentation/README.documentation, documentation/how-to-port, documentation/wine.man, documentation/wine.texinfo:
	Douglas Ridgway <ridgway@winehq.com>
	Miscellaneous small fixes.

	* graphics/win16drv/prtdrv.c, if1632/gdi.spec, include/windows.h, objects/metafile.c, objects/region.c, relay32/gdi32.spec:
	Andreas Mohr <a.mohr@mailto.de>
	Added Win16 implementation for GetRegionData().

	* ole/typelib.c: Andreas Mohr <a.mohr@mailto.de>
	Enhanced OABuildVersion() to return different version values for
	different winvers.

	* msdos/int21.c: Andreas Mohr <a.mohr@mailto.de>
	Added INT21_ParseFileNameIntoFCB() and some other things to get
	COMMAND.COM working.

	* relay32/kernel32.spec: Juergen Schmied <juergen.schmied@metronet.de>
	Added missing entry for GetNumberFormatW.

	* objects/palette.c: Juergen Schmied <juergen.schmied@metronet.de>
	Checking for NULL-pointer.

	* ole/nls/fra.nls, ole/nls/frb.nls, ole/nls/frc.nls, ole/nls/frl.nls:
	Robert Pouliot <krynos@clic.net>
	Better OLE support in French languages.

	* loader/module.c: Juergen Schmied <juergen.schmied@metronet.de>
	Implementation of CreateProcess32W.

	* windows/event.c: David Luyer <luyer@ucs.uwa.edu.au>
	Queuing of deferred Expose events.

	* controls/listbox.c: Marcus Meissner <marcus@jet.franken.de>
	LB_GETTEXT: Handle passed NULL buffer.

	* controls/combo.c: Marcus Meissner <marcus@jet.franken.de>
	CB_GETTEXT: Use lpBuffer instead of lpText for LB_GETTEXT32, handle 0
	byte NULL buffer.

	* ole/nls/frs.nls, ole/nls/sky.nls, ole/ole2nls.c:
	Marcus Meissner <marcus@jet.franken.de>
	Turn mega double switch into static table (reduces compile time).

	* AUTHORS, include/authors.h: Added Robert Riggs.

	* include/d3d.h: Robert Riggs <rriggs@tesser.com>
	include ddraw.h, questionable fix for questionable struct/union
	construct in MS's D3DVECTOR definition.

	* include/dsound.h: Robert Riggs <rriggs@tesser.com>
	More flags (DirectX 5.2), DirectSound3DListener and
	DirectSound3DBuffer structures, include some required files
	(windows.h, compobj.h, and d3d.h).

	* multimedia/dsound.c: Robert Riggs <rriggs@tesser.com>
	DirectSound3DListener and DirectSound3DBuffer stubs, new mixer code,
	primary buffer is implemented closer to what the SDK docs specify,
	other SDK documented behaviour enforced. Completed the devcaps list.

	* misc/crtdll.c, relay32/crtdll.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	New stubs strdate, strtime.

	* memory/selector.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: typo in SUnMapLS_IP_EBP_8 lead to stack corruption.

	* misc/comm.c: Cliff Wright <cliff@snipe444.org>
	Fixed a mask set, and other parity setting bugs for serial ports.

	* include/sig_context.h: Vasudev Mulchandani <vasu@teil.soft.net>
	Added BSDI sigcontext definitions.

	* windows/class.c: Rein Klazes <rklazes@casema.net>
	Fixed typo.

	* relay32/relay386.c: Marcus Meissner <marcus@jet.franken.de>
	Remove now useless RELAY_ShowDebugmsgsRelay check.

	* loader/pe_image.c: Marcus Meissner <marcus@jet.franken.de>
	Do not relocate the pointers in the IMAGE_THREAD_LOCAL_STORAGE
	directory, for they seem to be relocated by the standard relocating
	mechanism. (Explicitly checked one program using it)

	* dlls/shell32/shellord.c, include/shell.h:
	Marcus Meissner <marcus@jet.franken.de>
	PathAddBackshlash, PathRemoveBackslash: argument is not constant.

	* windows/win.c: Marcus Meissner <marcus@jet.franken.de>
	Check wndPtr for NULL.

	* graphics/ddraw.c: Marcus Meissner <marcus@jet.franken.de>
	BltFast: Honor lPitch, Lock/Unlock surfaces (xlib needs unlock to draw).

	* misc/spooler.c, misc/Makefile.in, miscemu/main.c, Makefile.in, graphics/win16drv/init.c, loader/main.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Takes print spooler functions out of win16drv.
	Allows the PostScript driver to go into libwine.

	* if1632/gdi.spec, objects/brush.c, objects/palette.c:
	Ian Schmidt <irsman@iag.net>
	Added stubs for two undocumented GDI routines, SetMagicColors and
	SetSolidBrush. This allows Win98 native USER to start up.

	* graphics/ddraw.c: Stephen Crowley <crow@debian.org>
	Fixed the DGA detection code in ddraw. You don't need root access,
	having r+w access to /dev/mem is enough.

	* documentation/status/directdraw, graphics/ddraw.c, graphics/wing.c, include/ddraw.h:
	Marcus Meissner <marcus@jet.franken.de>
	DirectDraw status updated.
	Use cooperative window for drawing in xlib implementation if possible.
	Slightly restructured IDirectDrawSurface::Blt so it doesn't crash.

	* windows/keyboard.c: David Faure <David.Faure@insa-lyon.fr>
	Micro patch for AltGr key on german keyboards.

	* files/dos_fs.c: Juergen Schmied <juergen.schmied@metronet.de>
	Fixes error handling (SetLastError() and return value).

	* objects/text.c, include/windows.h: Gael de Chalendar <gael@limsi.fr>
	Partially complete GetTextCharsetInfo and corrects return values for
	this family of functions.

Sun Nov 15 18:12:12 1998  Alexandre Julliard  <julliard@winehq.com>

	* ole/compobj.c: Juergen Schmied <juergen.schmied@metronet.de>
	Bug fix.

	* objects/dib.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed retrieval of invalid palette data in GetDIBits().

	* windows/winpos.c: John Richardson <jrichard@zealand.mv.com>
	Allow SWP_HIDEWINDOW to be called on windows that are already hidden
	without unmapping them again.

	* windows/scroll.c: Pim Bollen <pim@gimli.iaehv.nl>
	Fixed scroll bug in ScrollWindowEx32 which caused garbage on screen
	outside desktop window with gtwin.exe (Dutch banking program).

	* loader/main.c, memory/atom.c, misc/ddeml.c, windows/class.c, windows/message.c, include/Attic/atom.h, include/global.h:
	Small atom fixes.

	* objects/dib.c: Dirk Thierbach <thierbach@mathematik.tu-darmstadt.de>
	Fixed bug in StretchDIBits32 (wrong origin).

	* windows/winproc.c: Juergen Schmied <juergen.schmied@metronet.de>
	Small fixes.

	* include/ddraw.h, include/ts_xshm.h, tools/make_X11wrappers, tsx11/X11_calls, tsx11/ts_xshm.c, graphics/ddraw.c:
	Lionel Ulmer <ulmer@directprovider.net>
	Some corrections to the handling of off-screen buffers.
	Correction to the EnumDisplayModes function.
	Added XShm support to Xlib driver.
	Open a DirectX window even when using the DGA driver.

	* include/shell.h, include/shlobj.h, misc/shell.c, relay32/shell32.spec, dlls/shell32/Makefile.in, dlls/shell32/contmenu.c, dlls/shell32/dataobject.c, dlls/shell32/folders.c, dlls/shell32/shell32_main.c, dlls/shell32/shell32_main.h, dlls/shell32/shellole.c, dlls/shell32/shellord.c, dlls/shell32/shlfolder.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Cleanup, small fixes, a few new stubs.

	* dlls/shell32/shlview.c: Juergen Schmied <juergen.schmied@metronet.de>
	Handling for listviewstyles, view mode buttons in filedialogs
	enabled and handled.
	New listview columns Size, Type, Modified for reportview
	created and handled.

	* dlls/shell32/if_macros.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	New file, wrapper for IShellBrowser class.

	* dlls/shell32/iconcache.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	New file, some helper functions for icon cache.
	Implemented ExtractIconEx; moved SHMapPIDLToSystemImageListIndex,
	Shell_GetImageList in this file.

	* dlls/shell32/pidl.c, dlls/shell32/pidl.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Implemented: ILIsEqal, ILFindChild, _ILGetFileDate, _ILGetFileSize.

	* loader/module.c: Juergen Schmied <juergen.schmied@metronet.de>
	LoadLibraryEx: show a warning when called with unimplemented parm.

	* miscemu/instr.c: Cleaned up a bit.

	* memory/selector.c, miscemu/instr.c, tools/build.c:
	Marcus Meissner <marcus@jet.franken.de>
	Clean invalid selectors on the pop %xs from the STACKFRAME itself
	instead of using linked list hack.

	* Makefile.in: Removed gets message.

	* ole/nls/tha.nls: David Luyer <luyer@ucs.uwa.edu.au>
	Added Thai nls-resources.

	* ole/nls/README, ole/nls/cze.nls, ole/nls/ese.nls, ole/nls/esg.nls, ole/nls/est.nls, ole/nls/euq.nls, ole/nls/fos.nls, ole/nls/hrv.nls, ole/nls/hun.nls, ole/nls/isl.nls, ole/nls/nor.nls, ole/nls/plk.nls, ole/nls/ptg.nls, ole/nls/rom.nls, ole/nls/slv.nls, ole/nls/sve.nls, ole/ole2nls.c, include/winnls.h:
	Pablo Saratxaga <srtxg@chanae.alphanet.ch>
	Display the language id for "XXX not supported for your language"
	messages.
	Added all languages and sublanguages for languages supported in
	resources/sysres_Xx.

	* ole/ole2.c, relay32/ole32.spec: Gavriel State <gavriels@corel.com>
	Add stubs for GetRunningObjectTable32 and OleRegGetUserType.

	* ole/moniker.c: Gavriel State <gavriels@corel.com>
	Ensure that CreateFileMoniker functions don't return a bogus moniker
	object on failure.

	* include/class.h, windows/class.c: Gavriel State <gavriels@corel.com>
	Added code to manage Ascii and WideChar class names, and to return the
	names in the GetClassInfo functions.

	* include/winsock.h: Constantine Sapuntzakis <csapuntz@stanford.edu>
	Fix to Linux IPX so compiles on non-linux platforms.

	* misc/main.c: Marcus Meissner <marcus@jet.franken.de>
	Own X11 errorhandler to locate X11 errors. Useful only with -sync.

Sat Nov 14 18:59:30 1998  Alexandre Julliard  <julliard@winehq.com>

	* include/color.h, include/imagehlp.h, include/palette.h, memory/global.c, misc/registry.c, windows/defwnd.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixed warnings, some only visible with -Wstrict-prototypes or -pedantic.

	* include/cursoricon.h, include/display.h, include/message.h, objects/cursoricon.c, windows/display.c, windows/mouse.c, windows/x11drv/init.c, if1632/display.spec:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Moved X11 mouse cursor handling to the DISPLAY driver.

	* if1632/thunk.c, include/callback.h, loader/main.c, loader/task.c, misc/callback.c, miscemu/main.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Some fixes to Wine startup/termination sequence with native USER.
	Do not call built-in USER signal handler when using native USER.

	* debugger/break.c, include/debugger.h, include/task.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: -debug didn't work anymore after the last startup sequence patch.

	* ole/compobj.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed list insertion bug in CoLoadLibrary().

	* if1632/wprocs.spec, msdos/Makefile.in, msdos/int2f.c, msdos/int41.c, msdos/vxd.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added stubs for several VxDs / interrupts.

	* if1632/thunk.c, include/callback.h, misc/callback.c, graphics/win16drv/init.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Should get win16drv AbortProc working. Hopefully.

	* windows/input.c, windows/keyboard.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Moved GetKeyboardLayoutName16 to windows/input.c.

	* include/imagehlp.h, include/winnt.h, include/wintypes.h:
	Patrik Stridvall <ps@leissner.se>
	Moved some declarations from imagehlp.h to common include files.

	* relay32/kernel32.spec, win32/thread.c:
	Rein Klazes <rklazes@casema.net>
	Added implementations for InterlockedExchangeAdd() and
	InterlockedCompareExchange().

	* win32/console.c, objects/dib.c, objects/enhmetafile.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fixes a few of the many compiler warnings.

	* miscemu/instr.c: Marcus Meissner <marcus@jet.franken.de>
	Emulate "mov cr4,eax" (tombraider 3 demo).

	* graphics/ddraw.c: Marcus Meissner <marcus@jet.franken.de>
	Do not enumerate D3D devices we can't handle anyway.
	Return bitmasks for hi/truecolor depths in EnumDisplayModes.

	* if1632/snoop.c, include/snoop.h, relay32/builtin32.c, relay32/snoop.c:
	Marcus Meissner <marcus@jet.franken.de>
	Speed up relay32, snoop16 and snoop32 include/excludes by doing them
	just once at creation time.

	* relay32/ole32.spec, ole/compobj.c, ole/ole2.c:
	Pavel Roskin <pavel_roskin@geocities.com>
	Added stubs for CoRevokeClassObject and OleSetClipboard.

	* windows/win.c: Per Ångström <pang@mind.nu>
	EnumTaskWindows16: Basing the selection on a window's task is not only
	more straightforward than comparing message queues, it also works
	better for Win32 applications.

	* memory/local.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Changed some of the message classes.

	* windows/keyboard.c: David Faure <David.Faure@insa-lyon.fr>
	Special case handling of : Shift + arrow, shift + home, ...
	X returns a char for it, but Windows doesn't. Ignore X char.
	Also added some documentation.

	* include/winsock.h, misc/winsock.c:
	Stephen Langasek <vorlon@dodds.net>
	Bugfixes for IPX code and preliminary groundwork for other address
	family support.

	* ole/compobj.c: Marcus Meissner <marcus@jet.franken.de>
	(CoGetClassObject) one missing CALLBACK, extremely simplified clsid
	lookup (Registry is case insensitive).

	* relay32/ntdll.spec, win32/advapi.c, dlls/ntdll/rtl.c, relay32/advapi32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	Stubs: SetServiceStatus, RegisterServiceCtrlHandlerA/W,
	StartServiceCtrlDispatcher32A/W, RtlSystemTimeToLocalTime,
	RtlTimeToTimeFields.

	* include/windows.h, ole/ole2nls.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Stub for GetNumberFormat32W.

	* misc/crtdll.c: David A. Cuthbert <dacut@ece.cmu.edu>
	gets() fixes.

	* ole/nls/rus.nls: Alexander V. Lukyanov <lav@long.yar.ru>
	Fix SCOUNTRY, SNATIVECTRYNAME, SABBREVDAYNAME3; change some SMONTHNAME*
	to be in nominative case.

	* windows/queue.c: Per Ångström <pang@mind.nu>
	Fixed SetMessageQueue32 to return FALSE, not TRUE, when called with
	an invalid size parameter.

	* multimedia/dsound.c: Lionel Ulmer <ulmer@directprovider.net>
	Added correct implementation of GetCaps, changed Play and Stop handling
	of positions indexes, suppressed warnings.

	* memory/local.c: Lionel Ulmer <ulmer@directprovider.net>
	Corrected bug in TRACE function.

	* AUTHORS, graphics/ddraw.c, include/authors.h, include/ddraw.h:
	Lionel Ulmer <ulmer@directprovider.net>
	Corrected bug in DirectDrawSurface creation and handling for driver
	based upon Xlilb.

	* windows/dinput.c: Lionel Ulmer <ulmer@directprovider.net>
	Wine keyboard and mouse have now their own UIDs.

	* objects/brush.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fix allocation size in CreateDIBPatternBrush*.

----------------------------------------------------------------
Sun Nov  8 16:44:41 1998  Alexandre Julliard  <julliard@winehq.com>

	* windows/dialog.c: NF Stevens <norman@arcady.u-net.com>
	Fixed keystroke accelerators in dialogs which have controls containing
	other controls as child windows.

	* include/winproc.h, misc/commdlg.c, windows/hook.c, windows/winproc.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Fixes: LB_/CB_/EM_ messages for getting/setting text and a bug in
	16->32 bit conversion.

	* objects/dib.c: Eric Pouech <Eric.Pouech@wanadoo.fr>
	Prevent CreateDIBSection from seg faulting when one dimension of
	section is 0.

	* configure, configure.in, include/config.h.in, include/winsock.h, misc/winsock.c:
	Stephen Langasek <vorlon@dodds.net>
	Support for IPX networking via winsock under Linux.

	* relay32/gdi32.spec, graphics/painting.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added a stub for StartDocA and EndDoc.

	* relay32/kernel32.spec, scheduler/process.c, win32/console.c:
	James Sutherland <JamesSutherland@gmx.de>
	More complete implementation of the SetCtrlHandler() function (and the
	related console functions).

	* objects/brush.c, relay32/gdi32.spec: Jeff Johann <jjohann@kiva.net>
	Added CreateDIBPatternBrushPt (GDI32.35) with minor documentation
	updates.

	* graphics/vga.c, include/vga.h, msdos/ioports.c:
	Ove Kaaven <ovek@arcticnet.no>
	Simulate the VGA vertical refresh.

	* graphics/ddraw.c: Lionel Ulmer <ulmer@directprovider.net>
	Added support of source and destination rectangles in Blit function.

	* include/dinput.h, windows/dinput.c:
	Lionel Ulmer <ulmer@directprovider.net>
	Added device type constants and used them in device enumeration
	function.

	* misc/registry.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	API documentation says that RegEnumKeyEx, RegEnumValue and
	RegQueryInfoKey takes the size of the buffers as characters.

	* ole/compobj.c: Added missing #include "config.h"

	* AUTHORS, configure, configure.in, include/authors.h, include/config.h.in, ole/compobj.c:
	Justin Bradford <justin@ukans.edu>
	Replaces CoCreateGuid stub with an implementation of DCE's UUID
	specification. Also removes some unnecessary code from StringFromCLSID.

	* include/commctrl.h, include/winbase.h, include/wintypes.h:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added an extern "C" safeguard.

	* include/commdlg.h, include/windows.h, windows/input.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	- adds GetExitCodeProcess
	- corrects the return-type of GetKeyState
	- corrects the winelib definition of IsDialogMessage
	- adds winelib definitions for PrintDlg

	* objects/clipping.c: Rein Klazes <rklazes@casema.net>
	ExtSelectClipRgn fix: RGN_DIFF did not work.

	* objects/cursoricon.c, windows/event.c, windows/message.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Adapted to new input event handling.

	* if1632/thunk.c, if1632/user.spec, include/input.h, include/windows.h, relay32/user32.spec, windows/Makefile.in, windows/input.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	USER-side part of input event handling: contains implementation of
	keybd_event and mouse_event, and USER-related code removed from
	windows/event.c and windows/keyboard.c.

	* windows/display.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Stubs for DISPLAY.DRV removed from keyboard.c.

	* if1632/mouse.spec, include/mouse.h, windows/mouse.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implementation of MOUSE.DRV (contains some code taken from
	windows/event.c).

	* if1632/keyboard.spec, include/keyboard.h, windows/keyboard.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implementation of KEYBOARD.DRV (code mostly taken from previous
	windows/keyboard.c).

	* loader/main.c, loader/task.c, miscemu/main.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: really *do* switch to the initial task's stack.
	CallLargeStack mechanism re-enabled.

	* include/debug.h, include/debugdefs.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	New Files. Added 'date and time picker' and 'month calendar' control
	dummies. They are used by Outlook Express.

	* ole/ole2.c, relay32/ole32.spec:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added stub for CreateBindCtx() and added missing CoGetClassObject()
	to *.spec file. Makes Internet Explorer 4.01 happy ;-)

	* dlls/comctl32/pager.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Little improvement.

	* dlls/comctl32/listview.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added preliminary hit testing. Makes regedit.exe happy ;-)

	* documentation/common_controls, dlls/comctl32/imagelist.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Improved documentation and fixed typos.

	* dlls/comctl32/commctrl.c, relay32/comctl32.spec:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added DrawStatusText32AW() and CreateStatusWindow32AW().

	* dlls/comctl32/rebar.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Improved display and layout code.

	* dlls/comctl32/Makefile.in, dlls/comctl32/datetime.c, dlls/comctl32/monthcal.c, include/commctrl.h, include/datetime.h, include/monthcal.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	New Files. Added 'date and time picker' and 'month calendar' control
	dummies. They are used by Outlook Express.

Sat Nov  7 12:56:32 1998  Alexandre Julliard  <julliard@winehq.com>

	* objects/enhmetafile.c, relay32/gdi32.spec, include/windows.h:
	Charles Suprin <csuprin@lynx.dac.neu.edu>
	Added stubs for SetWinMetaFileBits and GetEnhMetaFilePaletteEntries.

	* graphics/x11drv/graphics.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Stop X11DRV_RoundRect calling XDrawArc with -ve width/height params
	which it did if either ellipse dimension was zero.

	* graphics/painting.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Optimize RoundRect32 to call Rectangle32 if either ellipse dimension
	is zero.

	* relay32/mpr.spec, misc/network.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Added stub WNetEnumCachedPasswords.

	* msdos/int21.c, msdos/int25.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Made this file DOSMOD friendly.

	* loader/ne/segment.c, loader/pe_image.c:
	Andreas Mohr <mohr@elektron.ikp.physik.tu-darmstadt.de>
	Unified "No implementation for..." warnings.

	* win32/device.c: Marcus Meissner <marcus@jet.franken.de>
	monodebg.vxd used by some Origin programs implemented.

	* objects/bitmap.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Fail if less then one entire line requested in GetBitmapBits32.

	* windows/winproc.c: Rein Klazes <rklazes@casema.net>
	Added WM_GETDLGCODE handling in (Un)MapMsg32Ato16.

	* if1632/compobj.spec, include/ole.h, ole/compobj.c, relay32/ole32.spec:
	John Richardson <jrichard@zealand.mv.com>
	Implementation of CoLoadLibrary, CoFreeAllLibraries,
	CoFreeUnusedLibraries, CoFreeLibrary.
	Fixed misspelling of CoUninitialize.

	* programs/clock/ChangeLog, programs/clock/main.c:
	Robert Pouliot <krynos@clic.net>
	Fixes for other languages.

Fri Nov  6 17:36:13 1998  Alexandre Julliard  <julliard@winehq.com>

	* misc/registry.c: John Richardson <jrichard@zealand.mv.com>
	Fix wide character functions to return character count in character
	quantities not byte quantities.  Make RegQueryInfoKey and
	RegQueryInfoKey behave correctly in win95 mode.

	* include/dinput.h, windows/dinput.c:
	Lionel Ulmer <ulmer@directprovider.net>
	Changed mouse button mapping and check size of return buffer.

	* objects/clipping.c: Rein Klazes <rklazes@casema.net>
	ExtSelectClipRgn() with RGN_COPY copies the wrong region.

	* files/file.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Fixed an error in the implementation of FILE_ShareDeny.

	* scheduler/handle.c, if1632/thunk.c, include/debugtools.h, include/sig_context.h, multimedia/mmsystem.c:
	Marcus Meissner <marcus@jet.franken.de>
	Solaris redefines ERR and CS, fixed occurances.
	Solaris has TRAPNO in its sigcontext, added to sig_context.h

	* include/mmsystem.h, multimedia/mmio.c, relay32/winmm.spec, if1632/mmsystem.spec:
	Eric Pouech <Eric.Pouech@wanadoo.fr>
	Made mmioSetBuffer callable from 16 and 32 bit code.

	* controls/menu.c: Juergen Schmied <juergen.schmied@metronet.de>
	Fixed wrong arg type.

	* objects/dib.c, objects/gdiobj.c, graphics/x11drv/Makefile.in, graphics/x11drv/dib.c, graphics/x11drv/init.c, include/x11drv.h:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Moved X11 DIB stuff to x11drv.

	* win32/code_page.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	The API for WideCharToMultiByte says that the src-string has only to be
	treated as NULL-terminated if srclen is -1.

	* include/win.h, windows/event.c, windows/win.c:
	Ove Kaaven <ovek@arcticnet.no>
	Made sure ConfigureNotify is processed before Expose, deferring the
	Expose event if necessary, thus working around a WM flaw with virtual
	desktop scrolling in -managed mode.

	* resources/sysres_Fr.rc: Eric Pouech <eric.pouech@lemel.fr>
	Translated in French (not so good anyhow) message for the mark on
	system menu.

	* misc/main.c: Juergen Schmied <juergen.schmied@metronet.de>
	Changed the default from 0 to 0x409 (eng-us).

	* windows/mdi.c: Marcus Meissner <marcus@jet.franken.de>
	Two missing WINAPIs.

	* include/interfaces.h: Juergen Schmied <juergen.schmied@metronet.de>
	Fixed one wrong parameter.

	* configure, configure.in: Ove Kaaven <ovek@arcticnet.no>
	Fixed --disable-lib.

Thu Nov  5 10:33:18 1998  Alexandre Julliard  <julliard@winehq.com>

	* include/commctrl.h: Juergen Schmied <juergen.schmied@metronet.de>
	Constants for controls in common dialogs.

Wed Nov  4 18:08:33 1998  Alexandre Julliard  <julliard@winehq.com>

	* misc/crtdll.c: Juergen Schmied <juergen.schmied@metronet.de>
	Fixed some compiler warnings.

Sun Nov  1 19:27:24 1998  Alexandre Julliard  <julliard@winehq.com>

	* windows/message.c, windows/nonclient.c, windows/painting.c, windows/winhelp.c, windows/winpos.c, misc/commdlg.c, misc/shell.c, misc/winsock.c, miscemu/instr.c, multimedia/audio.c, multimedia/joystick.c, objects/bitmap.c, objects/clipping.c, objects/color.c, objects/cursoricon.c, objects/dib.c, tools/wrc/dumpres.c, tools/wrc/parser.l, windows/clipboard.c, windows/mdi.c, files/file.c, graphics/x11drv/xfont.c, memory/heap.c:
	Jesper Skov <jskov@cygnus.co.uk>
	egcs 'ambiguous else' warnings fixes.

	* include/toolhelp.h, include/windows.h, scheduler/process.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Get rid of the redefinition of MAX_PATH and move PROCESSENTRY32
	definition to toolhelp.h.

	* windows/win.c, include/pe_image.h, library/winestub.c, loader/elf.c, loader/module.c, loader/resource.c, misc/callback.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Run Winelib applications as 32-bit processes in the initial task.
	Simplified/removed several special 'if (__winelib)' cases in
	Wine main code obsoleted by that change.

	* windows/event.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Call mouse driver callback also if windows are not registered with X
	(if using native USER.EXE).

	* memory/atom.c, include/atom.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Adapted to separation between KERNEL and USER.

	* if1632/builtin.c, include/main.h, loader/main.c, loader/task.c, miscemu/main.c, relay32/gdi32.spec, relay32/kernel32.spec, relay32/user32.spec, scheduler/process.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented new Wine startup sequence, separating startup into
	KERNEL/USER/GDI related parts, allowing native replacement.
	Implemented initial 'kernel' task.

	* include/ole.h, include/winerror.h, ole/compobj.c:
	John Richardson <jrichard@zealand.mv.com>
	Implementation of InprocServer32 CoGetClassObject.

	* include/bitmap.h, objects/bitmap.c, objects/cursoricon.c, objects/oembitmap.c, graphics/x11drv/bitmap.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	More bitmap fixes.

	* windows/winproc.c: Fixed crashes with WM_GETDLGCODE translation.

	* programs/winhelp/Makefile.in, programs/winver/Makefile.in, windows/win.c, windows/x11drv/.cvsignore, windows/x11drv/Makefile.in, windows/x11drv/init.c, include/config.h.in, include/win.h, libtest/Makefile.in, programs/clock/Makefile.in, programs/control/Makefile.in, programs/notepad/Makefile.in, programs/progman/Makefile.in, programs/regtest/Makefile.in, programs/view/Makefile.in, Make.rules.in, Makefile.in, configure, configure.in, include/acconfig.h:
	Patrik Stridvall <ps@leissner.se>
	Started moving some X11 window management code to windows/x11drv.

	* if1632/user.spec, windows/dialog.c, windows/winproc.c:
	Ove Kaaven <ovek@arcticnet.no>
	Fixed IsDialogMessage16.

	* Makefile.in: Douglas Ridgway <ridgway@winehq.com>
	Tell people to ignore the 'gets' warning. Some will listen.

	* graphics/x11drv/bitmap.c, windows/graphics.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	A couple of small fixes to my bitmap patch.

	* resources/TODO, resources/sysres_De.rc, resources/sysres_En.rc, windows/nonclient.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Allow the user to put a mark in the debug log by adding a item in the
	SYSMENU. The messages needs implementation in all other languages than
	English and German.

	* files/file.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Give tempfile a different name even if they are created in the same
	second. Removed some fixmes from the ShareDeny stuff.

	* include/mdi.h, include/windows.h, relay32/user32.spec, windows/mdi.c, windows/win.c:
	Rein Klazes <rklazes@casema.net>
	CreateWindowEx32[AW] now creates an MDI chils when the WM_EX_MDICHILD
	extended style is specified. Also implemented CreateMDIWindow32A()
	call - single thread only -.

	* dlls/comctl32/treeview.c: Marcus Meissner <marcus@jet.franken.de>
	Erred in the bit macros in treeview.c. Shiftcounts were wrong.

	* loader/pe_image.c: Marcus Meissner <marcus@jet.franken.de>
	Detection of the end of imports with Characteristics 0 fail for Borland
	programs (which seem to have always characteristics 0). Changed to algorithm
	to something a bit more intelligent.

	* ole/compobj.c, relay32/ole32.spec: Ove Kaaven <ovek@arcticnet.no>
	Added CoFreeLibrary stub.

	* README: Updated FAQ location.

	* graphics/escape.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Implement SEGPTR conversion for STARTDOC in Escape32().

	* objects/dc.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: SetDCState did not reset clipping region to empty.

	* win32/init.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed small off by one error in GetComputerName32W, always killed the
	last character of a hostname.

	* objects/dib.c: Marcus Meissner <marcus@jet.franken.de>
	Don't HeapFree() colormap if we didn't allocate one.

	* win32/advapi.c, windows/message.c, windows/user.c, dlls/shell32/shellord.c, include/wintypes.h, misc/crtdll.c, misc/printdrv.c, relay32/advapi32.spec, relay32/crtdll.spec, relay32/mpr.spec, relay32/shell32.spec, relay32/user32.spec, relay32/winspool.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Added stubs for user32,advapi32 functions.

	* Makefile.in, configure, configure.in, dlls/Makefile.in, dlls/ntdll/*, include/ntdll.h, misc/Attic/ntdll.c, misc/Makefile.in, relay32/ntdll.spec:
	Marcus Meissner <marcus@jet.franken.de>
	More Nt* and Rtl* function stubs, moved ntdll.c to dlls/ntdll/.

	* memory/local.c, memory/heap.c: Andreas Mohr <a.mohr@mailto.de>
	Changed many WARN()s related to internal Wine memory failures to
	ERR()s.

	* if1632/kernel.spec, scheduler/process.c:
	Andreas Mohr <a.mohr@mailto.de>
	Added .spec entry for KERNEL.RegisterServiceProcess.

	* if1632/display.spec, windows/keyboard.c:
	Andreas Mohr <a.mohr@mailto.de>
	Added stub for CheckCursor().

	* include/dialog.h, windows/defdlg.c: Tim Newsome <nuisance@cmu.edu>
	Fix for non-modal dialog closing.

	* windows/dinput.c: David Faure  <faure@kde.org>
	Rewrote the two routines using the vkey->scancode array to use
	keyc2vkey for each keycode, instead. Not tested.
	Removed unused IDirectInputDeviceA_GetDeviceState.
	Fixed warning in TRACE() call.

	* windows/keyboard.c: David Faure <faure@kde.org>
	Deleted the vkey->sancode array, because QWERTY specific.
	Back to using the X keycode instead as the scancode. Tested.

	* graphics/psdrv/init.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Print a message if the PostScript driver can't find a PPD file.

	* msdos/int10.c: Ove Kaaven <ovek@arcticnet.no>
	Added VGA 256-color mode 0x13 using the DisplayDib VGA emulation.
	(DOS apps/games using this mode comes up now, although you can't
	really do anything with them (yet?).)

	* msdos/dpmi.c: Ove Kaaven <ovek@arcticnet.no>
	Use macro V86_FLAG.

	* msdos/dosmem.c: Ove Kaaven <ovek@arcticnet.no>
	Set default video mode to 3 (80x25 color).

	* loader/dos/dosmod.c: Ove Kaaven <ovek@arcticnet.no>
	Ignores a couple of signals.

	* graphics/Makefile.in, graphics/dispdib.c, graphics/vga.c, include/vga.h, msdos/ioports.c:
	Ove Kaaven <ovek@arcticnet.no>
	Moved VGA-emulating DirectX code from dispdib.c to a separate
	file. Made it use a system timer and trap I/O accesses to the VGA
	DAC registers to accommodate DisplayDib-using programs that try to
	access the VGA hardware directly.

	* miscemu/instr.c, if1632/signal.c, include/dosexe.h, loader/dos/dosvm.c, loader/dos/module.c, misc/system.c:
	Ove Kaaven <ovek@arcticnet.no>
	Indirection for INSTR_EmulateInstruction for use by DOS code.
	Added support for a 55Hz system timer, letting DOS apps calibrate
	their delay loops and such. Calls INSTR_EmulateInstruction for
	instruction emulation (principally I/O port access). Added macro
	V86_FLAG.

Sat Oct 31 12:20:56 1998  Alexandre Julliard  <julliard@winehq.com>

	* windows/dinput.c, multimedia/dsound.c:
	Marcus Meissner <marcus@jet.franken.de>
	Small fixes.

	* memory/virtual.c: Marcus Meissner <marcus@jet.franken.de>
	Removed the FIXME() and moved SetLastError(0) to the end (so that
	GetTempFileName et.al. can't overwrite it).

	* misc/Attic/ntdll.c, relay32/ntdll.spec, relay32/relay386.c, relay32/user32.spec, windows/user.c:
	Marcus Meissner <marcus@jet.franken.de>
	Lots of stubs to get winlogon.exe from nt3.51 and other NT3.51 applets
	a bit further.

	* windows/mdi.c: Rein Klazes <rklazes@casema.net>
	MDIchild created when the MDI client has the MDIS_ALLCHILDSTYLES
	style, should not be shown at creation nor activated unless the
	WS_VISIBLE flag is set.

	* loader/pe_image.c: Stephen Langasek <vorlon@dodds.net>
	Bugfix for fixup_imports: Enable checking for terminating import
	struct with Characteristics bitfield set to 0.

	* windows/win.c: Rein Klazes <rklazes@casema.net>
	Delay linking newly created window in linked list until after the
	WM_NCCREATE message.

	* files/file.c: Rein Klazes <rklazes@casema.net>
	Small bug in FILE_InUse does not do a release on every acquired file
	pointer.

	* controls/static.c: Marcus Meissner <marcus@jet.franken.de>
	lpszName of NULL is handled (removes some warnings).

	* tools/testrun: Marcus Meissner <marcus@jet.franken.de>
	Now allows specification of a start directory on the cmdline.

	* dlls/comctl32/treeview.c: Marcus Meissner <marcus@jet.franken.de>
	Gets rid of the arch-dependent bit operations (tested on Linux and
	Solaris/x86).

Wed Oct 28 14:58:02 1998  Alexandre Julliard  <julliard@winehq.com>

	* windows/win.c: Juergen Schmied <juergen.schmied@metronet.de>
	A dest buffer was printed out as string.

	* include/shlobj.h: Juergen Schmied <juergen.schmied@metronet.de>
	Corrected 2 wrong definitions.

	* include/windows.h, relay32/kernel32.spec, scheduler/process.c:
	Patrick Spinler <spinler.patrick@mayo.edu>
	Added stubs for Process32First/Process32Next.

	* include/x11drv.h, objects/clipping.c, objects/dc.c, objects/dcvalues.c, objects/palette.c, objects/region.c, graphics/escape.c, graphics/metafiledrv/graphics.c, graphics/painting.c, graphics/path.c, graphics/psdrv/graphics.c, graphics/win16drv/graphics.c, graphics/x11drv/graphics.c, include/debugger.h, include/gdi.h, include/metafiledrv.h, include/psdrv.h, include/win16drv.h, include/windows.h, include/wintypes.h, debugger/dbg.y, debugger/msc.c, debugger/stabs.c, debugger/types.c:
	François Gouget <gouget@metaintegration.net>
	Fixed some LPPOINT/LPSIZE mismatches and some missing "const" in the
	headers prototypes.

	* graphics/psdrv/init.c, graphics/win16drv/init.c, graphics/x11drv/bitmap.c, graphics/x11drv/brush.c, graphics/x11drv/init.c, graphics/x11drv/objects.c, include/bitmap.h, include/gdi.h, include/x11drv.h, objects/bitmap.c, objects/brush.c, objects/dib.c, objects/oembitmap.c, windows/graphics.c, graphics/metafiledrv/init.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Added pBitmapBits and pCreateBitmap to the GDI function table and
	moved the X11 dependent stuff out of objects/bitmap.c into x11drv.

	* relay32/shell32.spec, dlls/shell32/shellole.c, dlls/shell32/shellord.c, include/shell.h, dlls/shell32/pidl.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	New SHGetSimpleIDListFromPath32AW.
	Unicode-safe: PathFindFilename32AW.

	* include/shlobj.h: Justin Bradford <justin@busboy.sped.ukans.edu>
	IExtractIcon had an extra c in a struct definition.

	* relay32/dplay.spec:
	John Richardson <jrichard@zealand.mv.spamless.com>
	Added entry for DirectPlayEnumerate.

	* ole/nls/sky.nls, ole/ole2nls.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Added Slovak nls-resources.

	* objects/region.c: Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Fixed differences between SetRectRgn16 and SetRectRgn32. Also a bug fix for
	CreateRoundRectRgn.

Tue Oct 27 15:41:54 1998  Alexandre Julliard  <julliard@winehq.com>

	* windows/user.c: Marcus Meissner <marcus@jet.franken.de>
	EnumDisplayModes* returns a static list of modes with all depths
	(helps hexen2demo), ChangeDisplaySettings returns true all the time.

	* include/wintypes.h, multimedia/mmsystem.c, relay32/winmm.spec:
	Marcus Meissner <marcus@jet.franken.de>
	Stub for midiOpenStream (helps hexen2demo).

	* ole/nls/enc.nls, ole/nls/frc.nls, resources/sysres_Fr.rc:
	Robert Pouliot <krynos@clic.net>
	Small patch for better French support.

	* loader/elf.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: memory overwrite bug.

Mon Oct 26 11:04:13 1998  Alexandre Julliard  <julliard@winehq.com>

	* controls/edit.c, windows/clipboard.c: Pascal Cuoq <pcuoq@ens-lyon.fr>
	32-bit clipboard support.

	* windows/queue.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix for QUEUE_Signal: Always use PostEvent if no thread is waiting
	on the queue.

	* windows/mdi.c: NF Stevens <norman@arcady.u-net.com>
	Fixed a minor problem with the menus for mdi child windows.

	* graphics/ddraw.c: Marcus Meissner <marcus@jet.franken.de>
	Removed no longer necessary commented out code, destroy old window
	when SetDisplayMode is called again, EnumDisplayModes now returns
	all possible modes (using a static list).

	* memory/virtual.c: Marcus Meissner <marcus@jet.franken.de>
	Anon shared mapping fixed for file sharing.

----------------------------------------------------------------
Sun Oct 25 10:32:23 1998  Alexandre Julliard  <julliard@winehq.com>

	* ole/ole2nls.c, include/winnls.h: Andreas Mohr <100.30936@germany.net>
	Fixes for LANG_NEUTRAL.

	* include/task.h:
	Added some padding to the PDB for ill-behaving apps (problem reported
	by Andreas Mohr).

	* documentation/ioport-trace-hints, include/debug.h, include/debugdefs.h, miscemu/instr.c:
	Jonathan Buzzard <jab@hex.prestel.co.uk>
	Added a new debugging channel io to allow read/writes on a port to be
	logged to a file.

	* windows/keyboard.c: David Faure <David.Faure@insa-lyon.fr>
	Replaced 0x00 with 0x01 in the vkey->sancode array, so that no key is
	ignored. 0x00 is used for generated key events only.

	* windows/message.c, windows/queue.c:
	Douglas Ridgway <ridgway@winehq.com>
	API Documentation for SendMessage, GetTickCount, PostQuitMessage,
	GetMessagePos, GetMessageTime.

	* memory/virtual.c: Marcus Meissner <marcus@jet.franken.de>
	Delete the filename for the mapping instantly.

	* dlls/shell32/shellord.c, relay32/shell32.spec:
	Michael Poole <poole@graviton.res.cmu.edu>
	Stub for SHSimpleIDListFromPath.

	* loader/task.c: Fixed bug in SwitchStackTo.

Sat Oct 24 13:06:16 1998  Alexandre Julliard  <julliard@winehq.com>

	* controls/scroll.c: Patrik Stridvall <ps@leissner.se>
	Check if scrollbar and parent are visible before redraw.

	* if1632/shell.spec, include/shell.h, misc/shell.c, programs/notepad/main.c, relay32/shell32.spec:
	Kai Morich <kai.morich@darmstadt.netsurf.de>
	Added Drag*32 functions.

	* windows/event.c: Kai Morich <kai.morich@darmstadt.netsurf.de>
	Added Drag&Drop from KDE app to 16/32 bit Windoze app.

	* windows/message.c: Kai Morich <kai.morich@darmstadt.netsurf.de>
	Added FIXME message in PostMessage32x if parameters are truncated
	when calling PostMessage16.

	* include/process.h, scheduler/event.c, scheduler/handle.c, scheduler/process.c, scheduler/thread.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added support for global handles, implemented ConvertToGlobalHandle.
	Allocate startup data and 16-bit stack for initial process.

	* documentation/wine.texinfo: Leigh Wedding <lwedding@corplink.com.au>
	Small fix.

	* programs/progman/.cvsignore, programs/progman/Es.rc, programs/progman/Makefile.in, programs/winhelp/.cvsignore, programs/winhelp/Es.rc, programs/winhelp/Makefile.in, programs/clock/.cvsignore, programs/clock/Es.rc, programs/clock/Makefile.in, programs/notepad/.cvsignore, programs/notepad/Es.rc, programs/notepad/Makefile.in:
	Pablo Saratxaga <srtxg@chanae.alphanet.ch>
	Added Spanish resources.

	* ole/nls/euq.nls, resources/sysres_Es.rc:
	Pablo Saratxaga <srtxg@chanae.alphanet.ch>
	Small corrections.

	* relay32/kernel32.spec, scheduler/process.c:
	Marcus Meissner <marcus@jet.franken.de>
	LoadLibraryExW spec added (function was there).
	SetProcessPriorityBoost stub added.

	* msdos/dpmi.c: Patrik Stridvall <ps@leissner.se>
	Compile fix for Solaris.

	* if1632/.cvsignore, if1632/Makefile.in, if1632/builtin.c, if1632/dispdib.spec, include/dispdib.h, graphics/Makefile.in, graphics/dispdib.c:
	Ove Kaaven <ovek@arcticnet.no>
	Implemented DisplayDib.

	* controls/static.c: Marcus Meissner <marcus@jet.franken.de>
	Hack to support integer ids in all static controls.

	* include/dinput.h, windows/dinput.c:
	Lionel Ulmer <ulmer@directprovider.net>
	Beginning of mouse support in DirectInput (only "standard" mouse
	configuration supported for now).

	* include/*.h, dlls/comctl32/*.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added xxx_Unregister() functions to all common controls.

	* dlls/comctl32/comctl32undoc.c, dlls/comctl32/pager.c, dlls/comctl32/toolbar.c, documentation/common_controls, relay32/comctl32.spec:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Some minor improvements and fixes.

	* dlls/comctl32/rebar.c, include/rebar.h:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Improved the rebar control.

	* dlls/comctl32/tooltips.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added support for transparent and tracking tooltips.

	* controls/menu.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed a popup menu selection bug.

	* windows/nonclient.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed DrawCaption16() and DrawCaptionTemp16().

	* windows/keyboard.c: David Faure <David.Faure@insa-lyon.fr>
	Fixed warning.

	* graphics/psdrv/Makefile.in, graphics/psdrv/bitmap.c, graphics/psdrv/brush.c, graphics/psdrv/font.c, graphics/psdrv/graphics.c, graphics/psdrv/init.c, graphics/psdrv/ps.c, include/gdi.h, include/psdrv.h, objects/dib.c:
	Huw D M Davies <daviesh@abacus.physics.ox.ac.uk>
	Adds Arc, Chord, GetCharWidth, Pie, PolyPolygon, PolyPolyline, RoundRect,
	SetPixel, hatched brushes and a stub for StretchDIBits to the PostScript
	driver.

	* include/debug.h, include/debugdefs.h, include/miscemu.h, msdos/Makefile.in, msdos/interrupts.c:
	Joseph Pranevich <knight@baltimore.wwaves.com>
	Added support for int17 and int19.

	* msdos/int19.c: Carl van Schaik <carl@dreamcoat.che.uct.ac.za>
	Stubs for dos mode reboot interrupt.

	* msdos/int17.c: Carl van Schaik <carl@dreamcoat.che.uct.ac.za>
	Some printer stubs for DOS added.

	* msdos/int13.c: Joseph Pranevich <knight@baltimore.wwaves.com>
	More stubs added. These changes are only partially mine, I just made
	them compile.

	* msdos/int10.c: Joseph Pranevich <knight@baltimore.wwaves.com>
	Added some traces and cleaned up a couple of things.

	* dlls/shell32/shell32_main.h, dlls/shell32/shellord.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, include/shell.h, include/shlobj.h, memory/string.c, ole/ole2nls.c, relay32/shell32.spec, dlls/shell32/dataobject.c, dlls/shell32/enumidlist.c, dlls/shell32/pidl.c, dlls/shell32/shell32_main.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Changed some string-shell32 functions to 32AW, parameter are
	os depending 32A or 32W (-winver nt351 or nt40), some new functions.
	Some fixes in ole2nls.
	New OLE2NLS_CheckLocale() to handle Locale_User_Default and
	Locale_System_Default.
	Shell32 now dynamicly links to DPA_*(), comdlg32 works again
	(comctl32 heap alloc patch broke it).

	* include/winversion.h, misc/version.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Added VERSION_IsOsUnicode().

	* scheduler/handle.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	More off-by-one errors fixed.

	* include/file.h, misc/crtdll.c, msdos/vxd.c, win32/file.c, files/file.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	File sharing fixes.

Fri Oct 23 17:26:44 1998  Alexandre Julliard  <julliard@winehq.com>

	* misc/commdlg.c: Nick Holloway <alfie@alfie.demon.co.uk>
	Bug fix.

	* loader/dos/module.c: Ove Kaaven <ovek@arcticnet.no>
	Fixed DOS environment passing.

	* misc/main.c: Juergen Schmied <juergen.schmied@metronet.de>
	Sysmetrics32W for SPI_GETICONTITLELOGFONT returns correct fontname.

	* include/font.h, objects/font.c, objects/gdiobj.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	New FONT_GetObject32W(), GetObject32W().

	* relay32/user32.spec, win32/ordinals.c, windows/user.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	New stub RegisterTaskList.
	New function EnumDisplaySettings32W().

	* misc/ntdll.c: Juergen Schmied <juergen.schmied@metronet.de>
	More parameter checking in RltCopySid.

	* windows/winproc.c: Juergen Schmied <juergen.schmied@metronet.de>
	More message mapping 32A<-->32W for EM_, CB_, LB_ for Unicode.

	* relay32/.cvsignore, relay32/Makefile.in, relay32/avifil32.spec, relay32/builtin32.c:
	Ove Kaaven <ovek@arcticnet.no>
	Added new dll avifil32.dll.

	* loader/dos/dosvm.c, loader/dos/module.c, msdos/dpmi.c, include/dosexe.h:
	Ove Kaaven <ovek@arcticnet.no>
	First shot at DPMI realmode calls.

	* loader/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Fixed several bugs with DLL initialization.

Thu Oct 22 17:02:25 1998  Alexandre Julliard  <julliard@winehq.com>

	* scheduler/syslevel.c: Marcus Meissner <marcus@jet.franken.de>
	Added ordinal for two syslevel functions.

	* multimedia/midi.c: Marcus Meissner <marcus@jet.franken.de>
	Another missing WINAPI.

	* include/mmsystem.h: Marcus Meissner <marcus@jet.franken.de>
	Small corrections in mmio declarations.

	* loader/pe_image.c: Marcus Meissner <marcus@jet.franken.de>
	Take virtual sizes in account for the total vma size.

	* ole/nls/rom.nls: Dimitrie O. Paun <dimi@cs.toronto.edu>
	Add some more NLS definitions for the Romanian language.

	* multimedia/dsound.c: Marcus Meissner <marcus@jet.franken.de>
	Some programs (quake2 et al) do check for DSCAPS_EMULDRIVER and stop
	to work. 'Adjust' caps flags accordingly.

	* ole/compobj.c, relay32/ole32.spec:
	Pete Ratzlaff <pratzlaff@cfa.harvard.edu>
	Stub for CoCreateGuid().

	* dlls/comctl32/treeview.c, multimedia/mcicda.c:
	Brian Litzinger <brian@litzinger.com>
	Fixes for FreeBSD.

	* libtest/.cvsignore, libtest/Makefile.in:
	Petter Reinholdtsen <pere@minerva.cc.uit.no>
	Make sure hello3res.h is generated even if 'make depend' never has
	been run.

	* windows/nonclient.c: NF Stevens <norman@arcady.u-net.com>
	Fixed moving and sizing of child windows.

	* include/ts_xlib.h, tools/make_X11wrappers, tsx11/X11_calls, tsx11/ts_xlib.c, windows/keyboard.c:
	Marcus Meissner <marcus@jet.franken.de>
	XQueryKeymap -> TSXQueryKeymap (fixes the XIO errors reported).

Wed Oct 21 17:20:48 1998  Alexandre Julliard  <julliard@winehq.com>

	* include/dosexe.h, loader/dos/dosvm.c, miscemu/main.c:
	Ove Kaaven <ovek@arcticnet.no>
	Added indirection for ctx_debug to the DOS loader, so Winelib works
	again.

	* memory/virtual.c: Marcus Meissner <marcus@jet.franken.de>
	Support anon shared mappings using temporary files (wont be deleted
	yet).

	* misc/main.c: Marcus Meissner <marcus@jet.franken.de>
	Was freeing the incorrect pointers -> crash in mallocs/frees.

	* files/dos_fs.c, relay32/kernel32.spec:
	Marcus Meissner <marcus@jet.franken.de>
	DefineDosDevice stub added.

	* miscemu/main.c, wine.ini: Chad Powell (pxpx@usa.net)
	Added a default program option in wine.conf in section [programs] key
	Default.

	* include/wintypes.h: David Cuthbert <dacut@ece.cmu.edu>
	Better fix for this_is_a_syntax_error.

	* ole/nls/*.nls:
	Pablo Saratxaga <srtxg@chanae.alphanet.ch>
	Added the entries for LOCALE_SISO639LANGNAME and
	LOCALE_SISO3166CTRYNAME.

	* documentation/wine.man: James Juran <jrj120@psu.edu>
	Updated manpage.

	* relay32/msacm32.spec: Patrik Stridvall <ps@leissner.se>
	Fixed wrong ordinals.

	* objects/region.c: NF Stevens <norman@arcady.u-net.com>
	Fixed a bug in RectInRegion.

Tue Oct 20 15:26:26 1998  Alexandre Julliard  <julliard@winehq.com>

	* msdos/interrupts.c: NF Stevens <norman@arcady.u-net.com>
	Removed an incorrect error message.

	* files/drive.c: Petter Reinholdtsen <pere@minerva.cc.uit.no>
	Make sure the access functions are always used to get label and serial
	number.

Mon Oct 19 08:48:24 1998  Alexandre Julliard  <julliard@winehq.com>

	* ole/ole2nls.c: Eric Pouech <eric.pouech@hol.fr>
	Fixed bug on platforms were buffers returned by getenv() shall not be
	free()'ed. Added French (default) in locale handling.

	* include/wintypes.h: Dave Cuthbert <dacut@ece.cmu.edu>
	Changed "this is a syntax error" to "this_is_a_syntax_error" to make a
	compile-time error message make more sense.

	* scheduler/handle.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Fixed off by one error in HANDLE_GetObjPtr.

----------------------------------------------------------------
Sun Oct 18 14:48:31 1998  Alexandre Julliard  <julliard@winehq.com>

	* files/file.c: Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Try to implement the OF_SHARE_XXX options.
	Move the mode translations to functions.

	* include/main.h, ole/compobj.c, ole/ifs.c, ole/ole2disp.c, ole/ole2nls.c, ole/olesvr.c, ole/storage.c:
	Matthew Becker <mbecker@glasscity.net>
	Documentation updates.

	* ole/compobj.c, relay32/ole32.spec:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Added stub for CoSetState32.

	* miscemu/main.c: Chad Powell <pxpx@usa.net>
	Added ability to read a startup program from wine.ini file.
	Put it in section [programs] key Startup.

	* include/trackbar.h, include/treeview.h, dlls/comctl32/trackbar.c, dlls/comctl32/treeview.c:
	Alex Priem <alexp@sci.kun.nl>
	Further improvements.

	* include/cursoricon.h, objects/cursoricon.c:
	Turchanov Sergey <turchanov@usa.net>
	Implemented LoadCursorFromFile, fixed DrawIconEx to support offscreen
	drawing, fixed CURSORICON_CreateFromResource to support LR_ semantics.

	* include/bitmap.h, objects/bitmap.c:
	Turchanov Sergey <turchanov@usa.net>
	Fixed LoadImage to support almost all LR_ flags.

	* objects/dib.c: Turchanov Sergey <turchanov@usa.net>
	Fixed bug in DIB_SetImageBits_RLE8 (because 'color' var was WORD, all
	COLOREFs had red part zeroed) that made plenty of cyan colors, minor
	bug fixes, changes to support LR_ flags.

	* include/global.h, memory/virtual.c:
	Turchanov Sergey <turchanov@usa.net>
	Added VIRTUAL_MapFileW to map file to memory in one function call.

	* include/ddraw.h, include/windows.h, include/wintypes.h, windows/multimon.c:
	Turchanov Sergey <turchanov@usa.net>
	Moved Multimonitor API declarations to windows.h.

	* if1632/user.spec, include/driver.h, multimedia/audio.c, multimedia/mcianim.c, multimedia/mcicda.c, multimedia/midi.c, multimedia/mmsystem.c, relay32/winmm.spec, windows/driver.c:
	Turchanov Sergey <turchanov@usa.net>
	Implemented DefDriverProc32 from winmm.dll.

	* controls/scroll.c, include/scroll.h, windows/mdi.c, windows/nonclient.c:
	Alex Korobka <korobka@ams.sunysb.edu>
	Got rid of flickering scrollbar arrows. MDI scrolling speeded up a
	bit.

	* include/winnls.h, ole/nls/deu.nls, ole/ole2nls.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	GetLocaleInfo32A can handle len=0 now, sets LastError and touches
	buffer only when necessary.
	Updated deu.nls and some LCTYPES in winnls.h.

	* if1632/relay.c: Rein Klazes <rklazes@casema.net>
	CallProc[Ex]32W called with lpProcAddress==NULL should return zero and
	not crash.

Sat Oct 17 13:07:48 1998  Alexandre Julliard  <julliard@winehq.com>

	* dlls/comctl32/commctrl.c: Ove Kaaven <ovek@arcticnet.no>
	Reduced huge (1GB) heap creation that caused Starcraft to fail.

	* include/dosexe.h, include/module.h, loader/dos/dosvm.c, multimedia/dplay.c, windows/dialog.c:
	Patrik Stridvall <ps@leissner.se>
	Compile fix for Solaris.

	* multimedia/midi.c: Patrik Stridvall <ps@leissner.se>
	Compile fix for non OSS systems.

	* graphics/ddraw.c: Patrik Stridvall <ps@leissner.se>
	Compile fix for non XF86-DGA systems.

	* libtest/Makefile.in, libtest/volinfo.c:
	Petter Reinholdtsen <pere@td.org.uit.no>
	New file to test DRIVE_GetLabel.

	* multimedia/mcicda.c: Peter Hunnisett <hunnise@nortel.ca>
	Small, suboptimal, fix for 32 bit cdaudio open routines. Needs proper
	32bit cdaudio bit support before it can be removed...

	* graphics/ddraw.c: Peter Hunnisett <hunnise@nortel.ca>
	Added a bunch of stubs for ddraw suface routines. All stubs for
	surface present now.
	Commented out message pump calls. I don't see a reason for them being
	there. Everything works fine with -desktop and -managed still has
	problems. Disagreements?

	* ole/ole2nls.c: Juergen Schmied <juergen.schmied@metronet.de>
	Fixed GetLocaleInfo32A for other languages than en_uk.
	Made it recognise LOCALE_SYSTEM_DEFAULT, LOCALE_SYSTEM_DEFAULT and
	last but not least the first argument lcid where is all about...

	* include/syslevel.h, misc/registry.c, multimedia/dplay.c, multimedia/dsound.c, multimedia/mmsystem.c, multimedia/time.c, windows/caret.c, dlls/msacm32/builtin.c:
	Marcus Meissner <marcus@jet.franken.de>
	Fixed some more missing WINAPIs (hopefully correct).

	* ole/ole2nls.c: Marcus Meissner <marcus@jet.franken.de>
	Fixed the = -> == bug.

	* msdos/int2f.c: Joseph Pranevich <knight@baltimore.wwaves.com>
	Shell parameters (config.sys) and ANSI support stubs.

	* msdos/Makefile.in: Joseph Pranevich <knight@baltimore.wwaves.com>
	Added int16.c and int29.c.

	* include/miscemu.h, msdos/interrupts.c:
	Joseph Pranevich <knight@baltimore.wwaves.com>
	More interrupts that can be done from DOS mode.

	* msdos/int29.c: Joseph Pranevich <knight@baltimore.wwaves.com>
	Added int29 (Fast Write to Screen) support.

	* msdos/int16.c, include/debug.h, include/debugdefs.h:
	Joseph Pranevich <knight@baltimore.wwaves.com>
	Added int16 (Keyboard) support, mostly stubs.

Fri Oct 16 15:40:21 1998  Alexandre Julliard  <julliard@winehq.com>

	* relay32/shell32.spec, dlls/shell32/pidl.c, dlls/shell32/shell32_main.c, dlls/shell32/shellord.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c, include/shlobj.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	Many bugfixes, new stubs SHGetRealIDL, SHRegQueryValue32W,
	SHRegQueryValueEx32W, StrRetToStrN, StrChrW, SHAllocShared,
	SHLockShared, SHUnlockShared, SHFreeShared, SetAppStartingCursor32,
	SHLoadOLE32, Shell_MergeMenus32, PathGetDriveNumber32, DriveType32,
	SHAbortInvokeCommand, SHOutOfMemoryMessageBox, SHFlushClipboard.

	* misc/ntdll.c, relay32/ntdll.spec:
	Dietmar Kling <dietmar.kling@usa.net>
	Added undocumented function RtlOpenCurrentUser.

	* objects/cursoricon.c, misc/shell.c, misc/ver.c, misc/version.c, loader/elf.c, loader/module.c, loader/pe_image.c, loader/pe_resource.c, include/neexe.h, include/pe_image.h, include/peexe.h, debugger/dbgmain.c, debugger/msc.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>
	Renamed all LPIMAGE_* types to PIMAGE_*.

Thu Oct 15 13:03:10 1998  Alexandre Julliard  <julliard@winehq.com>

	* windows/winpos.c: Rein Klazes <rklazes@casema.net>
	Fixed an error when an owned window activates its owner during
	creation.

	* windows/defdlg.c: Rein Klazes <rklazes@casema.net>
	Closing a dialog using the menu bar ("x" or "-" button or windows
	menu) must generate a WM_COMMAND+IDCANCEL message, unlike closing
	normal windows when DestroyWindow() is called.

	* dlls/shell32/pidl.c:
	Marcus Meissner <msmeissn@cip.informatik.uni-erlangen.de>
	Added missing WINAPIs.

	* windows/winpos.c, win32/ordinals.c, relay32/user32.spec:
	Juergen Schmied <juergen.schmied@metronet.de>
	New stubs PrivateExtractIconEx[AW], PrivateExtractIconsW,
	RegisterShellHookWindow, DeregisterShellHookWindow, GetProgmanWindow,
	GetTaskmanWindow, SetProgmanWindow, SetShellWindowEx,
	SetTaskmanWindow.

	* relay32/ntdll.spec, misc/ntdll.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	New stubs NtQueryInformationThread, NtQueryInformationToken,
	RtlAllocateAndInitializeSid, RtlEqualSid, RtlFreeSid.

	* multimedia/mmsystem.c: Turchanov Sergey <turchanov@usa.net>
	Fixed PlaySound to start its thread the right way.

Wed Oct 14 18:40:35 1998  Alexandre Julliard  <julliard@winehq.com>

	* controls/combo.c, controls/listbox.c:
	Alex Korobka <korobka@ams.sunysb.edu>
	CB_SETCURSEL and some other fixes.

	* windows/queue.c: Alex Korobka <korobka@ams.sunysb.edu>
	Better QUEUE_FlushMessages().

	* relay32/gdi32.spec, objects/font.c, include/windows.h, if1632/gdi.spec:
	Moshe Vainer <moshev@easybase.com>
	Partial implementation of GetOutlineTextMetrics32A.
	Added structures for OUTLINETEXTMETRICS.

	* objects/dc.c, include/gdi.h, graphics/x11drv/bitblt.c, graphics/x11drv/bitmap.c, graphics/x11drv/init.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Do not clip source rectangle even by visible region for bitblts.
	Added field 'totalExtent' to WIN_DC_INFO.

	* msdos/vxd.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Added stub for VMM PM API AH=026[de] (never say 'safe mode').

	* memory/heap.c: Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Bugfix: Local32Free caused free handles list corruption.

	* include/debugtools.h: Marcus Meissner <marcus@jet.franken.de>
	Fixed --disable-debug config option.

Tue Oct 13 12:50:04 1998  Alexandre Julliard  <julliard@winehq.com>

	* relay32/shell32.spec, dlls/shell32/shellord.c:
	Petter Reinholdtsen <pere@td.org.uit.no>
	Added stubs SHRegCloseKey(), SHRegOpenKey[AW](), SHRegQueryValueExA()
	and FileIconInit() needed by Win95 explorer.

Mon Oct 12 07:25:54 1998  Alexandre Julliard  <julliard@winehq.com>

	* windows/dialog.c, controls/button.c, controls/menu.c:
	Norman Stevens <norman@arcady.u-net.com>
	Improving keyboard handling, including accelerator keys in dialog
	boxes. Also fixes enter key in Agent32 edit box.

Sun Oct 11 19:37:23 1998  Alexandre Julliard  <julliard@winehq.com>

	* misc/commdlg.c: Eric Pouech  <eric.pouech@lemel.fr>
	Added support in file dialog boxes handling for filters like
	"*.txt;*.bat".

	* win32/kernel32.c, scheduler/thread.c, loader/module.c, loader/pe_image.c, loader/task.c, include/module.h, include/pe_image.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented new PE DLL initalization code, trying to call the
	DllEntryPoint routines always in correct order :-)
	Bypass snooping when getting data buffer addresses (thunk buffers,
	__GP handlers) and for 32-bit routines directly called from 16-bit
	(due to stack address size problems).

	* win32/ordinals.c, relay32/kernel32.spec, loader/ne/module.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented CommonUnimpStub, MapHInst(LS|SL)_PN, W32S_BackTo32.
	Stub for HouseCleanLogicallyDeadHandles, fixed k32wvsprintfA.

	* tools/build.c, if1632/kernel.spec, if1632/relay.c, if1632/thunk.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented (partially) the KERNEL Thunklet API and Callback Client
	API (KERNEL.560-568,604-612,619-622).
	Added stubs for K228, K237, KERNEL.365, KERNEL.447.

	* objects/bitmap.c, if1632/gdi.spec:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Stubs for CreateUser(Discardable)Bitmap16.

	* memory/heap.c, include/winnt.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Implemented HEAP_WINE_CODE16SEG SEGPTR heaps with 16-bit code segments.

	* memory/global.c, include/windows.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	GlobalFix16 is supposed to return selector to the memory area.

	* msdos/vxd.c, if1632/Makefile.in, if1632/builtin.c, if1632/comm.spec, if1632/wprocs.spec:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Stubs for COMM.DRV, REBOOT.VXD, VDD.VXD.

	* scheduler/process.c, scheduler/syslevel.c, include/sig_context.h, include/syslevel.h:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Use emergency TEB selector to avoid debugger crashes when stepping
	through relay stubs (or when FS is invalid otherwise).

	* windows/event.c, windows/keyboard.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	MOUSE.DRV routines moved to event.c. Call mouse event procedure.

	* windows/dce.c, windows/painting.c, windows/scroll.c, objects/clipping.c, objects/dc.c, objects/dcvalues.c, include/dc.h, include/windows.h, if1632/gdi.spec, graphics/x11drv/bitblt.c, graphics/x11drv/clipping.c, graphics/x11drv/graphics.c, graphics/x11drv/text.c, graphics/path.c:
	Ulrich Weigand <weigand@informatik.uni-erlangen.de>
	Changed DC members w.hVisRgn, w.hClipRgn, amd w.hGCClipRgn to
	coordinates relative to the device, not the DC origin. This is
	necessary to correctly implement GetClipRgn16 and InquireVisRgn.
	SelectVisRgn also expects region in device-relative coordinates.
	Adapted the rest of Wine to this coordinate change.
	Implemented ExtSelectClipRgn.

	* tools/winapi-check, scheduler/syslevel.c, files/dos_fs.c:
	Andreas Mohr <100.30936@germany.net>
	Small fix.

	* loader/ne/segment.c, include/module.h, include/neexe.h, if1632/kernel.spec:
	Andreas Mohr <100.30936@germany.net>
	Yet another small self-loader fix.

	* files/drive.c: Andreas Mohr <100.30936@germany.net>
	Fixed severe bug: SetCurrentDirectory32A didn't set pTask->curdir
	correctly due to current drive being set too late.

	* Make.rules.in: Patrik Stridvall <ps@leissner.se>
	Use $(AS) instead of $(CC) to compile .s files.

	* relay32/.cvsignore, relay32/Makefile.in, relay32/builtin32.c, include/debug.h, include/debugdefs.h, include/mmreg.h, if1632/.cvsignore, if1632/Makefile.in, if1632/builtin.c, dlls/Makefile.in, Makefile.in, configure, configure.in:
	Patrik Stridvall <ps@leissner.se>
	Started the implementation of MSACM.DLL, MSACM32.DLL and IMAGEHLP.DLL.

	* include/imagehlp.h, relay32/imagehlp.spec, dlls/imagehlp/.cvsignore, dlls/imagehlp/Makefile.in, dlls/imagehlp/access.c, dlls/imagehlp/debug.c, dlls/imagehlp/imagehlp_main.c, dlls/imagehlp/integrity.c, dlls/imagehlp/internal.c, dlls/imagehlp/modify.c, dlls/imagehlp/symbol.c:
	Patrik Stridvall <ps@leissner.se>
	Started the implementation of IMAGEHLP.DLL.

	* include/msacm.h, include/msacmdrv.h, relay32/msacm32.spec, if1632/msacm.spec, dlls/msacm32/.cvsignore, dlls/msacm32/Makefile.in, dlls/msacm32/builtin.c, dlls/msacm32/driver.c, dlls/msacm32/filter.c, dlls/msacm32/format.c, dlls/msacm32/internal.c, dlls/msacm32/msacm32_main.c, dlls/msacm32/stream.c, dlls/msacm/.cvsignore, dlls/msacm/Makefile.in, dlls/msacm/msacm_main.c:
	Patrik Stridvall <ps@leissner.se>
	Started the implementation of MSACM.DLL and MSACM32.DLL.

	* win32/device.c: Patrik Stridvall <ps@leissner.se>
	Removed things that were earlier added by mistake.

	* relay32/winmm.spec: Patrik Stridvall <ps@leissner.se>
	The implementation of mmioWrite is now called instead of the stub.

	* include/shell.h, dlls/shell32/shellole.c, dlls/shell32/shellord.c, dlls/shell32/shlfolder.c, dlls/shell32/shlview.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Bugfixes, shellview uses DPA's now, IShellView_GetItemObject implemented.

	* relay32/shell32.spec, dlls/shell32/shell32_main.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	New stubs: SHGetFileInfo32W, ReadCabinetState, WriteCabinetState, IsUserAdmin.
	Implemented: SHGetPathFromIDList32W.
	Changed PathCombine.

	* include/shlobj.h: Juergen Schmied <juergen.schmied@metronet.de>
	New structures DVASPECT, TYMED, IDLList.
	Shell specific clipboard formats.

	* relay32/winspool.spec, misc/printdrv.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Stub EnumPrintersW.

	* dlls/shell32/dataobject.c:
	Juergen Schmied <juergen.schmied@metronet.de>
	Implemented first functions.

	* dlls/shell32/pidl.c, dlls/shell32/pidl.h:
	Juergen Schmied <juergen.schmied@metronet.de>
	New class IDLList "Item ID List List" (internal).

	* misc/ver.c: Juergen Schmied <juergen.schmied@metronet.de>
	Small changes (uses HIWORD/LOWORD).

	* windows/dialog.c, relay32/user32.spec:
	Sat Oct 10 12:00:00 1998  Juergen Schmied <juergen.schmied@metronet.de>
	Stub CreateDialogIndirectParamAorW.

	* Makefile.in, configure, configure.in:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt>
	Don't install object files when --disable-lib is selected.

	* debugger/hash.c, debugger/msc.c:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt>
	Don't print name for 32 bit lib multiple times.
	Clean up printing in DEBUG_ProcessDeferredDebug.

	* memory/heap.c, dlls/comctl32/tab.c, controls/combo.c:
	David Luyer <luyer@ucs.uwa.edu.au>
	Small fixes.

	* files/drive.c: Petter Reinholdtsen <pere@td.org.uit.no>
	Bugfix: Changed GetDriveType32A(NULL) to use cwd's root.

	* ole/typelib.c, ole/compobj.c, ole/ifs.c, ole/moniker.c, ole/ole2.c, ole/ole2disp.c, ole/ole2nls.c, ole/olecli.c, ole/olesvr.c, ole/storage.c, misc/ntdll.c, misc/registry.c:
	Matthew Becker <mbecker@glasscity.net>
	Documentation corrections/standardizations.

	* multimedia/audio.c, multimedia/init.c, multimedia/mcianim.c, multimedia/mcicda.c, multimedia/mcistring.c, multimedia/midi.c, multimedia/mmsystem.c, include/mmsystem.h, include/multimedia.h:
	Eric Pouech  <eric.pouech@lemel.fr>
	Started coding 32 bit MCI handling.
	Added Open/Close to low-level MCI drivers (audio, midi, anim, cda).
	Wrote MCI MIDI support.

	* graphics/x11drv/graphics.c: Rein Klazes <rklazes@casema.net>
	Yet another improvement to the bezier code.

	* windows/message.c: Rein Klazes <rklazes@casema.net>
	GetTickCounts() has a granularity in windows of 25 msec's.
	Girotel's serial communication appears to depend on it, so I guess
	it's a feature...

	* misc/comm.c: Rein Klazes <rklazes@casema.net>
	Update the modemn status bit that indicates whether the RLSD line is
	active in every call to GetCommError(). This is not the proper place,
	but since wine doesn't do any event-stuff...
	Fixed some TRACE call's faced with non zero terminated strings.
	Restore the terminal state at CloseCommt to the state it was at
	OpenComm(), so the modem will go off-hook.

	* loader/module.c: Alexander Larsson  <alla@lysator.liu.se>
	GetModuleFileName32A() returns long filename if app sets osversion >=
	4.0. Also moved the long filename hackery to GetLongPathName32A() so
	it can be used by win32 programs.

	* files/dos_fs.c: Alexander Larsson <alla@lysator.liu.se>
	GetLongPathName32A() returns dos format long filename instead of unix
	format.

	* dlls/comctl32/listview.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Small fixes.

	* relay32/shell32.spec, dlls/shell32/shellord.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added SHFlushClipboard.

	* relay32/comctl32.spec, include/commctrl.h, dlls/comctl32/comctl32undoc.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed some undocumented functions.
	Changed algorithm in DPA_QuickSort().
	Fixed heap creation/destruction and control [un]registration in
	ComCtl32LibMain().

	* dlls/comctl32/header.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed a bug.

	* include/tooltips.h, dlls/comctl32/tooltips.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added tracking support and fixed loading of resource strings.
	Added unregister code.

	* include/debug.h, include/debugdefs.h, include/ipaddress.h, include/nativefont.h, dlls/comctl32/Makefile.in, dlls/comctl32/commctrl.c, dlls/comctl32/ipaddress.c, dlls/comctl32/nativefont.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added IPAddress and NativeFont controls.

	* include/imagelist.h, dlls/comctl32/imagelist.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Some minor improvements.

	* include/toolbar.h, dlls/comctl32/toolbar.c:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Improved drawing and placement code. Explorer style common dialogs are
	looking good now.

	* objects/cursoricon.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Fixed bug in DrawIconEx32().

	* misc/main.c: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Improved GetSystemInformation32[A/W].

	* windows/nonclient.c, relay32/user32.spec, include/windows.h, if1632/user.spec:
	Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Added DrawCaption[16/32] and DrawCaptionTemp[16/32A/32W].
	Fixed handling of WS_EX_TOOLWINDOW.

	* documentation/common_controls: Eric Kohl <ekohl@abo.rhein-zeitung.de>
	Updated.

	* windows/event.c, windows/keyboard.c, include/keyboard.h:
	David Faure <faure@kde.org>
	Added KEYBOARD_UpdateState, to read the modifiers when the wine app is
	activated. Uses the new KEYBOARD_UpdateOneState.
	Fixed a problem with menu accelerators (Alt-letter generates a down
	arrow event which beeps if not filtered).
	Speeded up ToAscii16/32() a little bit.

	* debugger/break.c, debugger/db_disasm.c, debugger/dbg.y, debugger/expr.c, debugger/source.c, debugger/types.c:
	Ove Kaaven <ovek@arcticnet.no>
	Made Wine's debugger work satisfactorily with DOS apps.
	Perhaps dereferencing work better for Win16 apps too now, but
	it appears the debugger core wasn't designed for segmentation.

	* msdos/dpmi.c: Ove Kaaven <ovek@arcticnet.no>
	Simulates DPMI memory map by converting lower-MB segment base
	addresses as necessary. Implemented allocating/freeing DOS memory
	blocks. Added XMS hook. (DPMI remains disabled by default until
	someone implements the raw mode switch entry points pkunzip needs.)

	* msdos/int21.c: Ove Kaaven <ovek@arcticnet.no>
	I think it's time to rethink the HFILE16_TO_HFILE32 strategy,
	can't keep working around flaws in it like this (now stdio
	was getting closed when programs close handles >=5)

	* msdos/xms.c, msdos/Makefile.in, msdos/int2f.c:
	Ove Kaaven <ovek@arcticnet.no>
	Implemented basic XMS functions. wcb.exe (Win16 disassembler) now
	seems to work fine under Wine.

	* loader/dos/dosvm.c, loader/dos/module.c, include/dosexe.h, include/miscemu.h:
	Ove Kaaven <ovek@arcticnet.no>
	Moved some system dependencies to loader/dos/dosvm.c. Implemented
	environmental argv[0] passing to DOS apps. Added XMS hooks.

	* debugger/stabs.c: Ove Kaaven <ovek@arcticnet.no>
	Added a memset() to prevent a debugger segfault caused by
	uninitialized pointers in the stabs lookup tables.

	* graphics/ddraw.c: Marcus Meissner <marcus@jet.franken.de>
	A few fixes.

	* relay32/ntdll.spec: Marcus Meissner <marcus@jet.franken.de>
	Added RtlAllocateAndInitializeSid entry.

	* loader/Makefile.in, loader/elf.c, loader/module.c, loader/pe_image.c, include/config.h.in, include/module.h, include/pe_image.h, include/peexe.h, configure, configure.in:
	Marcus Meissner <marcus@jet.franken.de>
	Generic dynamic dll loader using dl*() API.
	Includes: stdcall->cdecl mapping ability, snooping.
	(Tested only with glide2x.dll -> libglide2x.so)

	* multimedia/init.c, multimedia/time.c, include/mmsystem.h, include/multimedia.h:
	Marcus Meissner <marcus@jet.franken.de>
	Added win32 enhanced functionality to timer callbacks.

	* win32/console.c: Marcus Meissner <marcus@jet.franken.de>
	Added bad hacks so WriteConsoleOutput works on vt100 and PeekMessage
	does at least a bit of keyboard input.

	* relay32/snoop.c: Marcus Meissner <marcus@jet.franken.de>
	Should display again.

Sat Oct 10 15:52:46 1998  Alexandre Julliard  <julliard@winehq.com>

	* windows/dialog.c: Dave Pickles <davep@nugate.demon.co.uk>
	Implemented DS_CENTER dialog style.

	* misc/main.c: Pablo Saratxaga <srtxg@chanae.alphanet.ch>
	Added function to build the Windows numeric language ID from language,
	code, charset and dialect strings, like used by Unix LANG variable.

	* ole/ole2nls.c, ole/nls/README, include/winnls.h, ole/nls/*.nls:
	Pablo Saratxaga <srtxg@chanae.alphanet.ch>
	More NLS data.

	* graphics/ddraw.c: Peter Schlaile <udbz@rz.uni-karlsruhe.de>
	Fixed a lot of bugs in ddraw.c to make xlib support work.
	Runs successfully TR2Demo and Jazz Jackrabbit II Demo!

	* objects/gdiobj.c: Cliff Wright <cliff@snipe444.org>
	Added DC object type to the list of valid objects that can be deleted
	by DeleteObject32.

Sun Oct  4 18:20:29 1998  Alexandre Julliard  <julliard@winehq.com>

	* ChangeLog:
	Starting new format changelog (older changes moved to
	documentation/ChangeLog.OLD).
