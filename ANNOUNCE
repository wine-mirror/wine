The Wine maintenance release 5.0.3 is now available.

What's new in this release (see below for details):
  - Various bug fixes

The source is available from the following locations:

  https://dl.winehq.org/wine/source/5.0/wine-5.0.3.tar.xz
  http://mirrors.ibiblio.org/wine/source/5.0/wine-5.0.3.tar.xz

Binary packages for various distributions will be available from:

  https://www.winehq.org/download

You will find documentation on https://www.winehq.org/documentation

You can also get the current source directly from the git
repository. Check https://www.winehq.org/git for details.

Wine is available thanks to the work of many people. See the file
AUTHORS in the distribution for the complete list.

----------------------------------------------------------------

Bugs fixed in 5.0.3 (total 44):

   7102  Microsoft Word 6.0 for Windows: copy/paste causes crash on unimplemented function ole2.dll16.OLEISCURRENTCLIPBOARD
  26171  BVRP classic phone tools installer reports error 'Insufficient buffer' when trying to install print processor (AddPrintProcessorA stub should be symmetric to AddPrintProcessorW)
  35903  CED1401 USB function driver fails to install (setupapi should use the original INF path as a default source path when copying files)
  38020  Foxit Reader 6.12 crashes on unimplemented function msasn1.dll.ASN1_CreateModule during validation of digital signatures
  44127  Metal Gear Solid V: Ground Zeroes doesn't launch
  44306  Visual Novel "A Clockwork Ley-Line: The Borderline of Dusk" doesn't work with d3d9
  44925  Multiple kernel drivers require 'ntoskrnl.exe.ExCreateCallback' stub to return STATUS_SUCCESS (StarForce v3, TrackMania Nations ESWC. Denuvo Anti-Cheat)
  45536  Total Commander 9.x crashes on unimplemented function usp10.dll.ScriptGetFontAlternateGlyphs when Wine is not detected via named export 'ntdll.wine_get_version'
  46726  Dirt Rally 2.0 does not use embedded CA cert
  46818  PS4 Remote Play 2.x (.NET 4.x app) crashes on Sign-In PlayStation network (mshtml:HTMLDocument_get_cookie should not fail for 'about:blank')
  48256  pwsh.exe (from Powershell-6.*) crashes after 20~50 sec: System.EntryPointNotFoundException: Unable to find an entry point named 'FreeAddrInfoEx' in DLL 'ws2_32.dll'.
  48405  Battle.Net Launcher Beta crashes with Windows version set to 10
  48668  rFactor2 - Physics thread slower on multiplayer mode
  48779  Secret Files 3 crashes at launch (needs d3dx9_skin_info_Clone)
  48938  Ashes of the Singularity: Escalation crashes on start
  48959  S-Gear 2 installer does not recognize wine as Windows 10
  49147  Microsoft Teams 1.3.x crashes on unimplemented function setupapi.dll.CM_Get_Device_Interface_AliasW
  49178  Spitfire Audio 3.x crashes on start due to 'WTSQuerySessionInformationA' stub not initializing out parameters
  49179  winetest.exe fails to run on windows arm (surface rt / armv7): procedure entry point NtCurrentTeb could not be located in the dynamic link library C:\Users\User\Desktop\winetest.exe
  49189  Auslogics Registry Cleaner 8.x crashes and shows "OLE error 80004001" (SetCurrentProcessExplicitAppUserModelID stub needs to return S_OK)
  49221  Denuvo Anti-Cheat 'denuvo-anti-cheat.sys' crashes due to unhandled emulation of MSR register reads related to CPU / virtualization features (returning zero value is sufficient)
  49257  Avast Free Antivirus 20.3 crashes before installing due to unimplemented function rpcrt4.dll.RpcIfInqId
  49264  MultiSync installation crashes (needs _Command::get/put_CommandText)
  49272  MultiSync installation crashes (msado15.dll needs {b196b284-bab4-101a-b69c-00aa00341d07} IConnectionPointContainer)
  49281  FinanceExplorer crashes inside msado15.dll
  49289  Denuvo Anti-Cheat 'denuvo-anti-cheat.sys' crashes on unimplemented function ntoskrnl.exe.ExRegisterCallback
  49291  Denuvo Anti-Cheat 'denuvo-anti-cheat.sys' crashes on unimplemented function ntoskrnl.exe.ExUnregisterCallback when unloading
  49303  MultiSync installation crashes (msado15.dll needs IConnectionPointContainer::FindConnectionPoint)
  49322  cmudpro334 shows error on unimplemented ITaskbarList::SetOverlayIcon()
  49352  JamKazam 1.0.3744 msi installer fails at 'InstallFiles' action (incorrect handling of administrative image with compressed source files)
  49372  winedump crashes for sltg typelib files
  49379  Altium Designer 20 crashes on missing d2d1.dll.D2D1CreateDevice
  49388  MultiSync installation crashes (msado15.dll needs IConnectionPoint::Advise)
  49439  Printing and scanning software for Brother L2540DW fails to install (VBScript parser can't handle a "case else" statement with a comment and no statements to execute)
  49460  where.exe is missing in wine (affects Waves Central )
  49487  ListView control custom draw in report view shows blank item if handler clears uItemState CDIS_SELECTED flag
  49488  uninitialized bytes in server call from ntdll/server_write_file
  49570  LVM_FINDITEM should do case-insensitive test for item text
  49620  Tableau Desktop fails to install
  49656  SAP GUI - Ws2_32.getaddrinfo crashes with non-standard service (/etc/services)
  49662  Wine Internet Explorer crashes on https://[2600::]/
  49664  FrostyModManager v1.0.5.9 crashes on launch
  49666  Red Dead Redemption 2 requires HEAP flags offset to match Windows
  49685  Gigabyte "EasyTune" service crashes in wbemprox

----------------------------------------------------------------

Changes since 5.0.2:

Aaro Altonen (8):
      msado15: Implement _Command get/put CommandType.
      msado15: Implement _Command get/put CommandText.
      msado15: Add IConnectionPointContainer stub to _Connection.
      msado15: Add IConnectionPoint stub to _Connection.
      msado15: Implement IConnectionPointContainer_FindConnectionPoint.
      include: Add ConnectionEventsVt definition.
      msado15/tests: Add tests for IConnectionPoint::Advise/Unadvise.
      msado15: Implement IConnectionPoint::Advise/Unadvise.

Akihiro Sagawa (1):
      documentation: Update Japanese translation.

Alex Henrie (2):
      urlmon: Call parse_host in combine_uri to set related parse_data fields.
      urlmon: Fix null pointer dereference in process_hook_section (Coverity).

Alexandre Julliard (1):
      setupapi: Support a WineSourceDirs section to copy files from the Wine build or data dir.

Alistair Leslie-Hughes (1):
      msado15: Implement _Connection get/put ConnectionString.

Anton Baskanov (1):
      amstream: Don't crash if parent is NULL in AMAudioStream:: and AMDirectDrawStream::GetMultiMediaStream.

Brendan Shanks (5):
      winhttp: Treat a partial certificate chain as having an unknown/invalid CA.
      whoami: Add semi-stub application to display username.
      winevulkan: Don't initialize the Vulkan driver in DllMain().
      ntdll: Pad HEAP structure so 'flags' offset matches recent Windows.
      winemac.drv: Fix warnings for constants deprecated by macOS 10.14.

Changping Yu (2):
      kernel32/tests: Add test for thread enumeration order in toolhelp.
      kernel32: Adjust thread creation insertion order.

Derek Lesho (1):
      msctf: Always provide a context when from GetBase/Top.

Dmitry Kislyuk (1):
      vbscript: Parse empty CASE ELSE clause.

Dmitry Timoshkov (1):
      winedump: Fix parsing of SLTG typelib created with some old tool.

Gijs Vermeulen (5):
      wtsapi32: Implement WTSQuerySessionInformationA.
      d3dx9: Implement ID3DXSkinInfo_Clone().
      amstream: Don't crash on NULL ddraw in IDirectDrawMediaStream::GetDirectDraw().
      wbemprox: Set obj to NULL on error in get_object().
      wbemprox: Don't crash in IWbemClassObject::Put() when called with empty class object.

Hans Leidekker (3):
      msado15: Fix NULL pointer dereference in close_recordset.
      msi: Fix installing from administrative image with compressed source files.
      ws2_32: Avoid a crash in WS_getaddrinfo when the specified service doesn't exist.

Jacek Caban (3):
      winnt.h: Provide inline NtCurrentTeb implementation for mingw arm builds.
      mshtml: Return NULL in IHTMLDocument2::get_cookie if InternetGetCookieExW failes.
      urlmon: Remove unused flags argument from parse_host.

Jefferson Carpenter (1):
      ntoskrnl.exe: Set reserved to 0 in pnp WM_DEVICECHANGE broadcast.

Jiajin Cui (1):
      gdiplus: Fix crash if failed to create bitmap.

Julian Rüger (1):
      documentation: Update German translation.

Louis Lenders (7):
      usp10: Add stub for ScriptGetFontAlternateGlyphs.
      shcore: Return S_OK in SetCurrentProcessExplicitAppUserModelID.
      ws2_32: Add FreeAddrInfoEx.
      setupapi: Add stub for CM_Get_Device_Interface_Alias{A,W}.
      explorerframe: Return S_OK in ITaskbarList::SetOverlayIcon.
      where.exe: Add stub program.
      sc.exe: Fake succes for the SdSet argument.

Matteo Bruni (3):
      wined3d: Add GPU information for AMD Raven Ridge.
      user32: Add missing WM_WINE_CLIPCURSOR message type name.
      user32: Make sure update_window_state() is always executed on the owner thread.

Nikolay Sivov (7):
      d2d1: Implement D2D1CreateDevice().
      dwrite: Implement IDWriteFont::Equals().
      dwrite: Add partial implementation for IDWriteFontFace5::Equals().
      comctl32/listview: Rename helper argument.
      comctl32/listview: Use case-insensitive compare in LVM_FINDITEM.
      comctl32/listview: Do no alter custom draw text colors between notification stages.
      winedbg: Double dll name buffer size for unimplemented function exception.

Paul Gofman (7):
      ntoskrnl.exe: Return STATUS_SUCCESS from ExCreateCallback() stub.
      ntoskrnl.exe: Return zero for unknown msr registers.
      ntoskrnl.exe: Add stub for ExRegisterCallback() function.
      ntoskrnl.exe: Add stub for ExUnregisterCallback() function.
      ws2_32: Optimize interface_bind_check() by caching adapter addresses.
      winebuild: Correct hotpatching prologue in import thunks for x86_64.
      shell32: Only consider copy operation multidest if the number of dst files is greater than one.

Piotr Caban (1):
      msasn1: Fix buffer allocations.

Rémi Bernon (1):
      kernel32: Catch process creation breakpoint exceptions.

Vijay Kiran Kamuju (12):
      ole2.dll16: Add stub OleIsCurrentClipboard function.
      winspool.drv: Implement AddPrintProcessorA via AddPrintProcessorW.
      include: Add related ASN1encoding_s and ASN1decoding_s structs.
      msasn1: Add ASN1_CreateModule stub implementation.
      msasn1/tests: Add initial tests.
      msasn1: Implement ASN1_CreateModule function.
      msasn1: Implement ASN1_CloseModule function.
      msasn1: Add partial implementation of ASN1_CreateEncoder.
      msasn1: Add stub for ASN1_CloseEncoder function.
      msasn1: Add partial implementation of ASN1_CreateDecoder.
      msasn1: Add stub for ASN1_CloseDecoder function.
      msasn1: Add stub for ASN1_Decode function.

Zebediah Figura (6):
      setupapi: Reset the source file pointer when comparing files.
      setupapi: Store the original INF file path in a .pnf file.
      setupapi: Use the original INF source path if possible when copying files.
      winecfg: Set the Current{Major, Minor}VersionNumber registry values.
      wbemprox: Return WBEM_E_NOT_FOUND from get_object() if no object is available.
      d3dcompiler: Iterate through the instruction list in reverse in free_instr_list() (Valgrind).

Zhiyi Zhang (2):
      rpcrt4: Implement RpcIfInqId().
      dwmapi: Check NULL parameter in DwmIsCompositionEnabled().

--
Michael Stefaniuc
mstefani@winehq.org
