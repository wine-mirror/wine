The Wine maintenance release 3.0.3 is now available.

What's new in this release (see below for details):
  - Various bug fixes

The source is available from the following locations:

  https://dl.winehq.org/wine/source/3.0/wine-3.0.3.tar.xz
  http://mirrors.ibiblio.org/wine/source/3.0/wine-3.0.3.tar.xz

Binary packages for various distributions will be available from:

  https://www.winehq.org/download

You will find documentation on https://www.winehq.org/documentation

You can also get the current source directly from the git
repository. Check https://www.winehq.org/git for details.

Wine is available thanks to the work of many people. See the file
AUTHORS in the distribution for the complete list.

----------------------------------------------------------------

Bugs fixed in 3.0.3 (total 52):

  18164  dlls/iphlpapi/ifenum.c: compiler warnings on NetBSD
  18734  DlgDirList(DDL_DRIVES|DDL_DIRECTORY) on 16-bits displays files on listbox in Windows but not Wine.
  21404  winedbg does not support fixed host:port parameter
  24374  Driller crashes in process PE entry point due to Wine's mis-align workaround for 32-bit entry point asm wrapper (MoleBox Ultra v4.x)
  24641  ProPresenter 4.x (.NET 3.5 WPF app) fails on startup (devenum CreateInstance() doesn't support IID_IUnknown)
  27497  Regedit mangles registry keys containing embedded NULLs
  30713  Microsoft Visual C++ 64-bit redistributables get incorrectly installed into SysWOW64 (system directory for 32-bit files) when run under 64-bit Wine
  32907  AMMYY Admin v3.0 crashes at startup in Win7 mode ('NtSetInformationToken' needs to support 'TokenSessionId')
  34910  WinLaunch 0.4.x (OSX Style free Launcher) complains about missing "%USERPROFILE%\\Application Data\\Microsoft\\Windows\\Themes\\" directory
  35928  Crash handlers/debuggers fail to display user-interface when invoked for crashing (non-interactive) service processes (inherited Wine service window station/desktop)
  38849  valgrind shows an uninitialized variable in programs/cmd/tests/batch.c:WCMD_assoc
  38886  AArch64 platforms: ABI Problems wrt varargs (needs arm64 specific __builtin_ms_va_list)
  39078  Visual Pinball 8.x, 9.x, 10.x crash on exit after creating a new table, needs support for VBScript IActiveScriptDebug
  40271  Can't start UPlay: "Connection Lost" error
  40694  Invalid behavior of "C: && echo haha" or "C: & echo haha"
  40742  cmd.exe: buffer overflow while parsing qualifiers
  42304  Caladrius Blaze, Raiden IV: Overkill show black screen on title menu (needs native vcrun2013)
  42599  Max Payne 3 (Steam) crashes in DX9 mode
  42602  ::CompareItem(LPCOMPAREITEMSTRUCT lpCompareItemStruct) bad sort compared to Windows
  42669  SolveigMM Video Splitter Business Edition v6.1: Crashes inside gdi32.GetCharacterPlacementW
  43300  wchar.h missing wmemchr, wmemcmp, wmemcpy, wmemmove, and wmemset
  44001  Empire of the Ants (french version "les fourmis") - game crashed
  44334  'start /W "" notepad' does not wait as on native.
  44399  WickrMe 4.19.7: Crashes due to stub combase.RoGetActivationFactory
  44845  Bankperfect plugin installater Echéancier hangs during install
  44895  League Of Legends: Unable to log in if behind OpenWRT based router
  44952  cmd.exe skips statements after if statement inside for loop
  44953  Adobe Premiere Elements 14 (trial) crashes inside winmm.dll
  44976  ConEmu-Maximus5 Windows console emulator causes crash of builtin 'wineconsole.exe' (division by zero)
  45051  cmd.exe for loop does not resolve wildcards with subdirectory
  45067  UNORM/SNORM immediate constants not supported for UAV stores (Claybook,  Just Cause 3)
  45078  UFOHD2 crashes inside devenum
  45081  DsEnumerateDomainTrusts stubbed without A/W suffix
  45118  Microsoft Windows PowerShell 6.x reports 'PowerShell Gallery is currently unavailable.' (WinHttpSetOption returns incorrect lasterror on unsupported options)
  45143  Neoncron 2 Launcher crashes embedding IE browser process when clicking bottom menu items
  45170  Cygwin/MSYS2 needs EXDEV error code mapped to STATUS_NOT_SAME_DEVICE (rename of cross-device links)
  45179  iTunes 12.x installer freezes at the final step
  45220  Regression: Hearthstone-Deck-Tracker stoped working after wine-2.21
  45243  Wrong cast in some HANDLE_MSG_WM_* macros produces errors when compiling with wineg++
  45274  Multiple applications crash on unimplemented function msvcp140.dll.?_Syserror_map@std@@YAPEBDH@Z (Native Instruments Traktor Pro 2)
  45299  Adobe flash player online installer fails the download
  45317  updating wine mono does not change version in uninstaller.exe
  45333  Add diagnostic 'mscoree.dll.CorIsLatestSvc' stub (NGEN service) to hint at broken Microsoft .NET Frameworks installation (Wine-Mono not uninstalled and/or 'mscoree.dll' placeholders not removed prior install)
  45359  SHGetKnownFolderPath doesn't handle flag KF_FLAG_DONT_UNEXPAND
  45378  vSphere 5.5 client 'hcmon.sys' driver crashes on unimplemented function ntoskrnl.exe.IoUnregisterPlugPlayNotification
  45387  arm64_map_dwarf_register: Don't know how to map register (64-66)
  45393  TextureCookerService.exe (part of ArcGIS Desktop 10.6) needs api-ms-win-crt-stdio-l1-1-0.dll.gets_s
  45394  Reinstalling ArcGIS Desktop 10.6 calls unimplemented function msvcr120.dll._SetWinRTOutOfMemoryExceptionCallback
  45403  dwarf2_parse_variable(): Assertion `subpgm->func' failed
  45428  Crash Bandicoot N. Sane Trilogy (Steam) crashes while entering main menu in ntdll.NtGetContextThread() with NULL context
  45439  Visual Basic setup toolkit fails to run if path contains a voiced Katakana character.
  45445  1C:Enterprise 8 platform doesn't install

----------------------------------------------------------------

Changes since 3.0.2:

Akihiro Sagawa (2):
      kernel32/tests: Add more LCMapString tests.
      kernel32: Fix LCMapString(LCMAP_HALFWIDTH) in some cases.

Alex Henrie (9):
      comctl32/listview: Don't invalidate when new style is same as old.
      include: Add wmemchr to wchar.h.
      include: Add wmemcmp to wchar.h.
      include: Add wmemcpy to wchar.h.
      include: Add wmemmove to wchar.h.
      include: Add wmemset to wchar.h.
      iphlpapi: Cast caddr_t to char* before doing pointer arithmetic.
      gdi32: Add DECLSPEC_HOTPATCH to GetDIBits.
      gdi32: Fix memory leak on error in PATH_WidenPath (Coverity).

Alex Villacís Lasso (1):
      user.exe16: Fix handling of DDL_DRIVES flag in DlgDirList.

Alexandre Julliard (3):
      winex11: Don't allocate a window surface for off-screen windows.
      winex11: Support using an ARGB visual as default visual.
      winex11: Use the client window support also for XComposite child windows.

Alistair Leslie-Hughes (3):
      msvcrtd: Forward operator_new_dbg to msvcrt.
      combase/tests: Add RoGetActivationFactory tests.
      netapi32: Add DsEnumerateDomainTrustsA/W stubs.

André Hentschel (3):
      dbghelp: Recompute location after fixing it.
      dbghelp: Map SIMD dwarf registers on ARM64.
      winedbg: Check for visible window station before displaying crash dialog.

Austin English (1):
      winecfg: Recommend against overriding secur32.

Bernhard Übelacker (1):
      cmd: Avoid having first parameter to start.exe ignored.

Dmitry Timoshkov (4):
      user32/tests: Add a test for WM_MEASUREITEM when inserting an item to an owner-drawn listbox.
      user32/tests: Add a message test for an owner-drawn sorted listbox.
      user32: Fix order of items passed in WM_COMPAREITEM data.
      user32: Fix the listbox sorting algorithm.

Fabian Maurer (2):
      wineconsole: When loading settings for an application, respect a 0 in FontSize.
      wrc: Don't crash when parsing COMBOBOX element without style.

Hans Leidekker (4):
      ws2_32: Enable IP_DONTFRAGMENT by default for SOCK_STREAM sockets.
      winhttp: Fix invalid option error returned from WinHttpSetOption.
      winhttp: Store the server certificate context in the request.
      webservices: Avoid a warning from HeapDestroy.

Hugh McMaster (2):
      regedit/tests: Add tests for values with embedded null characters.
      regedit: Stop exporting REG_SZ data at the first NUL character.

Jason Edmeades (5):
      cmd: Fix issue in WCMD_assoc highlighted by valgrind.
      cmd: Support "c:<space>" etc when changing drive letters.
      cmd: Fix subdirectory prefix in for loops.
      cmd: Expand the storage space for qualifiers.
      cmd: Fix statements after 'else' inside for loops.

Johannes Brandstätter (1):
      ntdll: Check for NULL context in NtGetContextThread.

Józef Kucia (4):
      shell32: Accept more flags in SHGetKnownFolderPath().
      wined3d: Fix snorm/unorm immediate values for UAV writes.
      wined3d: Add GPU information for AMD Radeon RX Vega.
      wined3d: Add GPU information for Intel HD Graphics 630.

Louis Lenders (4):
      winmm: Return error in waveOutMessage if either dwParam1 or dwParam2 is null.
      winmm: Return error in waveInMessage if either dwParam1 or dwParam2 is null.
      mscoree: Add stub for CorIsLatestSvc to hint user at broken .NET installation.
      ntoskrnl.exe: Add stub for IoUnregisterPlugPlayNotification.

Marcos Gutierrez (1):
      include: Fixed casts in some HANDLE_MSG_WM_* macros.

Martin Storsjo (1):
      arm64: Use __builtin_ms_va_list and __attribute__((ms_abi)) on arm64.

Matej Špindler (1):
      kernel32: Check for LOCALE_NOUSEROVERRIDE for neutral locales.

Michael Müller (9):
      include: Add activation.idl with IActivationFactory interface.
      include/roapi.h: Add further typedefs.
      combase: Implement RoGetActivationFactory.
      combase: Implement RoActivateInstance.
      secur32: Set output buffer size to zero during handshake when no data needs to be sent.
      ntdll: Return success for TokenSessionId in NtSetInformationToken.
      dxdiagn: Add several more fields for DisplayDevices.
      gdi32: Treat lpResults as optional in GetCharacterPlacement.
      msvcr120: Add stub for _SetWinRTOutOfMemoryExceptionCallback.

Nikolay Sivov (2):
      comctl32/trackbar: Don't update page size if it was explicitly set.
      comctl32/trackbar: Fix reseting to default page size.

Piotr Caban (5):
      msvcr80: Add gets_s implementation.
      include/msvcrt: Add POSIX error codes to errno.h.
      msvcp110: Add _Syserror_map implementation.
      msvcp90: Don't set failbit in basic_istream::tellg.
      msi: Fix condition evaluation when comparing literal and integer.

Qian Hong (1):
      server: Map EXDEV to STATUS_NOT_SAME_DEVICE.

Sebastian Lackner (2):
      shell32: Create Microsoft\Windows\Themes directory during prefix creation.
      kernel32: Fill stack with meaningful values in call_process_entry mis-align workaround.

Vincent Povirk (3):
      mscoree: Use upgrade code to find installed Wine Mono version.
      gdi32: Check for truncated EMF files.
      gdi32: Check that emf records are within the file.

Zebediah Figura (9):
      winedbg: Add support for starting on a user-supplied port.
      msi: Disable WoW redirection when installing a 64-bit package.
      devenum/tests: Test all registered categories.
      devenum: Check for null pointer in IMoniker_BindToObject().
      jscript: Avoid crash when calling stringify() with no arguments.
      advapi32: Correctly translate SERVICE_REQUIRED_PRIVILEGES_INFO to RPC.
      vbscript: Add stub IActiveScriptDebug interface.
      devenum: Merge factory.c into devenum_main.c.
      devenum: Use separate factories for CLSID_SystemDeviceEnum and CLSID_CDeviceMoniker.

Zhiyi Zhang (1):
      gdiplus: Fix a memory leak.

--
Michael Stefaniuc
mstefani@winehq.org
